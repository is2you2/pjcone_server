"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[526],{526:(ae,T,b)=>{b.r(T),b.d(T,{PostViewerPageModule:()=>ie});var O=b(177),L=b(4341),I=b(5374),R=b(9858),w=b(467),U=b(8326),F=b(222),t=b(3953),E=b(3656),G=b(4234),B=b(755),N=b(4237),M=b(482),X=b(9900);const H=["QuickPostView"];function W(s,p){1&s&&(t.j41(0,"div",13)(1,"div",14),t.EFF(2,"A"),t.k0s()())}function J(s,p){if(1&s){const c=t.RV6();t.j41(0,"ion-icon",15),t.bIt("click",function(){t.eBV(c);const o=t.XpG();return t.Njj(o.ChangeToAnother(-1))}),t.k0s()}}function Q(s,p){if(1&s&&(t.j41(0,"ion-label",16),t.EFF(1),t.k0s()),2&s){const c=t.XpG();t.R7$(),t.JRh(c.CurrentIndex+" / "+c.nakama.posts.length)}}function z(s,p){1&s&&(t.j41(0,"div",13)(1,"div",17),t.EFF(2,"D"),t.k0s()())}function Y(s,p){if(1&s){const c=t.RV6();t.j41(0,"ion-icon",18),t.bIt("click",function(){t.eBV(c);const o=t.XpG();return t.Njj(o.ChangeToAnother(1))}),t.k0s()}}function K(s,p){if(1&s&&t.nrm(0,"img",19),2&s){const c=t.XpG();t.Y8G("src",c.PostInfo.mainImage.MainThumbnail,t.B4B)}}function Z(s,p){if(1&s){const c=t.RV6();t.j41(0,"img",25),t.bIt("click",function(){t.eBV(c);const o=t.XpG(2);return t.Njj(o.global.WriteValueToClipboard("text/plain",o.ResultSharedAddress))}),t.k0s()}if(2&s){const c=t.XpG(2);t.Y8G("src",c.QRCodeSRC,t.B4B)}}function q(s,p){if(1&s){const c=t.RV6();t.j41(0,"div",20)(1,"div",21),t.DNE(2,Z,1,1,"img",22),t.j41(3,"ion-item",23),t.bIt("click",function(){t.eBV(c);const o=t.XpG();return t.Njj(o.global.WriteValueToClipboard("text/plain",o.ResultSharedAddress))}),t.j41(4,"ion-label",24),t.EFF(5),t.k0s()()()()}if(2&s){const c=t.XpG();t.R7$(2),t.Y8G("ngIf",c.QRCodeSRC),t.R7$(3),t.JRh(c.ResultSharedAddress)}}function ee(s,p){if(1&s){const c=t.RV6();t.j41(0,"ion-footer")(1,"table",26)(2,"tr")(3,"td")(4,"ion-button",27),t.bIt("click",function(){t.eBV(c);const o=t.XpG();return t.Njj(o.EditPost())}),t.EFF(5),t.k0s()(),t.j41(6,"td")(7,"ion-button",28),t.bIt("click",function(){t.eBV(c);const o=t.XpG();return t.Njj(o.RemovePost())}),t.EFF(8),t.k0s()()()()()}if(2&s){const c=t.XpG();t.R7$(5),t.SpI(" ",c.lang.text.AddPost.EditTitle," "),t.R7$(3),t.SpI(" ",c.lang.text.PostViewer.RemovePost," ")}}const te=[{path:"",component:(()=>{var s;class p{constructor(e,o,h,k,d,P,v,g,u){this.navCtrl=e,this.lang=o,this.indexed=h,this.nakama=k,this.alertCtrl=d,this.global=P,this.p5toast=v,this.route=g,this.router=u,this.PostInfo={},this.isOwner=!1,this.HavePosts=!1,this.CurrentIndex=1,this.WaitingLoaded=!1,this.BackButtonPressed=!1,this.blenderViewers=[],this.FileURLs=[],this.PlayableElements=[],this.IsFocusOnHere=!0,this.ContentChanging=!1}ngOnInit(){this.cont=new AbortController,this.route.queryParams.subscribe(e=>{try{const o=this.router.getCurrentNavigation().extras.state;this.PostInfo=o.data,this.CurrentIndex=o.index,this.initialize()}catch{}})}WaitingCurrent(){var e=this;return(0,w.A)(function*(){for(;!e.WaitingLoaded;)yield new Promise(o=>setTimeout(o,0))})()}ionViewWillEnter(){this.WaitingLoaded=!0,this.global.StoreShortCutAct("post-viewer"),this.global.p5KeyShortCut.Escape=()=>{this.navCtrl.pop()},this.IsFocusOnHere=!0}ChangeContentWithKeyInput(){var e=this;if(this.p5canvas){this.p5canvas.keyPressed=function(){var d=(0,w.A)(function*(P){if(e.IsFocusOnHere)switch(P.code){case"KeyA":case"ArrowLeft":e.ChangeToAnother(-1);break;case"KeyD":case"ArrowRight":e.ChangeToAnother(1);break;case"KeyQ":let v=[];for(let g=0,u=e.PostInfo.attachments.length;g<u;g++)v.push({content:JSON.parse(JSON.stringify(e.PostInfo.attachments[g]))});if(!v.length)return;e.global.PageDismissAct["post-viewer-image-view"]=function(){var g=(0,w.A)(function*(u){yield e.WaitingCurrent(),u.data&&u.data.share&&e.navCtrl.pop(),delete e.global.PageDismissAct["post-viewer-image-view"]});return function(u){return g.apply(this,arguments)}}(),e.global.ActLikeModal("ionic-viewer",{info:{content:e.PostInfo.attachments[0]},path:e.PostInfo.attachments[0].path,relevance:v,noEdit:!0,dismiss:"post-viewer-image-view"})}});return function(P){return d.apply(this,arguments)}}();let o=this.p5canvas.createVector(),h={};this.p5canvas.touchStarted=d=>{if(this.IsFocusOnHere&&"changedTouches"in d){for(let v=0,g=d.changedTouches.length;v<g;v++)h[d.changedTouches[v].identifier]=this.p5canvas.createVector(d.changedTouches[v].clientX,d.changedTouches[v].clientY);1===Object.keys(h).length&&(o=h[d.changedTouches[0].identifier].copy())}};const k=100;this.p5canvas.touchEnded=d=>{if(this.IsFocusOnHere&&"changedTouches"in d){let P;for(let g=0,u=d.changedTouches.length;g<u;g++)P=this.p5canvas.createVector(d.changedTouches[g].clientX,d.changedTouches[g].clientY),delete h[d.changedTouches[g].identifier];0===Object.keys(h).length&&(P.sub(o),P.x>k?this.ChangeToAnother(-1):P.x<-k&&this.ChangeToAnother(1))}}}}initialize(){if(this.PostInfo.mainImage)try{let e=this.PostInfo.mainImage.url;e||(e=URL.createObjectURL(this.PostInfo.mainImage.blob),setTimeout(()=>{URL.revokeObjectURL(e)},100)),this.PostInfo.mainImage.MainThumbnail=e}catch{}this.create_content();try{this.isOwner="me"==this.PostInfo.creator_id||this.PostInfo.creator_id==this.nakama.servers[this.PostInfo.server.isOfficial][this.PostInfo.server.target].session.user_id}catch{this.isOwner=!1}this.HavePosts=this.nakama.posts.length>1&&this.CurrentIndex>=0,this.ChangeContentWithKeyInput()}ChangeToAnother(e){if(this.ContentChanging)return;this.ContentChanging=!0;let o=this.CurrentIndex+e;o<=0||o>this.nakama.posts.length?this.ContentChanging=!1:(this.ScrollDiv||(this.ScrollDiv=document.getElementById("ScrollPost")),this.ScrollDiv.scrollTo({top:0}),this.p5canvas&&this.p5canvas.remove(),this.CurrentIndex=o,this.PostInfo=this.nakama.posts[this.CurrentIndex-1],this.initialize())}create_content(){var e=this;let o=document.getElementById("PostContent");this.p5canvas=new U(h=>{h.setup=(0,w.A)(function*(){h.noCanvas();let d=h.createDiv(`${e.PostInfo.OutSource?'<ion-icon id="title_link" style="cursor: pointer;" slot="start" name="link-outline"></ion-icon> ':""}${e.PostInfo.title}`);e.PostInfo.OutSource&&(document.getElementById("title_link").onclick=(0,w.A)(function*(){e.ResultSharedAddress="",e.ResultSharedAddress=`${yield e.global.GetHeaderAddress(void 0,!0)}?postViewer=${e.PostInfo.OutSource}`,e.QRCodeSRC=e.global.readasQRCodeFromString(e.ResultSharedAddress),e.QuickPostView.onDidDismiss().then(()=>{e.global.RestoreShortCutAct("quick-post-view")}),e.global.StoreShortCutAct("quick-post-view"),e.QuickPostView.present()})),d.style("font-size","32px"),d.style("font-weight","bold"),d.parent(o);let g,P=h.createDiv();P.style("color","#888"),h.createDiv(`${e.lang.text.PostViewer.CreateTime}: ${new Date(e.PostInfo.create_time).toLocaleString()}`).parent(P),e.PostInfo.create_time!=e.PostInfo.modify_time&&h.createDiv(`${e.lang.text.PostViewer.ModifyTime}: ${new Date(e.PostInfo.modify_time).toLocaleString()}`).parent(P),P.parent(o);try{g=e.nakama.usernameOverride[e.PostInfo.server.isOfficial][e.PostInfo.server.target][e.PostInfo.creator_id]||e.PostInfo.creator_name}catch{g=e.PostInfo.creator_name}let u=h.createSpan(g);if(u.style("color",`#${e.PostInfo.UserColor}`),u.style("font-weight","bold"),u.style("font-size","17px"),u.style("cursor","pointer"),u.elt.onclick=()=>{if("me"==e.PostInfo.creator_id)e.nakama.open_profile_page();else try{let f=e.PostInfo.server.isOfficial,x=e.PostInfo.server.target,C=e.PostInfo.creator_id;C==e.nakama.servers[f][x].session.user_id?e.nakama.open_profile_page({isOfficial:f,target:x}):e.nakama.open_others_profile({info:{user:e.nakama.load_other_user(C,f,x)},group:{server:{isOfficial:f,target:x}}})}catch(f){e.p5toast.show({text:`${e.lang.text.PostViewer.CannotOpenProfile}: ${f}`})}},u.parent(o),e.PostInfo.content){let f=(yield F.xI(e.PostInfo.content)).split("\n"),x=[];for(let l=0,_=f.length;l<_;l++){let S=!1,ne=f[l].length-1,i=0;try{let n=f[l].indexOf("}</p>");i=Number(f[l].substring(4,n)),S=0==f[l].indexOf("<p>{")&&f[l].indexOf("}</p>")==ne-4&&!isNaN(i)}catch{}if(S){if(e.PostInfo.server.local)try{if(e.PostInfo.attachments[i].blob)throw"blob \uc900\ube44\ub418\uc5b4\uc788\uc74c";let n=yield e.indexed.loadBlobFromUserPath(e.PostInfo.attachments[i].path,e.PostInfo.attachments[i].type);e.PostInfo.attachments[i].blob=n}catch{}else try{if(e.PostInfo.attachments[i].blob)throw"blob \uc900\ube44\ub418\uc5b4\uc788\uc74c";e.PostInfo.attachments[i].alt_path=`servers/${e.PostInfo.server.isOfficial}/${e.PostInfo.server.target}/posts/${e.PostInfo.creator_id}/${e.PostInfo.id}/[${l}]${e.PostInfo.attachments[l].filename}`;let n=yield e.nakama.sync_load_file(e.PostInfo.attachments[i],e.PostInfo.server.isOfficial,e.PostInfo.server.target,"server_post",e.PostInfo.creator_id,`${e.PostInfo.id}_attach_${i}`,!1);e.PostInfo.attachments[i].blob=n.value}catch{}switch(e.PostInfo.attachments[i].viewer){case"image":{let n=e.PostInfo.attachments[i].url;if(!n)try{n=URL.createObjectURL(e.PostInfo.attachments[i].blob),setTimeout(()=>{URL.revokeObjectURL(n)},100)}catch(m){console.log("\uac8c\uc2dc\ubb3c image \ucca8\ubd80\ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",m)}let a=h.createImg(n,`${i}`);a.style("cursor","pointer"),a.elt.onclick=()=>{let m=[];for(let r of e.PostInfo.attachments)m.push({content:JSON.parse(JSON.stringify(r))});e.global.PageDismissAct["post-viewer-image-view"]=function(){var r=(0,w.A)(function*(y){yield e.WaitingCurrent(),y.data&&y.data.share&&e.navCtrl.pop(),delete e.global.PageDismissAct["post-viewer-image-view"]});return function(y){return r.apply(this,arguments)}}(),e.global.ActLikeModal("ionic-viewer",{info:{content:e.PostInfo.attachments[i]},path:e.PostInfo.attachments[i].path,relevance:m,noEdit:!0,dismiss:"post-viewer-image-view"})},f[l]=a}break;case"audio":{let n=e.PostInfo.attachments[i].url;if(!n)try{n=URL.createObjectURL(e.PostInfo.attachments[i].blob),e.FileURLs.push(n)}catch(m){console.log("\uac8c\uc2dc\ubb3c audio \ucca8\ubd80\ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",m)}let a=h.createAudio([n]);a.showControls(),a.elt.onplay=()=>{for(let m=0,r=e.PlayableElements.length;m<r;m++)try{m!=i&&e.PlayableElements[m].pause()}catch{}},f[l]=a,e.PlayableElements[i]=a.elt}break;case"video":{let n=e.PostInfo.attachments[i].url;if(!n)try{n=URL.createObjectURL(e.PostInfo.attachments[i].blob),e.FileURLs.push(n)}catch(m){console.log("\uac8c\uc2dc\ubb3c video \ucca8\ubd80\ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",m)}let a=h.createVideo([n]);a.style("width","100%"),a.style("height","auto"),a.showControls(),f[l]=a,e.PlayableElements[i]=a.elt}break;case"godot":{let n=`PostViewer_godot_pck_${i}`,a=h.createDiv();a.id(n),a.style("width","100%"),a.style("height","432px"),f[l]=a,setTimeout((0,w.A)(function*(){let m=!1;if(e.indexed.godotDB)try{yield e.indexed.GetGodotIndexedDB(),yield e.indexed.saveBlobToUserPath(e.PostInfo.attachments[i].blob,`godot/app_userdata/Client/tmp_files/duplicate/${e.PostInfo.attachments[i].filename}`,void 0,e.indexed.godotDB),m=!0}catch(r){console.log("\ub0b4\ubd80 \ud30c\uc77c \uc5c6\uc74c: ",r)}if(yield e.global.CreateGodotIFrame(n,{path:`tmp_files/duplicate/${e.PostInfo.attachments[i].filename}`,url:e.PostInfo.attachments[i].url,quit_ionic:()=>{if(m)try{k(a,i),a.elt.onclick=()=>{let r=[];for(let y of e.PostInfo.attachments)r.push({content:y});e.global.PageDismissAct["post-viewer-file-view"]=()=>{delete e.global.PageDismissAct["post-viewer-file-view"]},e.global.ActLikeModal("ionic-viewer",{info:{content:JSON.parse(JSON.stringify(e.PostInfo.attachments[i]))},path:e.PostInfo.attachments[i].path,relevance:r,noEdit:!0,dismiss:"post-viewer-file-view"})}}catch(r){console.log("\ud504\ub808\uc784 \uc0ad\uc81c \ud589\ub3d9\uc2e4\ud328: ",r)}}},"start_load_pck"),!m){try{let r=yield e.indexed.loadBlobFromUserPath(e.PostInfo.attachments[i].path,"",void 0,e.indexed.ionicDB);yield e.indexed.GetGodotIndexedDB(),yield e.indexed.saveBlobToUserPath(r,`godot/app_userdata/Client/tmp_files/duplicate/${e.PostInfo.attachments[i].filename}`,void 0,e.indexed.godotDB)}catch{}yield e.global.CreateGodotIFrame(n,{path:`tmp_files/duplicate/${e.PostInfo.attachments[i].filename}`,url:e.PostInfo.attachments[i].url,quit_ionic:()=>{try{k(a,i),a.elt.onclick=()=>{let r=[];for(let y of e.PostInfo.attachments)r.push({content:y});e.global.PageDismissAct["post-viewer-file-view"]=()=>{delete e.global.PageDismissAct["post-viewer-file-view"]},e.global.ActLikeModal("ionic-viewer",{info:{content:JSON.parse(JSON.stringify(e.PostInfo.attachments[i]))},path:e.PostInfo.attachments[i].path,relevance:r,noEdit:!0,dismiss:"post-viewer-file-view"})}}catch(r){console.log("\ud504\ub808\uc784 \uc0ad\uc81c \ud589\ub3d9\uc2e4\ud328: ",r)}}},"start_load_pck")}e.PostInfo.attachments[i].url?e.global.godot_window.download_url():e.global.godot_window.start_load_pck()}),100)}break;case"blender":{let n=h.createDiv();n.style("position","relative"),n.style("width","100%"),n.style("height","432px"),n.elt.onwheel=()=>!1,n.elt.oncontextmenu=()=>!1,f[l]=n;let a=e.global.load_blender_file(n.elt,e.PostInfo.attachments[i],()=>{},()=>{},e.cont);e.blenderViewers.push(a)}break;case"code":case"text":if("text/html"==e.PostInfo.attachments[i].type)try{if(!e.PostInfo.attachments[i].blob||!e.PostInfo.attachments[i].blob.size){if(e.PostInfo.attachments[i].url){let r=yield fetch(e.PostInfo.attachments[i].url);if(r.ok){let y=yield r.blob();e.PostInfo.attachments[i].alt_path=`servers/${e.PostInfo.server.isOfficial}/${e.PostInfo.server.target}/posts/${e.PostInfo.creator_id}/${e.PostInfo.id}/[${i}]${e.PostInfo.attachments[i].filename}`,yield e.indexed.saveBlobToUserPath(y,e.PostInfo.attachments[i].alt_path)}}let m=yield e.indexed.loadBlobFromUserPath(e.PostInfo.attachments[i].alt_path||e.PostInfo.attachments[i].path,e.PostInfo.attachments[i].type);e.PostInfo.attachments[i].blob=m}let n=URL.createObjectURL(e.PostInfo.attachments[i].blob);e.FileURLs.push(n);let a=h.createElement("iframe");a.style("width","100%"),a.style("border","0"),a.style("height","432px"),a.attribute("src",n),f[l]=a;break}catch(n){console.log("HTML \ud30c\uc77c \uc77d\uae30 \uc2e4\ud328: ",n)}default:{let n=h.createDiv();n.parent(o),k(n,i),n.elt.onclick=()=>{let a=[];for(let m of e.PostInfo.attachments)a.push({content:m});e.global.PageDismissAct["post-viewer-file-view"]=()=>{delete e.global.PageDismissAct["post-viewer-file-view"]},e.global.ActLikeModal("ionic-viewer",{info:{content:JSON.parse(JSON.stringify(e.PostInfo.attachments[i]))},path:e.PostInfo.attachments[i].path,relevance:a,noEdit:!0,dismiss:"post-viewer-file-view"})},f[l]=n}}}else try{let n=e.global.HTMLDecode(f[l].replace("<p>","").replace("</p>","")),a=JSON.parse(n),r=h.createDiv(`[${a.i}] ${e.PostInfo.attachments[a.i].filename} (${a.t})`);r.style("background-color","#8888"),r.style("width","fit-content"),r.style("height","fit-content"),r.style("border-radius","16px"),r.style("padding","8px 16px"),r.style("margin","8px 0px"),r.style("cursor","pointer"),f[l]=r,x.push(()=>{let y=e.PlayableElements[a.i],j=a.t.split(":"),$=0,D=1;for(let V=j.length-1;V>=0;V--){let se=Number(j.pop());$+=se*D,D*=60}r.elt.onclick=()=>{try{y.currentTime=$,y.play()}catch{}}})}catch{}}let C=[],A=()=>{if(C.length){let l=C.join("\n"),_=h.createDiv();_.style("width","100%"),_.elt.innerHTML=l,_.parent(o),C.length=0}};for(let l=0,_=f.length;l<_;l++)"string"==typeof f[l]?C.push(f[l]):(A(),f[l].parent(o));A();for(let l=0,_=x.length;l<_;l++)x[l]();for(let l of e.blenderViewers)l.windowResized()}e.ContentChanging=!1});let k=(d,P)=>{d.style("width","160px"),d.style("height","112px"),d.style("overflow","hidden"),d.style("background-color","grey"),d.style("margin-top","4px"),d.style("border-radius","8px"),d.style("cursor","pointer");let v=h.createP(this.PostInfo.attachments[P].filename);v.style("margin","0px 4px"),v.style("text-align","start"),v.parent(d);let g=h.createDiv();g.style("background-color","white"),g.style("margin-top","2px"),g.style("position","relative"),g.style("width","100%"),g.style("height","2px"),g.parent(d);let u=h.createSpan(this.lang.text.PostViewer.OpenFromViewer);u.style("margin","2px 4px 0px 4px"),u.style("text-align","start"),u.style("display","grid"),u.parent(d)}})}EditPost(){this.nakama.EditPost(this.PostInfo),this.navCtrl.pop()}ionViewWillLeave(){this.WaitingLoaded=!1,delete this.global.p5KeyShortCut.Escape,this.global.RestoreShortCutAct("post-viewer"),this.IsFocusOnHere=!1}RemovePost(){var o,e=this;this.alertCtrl.create({header:this.lang.text.PostViewer.RemovePost,message:this.lang.text.ChatRoom.CannotUndone,buttons:[{text:this.lang.text.ChatRoom.Delete,cssClass:"redfont",handler:(o=(0,w.A)(function*(){yield e.nakama.RemovePost(e.PostInfo),e.navCtrl.pop()}),function(){return o.apply(this,arguments)})}]}).then(o=>o.present())}ngOnDestroy(){this.route.queryParams.unsubscribe(),this.cont.abort();for(let e=0,o=this.FileURLs.length;e<o;e++)URL.revokeObjectURL(this.FileURLs[e]);for(let e=0,o=this.blenderViewers.length;e<o;e++)this.blenderViewers[e].remove();this.p5canvas&&this.p5canvas.remove()}}return(s=p).\u0275fac=function(e){return new(e||s)(t.rXU(E.q9),t.rXU(G.y),t.rXU(B.n),t.rXU(N.X),t.rXU(I.hG),t.rXU(M.z3),t.rXU(X.G),t.rXU(R.nX),t.rXU(R.Ix))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-post-viewer"]],viewQuery:function(e,o){if(1&e&&t.GBs(H,5),2&e){let h;t.mGM(h=t.lsd())&&(o.QuickPostView=h.first)}},decls:19,vars:8,consts:[["QuickPostView",""],[1,"ion-no-border"],["slot","start"],["defaultHref","portal/community"],["style","position: relative;","slot","end",4,"ngIf"],["class","relevance_change","style","padding-right: 4px;","slot","end","name","arrow-back-circle-outline",3,"click",4,"ngIf"],["slot","end",4,"ngIf"],["class","relevance_change","style","padding-right: 16px; padding-left: 4px;","slot","end","name","arrow-forward-circle-outline",3,"click",4,"ngIf"],["id","ScrollPost"],["style","width: 100%; height: auto;","alt","MainImage",3,"src",4,"ngIf"],["id","PostContent",2,"padding","16px","height","100%"],[1,"transparent-modal"],[4,"ngIf"],["slot","end",2,"position","relative"],[1,"shortcut_hint","shortcut_change_viewer",2,"right","-4px"],["slot","end","name","arrow-back-circle-outline",1,"relevance_change",2,"padding-right","4px",3,"click"],["slot","end"],[1,"shortcut_hint","shortcut_change_viewer"],["slot","end","name","arrow-forward-circle-outline",1,"relevance_change",2,"padding-right","16px","padding-left","4px",3,"click"],["alt","MainImage",2,"width","100%","height","auto",3,"src"],[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","min-height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"],["style","width: 100%; height: auto; cursor: copy; margin-bottom: 8px;","alt","QuickPostViewLink",3,"src","click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["alt","QuickPostViewLink",2,"width","100%","height","auto","cursor","copy","margin-bottom","8px",3,"click","src"],[2,"width","100%","background-color","black"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(e,o){1&e&&(t.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s(),t.DNE(6,W,3,0,"div",4)(7,J,1,0,"ion-icon",5)(8,Q,2,1,"ion-label",6)(9,z,3,0,"div",4)(10,Y,1,0,"ion-icon",7),t.k0s()(),t.j41(11,"ion-content")(12,"div",8),t.DNE(13,K,1,1,"img",9),t.nrm(14,"div",10),t.k0s(),t.j41(15,"ion-modal",11,0),t.DNE(17,q,6,2,"ng-template"),t.k0s()(),t.DNE(18,ee,9,2,"ion-footer",12)),2&e&&(t.R7$(3),t.JRh(o.lang.text.PostViewer.Title),t.R7$(3),t.Y8G("ngIf",o.global.ShowHint&&o.HavePosts),t.R7$(),t.Y8G("ngIf",o.HavePosts),t.R7$(),t.Y8G("ngIf",o.HavePosts),t.R7$(),t.Y8G("ngIf",o.global.ShowHint&&o.HavePosts),t.R7$(),t.Y8G("ngIf",o.HavePosts),t.R7$(3),t.Y8G("ngIf",o.PostInfo.mainImage&&o.PostInfo.mainImage.MainThumbnail),t.R7$(5),t.Y8G("ngIf",o.isOwner&&o.CurrentIndex>=0))},dependencies:[O.bT,I.Jm,I.QW,I.W9,I.M0,I.eU,I.iq,I.uz,I.he,I.BC,I.ai,I.Sb,I.el]}),p})()}];let oe=(()=>{var s;class p{}return(s=p).\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[R.iI.forChild(te),R.iI]}),p})(),ie=(()=>{var s;class p{}return(s=p).\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[O.MD,L.YN,I.bv,oe]}),p})()}}]);