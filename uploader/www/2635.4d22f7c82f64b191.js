"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2635],{2635:($,c,r)=>{r.r(c),r.d(c,{NotiAlertPageModule:()=>I});var _=r(177),d=r(4341),a=r(5374),m=r(9858),h=r(467),t=r(3953),f=r(5547),u=r(4234),p=r(7100),v=r(755),N=r(4237);function R(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"1"),t.k0s())}function P(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"2"),t.k0s())}function F(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"3"),t.k0s())}function j(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"4"),t.k0s())}function A(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"5"),t.k0s())}function k(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"6"),t.k0s())}function M(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"7"),t.k0s())}function C(e,s){if(1&e&&(t.j41(0,"div",14),t.EFF(1),t.k0s()),2&e){const g=t.XpG().$implicit;t.R7$(),t.JRh(g.index)}}function y(e,s){if(1&e){const g=t.RV6();t.j41(0,"div"),t.DNE(1,C,2,1,"div",3),t.j41(2,"ion-item",16),t.bIt("ionChange",function(){const i=t.eBV(g).$implicit,o=t.XpG(2);return t.Njj(o.GetPushPubKey(i.isOfficial,i.target))}),t.j41(3,"ion-toggle",17),t.mxI("ngModelChange",function(i){const o=t.eBV(g).$implicit,n=t.XpG(2);return t.DH7(n.nakama.servers[o.isOfficial][o.target].info.webpush_tog,i)||(n.nakama.servers[o.isOfficial][o.target].info.webpush_tog=i),t.Njj(i)}),t.EFF(4),t.k0s()()()}if(2&e){const g=s.$implicit,l=t.XpG(2);t.R7$(),t.Y8G("ngIf",l.global.ShowHint&&g.index),t.R7$(2),t.R50("ngModel",l.nakama.servers[g.isOfficial][g.target].info.webpush_tog),t.R7$(),t.JRh(g.name)}}function b(e,s){if(1&e&&(t.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),t.EFF(3),t.k0s()(),t.DNE(4,y,5,3,"div",15),t.k0s()),2&e){const g=t.XpG();t.R7$(3),t.JRh(g.lang.text.NotificationSettings.set_webpush),t.R7$(),t.Y8G("ngForOf",g.servers)}}const T=[{path:"",component:(()=>{var e;class s{constructor(l,i,o,n,D,S){this.noti=l,this.lang=i,this.global=o,this.indexed=n,this.nakama=D,this.loadingCtrl=S,this.servers=[]}ngOnInit(){}ionViewWillEnter(){this.servers=this.nakama.get_all_server_info(!0)}ionViewDidEnter(){const l=["icon_mono","diychat","todo","simplechat","voidDraw","arcade"];this.global.p5KeyShortCut.Digit=i=>{l.length>i?this.toggle_silent_set(l[i]):6===i&&this.toggle_simplify()}}toggle_silent_set(l){this.noti.change_silent_settings(l)}toggle_simplify(){this.noti.settings.simplify=!this.noti.settings.simplify,this.indexed.saveTextFileToUserPath(JSON.stringify(this.noti.settings),"notification_settings.json")}ionViewWillLeave(){delete this.global.p5KeyShortCut.Digit}GetPushPubKey(l,i){var o=this;return(0,h.A)(function*(){let n=yield o.loadingCtrl.create({message:`${o.lang.text.GroupServer.WebpushPubkey}: ${o.nakama.servers[l][i].info.name}`});n.present(),o.nakama.GetPushPubKey(l,i),n.dismiss()})()}}return(e=s).\u0275fac=function(l){return new(l||e)(t.rXU(f.r),t.rXU(u.y),t.rXU(p.z3),t.rXU(v.n),t.rXU(N.X),t.rXU(a.Xi))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-noti-alert"]],decls:56,vars:25,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","portal/settings"],["class","shortcut_hint",4,"ngIf"],["button","",3,"click"],["src","assets/icon/favicon.png","alt","",1,"img_icon_size"],[1,"ignore_toggles",3,"ngModelChange","ngModel"],["src","assets/icon/diychat.png","alt","",1,"img_icon_size"],["src","assets/icon/todo.png","alt","",1,"img_icon_size"],["src","assets/icon/simplechat.png","alt","",1,"img_icon_size"],["src","assets/icon/voidDraw.png","alt","",1,"img_icon_size"],["name","extension-puzzle-outline",1,"icon_margin"],["name","notifications-circle-outline",1,"icon_margin"],[4,"ngIf"],[1,"shortcut_hint"],[4,"ngFor","ngForOf"],["button","",3,"ionChange"],[1,"ignore_toggles",2,"pointer-events","none",3,"ngModelChange","ngModel"]],template:function(l,i){1&l&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"ion-back-button",2),t.k0s()()(),t.j41(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),t.EFF(9),t.k0s()(),t.j41(10,"div"),t.DNE(11,R,2,0,"div",3),t.j41(12,"ion-item",4),t.bIt("click",function(){return i.toggle_silent_set("icon_mono")}),t.nrm(13,"img",5),t.j41(14,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.silent.icon_mono,n)||(i.noti.settings.silent.icon_mono=n),n}),t.EFF(15),t.k0s()()(),t.j41(16,"div"),t.DNE(17,P,2,0,"div",3),t.j41(18,"ion-item",4),t.bIt("click",function(){return i.toggle_silent_set("diychat")}),t.nrm(19,"img",7),t.j41(20,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.silent.diychat,n)||(i.noti.settings.silent.diychat=n),n}),t.EFF(21),t.k0s()()(),t.j41(22,"div"),t.DNE(23,F,2,0,"div",3),t.j41(24,"ion-item",4),t.bIt("click",function(){return i.toggle_silent_set("todo")}),t.nrm(25,"img",8),t.j41(26,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.silent.todo,n)||(i.noti.settings.silent.todo=n),n}),t.EFF(27),t.k0s()()(),t.j41(28,"div"),t.DNE(29,j,2,0,"div",3),t.j41(30,"ion-item",4),t.bIt("click",function(){return i.toggle_silent_set("simplechat")}),t.nrm(31,"img",9),t.j41(32,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.silent.simplechat,n)||(i.noti.settings.silent.simplechat=n),n}),t.EFF(33),t.k0s()()(),t.j41(34,"div"),t.DNE(35,A,2,0,"div",3),t.j41(36,"ion-item",4),t.bIt("click",function(){return i.toggle_simplify()}),t.nrm(37,"img",10),t.j41(38,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.silent.voidDraw,n)||(i.noti.settings.silent.voidDraw=n),n}),t.EFF(39),t.k0s()()(),t.j41(40,"div"),t.DNE(41,k,2,0,"div",3),t.j41(42,"ion-item",4),t.bIt("click",function(){return i.toggle_simplify()}),t.nrm(43,"ion-icon",11),t.j41(44,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.silent.arcade,n)||(i.noti.settings.silent.arcade=n),n}),t.EFF(45),t.k0s()()(),t.j41(46,"ion-item-divider")(47,"ion-label"),t.EFF(48),t.k0s()(),t.j41(49,"div"),t.DNE(50,M,2,0,"div",3),t.j41(51,"ion-item",4),t.bIt("click",function(){return i.toggle_simplify()}),t.nrm(52,"ion-icon",12),t.j41(53,"ion-toggle",6),t.mxI("ngModelChange",function(n){return t.DH7(i.noti.settings.simplify,n)||(i.noti.settings.simplify=n),n}),t.EFF(54),t.k0s()()(),t.DNE(55,b,5,2,"div",13),t.k0s()),2&l&&(t.R7$(3),t.JRh(i.lang.text.Settings.NotificationSetting),t.R7$(6),t.JRh(i.lang.text.NotificationSettings.set_alert),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.silent.icon_mono),t.R7$(),t.SpI(" ",i.lang.text.NotificationSettings.icon_mono," "),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.silent.diychat),t.R7$(),t.JRh(i.lang.text.NotificationSettings.diychat),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.silent.todo),t.R7$(),t.JRh(i.lang.text.Main.Title),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.silent.simplechat),t.R7$(),t.JRh(i.lang.text.NotificationSettings.simplechat),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.silent.voidDraw),t.R7$(),t.JRh(i.lang.text.ChatRoom.voidDraw),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.silent.arcade),t.R7$(),t.JRh(i.lang.text.Arcade.Title),t.R7$(3),t.JRh(i.lang.text.NotificationSettings.set_alert_simple),t.R7$(2),t.Y8G("ngIf",i.global.ShowHint),t.R7$(3),t.R50("ngModel",i.noti.settings.simplify),t.R7$(),t.JRh(i.lang.text.NotificationSettings.set_alert_self),t.R7$(),t.Y8G("ngIf",i.servers.length))},dependencies:[_.Sq,_.bT,d.BC,d.vS,a.QW,a.W9,a.eU,a.iq,a.uz,a.Dg,a.he,a.BC,a.BY,a.ai,a.hB,a.el],styles:[".img_icon_size[_ngcontent-%COMP%]{width:21px;height:21px;margin-right:16px}.ignore_toggles[_ngcontent-%COMP%]{pointer-events:none}"]}),s})()}];let E=(()=>{var e;class s{}return(e=s).\u0275fac=function(l){return new(l||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[m.iI.forChild(T),m.iI]}),s})(),I=(()=>{var e;class s{}return(e=s).\u0275fac=function(l){return new(l||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[_.MD,d.YN,a.bv,E]}),s})()}}]);