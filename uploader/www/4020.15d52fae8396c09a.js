"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4020],{4020:(Z,J,y)=>{y.d(J,{j:()=>z});var p=y(467),D=y(8326),j=y(5402),x=y(482),G=y(92),O=y(3953),V=y(9900),K=y(755),F=y(4234),Y=y(4237);!function H(){("http:"!=window.location.protocol||0==window.location.host.indexOf("localhost"))&&y.e(925).then(y.t.bind(y,925,23))}();let z=(()=>{var b;class L{constructor(t,n,e,i,o){this.p5toast=t,this.indexed=n,this.lang=e,this.nakama=i,this.global=o,this.FocusedRemoteId=0,this.PeerGroups={},this.Peers={},this.OnUse=!1,this.StatusText="",this.nakama.WebRTCService=this,this.global.WebRTCService=this}initialize(t,n,e){var i=this;return(0,p.A)(function*(){if("data"!=t&&("http:"==window.location.protocol&&0!=window.location.host.indexOf("localhost")||!(yield j.R.requestAudioRecordingPermission()).value))throw i.lang.text.WebRTCDevManager.SecurityError;if(i.Peers[n]||(i.Peers[n]={}),i.Peers[n].TypeIn=t,i.Peers[n].IceCandidates=[],i.Peers[n].ReceivedOfferPart="",i.Peers[n].ReceivedAnswerPart="",e&&(i.Peers[n].groupId=e,i.PeerGroups[e]||(i.PeerGroups[e]=[]),i.PeerGroups[e].push(n),i.FocusedRemoteId=i.PeerGroups[e].length-1),"data"!=t){i.createP5_panel(n,e);try{i.localMedia||(i.localMedia=document.createElement(t),i.localMedia.id="webrtc_video",i.localMedia.style.width="0px",i.localMedia.style.height="0px",i.localMedia.autoplay=!0,"video"==t&&(i.localMedia.playsInline=!0),i.localMedia.muted=!0,document.body.appendChild(i.localMedia)),i.Peers[n].remoteMedia=document.createElement(t),i.Peers[n].remoteMedia.id=n,i.Peers[n].remoteMedia.style.width="0px",i.Peers[n].remoteMedia.style.height="0px",i.Peers[n].remoteMedia.autoplay=!0,"video"==t&&(i.Peers[n].remoteMedia.playsInline=!0),document.body.appendChild(i.Peers[n].remoteMedia);const o=yield i.getMediaConst(t);if(!i.localStream){try{i.localStream=yield navigator.mediaDevices.getUserMedia(o)}catch{"DesktopPWA"==G.aH&&(i.localStream=yield navigator.mediaDevices.getDisplayMedia())}i.localMedia.srcObject=i.localStream}}catch(o){console.log("navigator.getUserMedia error: ",o),yield i.close_webrtc(n),i.p5toast.show({text:`${i.lang.text.WebRTCDevManager.InitErr}: ${o}`})}}yield i.createCall(n)})()}getMediaConst(t){var n=this;return(0,p.A)(function*(){var e,i;let s,r,o=yield n.getDeviceList(),u=Number(null!==(e=localStorage.getItem("VideoInputDev"))&&void 0!==e?e:NaN),P=Number(null!==(i=localStorage.getItem("AudioInputDev"))&&void 0!==i?i:NaN);for(let h=0,f=o.length,E=0,_=0;h<f&&(!s||!r);h++)!s&&"audioinput"==o[h].kind&&(Number.isNaN(P)?(s=o[h].deviceId,localStorage.setItem("AudioInputDev",`${_}`)):_==P&&(s=o[h].deviceId),_++),!r&&"videoinput"==o[h].kind&&(Number.isNaN(u)?(r=o[h].deviceId,localStorage.setItem("AudioInputDev",`${E}`)):E==u&&(r=o[h].deviceId),E++);let d={};return"video"==t?(d.video=!0,r&&(d.video={deviceId:r})):d.video=!1,d.audio=!0,s&&(d.audio={deviceId:s}),d})()}WEBRTC_INIT_REQ_SIGNAL(t,n,e,i,o=!1){var s=this;return(0,p.A)(function*(){s.Peers[n]||(yield s.initialize(e,n,i));try{s.Peers[n].LocalOffer||(yield s.CreateOffer(n));const r=JSON.stringify(s.Peers[n].LocalOffer);s.Peers[n].LocalOfferPartArray=r.match(/(.{1,64})/g),o||s.WEBRTC_REPLY_INIT_SIGNAL_PART(t,n,e,i)}catch(r){console.warn("\ucd5c\ucd08 \uc5f0\uacb0\uc30d \uc9c1\ud6c4 \uad6c\uc131 \uc2e4\ud328: ",r)}})()}WEBRTC_REPLY_INIT_SIGNAL_PART(t,n,e,i){var o=this;return(0,p.A)(function*(){if(o.Peers[n].LocalOfferPartArray||(yield o.WEBRTC_INIT_REQ_SIGNAL(t,n,e,i,!0)),t.client&&t.client.readyState==t.client.OPEN){const s=o.Peers[n].LocalOfferPartArray.shift();t.client.send(s?JSON.stringify({type:"socket_react",channel:t.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:s,send_to:n}):JSON.stringify({type:"socket_react",channel:t.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:"EOL",send_to:n}))}})()}WEBRTC_RECEIVE_ANSWER_PART(t,n){if(t.client&&t.client.readyState==t.client.OPEN){const e=this.Peers[n].LocalAnswerPartArray.shift();e?t.client.send(JSON.stringify({type:"socket_react",channel:t.channel,act:"WEBRTC_RECEIVE_ANSWER",data_str:e,send_to:n})):(t.client.send(JSON.stringify({type:"socket_react",channel:t.channel,act:"WEBRTC_RECEIVE_ANSWER",data_str:"EOL",send_to:n})),this.Peers[n].JoinInited=!0)}}WEBRTC_REPLY_INIT_SIGNAL(t,n,e){"EOL"==t?(this.createRemoteOfferFromAnswer(JSON.parse(this.Peers[e].ReceivedOfferPart),e),delete this.Peers[e].ReceivedOfferPart,this.Peers[e].JoinInited=!0):(this.Peers[e].ReceivedOfferPart=(this.Peers[e].ReceivedOfferPart||"")+t,n.client&&n.client.readyState==n.client.OPEN&&n.client.send(JSON.stringify({type:"socket_react",channel:n.channel,act:"WEBRTC_REPLY_INIT_SIGNAL_PART",send_to:e})))}WEBRTC_RECEIVE_ANSWER(t,n,e){"EOL"==t?(this.ReceiveRemoteAnswer(JSON.parse(this.Peers[e].ReceivedAnswerPart),n,e),delete this.Peers[e].ReceivedAnswerPart):(this.Peers[e].ReceivedAnswerPart=(this.Peers[e].ReceivedAnswerPart||"")+t,n.client&&n.client.readyState==n.client.OPEN&&n.client.send(JSON.stringify({type:"socket_react",channel:n.channel,act:"WEBRTC_RECEIVE_ANSWER_PART",send_to:e})))}WEBRTC_ICE_CANDIDATES(t,n,e){this.ReceiveIceCandidate(JSON.parse(t),n,e)}createP5_panel(t,n){var e=this;this.OnUse||(this.OnUse=!0,this.p5canvas&&(clearTimeout(this.p5waitingAct),this.p5waitingAct=null,this.p5hangup=null,this.p5canvas.remove()),this.p5canvas=new D(i=>{let o,s,r,u,P,d,h,f,m,C,E=!0,_=!0,S=1;i.setup=()=>{if("http:"!=window.location.protocol||0==window.location.host.indexOf("localhost")){let l,c=()=>{this.Peers[t].JoinInited?(l.stop(.1),clearTimeout(this.p5waitingAct)):(l&&l.stop(.1),l=new D.Oscillator(380,"sine"),l.start(),l.amp(1,.15),l.amp(0,.75),this.p5waitingAct=setTimeout(()=>{c()},1200))};this.p5waitingAct=setTimeout(()=>{c()},0),this.p5hangup=()=>{l.stop(.1),clearTimeout(this.p5waitingAct),l=new D.Oscillator(380,"sine"),l.start(),l.freq(250,.35),l.amp(1,.15),l.amp(0,.25),l.amp(1,.35),l.amp(0,.45)}}i.noCanvas(),o=i.createDiv(),o.id("outterDiv"),o.style("position: absolute; left: 50%; top: 0px; z-index: 1"),o.style("transform: translateX(-50%)"),o.style("width: fit-content; height: fit-content"),o.style("padding: 8px 16px;"),o.style("display: flex; justify-content: center;"),r=i.createDiv(),r.parent(o),r.style("display: flex; justify-content: center;"),r.style("width: fit-content; height: fit-content"),r.style("border-radius: 24px"),r.style("background: var(--toast-background-color)"),r.style("padding: 6px 8px"),s=i.createDiv(),s.parent(r),s.id("webrtc_content"),s.style("display: flex; justify-content: center;"),s.style("flex-direction","column"),s.style("width: fit-content; height: fit-content"),s.style("word-break: break-all"),s.style("background: var(--toast-background-color)"),s.style("border-radius: 24px"),s.style("padding: 6px 8px"),s.style("color: "+(x.ud?"white":"black")),W(),u=i.createDiv(),u.parent(s),u.id("webrtc_content"),u.style("display: flex; justify-content: center;"),u.style("align-self","center"),u.style("width: fit-content; height: fit-content"),h=i.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-outline"></ion-icon>'),h.parent(u),h.style("padding","0px"),h.style("margin","4px"),h.style("border-radius","16px"),h.style("width","40px"),h.style("height","40px"),h.mouseClicked(()=>{const l=this.localStream.getAudioTracks();for(let c=0,g=l.length;c<g;c++)l[c].enabled=!1;f.show(),h.hide(),E=!1}),f=i.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-off-outline"></ion-icon>'),f.parent(u),f.style("background-color","grey"),f.style("padding","0px"),f.style("margin","4px"),f.style("border-radius","16px"),f.style("width","40px"),f.style("height","40px"),f.mouseClicked(()=>{const l=this.localStream.getAudioTracks();for(let c=0,g=l.length;c<g;c++)l[c].enabled=!0;h.show(),f.hide(),E=!0}),f.hide(),"video"==this.Peers[t].TypeIn&&(P=i.createButton('<ion-icon style="width: 32px; height: 32px;" name="videocam-outline"></ion-icon>'),P.parent(u),P.style("padding","0px"),P.style("margin","4px"),P.style("border-radius","16px"),P.style("width","40px"),P.style("height","40px"),P.mouseClicked(()=>{const l=this.localStream.getVideoTracks();for(let c=0,g=l.length;c<g;c++)l[c].enabled=!1;d.show(),P.hide(),_=!1}),d=i.createButton('<ion-icon style="width: 32px; height: 32px;" name="videocam-off-outline"></ion-icon>'),d.parent(u),d.style("background-color","grey"),d.style("padding","0px"),d.style("margin","4px"),d.style("border-radius","16px"),d.style("width","40px"),d.style("height","40px"),d.mouseClicked(()=>{const l=this.localStream.getVideoTracks();for(let c=0,g=l.length;c<g;c++)l[c].enabled=!0;P.show(),d.hide(),_=!0}),d.hide()),m=i.createButton('<ion-icon style="width: 32px; height: 32px;" name="settings-outline"></ion-icon>'),m.parent(u),m.style("padding","0px"),m.style("margin","4px"),m.style("border-radius","16px"),m.style("width","40px"),m.style("height","40px"),m.mouseClicked((0,p.A)(function*(){m.elt.disabled=!0;let l=yield e.getDeviceList();e.global.PageDismissAct["webrtc-manage"]=function(){var c=(0,p.A)(function*(g){m.elt.disabled=!1;try{var N;if(!Object.keys(g).length)throw"\uc7a5\uce58 \ubcc0\uacbd \uc815\ubcf4\uac00 \ube44\uc5b4\uc788\uc74c";let w={};"video"==e.Peers[t].TypeIn&&g.data.videoinput&&(w.video={deviceId:{exact:g.data.videoinput.deviceId}}),g.data.audioinput&&(w.audio={deviceId:{exact:g.data.audioinput.deviceId}}),e.localStream.getTracks().forEach(v=>v.stop()),e.localStream="video"==e.Peers[t].TypeIn&&null!==(N=g.data.videoinput)&&void 0!==N&&N.useScr?yield navigator.mediaDevices.getDisplayMedia():yield navigator.mediaDevices.getUserMedia(w);const B=e.localStream.getAudioTracks();for(let v=0,A=B.length;v<A;v++)B[v].enabled=E;const U=e.localStream.getVideoTracks();for(let v=0,A=U.length;v<A;v++)U[v].enabled=_;e.localMedia.srcObject=e.localStream;const X=e.Peers[t].PeerConnection.getSenders();for(let v of X){var M,k;if("video"==(null===(M=v.track)||void 0===M?void 0:M.kind)){const A=e.localStream.getVideoTracks()[0];v?yield v.replaceTrack(A):e.Peers[t].PeerConnection.addTrack(A,e.localStream)}if("audio"==(null===(k=v.track)||void 0===k?void 0:k.kind)){const A=e.localStream.getAudioTracks()[0];v?yield v.replaceTrack(A):e.Peers[t].PeerConnection.addTrack(A,e.localStream)}}e.CreateOffer(t)}catch(w){console.log("\ubbf8\ub514\uc5b4 \uc2a4\ud2b8\ub9bc \ubcc0\uacbd \uc624\ub958: ",w)}e.global.RestoreShortCutAct("webrtc-manage"),delete e.global.PageDismissAct["webrtc-manage"]});return function(g){return c.apply(this,arguments)}}(),e.global.StoreShortCutAct("webrtc-manage"),e.global.ActLikeModal("webrtc-manage-io-dev",{list:JSON.parse(JSON.stringify(l)),typein:e.Peers[t].TypeIn,dismiss:"webrtc-manage"})})),C=i.createButton('<ion-icon style="width: 32px; height: 32px;" name="close-circle-outline"></ion-icon>'),C.parent(u),C.style("background-color","red"),C.style("padding","0px"),C.style("margin","4px"),C.style("border-radius","16px"),C.style("width","40px"),C.style("height","40px"),C.mouseClicked((0,p.A)(function*(){var l,c;yield null===(l=e.Peers[t])||void 0===l||null===(c=l.HangUpCallBack)||void 0===c?void 0:c.call(l)}))};let R=!1;i.draw=()=>{S>0?S-=.03:S<=0&&(S=0),W(),this.OnUse||this.p5hangup&&!R&&(this.p5hangup(),o.hide(),setTimeout(()=>{this.OnUse||(clearTimeout(this.p5waitingAct),this.p5waitingAct=null,this.p5hangup=null,this.p5canvas.remove())},1e3),R=!0)};let W=()=>{let T=i.lerpColor(i.color("#"+(x.ud?"30564e88":"b9543788")),i.color("#ffd94ebb"),S).levels,l=4*S;r.style(`padding: ${l}px ${l}px`),s.style(`padding: ${i.lerp(6,2,S)}px ${i.lerp(8,3,S)}px`),r.style(`background: rgba(${T[0]}, ${T[1]}, ${T[2]}, ${T[3]/255})`)}}))}getDeviceList(){return(0,p.A)(function*(){return yield navigator.mediaDevices.enumerateDevices()})()}createCall(t){var n=this;return(0,p.A)(function*(){if(!n.Peers[t])return void n.close_webrtc(t);let e;n.Peers[t].isConnected=!0;try{let i=yield n.indexed.loadTextFromUserPath("servers/webrtc_server.json");e={},e.iceServers=JSON.parse(i)}catch{}(!e||!e.iceServers||!e.iceServers.length)&&(n.p5toast.show({text:n.lang.text.WebRTCDevManager.NoRegServer}),e=null),n.Peers[t].PeerConnection=new RTCPeerConnection(e),n.Peers[t].PeerConnection.onicecandidate=i=>n.handleConnection(i,t),n.Peers[t].PeerConnection.oniceconnectionstatechange=i=>{console.log("ICE Connection state: ",n.Peers[t].PeerConnection.iceConnectionState)},n.Peers[t].PeerConnection.onconnectionstatechange=function(){var i=(0,p.A)(function*(o){switch(o.target.connectionState){case"failed":case"disconnected":yield n.close_webrtc(t);break;case"connected":n.p5waitingAct&&clearTimeout(n.p5waitingAct);break;default:console.log("\uc5f0\uacb0 \uc0c1\ud0dc \ubcc0\uacbd\ub428: ",o.target.connectionState)}});return function(o){return i.apply(this,arguments)}}(),"data"!=n.Peers[t].TypeIn?(n.localStream.getTracks().forEach(i=>n.Peers[t].PeerConnection.addTrack(i,n.localStream)),n.Peers[t].PeerConnection.ontrack=i=>{n.Peers[t].remoteMedia.srcObject=i.streams[0]}):n.createDataChannel(void 0,t),n.Peers[t].PeerConnection.ondatachannel=i=>{n.Peers[t].dataChannel=i.channel},n.Peers[t].PeerConnection.onnegotiationneeded=function(){var i=(0,p.A)(function*(o){if(n.Peers[t].JoinInited){yield n.Peers[t].PeerConnection.createOffer({offerToReceiveVideo:!0}).then(r=>n.createdOffer(r,t)).catch(r=>n.setSessionDescriptionError(r));const s=JSON.stringify(n.Peers[t].LocalOffer);n.Peers[t].LocalOfferPartArray=s.match(/(.{1,64})/g),n.WEBRTC_REPLY_INIT_SIGNAL_PART({client:n.Peers[t].signalingChannel,channel:n.Peers[t].signalChannelId},t,n.Peers[t].TypeIn,n.Peers[t].groupId)}});return function(o){return i.apply(this,arguments)}}()})()}createDataChannel(t,n){this.Peers[n].dataChannel=this.Peers[n].PeerConnection.createDataChannel(t),this.createDataChannelListener(n)}createDataChannelListener(t){this.Peers[t].dataChannel.onopen=n=>{this.Peers[t].dataChannelOpenAct&&this.Peers[t].dataChannelOpenAct()},this.Peers[t].dataChannel.onclose=n=>{var e,i;this.Peers[t]&&(null===(e=(i=this.Peers[t]).dataChannelOnCloseAct)||void 0===e||e.call(i),this.Peers[t].dataChannelOpenAct=null,this.Peers[t].dataChannelOnMsgAct=null,this.Peers[t].dataChannelOnCloseAct=null)},this.Peers[t].dataChannel.onmessage=n=>{this.Peers[t].dataChannelOnMsgAct&&this.Peers[t].dataChannelOnMsgAct(n.data)}}CreateOffer(t){var n=this;return(0,p.A)(function*(){try{const e=yield n.Peers[t].PeerConnection.createOffer({offerToReceiveVideo:!0});n.createdOffer(e,t)}catch(e){n.setSessionDescriptionError(e)}})()}handleConnection(t,n){let e=t.candidate;e&&this.Peers[n].IceCandidates.push(new RTCIceCandidate(e))}ReceiveIceCandidate(t,n,e){var i=this;this.ReplyIceCandidate&&clearTimeout(this.ReplyIceCandidate),this.ReplyIceCandidate=setTimeout((0,p.A)(function*(){for(;null!==(o=i.Peers[e])&&void 0!==o&&null!==(o=o.IceCandidates)&&void 0!==o&&o.length;){var o;const s=i.Peers[e].IceCandidates.shift();n.client&&n.client.readyState==n.client.OPEN&&n.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_ICE_CANDIDATES",channel:n.channel,data_str:JSON.stringify(s),send_to:e})),yield new Promise(r=>setTimeout(r,i.global.WebsocketRetryTerm))}}),800),this.Peers[e].PeerConnection.addIceCandidate(t).then(()=>{console.log("Success to add new ice candidate")}).catch(o=>{console.error("failed to add ice candidate: ",o)})}createdOffer(t,n){this.Peers[n].LocalOffer=t,this.Peers[n].PeerConnection.setLocalDescription(t).then(()=>{this.setLocalDescriptionSuccess(this.Peers[n].PeerConnection)}).catch(e=>this.setSessionDescriptionError(e))}createRemoteOfferFromAnswer(t,n){this.Peers[n].PeerConnection.setRemoteDescription(t).then(()=>{this.setRemoteDescriptionSuccess(this.Peers[n].PeerConnection)}).catch(e=>this.setSessionDescriptionError(e))}CreateAnswer(t,n){this.Peers[n].PeerConnection.createAnswer().then(e=>this.createdAnswer(e,t,n)).catch(e=>this.setSessionDescriptionError(e))}setLocalDescriptionSuccess(t){this.setDescriptionSuccess(t,"setLocalDescription")}setRemoteDescriptionSuccess(t){this.setDescriptionSuccess(t,"setRemoteDescription")}createdAnswer(t,n,e){var i=this;return(0,p.A)(function*(){i.Peers[e].LocalAnswer=t,i.Peers[e].PeerConnection.setLocalDescription(t).then(()=>{i.setLocalDescriptionSuccess(i.Peers[e].PeerConnection)}).catch(s=>i.setSessionDescriptionError(s));const o=JSON.stringify(t);i.Peers[e].LocalAnswerPartArray=o.match(/(.{1,64})/g),i.WEBRTC_RECEIVE_ANSWER_PART(n,e)})()}ReceiveRemoteAnswer(t,n,e){var i=this;return(0,p.A)(function*(){for(i.Peers[e].PeerConnection.setRemoteDescription(t).then(()=>{i.setRemoteDescriptionSuccess(i.Peers[e].PeerConnection)}).catch(s=>i.setSessionDescriptionError(s));null!==(o=i.Peers[e])&&void 0!==o&&null!==(o=o.IceCandidates)&&void 0!==o&&o.length;){var o;const s=i.Peers[e].IceCandidates.shift();n.client&&n.client.readyState==n.client.OPEN&&(n.client.send(JSON.stringify({type:"socket_react",channel:n.channel,act:"WEBRTC_ICE_CANDIDATES",data_str:JSON.stringify(s),send_to:e})),yield new Promise(r=>setTimeout(r,i.global.WebsocketRetryTerm)))}})()}setSessionDescriptionError(t){console.error(`Failed to create session description: ${t}.`)}setDescriptionSuccess(t,n){console.log(`Local ${n} complete.`)}HangUpCall(t){this.Peers[t]&&(this.Peers[t].isConnected=!1,this.Peers[t].PeerConnection&&(this.Peers[t].PeerConnection.close(),this.Peers[t].PeerConnection.onicecandidate=null,this.Peers[t].PeerConnection.oniceconnectionstatechange=null,this.Peers[t].PeerConnection.onconnectionstatechange=null,this.Peers[t].PeerConnection.ontrack=null,this.Peers[t].PeerConnection.ondatachannel=null,this.Peers[t].PeerConnection.onnegotiationneeded=null),this.Peers[t].PeerConnection=null)}close_webrtc(t,n){var e=this;return(0,p.A)(function*(){var i,o;const s=n&&e.PeerGroups[n]||[t],r=n||(null===(i=e.Peers[t])||void 0===i?void 0:i.groupId),u=()=>{e.localMedia&&e.localMedia.remove(),e.localStream&&(e.localStream.getVideoTracks().forEach(a=>a.stop()),e.localStream.getAudioTracks().forEach(a=>a.stop())),e.localMedia=null,e.localStream=null};for(;s.length;){var P,d,h,f;const a=s.shift();if(e.HangUpCall(a),null!==(P=e.Peers[a])&&void 0!==P&&P.remoteMedia&&(null===(d=e.Peers[a].remoteMedia)||void 0===d||d.remove()),e.Peers[a]&&(e.Peers[a].remoteMedia=null),null!==(h=e.Peers[a])&&void 0!==h&&h.dataChannel&&(e.Peers[a].dataChannel.onopen=null,e.Peers[a].dataChannel.onclose=null,e.Peers[a].dataChannel.onmessage=null),delete e.Peers[a],r){var E,m;for(let R=(null===(_=e.PeerGroups[r])||void 0===_?void 0:_.length)-1;R>=0;R--){var _;if(e.PeerGroups[r][R]==a){e.PeerGroups[r].splice(R,1);break}}null!==(E=e.PeerGroups[r])&&void 0!==E&&E.length||(delete e.PeerGroups[r],u(),null===(m=e.p5hangup)||void 0===m||m.call(e))}else if("data"!=(null===(f=e.Peers[a])||void 0===f?void 0:f.TypeIn)){var C;u(),null===(C=e.p5hangup)||void 0===C||C.call(e)}}const S=null===(o=e.PeerGroups[r])||void 0===o?void 0:o.length;e.FocusedRemoteId=S-1,e.OnUse=!!r&&!!S})()}}return(b=L).\u0275fac=function(t){return new(t||b)(O.KVO(V.G),O.KVO(K.n),O.KVO(F.y),O.KVO(Y.X),O.KVO(x.z3))},b.\u0275prov=O.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),L})()}}]);