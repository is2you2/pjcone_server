(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(Dr,rr,_e)=>{"use strict";_e.d(rr,{E_:()=>u,F3:()=>i,I9:()=>b});var M=_e(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(T){return T.Unimplemented="UNIMPLEMENTED",T.Unavailable="UNAVAILABLE",T}(v||{});class b extends Error{constructor(N,j,Z){super(N),this.message=N,this.code=j,this.data=Z}}const m=T=>{var N,j,Z,ee,z;const te=T.CapacitorCustomPlatform||null,W=T.Capacitor||{},G=W.Plugins=W.Plugins||{},Y=T.CapacitorPlatforms,Me=(null===(N=null==Y?void 0:Y.currentPlatform)||void 0===N?void 0:N.getPlatform)||(()=>null!==te?te.name:(T=>{var N,j;return null!=T&&T.androidBridge?"android":null!==(j=null===(N=null==T?void 0:T.webkit)||void 0===N?void 0:N.messageHandlers)&&void 0!==j&&j.bridge?"ios":"web"})(T)),O=(null===(j=null==Y?void 0:Y.currentPlatform)||void 0===j?void 0:j.isNativePlatform)||(()=>"web"!==Me()),me=(null===(Z=null==Y?void 0:Y.currentPlatform)||void 0===Z?void 0:Z.isPluginAvailable)||(Fe=>{const nt=ze.get(Fe);return!!(null!=nt&&nt.platforms.has(Me())||Ue(Fe))}),Ue=(null===(ee=null==Y?void 0:Y.currentPlatform)||void 0===ee?void 0:ee.getPluginHeader)||(Fe=>{var nt;return null===(nt=W.PluginHeaders)||void 0===nt?void 0:nt.find(Ye=>Ye.name===Fe)}),ze=new Map,at=(null===(z=null==Y?void 0:Y.currentPlatform)||void 0===z?void 0:z.registerPlugin)||((Fe,nt={})=>{const Ye=ze.get(Fe);if(Ye)return console.warn(`Capacitor plugin "${Fe}" already registered. Cannot register plugins twice.`),Ye.proxy;const ot=Me(),Ze=Ue(Fe);let pt;const kt=function(){var fr=(0,M.A)(function*(){return!pt&&ot in nt?pt=pt="function"==typeof nt[ot]?yield nt[ot]():nt[ot]:null!==te&&!pt&&"web"in nt&&(pt=pt="function"==typeof nt.web?yield nt.web():nt.web),pt});return function(){return fr.apply(this,arguments)}}(),Vt=fr=>{let Ct;const ir=(...Gt)=>{const $e=kt().then(We=>{const Pe=((fr,Ct)=>{var ir,Gt;if(!Ze){if(fr)return null===(Gt=fr[Ct])||void 0===Gt?void 0:Gt.bind(fr);throw new b(`"${Fe}" plugin is not implemented on ${ot}`,v.Unimplemented)}{const $e=null==Ze?void 0:Ze.methods.find(We=>Ct===We.name);if($e)return"promise"===$e.rtype?We=>W.nativePromise(Fe,Ct.toString(),We):(We,Pe)=>W.nativeCallback(Fe,Ct.toString(),We,Pe);if(fr)return null===(ir=fr[Ct])||void 0===ir?void 0:ir.bind(fr)}})(We,fr);if(Pe){const Je=Pe(...Gt);return Ct=null==Je?void 0:Je.remove,Je}throw new b(`"${Fe}.${fr}()" is not implemented on ${ot}`,v.Unimplemented)});return"addListener"===fr&&($e.remove=(0,M.A)(function*(){return Ct()})),$e};return ir.toString=()=>`${fr.toString()}() { [capacitor code] }`,Object.defineProperty(ir,"name",{value:fr,writable:!1,configurable:!1}),ir},cr=Vt("addListener"),It=Vt("removeListener"),br=(fr,Ct)=>{const ir=cr({eventName:fr},Ct),Gt=function(){var We=(0,M.A)(function*(){const Pe=yield ir;It({eventName:fr,callbackId:Pe},Ct)});return function(){return We.apply(this,arguments)}}(),$e=new Promise(We=>ir.then(()=>We({remove:Gt})));return $e.remove=(0,M.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Gt()}),$e},Qt=new Proxy({},{get(fr,Ct){switch(Ct){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Ze?br:cr;case"removeListener":return It;default:return Vt(Ct)}}});return G[Fe]=Qt,ze.set(Fe,{name:Fe,proxy:Qt,platforms:new Set([...Object.keys(nt),...Ze?[ot]:[]])}),Qt});return W.convertFileSrc||(W.convertFileSrc=Fe=>Fe),W.getPlatform=Me,W.handleError=Fe=>T.console.error(Fe),W.isNativePlatform=O,W.isPluginAvailable=me,W.pluginMethodNoop=(Fe,nt,Ye)=>Promise.reject(`${Ye} does not have an implementation of "${nt}".`),W.registerPlugin=at,W.Exception=b,W.DEBUG=!!W.DEBUG,W.isLoggingEnabled=!!W.isLoggingEnabled,W.platform=W.getPlatform(),W.isNative=W.isNativePlatform(),W},_=(T=>T.Capacitor=m(T))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i=_.registerPlugin;class u{constructor(N){this.listeners={},this.retainedEventArguments={},this.windowListeners={},N&&(console.warn(`Capacitor WebPlugin "${N.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=N)}addListener(N,j){var Z=this;let ee=!1;this.listeners[N]||(this.listeners[N]=[],ee=!0),this.listeners[N].push(j);const te=this.windowListeners[N];te&&!te.registered&&this.addWindowListener(te),ee&&this.sendRetainedArgumentsForEvent(N);const W=function(){var Y=(0,M.A)(function*(){return Z.removeListener(N,j)});return function(){return Y.apply(this,arguments)}}();return Promise.resolve({remove:W})}removeAllListeners(){var N=this;return(0,M.A)(function*(){N.listeners={};for(const j in N.windowListeners)N.removeWindowListener(N.windowListeners[j]);N.windowListeners={}})()}notifyListeners(N,j,Z){const ee=this.listeners[N];if(ee)ee.forEach(z=>z(j));else if(Z){let z=this.retainedEventArguments[N];z||(z=[]),z.push(j),this.retainedEventArguments[N]=z}}hasListeners(N){return!!this.listeners[N].length}registerWindowListener(N,j){this.windowListeners[j]={registered:!1,windowEventName:N,pluginEventName:j,handler:Z=>{this.notifyListeners(j,Z)}}}unimplemented(N="not implemented"){return new _.Exception(N,v.Unimplemented)}unavailable(N="not available"){return new _.Exception(N,v.Unavailable)}removeListener(N,j){var Z=this;return(0,M.A)(function*(){const ee=Z.listeners[N];if(!ee)return;const z=ee.indexOf(j);Z.listeners[N].splice(z,1),Z.listeners[N].length||Z.removeWindowListener(Z.windowListeners[N])})()}addWindowListener(N){window.addEventListener(N.windowEventName,N.handler),N.registered=!0}removeWindowListener(N){N&&(window.removeEventListener(N.windowEventName,N.handler),N.registered=!1)}sendRetainedArgumentsForEvent(N){const j=this.retainedEventArguments[N];j&&(delete this.retainedEventArguments[N],j.forEach(Z=>{this.notifyListeners(N,Z)}))}}const h=T=>encodeURIComponent(T).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),g=T=>T.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends u{getCookies(){return(0,M.A)(function*(){const N=document.cookie,j={};return N.split(";").forEach(Z=>{if(Z.length<=0)return;let[ee,z]=Z.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ee=g(ee).trim(),z=g(z).trim(),j[ee]=z}),j})()}setCookie(N){return(0,M.A)(function*(){try{const j=h(N.key),Z=h(N.value),ee=`; expires=${(N.expires||"").replace("expires=","")}`,z=(N.path||"/").replace("path=",""),te=null!=N.url&&N.url.length>0?`domain=${N.url}`:"";document.cookie=`${j}=${Z||""}${ee}; path=${z}; ${te};`}catch(j){return Promise.reject(j)}})()}deleteCookie(N){return(0,M.A)(function*(){try{document.cookie=`${N.key}=; Max-Age=0`}catch(j){return Promise.reject(j)}})()}clearCookies(){return(0,M.A)(function*(){try{const N=document.cookie.split(";")||[];for(const j of N)document.cookie=j.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(N){return Promise.reject(N)}})()}clearAllCookies(){var N=this;return(0,M.A)(function*(){try{yield N.clearCookies()}catch(j){return Promise.reject(j)}})()}}i("CapacitorCookies",{web:()=>new p});const C=function(){var T=(0,M.A)(function*(N){return new Promise((j,Z)=>{const ee=new FileReader;ee.onload=()=>{const z=ee.result;j(z.indexOf(",")>=0?z.split(",")[1]:z)},ee.onerror=z=>Z(z),ee.readAsDataURL(N)})});return function(j){return T.apply(this,arguments)}}();class P extends u{request(N){return(0,M.A)(function*(){const j=((T,N={})=>{const j=Object.assign({method:T.method||"GET",headers:T.headers},N),ee=((T={})=>{const N=Object.keys(T);return Object.keys(T).map(ee=>ee.toLocaleLowerCase()).reduce((ee,z,te)=>(ee[z]=T[N[te]],ee),{})})(T.headers)["content-type"]||"";if("string"==typeof T.data)j.body=T.data;else if(ee.includes("application/x-www-form-urlencoded")){const z=new URLSearchParams;for(const[te,W]of Object.entries(T.data||{}))z.set(te,W);j.body=z.toString()}else if(ee.includes("multipart/form-data")||T.data instanceof FormData){const z=new FormData;if(T.data instanceof FormData)T.data.forEach((W,G)=>{z.append(G,W)});else for(const W of Object.keys(T.data))z.append(W,T.data[W]);j.body=z;const te=new Headers(j.headers);te.delete("content-type"),j.headers=te}else(ee.includes("application/json")||"object"==typeof T.data)&&(j.body=JSON.stringify(T.data));return j})(N,N.webFetchExtra),Z=((T,N=!0)=>T?Object.entries(T).reduce((Z,ee)=>{const[z,te]=ee;let W,G;return Array.isArray(te)?(G="",te.forEach(Y=>{W=N?encodeURIComponent(Y):Y,G+=`${z}=${W}&`}),G.slice(0,-1)):(W=N?encodeURIComponent(te):te,G=`${z}=${W}`),`${Z}&${G}`},"").substr(1):null)(N.params,N.shouldEncodeUrlParams),ee=Z?`${N.url}?${Z}`:N.url,z=yield fetch(ee,j),te=z.headers.get("content-type")||"";let G,Y,{responseType:W="text"}=z.ok?N:{};switch(te.includes("application/json")&&(W="json"),W){case"arraybuffer":case"blob":Y=yield z.blob(),G=yield C(Y);break;case"json":G=yield z.json();break;default:G=yield z.text()}const le={};return z.headers.forEach((Me,K)=>{le[K]=Me}),{data:G,headers:le,status:z.status,url:z.url}})()}get(N){var j=this;return(0,M.A)(function*(){return j.request(Object.assign(Object.assign({},N),{method:"GET"}))})()}post(N){var j=this;return(0,M.A)(function*(){return j.request(Object.assign(Object.assign({},N),{method:"POST"}))})()}put(N){var j=this;return(0,M.A)(function*(){return j.request(Object.assign(Object.assign({},N),{method:"PUT"}))})()}patch(N){var j=this;return(0,M.A)(function*(){return j.request(Object.assign(Object.assign({},N),{method:"PATCH"}))})()}delete(N){var j=this;return(0,M.A)(function*(){return j.request(Object.assign(Object.assign({},N),{method:"DELETE"}))})()}}i("CapacitorHttp",{web:()=>new P})},4442:(Dr,rr,_e)=>{"use strict";_e.d(rr,{L:()=>o,a:()=>ie,b:()=>$,c:()=>v,d:()=>b,g:()=>z}),_e(5531);const o="ionViewWillEnter",ie="ionViewDidEnter",$="ionViewWillLeave",v="ionViewDidLeave",b="ionViewWillUnload",z=te=>te.classList.contains("ion-page")?te:te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||te},5531:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>f,c:()=>A,g:()=>b});class M{constructor(){this.m=new Map}reset(te){this.m=new Map(Object.entries(te))}get(te,W){const G=this.m.get(te);return void 0!==G?G:W}getBoolean(te,W=!1){const G=this.m.get(te);return void 0===G?W:"string"==typeof G?"true"===G:!!G}getNumber(te,W){const G=parseFloat(this.m.get(te));return isNaN(G)?void 0!==W?W:NaN:G}set(te,W){this.m.set(te,W)}}const A=new M,b=z=>m(z),f=(z,te)=>("string"==typeof z&&(te=z,z=void 0),b(z).includes(te)),m=(z=window)=>{if(typeof z>"u")return[];z.Ionic=z.Ionic||{};let te=z.Ionic.platforms;return null==te&&(te=z.Ionic.platforms=w(z),te.forEach(W=>z.document.documentElement.classList.add(`plt-${W}`))),te},w=z=>{const te=A.get("platform");return Object.keys(N).filter(W=>{const G=null==te?void 0:te[W];return"function"==typeof G?G(z):N[W](z)})},i=z=>!!(k(z,/iPad/i)||k(z,/Macintosh/i)&&p(z)),u=z=>k(z,/android|sink/i),p=z=>T(z,"(any-pointer:coarse)"),C=z=>H(z)||B(z),H=z=>!!(z.cordova||z.phonegap||z.PhoneGap),B=z=>{const te=z.Capacitor;return!(null==te||!te.isNative)},k=(z,te)=>te.test(z.navigator.userAgent),T=(z,te)=>{var W;return null===(W=z.matchMedia)||void 0===W?void 0:W.call(z,te).matches},N={ipad:i,iphone:z=>k(z,/iPhone/i),ios:z=>k(z,/iPhone|iPod/i)||i(z),android:u,phablet:z=>{const te=z.innerWidth,W=z.innerHeight,G=Math.min(te,W),Y=Math.max(te,W);return G>390&&G<520&&Y>620&&Y<800},tablet:z=>{const te=z.innerWidth,W=z.innerHeight,G=Math.min(te,W),Y=Math.max(te,W);return i(z)||(z=>u(z)&&!k(z,/mobile/i))(z)||G>460&&G<820&&Y>780&&Y<1400},cordova:H,capacitor:B,electron:z=>k(z,/electron/i),pwa:z=>{var te;return!!(null!==(te=z.matchMedia)&&void 0!==te&&te.call(z,"(display-mode: standalone)").matches||z.navigator.standalone)},mobile:p,mobileweb:z=>p(z)&&!C(z),desktop:z=>!p(z),hybrid:C}},9986:(Dr,rr,_e)=>{"use strict";_e.d(rr,{c:()=>ie});var M=_e(8476);let A;const Et=($,v,b)=>{const f=v.startsWith("animation")?($=>(void 0===A&&(A=void 0===$.style.animationName&&void 0!==$.style.webkitAnimationName?"-webkit-":""),A))($):"";$.style.setProperty(f+v,b)},o=($=[],v)=>{if(void 0!==v){const b=Array.isArray(v)?v:[v];return[...$,...b]}return $},ie=$=>{let v,b,f,m,w,_,d,R,P,k,Z,i=[],a=[],l=[],u=!1,h={},g=[],p=[],y={},C=0,H=!1,B=!1,T=!0,N=!1,j=!0,ee=!1;const z=$,te=[],W=[],G=[],Y=[],le=[],Me=[],K=[],O=[],oe=[],me=[],Se=[],Ue="function"==typeof AnimationEffect||void 0!==M.w&&"function"==typeof M.w.AnimationEffect,Xe="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ue,lt=()=>Se,nt=(je,Ve)=>{const ht=Ve.findIndex(Ge=>Ge.c===je);ht>-1&&Ve.splice(ht,1)},ot=(je,Ve)=>((null!=Ve&&Ve.oneTimeCallback?W:te).push({c:je,o:Ve}),Z),pt=()=>{Xe&&(Se.forEach(je=>{je.cancel()}),Se.length=0)},kt=()=>{Me.forEach(je=>{null!=je&&je.parentNode&&je.parentNode.removeChild(je)}),Me.length=0},Pe=()=>void 0!==w?w:d?d.getFill():"both",Je=()=>void 0!==R?R:void 0!==_?_:d?d.getDirection():"normal",Ot=()=>H?"linear":void 0!==f?f:d?d.getEasing():"linear",zt=()=>B?0:void 0!==P?P:void 0!==b?b:d?d.getDuration():0,$t=()=>void 0!==m?m:d?d.getIterations():1,_t=()=>void 0!==k?k:void 0!==v?v:d?d.getDelay():0,yr=()=>{0!==C&&(C--,0===C&&((()=>{oe.forEach(dt=>dt()),me.forEach(dt=>dt());const je=T?1:0,Ve=g,ht=p,Ge=y;Y.forEach(dt=>{const Bt=dt.classList;Ve.forEach(ur=>Bt.add(ur)),ht.forEach(ur=>Bt.remove(ur));for(const ur in Ge)Ge.hasOwnProperty(ur)&&Et(dt,ur,Ge[ur])}),P=void 0,R=void 0,k=void 0,te.forEach(dt=>dt.c(je,Z)),W.forEach(dt=>dt.c(je,Z)),W.length=0,j=!0,T&&(N=!0),T=!0})(),d&&d.animationFinish()))},xr=()=>{(()=>{K.forEach(Ge=>Ge()),O.forEach(Ge=>Ge());const je=a,Ve=l,ht=h;Y.forEach(Ge=>{const dt=Ge.classList;je.forEach(Bt=>dt.add(Bt)),Ve.forEach(Bt=>dt.remove(Bt));for(const Bt in ht)ht.hasOwnProperty(Bt)&&Et(Ge,Bt,ht[Bt])})})(),i.length>0&&Xe&&(Y.forEach(je=>{const Ve=je.animate(i,{id:z,delay:_t(),duration:zt(),easing:Ot(),iterations:$t(),fill:Pe(),direction:Je()});Ve.pause(),Se.push(Ve)}),Se.length>0&&(Se[0].onfinish=()=>{yr()})),u=!0},Mr=je=>{je=Math.min(Math.max(je,0),.9999),Xe&&Se.forEach(Ve=>{Ve.currentTime=Ve.effect.getComputedTiming().delay+zt()*je,Ve.pause()})},X=je=>{Se.forEach(Ve=>{Ve.effect.updateTiming({delay:_t(),duration:zt(),easing:Ot(),iterations:$t(),fill:Pe(),direction:Je()})}),void 0!==je&&Mr(je)},pe=(je=!1,Ve=!0,ht)=>(je&&le.forEach(Ge=>{Ge.update(je,Ve,ht)}),Xe&&X(ht),Z),U=()=>{u&&(Xe?Se.forEach(je=>{je.pause()}):Y.forEach(je=>{Et(je,"animation-play-state","paused")}),ee=!0)},Ne=je=>new Promise(Ve=>{null!=je&&je.sync&&(B=!0,ot(()=>B=!1,{oneTimeCallback:!0})),u||xr(),N&&(Xe&&(Mr(0),X()),N=!1),j&&(C=le.length+1,j=!1);const ht=()=>{nt(Ge,W),Ve()},Ge=()=>{nt(ht,G),Ve()};ot(Ge,{oneTimeCallback:!0}),((je,Ve)=>{G.push({c:je,o:{oneTimeCallback:!0}})})(ht),le.forEach(dt=>{dt.play()}),Xe?(Se.forEach(je=>{je.play()}),(0===i.length||0===Y.length)&&yr()):yr(),ee=!1}),qe=(je,Ve)=>{const ht=i[0];return void 0===ht||void 0!==ht.offset&&0!==ht.offset?i=[{offset:0,[je]:Ve},...i]:ht[je]=Ve,Z};return Z={parentAnimation:d,elements:Y,childAnimations:le,id:z,animationFinish:yr,from:qe,to:(je,Ve)=>{const ht=i[i.length-1];return void 0===ht||void 0!==ht.offset&&1!==ht.offset?i=[...i,{offset:1,[je]:Ve}]:ht[je]=Ve,Z},fromTo:(je,Ve,ht)=>qe(je,Ve).to(je,ht),parent:je=>(d=je,Z),play:Ne,pause:()=>(le.forEach(je=>{je.pause()}),U(),Z),stop:()=>{le.forEach(je=>{je.stop()}),u&&(pt(),u=!1),H=!1,B=!1,j=!0,R=void 0,P=void 0,k=void 0,C=0,N=!1,T=!0,ee=!1,G.forEach(je=>je.c(0,Z)),G.length=0},destroy:je=>(le.forEach(Ve=>{Ve.destroy(je)}),(je=>{pt(),je&&kt()})(je),Y.length=0,le.length=0,i.length=0,te.length=0,W.length=0,u=!1,j=!0,Z),keyframes:je=>{const Ve=i!==je;return i=je,Ve&&(je=>{Xe&&lt().forEach(Ve=>{const ht=Ve.effect;if(ht.setKeyframes)ht.setKeyframes(je);else{const Ge=new KeyframeEffect(ht.target,je,ht.getTiming());Ve.effect=Ge}})})(i),Z},addAnimation:je=>{if(null!=je)if(Array.isArray(je))for(const Ve of je)Ve.parent(Z),le.push(Ve);else je.parent(Z),le.push(je);return Z},addElement:je=>{if(null!=je)if(1===je.nodeType)Y.push(je);else if(je.length>=0)for(let Ve=0;Ve<je.length;Ve++)Y.push(je[Ve]);else console.error("Invalid addElement value");return Z},update:pe,fill:je=>(w=je,pe(!0),Z),direction:je=>(_=je,pe(!0),Z),iterations:je=>(m=je,pe(!0),Z),duration:je=>(!Xe&&0===je&&(je=1),b=je,pe(!0),Z),easing:je=>(f=je,pe(!0),Z),delay:je=>(v=je,pe(!0),Z),getWebAnimations:lt,getKeyframes:()=>i,getFill:Pe,getDirection:Je,getDelay:_t,getIterations:$t,getEasing:Ot,getDuration:zt,afterAddRead:je=>(oe.push(je),Z),afterAddWrite:je=>(me.push(je),Z),afterClearStyles:(je=[])=>{for(const Ve of je)y[Ve]="";return Z},afterStyles:(je={})=>(y=je,Z),afterRemoveClass:je=>(p=o(p,je),Z),afterAddClass:je=>(g=o(g,je),Z),beforeAddRead:je=>(K.push(je),Z),beforeAddWrite:je=>(O.push(je),Z),beforeClearStyles:(je=[])=>{for(const Ve of je)h[Ve]="";return Z},beforeStyles:(je={})=>(h=je,Z),beforeRemoveClass:je=>(l=o(l,je),Z),beforeAddClass:je=>(a=o(a,je),Z),onFinish:ot,isRunning:()=>0!==C&&!ee,progressStart:(je=!1,Ve)=>(le.forEach(ht=>{ht.progressStart(je,Ve)}),U(),H=je,u||xr(),pe(!1,!0,Ve),Z),progressStep:je=>(le.forEach(Ve=>{Ve.progressStep(je)}),Mr(je),Z),progressEnd:(je,Ve,ht)=>(H=!1,le.forEach(Ge=>{Ge.progressEnd(je,Ve,ht)}),void 0!==ht&&(P=ht),N=!1,T=!0,0===je?(R="reverse"===Je()?"normal":"reverse","reverse"===R&&(T=!1),Xe?(pe(),Mr(1-Ve)):(k=(1-Ve)*zt()*-1,pe(!1,!1))):1===je&&(Xe?(pe(),Mr(Ve)):(k=Ve*zt()*-1,pe(!1,!1))),void 0!==je&&!d&&Ne(),Z)}}},464:(Dr,rr,_e)=>{"use strict";_e.d(rr,{E:()=>f,I:()=>$,a:()=>M,s:()=>v});const M=m=>{try{if(m instanceof $)return m.value;if(!Et()||"string"!=typeof m||""===m)return m;if(m.includes("onload="))return"";const w=document.createDocumentFragment(),_=document.createElement("div");w.appendChild(_),_.innerHTML=m,ie.forEach(u=>{const d=w.querySelectorAll(u);for(let h=d.length-1;h>=0;h--){const g=d[h];g.parentNode?g.parentNode.removeChild(g):w.removeChild(g);const p=et(g);for(let y=0;y<p.length;y++)A(p[y])}});const i=et(w);for(let u=0;u<i.length;u++)A(i[u]);const a=document.createElement("div");a.appendChild(w);const l=a.querySelector("div");return null!==l?l.innerHTML:a.innerHTML}catch(w){return console.error(w),""}},A=m=>{if(m.nodeType&&1!==m.nodeType)return;if(typeof NamedNodeMap<"u"&&!(m.attributes instanceof NamedNodeMap))return void m.remove();for(let _=m.attributes.length-1;_>=0;_--){const i=m.attributes.item(_),a=i.name;if(!o.includes(a.toLowerCase())){m.removeAttribute(a);continue}const l=i.value,u=m[a];(null!=l&&l.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&m.removeAttribute(a)}const w=et(m);for(let _=0;_<w.length;_++)A(w[_])},et=m=>null!=m.children?m.children:m.childNodes,Et=()=>{var m;const w=window,_=null===(m=null==w?void 0:w.Ionic)||void 0===m?void 0:m.config;return!_||(_.get?_.get("sanitizerEnabled",!0):!0===_.sanitizerEnabled||void 0===_.sanitizerEnabled)},o=["class","id","href","src","name","slot"],ie=["script","style","iframe","meta","link","object","embed"];class ${constructor(w){this.value=w}}const v=m=>{const w=window,_=w.Ionic;if(!_||!_.config||"Object"===_.config.constructor.name)return w.Ionic=w.Ionic||{},w.Ionic.config=Object.assign(Object.assign({},w.Ionic.config),m),w.Ionic.config},f=!1},3351:(Dr,rr,_e)=>{"use strict";_e.d(rr,{g:()=>M});const M=(ie,$,v,b,f)=>et(ie[1],$[1],v[1],b[1],f).map(m=>A(ie[0],$[0],v[0],b[0],m)),A=(ie,$,v,b,f)=>f*(3*$*Math.pow(f-1,2)+f*(-3*v*f+3*v+b*f))-ie*Math.pow(f-1,3),et=(ie,$,v,b,f)=>o((b-=f)-3*(v-=f)+3*($-=f)-(ie-=f),3*v-6*$+3*ie,3*$-3*ie,ie).filter(w=>w>=0&&w<=1),o=(ie,$,v,b)=>{if(0===ie)return((ie,$,v)=>{const b=$*$-4*ie*v;return b<0?[]:[(-$+Math.sqrt(b))/(2*ie),(-$-Math.sqrt(b))/(2*ie)]})($,v,b);const f=(3*(v/=ie)-($/=ie)*$)/3,m=(2*$*$*$-9*$*v+27*(b/=ie))/27;if(0===f)return[Math.pow(-m,1/3)];if(0===m)return[Math.sqrt(-f),-Math.sqrt(-f)];const w=Math.pow(m/2,2)+Math.pow(f/3,3);if(0===w)return[Math.pow(m/2,.5)-$/3];if(w>0)return[Math.pow(-m/2+Math.sqrt(w),1/3)-Math.pow(m/2+Math.sqrt(w),1/3)-$/3];const _=Math.sqrt(Math.pow(-f/3,3)),i=Math.acos(-m/(2*Math.sqrt(Math.pow(-f/3,3)))),a=2*Math.pow(_,1/3);return[a*Math.cos(i/3)-$/3,a*Math.cos((i+2*Math.PI)/3)-$/3,a*Math.cos((i+4*Math.PI)/3)-$/3]}},8621:(Dr,rr,_e)=>{"use strict";_e.d(rr,{C:()=>o,a:()=>et,d:()=>Et});var M=_e(467),A=_e(4920);const et=function(){var ie=(0,M.A)(function*($,v,b,f,m,w){var _;if($)return $.attachViewToDom(v,b,m,f);if(!(w||"string"==typeof b||b instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof b?null===(_=v.ownerDocument)||void 0===_?void 0:_.createElement(b):b;return f&&f.forEach(a=>i.classList.add(a)),m&&Object.assign(i,m),v.appendChild(i),yield new Promise(a=>(0,A.c)(i,a)),i});return function(v,b,f,m,w,_){return ie.apply(this,arguments)}}(),Et=(ie,$)=>{if($){if(ie)return ie.removeViewFromDom($.parentElement,$);$.remove()}return Promise.resolve()},o=()=>{let ie,$;return{attachViewToDom:function(){var f=(0,M.A)(function*(m,w,_={},i=[]){var a,l;let u;if(ie=m,w){const h="string"==typeof w?null===(a=ie.ownerDocument)||void 0===a?void 0:a.createElement(w):w;i.forEach(g=>h.classList.add(g)),Object.assign(h,_),ie.appendChild(h),u=h,yield new Promise(g=>(0,A.c)(h,g))}else if(ie.children.length>0&&("ION-MODAL"===ie.tagName||"ION-POPOVER"===ie.tagName)&&!(u=ie.children[0]).classList.contains("ion-delegate-host")){const g=null===(l=ie.ownerDocument)||void 0===l?void 0:l.createElement("div");g.classList.add("ion-delegate-host"),i.forEach(p=>g.classList.add(p)),g.append(...ie.children),ie.appendChild(g),u=g}const d=document.querySelector("ion-app")||document.body;return $=document.createComment("ionic teleport"),ie.parentNode.insertBefore($,ie),d.appendChild(ie),null!=u?u:ie});return function(w,_){return f.apply(this,arguments)}}(),removeViewFromDom:()=>(ie&&$&&($.parentNode.insertBefore(ie,$),$.remove()),Promise.resolve())}}},1970:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>Et,G:()=>o});class A{constructor($,v,b,f,m){this.id=v,this.name=b,this.disableScroll=m,this.priority=1e6*f+v,this.ctrl=$}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const $=this.ctrl.capture(this.name,this.id,this.priority);return $&&this.disableScroll&&this.ctrl.disableScroll(this.id),$}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class et{constructor($,v,b,f){this.id=v,this.disable=b,this.disableScroll=f,this.ctrl=$}block(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.disableGesture($,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.enableGesture($,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Et="backdrop-no-scroll",o=new class M{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture($){var v;return new A(this,this.newID(),$.name,null!==(v=$.priority)&&void 0!==v?v:0,!!$.disableScroll)}createBlocker($={}){return new et(this,this.newID(),$.disable,!!$.disableScroll)}start($,v,b){return this.canStart($)?(this.requestedStart.set(v,b),!0):(this.requestedStart.delete(v),!1)}capture($,v,b){if(!this.start($,v,b))return!1;const f=this.requestedStart;let m=-1e4;if(f.forEach(w=>{m=Math.max(m,w)}),m===b){this.capturedId=v,f.clear();const w=new CustomEvent("ionGestureCaptured",{detail:{gestureName:$}});return document.dispatchEvent(w),!0}return f.delete(v),!1}release($){this.requestedStart.delete($),this.capturedId===$&&(this.capturedId=void 0)}disableGesture($,v){let b=this.disabledGestures.get($);void 0===b&&(b=new Set,this.disabledGestures.set($,b)),b.add(v)}enableGesture($,v){const b=this.disabledGestures.get($);void 0!==b&&b.delete(v)}disableScroll($){this.disabledScroll.add($),1===this.disabledScroll.size&&document.body.classList.add(Et)}enableScroll($){this.disabledScroll.delete($),0===this.disabledScroll.size&&document.body.classList.remove(Et)}canStart($){return!(void 0!==this.capturedId||this.isDisabled($))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled($){const v=this.disabledGestures.get($);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{MENU_BACK_BUTTON_PRIORITY:()=>b,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>ie,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>$});var M=_e(467),A=_e(8476),et=_e(4921);_e(8393);const o=()=>et.c.get("experimentalCloseWatcher",!1)&&void 0!==A.w&&"CloseWatcher"in A.w,ie=()=>{document.addEventListener("backbutton",()=>{})},$=()=>{const f=document;let m=!1;const w=()=>{if(m)return;let _=0,i=[];const a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(d,h){i.push({priority:d,handler:h,id:_++})}}});f.dispatchEvent(a);const l=function(){var d=(0,M.A)(function*(h){try{if(null!=h&&h.handler){const g=h.handler(u);null!=g&&(yield g)}}catch(g){console.error(g)}});return function(g){return d.apply(this,arguments)}}(),u=()=>{if(i.length>0){let d={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(h=>{h.priority>=d.priority&&(d=h)}),m=!0,i=i.filter(h=>h.id!==d.id),l(d).then(()=>m=!1)}};u()};if(o()){let _;const i=()=>{null==_||_.destroy(),_=new A.w.CloseWatcher,_.onclose=()=>{w(),i()}};i()}else f.addEventListener("backbutton",w)},v=100,b=99},4920:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>v,b:()=>b,c:()=>et,d:()=>i,e:()=>h,f:()=>_,g:()=>f,h:()=>o,i:()=>$,j:()=>a,k:()=>Et,l:()=>w,m:()=>l,n:()=>d,o:()=>g,p:()=>u,r:()=>m,s:()=>p,t:()=>M});const M=(y,C=0)=>new Promise(H=>{A(y,C,H)}),A=(y,C=0,H)=>{let B,R;const P={passive:!0},T=()=>{B&&B()},N=j=>{(void 0===j||y===j.target)&&(T(),H(j))};return y&&(y.addEventListener("webkitTransitionEnd",N,P),y.addEventListener("transitionend",N,P),R=setTimeout(N,C+500),B=()=>{void 0!==R&&(clearTimeout(R),R=void 0),y.removeEventListener("webkitTransitionEnd",N,P),y.removeEventListener("transitionend",N,P)}),T},et=(y,C)=>{y.componentOnReady?y.componentOnReady().then(H=>C(H)):m(()=>C(y))},Et=y=>void 0!==y.componentOnReady,o=(y,C=[])=>{const H={};return C.forEach(B=>{y.hasAttribute(B)&&(null!==y.getAttribute(B)&&(H[B]=y.getAttribute(B)),y.removeAttribute(B))}),H},ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],$=(y,C)=>{let H=ie;return C&&C.length>0&&(H=H.filter(B=>!C.includes(B))),o(y,H)},v=(y,C,H,B)=>{var R;if(typeof window<"u"){const P=window,k=null===(R=null==P?void 0:P.Ionic)||void 0===R?void 0:R.config;if(k){const T=k.get("_ael");if(T)return T(y,C,H,B);if(k._ael)return k._ael(y,C,H,B)}}return y.addEventListener(C,H,B)},b=(y,C,H,B)=>{var R;if(typeof window<"u"){const P=window,k=null===(R=null==P?void 0:P.Ionic)||void 0===R?void 0:R.config;if(k){const T=k.get("_rel");if(T)return T(y,C,H,B);if(k._rel)return k._rel(y,C,H,B)}}return y.removeEventListener(C,H,B)},f=(y,C=y)=>y.shadowRoot||C,m=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y),w=y=>!!y.shadowRoot&&!!y.attachShadow,_=y=>{if(y.focus(),y.classList.contains("ion-focusable")){const C=y.closest("ion-app");C&&C.setFocus([y])}},i=(y,C,H,B,R)=>{if(y||w(C)){let P=C.querySelector("input.aux-input");P||(P=C.ownerDocument.createElement("input"),P.type="hidden",P.classList.add("aux-input"),C.appendChild(P)),P.disabled=R,P.name=H,P.value=B||""}},a=(y,C,H)=>Math.max(y,Math.min(C,H)),l=(y,C)=>{if(!y){const H="ASSERT: "+C;throw console.error(H),new Error(H)}},u=y=>{if(y){const C=y.changedTouches;if(C&&C.length>0){const H=C[0];return{x:H.clientX,y:H.clientY}}if(void 0!==y.pageX)return{x:y.pageX,y:y.pageY}}return{x:0,y:0}},d=y=>{const C="rtl"===document.dir;switch(y){case"start":return C;case"end":return!C;default:throw new Error(`"${y}" is not a valid value for [side]. Use "start" or "end" instead.`)}},h=(y,C)=>{const H=y._original||y;return{_original:y,emit:g(H.emit.bind(H),C)}},g=(y,C=0)=>{let H;return(...B)=>{clearTimeout(H),H=setTimeout(y,C,...B)}},p=(y,C)=>{if(null!=y||(y={}),null!=C||(C={}),y===C)return!0;const H=Object.keys(y);if(H.length!==Object.keys(C).length)return!1;for(const B of H)if(!(B in C)||y[B]!==C[B])return!1;return!0}},8607:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{GESTURE_CONTROLLER:()=>M.G,createGesture:()=>b});var M=_e(1970);const A=(_,i,a,l)=>{const u=et(_)?{capture:!!l.capture,passive:!!l.passive}:!!l.capture;let d,h;return _.__zone_symbol__addEventListener?(d="__zone_symbol__addEventListener",h="__zone_symbol__removeEventListener"):(d="addEventListener",h="removeEventListener"),_[d](i,a,u),()=>{_[h](i,a,u)}},et=_=>{if(void 0===Et)try{const i=Object.defineProperty({},"passive",{get:()=>{Et=!0}});_.addEventListener("optsTest",()=>{},i)}catch{Et=!1}return!!Et};let Et;const $=_=>_ instanceof Document?_:_.ownerDocument,b=_=>{let i=!1,a=!1,l=!0,u=!1;const d=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},_),h=d.canStart,g=d.onWillStart,p=d.onStart,y=d.onEnd,C=d.notCaptured,H=d.onMove,B=d.threshold,R=d.passive,P=d.blurOnStart,k={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},T=((_,i,a)=>{const l=a*(Math.PI/180),u="x"===_,d=Math.cos(l),h=i*i;let g=0,p=0,y=!1,C=0;return{start(H,B){g=H,p=B,C=0,y=!0},detect(H,B){if(!y)return!1;const R=H-g,P=B-p,k=R*R+P*P;if(k<h)return!1;const T=Math.sqrt(k),N=(u?R:P)/T;return C=N>d?1:N<-d?-1:0,y=!1,!0},isGesture:()=>0!==C,getDirection:()=>C}})(d.direction,d.threshold,d.maxAngle),N=M.G.createGesture({name:_.gestureName,priority:_.gesturePriority,disableScroll:_.disableScroll}),ee=()=>{i&&(u=!1,H&&H(k))},z=()=>!!N.capture()&&(i=!0,l=!1,k.startX=k.currentX,k.startY=k.currentY,k.startTime=k.currentTime,g?g(k).then(W):W(),!0),W=()=>{P&&(()=>{if(typeof document<"u"){const K=document.activeElement;null!=K&&K.blur&&K.blur()}})(),p&&p(k),l=!0},G=()=>{i=!1,a=!1,u=!1,l=!0,N.release()},Y=K=>{const O=i,oe=l;if(G(),oe){if(f(k,K),O)return void(y&&y(k));C&&C(k)}},le=((_,i,a,l,u)=>{let d,h,g,p,y,C,H,B=0;const R=te=>{B=Date.now()+2e3,i(te)&&(!h&&a&&(h=A(_,"touchmove",a,u)),g||(g=A(te.target,"touchend",k,u)),p||(p=A(te.target,"touchcancel",k,u)))},P=te=>{B>Date.now()||i(te)&&(!C&&a&&(C=A($(_),"mousemove",a,u)),H||(H=A($(_),"mouseup",T,u)))},k=te=>{N(),l&&l(te)},T=te=>{j(),l&&l(te)},N=()=>{h&&h(),g&&g(),p&&p(),h=g=p=void 0},j=()=>{C&&C(),H&&H(),C=H=void 0},Z=()=>{N(),j()},ee=(te=!0)=>{te?(d||(d=A(_,"touchstart",R,u)),y||(y=A(_,"mousedown",P,u))):(d&&d(),y&&y(),d=y=void 0,Z())};return{enable:ee,stop:Z,destroy:()=>{ee(!1),l=a=i=void 0}}})(d.el,K=>{const O=w(K);return!(a||!l||(m(K,k),k.startX=k.currentX,k.startY=k.currentY,k.startTime=k.currentTime=O,k.velocityX=k.velocityY=k.deltaX=k.deltaY=0,k.event=K,h&&!1===h(k))||(N.release(),!N.start()))&&(a=!0,0===B?z():(T.start(k.startX,k.startY),!0))},K=>{i?!u&&l&&(u=!0,f(k,K),requestAnimationFrame(ee)):(f(k,K),T.detect(k.currentX,k.currentY)&&(!T.isGesture()||!z())&&Me())},Y,{capture:!1,passive:R}),Me=()=>{G(),le.stop(),C&&C(k)};return{enable(K=!0){K||(i&&Y(void 0),G()),le.enable(K)},destroy(){N.destroy(),le.destroy()}}},f=(_,i)=>{if(!i)return;const a=_.currentX,l=_.currentY,u=_.currentTime;m(i,_);const d=_.currentX,h=_.currentY,p=(_.currentTime=w(i))-u;if(p>0&&p<100){const C=(h-l)/p;_.velocityX=(d-a)/p*.7+.3*_.velocityX,_.velocityY=.7*C+.3*_.velocityY}_.deltaX=d-_.startX,_.deltaY=h-_.startY,_.event=i},m=(_,i)=>{let a=0,l=0;if(_){const u=_.changedTouches;if(u&&u.length>0){const d=u[0];a=d.clientX,l=d.clientY}else void 0!==_.pageX&&(a=_.pageX,l=_.pageY)}i.currentX=a,i.currentY=l},w=_=>_.timeStamp||Date.now()},6073:(Dr,rr,_e)=>{"use strict";_e.d(rr,{m:()=>_});var M=_e(467),A=_e(8476),et=_e(8669),Et=_e(4929),o=_e(4920),ie=_e(4921),$=_e(9986);const v=i=>(0,$.c)().duration(i?400:300),b=i=>{let a,l;const u=i.width+8,d=(0,$.c)(),h=(0,$.c)();i.isEndSide?(a=u+"px",l="0px"):(a=-u+"px",l="0px"),d.addElement(i.menuInnerEl).fromTo("transform",`translateX(${a})`,`translateX(${l})`);const p="ios"===(0,ie.b)(i),y=p?.2:.25;return h.addElement(i.backdropEl).fromTo("opacity",.01,y),v(p).addAnimation([d,h])},f=i=>{let a,l;const u=(0,ie.b)(i),d=i.width;i.isEndSide?(a=-d+"px",l=d+"px"):(a=d+"px",l=-d+"px");const h=(0,$.c)().addElement(i.menuInnerEl).fromTo("transform",`translateX(${l})`,"translateX(0px)"),g=(0,$.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`),p=(0,$.c)().addElement(i.backdropEl).fromTo("opacity",.01,.32);return v("ios"===u).addAnimation([h,g,p])},m=i=>{const a=(0,ie.b)(i),l=i.width*(i.isEndSide?-1:1)+"px",u=(0,$.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`);return v("ios"===a).addAnimation(u)},_=(()=>{const i=new Map,a=[],l=function(){var G=(0,M.A)(function*(Y){const le=yield C(Y,!0);return!!le&&le.open()});return function(le){return G.apply(this,arguments)}}(),u=function(){var G=(0,M.A)(function*(Y){const le=yield void 0!==Y?C(Y,!0):H();return void 0!==le&&le.close()});return function(le){return G.apply(this,arguments)}}(),d=function(){var G=(0,M.A)(function*(Y){const le=yield C(Y,!0);return!!le&&le.toggle()});return function(le){return G.apply(this,arguments)}}(),h=function(){var G=(0,M.A)(function*(Y,le){const Me=yield C(le);return Me&&(Me.disabled=!Y),Me});return function(le,Me){return G.apply(this,arguments)}}(),g=function(){var G=(0,M.A)(function*(Y,le){const Me=yield C(le);return Me&&(Me.swipeGesture=Y),Me});return function(le,Me){return G.apply(this,arguments)}}(),p=function(){var G=(0,M.A)(function*(Y){if(null!=Y){const le=yield C(Y);return void 0!==le&&le.isOpen()}return void 0!==(yield H())});return function(le){return G.apply(this,arguments)}}(),y=function(){var G=(0,M.A)(function*(Y){const le=yield C(Y);return!!le&&!le.disabled});return function(le){return G.apply(this,arguments)}}(),C=function(){var G=(0,M.A)(function*(Y,le=!1){if(yield W(),"start"===Y||"end"===Y){const K=a.filter(oe=>oe.side===Y&&!oe.disabled);if(K.length>=1)return K.length>1&&le&&(0,Et.p)(`menuController queried for a menu on the "${Y}" side, but ${K.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,K.map(oe=>oe.el)),K[0].el;const O=a.filter(oe=>oe.side===Y);if(O.length>=1)return O.length>1&&le&&(0,Et.p)(`menuController queried for a menu on the "${Y}" side, but ${O.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,O.map(oe=>oe.el)),O[0].el}else if(null!=Y)return te(K=>K.menuId===Y);return te(K=>!K.disabled)||(a.length>0?a[0].el:void 0)});return function(le){return G.apply(this,arguments)}}(),H=function(){var G=(0,M.A)(function*(){return yield W(),Z()});return function(){return G.apply(this,arguments)}}(),B=function(){var G=(0,M.A)(function*(){return yield W(),ee()});return function(){return G.apply(this,arguments)}}(),R=function(){var G=(0,M.A)(function*(){return yield W(),z()});return function(){return G.apply(this,arguments)}}(),P=(G,Y)=>{i.set(G,Y)},N=function(){var G=(0,M.A)(function*(Y,le,Me){if(z())return!1;if(le){const K=yield H();K&&Y.el!==K&&(yield K.setOpen(!1,!1))}return Y._setOpen(le,Me)});return function(le,Me,K){return G.apply(this,arguments)}}(),Z=()=>te(G=>G._isOpen),ee=()=>a.map(G=>G.el),z=()=>a.some(G=>G.isAnimating),te=G=>{const Y=a.find(G);if(void 0!==Y)return Y.el},W=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(G=>new Promise(Y=>(0,o.c)(G,Y))));return P("reveal",m),P("push",f),P("overlay",b),null==A.d||A.d.addEventListener("ionBackButton",G=>{const Y=Z();Y&&G.detail.register(et.MENU_BACK_BUTTON_PRIORITY,()=>Y.close())}),{registerAnimation:P,get:C,getMenus:B,getOpen:H,isEnabled:y,swipeGesture:g,isAnimating:R,isOpen:p,enable:h,toggle:d,close:u,open:l,_getOpenSync:Z,_createAnimation:(G,Y)=>{const le=i.get(G);if(!le)throw new Error("animation not registered");return le(Y)},_register:G=>{a.indexOf(G)<0&&a.push(G)},_unregister:G=>{const Y=a.indexOf(G);Y>-1&&a.splice(Y,1)},_setOpen:N}})()},8393:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>ie,a:()=>j,b:()=>Is,c:()=>Pe,d:()=>$t,e:()=>oe,f:()=>It,g:()=>Je,h:()=>Vt,i:()=>zt,j:()=>yn,k:()=>Se,r:()=>b,w:()=>me});var M=_e(467);var Et=Object.defineProperty,ie={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=new WeakMap,v=Le=>$.get(Le),b=(Le,rt)=>$.set(rt.$lazyInstance$=Le,rt),m=(Le,rt)=>rt in Le,w=(Le,rt)=>(0,console.error)(Le,rt),_=new Map,a=new Map,l=[],p="s-id",y="sty-id",C="c-id",B="slot-fb{display:contents}slot-fb[hidden]{display:none}",R="http://www.w3.org/1999/xlink",P=typeof window<"u"?window:{},k=P.document||{head:{}},N={$flags$:0,$resourcesUrl$:"",jmp:Le=>Le(),raf:Le=>requestAnimationFrame(Le),ael:(Le,rt,Tt,Lt)=>Le.addEventListener(rt,Tt,Lt),rel:(Le,rt,Tt,Lt)=>Le.removeEventListener(rt,Tt,Lt),ce:(Le,rt)=>new CustomEvent(Le,rt)},j=Le=>{Object.assign(N,Le)},Z=!0,ee=(()=>{let Le=!1;try{k.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Le=!0}}))}catch{}return Le})(),te=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),W=!1,G=[],Y=[],le=(Le,rt)=>Tt=>{Le.push(Tt),W||(W=!0,rt&&4&N.$flags$?O(K):N.raf(K))},Me=Le=>{for(let rt=0;rt<Le.length;rt++)try{Le[rt](performance.now())}catch(Tt){w(Tt)}Le.length=0},K=()=>{Me(G),Me(Y),(W=G.length>0)&&N.raf(K)},O=Le=>Promise.resolve(void 0).then(Le),oe=le(G,!1),me=le(Y,!0),Se=Le=>{const rt=new URL(Le,N.$resourcesUrl$);return rt.origin!==P.location.origin?rt.href:rt.pathname},Ue={},st=Le=>"object"==(Le=typeof Le)||"function"===Le;function at(Le){var rt,Tt,Lt;return null!=(Lt=null==(Tt=null==(rt=Le.head)?void 0:rt.querySelector('meta[name="csp-nonce"]'))?void 0:Tt.getAttribute("content"))?Lt:void 0}((Le,rt)=>{for(var Tt in rt)Et(Le,Tt,{get:rt[Tt],enumerable:!0})})({},{err:()=>Ye,map:()=>ot,ok:()=>nt,unwrap:()=>Ze,unwrapErr:()=>pt});var nt=Le=>({isOk:!0,isErr:!1,value:Le}),Ye=Le=>({isOk:!1,isErr:!0,value:Le});function ot(Le,rt){if(Le.isOk){const Tt=rt(Le.value);return Tt instanceof Promise?Tt.then(Lt=>nt(Lt)):nt(Tt)}if(Le.isErr)return Ye(Le.value);throw"should never get here"}var Ze=Le=>{if(Le.isOk)return Le.value;throw Le.value},pt=Le=>{if(Le.isErr)return Le.value;throw Le.value},Vt=(Le,rt,...Tt)=>{let Lt=null,Zt=null,Kt=null,mr=!1,Er=!1;const Cr=[],Tr=Fr=>{for(let Gr=0;Gr<Fr.length;Gr++)Lt=Fr[Gr],Array.isArray(Lt)?Tr(Lt):null!=Lt&&"boolean"!=typeof Lt&&((mr="function"!=typeof Le&&!st(Lt))&&(Lt=String(Lt)),mr&&Er?Cr[Cr.length-1].$text$+=Lt:Cr.push(mr?cr(null,Lt):Lt),Er=mr)};if(Tr(Tt),rt){rt.key&&(Zt=rt.key),rt.name&&(Kt=rt.name);{const Fr=rt.className||rt.class;Fr&&(rt.class="object"!=typeof Fr?Fr:Object.keys(Fr).filter(Gr=>Fr[Gr]).join(" "))}}if("function"==typeof Le)return Le(null===rt?{}:rt,Cr,Qt);const Ur=cr(Le,null);return Ur.$attrs$=rt,Cr.length>0&&(Ur.$children$=Cr),Ur.$key$=Zt,Ur.$name$=Kt,Ur},cr=(Le,rt)=>({$flags$:0,$tag$:Le,$text$:rt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),It={},Qt={forEach:(Le,rt)=>Le.map(fr).forEach(rt),map:(Le,rt)=>Le.map(fr).map(rt).map(Ct)},fr=Le=>({vattrs:Le.$attrs$,vchildren:Le.$children$,vkey:Le.$key$,vname:Le.$name$,vtag:Le.$tag$,vtext:Le.$text$}),Ct=Le=>{if("function"==typeof Le.vtag){const Tt={...Le.vattrs};return Le.vkey&&(Tt.key=Le.vkey),Le.vname&&(Tt.name=Le.vname),Vt(Le.vtag,Tt,...Le.vchildren||[])}const rt=cr(Le.vtag,Le.vtext);return rt.$attrs$=Le.vattrs,rt.$children$=Le.vchildren,rt.$key$=Le.vkey,rt.$name$=Le.vname,rt},Gt=(Le,rt,Tt,Lt,Zt,Kt,mr)=>{let Er,Cr,Tr,Ur;if(1===Kt.nodeType){for(Er=Kt.getAttribute(C),Er&&(Cr=Er.split("."),(Cr[0]===mr||"0"===Cr[0])&&(Tr={$flags$:0,$hostId$:Cr[0],$nodeId$:Cr[1],$depth$:Cr[2],$index$:Cr[3],$tag$:Kt.tagName.toLowerCase(),$elm$:Kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},rt.push(Tr),Kt.removeAttribute(C),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr,Le=Tr,Lt&&"0"===Tr.$depth$&&(Lt[Tr.$index$]=Tr.$elm$))),Ur=Kt.childNodes.length-1;Ur>=0;Ur--)Gt(Le,rt,Tt,Lt,Zt,Kt.childNodes[Ur],mr);if(Kt.shadowRoot)for(Ur=Kt.shadowRoot.childNodes.length-1;Ur>=0;Ur--)Gt(Le,rt,Tt,Lt,Zt,Kt.shadowRoot.childNodes[Ur],mr)}else if(8===Kt.nodeType)Cr=Kt.nodeValue.split("."),(Cr[1]===mr||"0"===Cr[1])&&(Er=Cr[0],Tr={$flags$:0,$hostId$:Cr[1],$nodeId$:Cr[2],$depth$:Cr[3],$index$:Cr[4],$elm$:Kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Er?(Tr.$elm$=Kt.nextSibling,Tr.$elm$&&3===Tr.$elm$.nodeType&&(Tr.$text$=Tr.$elm$.textContent,rt.push(Tr),Kt.remove(),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr,Lt&&"0"===Tr.$depth$&&(Lt[Tr.$index$]=Tr.$elm$))):Tr.$hostId$===mr&&("s"===Er?(Tr.$tag$="slot",Kt["s-sn"]=Cr[5]?Tr.$name$=Cr[5]:"",Kt["s-sr"]=!0,Lt&&(Tr.$elm$=k.createElement(Tr.$tag$),Tr.$name$&&Tr.$elm$.setAttribute("name",Tr.$name$),Kt.parentNode.insertBefore(Tr.$elm$,Kt),Kt.remove(),"0"===Tr.$depth$&&(Lt[Tr.$index$]=Tr.$elm$)),Tt.push(Tr),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr):"r"===Er&&(Lt?Kt.remove():(Zt["s-cr"]=Kt,Kt["s-cn"]=!0))));else if(Le&&"style"===Le.$tag$){const Fr=cr(null,Kt.textContent);Fr.$elm$=Kt,Fr.$index$="0",Le.$children$=[Fr]}},$e=(Le,rt)=>{if(1===Le.nodeType){let Tt=0;for(;Tt<Le.childNodes.length;Tt++)$e(Le.childNodes[Tt],rt);if(Le.shadowRoot)for(Tt=0;Tt<Le.shadowRoot.childNodes.length;Tt++)$e(Le.shadowRoot.childNodes[Tt],rt)}else if(8===Le.nodeType){const Tt=Le.nodeValue.split(".");"o"===Tt[0]&&(rt.set(Tt[1]+"."+Tt[2],Le),Le.nodeValue="",Le["s-en"]=Tt[3])}},Pe=Le=>l.push(Le),Je=Le=>v(Le).$modeName$,zt=Le=>v(Le).$hostElement$,$t=(Le,rt,Tt)=>{const Lt=zt(Le);return{emit:Zt=>_t(Lt,rt,{bubbles:!!(4&Tt),composed:!!(2&Tt),cancelable:!!(1&Tt),detail:Zt})}},_t=(Le,rt,Tt)=>{const Lt=N.ce(rt,Tt);return Le.dispatchEvent(Lt),Lt},Mt=new WeakMap,Xt=(Le,rt,Tt)=>{let Lt=a.get(Le);te&&Tt?(Lt=Lt||new CSSStyleSheet,"string"==typeof Lt?Lt=rt:Lt.replaceSync(rt)):Lt=rt,a.set(Le,Lt)},tr=(Le,rt,Tt)=>{var Lt;const Zt=vt(rt,Tt),Kt=a.get(Zt);if(Le=11===Le.nodeType?Le:k,Kt)if("string"==typeof Kt){let Er,mr=Mt.get(Le=Le.head||Le);if(mr||Mt.set(Le,mr=new Set),!mr.has(Zt)){if(Le.host&&(Er=Le.querySelector(`[${y}="${Zt}"]`)))Er.innerHTML=Kt;else{Er=k.createElement("style"),Er.innerHTML=Kt;const Cr=null!=(Lt=N.$nonce$)?Lt:at(k);null!=Cr&&Er.setAttribute("nonce",Cr),Le.insertBefore(Er,Le.querySelector("link"))}4&rt.$flags$&&(Er.innerHTML+=B),mr&&mr.add(Zt)}}else Le.adoptedStyleSheets.includes(Kt)||(Le.adoptedStyleSheets=[...Le.adoptedStyleSheets,Kt]);return Zt},vt=(Le,rt)=>"sc-"+(rt&&32&Le.$flags$?Le.$tagName$+"-"+rt:Le.$tagName$),Ut=Le=>Le.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),yt=(Le,rt,Tt,Lt,Zt,Kt)=>{if(Tt!==Lt){let mr=m(Le,rt),Er=rt.toLowerCase();if("class"===rt){const Cr=Le.classList,Tr=dr(Tt),Ur=dr(Lt);Cr.remove(...Tr.filter(Fr=>Fr&&!Ur.includes(Fr))),Cr.add(...Ur.filter(Fr=>Fr&&!Tr.includes(Fr)))}else if("style"===rt){for(const Cr in Tt)(!Lt||null==Lt[Cr])&&(Cr.includes("-")?Le.style.removeProperty(Cr):Le.style[Cr]="");for(const Cr in Lt)(!Tt||Lt[Cr]!==Tt[Cr])&&(Cr.includes("-")?Le.style.setProperty(Cr,Lt[Cr]):Le.style[Cr]=Lt[Cr])}else if("key"!==rt)if("ref"===rt)Lt&&Lt(Le);else if(mr||"o"!==rt[0]||"n"!==rt[1]){const Cr=st(Lt);if((mr||Cr&&null!==Lt)&&!Zt)try{if(Le.tagName.includes("-"))Le[rt]=Lt;else{const Ur=null==Lt?"":Lt;"list"===rt?mr=!1:(null==Tt||Le[rt]!=Ur)&&(Le[rt]=Ur)}}catch{}let Tr=!1;Er!==(Er=Er.replace(/^xlink\:?/,""))&&(rt=Er,Tr=!0),null==Lt||!1===Lt?(!1!==Lt||""===Le.getAttribute(rt))&&(Tr?Le.removeAttributeNS(R,rt):Le.removeAttribute(rt)):(!mr||4&Kt||Zt)&&!Cr&&(Lt=!0===Lt?"":Lt,Tr?Le.setAttributeNS(R,rt,Lt):Le.setAttribute(rt,Lt))}else if(rt="-"===rt[2]?rt.slice(3):m(P,Er)?Er.slice(2):Er[2]+rt.slice(3),Tt||Lt){const Cr=rt.endsWith(ft);rt=rt.replace(Dt,""),Tt&&N.rel(Le,rt,Tt,Cr),Lt&&N.ael(Le,rt,Lt,Cr)}}},Nt=/\s/,dr=Le=>Le?Le.split(Nt):[],ft="Capture",Dt=new RegExp(ft+"$"),er=(Le,rt,Tt)=>{const Lt=11===rt.$elm$.nodeType&&rt.$elm$.host?rt.$elm$.host:rt.$elm$,Zt=Le&&Le.$attrs$||Ue,Kt=rt.$attrs$||Ue;for(const mr of Yt(Object.keys(Zt)))mr in Kt||yt(Lt,mr,Zt[mr],void 0,Tt,rt.$flags$);for(const mr of Yt(Object.keys(Kt)))yt(Lt,mr,Zt[mr],Kt[mr],Tt,rt.$flags$)};function Yt(Le){return Le.includes("ref")?[...Le.filter(rt=>"ref"!==rt),"ref"]:Le}var lr,yr,wr,xr=!1,Mr=!1,X=!1,pe=!1,Ie=(Le,rt,Tt,Lt)=>{var Zt;const Kt=rt.$children$[Tt];let Er,Cr,Tr,mr=0;if(xr||(X=!0,"slot"===Kt.$tag$&&(lr&&Lt.classList.add(lr+"-s"),Kt.$flags$|=Kt.$children$?2:1)),null!==Kt.$text$)Er=Kt.$elm$=k.createTextNode(Kt.$text$);else if(1&Kt.$flags$)Er=Kt.$elm$=k.createTextNode("");else{if(pe||(pe="svg"===Kt.$tag$),Er=Kt.$elm$=k.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!xr&&2&Kt.$flags$?"slot-fb":Kt.$tag$),pe&&"foreignObject"===Kt.$tag$&&(pe=!1),er(null,Kt,pe),(Le=>null!=Le)(lr)&&Er["s-si"]!==lr&&Er.classList.add(Er["s-si"]=lr),dt(Er,Lt),Kt.$children$)for(mr=0;mr<Kt.$children$.length;++mr)Cr=Ie(Le,Kt,mr,Er),Cr&&Er.appendChild(Cr);"svg"===Kt.$tag$?pe=!1:"foreignObject"===Er.tagName&&(pe=!0)}return Er["s-hn"]=wr,3&Kt.$flags$&&(Er["s-sr"]=!0,Er["s-cr"]=yr,Er["s-sn"]=Kt.$name$||"",Er["s-rf"]=null==(Zt=Kt.$attrs$)?void 0:Zt.ref,Tr=Le&&Le.$children$&&Le.$children$[Tt],Tr&&Tr.$tag$===Kt.$tag$&&Le.$elm$&&E(Le.$elm$)),Er},E=Le=>{N.$flags$|=1;const rt=Le.closest(wr.toLowerCase());if(null!=rt){const Tt=Array.from(rt.childNodes).find(Zt=>Zt["s-cr"]),Lt=Array.from(Le.childNodes);for(const Zt of Tt?Lt.reverse():Lt)null!=Zt["s-sh"]&&(ht(rt,Zt,null!=Tt?Tt:null),Zt["s-sh"]=void 0,X=!0)}N.$flags$&=-2},I=(Le,rt)=>{N.$flags$|=1;const Tt=Array.from(Le.childNodes);if(Le["s-sr"]){let Lt=Le;for(;Lt=Lt.nextSibling;)Lt&&Lt["s-sn"]===Le["s-sn"]&&Lt["s-sh"]===wr&&Tt.push(Lt)}for(let Lt=Tt.length-1;Lt>=0;Lt--){const Zt=Tt[Lt];Zt["s-hn"]!==wr&&Zt["s-ol"]&&(ht(Ne(Zt),Zt,ne(Zt)),Zt["s-ol"].remove(),Zt["s-ol"]=void 0,Zt["s-sh"]=void 0,X=!0),rt&&I(Zt,rt)}N.$flags$&=-2},U=(Le,rt,Tt,Lt,Zt,Kt)=>{let Er,mr=Le["s-cr"]&&Le["s-cr"].parentNode||Le;for(mr.shadowRoot&&mr.tagName===wr&&(mr=mr.shadowRoot);Zt<=Kt;++Zt)Lt[Zt]&&(Er=Ie(null,Tt,Zt,Le),Er&&(Lt[Zt].$elm$=Er,ht(mr,Er,ne(rt))))},D=(Le,rt,Tt)=>{for(let Lt=rt;Lt<=Tt;++Lt){const Zt=Le[Lt];if(Zt){const Kt=Zt.$elm$;Ve(Zt),Kt&&(Mr=!0,Kt["s-ol"]?Kt["s-ol"].remove():I(Kt,!0),Kt.remove())}}},V=(Le,rt,Tt=!1)=>Le.$tag$===rt.$tag$&&("slot"===Le.$tag$?Le.$name$===rt.$name$:!!Tt||Le.$key$===rt.$key$),ne=Le=>Le&&Le["s-ol"]||Le,Ne=Le=>(Le["s-ol"]?Le["s-ol"]:Le).parentNode,De=(Le,rt,Tt=!1)=>{const Lt=rt.$elm$=Le.$elm$,Zt=Le.$children$,Kt=rt.$children$,mr=rt.$tag$,Er=rt.$text$;let Cr;null===Er?(pe="svg"===mr||"foreignObject"!==mr&&pe,"slot"!==mr||xr?er(Le,rt,pe):Le.$name$!==rt.$name$&&(rt.$elm$["s-sn"]=rt.$name$||"",E(rt.$elm$.parentElement)),null!==Zt&&null!==Kt?((Le,rt,Tt,Lt,Zt=!1)=>{let _n,wn,Kt=0,mr=0,Er=0,Cr=0,Tr=rt.length-1,Ur=rt[0],Fr=rt[Tr],Gr=Lt.length-1,qr=Lt[0],pn=Lt[Gr];for(;Kt<=Tr&&mr<=Gr;)if(null==Ur)Ur=rt[++Kt];else if(null==Fr)Fr=rt[--Tr];else if(null==qr)qr=Lt[++mr];else if(null==pn)pn=Lt[--Gr];else if(V(Ur,qr,Zt))De(Ur,qr,Zt),Ur=rt[++Kt],qr=Lt[++mr];else if(V(Fr,pn,Zt))De(Fr,pn,Zt),Fr=rt[--Tr],pn=Lt[--Gr];else if(V(Ur,pn,Zt))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&I(Ur.$elm$.parentNode,!1),De(Ur,pn,Zt),ht(Le,Ur.$elm$,Fr.$elm$.nextSibling),Ur=rt[++Kt],pn=Lt[--Gr];else if(V(Fr,qr,Zt))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&I(Fr.$elm$.parentNode,!1),De(Fr,qr,Zt),ht(Le,Fr.$elm$,Ur.$elm$),Fr=rt[--Tr],qr=Lt[++mr];else{for(Er=-1,Cr=Kt;Cr<=Tr;++Cr)if(rt[Cr]&&null!==rt[Cr].$key$&&rt[Cr].$key$===qr.$key$){Er=Cr;break}Er>=0?(wn=rt[Er],wn.$tag$!==qr.$tag$?_n=Ie(rt&&rt[mr],Tt,Er,Le):(De(wn,qr,Zt),rt[Er]=void 0,_n=wn.$elm$),qr=Lt[++mr]):(_n=Ie(rt&&rt[mr],Tt,mr,Le),qr=Lt[++mr]),_n&&ht(Ne(Ur.$elm$),_n,ne(Ur.$elm$))}Kt>Tr?U(Le,null==Lt[Gr+1]?null:Lt[Gr+1].$elm$,Tt,Lt,mr,Gr):mr>Gr&&D(rt,Kt,Tr)})(Lt,Zt,rt,Kt,Tt):null!==Kt?(null!==Le.$text$&&(Lt.textContent=""),U(Lt,null,rt,Kt,0,Kt.length-1)):null!==Zt&&D(Zt,0,Zt.length-1),pe&&"svg"===mr&&(pe=!1)):(Cr=Lt["s-cr"])?Cr.parentNode.textContent=Er:Le.$text$!==Er&&(Lt.data=Er)},qe=Le=>{const rt=Le.childNodes;for(const Tt of rt)if(1===Tt.nodeType){if(Tt["s-sr"]){const Lt=Tt["s-sn"];Tt.hidden=!1;for(const Zt of rt)if(Zt!==Tt)if(Zt["s-hn"]!==Tt["s-hn"]||""!==Lt){if(1===Zt.nodeType&&(Lt===Zt.getAttribute("slot")||Lt===Zt["s-sn"])||3===Zt.nodeType&&Lt===Zt["s-sn"]){Tt.hidden=!0;break}}else if(1===Zt.nodeType||3===Zt.nodeType&&""!==Zt.textContent.trim()){Tt.hidden=!0;break}}qe(Tt)}},St=[],sr=Le=>{let rt,Tt,Lt;for(const Zt of Le.childNodes){if(Zt["s-sr"]&&(rt=Zt["s-cr"])&&rt.parentNode){Tt=rt.parentNode.childNodes;const Kt=Zt["s-sn"];for(Lt=Tt.length-1;Lt>=0;Lt--)if(rt=Tt[Lt],!(rt["s-cn"]||rt["s-nr"]||rt["s-hn"]===Zt["s-hn"]||rt["s-sh"]&&rt["s-sh"]===Zt["s-hn"]))if(je(rt,Kt)){let mr=St.find(Er=>Er.$nodeToRelocate$===rt);Mr=!0,rt["s-sn"]=rt["s-sn"]||Kt,mr?(mr.$nodeToRelocate$["s-sh"]=Zt["s-hn"],mr.$slotRefNode$=Zt):(rt["s-sh"]=Zt["s-hn"],St.push({$slotRefNode$:Zt,$nodeToRelocate$:rt})),rt["s-sr"]&&St.map(Er=>{je(Er.$nodeToRelocate$,rt["s-sn"])&&(mr=St.find(Cr=>Cr.$nodeToRelocate$===rt),mr&&!Er.$slotRefNode$&&(Er.$slotRefNode$=mr.$slotRefNode$))})}else St.some(mr=>mr.$nodeToRelocate$===rt)||St.push({$nodeToRelocate$:rt})}1===Zt.nodeType&&sr(Zt)}},je=(Le,rt)=>1===Le.nodeType?null===Le.getAttribute("slot")&&""===rt||Le.getAttribute("slot")===rt:Le["s-sn"]===rt||""===rt,Ve=Le=>{Le.$attrs$&&Le.$attrs$.ref&&Le.$attrs$.ref(null),Le.$children$&&Le.$children$.map(Ve)},ht=(Le,rt,Tt)=>{const Lt=null==Le?void 0:Le.insertBefore(rt,Tt);return dt(rt,Le),Lt},Ge=Le=>{const rt=[];return Le&&rt.push(...Le["s-scs"]||[],Le["s-si"],Le["s-sc"],...Ge(Le.parentElement)),rt},dt=(Le,rt,Tt=!1)=>{var Lt;if(Le&&rt&&1===Le.nodeType){const Zt=new Set(Ge(rt).filter(Boolean));if(Zt.size&&(null==(Lt=Le.classList)||Lt.add(...Le["s-scs"]=[...Zt]),Le["s-ol"]||Tt))for(const Kt of Array.from(Le.childNodes))dt(Kt,Le,!0)}},ur=(Le,rt)=>{rt&&!Le.$onRenderResolve$&&rt["s-p"]&&rt["s-p"].push(new Promise(Tt=>Le.$onRenderResolve$=Tt))},vr=(Le,rt)=>{if(Le.$flags$|=16,!(4&Le.$flags$))return ur(Le,Le.$ancestorComponent$),me(()=>Pr(Le,rt));Le.$flags$|=512},Pr=(Le,rt)=>{const Zt=Le.$lazyInstance$;if(!Zt)throw new Error(`Can't render component <${Le.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Kt;return rt&&(Le.$flags$|=256,Le.$queuedListeners$&&(Le.$queuedListeners$.map(([mr,Er])=>bn(Zt,mr,Er)),Le.$queuedListeners$=void 0),Kt=bn(Zt,"componentWillLoad")),Kt=sn(Kt,()=>bn(Zt,"componentWillRender")),sn(Kt,()=>Nn(Le,Zt,rt))},sn=(Le,rt)=>nn(Le)?Le.then(rt).catch(Tt=>{console.error(Tt),rt()}):rt(),nn=Le=>Le instanceof Promise||Le&&Le.then&&"function"==typeof Le.then,Nn=function(){var Le=(0,M.A)(function*(rt,Tt,Lt){var Zt;const Kt=rt.$hostElement$,Er=Kt["s-rc"];Lt&&(Le=>{const rt=Le.$cmpMeta$,Tt=Le.$hostElement$,Lt=rt.$flags$,Kt=tr(Tt.shadowRoot?Tt.shadowRoot:Tt.getRootNode(),rt,Le.$modeName$);10&Lt&&(Tt["s-sc"]=Kt,Tt.classList.add(Kt+"-h"),2&Lt&&Tt.classList.add(Kt+"-s"))})(rt);Dn(rt,Tt,Kt,Lt),Er&&(Er.map(Tr=>Tr()),Kt["s-rc"]=void 0);{const Tr=null!=(Zt=Kt["s-p"])?Zt:[],Ur=()=>Kr(rt);0===Tr.length?Ur():(Promise.all(Tr).then(Ur),rt.$flags$|=4,Tr.length=0)}});return function(Tt,Lt,Zt){return Le.apply(this,arguments)}}(),Dn=(Le,rt,Tt,Lt)=>{try{rt=rt.render&&rt.render(),Le.$flags$&=-17,Le.$flags$|=2,((Le,rt,Tt=!1)=>{var Lt,Zt,Kt,mr,Er;const Cr=Le.$hostElement$,Tr=Le.$cmpMeta$,Ur=Le.$vnode$||cr(null,null),Fr=(Le=>Le&&Le.$tag$===It)(rt)?rt:Vt(null,null,rt);if(wr=Cr.tagName,Tr.$attrsToReflect$&&(Fr.$attrs$=Fr.$attrs$||{},Tr.$attrsToReflect$.map(([Gr,qr])=>Fr.$attrs$[qr]=Cr[Gr])),Tt&&Fr.$attrs$)for(const Gr of Object.keys(Fr.$attrs$))Cr.hasAttribute(Gr)&&!["key","ref","style","class"].includes(Gr)&&(Fr.$attrs$[Gr]=Cr[Gr]);if(Fr.$tag$=null,Fr.$flags$|=4,Le.$vnode$=Fr,Fr.$elm$=Ur.$elm$=Cr.shadowRoot||Cr,lr=Cr["s-sc"],xr=!!(1&Tr.$flags$),yr=Cr["s-cr"],Mr=!1,De(Ur,Fr,Tt),N.$flags$|=1,X){sr(Fr.$elm$);for(const Gr of St){const qr=Gr.$nodeToRelocate$;if(!qr["s-ol"]){const pn=k.createTextNode("");pn["s-nr"]=qr,ht(qr.parentNode,qr["s-ol"]=pn,qr)}}for(const Gr of St){const qr=Gr.$nodeToRelocate$,pn=Gr.$slotRefNode$;if(pn){const _n=pn.parentNode;let wn=pn.nextSibling;if(wn&&1===wn.nodeType){let Un=null==(Lt=qr["s-ol"])?void 0:Lt.previousSibling;for(;Un;){let kn=null!=(Zt=Un["s-nr"])?Zt:null;if(kn&&kn["s-sn"]===qr["s-sn"]&&_n===kn.parentNode){for(kn=kn.nextSibling;kn===qr||null!=kn&&kn["s-sr"];)kn=null==kn?void 0:kn.nextSibling;if(!kn||!kn["s-nr"]){wn=kn;break}}Un=Un.previousSibling}}(!wn&&_n!==qr.parentNode||qr.nextSibling!==wn)&&qr!==wn&&(ht(_n,qr,wn),1===qr.nodeType&&(qr.hidden=null!=(Kt=qr["s-ih"])&&Kt)),qr&&"function"==typeof pn["s-rf"]&&pn["s-rf"](qr)}else 1===qr.nodeType&&(Tt&&(qr["s-ih"]=null!=(mr=qr.hidden)&&mr),qr.hidden=!0)}}if(Mr&&qe(Fr.$elm$),N.$flags$&=-2,St.length=0,2&Tr.$flags$)for(const Gr of Fr.$elm$.childNodes)Gr["s-hn"]!==wr&&!Gr["s-sh"]&&(Tt&&null==Gr["s-ih"]&&(Gr["s-ih"]=null!=(Er=Gr.hidden)&&Er),Gr.hidden=!0);yr=void 0})(Le,rt,Lt)}catch(Zt){w(Zt,Le.$hostElement$)}return null},Kr=Le=>{const Tt=Le.$hostElement$,Zt=Le.$lazyInstance$,Kt=Le.$ancestorComponent$;bn(Zt,"componentDidRender"),64&Le.$flags$?bn(Zt,"componentDidUpdate"):(Le.$flags$|=64,Ln(Tt),bn(Zt,"componentDidLoad"),Le.$onReadyResolve$(Tt),Kt||Gn()),Le.$onInstanceResolve$(Tt),Le.$onRenderResolve$&&(Le.$onRenderResolve$(),Le.$onRenderResolve$=void 0),512&Le.$flags$&&O(()=>vr(Le,!1)),Le.$flags$&=-517},yn=Le=>{{const rt=v(Le),Tt=rt.$hostElement$.isConnected;return Tt&&2==(18&rt.$flags$)&&vr(rt,!1),Tt}},Gn=Le=>{Ln(k.documentElement),O(()=>_t(P,"appload",{detail:{namespace:"ionic"}}))},bn=(Le,rt,Tt)=>{if(Le&&Le[rt])try{return Le[rt](Tt)}catch(Lt){w(Lt)}},Ln=Le=>Le.classList.add(("hydrated","hydrated")),wo=(Le,rt,Tt)=>{var Lt,Zt;const Kt=Le.prototype;if(rt.$members$||rt.$watchers$||Le.watchers){Le.watchers&&!rt.$watchers$&&(rt.$watchers$=Le.watchers);const mr=Object.entries(null!=(Lt=rt.$members$)?Lt:{});if(mr.map(([Er,[Cr]])=>{31&Cr||2&Tt&&32&Cr?Object.defineProperty(Kt,Er,{get(){return((Le,rt)=>v(this).$instanceValues$.get(rt))(0,Er)},set(Tr){((Le,rt,Tt,Lt)=>{const Zt=v(Le);if(!Zt)throw new Error(`Couldn't find host element for "${Lt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Kt=Zt.$hostElement$,mr=Zt.$instanceValues$.get(rt),Er=Zt.$flags$,Cr=Zt.$lazyInstance$;Tt=((Le,rt)=>null==Le||st(Le)?Le:4&rt?"false"!==Le&&(""===Le||!!Le):2&rt?parseFloat(Le):1&rt?String(Le):Le)(Tt,Lt.$members$[rt][0]);const Tr=Number.isNaN(mr)&&Number.isNaN(Tt);if((!(8&Er)||void 0===mr)&&Tt!==mr&&!Tr&&(Zt.$instanceValues$.set(rt,Tt),Cr)){if(Lt.$watchers$&&128&Er){const Fr=Lt.$watchers$[rt];Fr&&Fr.map(Gr=>{try{Cr[Gr](Tt,mr,rt)}catch(qr){w(qr,Kt)}})}2==(18&Er)&&vr(Zt,!1)}})(this,Er,Tr,rt)},configurable:!0,enumerable:!0}):1&Tt&&64&Cr&&Object.defineProperty(Kt,Er,{value(...Tr){var Ur;const Fr=v(this);return null==(Ur=null==Fr?void 0:Fr.$onInstancePromise$)?void 0:Ur.then(()=>{var Gr;return null==(Gr=Fr.$lazyInstance$)?void 0:Gr[Er](...Tr)})}})}),1&Tt){const Er=new Map;Kt.attributeChangedCallback=function(Cr,Tr,Ur){N.jmp(()=>{var Fr;const Gr=Er.get(Cr);if(this.hasOwnProperty(Gr))Ur=this[Gr],delete this[Gr];else{if(Kt.hasOwnProperty(Gr)&&"number"==typeof this[Gr]&&this[Gr]==Ur)return;if(null==Gr){const qr=v(this),pn=null==qr?void 0:qr.$flags$;if(pn&&!(8&pn)&&128&pn&&Ur!==Tr){const _n=qr.$lazyInstance$,wn=null==(Fr=rt.$watchers$)?void 0:Fr[Cr];null==wn||wn.forEach(Un=>{null!=_n[Un]&&_n[Un].call(_n,Ur,Tr,Cr)})}return}}this[Gr]=(null!==Ur||"boolean"!=typeof this[Gr])&&Ur})},Le.observedAttributes=Array.from(new Set([...Object.keys(null!=(Zt=rt.$watchers$)?Zt:{}),...mr.filter(([Cr,Tr])=>15&Tr[0]).map(([Cr,Tr])=>{var Ur;const Fr=Tr[1]||Cr;return Er.set(Fr,Cr),512&Tr[0]&&(null==(Ur=rt.$attrsToReflect$)||Ur.push([Cr,Fr])),Fr})]))}}return Le},ko=function(){var Le=(0,M.A)(function*(rt,Tt,Lt,Zt){let Kt;if(!(32&Tt.$flags$)){if(Tt.$flags$|=32,Lt.$lazyBundleId$){const Tr=((Le,rt,Tt)=>{const Lt=Le.$tagName$.replace(/-/g,"_"),Zt=Le.$lazyBundleId$;if(!Zt)return;const Kt=_.get(Zt);return Kt?Kt[Lt]:_e(8996)(`./${Zt}.entry.js`).then(mr=>(_.set(Zt,mr),mr[Lt]),w)})(Lt);if(Tr&&"then"in Tr){const Fr=()=>{};Kt=yield Tr,Fr()}else Kt=Tr;if(!Kt)throw new Error(`Constructor for "${Lt.$tagName$}#${Tt.$modeName$}" was not found`);Kt.isProxied||(Lt.$watchers$=Kt.watchers,wo(Kt,Lt,2),Kt.isProxied=!0);const Ur=()=>{};Tt.$flags$|=8;try{new Kt(Tt)}catch(Fr){w(Fr)}Tt.$flags$&=-9,Tt.$flags$|=128,Ur(),No(Tt.$lazyInstance$)}else Kt=rt.constructor,customElements.whenDefined(rt.localName).then(()=>Tt.$flags$|=128);if(Kt&&Kt.style){let Tr;"string"==typeof Kt.style?Tr=Kt.style:"string"!=typeof Kt.style&&(Tt.$modeName$=(Le=>l.map(rt=>rt(Le)).find(rt=>!!rt))(rt),Tt.$modeName$&&(Tr=Kt.style[Tt.$modeName$]));const Ur=vt(Lt,Tt.$modeName$);if(!a.has(Ur)){const Fr=()=>{};Xt(Ur,Tr,!!(1&Lt.$flags$)),Fr()}}}const mr=Tt.$ancestorComponent$,Er=()=>vr(Tt,!0);mr&&mr["s-rc"]?mr["s-rc"].push(Er):Er()});return function(Tt,Lt,Zt,Kt){return Le.apply(this,arguments)}}(),No=Le=>{bn(Le,"connectedCallback")},Wn=Le=>{const rt=Le["s-cr"]=k.createComment("");rt["s-cn"]=!0,ht(Le,rt,Le.firstChild)},Vo=Le=>{bn(Le,"disconnectedCallback")},oo=function(){var Le=(0,M.A)(function*(rt){if(!(1&N.$flags$)){const Tt=v(rt);Tt.$rmListeners$&&(Tt.$rmListeners$.map(Lt=>Lt()),Tt.$rmListeners$=void 0),null!=Tt&&Tt.$lazyInstance$?Vo(Tt.$lazyInstance$):null!=Tt&&Tt.$onReadyPromise$&&Tt.$onReadyPromise$.then(()=>Vo(Tt.$lazyInstance$))}});return function(Tt){return Le.apply(this,arguments)}}(),vs=Le=>{const rt=Le.cloneNode;Le.cloneNode=function(Tt){const Lt=this,Zt=Lt.shadowRoot&&Z,Kt=rt.call(Lt,!!Zt&&Tt);if(!Zt&&Tt){let Er,Cr,mr=0;const Tr=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;mr<Lt.childNodes.length;mr++)Er=Lt.childNodes[mr]["s-nr"],Cr=Tr.every(Ur=>!Lt.childNodes[mr][Ur]),Er&&(Kt.__appendChild?Kt.__appendChild(Er.cloneNode(!0)):Kt.appendChild(Er.cloneNode(!0))),Cr&&Kt.appendChild(Lt.childNodes[mr].cloneNode(!0))}return Kt}},ye=Le=>{Le.__appendChild=Le.appendChild,Le.appendChild=function(rt){const Tt=rt["s-sn"]=Yo(rt),Lt=As(this.childNodes,Tt,this.tagName);if(Lt){const Zt=Ms(Lt,Tt),Kt=Zt[Zt.length-1],mr=ht(Kt.parentNode,rt,Kt.nextSibling);return qe(this),mr}return this.__appendChild(rt)}},He=Le=>{Le.__removeChild=Le.removeChild,Le.removeChild=function(rt){if(rt&&typeof rt["s-sn"]<"u"){const Tt=As(this.childNodes,rt["s-sn"],this.tagName);if(Tt){const Zt=Ms(Tt,rt["s-sn"]).find(Kt=>Kt===rt);if(Zt)return Zt.remove(),void qe(this)}}return this.__removeChild(rt)}},ct=Le=>{const rt=Le.prepend;Le.prepend=function(...Tt){Tt.forEach(Lt=>{"string"==typeof Lt&&(Lt=this.ownerDocument.createTextNode(Lt));const Zt=Lt["s-sn"]=Yo(Lt),Kt=As(this.childNodes,Zt,this.tagName);if(Kt){const mr=document.createTextNode("");mr["s-nr"]=Lt,Kt["s-cr"].parentNode.__appendChild(mr),Lt["s-ol"]=mr;const Cr=Ms(Kt,Zt)[0];return ht(Cr.parentNode,Lt,Cr.nextSibling)}return 1===Lt.nodeType&&Lt.getAttribute("slot")&&(Lt.hidden=!0),rt.call(this,Lt)})}},Ee=Le=>{Le.append=function(...rt){rt.forEach(Tt=>{"string"==typeof Tt&&(Tt=this.ownerDocument.createTextNode(Tt)),this.appendChild(Tt)})}},mt=Le=>{const rt=Le.insertAdjacentHTML;Le.insertAdjacentHTML=function(Tt,Lt){if("afterbegin"!==Tt&&"beforeend"!==Tt)return rt.call(this,Tt,Lt);const Zt=this.ownerDocument.createElement("_");let Kt;if(Zt.innerHTML=Lt,"afterbegin"===Tt)for(;Kt=Zt.firstChild;)this.prepend(Kt);else if("beforeend"===Tt)for(;Kt=Zt.firstChild;)this.append(Kt)}},Jt=Le=>{Le.insertAdjacentText=function(rt,Tt){this.insertAdjacentHTML(rt,Tt)}},hn=Le=>{const rt=Le.insertAdjacentElement;Le.insertAdjacentElement=function(Tt,Lt){return"afterbegin"!==Tt&&"beforeend"!==Tt?rt.call(this,Tt,Lt):"afterbegin"===Tt?(this.prepend(Lt),Lt):("beforeend"===Tt&&this.append(Lt),Lt)}},Fn=Le=>{const rt=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Le,"__textContent",rt),Object.defineProperty(Le,"textContent",{get(){return" "+ts(this.childNodes).map(Zt=>{var Kt,mr;const Er=[];let Cr=Zt.nextSibling;for(;Cr&&Cr["s-sn"]===Zt["s-sn"];)(3===Cr.nodeType||1===Cr.nodeType)&&Er.push(null!=(mr=null==(Kt=Cr.textContent)?void 0:Kt.trim())?mr:""),Cr=Cr.nextSibling;return Er.filter(Tr=>""!==Tr).join(" ")}).filter(Zt=>""!==Zt).join(" ")+" "},set(Tt){ts(this.childNodes).forEach(Zt=>{let Kt=Zt.nextSibling;for(;Kt&&Kt["s-sn"]===Zt["s-sn"];){const mr=Kt;Kt=Kt.nextSibling,mr.remove()}if(""===Zt["s-sn"]){const mr=this.ownerDocument.createTextNode(Tt);mr["s-sn"]="",ht(Zt.parentElement,mr,Zt.nextSibling)}else Zt.remove()})}})},mo=(Le,rt)=>{class Tt extends Array{item(Zt){return this[Zt]}}if(8&rt.$flags$){const Lt=Le.__lookupGetter__("childNodes");Object.defineProperty(Le,"children",{get(){return this.childNodes.map(Zt=>1===Zt.nodeType)}}),Object.defineProperty(Le,"childElementCount",{get:()=>Le.children.length}),Object.defineProperty(Le,"childNodes",{get(){const Zt=Lt.call(this);if(!(1&N.$flags$)&&2&v(this).$flags$){const Kt=new Tt;for(let mr=0;mr<Zt.length;mr++){const Er=Zt[mr]["s-nr"];Er&&Kt.push(Er)}return Kt}return Tt.from(Zt)}})}},ts=Le=>{const rt=[];for(const Tt of Array.from(Le))Tt["s-sr"]&&rt.push(Tt),rt.push(...ts(Tt.childNodes));return rt},Yo=Le=>Le["s-sn"]||1===Le.nodeType&&Le.getAttribute("slot")||"",As=(Le,rt,Tt)=>{let Zt,Lt=0;for(;Lt<Le.length;Lt++)if(Zt=Le[Lt],Zt["s-sr"]&&Zt["s-sn"]===rt&&Zt["s-hn"]===Tt||(Zt=As(Zt.childNodes,rt,Tt),Zt))return Zt;return null},Ms=(Le,rt)=>{const Tt=[Le];for(;(Le=Le.nextSibling)&&Le["s-sn"]===rt;)Tt.push(Le);return Tt},Is=(Le,rt={})=>{var Tt;const Zt=[],Kt=rt.exclude||[],mr=P.customElements,Er=k.head,Cr=Er.querySelector("meta[charset]"),Tr=k.createElement("style"),Ur=[],Fr=k.querySelectorAll(`[${y}]`);let Gr,qr=!0,pn=0;for(Object.assign(N,rt),N.$resourcesUrl$=new URL(rt.resourcesUrl||"./",k.baseURI).href,N.$flags$|=2;pn<Fr.length;pn++)Xt(Fr[pn].getAttribute(y),Ut(Fr[pn].innerHTML),!0);let _n=!1;if(Le.map(wn=>{wn[1].map(Un=>{var kn;const Rr={$flags$:Un[0],$tagName$:Un[1],$members$:Un[2],$listeners$:Un[3]};4&Rr.$flags$&&(_n=!0),Rr.$members$=Un[2],Rr.$listeners$=Un[3],Rr.$attrsToReflect$=[],Rr.$watchers$=null!=(kn=Un[4])?kn:{};const go=Rr.$tagName$,Lo=class extends HTMLElement{constructor(Pn){if(super(Pn),this.hasRegisteredEventListeners=!1,((Le,rt)=>{const Tt={$flags$:0,$hostElement$:Le,$cmpMeta$:rt,$instanceValues$:new Map};Tt.$onInstancePromise$=new Promise(Lt=>Tt.$onInstanceResolve$=Lt),Tt.$onReadyPromise$=new Promise(Lt=>Tt.$onReadyResolve$=Lt),Le["s-p"]=[],Le["s-rc"]=[],$.set(Le,Tt)})(Pn=this,Rr),1&Rr.$flags$)if(Pn.shadowRoot){if("open"!==Pn.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Rr.$tagName$}! Mode is set to ${Pn.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Pn.attachShadow({mode:"open",delegatesFocus:!!(16&Rr.$flags$)})}connectedCallback(){const Pn=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,js(this,Pn,Rr.$listeners$)),Gr&&(clearTimeout(Gr),Gr=null),qr?Ur.push(this):N.jmp(()=>(Le=>{if(!(1&N.$flags$)){const rt=v(Le),Tt=rt.$cmpMeta$,Lt=()=>{};if(1&rt.$flags$)js(Le,rt,Tt.$listeners$),null!=rt&&rt.$lazyInstance$?No(rt.$lazyInstance$):null!=rt&&rt.$onReadyPromise$&&rt.$onReadyPromise$.then(()=>No(rt.$lazyInstance$));else{let Zt;if(rt.$flags$|=1,Zt=Le.getAttribute(p),Zt){if(1&Tt.$flags$){const Kt=tr(Le.shadowRoot,Tt,Le.getAttribute("s-mode"));Le.classList.remove(Kt+"-h",Kt+"-s")}((Le,rt,Tt,Lt)=>{const Kt=Le.shadowRoot,mr=[],Cr=Kt?[]:null,Tr=Lt.$vnode$=cr(rt,null);N.$orgLocNodes$||$e(k.body,N.$orgLocNodes$=new Map),Le[p]=Tt,Le.removeAttribute(p),Gt(Tr,mr,[],Cr,Le,Le,Tt),mr.map(Ur=>{const Fr=Ur.$hostId$+"."+Ur.$nodeId$,Gr=N.$orgLocNodes$.get(Fr),qr=Ur.$elm$;Gr&&""===Gr["s-en"]&&Gr.parentNode.insertBefore(qr,Gr.nextSibling),Kt||(qr["s-hn"]=rt,Gr&&(qr["s-ol"]=Gr,qr["s-ol"]["s-nr"]=qr)),N.$orgLocNodes$.delete(Fr)}),Kt&&Cr.map(Ur=>{Ur&&Kt.appendChild(Ur)})})(Le,Tt.$tagName$,Zt,rt)}Zt||12&Tt.$flags$&&Wn(Le);{let Kt=Le;for(;Kt=Kt.parentNode||Kt.host;)if(1===Kt.nodeType&&Kt.hasAttribute("s-id")&&Kt["s-p"]||Kt["s-p"]){ur(rt,rt.$ancestorComponent$=Kt);break}}Tt.$members$&&Object.entries(Tt.$members$).map(([Kt,[mr]])=>{if(31&mr&&Le.hasOwnProperty(Kt)){const Er=Le[Kt];delete Le[Kt],Le[Kt]=Er}}),ko(Le,rt,Tt)}Lt()}})(this))}disconnectedCallback(){N.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&Rr.$flags$&&((Le,rt)=>{vs(Le),ye(Le),Ee(Le),ct(Le),hn(Le),mt(Le),Jt(Le),Fn(Le),mo(Le,rt),He(Le)})(Lo.prototype,Rr),Rr.$lazyBundleId$=wn[0],!Kt.includes(go)&&!mr.get(go)&&(Zt.push(go),mr.define(go,wo(Lo,Rr,1)))})}),Zt.length>0&&(_n&&(Tr.textContent+=B),Tr.textContent+=Zt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Tr.innerHTML.length)){Tr.setAttribute("data-styles","");const wn=null!=(Tt=N.$nonce$)?Tt:at(k);null!=wn&&Tr.setAttribute("nonce",wn),Er.insertBefore(Tr,Cr?Cr.nextSibling:Er.firstChild)}qr=!1,Ur.length?Ur.map(wn=>wn.connectedCallback()):N.jmp(()=>Gr=setTimeout(Gn,30))},js=(Le,rt,Tt,Lt)=>{Tt&&Tt.map(([Zt,Kt,mr])=>{const Er=Ao(Le,Zt),Cr=Eo(rt,mr),Tr=Yn(Zt);N.ael(Er,Kt,Cr,Tr),(rt.$rmListeners$=rt.$rmListeners$||[]).push(()=>N.rel(Er,Kt,Cr,Tr))})},Eo=(Le,rt)=>Tt=>{var Lt;try{256&Le.$flags$?null==(Lt=Le.$lazyInstance$)||Lt[rt](Tt):(Le.$queuedListeners$=Le.$queuedListeners$||[]).push([rt,Tt])}catch(Zt){w(Zt)}},Ao=(Le,rt)=>4&rt?k:8&rt?P:16&rt?k.body:Le,Yn=Le=>ee?{passive:!!(1&Le),capture:!!(2&Le)}:!!(2&Le)},1331:(Dr,rr,_e)=>{"use strict";_e.d(rr,{b:()=>v,c:()=>b,d:()=>f,e:()=>Z,g:()=>te,l:()=>N,s:()=>ee,t:()=>d,w:()=>j});var M=_e(467),A=_e(4921),et=_e(8393),Et=_e(4929),o=_e(4920);const v="ionViewWillLeave",b="ionViewDidLeave",f="ionViewWillUnload",m=W=>{W.tabIndex=-1,W.focus()},w=W=>null!==W.offsetParent,i="ion-last-focus",u_saveViewFocus=Y=>{if(A.c.get("focusManagerPriority",!1)){const Me=document.activeElement;null!==Me&&null!=Y&&Y.contains(Me)&&Me.setAttribute(i,"true")}},u_setViewFocus=Y=>{const le=A.c.get("focusManagerPriority",!1);if(Array.isArray(le)&&!Y.contains(document.activeElement)){const Me=Y.querySelector(`[${i}]`);if(Me&&w(Me))return void m(Me);for(const K of le)switch(K){case"content":const O=Y.querySelector('main, [role="main"]');if(O&&w(O))return void m(O);break;case"heading":const oe=Y.querySelector('h1, [role="heading"][aria-level="1"]');if(oe&&w(oe))return void m(oe);break;case"banner":const me=Y.querySelector('header, [role="banner"]');if(me&&w(me))return void m(me);break;default:(0,Et.p)(`Unrecognized focus manager priority value ${K}`)}m(Y)}},d=W=>new Promise((G,Y)=>{(0,et.w)(()=>{h(W),g(W).then(le=>{le.animation&&le.animation.destroy(),p(W),G(le)},le=>{p(W),Y(le)})})}),h=W=>{const G=W.enteringEl,Y=W.leavingEl;u_saveViewFocus(Y),z(G,Y,W.direction),W.showGoBack?G.classList.add("can-go-back"):G.classList.remove("can-go-back"),ee(G,!1),G.style.setProperty("pointer-events","none"),Y&&(ee(Y,!1),Y.style.setProperty("pointer-events","none"))},g=function(){var W=(0,M.A)(function*(G){const Y=yield y(G);return Y&&et.B.isBrowser?C(Y,G):H(G)});return function(Y){return W.apply(this,arguments)}}(),p=W=>{const G=W.enteringEl,Y=W.leavingEl;G.classList.remove("ion-page-invisible"),G.style.removeProperty("pointer-events"),void 0!==Y&&(Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events")),u_setViewFocus(G)},y=function(){var W=(0,M.A)(function*(G){return G.leavingEl&&G.animated&&0!==G.duration?G.animationBuilder?G.animationBuilder:"ios"===G.mode?(yield Promise.resolve().then(_e.bind(_e,9856))).iosTransitionAnimation:(yield Promise.resolve().then(_e.bind(_e,361))).mdTransitionAnimation:void 0});return function(Y){return W.apply(this,arguments)}}(),C=function(){var W=(0,M.A)(function*(G,Y){yield B(Y,!0);const le=G(Y.baseEl,Y);k(Y.enteringEl,Y.leavingEl);const Me=yield P(le,Y);return Y.progressCallback&&Y.progressCallback(void 0),Me&&T(Y.enteringEl,Y.leavingEl),{hasCompleted:Me,animation:le}});return function(Y,le){return W.apply(this,arguments)}}(),H=function(){var W=(0,M.A)(function*(G){const Y=G.enteringEl,le=G.leavingEl,Me=A.c.get("focusManagerPriority",!1);return yield B(G,Me),k(Y,le),T(Y,le),{hasCompleted:!0}});return function(Y){return W.apply(this,arguments)}}(),B=function(){var W=(0,M.A)(function*(G,Y){(void 0!==G.deepWait?G.deepWait:Y)&&(yield Promise.all([Z(G.enteringEl),Z(G.leavingEl)])),yield R(G.viewIsReady,G.enteringEl)});return function(Y,le){return W.apply(this,arguments)}}(),R=function(){var W=(0,M.A)(function*(G,Y){G&&(yield G(Y))});return function(Y,le){return W.apply(this,arguments)}}(),P=(W,G)=>{const Y=G.progressCallback,le=new Promise(Me=>{W.onFinish(K=>Me(1===K))});return Y?(W.progressStart(!0),Y(W)):W.play(),le},k=(W,G)=>{N(G,v),N(W,"ionViewWillEnter")},T=(W,G)=>{N(W,"ionViewDidEnter"),N(G,b)},N=(W,G)=>{if(W){const Y=new CustomEvent(G,{bubbles:!1,cancelable:!1});W.dispatchEvent(Y)}},j=()=>new Promise(W=>(0,o.r)(()=>(0,o.r)(()=>W()))),Z=function(){var W=(0,M.A)(function*(G){const Y=G;if(Y){if(null!=Y.componentOnReady){if(null!=(yield Y.componentOnReady()))return}else if(null!=Y.__registerHost)return void(yield new Promise(Me=>(0,o.r)(Me)));yield Promise.all(Array.from(Y.children).map(Z))}});return function(Y){return W.apply(this,arguments)}}(),ee=(W,G)=>{G?(W.setAttribute("aria-hidden","true"),W.classList.add("ion-page-hidden")):(W.hidden=!1,W.removeAttribute("aria-hidden"),W.classList.remove("ion-page-hidden"))},z=(W,G,Y)=>{void 0!==W&&(W.style.zIndex="back"===Y?"99":"101"),void 0!==G&&(G.style.zIndex="100")},te=W=>W.classList.contains("ion-page")?W:W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||W},4929:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>A,b:()=>et,p:()=>M});const M=(Et,...o)=>console.warn(`[Ionic Warning]: ${Et}`,...o),A=(Et,...o)=>console.error(`[Ionic Error]: ${Et}`,...o),et=(Et,...o)=>console.error(`<${Et.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(Dr,rr,_e)=>{"use strict";_e.d(rr,{d:()=>A,w:()=>M});const M=typeof window<"u"?window:void 0,A=typeof document<"u"?document:void 0},617:(Dr,rr,_e)=>{"use strict";_e.d(rr,{FJ:()=>f.l,JI:()=>M.c,NC:()=>et.iosTransitionAnimation,OZ:()=>f.m,QX:()=>v.s,TN:()=>f.a,V5:()=>Et.mdTransitionAnimation,Vk:()=>v.I,mF:()=>f.c,sE:()=>o.g});var M=_e(9986),et=(_e(1331),_e(9856)),Et=_e(361),o=_e(3351),v=(_e(8607),_e(4921),_e(464)),f=(_e(6073),_e(1070));_e(8476),_e(8393),_e(1970),_e(8669)},4921:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>m,b:()=>ee,c:()=>et,i:()=>z});var M=_e(8393);class A{constructor(){this.m=new Map}reset(W){this.m=new Map(Object.entries(W))}get(W,G){const Y=this.m.get(W);return void 0!==Y?Y:G}getBoolean(W,G=!1){const Y=this.m.get(W);return void 0===Y?G:"string"==typeof Y?"true"===Y:!!Y}getNumber(W,G){const Y=parseFloat(this.m.get(W));return isNaN(Y)?void 0!==G?G:NaN:Y}set(W,G){this.m.set(W,G)}}const et=new A,v="ionic:",b="ionic-persist-config",m=(te,W)=>("string"==typeof te&&(W=te,te=void 0),(te=>w(te))(te).includes(W)),w=(te=window)=>{if(typeof te>"u")return[];te.Ionic=te.Ionic||{};let W=te.Ionic.platforms;return null==W&&(W=te.Ionic.platforms=_(te),W.forEach(G=>te.document.documentElement.classList.add(`plt-${G}`))),W},_=te=>{const W=et.get("platform");return Object.keys(j).filter(G=>{const Y=null==W?void 0:W[G];return"function"==typeof Y?Y(te):j[G](te)})},a=te=>!!(T(te,/iPad/i)||T(te,/Macintosh/i)&&y(te)),d=te=>T(te,/android|sink/i),y=te=>N(te,"(any-pointer:coarse)"),H=te=>B(te)||R(te),B=te=>!!(te.cordova||te.phonegap||te.PhoneGap),R=te=>{const W=te.Capacitor;return!(null==W||!W.isNative)},T=(te,W)=>W.test(te.navigator.userAgent),N=(te,W)=>{var G;return null===(G=te.matchMedia)||void 0===G?void 0:G.call(te,W).matches},j={ipad:a,iphone:te=>T(te,/iPhone/i),ios:te=>T(te,/iPhone|iPod/i)||a(te),android:d,phablet:te=>{const W=te.innerWidth,G=te.innerHeight,Y=Math.min(W,G),le=Math.max(W,G);return Y>390&&Y<520&&le>620&&le<800},tablet:te=>{const W=te.innerWidth,G=te.innerHeight,Y=Math.min(W,G),le=Math.max(W,G);return a(te)||(te=>d(te)&&!T(te,/mobile/i))(te)||Y>460&&Y<820&&le>780&&le<1400},cordova:B,capacitor:R,electron:te=>T(te,/electron/i),pwa:te=>{var W;return!!(null!==(W=te.matchMedia)&&void 0!==W&&W.call(te,"(display-mode: standalone)").matches||te.navigator.standalone)},mobile:y,mobileweb:te=>y(te)&&!H(te),desktop:te=>!y(te),hybrid:H};let Z;const ee=te=>te&&(0,M.g)(te)||Z,z=(te={})=>{if(typeof window>"u")return;const W=window.document,G=window,Y=G.Ionic=G.Ionic||{},le={};te._ael&&(le.ael=te._ael),te._rel&&(le.rel=te._rel),te._ce&&(le.ce=te._ce),(0,M.a)(le);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(te=>{try{const W=te.sessionStorage.getItem(b);return null!==W?JSON.parse(W):{}}catch{return{}}})(G)),{persistConfig:!1}),Y.config),(te=>{const W={};return te.location.search.slice(1).split("&").map(G=>G.split("=")).map(([G,Y])=>{try{return[decodeURIComponent(G),decodeURIComponent(Y)]}catch{return["",""]}}).filter(([G])=>((te,W)=>te.substr(0,W.length)===W)(G,v)).map(([G,Y])=>[G.slice(6),Y]).forEach(([G,Y])=>{W[G]=Y}),W})(G)),te);et.reset(Me),et.getBoolean("persistConfig")&&((te,W)=>{try{te.sessionStorage.setItem(b,JSON.stringify(W))}catch{return}})(G,Me),w(G),Y.config=et,Y.mode=Z=et.get("mode",W.documentElement.getAttribute("mode")||(m(G,"ios")?"ios":"md")),et.set("mode",Z),W.documentElement.setAttribute("mode",Z),W.documentElement.classList.add(Z),et.getBoolean("_testing")&&et.set("animated",!1);const K=oe=>{var me;return null===(me=oe.tagName)||void 0===me?void 0:me.startsWith("ION-")},O=oe=>["ios","md"].includes(oe);(0,M.c)(oe=>{for(;oe;){const me=oe.mode||oe.getAttribute("mode");if(me){if(O(me))return me;K(oe)&&console.warn('Invalid ionic mode: "'+me+'", expected: "ios" or "md"')}oe=oe.parentElement}return Z})}},9856:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{iosTransitionAnimation:()=>i,shadow:()=>v});var M=_e(9986),A=_e(1331);_e(8476),_e(4921),_e(8393);const $=l=>document.querySelector(`${l}.ion-cloned-element`),v=l=>l.shadowRoot||l,b=l=>{const u="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs"),d="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=u){const h=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=h?h.querySelector(d):null}return l.querySelector(d)},f=(l,u)=>{const d="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs");let h=[];if(null!=d){const g=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=g&&(h=g.querySelectorAll("ion-buttons"))}else h=l.querySelectorAll("ion-buttons");for(const g of h){const p=g.closest("ion-header"),y=p&&!p.classList.contains("header-collapse-condense-inactive"),C=g.querySelector("ion-back-button"),H=g.classList.contains("buttons-collapse");if(null!==C&&("start"===g.slot||""===g.slot)&&(H&&y&&u||!H))return C}return null},w=(l,u,d,h,g,p,y,C,H)=>{var B,R;const P=u?`calc(100% - ${g.right+4}px)`:g.left-4+"px",k=u?"right":"left",T=u?"left":"right",N=u?"right":"left";let j=1,Z=1,ee=`scale(${Z})`;const z="scale(1)";if(p&&y){const Ze=(null===(B=p.textContent)||void 0===B?void 0:B.trim())===(null===(R=C.textContent)||void 0===R?void 0:R.trim());j=H.width/y.width,Z=(H.height-a)/y.height,ee=Ze?`scale(${j}, ${Z})`:`scale(${Z})`}const W=v(h).querySelector("ion-icon").getBoundingClientRect(),G=u?W.width/2-(W.right-g.right)+"px":g.left-W.width/2+"px",Y=u?`-${window.innerWidth-g.right}px`:`${g.left}px`,le=`${H.top}px`,Me=`${g.top}px`,oe=d?[{offset:0,transform:`translate3d(${Y}, ${Me}, 0)`},{offset:1,transform:`translate3d(${G}, ${le}, 0)`}]:[{offset:0,transform:`translate3d(${G}, ${le}, 0)`},{offset:1,transform:`translate3d(${Y}, ${Me}, 0)`}],Ue=d?[{offset:0,opacity:1,transform:z},{offset:1,opacity:0,transform:ee}]:[{offset:0,opacity:0,transform:ee},{offset:1,opacity:1,transform:z}],ze=d?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],st=(0,M.c)(),at=(0,M.c)(),Fe=(0,M.c)(),nt=$("ion-back-button"),Ye=v(nt).querySelector(".button-text"),ot=v(nt).querySelector("ion-icon");nt.text=h.text,nt.mode=h.mode,nt.icon=h.icon,nt.color=h.color,nt.disabled=h.disabled,nt.style.setProperty("display","block"),nt.style.setProperty("position","fixed"),at.addElement(ot),st.addElement(Ye),Fe.addElement(nt),Fe.beforeStyles({position:"absolute",top:"0px",[N]:"0px"}).beforeAddWrite(()=>{h.style.setProperty("display","none"),nt.style.setProperty(k,P)}).afterAddWrite(()=>{h.style.setProperty("display",""),nt.style.setProperty("display","none"),nt.style.removeProperty(k)}).keyframes(oe),st.beforeStyles({"transform-origin":`${k} top`}).keyframes(Ue),at.beforeStyles({"transform-origin":`${T} center`}).keyframes(ze),l.addAnimation([st,at,Fe])},_=(l,u,d,h,g,p,y,C,H)=>{var B,R;const P=u?"right":"left",k=u?`calc(100% - ${g.right}px)`:`${g.left}px`,N=`${g.top}px`;let Z=u?`-${window.innerWidth-y.right-8}px`:`${y.x+8}px`,ee=.5;const z="scale(1)";let te=`scale(${ee})`;if(C&&H){Z=u?`-${window.innerWidth-H.right-8}px`:H.x-8+"px";const me=(null===(B=C.textContent)||void 0===B?void 0:B.trim())===(null===(R=h.textContent)||void 0===R?void 0:R.trim());ee=H.height/(p.height-a),te=me?`scale(${H.width/p.width}, ${ee})`:`scale(${ee})`}const Y=y.top+y.height/2-g.height*ee/2+"px",K=d?[{offset:0,opacity:0,transform:`translate3d(${Z}, ${Y}, 0) ${te}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${N}, 0) ${z}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${N}, 0) ${z}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Z}, ${Y}, 0) ${te}`}],O=$("ion-title"),oe=(0,M.c)();O.innerText=h.innerText,O.size=h.size,O.color=h.color,oe.addElement(O),oe.beforeStyles({"transform-origin":`${P} top`,height:`${g.height}px`,display:"",position:"relative",[P]:k}).beforeAddWrite(()=>{h.style.setProperty("opacity","0")}).afterAddWrite(()=>{h.style.setProperty("opacity",""),O.style.setProperty("display","none")}).keyframes(K),l.addAnimation(oe)},i=(l,u)=>{var d;try{const h="cubic-bezier(0.32,0.72,0,1)",g="opacity",p="transform",y="0%",H="rtl"===l.ownerDocument.dir,B=H?"-99.5%":"99.5%",R=H?"33%":"-33%",P=u.enteringEl,k=u.leavingEl,T="back"===u.direction,N=P.querySelector(":scope > ion-content"),j=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Z=P.querySelectorAll(":scope > ion-header > ion-toolbar"),ee=(0,M.c)(),z=(0,M.c)();if(ee.addElement(P).duration((null!==(d=u.duration)&&void 0!==d?d:0)||540).easing(u.easing||h).fill("both").beforeRemoveClass("ion-page-invisible"),k&&null!=l){const Y=(0,M.c)();Y.addElement(l),ee.addAnimation(Y)}if(N||0!==Z.length||0!==j.length?(z.addElement(N),z.addElement(j)):z.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ee.addAnimation(z),T?z.beforeClearStyles([g]).fromTo("transform",`translateX(${R})`,`translateX(${y})`).fromTo(g,.8,1):z.beforeClearStyles([g]).fromTo("transform",`translateX(${B})`,`translateX(${y})`),N){const Y=v(N).querySelector(".transition-effect");if(Y){const le=Y.querySelector(".transition-cover"),Me=Y.querySelector(".transition-shadow"),K=(0,M.c)(),O=(0,M.c)(),oe=(0,M.c)();K.addElement(Y).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),O.addElement(le).beforeClearStyles([g]).fromTo(g,0,.1),oe.addElement(Me).beforeClearStyles([g]).fromTo(g,.03,.7),K.addAnimation([O,oe]),z.addAnimation([K])}}const te=P.querySelector("ion-header.header-collapse-condense"),{forward:W,backward:G}=((l,u,d,h,g)=>{const p=f(h,d),y=b(g),C=b(h),H=f(g,d),B=null!==p&&null!==y&&!d,R=null!==C&&null!==H&&d;if(B){const P=y.getBoundingClientRect(),k=p.getBoundingClientRect(),T=v(p).querySelector(".button-text"),N=null==T?void 0:T.getBoundingClientRect(),Z=v(y).querySelector(".toolbar-title").getBoundingClientRect();_(l,u,d,y,P,Z,k,T,N),w(l,u,d,p,k,T,N,y,Z)}else if(R){const P=C.getBoundingClientRect(),k=H.getBoundingClientRect(),T=v(H).querySelector(".button-text"),N=null==T?void 0:T.getBoundingClientRect(),Z=v(C).querySelector(".toolbar-title").getBoundingClientRect();_(l,u,d,C,P,Z,k,T,N),w(l,u,d,H,k,T,N,C,Z)}return{forward:B,backward:R}})(ee,H,T,P,k);if(Z.forEach(Y=>{const le=(0,M.c)();le.addElement(Y),ee.addAnimation(le);const Me=(0,M.c)();Me.addElement(Y.querySelector("ion-title"));const K=(0,M.c)(),O=Array.from(Y.querySelectorAll("ion-buttons,[menuToggle]")),oe=Y.closest("ion-header"),me=null==oe?void 0:oe.classList.contains("header-collapse-condense-inactive");let Se;Se=O.filter(T?st=>{const at=st.classList.contains("buttons-collapse");return at&&!me||!at}:st=>!st.classList.contains("buttons-collapse")),K.addElement(Se);const Ue=(0,M.c)();Ue.addElement(Y.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xe=(0,M.c)();Xe.addElement(v(Y).querySelector(".toolbar-background"));const lt=(0,M.c)(),ze=Y.querySelector("ion-back-button");if(ze&&lt.addElement(ze),le.addAnimation([Me,K,Ue,Xe,lt]),K.fromTo(g,.01,1),Ue.fromTo(g,.01,1),T)me||Me.fromTo("transform",`translateX(${R})`,`translateX(${y})`).fromTo(g,.01,1),Ue.fromTo("transform",`translateX(${R})`,`translateX(${y})`),lt.fromTo(g,.01,1);else if(te||Me.fromTo("transform",`translateX(${B})`,`translateX(${y})`).fromTo(g,.01,1),Ue.fromTo("transform",`translateX(${B})`,`translateX(${y})`),Xe.beforeClearStyles([g,"transform"]),(null==oe?void 0:oe.translucent)?Xe.fromTo("transform",H?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xe.fromTo(g,.01,"var(--opacity)"),W||lt.fromTo(g,.01,1),ze&&!W){const at=(0,M.c)();at.addElement(v(ze).querySelector(".button-text")).fromTo("transform",H?"translateX(-100px)":"translateX(100px)","translateX(0px)"),le.addAnimation(at)}}),k){const Y=(0,M.c)(),le=k.querySelector(":scope > ion-content"),Me=k.querySelectorAll(":scope > ion-header > ion-toolbar"),K=k.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(le||0!==Me.length||0!==K.length?(Y.addElement(le),Y.addElement(K)):Y.addElement(k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ee.addAnimation(Y),T){Y.beforeClearStyles([g]).fromTo("transform",`translateX(${y})`,H?"translateX(-100%)":"translateX(100%)");const O=(0,A.g)(k);ee.afterAddWrite(()=>{"normal"===ee.getDirection()&&O.style.setProperty("display","none")})}else Y.fromTo("transform",`translateX(${y})`,`translateX(${R})`).fromTo(g,1,.8);if(le){const O=v(le).querySelector(".transition-effect");if(O){const oe=O.querySelector(".transition-cover"),me=O.querySelector(".transition-shadow"),Se=(0,M.c)(),Ue=(0,M.c)(),Xe=(0,M.c)();Se.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ue.addElement(oe).beforeClearStyles([g]).fromTo(g,.1,0),Xe.addElement(me).beforeClearStyles([g]).fromTo(g,.7,.03),Se.addAnimation([Ue,Xe]),Y.addAnimation([Se])}}Me.forEach(O=>{const oe=(0,M.c)();oe.addElement(O);const me=(0,M.c)();me.addElement(O.querySelector("ion-title"));const Se=(0,M.c)(),Ue=O.querySelectorAll("ion-buttons,[menuToggle]"),Xe=O.closest("ion-header"),lt=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive"),ze=Array.from(Ue).filter(ot=>{const Ze=ot.classList.contains("buttons-collapse");return Ze&&!lt||!Ze});Se.addElement(ze);const st=(0,M.c)(),at=O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");at.length>0&&st.addElement(at);const Fe=(0,M.c)();Fe.addElement(v(O).querySelector(".toolbar-background"));const nt=(0,M.c)(),Ye=O.querySelector("ion-back-button");if(Ye&&nt.addElement(Ye),oe.addAnimation([me,Se,st,nt,Fe]),ee.addAnimation(oe),nt.fromTo(g,.99,0),Se.fromTo(g,.99,0),st.fromTo(g,.99,0),T){if(lt||me.fromTo("transform",`translateX(${y})`,H?"translateX(-100%)":"translateX(100%)").fromTo(g,.99,0),st.fromTo("transform",`translateX(${y})`,H?"translateX(-100%)":"translateX(100%)"),Fe.beforeClearStyles([g,"transform"]),(null==Xe?void 0:Xe.translucent)?Fe.fromTo("transform","translateX(0px)",H?"translateX(-100%)":"translateX(100%)"):Fe.fromTo(g,"var(--opacity)",0),Ye&&!G){const Ze=(0,M.c)();Ze.addElement(v(Ye).querySelector(".button-text")).fromTo("transform",`translateX(${y})`,`translateX(${(H?-124:124)+"px"})`),oe.addAnimation(Ze)}}else lt||me.fromTo("transform",`translateX(${y})`,`translateX(${R})`).fromTo(g,.99,0).afterClearStyles([p,g]),st.fromTo("transform",`translateX(${y})`,`translateX(${R})`).afterClearStyles([p,g]),nt.afterClearStyles([g]),me.afterClearStyles([g]),Se.afterClearStyles([g])})}return ee}catch(h){throw h}},a=10},361:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{mdTransitionAnimation:()=>ie});var M=_e(9986),A=_e(1331);_e(8476),_e(4921),_e(8393);const ie=($,v)=>{var b,f,m;const w="40px",i="back"===v.direction,l=v.leavingEl,u=(0,A.g)(v.enteringEl),d=u.querySelector("ion-toolbar"),h=(0,M.c)();if(h.addElement(u).fill("both").beforeRemoveClass("ion-page-invisible"),i?h.duration((null!==(b=v.duration)&&void 0!==b?b:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):h.duration((null!==(f=v.duration)&&void 0!==f?f:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${w})`,"translateY(0px)").fromTo("opacity",.01,1),d){const g=(0,M.c)();g.addElement(d),h.addAnimation(g)}if(l&&i){h.duration((null!==(m=v.duration)&&void 0!==m?m:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const g=(0,M.c)();g.addElement((0,A.g)(l)).onFinish(p=>{1===p&&g.elements.length>0&&g.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${w})`).fromTo("opacity",1,0),h.addAnimation(g)}return h}},1070:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>Ue,F:()=>nt,G:()=>Xe,O:()=>lt,a:()=>u,b:()=>d,c:()=>y,d:()=>ze,e:()=>st,f:()=>W,g:()=>Y,h:()=>K,i:()=>oe,j:()=>H,k:()=>B,l:()=>h,m:()=>g,n:()=>f,o:()=>z,q:()=>m,s:()=>Se});var M=_e(467),A=_e(8476),et=_e(4920),Et=_e(8669),o=_e(4921),ie=_e(8621),$=_e(1970),v=_e(4929);const b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',f=(Ye,ot)=>{const Ze=Ye.querySelector(b);w(Ze,null!=ot?ot:Ye)},m=(Ye,ot)=>{const Ze=Array.from(Ye.querySelectorAll(b));w(Ze.length>0?Ze[Ze.length-1]:null,null!=ot?ot:Ye)},w=(Ye,ot)=>{let Ze=Ye;const pt=null==Ye?void 0:Ye.shadowRoot;pt&&(Ze=pt.querySelector(b)||Ye),Ze?(0,et.f)(Ze):ot.focus()};let _=0,i=0;const a=new WeakMap,l=Ye=>({create:ot=>R(Ye,ot),dismiss:(ot,Ze,pt)=>j(document,ot,Ze,Ye,pt),getTop:()=>(0,M.A)(function*(){return z(document,Ye)})()}),u=l("ion-alert"),d=l("ion-action-sheet"),h=l("ion-loading"),g=l("ion-modal"),y=l("ion-popover"),H=Ye=>{typeof document<"u"&&N(document);const ot=_++;Ye.overlayIndex=ot},B=Ye=>(Ye.hasAttribute("id")||(Ye.id="ion-overlay-"+ ++i),Ye.id),R=(Ye,ot)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ye).then(()=>{const Ze=document.createElement(Ye);return Ze.classList.add("overlay-hidden"),Object.assign(Ze,Object.assign(Object.assign({},ot),{hasController:!0})),le(document).appendChild(Ze),new Promise(pt=>(0,et.c)(Ze,pt))}):Promise.resolve(),k=(Ye,ot)=>{let Ze=Ye;const pt=null==Ye?void 0:Ye.shadowRoot;pt&&(Ze=pt.querySelector(b)||Ye),Ze?(0,et.f)(Ze):ot.focus()},N=Ye=>{0===_&&(_=1,Ye.addEventListener("focus",ot=>{((Ye,ot)=>{const Ze=z(ot,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),pt=Ye.target;Ze&&pt&&!Ze.classList.contains(nt)&&(Ze.shadowRoot?(()=>{if(Ze.contains(pt))Ze.lastFocus=pt;else if("ION-TOAST"===pt.tagName)k(Ze.lastFocus,Ze);else{const Vt=Ze.lastFocus;f(Ze),Vt===ot.activeElement&&m(Ze),Ze.lastFocus=ot.activeElement}})():(()=>{if(Ze===pt)Ze.lastFocus=void 0;else if("ION-TOAST"===pt.tagName)k(Ze.lastFocus,Ze);else{const Vt=(0,et.g)(Ze);if(!Vt.contains(pt))return;const cr=Vt.querySelector(".ion-overlay-wrapper");if(!cr)return;if(cr.contains(pt)||pt===Vt.querySelector("ion-backdrop"))Ze.lastFocus=pt;else{const It=Ze.lastFocus;f(cr,Ze),It===ot.activeElement&&m(cr,Ze),Ze.lastFocus=ot.activeElement}}})())})(ot,Ye)},!0),Ye.addEventListener("ionBackButton",ot=>{const Ze=z(Ye);null!=Ze&&Ze.backdropDismiss&&ot.detail.register(Et.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ze.dismiss(void 0,Ue)})}),(0,Et.shouldUseCloseWatcher)()||Ye.addEventListener("keydown",ot=>{if("Escape"===ot.key){const Ze=z(Ye);null!=Ze&&Ze.backdropDismiss&&Ze.dismiss(void 0,Ue)}}))},j=(Ye,ot,Ze,pt,kt)=>{const ar=z(Ye,pt,kt);return ar?ar.dismiss(ot,Ze):Promise.reject("overlay does not exist")},ee=(Ye,ot)=>((Ye,ot)=>(void 0===ot&&(ot="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(ot)).filter(Ze=>Ze.overlayIndex>0)))(Ye,ot).filter(Ze=>!(Ye=>Ye.classList.contains("overlay-hidden"))(Ze)),z=(Ye,ot,Ze)=>{const pt=ee(Ye,ot);return void 0===Ze?pt[pt.length-1]:pt.find(kt=>kt.id===Ze)},te=(Ye=!1)=>{const Ze=le(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ze&&(Ye?Ze.setAttribute("aria-hidden","true"):Ze.removeAttribute("aria-hidden"))},W=function(){var Ye=(0,M.A)(function*(ot,Ze,pt,kt,ar){var Vt,cr;if(ot.presented)return;te(!0),document.body.classList.add($.B),at(ot.el),ot.presented=!0,ot.willPresent.emit(),null===(Vt=ot.willPresentShorthand)||void 0===Vt||Vt.emit();const It=(0,o.b)(ot),br=ot.enterAnimation?ot.enterAnimation:o.c.get(Ze,"ios"===It?pt:kt);(yield Me(ot,br,ot.el,ar))&&(ot.didPresent.emit(),null===(cr=ot.didPresentShorthand)||void 0===cr||cr.emit()),"ION-TOAST"!==ot.el.tagName&&G(ot.el),ot.keyboardClose&&(null===document.activeElement||!ot.el.contains(document.activeElement))&&ot.el.focus(),ot.el.removeAttribute("aria-hidden")});return function(Ze,pt,kt,ar,Vt){return Ye.apply(this,arguments)}}(),G=function(){var Ye=(0,M.A)(function*(ot){let Ze=document.activeElement;if(!Ze)return;const pt=null==Ze?void 0:Ze.shadowRoot;pt&&(Ze=pt.querySelector(b)||Ze),yield ot.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ze.focus()});return function(Ze){return Ye.apply(this,arguments)}}(),Y=function(){var Ye=(0,M.A)(function*(ot,Ze,pt,kt,ar,Vt,cr){var It,br;if(!ot.presented)return!1;void 0!==A.d&&1===ee(A.d).length&&(te(!1),document.body.classList.remove($.B)),ot.presented=!1;try{ot.el.style.setProperty("pointer-events","none"),ot.willDismiss.emit({data:Ze,role:pt}),null===(It=ot.willDismissShorthand)||void 0===It||It.emit({data:Ze,role:pt});const fr=(0,o.b)(ot),Ct=ot.leaveAnimation?ot.leaveAnimation:o.c.get(kt,"ios"===fr?ar:Vt);pt!==Xe&&(yield Me(ot,Ct,ot.el,cr)),ot.didDismiss.emit({data:Ze,role:pt}),null===(br=ot.didDismissShorthand)||void 0===br||br.emit({data:Ze,role:pt}),(a.get(ot)||[]).forEach(Gt=>Gt.destroy()),a.delete(ot),ot.el.classList.add("overlay-hidden"),ot.el.style.removeProperty("pointer-events"),void 0!==ot.el.lastFocus&&(ot.el.lastFocus=void 0)}catch(fr){console.error(fr)}return ot.el.remove(),Fe(),!0});return function(Ze,pt,kt,ar,Vt,cr,It){return Ye.apply(this,arguments)}}(),le=Ye=>Ye.querySelector("ion-app")||Ye.body,Me=function(){var Ye=(0,M.A)(function*(ot,Ze,pt,kt){pt.classList.remove("overlay-hidden");const Vt=Ze(ot.el,kt);(!ot.animated||!o.c.getBoolean("animated",!0))&&Vt.duration(0),ot.keyboardClose&&Vt.beforeAddWrite(()=>{const It=pt.ownerDocument.activeElement;null!=It&&It.matches("input,ion-input, ion-textarea")&&It.blur()});const cr=a.get(ot)||[];return a.set(ot,[...cr,Vt]),yield Vt.play(),!0});return function(Ze,pt,kt,ar){return Ye.apply(this,arguments)}}(),K=(Ye,ot)=>{let Ze;const pt=new Promise(kt=>Ze=kt);return O(Ye,ot,kt=>{Ze(kt.detail)}),pt},O=(Ye,ot,Ze)=>{const pt=kt=>{(0,et.b)(Ye,ot,pt),Ze(kt)};(0,et.a)(Ye,ot,pt)},oe=Ye=>"cancel"===Ye||Ye===Ue,me=Ye=>Ye(),Se=(Ye,ot)=>{if("function"==typeof Ye)return o.c.get("_zoneGate",me)(()=>{try{return Ye(ot)}catch(pt){throw pt}})},Ue="backdrop",Xe="gesture",lt=39,ze=Ye=>{let Ze,ot=!1;const pt=(0,ie.C)(),kt=(cr=!1)=>{if(Ze&&!cr)return{delegate:Ze,inline:ot};const{el:It,hasController:br,delegate:Qt}=Ye;return ot=null!==It.parentNode&&!br,Ze=ot?Qt||pt:Qt,{inline:ot,delegate:Ze}};return{attachViewToDom:function(){var cr=(0,M.A)(function*(It){const{delegate:br}=kt(!0);if(br)return yield br.attachViewToDom(Ye.el,It);const{hasController:Qt}=Ye;if(Qt&&void 0!==It)throw new Error("framework delegate is missing");return null});return function(br){return cr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:cr}=kt();cr&&void 0!==Ye.el&&cr.removeViewFromDom(Ye.el.parentElement,Ye.el)}}},st=()=>{let Ye;const ot=()=>{Ye&&(Ye(),Ye=void 0)};return{addClickListener:(pt,kt)=>{ot();const ar=void 0!==kt?document.getElementById(kt):null;ar?Ye=((cr,It)=>{const br=()=>{It.present()};return cr.addEventListener("click",br),()=>{cr.removeEventListener("click",br)}})(ar,pt):(0,v.p)(`A trigger element with the ID "${kt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,pt)},removeClickListener:ot}},at=Ye=>{var ot;if(void 0===A.d)return;const Ze=ee(A.d);for(let pt=Ze.length-1;pt>=0;pt--){const kt=Ze[pt],ar=null!==(ot=Ze[pt+1])&&void 0!==ot?ot:Ye;(ar.hasAttribute("aria-hidden")||"ION-TOAST"!==ar.tagName)&&kt.setAttribute("aria-hidden","true")}},Fe=()=>{if(void 0===A.d)return;const Ye=ee(A.d);for(let ot=Ye.length-1;ot>=0;ot--){const Ze=Ye[ot];if(Ze.removeAttribute("aria-hidden"),"ION-TOAST"!==Ze.tagName)break}},nt="ion-disable-focus-trap"},1288:(Dr,rr,_e)=>{"use strict";_e.d(rr,{H:()=>d,b:()=>ar,c:()=>y,f:()=>ze,g:()=>p,h:()=>l,p:()=>Mt,r:()=>ir});var M=_e(467);let et,Et,o=!1,ie=!1;const f={},i=ft=>"object"==(ft=typeof ft)||"function"===ft;function a(ft){var Dt,er,Yt;return null!==(Yt=null===(er=null===(Dt=ft.head)||void 0===Dt?void 0:Dt.querySelector('meta[name="csp-nonce"]'))||void 0===er?void 0:er.getAttribute("content"))&&void 0!==Yt?Yt:void 0}const l=(ft,Dt,...er)=>{let Yt=null,lr=!1,yr=!1;const wr=[],xr=X=>{for(let pe=0;pe<X.length;pe++)Yt=X[pe],Array.isArray(Yt)?xr(Yt):null!=Yt&&"boolean"!=typeof Yt&&((lr="function"!=typeof ft&&!i(Yt))&&(Yt=String(Yt)),lr&&yr?wr[wr.length-1].$text$+=Yt:wr.push(lr?u(null,Yt):Yt),yr=lr)};if(xr(er),Dt){const X=Dt.className||Dt.class;X&&(Dt.class="object"!=typeof X?X:Object.keys(X).filter(pe=>X[pe]).join(" "))}const Mr=u(ft,null);return Mr.$attrs$=Dt,wr.length>0&&(Mr.$children$=wr),Mr},u=(ft,Dt)=>({$flags$:0,$tag$:ft,$text$:Dt,$elm$:null,$children$:null,$attrs$:null}),d={},p=ft=>Ct(ft).$hostElement$,y=(ft,Dt,er)=>{const Yt=p(ft);return{emit:lr=>C(Yt,Dt,{bubbles:!!(4&er),composed:!!(2&er),cancelable:!!(1&er),detail:lr})}},C=(ft,Dt,er)=>{const Yt=_t.ce(Dt,er);return ft.dispatchEvent(Yt),Yt},H=new WeakMap,k=(ft,Dt)=>"sc-"+ft.$tagName$,T=(ft,Dt,er,Yt,lr,yr)=>{if(er!==Yt){let wr=$e(ft,Dt),xr=Dt.toLowerCase();if("class"===Dt){const Mr=ft.classList,X=j(er),pe=j(Yt);Mr.remove(...X.filter(Ie=>Ie&&!pe.includes(Ie))),Mr.add(...pe.filter(Ie=>Ie&&!X.includes(Ie)))}else if("style"===Dt){for(const Mr in er)(!Yt||null==Yt[Mr])&&(Mr.includes("-")?ft.style.removeProperty(Mr):ft.style[Mr]="");for(const Mr in Yt)(!er||Yt[Mr]!==er[Mr])&&(Mr.includes("-")?ft.style.setProperty(Mr,Yt[Mr]):ft.style[Mr]=Yt[Mr])}else if("ref"===Dt)Yt&&Yt(ft);else if(wr||"o"!==Dt[0]||"n"!==Dt[1]){const Mr=i(Yt);if((wr||Mr&&null!==Yt)&&!lr)try{if(ft.tagName.includes("-"))ft[Dt]=Yt;else{const X=null==Yt?"":Yt;"list"===Dt?wr=!1:(null==er||ft[Dt]!=X)&&(ft[Dt]=X)}}catch{}null==Yt||!1===Yt?(!1!==Yt||""===ft.getAttribute(Dt))&&ft.removeAttribute(Dt):(!wr||4&yr||lr)&&!Mr&&ft.setAttribute(Dt,Yt=!0===Yt?"":Yt)}else Dt="-"===Dt[2]?Dt.slice(3):$e(zt,xr)?xr.slice(2):xr[2]+Dt.slice(3),er&&_t.rel(ft,Dt,er,!1),Yt&&_t.ael(ft,Dt,Yt,!1)}},N=/\s/,j=ft=>ft?ft.split(N):[],Z=(ft,Dt,er,Yt)=>{const lr=11===Dt.$elm$.nodeType&&Dt.$elm$.host?Dt.$elm$.host:Dt.$elm$,yr=ft&&ft.$attrs$||f,wr=Dt.$attrs$||f;for(Yt in yr)Yt in wr||T(lr,Yt,yr[Yt],void 0,er,Dt.$flags$);for(Yt in wr)T(lr,Yt,yr[Yt],wr[Yt],er,Dt.$flags$)},ee=(ft,Dt,er,Yt)=>{const lr=Dt.$children$[er];let wr,xr,yr=0;if(null!==lr.$text$)wr=lr.$elm$=$t.createTextNode(lr.$text$);else{if(o||(o="svg"===lr.$tag$),wr=lr.$elm$=$t.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",lr.$tag$),o&&"foreignObject"===lr.$tag$&&(o=!1),Z(null,lr,o),(ft=>null!=ft)(et)&&wr["s-si"]!==et&&wr.classList.add(wr["s-si"]=et),lr.$children$)for(yr=0;yr<lr.$children$.length;++yr)xr=ee(ft,lr,yr),xr&&wr.appendChild(xr);"svg"===lr.$tag$?o=!1:"foreignObject"===wr.tagName&&(o=!0)}return wr},z=(ft,Dt,er,Yt,lr,yr)=>{let xr,wr=ft;for(wr.shadowRoot&&wr.tagName===Et&&(wr=wr.shadowRoot);lr<=yr;++lr)Yt[lr]&&(xr=ee(null,er,lr),xr&&(Yt[lr].$elm$=xr,wr.insertBefore(xr,Dt)))},te=(ft,Dt,er)=>{for(let Yt=Dt;Yt<=er;++Yt){const lr=ft[Yt];if(lr){const yr=lr.$elm$;le(lr),yr&&yr.remove()}}},G=(ft,Dt)=>ft.$tag$===Dt.$tag$,Y=(ft,Dt)=>{const er=Dt.$elm$=ft.$elm$,Yt=ft.$children$,lr=Dt.$children$,yr=Dt.$tag$,wr=Dt.$text$;null===wr?(o="svg"===yr||"foreignObject"!==yr&&o,Z(ft,Dt,o),null!==Yt&&null!==lr?((ft,Dt,er,Yt)=>{let E,lr=0,yr=0,wr=Dt.length-1,xr=Dt[0],Mr=Dt[wr],X=Yt.length-1,pe=Yt[0],Ie=Yt[X];for(;lr<=wr&&yr<=X;)null==xr?xr=Dt[++lr]:null==Mr?Mr=Dt[--wr]:null==pe?pe=Yt[++yr]:null==Ie?Ie=Yt[--X]:G(xr,pe)?(Y(xr,pe),xr=Dt[++lr],pe=Yt[++yr]):G(Mr,Ie)?(Y(Mr,Ie),Mr=Dt[--wr],Ie=Yt[--X]):G(xr,Ie)?(Y(xr,Ie),ft.insertBefore(xr.$elm$,Mr.$elm$.nextSibling),xr=Dt[++lr],Ie=Yt[--X]):G(Mr,pe)?(Y(Mr,pe),ft.insertBefore(Mr.$elm$,xr.$elm$),Mr=Dt[--wr],pe=Yt[++yr]):(E=ee(Dt&&Dt[yr],er,yr),pe=Yt[++yr],E&&xr.$elm$.parentNode.insertBefore(E,xr.$elm$));lr>wr?z(ft,null==Yt[X+1]?null:Yt[X+1].$elm$,er,Yt,yr,X):yr>X&&te(Dt,lr,wr)})(er,Yt,Dt,lr):null!==lr?(null!==ft.$text$&&(er.textContent=""),z(er,null,Dt,lr,0,lr.length-1)):null!==Yt&&te(Yt,0,Yt.length-1),o&&"svg"===yr&&(o=!1)):ft.$text$!==wr&&(er.data=wr)},le=ft=>{ft.$attrs$&&ft.$attrs$.ref&&ft.$attrs$.ref(null),ft.$children$&&ft.$children$.map(le)},K=(ft,Dt)=>{Dt&&!ft.$onRenderResolve$&&Dt["s-p"]&&Dt["s-p"].push(new Promise(er=>ft.$onRenderResolve$=er))},O=(ft,Dt)=>{if(ft.$flags$|=16,!(4&ft.$flags$))return K(ft,ft.$ancestorComponent$),dr(()=>oe(ft,Dt));ft.$flags$|=512},oe=(ft,Dt)=>{const Yt=ft.$lazyInstance$;return Dt&&(ft.$flags$|=256,ft.$queuedListeners$&&(ft.$queuedListeners$.map(([yr,wr])=>at(Yt,yr,wr)),ft.$queuedListeners$=void 0)),me(void 0,()=>Ue(ft,Yt,Dt))},me=(ft,Dt)=>Se(ft)?ft.then(Dt):Dt(),Se=ft=>ft instanceof Promise||ft&&ft.then&&"function"==typeof ft.then,Ue=function(){var ft=(0,M.A)(function*(Dt,er,Yt){var lr;const yr=Dt.$hostElement$,xr=yr["s-rc"];Yt&&(ft=>{const Dt=ft.$cmpMeta$,er=ft.$hostElement$,Yt=Dt.$flags$,yr=((ft,Dt,er,Yt)=>{var lr;let yr=k(Dt);const wr=Ot.get(yr);if(ft=11===ft.nodeType?ft:$t,wr)if("string"==typeof wr){let Mr,xr=H.get(ft=ft.head||ft);if(xr||H.set(ft,xr=new Set),!xr.has(yr)){{Mr=$t.createElement("style"),Mr.innerHTML=wr;const X=null!==(lr=_t.$nonce$)&&void 0!==lr?lr:a($t);null!=X&&Mr.setAttribute("nonce",X),ft.insertBefore(Mr,ft.querySelector("link"))}xr&&xr.add(yr)}}else ft.adoptedStyleSheets.includes(wr)||(ft.adoptedStyleSheets=[...ft.adoptedStyleSheets,wr]);return yr})(er.shadowRoot?er.shadowRoot:er.getRootNode(),Dt);10&Yt&&(er["s-sc"]=yr,er.classList.add(yr+"-h"))})(Dt);Xe(Dt,er),xr&&(xr.map(X=>X()),yr["s-rc"]=void 0);{const X=null!==(lr=yr["s-p"])&&void 0!==lr?lr:[],pe=()=>lt(Dt);0===X.length?pe():(Promise.all(X).then(pe),Dt.$flags$|=4,X.length=0)}});return function(er,Yt,lr){return ft.apply(this,arguments)}}(),Xe=(ft,Dt,er)=>{try{Dt=Dt.render(),ft.$flags$&=-17,ft.$flags$|=2,((ft,Dt)=>{const er=ft.$hostElement$,Yt=ft.$vnode$||u(null,null),lr=(ft=>ft&&ft.$tag$===d)(Dt)?Dt:l(null,null,Dt);Et=er.tagName,lr.$tag$=null,lr.$flags$|=4,ft.$vnode$=lr,lr.$elm$=Yt.$elm$=er.shadowRoot||er,et=er["s-sc"],Y(Yt,lr)})(ft,Dt)}catch(Yt){We(Yt,ft.$hostElement$)}return null},lt=ft=>{const er=ft.$hostElement$,lr=ft.$lazyInstance$,yr=ft.$ancestorComponent$;64&ft.$flags$||(ft.$flags$|=64,Fe(er),at(lr,"componentDidLoad"),ft.$onReadyResolve$(er),yr||st()),ft.$onInstanceResolve$(er),ft.$onRenderResolve$&&(ft.$onRenderResolve$(),ft.$onRenderResolve$=void 0),512&ft.$flags$&&Nt(()=>O(ft,!1)),ft.$flags$&=-517},ze=ft=>{{const Dt=Ct(ft),er=Dt.$hostElement$.isConnected;return er&&2==(18&Dt.$flags$)&&O(Dt,!1),er}},st=ft=>{Fe($t.documentElement),Nt(()=>C(zt,"appload",{detail:{namespace:"ionicpwaelements"}}))},at=(ft,Dt,er)=>{if(ft&&ft[Dt])try{return ft[Dt](er)}catch(Yt){We(Yt)}},Fe=ft=>ft.classList.add("hydrated"),ot=(ft,Dt,er)=>{if(Dt.$members$){const Yt=Object.entries(Dt.$members$),lr=ft.prototype;if(Yt.map(([yr,[wr]])=>{31&wr||2&er&&32&wr?Object.defineProperty(lr,yr,{get(){return((ft,Dt)=>Ct(this).$instanceValues$.get(Dt))(0,yr)},set(xr){((ft,Dt,er,Yt)=>{const lr=Ct(ft),yr=lr.$instanceValues$.get(Dt),wr=lr.$flags$,xr=lr.$lazyInstance$;er=((ft,Dt)=>null==ft||i(ft)?ft:4&Dt?"false"!==ft&&(""===ft||!!ft):2&Dt?parseFloat(ft):1&Dt?String(ft):ft)(er,Yt.$members$[Dt][0]);const Mr=Number.isNaN(yr)&&Number.isNaN(er);(!(8&wr)||void 0===yr)&&er!==yr&&!Mr&&(lr.$instanceValues$.set(Dt,er),xr&&2==(18&wr)&&O(lr,!1))})(this,yr,xr,Dt)},configurable:!0,enumerable:!0}):1&er&&64&wr&&Object.defineProperty(lr,yr,{value(...xr){const Mr=Ct(this);return Mr.$onInstancePromise$.then(()=>Mr.$lazyInstance$[yr](...xr))}})}),1&er){const yr=new Map;lr.attributeChangedCallback=function(wr,xr,Mr){_t.jmp(()=>{const X=yr.get(wr);if(this.hasOwnProperty(X))Mr=this[X],delete this[X];else if(lr.hasOwnProperty(X)&&"number"==typeof this[X]&&this[X]==Mr)return;this[X]=(null!==Mr||"boolean"!=typeof this[X])&&Mr})},ft.observedAttributes=Yt.filter(([wr,xr])=>15&xr[0]).map(([wr,xr])=>{const Mr=xr[1]||wr;return yr.set(Mr,wr),Mr})}}return ft},Ze=function(){var ft=(0,M.A)(function*(Dt,er,Yt,lr,yr){if(!(32&er.$flags$)){er.$flags$|=32;{if((yr=Je(Yt)).then){const X=()=>{};yr=yield yr,X()}yr.isProxied||(ot(yr,Yt,2),yr.isProxied=!0);const Mr=()=>{};er.$flags$|=8;try{new yr(er)}catch(X){We(X)}er.$flags$&=-9,Mr()}if(yr.style){let Mr=yr.style;const X=k(Yt);if(!Ot.has(X)){const pe=()=>{};((ft,Dt,er)=>{let Yt=Ot.get(ft);Xt&&er?(Yt=Yt||new CSSStyleSheet,"string"==typeof Yt?Yt=Dt:Yt.replaceSync(Dt)):Yt=Dt,Ot.set(ft,Yt)})(X,Mr,!!(1&Yt.$flags$)),pe()}}}const wr=er.$ancestorComponent$,xr=()=>O(er,!0);wr&&wr["s-rc"]?wr["s-rc"].push(xr):xr()});return function(er,Yt,lr,yr,wr){return ft.apply(this,arguments)}}(),ar=(ft,Dt={})=>{var er;const lr=[],yr=Dt.exclude||[],wr=zt.customElements,xr=$t.head,Mr=xr.querySelector("meta[charset]"),X=$t.createElement("style"),pe=[];let Ie,E=!0;Object.assign(_t,Dt),_t.$resourcesUrl$=new URL(Dt.resourcesUrl||"./",$t.baseURI).href,ft.map(I=>{I[1].map(U=>{const D={$flags$:U[0],$tagName$:U[1],$members$:U[2],$listeners$:U[3]};D.$members$=U[2],D.$listeners$=U[3];const J=D.$tagName$,V=class extends HTMLElement{constructor(ne){super(ne),Gt(ne=this,D),1&D.$flags$&&ne.attachShadow({mode:"open"})}connectedCallback(){Ie&&(clearTimeout(Ie),Ie=null),E?pe.push(this):_t.jmp(()=>(ft=>{if(!(1&_t.$flags$)){const Dt=Ct(ft),er=Dt.$cmpMeta$,Yt=()=>{};if(1&Dt.$flags$)Vt(ft,Dt,er.$listeners$);else{Dt.$flags$|=1;{let lr=ft;for(;lr=lr.parentNode||lr.host;)if(lr["s-p"]){K(Dt,Dt.$ancestorComponent$=lr);break}}er.$members$&&Object.entries(er.$members$).map(([lr,[yr]])=>{if(31&yr&&ft.hasOwnProperty(lr)){const wr=ft[lr];delete ft[lr],ft[lr]=wr}}),Ze(ft,Dt,er)}Yt()}})(this))}disconnectedCallback(){_t.jmp(()=>(ft=>{if(!(1&_t.$flags$)){const Dt=Ct(this),er=Dt.$lazyInstance$;Dt.$rmListeners$&&(Dt.$rmListeners$.map(Yt=>Yt()),Dt.$rmListeners$=void 0),at(er,"disconnectedCallback")}})())}componentOnReady(){return Ct(this).$onReadyPromise$}};D.$lazyBundleId$=I[0],!yr.includes(J)&&!wr.get(J)&&(lr.push(J),wr.define(J,ot(V,D,1)))})});{X.innerHTML=lr+"{visibility:hidden}.hydrated{visibility:inherit}",X.setAttribute("data-styles","");const I=null!==(er=_t.$nonce$)&&void 0!==er?er:a($t);null!=I&&X.setAttribute("nonce",I),xr.insertBefore(X,Mr?Mr.nextSibling:xr.firstChild)}E=!1,pe.length?pe.map(I=>I.connectedCallback()):_t.jmp(()=>Ie=setTimeout(st,30))},Vt=(ft,Dt,er,Yt)=>{er&&er.map(([lr,yr,wr])=>{const xr=It(ft,lr),Mr=cr(Dt,wr),X=br(lr);_t.ael(xr,yr,Mr,X),(Dt.$rmListeners$=Dt.$rmListeners$||[]).push(()=>_t.rel(xr,yr,Mr,X))})},cr=(ft,Dt)=>er=>{try{256&ft.$flags$?ft.$lazyInstance$[Dt](er):(ft.$queuedListeners$=ft.$queuedListeners$||[]).push([Dt,er])}catch(Yt){We(Yt)}},It=(ft,Dt)=>16&Dt?$t.body:ft,br=ft=>!!(2&ft),fr=new WeakMap,Ct=ft=>fr.get(ft),ir=(ft,Dt)=>fr.set(Dt.$lazyInstance$=ft,Dt),Gt=(ft,Dt)=>{const er={$flags$:0,$hostElement$:ft,$cmpMeta$:Dt,$instanceValues$:new Map};return er.$onInstancePromise$=new Promise(Yt=>er.$onInstanceResolve$=Yt),er.$onReadyPromise$=new Promise(Yt=>er.$onReadyResolve$=Yt),ft["s-p"]=[],ft["s-rc"]=[],Vt(ft,er,Dt.$listeners$),fr.set(ft,er)},$e=(ft,Dt)=>Dt in ft,We=(ft,Dt)=>(0,console.error)(ft,Dt),Pe=new Map,Je=(ft,Dt,er)=>{const Yt=ft.$tagName$.replace(/-/g,"_"),lr=ft.$lazyBundleId$,yr=Pe.get(lr);if(yr)return yr[Yt];if(!er||!BUILD.hotModuleReplacement){const wr=xr=>(Pe.set(lr,xr),xr[Yt]);switch(lr){case"pwa-action-sheet":return _e.e(6301).then(_e.bind(_e,6301)).then(wr,We);case"pwa-camera-modal":return _e.e(2982).then(_e.bind(_e,2982)).then(wr,We);case"pwa-toast":return _e.e(3574).then(_e.bind(_e,3574)).then(wr,We);case"pwa-camera-modal-instance":return _e.e(5640).then(_e.bind(_e,5640)).then(wr,We);case"pwa-camera":return _e.e(6086).then(_e.bind(_e,6086)).then(wr,We)}}return _e(5235)(`./${lr}.entry.js`).then(wr=>(Pe.set(lr,wr),wr[Yt]),We)},Ot=new Map,zt=typeof window<"u"?window:{},$t=zt.document||{head:{}},_t={$flags$:0,$resourcesUrl$:"",jmp:ft=>ft(),raf:ft=>requestAnimationFrame(ft),ael:(ft,Dt,er,Yt)=>ft.addEventListener(Dt,er,Yt),rel:(ft,Dt,er,Yt)=>ft.removeEventListener(Dt,er,Yt),ce:(ft,Dt)=>new CustomEvent(ft,Dt)},Mt=ft=>Promise.resolve(ft),Xt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),tr=[],Rt=[],vt=(ft,Dt)=>er=>{ft.push(er),ie||(ie=!0,Dt&&4&_t.$flags$?Nt(yt):_t.raf(yt))},Ut=ft=>{for(let Dt=0;Dt<ft.length;Dt++)try{ft[Dt](performance.now())}catch(er){We(er)}ft.length=0},yt=()=>{Ut(tr),Ut(Rt),(ie=tr.length>0)&&_t.raf(yt)},Nt=ft=>Mt().then(ft),dr=vt(Rt,!0)},5402:(Dr,rr,_e)=>{"use strict";_e.d(rr,{R:()=>A});const A=(0,_e(5083).F3)("VoiceRecorder",{web:()=>_e.e(9888).then(_e.bind(_e,9888)).then(et=>new et.VoiceRecorderWeb)})},92:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Yl:()=>_,ZL:()=>i,aH:()=>w});var M=_e(467),A=_e(8326),Et=_e(3953),o=_e(3656),ie=_e(5374),$=_e(5547),v=_e(4237),b=_e(755),f=_e(4234),m=_e(482),w="DesktopPWA",_=!1;window.p5=A;let i=(()=>{var a;class l{constructor(d,h,g,p,y,C){d.is("desktop")?w="DesktopPWA":d.is("android")?w="Android":d.is("iphone")&&(w="iOS"),_=d.is("electron"),p.initialize((0,M.A)(function*(){y.Callback_nakama=()=>{g.initialize(),C.afterLangInit(),y.Callback_nakama=null};try{let B=yield p.loadBlobFromUserPath("translate.csv",""),R=URL.createObjectURL(B);y.load_selected_lang(R)}catch{y.load_selected_lang()}let H=C.CatchGETs(location.href)||{};C.initialize(),g.AddressToQRCodeAct(H),h.initialize(),h.load_settings(),p.GetFileListFromDB("tmp_files").then(B=>{B.forEach(R=>p.removeFileFromUserPath(R))})}))}}return(a=l).\u0275fac=function(d){return new(d||a)(Et.rXU(o.OD),Et.rXU($.r),Et.rXU(v.X),Et.rXU(b.n),Et.rXU(f.y),Et.rXU(m.z3))},a.\u0275cmp=Et.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(d,h){1&d&&(Et.j41(0,"ion-app"),Et.nrm(1,"ion-router-outlet"),Et.k0s())},dependencies:[ie.U1,ie.Rg]}),l})()},482:(Dr,rr,_e)=>{"use strict";_e.d(rr,{xM:()=>C,z3:()=>H,ud:()=>y});var M=_e(467),A=_e(4023),et=_e(8326),Et=_e(617),o=_e(92),ie=_e(5083),$=function(B){return B.Prompt="PROMPT",B.Camera="CAMERA",B.Photos="PHOTOS",B}($||{}),v=function(B){return B.Rear="REAR",B.Front="FRONT",B}(v||{}),b=function(B){return B.Uri="uri",B.Base64="base64",B.DataUrl="dataUrl",B}(b||{});class f extends ie.E_{getPhoto(R){var P=this;return(0,M.A)(function*(){return new Promise(function(){var k=(0,M.A)(function*(T,N){if(R.webUseInput||R.source===$.Photos)P.fileInputExperience(R,T,N);else if(R.source===$.Prompt){let j=document.querySelector("pwa-action-sheet");j||(j=document.createElement("pwa-action-sheet"),document.body.appendChild(j)),j.header=R.promptLabelHeader||"Photo",j.cancelable=!1,j.options=[{title:R.promptLabelPhoto||"From Photos"},{title:R.promptLabelPicture||"Take Picture"}],j.addEventListener("onSelection",function(){var Z=(0,M.A)(function*(ee){0===ee.detail?P.fileInputExperience(R,T,N):P.cameraExperience(R,T,N)});return function(ee){return Z.apply(this,arguments)}}())}else P.cameraExperience(R,T,N)});return function(T,N){return k.apply(this,arguments)}}())})()}pickImages(R){var P=this;return(0,M.A)(function*(){return new Promise(function(){var k=(0,M.A)(function*(T,N){P.multipleFileInputExperience(T,N)});return function(T,N){return k.apply(this,arguments)}}())})()}cameraExperience(R,P,k){var T=this;return(0,M.A)(function*(){if(customElements.get("pwa-camera-modal")){const N=document.createElement("pwa-camera-modal");N.facingMode=R.direction===v.Front?"user":"environment",document.body.appendChild(N);try{yield N.componentOnReady(),N.addEventListener("onPhoto",function(){var j=(0,M.A)(function*(Z){const ee=Z.detail;null===ee?k(new ie.I9("User cancelled photos app")):ee instanceof Error?k(ee):P(yield T._getCameraPhoto(ee,R)),N.dismiss(),document.body.removeChild(N)});return function(Z){return j.apply(this,arguments)}}()),N.present()}catch{T.fileInputExperience(R,P,k)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),T.fileInputExperience(R,P,k)})()}fileInputExperience(R,P,k){let T=document.querySelector("#_capacitor-camera-input");const N=()=>{var j;null===(j=T.parentNode)||void 0===j||j.removeChild(T)};T||(T=document.createElement("input"),T.id="_capacitor-camera-input",T.type="file",T.hidden=!0,document.body.appendChild(T),T.addEventListener("change",j=>{const Z=T.files[0];let ee="jpeg";if("image/png"===Z.type?ee="png":"image/gif"===Z.type&&(ee="gif"),"dataUrl"===R.resultType||"base64"===R.resultType){const z=new FileReader;z.addEventListener("load",()=>{if("dataUrl"===R.resultType)P({dataUrl:z.result,format:ee});else if("base64"===R.resultType){const te=z.result.split(",")[1];P({base64String:te,format:ee})}N()}),z.readAsDataURL(Z)}else P({webPath:URL.createObjectURL(Z),format:ee}),N()}),T.addEventListener("cancel",j=>{k(new ie.I9("User cancelled photos app")),N()})),T.accept="image/*",T.capture=!0,R.source===$.Photos||R.source===$.Prompt?T.removeAttribute("capture"):R.direction===v.Front?T.capture="user":R.direction===v.Rear&&(T.capture="environment"),T.click()}multipleFileInputExperience(R,P){let k=document.querySelector("#_capacitor-camera-input-multiple");const T=()=>{var N;null===(N=k.parentNode)||void 0===N||N.removeChild(k)};k||(k=document.createElement("input"),k.id="_capacitor-camera-input-multiple",k.type="file",k.hidden=!0,k.multiple=!0,document.body.appendChild(k),k.addEventListener("change",N=>{const j=[];for(let Z=0;Z<k.files.length;Z++){const ee=k.files[Z];let z="jpeg";"image/png"===ee.type?z="png":"image/gif"===ee.type&&(z="gif"),j.push({webPath:URL.createObjectURL(ee),format:z})}R({photos:j}),T()}),k.addEventListener("cancel",N=>{P(new ie.I9("User cancelled photos app")),T()})),k.accept="image/*",k.click()}_getCameraPhoto(R,P){return new Promise((k,T)=>{const N=new FileReader,j=R.type.split("/")[1];"uri"===P.resultType?k({webPath:URL.createObjectURL(R),format:j,saved:!1}):(N.readAsDataURL(R),N.onloadend=()=>{const Z=N.result;k("dataUrl"===P.resultType?{dataUrl:Z,format:j,saved:!1}:{base64String:Z.split(",")[1],format:j,saved:!1})},N.onerror=Z=>{T(Z)})})}checkPermissions(){var R=this;return(0,M.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw R.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw R.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var R=this;return(0,M.A)(function*(){throw R.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var R=this;return(0,M.A)(function*(){throw R.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var R=this;return(0,M.A)(function*(){throw R.unavailable("Not implemented on web.")})()}}new f;const w=(0,ie.F3)("Camera",{web:()=>new f});var _=_e(5402),i=_e(3953),a=_e(5374),l=_e(3656),u=_e(9900),d=_e(4234),h=_e(345),g=_e(755),p=_e(3307),y=!1;const C=8e4;let H=(()=>{var B;class R{constructor(k,T,N,j,Z,ee,z,te){this.modalCtrl=k,this.p5toast=T,this.lang=N,this.sanitizer=j,this.indexed=Z,this.loadingCtrl=ee,this.navCtrl=z,this.p5loading=te,this.windowOnFocusAct={},this.WindowOnBlurAct={},this.FocusOnPortal=!0,this.portalHint=!0,this.BlockMainShortcut=!1,this.PortalBottonTabAct={Todo:void 0,Subscribes:void 0,Arcade:void 0,Community:void 0},this.GodotCache={},this.ArcadeLoaded=!1,this.ArcadeWithFullScreen=!1,this.NeedBackgroundMode=!1,this.IsBackgroundMode=!1,this.BackgroundWorkDone=!1,this.ArcadeObject={QRCode:void 0},this.JSBlendCache={},this.CacheShortCut={},this.useLocalAddress=!1,this.WebsocketRetryTerm=70,this.useVoiceRecording="",this.WaitingConnect=!1,this.InitEnd=!1,this.PeerConnected=!1,this.PageDismissAct={},y=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",G=>{y=!!G.matches}),this.useLocalAddress="true"==localStorage.getItem("useQRCodeBasic"),window.onfocus=()=>{let G=Object.keys(this.windowOnFocusAct);for(let Y of G)this.windowOnFocusAct[Y]()},window.onblur=()=>{let G=Object.keys(this.WindowOnBlurAct);for(let Y of G)this.WindowOnBlurAct[Y]()};const W=()=>{this.ArcadeWithFullScreen=!!document.fullscreenElement};document.onfullscreenchange=W,document.onwebkitfullscreenchange=W,document.onmozfullscreenchange=W,document.onMSFullscreenChange=W}initialize(){const k=localStorage.getItem("ShowHint");null!==k&&(this.ShowHint="1"==k),void 0===this.ShowHint&&(this.ShowHint="DesktopPWA"==o.aH),this.p5toast.HTMLEncode||(this.p5toast.HTMLEncode=this.HTMLEncode),this.p5key=new et(T=>{T.setup=()=>{T.noCanvas(),T.noLoop(),this.p5KeyShortCut={}},T.keyPressed=N=>{if(!this.BlockMainShortcut&&this.p5KeyShortCut){switch(N.code){case"Backspace":this.p5KeyShortCut.Backspace&&this.p5KeyShortCut.Backspace();break;case"Backquote":this.p5KeyShortCut.Backquote&&this.p5KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(this.p5KeyShortCut.Digit){const j=(Number(N.code.slice(-1))-1+10)%10;this.p5KeyShortCut.Digit(j)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":this.p5KeyShortCut.BottomTab&&this.p5KeyShortCut.BottomTab(N.code.slice(-1));break;case"KeyA":this.p5KeyShortCut.AddAct&&this.p5KeyShortCut.AddAct();break;case"KeyS":this.p5KeyShortCut.SKeyAct&&this.p5KeyShortCut.SKeyAct(N);break;case"KeyD":this.p5KeyShortCut.DeleteAct&&this.p5KeyShortCut.DeleteAct();break;case"KeyF":this.p5KeyShortCut.FKeyAct&&this.p5KeyShortCut.FKeyAct();break;case"Escape":this.p5KeyShortCut.Escape&&this.p5KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":this.p5KeyShortCut.HistoryAct&&this.p5KeyShortCut.HistoryAct(N)}"Enter"===N.key&&this.p5KeyShortCut.EnterAct&&this.p5KeyShortCut.EnterAct(N)}}})}afterLangInit(){this.NeedBackgroundMode="DesktopPWA"!=o.aH,this.NeedBackgroundMode&&this.ToggleBackgroundMode()}RemoveAllModals(k=(()=>{})){var T=this;return(0,M.A)(function*(){let N="init";for(;N;)N=yield T.modalCtrl.getTop(),N&&(yield N.dismiss());k&&k()})()}CatchGETs(k){const T=k.split("?");if(T.length>1){const N=T[1].split("&");let j={};for(let Z=0,ee=N.length;Z<ee;Z++){const z=N[Z].split("=");j[z[0]]||(j[z[0]]=[]),j[z[0]].push(decodeURIComponent(z[1]))}return j}}readasQRCodeFromString(k){try{let T=new A({content:k,padding:4,width:8,height:8,color:y?"#bbb":"#444",background:y?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(T)}`)}catch(T){console.log("readasQRCodeFromString: ",T),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${T}`})}}CreateGodotIFrame(k,T,N=!1){var j=this;return new Promise(function(){var Z=(0,M.A)(function*(ee){let z=function(){var Y=(0,M.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(!j.godot_window.start_load_pck)throw"No act ready";yield j.indexed.GetGodotIndexedDB(),ee()}catch{setTimeout(()=>{z()},1e3)}});return function(){return Y.apply(this,arguments)}}();j.godot_window&&j.godot_window.quit_godot&&j.godot_window.quit_godot(),j.godot_window&&j.godot_window.quit_ionic&&N&&j.godot_window.quit_ionic(),j.godot_splash&&j.godot_splash.remove(),j.godot&&j.godot.remove(),window.godot="";{Object.keys(j.GodotCache).forEach(ar=>{URL.revokeObjectURL(j.GodotCache[ar]),delete j.GodotCache[ar]});let le=yield(yield fetch("assets/html/index.audio.worklet.js")).blob(),Me=URL.createObjectURL(le);j.GodotCache.audio=Me;let O=yield(yield fetch("assets/html/index.wasm")).blob(),oe=URL.createObjectURL(O);j.GodotCache.wasm=oe;let Se=yield(yield fetch("assets/html/index.pck")).blob(),Ue=URL.createObjectURL(Se);j.GodotCache.pck=Ue;let lt=yield(yield fetch("assets/html/index.png")).blob(),ze=URL.createObjectURL(lt);j.GodotCache.png=ze;let at=yield(yield fetch("assets/html/index.js")).text();at=at.replace("`${loadPath}.audio.worklet.js`",`'${Me}'`).replace(/`\${loadPath}\.wasm`/g,`'${oe}'`).replace("this.config.mainPack || `${exe}.pck`;",`'${Ue}'`);let Fe=new Blob([at],{type:"application/javascript"}),nt=URL.createObjectURL(Fe);j.GodotCache.js=nt;let ot=yield(yield fetch("assets/html/index.html")).text();ot=ot.replace('<script src="index.js"><\/script>',`<script src="${nt}"><\/script>`).replace('src="index.png"',`src="${ze}"`);let Ze=new Blob([ot],{type:"text/html"}),pt=URL.createObjectURL(Ze);j.GodotCache.html=pt}let te=document.createElement("iframe");te.id="godot",te.setAttribute("src",j.GodotCache.html),te.setAttribute("frameborder","0"),te.setAttribute("class","full_screen"),te.setAttribute("allow","fullscreen; encrypted-media"),te.setAttribute("scrolling","no"),te.setAttribute("withCredentials","true"),T.isMobile="DesktopPWA"!=o.aH,k.indexOf("content_viewer_canvas")>=0&&(T.create_thumbnail_p5=function(){var Y=(0,M.A)(function*(le,Me=void 0){Object.keys(j.GodotCache).forEach(O=>{URL.revokeObjectURL(j.GodotCache[O]),delete j.GodotCache[O]}),new et(K=>{K.setup=()=>{K.noCanvas(),K.pixelDensity(1),K.loadImage("data:image/png;base64,"+le,function(){var O=(0,M.A)(function*(oe){let me=K.createCanvas(oe.width,oe.height);K.image(oe,0,0),K.textSize(16),K.textWrap(K.CHAR);let Se=K.height/24;K.push(),K.translate(Se/6,Se/6),K.fill(0),K.text(j.godot_window.filename,Se,Se,K.width-2*Se,K.height-2*Se),K.filter(K.BLUR,3,!1),K.pop(),K.fill(255),K.text(j.godot_window.filename,Se,Se,K.width-2*Se,K.height-2*Se);let Ue=me.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{if(!T.alt_path&&!T.path)throw"\uacbd\ub85c \uc5c6\ub294 \ud30c\uc77c";yield j.indexed.saveBase64ToUserPath(Ue,`${T.alt_path||T.path}_thumbnail.png`),j.modulate_thumbnail(Me,"")}catch(Xe){console.log("p.saveFrames: ",Xe)}K.remove()});return function(oe){return O.apply(this,arguments)}}(),O=>{console.error("create_thumbnail_load thumbnail failed: ",O),K.remove()})}})});return function(le){return Y.apply(this,arguments)}}()),T.fullscr_tog=Y=>{j.ArcadeWithFullScreen=null!=Y?Y:!j.ArcadeWithFullScreen},document.getElementById(k).appendChild(te),j.godot_window=te.contentWindow||te.contentDocument,Object.keys(T).forEach(Y=>j.godot_window[Y]=T[Y]),j.godot=te,yield z()});return function(ee){return Z.apply(this,arguments)}}())}ToggleFullScreen(k){var T;this.ArcadeWithFullScreen=null!=k?k:!this.ArcadeWithFullScreen;let N=null!==(T=this.godot)&&void 0!==T?T:document.documentElement;this.ArcadeWithFullScreen?N.requestFullscreen?N.requestFullscreen():N.mozRequestFullScreen?N.mozRequestFullScreen():N.webkitRequestFullscreen?N.webkitRequestFullscreen():N.msRequestFullscreen&&N.msRequestFullscreen():document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}CreateArcadeFrame(k){var T=this;return(0,M.A)(function*(){T.ArcadeLoaded=!0,"DesktopPWA"==o.aH&&T.p5toast.show({text:T.lang.text.Arcade.ESCToExit}),yield T.CreateGodotIFrameWithDuplicateAct(k,"arcade_pck_loaded",{path:"tmp_files/duplicate/arcade.pck",force:!0,ws_send:j=>{if(T.ArcadeWS)try{T.ArcadeWS.send(j)}catch(Z){console.log("\uc544\ucf00\uc774\ub4dc WS \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \uc2e4\ud328: ",Z)}},webrtc_send:j=>{T.WebRTCService.send(j)},open_modal:()=>{T.GetHeaderAddress().then(j=>{T.ArcadeQRAddress=`${j}?arcade=wss://127.0.0.1:12013,${T.ArcadeSocketId}`,T.ArcadeQRCodeSRC=T.readasQRCodeFromString(T.ArcadeQRAddress),T.OpenArcadeQRCode()})}})})()}CreateGodotIFrameWithDuplicateAct(k,T,N,j,Z){var ee=this;return(0,M.A)(function*(){if(ee.ArcadeLoaded&&!N.force)ee.p5toast.show({text:ee.lang.text.Arcade.ArcadeOpened}),Z&&Z();else{let te=yield ee.loadingCtrl.create({message:ee.lang.text.Arcade.TryingDownload});te.present();try{var z;if(k.blob)throw"\uc900\ube44\ub41c blob \uc815\ubcf4";if(!k.url)throw"\ud30c\uc77c \uc815\ubcf4\uc5d0 URL\uc774 \uc5c6\uc74c";let Y=yield fetch(k.url,{signal:null===(z=k.cont)||void 0===z?void 0:z.signal});if(!Y.ok)throw`${Y.statusText} (${Y.status})`;k.blob=yield Y.blob()}catch(Y){console.log("pck \uc5f4\ub78c \uc624\ub958: ",Y)}te.dismiss();const W=`godot/app_userdata/Client/${N.path}`;let G=!1;if(ee.indexed.godotDB)try{yield ee.indexed.GetGodotIndexedDB(),yield ee.indexed.saveBlobToUserPath(k.blob,W,ee.indexed.godotDB),G=!0}catch(Y){console.log("\ub0b4\ubd80 \ud30c\uc77c \uc5c6\uc74c: ",Y)}if(yield ee.CreateGodotIFrame(T,N,!0),!G){try{yield ee.indexed.GetGodotIndexedDB(),yield ee.indexed.saveBlobToUserPath(k.blob,W,ee.indexed.godotDB)}catch{}yield ee.CreateGodotIFrame(T,N)}j&&j(),N.force&&(ee.WebRTCService.dataChannelOnMsgAct=Y=>{ee.godot_window&&ee.godot_window.webrtc_recv&&ee.godot_window.webrtc_recv(Y)}),ee.godot_window.start_load_pck()}})()}OpenGodotFromURL(){var k=this;return(0,M.A)(function*(){let T=yield k.loadingCtrl.create({message:k.lang.text.Arcade.TryingDownload});T.present();let N=yield k.GetValueFromClipboard();try{if("text/plain"!==N.type)throw"Invalid type";{let j=N.value;if("pck"!=j.split(".").pop())throw"Invalid type";let Z=yield fetch(j);if(!Z.ok)throw`${Z.statusText} (${Z.status})`;{let ee=yield Z.blob();k.CreateArcadeFrame({blob:ee}),k.CreateInfoSocket(j)}}}catch(j){console.log("URL \uace0\ub3c4\ud30c\uc77c \uc2e4\ud589 \uc2e4\ud328: ",j),k.p5toast.show({text:`${k.lang.text.Arcade.FailedToDownloadGodot}: ${j}`})}T.dismiss()})()}ToggleBackgroundMode(){var k,T,N;this.IsBackgroundMode=!this.IsBackgroundMode,null===(k=this.BackgroundAudioDiv)||void 0===k||k.remove(),this.BackgroundAudioDiv=null,null===(T=this.BGModeAudio)||void 0===T||T.pause(),null===(N=this.BGModeAudio)||void 0===N||N.remove(),this.BGModeAudio=null,this.IsBackgroundMode?(this.BackgroundAudioDiv=document.createElement("div"),this.BGModeAudio=new Audio("assets/empty.ogg"),this.BGModeAudio.hidden=!0,this.BGModeAudio.loop=!0,this.BGModeAudio.play(),this.BackgroundAudioDiv.appendChild(this.BGModeAudio),this.p5loading.update({id:"toggle_bgmode",message:this.lang.text.Arcade.BGModeOn,progress:null,forceEnd:1e3})):this.p5loading.update({id:"toggle_bgmode",message:this.lang.text.Arcade.BGModeOff,progress:1,forceEnd:1e3})}CreateInfoSocket(k){this.ArcadeWS=new WebSocket("wss://127.0.0.1:12013"),this.ArcadeWS.onopen=()=>{this.ArcadeWS.send(JSON.stringify({type:"initInfo",arcade_url:k}))},this.CreateArcadeWSOnMsgAct(),this.CreateArcadeWSCloseAct()}CreateArcadeWSOnMsgAct(){var k=this;let T;this.ArcadeWS.onmessage=N=>{let j;if(j="string"==typeof N.data?N.data:N.data.text(),this.godot_window&&this.godot_window.ws_recv&&this.BackgroundWorkDone)this.godot_window.ws_recv(j);else try{let Z=JSON.parse(j);switch(Z.type){case"req_info":const ee=Z.arcade_url;!function(){var te=(0,M.A)(function*(){try{k.SelectArcadeTab&&k.SelectArcadeTab();let W=yield fetch(ee);if(!W.ok)throw W;{let G=yield W.blob();k.CreateArcadeFrame({blob:G})}}catch(W){console.log("\ube60\ub978 \uc9c4\uc785 \uc2dc\uc791 \uc624\ub958: ",W)}});return function(){return te.apply(this,arguments)}}()();break;case"init_id":T=Z.id,this.ArcadeWS.send(JSON.stringify({type:"join",channel:T})),this.ArcadeSocketId=Z.socketId;break;case"socket_react":switch(Z.act){case"WEBRTC_REPLY_INIT_SIGNAL":this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_Reply),this.WebRTCService.WEBRTC_REPLY_INIT_SIGNAL(Z.data_str,{client:this.ArcadeWS,channel:T}),"EOL"==Z.data_str&&(this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_Offer),this.WebRTCService.CreateAnswer({client:this.ArcadeWS,channel:T})),this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_Ice);break;case"WEBRTC_REPLY_INIT_SIGNAL_PART":this.WebRTCService.WEBRTC_REPLY_INIT_SIGNAL_PART({client:this.ArcadeWS,channel:T});break;case"WEBRTC_ICE_CANDIDATES":this.WebRTCService.WEBRTC_ICE_CANDIDATES(Z.data_str,{client:this.ArcadeWS,channel:T}),this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_datachannel),this.ArcadeWS.send(JSON.stringify({type:"init_end",channel:T}));break;case"WEBRTC_INIT_REQ_SIGNAL":this.WebRTCService.WEBRTC_INIT_REQ_SIGNAL({client:this.ArcadeWS,channel:T});break;case"WEBRTC_RECEIVE_ANSWER":this.WebRTCService.WEBRTC_RECEIVE_ANSWER(Z.data_str,{client:this.ArcadeWS,channel:T})}}}catch{}}}CreateArcadeWSCloseAct(){this.ArcadeWS.onerror=k=>{console.log("\uc544\ucf00\uc774\ub4dc \uc18c\ucf13 \uc624\ub958: ",k),this.ArcadeWS.close()},this.ArcadeWS.onclose=()=>{this.ArcadeSocketId=null,this.BackgroundWorkDone=!1,this.WebRTCService.close_webrtc(),this.ArcadeQRAddress=null,this.ArcadeQRCodeSRC=null,this.ArcadeWS.onopen=null,this.ArcadeWS.onmessage=null,this.ArcadeWS.onclose=null,this.ArcadeWS=null}}OpenArcadeQRCode(){this.ArcadeObject.QRCode.onDidDismiss().then(()=>{this.RestoreShortCutAct("arcade-qrcode")}),this.StoreShortCutAct("arcade-qrcode"),this.ArcadeObject.QRCode.present()}JoinArcadeWithSocketInfo(k){this.ArcadeSocketId=k.socketId,this.ArcadeWS?this.p5toast.show({text:this.lang.text.Arcade.AlreadyUseWS}):(this.ArcadeWS=new WebSocket(k.server),this.ArcadeWS.onopen=()=>{this.ArcadeWS.send(JSON.stringify({type:"reqInfo",socketId:this.ArcadeSocketId}))},this.CreateArcadeWSOnMsgAct(),this.CreateArcadeWSCloseAct())}req_file_part_base64(k,T,N){let j="",Z=new Uint8Array(k.contents.slice(T*C,(T+1)*C));for(let z=0,te=Z.byteLength;z<te;z++)j+=String.fromCharCode(Z[z]);let ee=btoa(j);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:T}),`${N}.history`),ee}save_file_part(k,T,N){this.indexed.saveBase64ToUserPath(","+N,`${k}_part/${T}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:T}),`${k}.history`)}remove_req_file_info(k,T){delete k.content.transfer_index,this.indexed.removeFileFromUserPath(`${T}.history`)}modulate_thumbnail(k,T,N){var j=this;return(0,M.A)(function*(){try{let Z=yield j.indexed.loadBlobFromUserPath(`${k.path}_thumbnail.png`,"image/png");const ee=URL.createObjectURL(Z);return k.thumbnail=j.sanitizer.bypassSecurityTrustUrl(ee),void setTimeout(()=>{URL.revokeObjectURL(ee),T&&URL.revokeObjectURL(T)},100)}catch{}switch(k.viewer){case"image":try{if(!k.url)throw"No URL";if(!(yield fetch(k.url,{signal:null==N?void 0:N.signal})).ok)throw"Not ok";k.thumbnail=k.url}catch{T&&(k.thumbnail=j.sanitizer.bypassSecurityTrustUrl(T))}break;case"text":if(k.url){let Z=yield fetch(k.url,{signal:null==N?void 0:N.signal}).then(ee=>ee.text());k.text=Z.substring(0,45).split("\n")}else new et(Z=>{Z.setup=()=>{Z.noCanvas(),Z.loadStrings(T,ee=>{const te=ee.join("\n").substring(0,45);k.text=te.split("\n"),URL.revokeObjectURL(T),Z.remove()},ee=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",ee),k.text=[j.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(T),Z.remove()})}})}T&&setTimeout(()=>{URL.revokeObjectURL(T)},100)})()}set_viewer_category(k){try{if(this.set_viewer_category_from_ext(k),"disabled"==k.viewer)if(0==k.type.indexOf("image/"))k.viewer="image";else if(0==k.type.indexOf("audio/"))k.viewer="audio";else if(0==k.type.indexOf("video/"))k.viewer="video";else{if(0!=k.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";k.viewer="text"}}catch(T){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",T,"/ type: ",k.type)}}set_viewer_category_from_ext(k){switch(k.file_ext){case"blend":k.viewer="blender";break;case"pck":k.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":k.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":k.viewer="audio";break;case"mp4":case"ogv":k.viewer="video";break;case"webm":try{k.viewer=0==k.type.indexOf("video/")?"video":"audio"}catch(T){console.log("\ud30c\uc77c \ud655\uc7a5\uc790 \uac80\ud1a0 \uc624\ub958: ",T,"/",k),k.viewer="disabled"}break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"markdown":case"prop":case"properties":case"json":case"yml":k.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":k.viewer="text";break;case"pdf":k.viewer="pdf";break;default:k.viewer="disabled"}}GetBase64ThroughFileReader(k){return new Promise((T,N)=>{var j;let Z=new FileReader;Z=null!==(j=Z._realReader)&&void 0!==j?j:Z,Z.onload=ee=>{Z.onload=null,Z.onerror=null,T(ee.target.result.replace(/"|\\|=/g,""))},Z.onerror=ee=>{Z.onload=null,Z.onerror=null,N(ee)},Z.readAsDataURL(k)})}Base64ToBlob(k,T=""){let N=atob(k.split(",")[1]),j=new ArrayBuffer(N.length),Z=new Int8Array(j);for(let z=0,te=N.length;z<te;z++)Z[z]=N.charCodeAt(z);return new Blob([Z],{type:T})}upload_file_to_storage(k,T,N,j,Z,ee,z){var te=this;return(0,M.A)(function*(){const W=ee||`upload_file_to_storage_${Date.now()}`;let Y,le,G=!1;Z&&(Y=yield te.try_upload_to_user_custom_fs(k,null==T?void 0:T.user_id,W,z));try{var Me;if(Y)throw G=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";let K=(new Date).getTime(),O=k.filename.substring(0,k.filename.lastIndexOf(".")),oe=k.override_name||`${null==T?void 0:T.user_id.replace(/\//g,"_")}_${K}_${O}.${k.file_ext}`;const me=null!==(Me=k.override_path)&&void 0!==Me?Me:`${null==T?void 0:T.user_id}/${K}`;Y=`${N}//${j}:${(null==T?void 0:T.apache_port)||9002}/cdn/`;const Se=oe.replace(/\//g,"_");le=setInterval((0,M.A)(function*(){let at=yield fetch(`${N}//${j}:${(null==T?void 0:T.cdn_port)||9001}/filesize/${Se}`,{method:"POST"}),Fe=Number(yield at.text()),nt=Math.floor(Fe/k.size*100);te.p5loading.update({id:W,message:`${z?z+": ":""}${k.filename}: ${nt||0}%`})}),700);let Ue=new FormData,Xe=new File([k.blob],oe);Ue.append("files",Xe),Ue.append("path",me),Ue.append("filename",k.override_filename||`${O}.${k.file_ext}`);let lt=yield fetch(`${N}//${j}:${(null==T?void 0:T.cdn_port)||9001}/cdn/${oe}`,{method:"POST",body:Ue});if(Y+=(yield lt.text()),!lt.ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";if(te.p5loading.update({id:W,message:`${z?z+": ":""}${k.filename}: 100%`}),clearInterval(le),!(yield fetch(Y)).ok)throw"\uc694\uccad \uc2e4\ud328";G=!0}catch(K){clearInterval(le),te.p5loading.update({id:W,message:`${te.lang.text.GlobalAct.CancelingUpload}: ${k.filename}`}),console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",K)}return ee||te.p5loading.remove(W),G?Y:void 0})()}remove_file_from_storage(k,T){return(0,M.A)(function*(){try{let N=k.split("/cdn/"),j=N.pop(),Z=N.shift(),ee=Z.lastIndexOf(":");ee>5&&(Z=Z.substring(0,ee)),yield fetch(`${Z}:${(null==T?void 0:T.cdn_port)||9001}/remove/${j}`,{method:"POST"})}catch(N){console.log("remove_file_from_storage: ",N)}})()}remove_files_from_storage_with_key(k,T,N){return(0,M.A)(function*(){try{if(!k)throw"\ub300\uc0c1 \uc8fc\uc18c \uc5c6\uc74c";let j=k.lastIndexOf(":");j>5&&(k=k.substring(0,j)),yield fetch(`${k}:${(null==N?void 0:N.cdn_port)||9001}/remove_key/${T}`,{method:"POST"})}catch(j){throw console.log("remove_files_from_storage_with_key: ",j),j}})()}try_upload_to_user_custom_fs(k,T,N,j,Z){var ee=this;return(0,M.A)(function*(){var z;const te=N||`try_upload_to_user_custom_fs_${Date.now()}`;ee.p5loading.update({id:te,message:`${ee.lang.text.Settings.TryToFallbackFS}: ${k.filename}`});const W=(new Date).getTime(),G=k.filename.substring(0,k.filename.lastIndexOf(".")),Y=k.override_name||`${T.replace(/\//g,"_")}_${W}_${G}.${k.file_ext}`,le=null!==(z=k.override_path)&&void 0!==z?z:`${T}/${W}`;let O,Me=new FormData,K=new File([k.blob],Y);Me.append("files",K),Me.append("path",le),Me.append("filename",k.override_filename||`${G}.${k.file_ext}`),Z||(Z=localStorage.getItem("fallback_fs"));try{if(!Z)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let oe=Z.split("://"),me=oe.pop().split(":"),Se=oe.pop();Se?Se+=":":Se=ee.checkProtocolFromAddress(me[0])?"https:":"http:";let Ue=`${Se}//${me[0]}:${me[1]||9002}/cdn/`;const Xe=Y.replace(/\//g,"_");O=setInterval((0,M.A)(function*(){let at=yield fetch(`${Se}//${me[0]}:9001/filesize/${Xe}`,{method:"POST"}),Fe=Number(yield at.text()),nt=Math.floor(Fe/k.size*100);ee.p5loading.update({id:te,message:`${j?j+": ":""}${k.filename}: ${nt||0}%`})}),700);let lt=yield fetch(`${Se}//${me[0]}:9001/cdn/${Y}`,{method:"POST",body:Me});if(Ue+=(yield lt.text()),!lt.ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";ee.p5loading.update({id:te,message:`${j?j+": ":""}${k.filename}: 100%`}),clearInterval(O);let st=yield fetch(Ue);if(N||ee.p5loading.remove(te),st.ok)return Ue;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(O),void(N||ee.p5loading.remove(te))}})()}GetHrefThumbnail(k,T,N){var j=this;return(0,M.A)(function*(){let Z=null;0!=k.indexOf("https://")&&0!=k.indexOf("http://")&&(k=(j.checkProtocolFromAddress(k)?"https://":"http://")+k);try{let z=localStorage.getItem("fallback_fs").split("://"),te=z.shift(),G=z.pop().split(":").pop();if(!G)throw"\uc9c0\uc815\ub41c FFS \uc5c6\uc74c";let Y=yield fetch(`${te||j.checkProtocolFromAddress(G)?"https":"http"}://${G}:9001/get-page-info?url=${encodeURIComponent(k)}`,{signal:N.signal});if(!Y.ok)throw"FFS \uc6b0\ud68c \uc2e4\ud328";Z=yield Y.json()}catch{if(!T)throw"\ub300\uc0c1 \uc11c\ubc84 \uc5c6\uc74c";try{let z=yield fetch(`${T}/get-page-info?url=${encodeURIComponent(k)}`,{signal:N.signal});if(!z.ok)throw`${z.statusText} (${z.status})`;Z=yield z.json()}catch(z){console.log("GetHrefThumbnail: ",z)}}return Z})()}checkProtocolFromAddress(k){return!!k.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")}load_blender_file(k,T,N,j,Z){var ee=this;return new et(z=>{let le,te=[],W=[],Y={};z.setup=(0,M.A)(function*(){let K,Me=z.createCanvas(k.clientWidth,k.clientHeight,z.WEBGL);Me.parent(k),ee.BlenderLoadingCtrl=yield ee.loadingCtrl.create({message:ee.lang.text.ContentViewer.OnLoadContent}),ee.BlenderLoadingCtrl.present(),ee.BlenderCanvasInside=Me,z.textureMode(z.NORMAL),z.textureWrap(z.REPEAT),z.clear(255,255,255,0),z.pixelDensity(1);try{K=yield ee.indexed.loadBlobFromUserPath(T.path,T.type||"")}catch{try{K=yield(yield fetch(T.url,{signal:null==Z?void 0:Z.signal})).blob()}catch(Se){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Se),j()}}Object.keys(ee.JSBlendCache).forEach(me=>{URL.revokeObjectURL(ee.JSBlendCache[me]),delete ee.JSBlendCache[me]});try{let Se=yield(yield fetch("assets/js.blend/build/js.blend.js",{signal:null==Z?void 0:Z.signal})).blob(),Ue=URL.createObjectURL(Se);ee.JSBlendCache.js=Ue;let lt=yield(yield fetch("assets/js.blend/example/three.js",{signal:null==Z?void 0:Z.signal})).blob(),ze=URL.createObjectURL(lt);ee.JSBlendCache.three=ze;let at=yield(yield fetch("assets/js.blend/index.html",{signal:null==Z?void 0:Z.signal})).text();at=at.replace('src="./build/js.blend.js"',`src="${Ue}"`).replace('src="./example/three.js"',`src="${ze}"`);let Fe=new Blob([at],{type:"text/html"}),nt=URL.createObjectURL(Fe);ee.JSBlendCache.index=nt}catch(me){console.log("\ube14\ub80c\ub354 \ud398\uc774\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",me)}let oe=z.createElement("iframe");oe.elt.id="jsBlend",oe.elt.setAttribute("src",ee.JSBlendCache.index),oe.elt.setAttribute("frameborder","0"),oe.elt.setAttribute("class","full_screen"),oe.elt.setAttribute("allow","fullscreen; encrypted-media"),oe.elt.setAttribute("scrolling","no"),oe.elt.setAttribute("withCredentials","true"),oe.hide(),k.appendChild(oe.elt),oe.elt.contentWindow.TARGET_FILE=K,oe.elt.onload=(0,M.A)(function*(){if(!K)return void ee.p5toast.show({text:ee.lang.text.ContentViewer.CannotOpenText});le=z.createDiv(),le.parent(k),le.id("logDiv"),le.style("position","absolute"),le.style("top","0"),le.style("left","0"),le.style("width","100%"),le.style("height","100%"),le.style("max-height",`${k.clientHeight}px`),le.style("pointer-events","none"),ee.BlenderLoadingCtrl.dismiss();let me=yield oe.elt.contentWindow.JSBLEND(K);ee.BlenderLoadingCtrl=yield ee.loadingCtrl.create({message:ee.lang.text.ContentViewer.OnLoadContent}),ee.BlenderLoadingCtrl.present();const Se=100;let Ue=me.file.AB;if(me.file.objects.PackedFile)for(let Vt=0,cr=me.file.objects.PackedFile.length;Vt<cr;Vt++){let It=me.file.objects.PackedFile[Vt],br=It.data.__data_address__,fr=Ue.slice(br,br+It.size),Ct=new Blob([fr]),ir=URL.createObjectURL(Ct);z.loadImage(ir,Gt=>{Y[It.data.__data_address__]=Gt,URL.revokeObjectURL(ir)},Gt=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Gt),URL.revokeObjectURL(ir)})}let Xe=me.file.objects.vec2f,lt=0,ze=me.file.objects.Mesh,st=me.file.objects.vec3f,at=0,Fe=me.file.objects.vec2i,nt=0;for(let Vt=0,cr=me.file.objects.Object.length;Vt<cr;Vt++){let It=me.file.objects.Object[Vt];ee.BlenderLoadingCtrl.message=`${ee.lang.text.ContentViewer.ReadObject}: ${It.aname}`;let br=z.createVector(-It.loc[0]*Se,-It.loc[2]*Se,It.loc[1]*Se),Qt=z.createVector(It.rot[0],It.rot[2],-It.rot[1]);switch(It.type){case 1:{{let $t=["noimp","colonly","convcolonly","navmesh"],_t=!1;for(let Mt=0,Xt=$t.length;Mt<Xt;Mt++)if(-1!==It.aname.indexOf($t[Mt],It.aname.length-$t[Mt].length)){_t=!0;break}if(_t||(_t=448==It.base_flag),_t)continue}let Ct,ir,Gt,$e,fr=null;for(let $t=0,_t=ze.length;$t<_t;$t++)if(ze[$t].address==It.data.address){fr=$t;break}try{let $t=-1;for(let _t=0,Mt=Xe.length;_t<Mt;_t++)if(Xe[_t].address&&($t++,$t==fr)){lt=_t;break}}catch{}try{let $t=-1,_t=!1,Mt=st.length;for(let Xt=0;Xt<Mt;Xt++)if(st[Xt].address){if($t++,_t){Ct=st.slice(at,Xt);break}$t==fr&&(at=Xt,_t=!0)}Ct||(Ct=st.slice(at,Mt))}catch{}try{let $t=-1,_t=!1,Mt=Fe.length;for(let Xt=0;Xt<Mt;Xt++)if(Fe[Xt].address){if($t++,_t){ir=Fe.slice(nt,Xt);break}$t==fr&&(nt=Xt,_t=!0)}ir||(ir=Fe.slice(nt,Mt))}catch{}if(It.data.ldata.layers.length)for(let $t=0,_t=It.data.ldata.layers.length;$t<_t;$t++)11===It.data.ldata.layers[$t].type&&($e=It.data.ldata.layers[$t].data);else $e=It.data.ldata.layers.data;z.beginGeometry(),z.push(),z.translate(br),z.scale(It.size[0],It.size[2],It.size[1]),It.rot[0]+It.rot[1]+It.rot[2]&&(le.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${It.aname}: ${ee.lang.text.ContentViewer.MayGimbalLock}</div>`,z.rotate(z.HALF_PI,Qt));try{let $t=[];for(let _t=0,Mt=Ct.length;_t<Mt;_t++)$t.push([]);for(let _t=0,Mt=ir.length;_t<Mt;_t++){var Ye,ot;let Xt=null!==(Ye=ir[_t].x)&&void 0!==Ye?Ye:ir[_t].v1,tr=null!==(ot=ir[_t].y)&&void 0!==ot?ot:ir[_t].v2;$t[Xt].push(tr),$t[tr].push(Xt)}for(let Xt,tr,Mt=$e.length-1;Mt>=0;Mt--){var Ze,pt,kt;let Rt=$e[Mt].i,vt=null!==(Ze=Ct[Rt].x)&&void 0!==Ze?Ze:Ct[Rt].co[0],Ut=null!==(pt=Ct[Rt].y)&&void 0!==pt?pt:Ct[Rt].co[1],yt=null!==(kt=Ct[Rt].z)&&void 0!==kt?kt:Ct[Rt].co[2];if(void 0!==tr){try{if(!$t[tr].includes(Rt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";z.vertex(-vt*Se,-yt*Se,Ut*Se,Xe[lt+Mt].x,-Xe[lt+Mt].y);let dr=!1;if(tr!=Xt&&(dr=$t[Rt].includes(Xt)),dr)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{z.endShape(z.CLOSE),tr=void 0;continue}tr=Rt}else z.beginShape(),z.vertex(-vt*Se,-yt*Se,Ut*Se,Xe[lt+Mt].x,-Xe[lt+Mt].y),Xt=Rt,tr=Rt}}catch($t){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",$t),le.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${It.aname}: ${ee.lang.text.ContentViewer.LoadMeshFailed}: ${$t}</div>`}z.pop(),Gt=z.endGeometry();let Pe,Je,Ot,zt=0;try{if(!It.data.mat.length)throw"no_mat";for(let $t=0,_t=It.data.mat.length;$t<_t;$t++){try{let Mt=It.data.mat[$t].nodetree.nodes.first.next.inputs.first.default_value.value;Je=z.color(255*(Mt[0]||0),255*(Mt[1]||0),255*(Mt[2]||0),255*(Mt[3]||0))}catch(Mt){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",Mt),le.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${It.aname}: ${ee.lang.text.ContentViewer.FailedGetBaseColor}: ${Mt}</div>`}try{let Mt=It.data.mat[$t].nodetree.nodes.first.next.inputs.last.prev.default_value.value;zt=It.data.mat[$t].nodetree.nodes.first.next.inputs.last.default_value.value,Ot=z.color(255*(Mt[0]||0),255*(Mt[1]||0),255*(Mt[2]||0),255*(Mt[3]||0))}catch(Mt){le.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${It.aname}: ${ee.lang.text.ContentViewer.FailedGetEmitColor}: ${Mt}</div>`}if(It.data.mat[$t].nodetree.nodes.last.id){let Mt=It.data.mat[$t].nodetree.nodes.last.id.packedfile;if(!Mt)throw"unpacked";Pe=Mt.data.__data_address__}}}catch($t){switch($t){case"unpacked":le.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${It.aname}: ${ee.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":le.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${It.aname}: ${ee.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(It.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",$t),le.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${It.aname}: ${$t}</div>`}}Gt.computeNormals(),W.push({id:It.data.address,name:It.data.aname,color:Je,emissionColor:Ot,emissionStrength:zt,texture:Pe,mesh:Gt})}break;case 10:te.length<5?(le.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${It.aname}: ${ee.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,te.push({type:"point",loc:br,rot:Qt,color:z.color(255,255,255)})):le.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${It.aname}: ${ee.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(fr=>setTimeout(fr,0))}ee.BlenderLoadingCtrl.dismiss(),setTimeout(()=>{le.remove()},8e3),N(),Object.keys(ee.JSBlendCache).forEach(Vt=>{URL.revokeObjectURL(ee.JSBlendCache[Vt]),delete ee.JSBlendCache[Vt]}),oe.elt.onload=null}),z.camera(0,0,-z.height/2/z.tan(30*z.PI/180),0,0,0,0,1,0)}),z.draw=()=>{if(z.clear(255,255,255,0),z.orbitControl(),te.length)for(let Me=0,K=te.length;Me<K;Me++)"point"===te[Me].type&&z.pointLight(te[Me].color,te[Me].loc);else z.directionalLight(128,128,128,-1,1,1);z.ambientLight(128);for(let Me=0,K=W.length;Me<K;Me++)z.push(),W[Me].texture?(z.noStroke(),Y[W[Me].texture]&&z.texture(Y[W[Me].texture])):W[Me].color?(z.noStroke(),z.ambientMaterial(W[Me].color)):(z.stroke(0),z.fill(0)),W[Me].emissionStrength&&(z.noStroke(),z.emissiveMaterial(W[Me].emissionColor)),z.model(W[Me].mesh),z.pop()},z.windowResized=()=>{setTimeout(()=>{var Me;k.style.maxHeight=window.innerHeight-(this.ArcadeWithFullScreen?0:11)+"px",null===(Me=le)||void 0===Me||Me.style("max-height",`${k.clientHeight}px`),z.resizeCanvas(k.clientWidth,k.clientHeight)},50)}})}StoreShortCutAct(k){this.CacheShortCut[k]=this.p5KeyShortCut,this.p5KeyShortCut={}}GetConnectedAddress(){return`${location.protocol}//${location.host}${window.sub_path}`}GetHeaderAddress(){var k=this;return(0,M.A)(function*(){let T;try{if(k.CustomLocalAddress)return k.CustomLocalAddress;if(!k.useLocalAddress)throw"\uac15\uc81c\ub85c github \uc8fc\uc18c \ubc1c\uc0dd\uc2dc\ud0a4\uae30";let N=k.GetConnectedAddress(),j=new AbortController;const Z=setTimeout(()=>{j.abort("\uc8fc\uc18c \uac80\ud1a0 \uc2dc\uac04 \ucd08\uacfc"),j=null},250);let ee=yield fetch(N,{signal:j.signal});if(clearTimeout(Z),!ee.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";T=N}catch{T="https://is2you2.github.io/pjcone_pwa/"}return T})()}RestoreShortCutAct(k){this.CacheShortCut[k]&&Object.keys(this.CacheShortCut[k]).length&&(this.p5KeyShortCut=this.CacheShortCut[k]),delete this.CacheShortCut[k]}ClearShortCutAct(){let k=Object.keys(this.CacheShortCut);for(let T of k)delete this.CacheShortCut[T]}from_camera(k,T,N){var j=this;return(0,M.A)(function*(){const Z=N||`from_camera_${Date.now()}`;let ee={};j.p5loading.update({id:Z,message:j.lang.text.ChatRoom.LoadImageFromCamera});try{const z=yield w.getPhoto({quality:90,resultType:b.Base64,source:$.Camera});ee.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${z.format}`,ee.file_ext=z.format,ee.base64="data:image/jpeg;base64,"+z.base64String,j.p5loading.update({id:Z,image:ee.base64}),ee.thumbnail=j.sanitizer.bypassSecurityTrustUrl(ee.base64),ee.type=`image/${z.format}`,ee.typeheader="image",ee.content_related_creator=[{user_id:T.user_id,timestamp:(new Date).getTime(),display_name:T.display_name,various:"camera"}],ee.content_creator={user_id:T.user_id,timestamp:(new Date).getTime(),display_name:T.display_name,various:"camera"},ee.path=`${k}${ee.filename}`,ee.viewer="image";let W=yield j.indexed.saveBase64ToUserPath(ee.base64,ee.path);ee.blob=new Blob([W],{type:ee.type}),ee.size=ee.blob.size}catch(z){throw j.p5loading.update({id:Z,message:`${j.lang.text.GlobalAct.ErrorFromCamera}: ${z}`,image:null}),console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",z),z}return j.p5loading.remove(Z),ee})()}selected_blobFile_callback_act(k,T,N,j="loaded",Z=[]){let ee={};return ee.filename=k.name,ee.file_ext=k.name.split(".").pop()||k.type||this.lang.text.ChatRoom.unknown_ext,ee.size=k.size,ee.type=k.type||k.type_override,ee.path=`${T}${ee.filename}`,ee.blob=k,ee.content_related_creator=[...Z,{user_id:N.user_id,timestamp:(new Date).getTime(),display_name:N.display_name,various:j}],ee.content_creator={user_id:N.user_id,timestamp:(new Date).getTime(),display_name:N.display_name,various:j},this.set_viewer_category(ee),ee}voidDraw_fileAct_callback(k,T,N,j){var Z=this;return(0,M.A)(function*(){let ee={};ee.filename=k.data.name,ee.file_ext="png",ee.type="image/png",ee.viewer="image",j?(ee.content_related_creator=j,ee.content_creator={user_id:N.user_id,timestamp:(new Date).getTime(),display_name:N.display_name,various:"voidDraw"}):(ee.content_related_creator=[{user_id:N.user_id,timestamp:(new Date).getTime(),display_name:N.display_name,various:"voidDraw"}],ee.content_creator={timestamp:(new Date).getTime(),display_name:Z.CallbackNakama.users.self.display_name,various:"voidDraw"}),ee.typeheader="image",ee.path=`${T}${ee.filename}`,ee.thumbnail=Z.sanitizer.bypassSecurityTrustUrl(k.data.img);let z=yield Z.indexed.saveBase64ToUserPath(k.data.img,ee.path),te=new Blob([z],{type:ee.type});return ee.blob=new File([te],k.data.name),ee.size=ee.blob.size,Z.p5loading.remove(k.data.loadingCtrl),ee})()}TextEditorNewFileName(){let k=new Date;return`texteditor_${k.getUTCFullYear()}-${("0"+(k.getMonth()+1)).slice(-2)}-${("0"+k.getDate()).slice(-2)}_${("0"+k.getHours()).slice(-2)}-${("0"+k.getMinutes()).slice(-2)}-${("0"+k.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(k,T){let N={};return"html"===(N.content_creator={user_id:T.user_id,timestamp:(new Date).getTime(),display_name:T.display_name,various:"textedit"},N.content_related_creator=[],N.content_related_creator.push(N.content_creator),N.blob=k.blob,N.path=k.path,N.size=k.blob.size,N.filename=k.blob.name||this.TextEditorNewFileName(),N.file_ext=N.filename.split(".").pop(),N.viewer="text",N.file_ext)?(N.type="text/html",N.viewer="code"):N.type="text/plain",N.typeheader="text",N}open_custom_site(k,T){try{let ee,N=k.split("://"),Z=N.pop().split(":");Z.length>1&&Z.pop();try{ee="https"==N[0]||"wss"==N[0]}catch{ee=this.checkProtocolFromAddress(Z[0])}Z[0]="//"+Z[0],Z.unshift(ee?"https":"http"),window.open(Z.join(":")+`:${T||9001}`,"_blank")}catch{}}open_link(k){0!=k.indexOf("https://")&&0!=k.indexOf("http://")&&(k=(this.checkProtocolFromAddress(k)?"https://":"http://")+k),k&&window.open(k,"_blank");const T=document.activeElement;T&&T.blur()}GetValueFromClipboard(k){var T=this;return(0,M.A)(function*(){let N={type:"text/plain",value:""};const j=k||"clipboardAct";yield T.p5loading.update({id:j,message:T.lang.text.GlobalAct.ClipboardPaste,image:null,forceEnd:null});try{const Z=yield navigator.clipboard.read();for(let ee of Z)for(let z of ee.types){let te=yield ee.getType(z);if("image/png"==z){N.type=z;let W=new File([te],"image.png",{type:z});N.value=W;const G=URL.createObjectURL(W);T.p5loading.update({id:j,image:G}),setTimeout(()=>{URL.revokeObjectURL(G)},100);break}if("text/plain"==z){N.type=z,N.value=yield te.text();break}}return T.p5loading.remove(j),N}catch(Z){return console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Z),T.p5toast.show({text:`${T.lang.text.GlobalAct.FailedToReadClipboard}: ${Z}`}),N.type="error",N.value=Z,T.p5loading.remove(j),N}})()}WriteValueToClipboard(k,T,N,j){var Z=this;return(0,M.A)(function*(){if(!T)return;const ee=j||"clipboardAct";yield Z.p5loading.update({id:ee,message:Z.lang.text.GlobalAct.ClipboardCopy,image:null,forceEnd:null});try{let z={},te=T;switch(k){case"text/plain":te=new Blob([T],{type:k}),T=Z.truncateString(T,80);break;case"image/png":const W=URL.createObjectURL(te);Z.p5loading.update({id:ee,image:W}),setTimeout(()=>{URL.revokeObjectURL(W)},100)}z[k]=te,yield navigator.clipboard.write([new ClipboardItem(z)]),Z.p5loading.update({id:ee,message:`${Z.lang.text.GlobalAct.PCClipboard}: ${N||T}`}),Z.p5loading.remove(ee)}catch(z){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",z),Z.p5toast.show({text:`${Z.lang.text.GlobalAct.ClipboardFailed}: ${z}`}),Z.p5loading.update({id:ee,forceEnd:350}),z}})()}truncateString(k,T){return(null==k?void 0:k.length)>T?k.slice(0,T-1)+"\u2026":k}HTMLEncode(k){let T=(k=[...k]).length,N=[];for(;T--;){let j=k[T].codePointAt(0);N[T]=j<65||j>127||j>90&&j<97?"&#"+j+";":k[T]}return N.join("")}HTMLDecode(k){const T={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};return(k=k.replace(/&[a-zA-Z]+;/g,N=>T[N]||N)).replace(/&#(\d+);/g,(N,j)=>String.fromCodePoint(Number(j)))}StopAndSaveVoiceRecording(){var k=this;return(0,M.A)(function*(){try{let T=yield _.R.stopRecording();k.useVoiceRecording=null;let N=k.Base64ToBlob(`${T.value.mimeType},${T.value.recordDataBase64}`);return N.name=`${k.lang.text.ChatRoom.VoiceRecord}.${T.value.mimeType.split("/").pop().split(";")[0]}`,N.type_override=T.value.mimeType,N}catch(T){throw k.useVoiceRecording=null,k.p5toast.show({text:`${k.lang.text.AddPost.FailedToSaveVoice}:${T}`}),T}})()}InstantCallSend(k){this.InstantCallWSClient&&this.InstantCallWSClient.readyState==this.InstantCallWSClient.OPEN&&this.InstantCallWSClient.send(k)}ActLikeModal(k,T){this.RemoveAllModals(()=>{this.navCtrl.navigateForward(k,{animation:Et.V5,state:T})})}}return(B=R).\u0275fac=function(k){return new(k||B)(i.KVO(a.W3),i.KVO(u.G),i.KVO(d.y),i.KVO(h.up),i.KVO(g.n),i.KVO(a.Xi),i.KVO(l.q9),i.KVO(p.f))},B.\u0275prov=i.jDH({token:B,factory:B.\u0275fac,providedIn:"root"}),R})()},755:(Dr,rr,_e)=>{"use strict";_e.d(rr,{n:()=>o});var M=_e(467),A=_e(3953),et=_e(9900),Et=_e(4234);let o=(()=>{var ie;class ${constructor(b,f){this.p5toast=b,this.lang=f}initialize(b=(()=>{})){if(this.ionicDB)return void b();let f=indexedDB.open("/ionicfs",10),m=()=>{f.onsuccess=null,f.onupgradeneeded=null,f.onerror=null};f.onsuccess=w=>{w.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=a=>{this.ionicDB=a.target.result,b(),m()}},f.onupgradeneeded=w=>{w.target.result.createObjectStore("FILE_DATA")},f.onerror=w=>{indexedDB.open("/ionicfs",11).onsuccess=i=>{this.ionicDB=i.target.result,b(),m()}}}GetGodotIndexedDB(){var b=this;return(0,M.A)(function*(){if(!b.godotDB)return new Promise((f,m)=>{let w=indexedDB.open("/userfs",21),_=()=>{w.onsuccess=null,w.onerror=null};w.onsuccess=i=>{b.godotDB=w.result,_(),f(void 0)},w.onerror=i=>{console.error("IndexedDB initialized failed: ",i),_(),m(i)}})})()}createRecursiveDirectory(b,f=this.ionicDB){let m=b.lastIndexOf("/"),w=b.substring(0,m);w&&this.checkIfFileExist(w).then(_=>{if(_)return void this.createRecursiveDirectory(w,f);let i=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${w}`),a=()=>{i.onsuccess=null,i.onerror=null};i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),this.createRecursiveDirectory(w,f),a()},i.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l),a()}})}createDirectory(b){return new Promise((f,m)=>{this.checkIfFileExist(b).then(w=>{w&&m(this.lang.text.UserFsDir.AlreadyExistFolder);let _=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${b}`),i=()=>{_.onsuccess=null,_.onerror=null};_.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),i(),f(void 0)},_.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),i(),m(a)}})})}saveTextFileToUserPath(b,f,m=this.ionicDB){return this.createRecursiveDirectory(f,m),new Promise((w,_)=>{let i=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(b)},`/userfs/${f}`),a=()=>{i.onsuccess=null,i.onerror=null};i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),a(),w(l)},i.onerror=l=>{a(),_(l)}})}saveBase64ToUserPath(b,f,m=this.ionicDB){return new Promise((w,_)=>{let i=atob(b.split(",")[1]),a=new ArrayBuffer(i.length),l=new Int8Array(a);for(let d=0,h=i.length;d<h;d++)l[d]=i.charCodeAt(d);this.createRecursiveDirectory(f,m);let u=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:l},`/userfs/${f}`);u.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),u.onsuccess=null,u.onerror=null,w(l)},u.onerror=d=>{u.onsuccess=null,u.onerror=null,_(d)}})}saveInt8ArrayToUserPath(b,f,m=this.ionicDB){return new Promise((w,_)=>{this.createRecursiveDirectory(f,m);let i=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:b},`/userfs/${f}`);i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),i.onsuccess=null,i.onerror=null,w()},i.onerror=a=>{i.onsuccess=null,i.onerror=null,_(a)}})}saveBlobToUserPath(b,f,m=this.ionicDB){var w=this;return new Promise(function(){var _=(0,M.A)(function*(i,a){let l;try{let d=yield b.arrayBuffer();l=new Int8Array(d)}catch(d){a(d)}w.createRecursiveDirectory(f,m);let u=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:l},`/userfs/${f}`);u.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),u.onsuccess=null,u.onerror=null,i(l)},u.onerror=d=>{u.onsuccess=null,u.onerror=null,a(d)}});return function(i,a){return _.apply(this,arguments)}}())}saveFileToUserPath(b,f,m=this.ionicDB){return this.createRecursiveDirectory(f,m),new Promise((w,_)=>{let i=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(b,`/userfs/${f}`);i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),i.onsuccess=null,i.onerror=null,w(a)},i.onerror=a=>{i.onsuccess=null,i.onerror=null,_(a)}})}checkIfFileExist(b,f=this.ionicDB){return new Promise((m,w)=>{let _=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${b}`);_.onsuccess=i=>{let a=i.target.result;_.onsuccess=null,_.onerror=null,m(a)},_.onerror=i=>{_.onsuccess=null,_.onerror=null,w(i)}})}GetFileListFromDB(b,f=this.ionicDB){let m=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((w,_)=>{m.onsuccess=i=>{const a=i.target.result;for(let l=a.length-1;l>=0;l--)a[l].includes(b)?a[l]=a[l].substring(8):a.splice(l,1);m.onsuccess=null,m.onerror=null,w(a)},m.onerror=i=>{m.onsuccess=null,m.onerror=null,_(i)}})}GetFileInfoFromDB(b,f=this.ionicDB){let m=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((w,_)=>{m.onsuccess=i=>{const a=i.target.result;m.onsuccess=null,m.onerror=null,w(a)},m.onerror=i=>{m.onsuccess=null,m.onerror=null,_(i)}})}loadTextFromUserPath(b,f=((w,_)=>{}),m=this.ionicDB){return new Promise(w=>{let _=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=i=>{if(i.target.result){let a=(new TextDecoder).decode(i.target.result.contents);_.onsuccess=null,_.onerror=null,f(!0,a),w(a)}else _.onsuccess=null,_.onerror=null,f(!1,`No file: , ${b}`),w(void 0)},_.onerror=i=>{console.error("IndexedDB loadTextFromUserPath failed: ",i),_.onsuccess=null,_.onerror=null,w(void 0)}})}loadBlobFromUserPath(b,f,m=this.ionicDB){let w=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((_,i)=>{w.onsuccess=a=>{try{let l=new Blob([a.target.result.contents],{type:f});w.onsuccess=null,w.onerror=null,_(l)}catch(l){w.onsuccess=null,w.onerror=null,i(l)}},w.onerror=a=>{w.onsuccess=null,w.onerror=null,i(a)}})}DownloadFileFromUserPath(b,f,m,w=this.ionicDB){let _=w.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=i=>{try{let a=new Blob([i.target.result.contents],{type:f}),l=URL.createObjectURL(a),u=document.createElement("a");u.download=m,u.href=l,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(l)}catch(a){console.error("DownloadFileFromUserPath: ",a),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${a}`})}_.onsuccess=null,_.onerror=null},_.onerror=i=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",i),_.onsuccess=null,_.onerror=null}}removeFileFromUserPath(b,f=this.ionicDB){let m=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${b}`);return new Promise((w,_)=>{m.onsuccess=i=>{m.onsuccess=null,m.onerror=null,w(i)},m.onerror=i=>{m.onsuccess=null,m.onerror=null,_(i)}})}}return(ie=$).\u0275fac=function(b){return new(b||ie)(A.KVO(et.G),A.KVO(Et.y))},ie.\u0275prov=A.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),$})()},4234:(Dr,rr,_e)=>{"use strict";_e.d(rr,{y:()=>o});var M=_e(467),A=_e(8326),Et=_e(3953);let o=(()=>{var ie;class ${constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{},InstantCall:{},ContentViewer:{},WebRTCDevManager:{}},this.setable=[],this.lang=navigator.language.split("-")[0];let b=localStorage.getItem("lang");b&&(this.lang=b)}load_selected_lang(b="assets/data/translate.csv"){var f=this;return(0,M.A)(function*(){return yield new Promise((m,w)=>{new A(_=>{_.setup=()=>{_.noCanvas(),_.loadTable(b,"csv","header",i=>{try{let l,a=Object.keys(i.rows[0].obj);f.setable.length=0;for(let u of a)"#"!=u&&f.setable.push({value:u,display_name:i.rows[0].obj[u]});i.columns.includes(f.lang)||(f.lang=f.setable[0].value),localStorage.setItem("lang",f.lang);for(let u=0,d=i.rows.length;u<d;u++)"#"==i.rows[u].obj["#"].charAt(0)?(l=i.rows[u].obj["#"].substring(3),f.text[l]||(f.text[l]={})):l&&(f.text[l][i.rows[u].obj["#"]]=i.rows[u].obj[f.lang]);f.Callback_nakama&&f.Callback_nakama(),b&&URL.revokeObjectURL(b),_.remove(),m(void 0)}catch(a){console.log("\uc0ac\uc6a9\uc790 \uc5b8\uc5b4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",a),b&&URL.revokeObjectURL(b),_.remove(),f.load_selected_lang(),m(void 0)}},i=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",i),b&&URL.revokeObjectURL(b),_.remove(),w(i)})}})})})()}}return(ie=$).\u0275fac=function(b){return new(b||ie)},ie.\u0275prov=Et.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),$})()},5547:(Dr,rr,_e)=>{"use strict";_e.d(rr,{r:()=>o});var M=_e(467),A=_e(92),et=_e(3953),Et=_e(755);let o=(()=>{var ie;class ${constructor(b){this.indexed=b,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.Current="",this.WebNoties={}}change_silent_settings(b){this.settings.silent[b]=!this.settings.silent[b],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(b,f)=>{b&&f&&(this.settings=JSON.parse(f)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var b=this;return(0,M.A)(function*(){b.ClearNoti(11),"serviceWorker"in navigator?(Notification.requestPermission().then(f=>{console.log("granted"===f?"\uc54c\ub9bc \uad8c\ud55c\uc774 \ud5c8\uc6a9\ub428.":"\uc54c\ub9bc \uad8c\ud55c\uc774 \uac70\ubd80\ub428.")},f=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800: ",f)}),navigator.serviceWorker.addEventListener("message",f=>{if(f.data.reply){if("12"===f.data.data){let m={msg:f.data.reply};if(!m.msg.trim())return;m.name=b.Sq_client.MyUserName,b.Sq_client.send(JSON.stringify(m))}}else window.swRegListenerCallback[f.data.data]&&window.swRegListenerCallback[f.data.data](),delete window.swRegListenerCallback[f.data.data]})):console.log("Service Worker is not supported in this browser.")})()}PushLocal(b,f,m=(()=>{})){var w=this;return(0,M.A)(function*(){if(document.hasFocus()&&w.Current===f||!w.settings.silent[b.smallIcon_ln||f||"icon_mono"])return;const _={badge:b.icon||`assets/badge/${b.smallIcon_ln||f||"favicon"}.png`,body:b.body,icon:b.icon||`assets/icon/${b.smallIcon_ln||f||"favicon"}.png`,image:b.image,silent:!w.settings.silent[b.smallIcon_ln]||!1,tag:`${b.id}`,actions:b.actions_wm,data:b.data_wm,requireInteraction:!!b.actions_wm};try{if(w.WebNoties[b.id]){try{w.WebNoties[b.id].close()}catch{}delete w.WebNoties[b.id]}if(A.Yl)delete _.actions,w.WebNoties[b.id]=new Notification(b.title,{..._}),w.WebNoties[b.id].onclick=()=>{m(),window.focus(),w.WebNoties[b.id].close()};else{yield window.swReg.showNotification(b.title,{..._});let i=yield window.swReg.getNotifications();for(let a=0,l=i.length;a<l;a++)if(i[a].tag==`${b.id}`){w.WebNoties[b.id]=i[a];break}window.swRegListenerCallback[b.id]=()=>{m(),window.focus(),w.WebNoties[b.id].close()}}}catch(i){console.log("\uc54c\ub9bc \uc0dd\uc131 \uc624\ub958: ",i)}})()}ClearNoti(b){this.WebNoties[b]&&this.WebNoties[b].close()}}return(ie=$).\u0275fac=function(b){return new(b||ie)(et.KVO(Et.n))},ie.\u0275prov=et.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),$})()},4237:(Dr,rr,_e)=>{"use strict";_e.d(rr,{I:()=>xr,X:()=>Mr});var w,_,M=_e(467),A=Object.defineProperty,et=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,ie=(X,pe,Ie)=>pe in X?A(X,pe,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):X[pe]=Ie,$=(X,pe)=>{for(var Ie in pe||(pe={}))Et.call(pe,Ie)&&ie(X,Ie,pe[Ie]);if(et)for(var Ie of et(pe))o.call(pe,Ie)&&ie(X,Ie,pe[Ie]);return X},v=(X,pe,Ie)=>new Promise((E,I)=>{var U=V=>{try{J(Ie.next(V))}catch(ne){I(ne)}},D=V=>{try{J(Ie.throw(V))}catch(ne){I(ne)}},J=V=>V.done?E(V.value):Promise.resolve(V.value).then(U,D);J((Ie=Ie.apply(X,pe)).next())}),b=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof b<"u"&&b,f_searchParams="URLSearchParams"in b,f_iterable="Symbol"in b&&"iterator"in Symbol,f_blob="FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),f_formData="FormData"in b,f_arrayBuffer="ArrayBuffer"in b;function i(X){if("string"!=typeof X&&(X=String(X)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(X)||""===X)throw new TypeError('Invalid character in header field name: "'+X+'"');return X.toLowerCase()}function a(X){return"string"!=typeof X&&(X=String(X)),X}function l(X){var pe={next:function(){var Ie=X.shift();return{done:void 0===Ie,value:Ie}}};return f_iterable&&(pe[Symbol.iterator]=function(){return pe}),pe}function u(X){this.map={},X instanceof u?X.forEach(function(pe,Ie){this.append(Ie,pe)},this):Array.isArray(X)?X.forEach(function(pe){this.append(pe[0],pe[1])},this):X&&Object.getOwnPropertyNames(X).forEach(function(pe){this.append(pe,X[pe])},this)}function d(X){if(X.bodyUsed)return Promise.reject(new TypeError("Already read"));X.bodyUsed=!0}function h(X){return new Promise(function(pe,Ie){X.onload=function(){pe(X.result)},X.onerror=function(){Ie(X.error)}})}function g(X){var pe=new FileReader,Ie=h(pe);return pe.readAsArrayBuffer(X),Ie}function C(X){if(X.slice)return X.slice(0);var pe=new Uint8Array(X.byteLength);return pe.set(new Uint8Array(X)),pe.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(X){this.bodyUsed=this.bodyUsed,this._bodyInit=X,X?"string"==typeof X?this._bodyText=X:f_blob&&Blob.prototype.isPrototypeOf(X)?this._bodyBlob=X:f_formData&&FormData.prototype.isPrototypeOf(X)?this._bodyFormData=X:f_searchParams&&URLSearchParams.prototype.isPrototypeOf(X)?this._bodyText=X.toString():f_arrayBuffer&&f_blob&&function m(X){return X&&DataView.prototype.isPrototypeOf(X)}(X)?(this._bodyArrayBuffer=C(X.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(X)||_(X))?this._bodyArrayBuffer=C(X):this._bodyText=X=Object.prototype.toString.call(X):this._bodyText="",this.headers.get("content-type")||("string"==typeof X?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f_searchParams&&URLSearchParams.prototype.isPrototypeOf(X)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f_blob&&(this.blob=function(){var X=d(this);if(X)return X;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(g)}),this.text=function(){var X=d(this);if(X)return X;if(this._bodyBlob)return function p(X){var pe=new FileReader,Ie=h(pe);return pe.readAsText(X),Ie}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function y(X){for(var pe=new Uint8Array(X),Ie=new Array(pe.length),E=0;E<pe.length;E++)Ie[E]=String.fromCharCode(pe[E]);return Ie.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f_formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}f_arrayBuffer&&(w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(X){return X&&w.indexOf(Object.prototype.toString.call(X))>-1}),u.prototype.append=function(X,pe){X=i(X),pe=a(pe);var Ie=this.map[X];this.map[X]=Ie?Ie+", "+pe:pe},u.prototype.delete=function(X){delete this.map[i(X)]},u.prototype.get=function(X){return X=i(X),this.has(X)?this.map[X]:null},u.prototype.has=function(X){return this.map.hasOwnProperty(i(X))},u.prototype.set=function(X,pe){this.map[i(X)]=a(pe)},u.prototype.forEach=function(X,pe){for(var Ie in this.map)this.map.hasOwnProperty(Ie)&&X.call(pe,this.map[Ie],Ie,this)},u.prototype.keys=function(){var X=[];return this.forEach(function(pe,Ie){X.push(Ie)}),l(X)},u.prototype.values=function(){var X=[];return this.forEach(function(pe){X.push(pe)}),l(X)},u.prototype.entries=function(){var X=[];return this.forEach(function(pe,Ie){X.push([Ie,pe])}),l(X)},f_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var B=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(X,pe){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Ie=(pe=pe||{}).body;if(X instanceof P){if(X.bodyUsed)throw new TypeError("Already read");this.url=X.url,this.credentials=X.credentials,pe.headers||(this.headers=new u(X.headers)),this.method=X.method,this.mode=X.mode,this.signal=X.signal,!Ie&&null!=X._bodyInit&&(Ie=X._bodyInit,X.bodyUsed=!0)}else this.url=String(X);if(this.credentials=pe.credentials||this.credentials||"same-origin",(pe.headers||!this.headers)&&(this.headers=new u(pe.headers)),this.method=function R(X){var pe=X.toUpperCase();return B.indexOf(pe)>-1?pe:X}(pe.method||this.method||"GET"),this.mode=pe.mode||this.mode||null,this.signal=pe.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ie)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Ie),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==pe.cache&&"no-cache"!==pe.cache)){var E=/([?&])_=[^&]*/;E.test(this.url)?this.url=this.url.replace(E,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function k(X){var pe=new FormData;return X.trim().split("&").forEach(function(Ie){if(Ie){var E=Ie.split("="),I=E.shift().replace(/\+/g," "),U=E.join("=").replace(/\+/g," ");pe.append(decodeURIComponent(I),decodeURIComponent(U))}}),pe}function T(X){var pe=new u;return X.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(E){return 0===E.indexOf("\n")?E.substr(1,E.length):E}).forEach(function(E){var I=E.split(":"),U=I.shift().trim();if(U){var D=I.join(":").trim();pe.append(U,D)}}),pe}function N(X,pe){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');pe||(pe={}),this.type="default",this.status=void 0===pe.status?200:pe.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===pe.statusText?"":""+pe.statusText,this.headers=new u(pe.headers),this.url=pe.url||"",this._initBody(X)}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},H.call(P.prototype),H.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},N.error=function(){var X=new N(null,{status:0,statusText:""});return X.type="error",X};var j=[301,302,303,307,308];N.redirect=function(X,pe){if(-1===j.indexOf(pe))throw new RangeError("Invalid status code");return new N(null,{status:pe,headers:{location:X}})};var Z=b.DOMException;try{new Z}catch{(Z=function(pe,Ie){this.message=pe,this.name=Ie;var E=Error(pe);this.stack=E.stack}).prototype=Object.create(Error.prototype),Z.prototype.constructor=Z}function ee(X,pe){return new Promise(function(Ie,E){var I=new P(X,pe);if(I.signal&&I.signal.aborted)return E(new Z("Aborted","AbortError"));var U=new XMLHttpRequest;function D(){U.abort()}U.onload=function(){var V={status:U.status,statusText:U.statusText,headers:T(U.getAllResponseHeaders()||"")};V.url="responseURL"in U?U.responseURL:V.headers.get("X-Request-URL");var ne="response"in U?U.response:U.responseText;setTimeout(function(){Ie(new N(ne,V))},0)},U.onerror=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)},U.onabort=function(){setTimeout(function(){E(new Z("Aborted","AbortError"))},0)},U.open(I.method,function J(V){try{return""===V&&b.location.href?b.location.href:V}catch{return V}}(I.url),!0),"include"===I.credentials?U.withCredentials=!0:"omit"===I.credentials&&(U.withCredentials=!1),"responseType"in U&&(f_blob?U.responseType="blob":f_arrayBuffer&&I.headers.get("Content-Type")&&-1!==I.headers.get("Content-Type").indexOf("application/octet-stream")&&(U.responseType="arraybuffer")),!pe||"object"!=typeof pe.headers||pe.headers instanceof u?I.headers.forEach(function(V,ne){U.setRequestHeader(ne,V)}):Object.getOwnPropertyNames(pe.headers).forEach(function(V){U.setRequestHeader(V,a(pe.headers[V]))}),I.signal&&(I.signal.addEventListener("abort",D),U.onreadystatechange=function(){4===U.readyState&&I.signal.removeEventListener("abort",D)}),U.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}ee.polyfill=!0,b.fetch||(b.fetch=ee,b.Headers=u,b.Request=P,b.Response=N);var z="function"==typeof atob,te="function"==typeof btoa,W="function"==typeof Buffer,G="function"==typeof TextDecoder?new TextDecoder:void 0,Y="function"==typeof TextEncoder?new TextEncoder:void 0,Me=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),K=(X=>{let pe={};return X.forEach((Ie,E)=>pe[Ie]=E),pe})(Me),O=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,oe=String.fromCharCode.bind(String),me="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):X=>new Uint8Array(Array.prototype.slice.call(X,0)),Ue=X=>X.replace(/[^A-Za-z0-9\+\/]/g,""),lt=te?X=>btoa(X):W?X=>Buffer.from(X,"binary").toString("base64"):X=>{let pe,Ie,E,I,U="";const D=X.length%3;for(let J=0;J<X.length;){if((Ie=X.charCodeAt(J++))>255||(E=X.charCodeAt(J++))>255||(I=X.charCodeAt(J++))>255)throw new TypeError("invalid character found");pe=Ie<<16|E<<8|I,U+=Me[pe>>18&63]+Me[pe>>12&63]+Me[pe>>6&63]+Me[63&pe]}return D?U.slice(0,D-3)+"===".substring(D):U},ze=W?X=>Buffer.from(X).toString("base64"):X=>{let Ie=[];for(let E=0,I=X.length;E<I;E+=4096)Ie.push(oe.apply(null,X.subarray(E,E+4096)));return lt(Ie.join(""))},st=X=>{if(X.length<2)return(pe=X.charCodeAt(0))<128?X:pe<2048?oe(192|pe>>>6)+oe(128|63&pe):oe(224|pe>>>12&15)+oe(128|pe>>>6&63)+oe(128|63&pe);var pe=65536+1024*(X.charCodeAt(0)-55296)+(X.charCodeAt(1)-56320);return oe(240|pe>>>18&7)+oe(128|pe>>>12&63)+oe(128|pe>>>6&63)+oe(128|63&pe)},at=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,nt=W?X=>Buffer.from(X,"utf8").toString("base64"):Y?X=>ze(Y.encode(X)):X=>lt((X=>X.replace(at,st))(X)),Ye=(X,pe=!1)=>pe?(X=>X.replace(/=/g,"").replace(/[+\/]/g,pe=>"+"==pe?"-":"_"))(nt(X)):nt(X),ot=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ze=X=>{switch(X.length){case 4:var Ie=((7&X.charCodeAt(0))<<18|(63&X.charCodeAt(1))<<12|(63&X.charCodeAt(2))<<6|63&X.charCodeAt(3))-65536;return oe(55296+(Ie>>>10))+oe(56320+(1023&Ie));case 3:return oe((15&X.charCodeAt(0))<<12|(63&X.charCodeAt(1))<<6|63&X.charCodeAt(2));default:return oe((31&X.charCodeAt(0))<<6|63&X.charCodeAt(1))}},ar=z?X=>atob(Ue(X)):W?X=>Buffer.from(X,"base64").toString("binary"):X=>{if(X=X.replace(/\s+/g,""),!O.test(X))throw new TypeError("malformed base64.");X+="==".slice(2-(3&X.length));let pe,E,I,Ie="";for(let U=0;U<X.length;)pe=K[X.charAt(U++)]<<18|K[X.charAt(U++)]<<12|(E=K[X.charAt(U++)])<<6|(I=K[X.charAt(U++)]),Ie+=64===E?oe(pe>>16&255):64===I?oe(pe>>16&255,pe>>8&255):oe(pe>>16&255,pe>>8&255,255&pe);return Ie},Vt=W?X=>me(Buffer.from(X,"base64")):X=>me(ar(X).split("").map(pe=>pe.charCodeAt(0))),cr=W?X=>Buffer.from(X,"base64").toString("utf8"):G?X=>G.decode(Vt(X)):X=>(X=>X.replace(ot,Ze))(ar(X)),br=X=>cr((X=>Ue(X.replace(/[-_]/g,pe=>"-"==pe?"+":"/")))(X));function Qt(X,pe,Ie){const E=$($({},{method:X}),pe);if(E.headers=$({},pe.headers),typeof XMLHttpRequest<"u"){const I=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=I&&I.set||(E.credentials="cocos-ignore")}return Object.keys(E.headers).includes("Accept")||(E.headers.Accept="application/json"),Object.keys(E.headers).includes("Content-Type")||(E.headers["Content-Type"]="application/json"),Object.keys(E.headers).forEach(I=>{E.headers[I]||delete E.headers[I]}),Ie&&(E.body=Ie),E}var fr=class{constructor(X,pe,Ie){this.serverKey=X,this.basePath=pe,this.timeoutMs=Ie}healthcheck(X,pe={}){const U=this.buildFullUrl(this.basePath,"/healthcheck",new Map),D=Qt("GET",pe,"");return X&&(D.headers.Authorization="Bearer "+X),Promise.race([fetch(U,D).then(J=>{if(204==J.status)return J;if(J.status>=200&&J.status<300)return J.json();throw J}),new Promise((J,V)=>setTimeout(V,this.timeoutMs,"Request timed out."))])}deleteAccount(X,pe={}){const U=this.buildFullUrl(this.basePath,"/v2/account",new Map),D=Qt("DELETE",pe,"");return X&&(D.headers.Authorization="Bearer "+X),Promise.race([fetch(U,D).then(J=>{if(204==J.status)return J;if(J.status>=200&&J.status<300)return J.json();throw J}),new Promise((J,V)=>setTimeout(V,this.timeoutMs,"Request timed out."))])}getAccount(X,pe={}){const U=this.buildFullUrl(this.basePath,"/v2/account",new Map),D=Qt("GET",pe,"");return X&&(D.headers.Authorization="Bearer "+X),Promise.race([fetch(U,D).then(J=>{if(204==J.status)return J;if(J.status>=200&&J.status<300)return J.json();throw J}),new Promise((J,V)=>setTimeout(V,this.timeoutMs,"Request timed out."))])}updateAccount(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account",I),J=Qt("PUT",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}authenticateApple(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateCustom(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateDevice(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateEmail(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateFacebook(X,pe,Ie,E,I,U,D={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const V=new Map;V.set("create",E),V.set("username",I),V.set("sync",U);let ne="";ne=JSON.stringify(Ie||{});const Ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",V),De=Qt("POST",D,ne);return X&&(De.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(Ne,De).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,St)=>setTimeout(St,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateGoogle(X,pe,Ie,E,I,U={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const J=new Map;J.set("create",E),J.set("username",I);let V="";V=JSON.stringify(Ie||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",J),Ne=Qt("POST",U,V);return X&&(Ne.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}authenticateSteam(X,pe,Ie,E,I,U,D={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const V=new Map;V.set("create",E),V.set("username",I),V.set("sync",U);let ne="";ne=JSON.stringify(Ie||{});const Ne=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",V),De=Qt("POST",D,ne);return X&&(De.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(Ne,De).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,St)=>setTimeout(St,this.timeoutMs,"Request timed out."))])}linkApple(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/apple",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkCustom(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/custom",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkDevice(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/device",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkEmail(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/email",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkFacebook(X,pe,Ie,E={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const U=new Map;U.set("sync",Ie);let D="";D=JSON.stringify(pe||{});const J=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",U),V=Qt("POST",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkGameCenter(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkGoogle(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/google",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}linkSteam(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/link/steam",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}sessionRefresh(X,pe,Ie,E={}){if(null==Ie)throw new Error("'body' is a required parameter but is null or undefined.");const U=new Map;let D="";D=JSON.stringify(Ie||{});const J=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",U),V=Qt("POST",E,D);return X&&(V.headers.Authorization="Basic "+Ye(X+":"+pe)),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}unlinkApple(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkCustom(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkDevice(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkEmail(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkFacebook(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkGoogle(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}unlinkSteam(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listChannelMessages(X,pe,Ie,E,I,U={}){if(null==pe)throw new Error("'channelId' is a required parameter but is null or undefined.");const D="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(pe))),J=new Map;J.set("limit",Ie),J.set("forward",E),J.set("cursor",I);const ne=this.buildFullUrl(this.basePath,D,J),Ne=Qt("GET",U,"");return X&&(Ne.headers.Authorization="Bearer "+X),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}event(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/event",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}deleteFriends(X,pe,Ie,E={}){const U=new Map;U.set("ids",pe),U.set("usernames",Ie);const J=this.buildFullUrl(this.basePath,"/v2/friend",U),V=Qt("DELETE",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}listFriends(X,pe,Ie,E,I={}){const D=new Map;D.set("limit",pe),D.set("state",Ie),D.set("cursor",E);const V=this.buildFullUrl(this.basePath,"/v2/friend",D),ne=Qt("GET",I,"");return X&&(ne.headers.Authorization="Bearer "+X),Promise.race([fetch(V,ne).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,De)=>setTimeout(De,this.timeoutMs,"Request timed out."))])}addFriends(X,pe,Ie,E={}){const U=new Map;U.set("ids",pe),U.set("usernames",Ie);const J=this.buildFullUrl(this.basePath,"/v2/friend",U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}blockFriends(X,pe,Ie,E={}){const U=new Map;U.set("ids",pe),U.set("usernames",Ie);const J=this.buildFullUrl(this.basePath,"/v2/friend/block",U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}importFacebookFriends(X,pe,Ie,E={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const U=new Map;U.set("reset",Ie);let D="";D=JSON.stringify(pe||{});const J=this.buildFullUrl(this.basePath,"/v2/friend/facebook",U),V=Qt("POST",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(X,pe,Ie,E={}){const U=new Map;U.set("limit",pe),U.set("cursor",Ie);const J=this.buildFullUrl(this.basePath,"/v2/friend/friends",U),V=Qt("GET",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}importSteamFriends(X,pe,Ie,E={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const U=new Map;U.set("reset",Ie);let D="";D=JSON.stringify(pe||{});const J=this.buildFullUrl(this.basePath,"/v2/friend/steam",U),V=Qt("POST",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}listGroups(X,pe,Ie,E,I,U,D,J={}){const ne=new Map;ne.set("name",pe),ne.set("cursor",Ie),ne.set("limit",E),ne.set("lang_tag",I),ne.set("members",U),ne.set("open",D);const De=this.buildFullUrl(this.basePath,"/v2/group",ne),qe=Qt("GET",J,"");return X&&(qe.headers.Authorization="Bearer "+X),Promise.race([fetch(De,qe).then(St=>{if(204==St.status)return St;if(St.status>=200&&St.status<300)return St.json();throw St}),new Promise((St,sr)=>setTimeout(sr,this.timeoutMs,"Request timed out."))])}createGroup(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/group",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}deleteGroup(X,pe,Ie={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const E="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("DELETE",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}updateGroup(X,pe,Ie,E={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'body' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(pe))),U=new Map;let D="";D=JSON.stringify(Ie||{});const J=this.buildFullUrl(this.basePath,I,U),V=Qt("PUT",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}addGroupUsers(X,pe,Ie,E={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(pe))),U=new Map;U.set("user_ids",Ie);const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}banGroupUsers(X,pe,Ie,E={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(pe))),U=new Map;U.set("user_ids",Ie);const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(X,pe,Ie,E={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(pe))),U=new Map;U.set("user_ids",Ie);const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}joinGroup(X,pe,Ie={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const E="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("POST",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}kickGroupUsers(X,pe,Ie,E={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(pe))),U=new Map;U.set("user_ids",Ie);const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}leaveGroup(X,pe,Ie={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const E="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("POST",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(X,pe,Ie,E={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(pe))),U=new Map;U.set("user_ids",Ie);const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}listGroupUsers(X,pe,Ie,E,I,U={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(pe))),J=new Map;J.set("limit",Ie),J.set("state",E),J.set("cursor",I);const ne=this.buildFullUrl(this.basePath,D,J),Ne=Qt("GET",U,"");return X&&(Ne.headers.Authorization="Bearer "+X),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listSubscriptions(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/subscription",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}getSubscription(X,pe,Ie={}){if(null==pe)throw new Error("'productId' is a required parameter but is null or undefined.");const E="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("GET",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(X,pe,Ie={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const E="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("DELETE",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(X,pe,Ie,E,I,U,D={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const J="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),V=new Map;V.set("owner_ids",Ie),V.set("limit",E),V.set("cursor",I),V.set("expiry",U);const Ne=this.buildFullUrl(this.basePath,J,V),De=Qt("GET",D,"");return X&&(De.headers.Authorization="Bearer "+X),Promise.race([fetch(Ne,De).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,St)=>setTimeout(St,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(X,pe,Ie,E={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'record' is a required parameter but is null or undefined.");const I="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),U=new Map;let D="";D=JSON.stringify(Ie||{});const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(X,pe,Ie,E,I,U,D={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'ownerId' is a required parameter but is null or undefined.");const J="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(pe))).replace("{ownerId}",encodeURIComponent(String(Ie))),V=new Map;V.set("limit",E),V.set("expiry",I),V.set("cursor",U);const Ne=this.buildFullUrl(this.basePath,J,V),De=Qt("GET",D,"");return X&&(De.headers.Authorization="Bearer "+X),Promise.race([fetch(Ne,De).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,St)=>setTimeout(St,this.timeoutMs,"Request timed out."))])}listMatches(X,pe,Ie,E,I,U,D,J={}){const ne=new Map;ne.set("limit",pe),ne.set("authoritative",Ie),ne.set("label",E),ne.set("min_size",I),ne.set("max_size",U),ne.set("query",D);const De=this.buildFullUrl(this.basePath,"/v2/match",ne),qe=Qt("GET",J,"");return X&&(qe.headers.Authorization="Bearer "+X),Promise.race([fetch(De,qe).then(St=>{if(204==St.status)return St;if(St.status>=200&&St.status<300)return St.json();throw St}),new Promise((St,sr)=>setTimeout(sr,this.timeoutMs,"Request timed out."))])}deleteNotifications(X,pe,Ie={}){const I=new Map;I.set("ids",pe);const D=this.buildFullUrl(this.basePath,"/v2/notification",I),J=Qt("DELETE",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listNotifications(X,pe,Ie,E={}){const U=new Map;U.set("limit",pe),U.set("cacheable_cursor",Ie);const J=this.buildFullUrl(this.basePath,"/v2/notification",U),V=Qt("GET",E,"");return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}rpcFunc2(X,pe,Ie,E,I={}){if(null==pe)throw new Error("'id' is a required parameter but is null or undefined.");const U="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(pe))),D=new Map;D.set("payload",Ie),D.set("http_key",E);const V=this.buildFullUrl(this.basePath,U,D),ne=Qt("GET",I,"");return X&&(ne.headers.Authorization="Bearer "+X),Promise.race([fetch(V,ne).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,De)=>setTimeout(De,this.timeoutMs,"Request timed out."))])}rpcFunc(X,pe,Ie,E,I={}){if(null==pe)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'body' is a required parameter but is null or undefined.");const U="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(pe))),D=new Map;D.set("http_key",E);let J="";J=JSON.stringify(Ie||{});const V=this.buildFullUrl(this.basePath,U,D),ne=Qt("POST",I,J);return X&&(ne.headers.Authorization="Bearer "+X),Promise.race([fetch(V,ne).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,De)=>setTimeout(De,this.timeoutMs,"Request timed out."))])}sessionLogout(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/session/logout",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}readStorageObjects(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/storage",I),J=Qt("POST",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}writeStorageObjects(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/storage",I),J=Qt("PUT",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(X,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let U="";U=JSON.stringify(pe||{});const D=this.buildFullUrl(this.basePath,"/v2/storage/delete",I),J=Qt("PUT",Ie,U);return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listStorageObjects(X,pe,Ie,E,I,U={}){if(null==pe)throw new Error("'collection' is a required parameter but is null or undefined.");const D="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(pe))),J=new Map;J.set("user_id",Ie),J.set("limit",E),J.set("cursor",I);const ne=this.buildFullUrl(this.basePath,D,J),Ne=Qt("GET",U,"");return X&&(Ne.headers.Authorization="Bearer "+X),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}listStorageObjects2(X,pe,Ie,E,I,U={}){if(null==pe)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'userId' is a required parameter but is null or undefined.");const D="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(pe))).replace("{userId}",encodeURIComponent(String(Ie))),J=new Map;J.set("limit",E),J.set("cursor",I);const ne=this.buildFullUrl(this.basePath,D,J),Ne=Qt("GET",U,"");return X&&(Ne.headers.Authorization="Bearer "+X),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}listTournaments(X,pe,Ie,E,I,U,D,J={}){const ne=new Map;ne.set("category_start",pe),ne.set("category_end",Ie),ne.set("start_time",E),ne.set("end_time",I),ne.set("limit",U),ne.set("cursor",D);const De=this.buildFullUrl(this.basePath,"/v2/tournament",ne),qe=Qt("GET",J,"");return X&&(qe.headers.Authorization="Bearer "+X),Promise.race([fetch(De,qe).then(St=>{if(204==St.status)return St;if(St.status>=200&&St.status<300)return St.json();throw St}),new Promise((St,sr)=>setTimeout(sr,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(X,pe,Ie={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const E="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("DELETE",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listTournamentRecords(X,pe,Ie,E,I,U,D={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const J="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),V=new Map;V.set("owner_ids",Ie),V.set("limit",E),V.set("cursor",I),V.set("expiry",U);const Ne=this.buildFullUrl(this.basePath,J,V),De=Qt("GET",D,"");return X&&(De.headers.Authorization="Bearer "+X),Promise.race([fetch(Ne,De).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,St)=>setTimeout(St,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(X,pe,Ie,E={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'record' is a required parameter but is null or undefined.");const I="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),U=new Map;let D="";D=JSON.stringify(Ie||{});const J=this.buildFullUrl(this.basePath,I,U),V=Qt("POST",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(X,pe,Ie,E={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'record' is a required parameter but is null or undefined.");const I="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),U=new Map;let D="";D=JSON.stringify(Ie||{});const J=this.buildFullUrl(this.basePath,I,U),V=Qt("PUT",E,D);return X&&(V.headers.Authorization="Bearer "+X),Promise.race([fetch(J,V).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}joinTournament(X,pe,Ie={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const E="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(pe))),D=this.buildFullUrl(this.basePath,E,new Map),J=Qt("POST",Ie,"");return X&&(J.headers.Authorization="Bearer "+X),Promise.race([fetch(D,J).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,ne)=>setTimeout(ne,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(X,pe,Ie,E,I,U,D={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'ownerId' is a required parameter but is null or undefined.");const J="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(pe))).replace("{ownerId}",encodeURIComponent(String(Ie))),V=new Map;V.set("limit",E),V.set("expiry",I),V.set("cursor",U);const Ne=this.buildFullUrl(this.basePath,J,V),De=Qt("GET",D,"");return X&&(De.headers.Authorization="Bearer "+X),Promise.race([fetch(Ne,De).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,St)=>setTimeout(St,this.timeoutMs,"Request timed out."))])}getUsers(X,pe,Ie,E,I={}){const D=new Map;D.set("ids",pe),D.set("usernames",Ie),D.set("facebook_ids",E);const V=this.buildFullUrl(this.basePath,"/v2/user",D),ne=Qt("GET",I,"");return X&&(ne.headers.Authorization="Bearer "+X),Promise.race([fetch(V,ne).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,De)=>setTimeout(De,this.timeoutMs,"Request timed out."))])}listUserGroups(X,pe,Ie,E,I,U={}){if(null==pe)throw new Error("'userId' is a required parameter but is null or undefined.");const D="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(pe))),J=new Map;J.set("limit",Ie),J.set("state",E),J.set("cursor",I);const ne=this.buildFullUrl(this.basePath,D,J),Ne=Qt("GET",U,"");return X&&(Ne.headers.Authorization="Bearer "+X),Promise.race([fetch(ne,Ne).then(De=>{if(204==De.status)return De;if(De.status>=200&&De.status<300)return De.json();throw De}),new Promise((De,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}buildFullUrl(X,pe,Ie){let E=X+pe+"?";for(let[I,U]of Ie)U instanceof Array?E+=U.reduce((D,J)=>D+encodeURIComponent(I)+"="+encodeURIComponent(J)+"&",""):null!=U&&(E+=encodeURIComponent(I)+"="+encodeURIComponent(U)+"&");return E}},Ct=class{constructor(X,pe,Ie){this.created=Ie,this.token=X,this.refresh_token=pe,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(X,pe)}isexpired(X){return this.expires_at-X<0}isrefreshexpired(X){return this.refresh_expires_at-X<0}update(X,pe){const Ie=X.split(".");if(3!=Ie.length)throw"jwt is not valid.";const E=JSON.parse(ar(Ie[1])),I=Math.floor(parseInt(E.exp));if(pe){const U=pe.split(".");if(3!=U.length)throw"refresh jwt is not valid.";const D=JSON.parse(ar(U[1])),J=Math.floor(parseInt(D.exp));this.refresh_expires_at=J,this.refresh_token=pe}this.token=X,this.expires_at=I,this.username=E.usn,this.user_id=E.uid,this.vars=E.vrs}static restore(X,pe){return new Ct(X,pe,!1)}},ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for($e=0;$e<64;$e++)Gt[ir.charCodeAt($e)]=$e;var $e,We=function(X){var Ie,pe=new Uint8Array(X),E=pe.length,I="";for(Ie=0;Ie<E;Ie+=3)I+=ir[pe[Ie]>>2],I+=ir[(3&pe[Ie])<<4|pe[Ie+1]>>4],I+=ir[(15&pe[Ie+1])<<2|pe[Ie+2]>>6],I+=ir[63&pe[Ie+2]];return E%3==2?I=I.substring(0,I.length-1)+"=":E%3==1&&(I=I.substring(0,I.length-2)+"=="),I},Pe=function(X){var E,U,D,J,V,pe=.75*X.length,Ie=X.length,I=0;"="===X[X.length-1]&&(pe--,"="===X[X.length-2]&&pe--);var ne=new ArrayBuffer(pe),Ne=new Uint8Array(ne);for(E=0;E<Ie;E+=4)U=Gt[X.charCodeAt(E)],D=Gt[X.charCodeAt(E+1)],J=Gt[X.charCodeAt(E+2)],V=Gt[X.charCodeAt(E+3)],Ne[I++]=U<<2|D>>4,Ne[I++]=(15&D)<<4|J>>2,Ne[I++]=(3&J)<<6|63&V;return ne},Je=class{get onClose(){return this._socket.onclose}set onClose(X){this._socket.onclose=X}get onError(){return this._socket.onerror}set onError(X){this._socket.onerror=X}get onMessage(){return this._socket.onmessage}set onMessage(X){X?this._socket.onmessage=pe=>{const Ie=JSON.parse(pe.data);Ie.match_data&&Ie.match_data.data?Ie.match_data.data=new Uint8Array(Pe(Ie.match_data.data)):Ie.party_data&&Ie.party_data.data&&(Ie.party_data.data=new Uint8Array(Pe(Ie.party_data.data))),X(Ie)}:X=null}get onOpen(){return this._socket.onopen}set onOpen(X){this._socket.onopen=X}isOpen(){var X;return(null==(X=this._socket)?void 0:X.readyState)==WebSocket.OPEN}connect(X,pe,Ie,E,I){const U=`${X}${pe}:${Ie}/ws?lang=en&status=${encodeURIComponent(E.toString())}&token=${encodeURIComponent(I)}`;this._socket=new WebSocket(U)}close(){this._socket.close(),this._socket=void 0}send(X){if(X.match_data_send){X.match_data_send.op_code=X.match_data_send.op_code.toString();let pe=X.match_data_send.data;pe&&pe instanceof Uint8Array?X.match_data_send.data=We(pe.buffer):pe&&(X.match_data_send.data=lt(pe))}else if(X.party_data_send){X.party_data_send.op_code=X.party_data_send.op_code.toString();let pe=X.party_data_send.data;pe&&pe instanceof Uint8Array?X.party_data_send.data=We(pe.buffer):pe&&(X.party_data_send.data=lt(pe))}this._socket.send(JSON.stringify(X))}},Ot=class{constructor(X,pe,Ie=!1,E=!1,I=new Je,U=Ot.DefaultSendTimeoutMs){this.host=X,this.port=pe,this.useSSL=Ie,this.verbose=E,this.adapter=I,this.sendTimeoutMs=U,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=Ot.DefaultHeartbeatTimeoutMs}generatecid(){const X=this.nextCid.toString();return++this.nextCid,X}connect(X,pe=!1,Ie=Ot.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(X):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,pe,X.token),this.adapter.onClose=I=>{this.ondisconnect(I)},this.adapter.onError=I=>{this.onerror(I)},this.adapter.onMessage=I=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(I)),I.cid){const U=this.cIds[I.cid];if(!U)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",I));delete this.cIds[I.cid],I.error?U.reject(I.error):U.resolve(I)}else I.notifications?I.notifications.notifications.forEach(U=>{U.content=U.content?JSON.parse(U.content):void 0,this.onnotification(U)}):I.match_data?(I.match_data.op_code=parseInt(I.match_data.op_code),this.onmatchdata(I.match_data)):I.match_presence_event?this.onmatchpresence(I.match_presence_event):I.matchmaker_ticket?this.onmatchmakerticket(I.matchmaker_ticket):I.matchmaker_matched?this.onmatchmakermatched(I.matchmaker_matched):I.status_presence_event?this.onstatuspresence(I.status_presence_event):I.stream_presence_event?this.onstreampresence(I.stream_presence_event):I.stream_data?this.onstreamdata(I.stream_data):I.channel_message?(I.channel_message.content=JSON.parse(I.channel_message.content),this.onchannelmessage(I.channel_message)):I.channel_presence_event?this.onchannelpresence(I.channel_presence_event):I.party_data?(I.party_data.op_code=parseInt(I.party_data.op_code),this.onpartydata(I.party_data)):I.party_close?this.onpartyclose(I.party_close):I.party_join_request?this.onpartyjoinrequest(I.party_join_request):I.party_leader?this.onpartyleader(I.party_leader):I.party_matchmaker_ticket?this.onpartymatchmakerticket(I.party_matchmaker_ticket):I.party_presence_event?this.onpartypresence(I.party_presence_event):I.party?this.onparty(I.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",I)},new Promise((I,U)=>{this.adapter.onOpen=D=>{this.verbose&&window&&window.console&&console.log(D),this.pingPong(),I(X)},this.adapter.onError=D=>{U(D),this.adapter.close()},setTimeout(()=>{U("The socket timed out when trying to connect.")},Ie)}))}disconnect(X=!0){this.adapter.isOpen()&&this.adapter.close(),X&&this.ondisconnect({})}setHeartbeatTimeoutMs(X){this._heartbeatTimeoutMs=X}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(X){this.verbose&&window&&window.console&&console.log(X)}onerror(X){this.verbose&&window&&window.console&&console.log(X)}onchannelmessage(X){this.verbose&&window&&window.console&&console.log(X)}onchannelpresence(X){this.verbose&&window&&window.console&&console.log(X)}onnotification(X){this.verbose&&window&&window.console&&console.log(X)}onmatchdata(X){this.verbose&&window&&window.console&&console.log(X)}onmatchpresence(X){this.verbose&&window&&window.console&&console.log(X)}onmatchmakerticket(X){this.verbose&&window&&window.console&&console.log(X)}onmatchmakermatched(X){this.verbose&&window&&window.console&&console.log(X)}onparty(X){this.verbose&&window&&window.console&&console.log(X)}onpartyclose(X){this.verbose&&window&&window.console&&console.log("Party closed: "+X)}onpartyjoinrequest(X){this.verbose&&window&&window.console&&console.log(X)}onpartydata(X){this.verbose&&window&&window.console&&console.log(X)}onpartyleader(X){this.verbose&&window&&window.console&&console.log(X)}onpartymatchmakerticket(X){this.verbose&&window&&window.console&&console.log(X)}onpartypresence(X){this.verbose&&window&&window.console&&console.log(X)}onstatuspresence(X){this.verbose&&window&&window.console&&console.log(X)}onstreampresence(X){this.verbose&&window&&window.console&&console.log(X)}onstreamdata(X){this.verbose&&window&&window.console&&console.log(X)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(X,pe=Ot.DefaultSendTimeoutMs){const Ie=X;return new Promise((E,I)=>{if(this.adapter.isOpen())if(Ie.match_data_send)this.adapter.send(Ie),E();else if(Ie.party_data_send)this.adapter.send(Ie),E();else{Ie.channel_message_send?Ie.channel_message_send.content=JSON.stringify(Ie.channel_message_send.content):Ie.channel_message_update&&(Ie.channel_message_update.content=JSON.stringify(Ie.channel_message_update.content));const U=this.generatecid();this.cIds[U]={resolve:E,reject:I},setTimeout(()=>{I("The socket timed out while waiting for a response.")},pe),Ie.cid=U,this.adapter.send(Ie)}else I("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const U=$({},Ie);U.match_data_send&&U.match_data_send.data?U.match_data_send.data=br(U.match_data_send.data):U.party_data_send&&U.party_data_send.data&&(U.party_data_send.data=br(U.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(U))}})}acceptPartyMember(X,pe){return this.send({party_accept:{party_id:X,presence:pe}})}addMatchmaker(X,pe,Ie,E,I){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:pe,max_count:Ie,query:X,string_properties:E,numeric_properties:I}})).matchmaker_ticket})}addMatchmakerParty(X,pe,Ie,E,I,U){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:X,min_count:Ie,max_count:E,query:pe,string_properties:I,numeric_properties:U}})).party_matchmaker_ticket})}closeParty(X){return v(this,null,function*(){return yield this.send({party_close:{party_id:X}})})}createMatch(X){return v(this,null,function*(){return(yield this.send({match_create:{name:X}})).match})}createParty(X,pe){return v(this,null,function*(){return(yield this.send({party_create:{open:X,max_size:pe}})).party})}followUsers(X){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:X}})).status})}joinChat(X,pe,Ie,E){return v(this,null,function*(){return(yield this.send({channel_join:{target:X,type:pe,persistence:Ie,hidden:E}})).channel})}joinMatch(X,pe,Ie){return v(this,null,function*(){const E={match_join:{metadata:Ie}};return pe?E.match_join.token=pe:E.match_join.match_id=X,(yield this.send(E)).match})}joinParty(X){return v(this,null,function*(){return yield this.send({party_join:{party_id:X}})})}leaveChat(X){return this.send({channel_leave:{channel_id:X}})}leaveMatch(X){return this.send({match_leave:{match_id:X}})}leaveParty(X){return this.send({party_leave:{party_id:X}})}listPartyJoinRequests(X){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:X}})).party_join_request})}promotePartyMember(X,pe){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:X,presence:pe}})).party_leader})}removeChatMessage(X,pe){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:X,message_id:pe}})).channel_message_ack})}removeMatchmaker(X){return this.send({matchmaker_remove:{ticket:X}})}removeMatchmakerParty(X,pe){return this.send({party_matchmaker_remove:{party_id:X,ticket:pe}})}removePartyMember(X,pe){return v(this,null,function*(){return this.send({party_remove:{party_id:X,presence:pe}})})}rpc(X,pe,Ie){return v(this,null,function*(){return(yield this.send({rpc:{id:X,payload:pe,http_key:Ie}})).rpc})}sendMatchState(X,pe,Ie,E,I){return v(this,null,function*(){return this.send({match_data_send:{match_id:X,op_code:pe,data:Ie,presences:null!=E?E:[],reliable:I}})})}sendPartyData(X,pe,Ie){return this.send({party_data_send:{party_id:X,op_code:pe,data:Ie}})}unfollowUsers(X){return this.send({status_unfollow:{user_ids:X}})}updateChatMessage(X,pe,Ie){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:X,message_id:pe,content:Ie}})).channel_message_ack})}updateStatus(X){return this.send({status_update:{status:X}})}writeChatMessage(X,pe){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:X,content:pe}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},zt=Ot;zt.DefaultHeartbeatTimeoutMs=1e4,zt.DefaultSendTimeoutMs=1e4,zt.DefaultConnectTimeoutMs=3e4;var Rt=class{constructor(X="defaultkey",pe="127.0.0.1",Ie="7350",E=!1,I=7e3,U=!0){this.serverkey=X,this.host=pe,this.port=Ie,this.useSSL=E,this.timeout=I,this.autoRefreshSession=U,this.expiredTimespanMs=3e5,this.apiClient=new fr(X,`${E?"https://":"http://"}${pe}:${Ie}`,I)}addGroupUsers(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.addGroupUsers(X.token,pe,Ie).then(E=>void 0!==E)})}addFriends(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.addFriends(X.token,pe,Ie).then(E=>void 0!==E)})}authenticateApple(X,pe,Ie){return v(this,arguments,function*(E,I,U,D={},J={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:E,vars:D},I,U,J).then(ne=>new Ct(ne.token||"",ne.refresh_token||"",ne.created||!1))})}authenticateCustom(X,pe,Ie,E={},I={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:X,vars:E},pe,Ie,I).then(D=>new Ct(D.token||"",D.refresh_token||"",D.created||!1))}authenticateDevice(X,pe,Ie,E){return this.apiClient.authenticateDevice(this.serverkey,"",{id:X,vars:E},pe,Ie).then(U=>new Ct(U.token||"",U.refresh_token||"",U.created||!1))}authenticateEmail(X,pe,Ie,E,I){return this.apiClient.authenticateEmail(this.serverkey,"",{email:X,password:pe,vars:I},Ie,E).then(D=>new Ct(D.token||"",D.refresh_token||"",D.created||!1))}authenticateFacebookInstantGame(X,pe,Ie,E,I={}){const U={signed_player_info:X,vars:E};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:U.signed_player_info,vars:U.vars},pe,Ie,I).then(D=>new Ct(D.token||"",D.refresh_token||"",D.created||!1))}authenticateFacebook(X,pe,Ie,E,I,U={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:X,vars:I},pe,Ie,E,U).then(J=>new Ct(J.token||"",J.refresh_token||"",J.created||!1))}authenticateGoogle(X,pe,Ie,E){return v(this,arguments,function*(I,U,D,J,V={}){const ne={token:I,vars:J},Ne=yield this.apiClient.authenticateGoogle(this.serverkey,"",ne,U,D,V);return new Ct(Ne.token||"",Ne.refresh_token||"",Ne.created||!1)})}authenticateGameCenter(X,pe,Ie,E,I,U,D,J,V){return v(this,arguments,function*(ne,Ne,De,qe,St,sr,je,Ve,ht,Ge={}){const dt={bundle_id:ne,player_id:Ne,public_key_url:De,salt:qe,signature:St,timestamp_seconds:sr,vars:ht},Bt=yield this.apiClient.authenticateGameCenter(this.serverkey,"",dt,Ve,je,Ge);return new Ct(Bt.token||"",Bt.refresh_token||"",Bt.created||!1)})}authenticateSteam(X,pe,Ie,E,I){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:X,vars:I,sync:E},pe,Ie).then(D=>new Ct(D.token||"",D.refresh_token||"",D.created||!1))})}banGroupUsers(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.banGroupUsers(X.token,pe,Ie).then(E=>void 0!==E)})}blockFriends(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.blockFriends(X.token,pe,Ie).then(E=>Promise.resolve(null!=E))})}createGroup(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.createGroup(X.token,pe).then(Ie=>Promise.resolve({avatar_url:Ie.avatar_url,create_time:Ie.create_time,creator_id:Ie.creator_id,description:Ie.description,edge_count:Ie.edge_count?Number(Ie.edge_count):0,id:Ie.id,lang_tag:Ie.lang_tag,max_count:Ie.max_count?Number(Ie.max_count):0,metadata:Ie.metadata?JSON.parse(Ie.metadata):void 0,name:Ie.name,open:Ie.open,update_time:Ie.update_time}))})}createSocket(X=!1,pe=!1,Ie=new Je,E=zt.DefaultSendTimeoutMs){return new zt(this.host,this.port,X,pe,Ie,E)}deleteAccount(X){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.deleteAccount(X.token).then(pe=>void 0!==pe)})}deleteFriends(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.deleteFriends(X.token,pe,Ie).then(E=>void 0!==E)})}deleteGroup(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.deleteGroup(X.token,pe).then(Ie=>void 0!==Ie)})}deleteNotifications(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.deleteNotifications(X.token,pe).then(Ie=>Promise.resolve(null!=Ie))})}deleteStorageObjects(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.deleteStorageObjects(X.token,pe).then(Ie=>Promise.resolve(null!=Ie))})}deleteTournamentRecord(X,pe){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(X.token,pe)})}demoteGroupUsers(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.demoteGroupUsers(X.token,pe,Ie).then(E=>Promise.resolve(null!=E))})}emitEvent(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.event(X.token,pe).then(Ie=>Promise.resolve(null!=Ie))})}getAccount(X){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.getAccount(X.token)})}getSubscription(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.getSubscription(X.token,pe)})}importFacebookFriends(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.importFacebookFriends(X.token,pe).then(Ie=>void 0!==Ie)})}importSteamFriends(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.importSteamFriends(X.token,pe,Ie).then(E=>void 0!==E)})}getUsers(X,pe,Ie,E){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.getUsers(X.token,pe,Ie,E).then(I=>{var U={users:[]};return null==I.users||I.users.forEach(D=>{U.users.push({avatar_url:D.avatar_url,create_time:D.create_time,display_name:D.display_name,edge_count:D.edge_count?Number(D.edge_count):0,facebook_id:D.facebook_id,gamecenter_id:D.gamecenter_id,google_id:D.google_id,id:D.id,lang_tag:D.lang_tag,location:D.location,online:D.online,steam_id:D.steam_id,timezone:D.timezone,update_time:D.update_time,username:D.username,metadata:D.metadata?JSON.parse(D.metadata):void 0})}),Promise.resolve(U)})})}joinGroup(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.joinGroup(X.token,pe,{}).then(Ie=>void 0!==Ie)})}joinTournament(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.joinTournament(X.token,pe,{}).then(Ie=>void 0!==Ie)})}kickGroupUsers(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.kickGroupUsers(X.token,pe,Ie).then(E=>Promise.resolve(null!=E))})}leaveGroup(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.leaveGroup(X.token,pe,{}).then(Ie=>void 0!==Ie)})}listChannelMessages(X,pe,Ie,E,I){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listChannelMessages(X.token,pe,Ie,E,I).then(U=>{var D={messages:[],next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,cacheable_cursor:U.cacheable_cursor};return null==U.messages||U.messages.forEach(J=>{D.messages.push({channel_id:J.channel_id,code:J.code?Number(J.code):0,create_time:J.create_time,message_id:J.message_id,persistent:J.persistent,sender_id:J.sender_id,update_time:J.update_time,username:J.username,content:J.content?JSON.parse(J.content):void 0,group_id:J.group_id,room_name:J.room_name,user_id_one:J.user_id_one,user_id_two:J.user_id_two})}),Promise.resolve(D)})})}listGroupUsers(X,pe,Ie,E,I){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listGroupUsers(X.token,pe,E,Ie,I).then(U=>{var D={group_users:[],cursor:U.cursor};return null==U.group_users||U.group_users.forEach(J=>{D.group_users.push({user:{avatar_url:J.user.avatar_url,create_time:J.user.create_time,display_name:J.user.display_name,edge_count:J.user.edge_count?Number(J.user.edge_count):0,facebook_id:J.user.facebook_id,gamecenter_id:J.user.gamecenter_id,google_id:J.user.google_id,id:J.user.id,lang_tag:J.user.lang_tag,location:J.user.location,online:J.user.online,steam_id:J.user.steam_id,timezone:J.user.timezone,update_time:J.user.update_time,username:J.user.username,metadata:J.user.metadata?JSON.parse(J.user.metadata):void 0},state:J.state?Number(J.state):0})}),Promise.resolve(D)})})}listUserGroups(X,pe,Ie,E,I){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listUserGroups(X.token,pe,Ie,E,I).then(U=>{var D={user_groups:[],cursor:U.cursor};return null==U.user_groups||U.user_groups.forEach(J=>{D.user_groups.push({group:{avatar_url:J.group.avatar_url,create_time:J.group.create_time,creator_id:J.group.creator_id,description:J.group.description,edge_count:J.group.edge_count?Number(J.group.edge_count):0,id:J.group.id,lang_tag:J.group.lang_tag,max_count:J.group.max_count,metadata:J.group.metadata?JSON.parse(J.group.metadata):void 0,name:J.group.name,open:J.group.open,update_time:J.group.update_time},state:J.state?Number(J.state):0})}),Promise.resolve(D)})})}listGroups(X,pe,Ie,E){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listGroups(X.token,pe,Ie,E).then(I=>{var U={groups:[]};return null==I.groups||(U.cursor=I.cursor,I.groups.forEach(D=>{U.groups.push({avatar_url:D.avatar_url,create_time:D.create_time,creator_id:D.creator_id,description:D.description,edge_count:D.edge_count?Number(D.edge_count):0,id:D.id,lang_tag:D.lang_tag,max_count:D.max_count,metadata:D.metadata?JSON.parse(D.metadata):void 0,name:D.name,open:D.open,update_time:D.update_time})})),Promise.resolve(U)})})}linkApple(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkApple(X.token,pe).then(Ie=>void 0!==Ie)})}linkCustom(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkCustom(X.token,pe).then(Ie=>void 0!==Ie)})}linkDevice(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkDevice(X.token,pe).then(Ie=>void 0!==Ie)})}linkEmail(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkEmail(X.token,pe).then(Ie=>void 0!==Ie)})}linkFacebook(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkFacebook(X.token,pe).then(Ie=>void 0!==Ie)})}linkFacebookInstantGame(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkFacebookInstantGame(X.token,pe).then(Ie=>void 0!==Ie)})}linkGoogle(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkGoogle(X.token,pe).then(Ie=>void 0!==Ie)})}linkGameCenter(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkGameCenter(X.token,pe).then(Ie=>void 0!==Ie)})}linkSteam(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.linkSteam(X.token,pe).then(Ie=>void 0!==Ie)})}listFriends(X,pe,Ie,E){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listFriends(X.token,Ie,pe,E).then(I=>{var U={friends:[],cursor:I.cursor};return null==I.friends||I.friends.forEach(D=>{U.friends.push({user:{avatar_url:D.user.avatar_url,create_time:D.user.create_time,display_name:D.user.display_name,edge_count:D.user.edge_count?Number(D.user.edge_count):0,facebook_id:D.user.facebook_id,gamecenter_id:D.user.gamecenter_id,google_id:D.user.google_id,id:D.user.id,lang_tag:D.user.lang_tag,location:D.user.location,online:D.user.online,steam_id:D.user.steam_id,timezone:D.user.timezone,update_time:D.user.update_time,username:D.user.username,metadata:D.user.metadata?JSON.parse(D.user.metadata):void 0,facebook_instant_game_id:D.user.facebook_instant_game_id},state:D.state})}),Promise.resolve(U)})})}listFriendsOfFriends(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listFriendsOfFriends(X.token,pe,Ie).then(E=>{var I={friends_of_friends:[],cursor:E.cursor};return null==E.friends_of_friends||E.friends_of_friends.forEach(U=>{I.friends_of_friends.push({referrer:U.referrer,user:{avatar_url:U.user.avatar_url,create_time:U.user.create_time,display_name:U.user.display_name,edge_count:U.user.edge_count?Number(U.user.edge_count):0,facebook_id:U.user.facebook_id,gamecenter_id:U.user.gamecenter_id,google_id:U.user.google_id,id:U.user.id,lang_tag:U.user.lang_tag,location:U.user.location,online:U.user.online,steam_id:U.user.steam_id,timezone:U.user.timezone,update_time:U.user.update_time,username:U.user.username,metadata:U.user.metadata?JSON.parse(U.user.metadata):void 0,facebook_instant_game_id:U.user.facebook_instant_game_id}})}),Promise.resolve(I)})})}listLeaderboardRecords(X,pe,Ie,E,I,U){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listLeaderboardRecords(X.token,pe,Ie,E,I,U).then(D=>{var J={next_cursor:D.next_cursor,prev_cursor:D.prev_cursor,rank_count:D.rank_count?Number(D.rank_count):0,owner_records:[],records:[]};return null!=D.owner_records&&D.owner_records.forEach(V=>{J.owner_records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),null!=D.records&&D.records.forEach(V=>{J.records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),Promise.resolve(J)})})}listLeaderboardRecordsAroundOwner(X,pe,Ie,E,I,U){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listLeaderboardRecordsAroundOwner(X.token,pe,Ie,E,I,U).then(D=>{var J={next_cursor:D.next_cursor,prev_cursor:D.prev_cursor,rank_count:D.rank_count?Number(D.rank_count):0,owner_records:[],records:[]};return null!=D.owner_records&&D.owner_records.forEach(V=>{J.owner_records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),null!=D.records&&D.records.forEach(V=>{J.records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),Promise.resolve(J)})})}listMatches(X,pe,Ie,E,I,U,D){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listMatches(X.token,pe,Ie,E,I,U,D)})}listNotifications(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listNotifications(X.token,pe,Ie).then(E=>{var I={cacheable_cursor:E.cacheable_cursor,notifications:[]};return null==E.notifications||E.notifications.forEach(U=>{I.notifications.push({code:U.code?Number(U.code):0,create_time:U.create_time,id:U.id,persistent:U.persistent,sender_id:U.sender_id,subject:U.subject,content:U.content?JSON.parse(U.content):void 0})}),Promise.resolve(I)})})}listStorageObjects(X,pe,Ie,E,I){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listStorageObjects(X.token,pe,Ie,E,I).then(U=>{var D={objects:[],cursor:U.cursor};return null==U.objects||U.objects.forEach(J=>{D.objects.push({collection:J.collection,key:J.key,permission_read:J.permission_read?Number(J.permission_read):0,permission_write:J.permission_write?Number(J.permission_write):0,value:J.value?JSON.parse(J.value):void 0,version:J.version,user_id:J.user_id,create_time:J.create_time,update_time:J.update_time})}),Promise.resolve(D)})})}listTournaments(X,pe,Ie,E,I,U,D){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listTournaments(X.token,pe,Ie,E,I,U,D).then(J=>{var V={cursor:J.cursor,tournaments:[]};return null!=J.tournaments&&J.tournaments.forEach(ne=>{V.tournaments.push({id:ne.id,title:ne.title,description:ne.description,duration:ne.duration?Number(ne.duration):0,category:ne.category?Number(ne.category):0,sort_order:ne.sort_order?Number(ne.sort_order):0,size:ne.size?Number(ne.size):0,max_size:ne.max_size?Number(ne.max_size):0,max_num_score:ne.max_num_score?Number(ne.max_num_score):0,can_enter:ne.can_enter,end_active:ne.end_active?Number(ne.end_active):0,next_reset:ne.next_reset?Number(ne.next_reset):0,metadata:ne.metadata?JSON.parse(ne.metadata):void 0,create_time:ne.create_time,start_time:ne.start_time,end_time:ne.end_time,start_active:ne.start_active,authoritative:ne.authoritative})}),Promise.resolve(V)})})}listSubscriptions(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listSubscriptions(X.token,{cursor:pe,limit:Ie})})}listTournamentRecords(X,pe,Ie,E,I,U){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listTournamentRecords(X.token,pe,Ie,E,I,U).then(D=>{var J={next_cursor:D.next_cursor,prev_cursor:D.prev_cursor,owner_records:[],records:[]};return null!=D.owner_records&&D.owner_records.forEach(V=>{J.owner_records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),null!=D.records&&D.records.forEach(V=>{J.records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),Promise.resolve(J)})})}listTournamentRecordsAroundOwner(X,pe,Ie,E,I,U){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.listTournamentRecordsAroundOwner(X.token,pe,Ie,E,I,U).then(D=>{var J={next_cursor:D.next_cursor,prev_cursor:D.prev_cursor,owner_records:[],records:[]};return null!=D.owner_records&&D.owner_records.forEach(V=>{J.owner_records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),null!=D.records&&D.records.forEach(V=>{J.records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),Promise.resolve(J)})})}promoteGroupUsers(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.promoteGroupUsers(X.token,pe,Ie)})}readStorageObjects(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.readStorageObjects(X.token,pe).then(Ie=>{var E={objects:[]};return null==Ie.objects||Ie.objects.forEach(I=>{E.objects.push({collection:I.collection,key:I.key,permission_read:I.permission_read?Number(I.permission_read):0,permission_write:I.permission_write?Number(I.permission_write):0,value:I.value?JSON.parse(I.value):void 0,version:I.version,user_id:I.user_id,create_time:I.create_time,update_time:I.update_time})}),Promise.resolve(E)})})}rpc(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.rpcFunc(X.token,pe,JSON.stringify(Ie)).then(E=>Promise.resolve({id:E.id,payload:E.payload?JSON.parse(E.payload):void 0}))})}rpcHttpKey(X,pe,Ie){return v(this,null,function*(){return this.apiClient.rpcFunc2("",pe,Ie&&JSON.stringify(Ie)||"",X).then(E=>Promise.resolve({id:E.id,payload:E.payload?JSON.parse(E.payload):void 0})).catch(E=>{throw E})})}sessionLogout(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.sessionLogout(X.token,{refresh_token:Ie,token:pe}).then(E=>void 0!==E)})}sessionRefresh(X){return v(this,arguments,function*(pe,Ie={}){if(!pe)return console.error("Cannot refresh a null session."),pe;pe.created&&pe.expires_at-pe.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),pe.created&&pe.refresh_expires_at-pe.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const E=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:pe.refresh_token,vars:Ie});return pe.update(E.token,E.refresh_token),pe})}unlinkApple(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkApple(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkCustom(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkCustom(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkDevice(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkDevice(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkEmail(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkEmail(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkFacebook(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkFacebook(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkFacebookInstantGame(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkFacebookInstantGame(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkGoogle(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkGoogle(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkGameCenter(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkGameCenter(X.token,pe).then(Ie=>void 0!==Ie)})}unlinkSteam(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.unlinkSteam(X.token,pe).then(Ie=>void 0!==Ie)})}updateAccount(X,pe){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.updateAccount(X.token,pe).then(Ie=>void 0!==Ie)})}updateGroup(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.updateGroup(X.token,pe,Ie).then(E=>void 0!==E)})}validatePurchaseApple(X,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.validatePurchaseApple(X.token,{receipt:pe,persist:Ie})})}validatePurchaseFacebookInstant(X,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.validatePurchaseFacebookInstant(X.token,{signed_request:pe,persist:Ie})})}validatePurchaseGoogle(X,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.validatePurchaseGoogle(X.token,{purchase:pe,persist:Ie})})}validatePurchaseHuawei(X,pe,Ie,E=!0){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.validatePurchaseHuawei(X.token,{purchase:pe,signature:Ie,persist:E})})}validateSubscriptionApple(X,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.validateSubscriptionApple(X.token,{receipt:pe,persist:Ie})})}validateSubscriptionGoogle(X,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.validateSubscriptionGoogle(X.token,{receipt:pe,persist:Ie})})}writeLeaderboardRecord(X,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X)),this.apiClient.writeLeaderboardRecord(X.token,pe,{metadata:Ie.metadata?JSON.stringify(Ie.metadata):void 0,score:Ie.score,subscore:Ie.subscore}).then(E=>Promise.resolve({expiry_time:E.expiry_time,leaderboard_id:E.leaderboard_id,metadata:E.metadata?JSON.parse(E.metadata):void 0,num_score:E.num_score?Number(E.num_score):0,owner_id:E.owner_id,score:E.score?Number(E.score):0,subscore:E.subscore?Number(E.subscore):0,update_time:E.update_time,username:E.username,max_num_score:E.max_num_score?Number(E.max_num_score):0,rank:E.rank?Number(E.rank):0}))})}writeStorageObjects(X,pe){return v(this,null,function*(){this.autoRefreshSession&&X.refresh_token&&X.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(X));var Ie={objects:[]};return pe.forEach(E=>{Ie.objects.push({collection:E.collection,key:E.key,permission_read:E.permission_read,permission_write:E.permission_write,value:JSON.stringify(E.value),version:E.version})}),this.apiClient.writeStorageObjects(X.token,Ie)})}writeTournamentRecord(X,pe,Ie){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(X.token,pe,{metadata:Ie.metadata?JSON.stringify(Ie.metadata):void 0,score:Ie.score,subscore:Ie.subscore}).then(E=>Promise.resolve({expiry_time:E.expiry_time,leaderboard_id:E.leaderboard_id,metadata:E.metadata?JSON.parse(E.metadata):void 0,num_score:E.num_score?Number(E.num_score):0,owner_id:E.owner_id,score:E.score?Number(E.score):0,subscore:E.subscore?Number(E.subscore):0,update_time:E.update_time,username:E.username,max_num_score:E.max_num_score?Number(E.max_num_score):0,rank:E.rank?Number(E.rank):0}))})}},vt=_e(8326),Ut=_e(617),yt=_e(482),Nt=_e(3953),dr=_e(9900),ft=_e(8065),Dt=_e(755),er=_e(5547),Yt=_e(5374),lr=_e(3656),yr=_e(4234),wr=_e(3307),xr=function(X){return X[X.MANAGE_TODO=10]="MANAGE_TODO",X[X.EDIT_PROFILE=11]="EDIT_PROFILE",X[X.MANAGE_POST=12]="MANAGE_POST",X[X.ADD_CHANNEL=14]="ADD_CHANNEL",X[X.NAME_OVERRIDED=15]="NAME_OVERRIDED",X[X.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",X[X.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",X[X.CHATROOM_CHECKED=102]="CHATROOM_CHECKED",X}(xr||{});let Mr=(()=>{var X;class pe{constructor(E,I,U,D,J,V,ne,Ne,De){this.p5toast=E,this.statusBar=I,this.indexed=U,this.noti=D,this.alertCtrl=J,this.lang=V,this.global=ne,this.navCtrl=Ne,this.p5loading=De,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.NeedLocalPush=[],this.TogglingSession=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.ArcadeListOfficial=[],this.ArcadeList=[],this.RemoteTodoCounter={},this.PromotedGroup={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={local:{},official:{},unofficial:{}},this.noti_id=2e3,this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.usernameOverride={local:{target:{}}},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},ne.CallbackNakama=this}initialize(){var E=this;return(0,M.A)(function*(){yield E.set_all_todo_notification();let I=yield E.indexed.loadTextFromUserPath("servers/self/profile.json");I&&(E.users.self=JSON.parse(I));try{let Ne=(yield E.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Ne&&(E.users.self.img=Ne)}catch{}yield E.LoadOverridesOffline();let U=yield E.indexed.loadTextFromUserPath("servers/groups.json");U&&(E.groups=JSON.parse(U)),E.rearrange_group_list().forEach(function(){var Ne=(0,M.A)(function*(De){let qe=yield E.indexed.loadTextFromUserPath(`servers/${De.server.isOfficial}/${De.server.target}/groups/${De.id}.img`);if(qe&&(De.img=qe.replace(/"|=|\\/g,"")),"missing"!=De.status){delete De.status;let St=De.server.isOfficial,sr=De.server.target;if(E.CreateEmptyForm(St,sr),De.users)for(let je=0,Ve=De.users.length;je<Ve;je++)De.users[je].is_me||(De.users[je].user=E.load_other_user(De.users[je].user.id,St,sr))}});return function(De){return Ne.apply(this,arguments)}}()),yield E.load_channel_list(),E.load_posts_counter(),yield E.CheckIfLostLocal(),E.rearrange_channels();let J=yield E.indexed.loadTextFromUserPath("servers/list.json");J&&(E.statusBar.groupServer=JSON.parse(J)),Object.keys(E.statusBar.groupServer).forEach(Ne=>{E.servers[Ne]?Object.keys(E.statusBar.groupServer[Ne]).forEach(qe=>{E.servers[Ne][qe]||delete E.statusBar.groupServer[Ne][qe]}):delete E.statusBar.groupServer[Ne]}),E.showServer=!!localStorage.getItem("showServer"),E.catch_group_server_header("offline");let ne=yield E.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ne)ne.split("\n").forEach(De=>{let qe=De.split(","),sr={isOfficial:qe[1],name:qe[2],target:qe[3],address:qe[4],nakama_port:qe[5]?+qe[5]:void 0,cdn_port:qe[7]?+qe[7]:void 0,apache_port:qe[8]?+qe[8]:void 0,square_port:qe[9]?+qe[9]:void 0,webrtc_port:qe[10]?+qe[10]:void 0,useSSL:"true"==qe[6]};E.servers[sr.isOfficial][sr.target]={},E.servers[sr.isOfficial][sr.target].info=sr,E.init_server(sr),E.users.self.online&&E.init_session(sr)});else{let Ne=location.href.split("?").length>1;(E.users.self.online||Ne)&&E.toggle_all_session()}})()}CheckIfLostLocal(){var E=this;return(0,M.A)(function*(){let I=yield E.indexed.GetFileListFromDB("servers/local/target/channels");for(let U of I)try{let D=U.split("/");if(5==D.length){let J=D.pop();E.channels_orig.local.target||(E.channels_orig.local.target={}),E.channels_orig.local.target[J]||(E.channels_orig.local.target[J]={CDN:0,id:J,info:{isOfficial:"local",target:"target",name:E.lang.text.Nakama.DamagedChannel},local:!0,redirect:{type:0},server:{isOfficial:"local",target:"target",name:"\uc0ad\uc81c\ub41c \uc11c\ubc84"},status:"online",title:E.lang.text.Nakama.DamagedChannel})}}catch(D){console.log("\ub85c\uceec \ucc44\ub110 \uc7ac\uac80\ud1a0 \ub2e8\uacc4 \uc624\ub958: ",D)}})()}set_all_todo_notification(){var E=this;return(0,M.A)(function*(){let I=yield E.indexed.GetFileListFromDB("info.todo");for(let U=0,D=I.length;U<D;U++){let J=yield E.indexed.loadTextFromUserPath(I[U]);if(J){let V=JSON.parse(J);E.registered_id.push(V.noti_id),E.set_todo_notification(V)}}})()}getGodotDBRecursive(){var E=this;return(0,M.A)(function*(){try{if(void 0===E.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(U=>{setTimeout(()=>{U(void 0)},100)}),yield E.getGodotDBRecursive()}})()}open_add_todo_page(E="",I="portal/main/add-todo-menu"){this.AddTodoLinkAct?this.AddTodoLinkAct(E):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(I,{animation:Ut.V5,state:{data:E}})})}open_others_profile(E){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("others-profile",{animation:Ut.V5,state:E})})}set_todo_notification(E){var I=this;return(0,M.A)(function*(){I.RemoveLocalPushSchedule(E);let U=E.startFrom||E.limit;if(U>Date.now()&&I.NeedLocalPush.push(E),!I.p5todotimer&&I.NeedLocalPush.length){let D=[];I.global.windowOnFocusAct["todo-timer"]=()=>{D.forEach(J=>clearTimeout(J)),D.length=0,delete I.global.WindowOnBlurAct["todo-timer"],delete I.global.windowOnFocusAct["todo-timer"]},I.global.WindowOnBlurAct["todo-timer"]=()=>{for(let J=I.NeedLocalPush.length-1;J>=0;J--){let V=I.NeedLocalPush[J],ne=new Date(U).getTime()-(new Date).getTime();if(ne>0&&ne<2147483647){let Ne=setTimeout((0,M.A)(function*(){let De;try{let qe;try{qe=`todo/${V.id}_${V.remote.isOfficial}_${V.remote.target}/thumbnail.png`}catch{qe=`todo/${V.id}/thumbnail.png`}let St=yield I.indexed.loadBlobFromUserPath(qe,"image/png");De=URL.createObjectURL(St)}catch{}yield I.noti.PushLocal({id:V.noti_id,title:V.title,body:V.description,image:De,smallIcon_ln:"todo"},void 0,qe=>{I.open_add_todo_page(JSON.stringify(V),"add-todo-menu")}),setTimeout(()=>{try{URL.revokeObjectURL(De)}catch{}},1e3),I.NeedLocalPush.splice(J,1)}),ne);D.push(Ne)}}},I.p5todotimer=new vt(J=>{J.setup=()=>{J.noCanvas(),J.frameRate(.5)},J.draw=()=>{const V=Date.now();for(let ne=I.NeedLocalPush.length-1;ne>=0;ne--)(I.NeedLocalPush[ne].startFrom||I.NeedLocalPush[ne].limit)<V&&function(){var qe=(0,M.A)(function*(){let St;try{let je;try{je=`todo/${I.NeedLocalPush[ne].id}_${I.NeedLocalPush[ne].remote.isOfficial}_${I.NeedLocalPush[ne].remote.target}/thumbnail.png`}catch{je=`todo/${I.NeedLocalPush[ne].id}/thumbnail.png`}let Ve=yield I.indexed.loadBlobFromUserPath(je,"image/png");St=URL.createObjectURL(Ve)}catch{}let sr=JSON.stringify(I.NeedLocalPush[ne]);yield I.noti.PushLocal({id:I.NeedLocalPush[ne].noti_id,title:I.NeedLocalPush[ne].title,body:I.NeedLocalPush[ne].description,image:St,smallIcon_ln:"todo"},void 0,je=>{I.open_add_todo_page(sr,"add-todo-menu")}),setTimeout(()=>{try{URL.revokeObjectURL(St)}catch{}},1e3),I.NeedLocalPush.splice(ne,1)});return function(){return qe.apply(this,arguments)}}()();I.NeedLocalPush.length||(J.remove(),I.p5todotimer=null)}})}})()}RemoveLocalPushSchedule(E){for(let I=this.NeedLocalPush.length-1;I>=0;I--)if(this.NeedLocalPush[I].id==E.id){this.NeedLocalPush.splice(I,1);break}}init_server(E){this.servers[E.isOfficial][E.target]||(this.servers[E.isOfficial][E.target]={}),this.servers[E.isOfficial][E.target].client=new Rt(E.key||"defaultkey",E.address,(E.nakama_port||7350).toString(),E.useSSL||!1)}go_to_chatroom(E,I){this.has_new_channel_msg=!1,E.update&&delete E.update,this.ChatroomLinkAct?this.ChatroomLinkAct(E,I):(this.SelectSubscribesTab&&this.SelectSubscribesTab(),this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("portal/subscribes/chat-room",{state:{info:E,file:I}})}))}add_new_group(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-group",{animation:Ut.V5})})}open_profile_page(E){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:Ut.V5,state:E})})}open_post(E,I,U=""){E.router=U,this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(U+"post-viewer",{animation:Ut.V5,state:{data:E,index:I+1}})})}init_all_sessions(){var E=this;return(0,M.A)(function*(){const I="nakama_login";let U=Object.keys(E.servers.official);for(let J=0,V=U.length;J<V;J++)yield E.p5loading.update({id:I,message:`${E.lang.text.Nakama.PendingLogin}: ${E.servers.unofficial[U[J]].info.name}`,forceEnd:null},!0),yield E.init_session(E.servers.official[U[J]].info);let D=Object.keys(E.servers.unofficial);for(let J=0,V=D.length;J<V;J++)yield E.p5loading.update({id:I,message:`${E.lang.text.Nakama.PendingLogin}: ${E.servers.unofficial[D[J]].info.name}`,forceEnd:null},!0),console.log(),yield E.init_session(E.servers.unofficial[D[J]].info);return U.length+D.length})()}logout_all_server(){let E=Object.keys(this.statusBar.groupServer);for(let I=0,U=E.length;I<U;I++){let D=Object.keys(this.statusBar.groupServer[E[I]]);for(let J=0,V=D.length;J<V;J++)"online"==this.statusBar.groupServer[E[I]][D[J]]&&(this.servers[E[I]][D[J]].socket?this.servers[E[I]][D[J]].socket.disconnect(!0):this.link_group(E[I],D[J],!1))}}toggle_all_session(){var E=this;return(0,M.A)(function*(){if(E.TogglingSession)return;const I="nakama_login";if(E.TogglingSession=!0,"online"==E.statusBar.settings.groupServer)E.logout_all_server(),E.p5toast.show({text:E.lang.text.Nakama.SessionLogout});else{yield E.p5loading.update({id:I,message:E.lang.text.Nakama.PendingLogin,forceEnd:null});try{(yield E.init_all_sessions())||E.p5loading.update({id:I,message:E.lang.text.Nakama.NoLoginServer},!0)}catch(U){console.log("\ud14c\uc2a4\ud2b8 \uc11c\ubc84 \uc5f0\uacb0 \uc624\ub958: ",U)}}E.p5loading.remove(I),E.TogglingSession=!1})()}AccessToOfficialTestServer(){var E=this;return(0,M.A)(function*(){try{let U=(yield(yield fetch("https://is2you2.github.io/assets/data/WSAddress.txt")).text()).split("\n")[0];yield E.add_group_server({isOfficial:"official",address:U,name:E.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0});let D=Object.keys(E.servers.official);for(let J=0,V=D.length;J<V;J++)yield E.init_session(E.servers.official[D[J]].info);"online"==E.statusBar.settings.groupServer&&E.p5loading.toast(E.lang.text.Nakama.AccessTestServer)}catch(I){console.log("\uc8fc\uc18c\ubc1b\uae30 \uc2e4\ud328: ",I)}})()}link_group(E,I,U="offline"==this.statusBar.groupServer[E][I]){var D=this;return(0,M.A)(function*(){if(U)D.statusBar.groupServer[E][I]="pending",D.catch_group_server_header("pending"),D.users.self.online&&(yield D.init_session(D.servers[E][I].info));else{D.channels_orig[E]&&D.channels_orig[E][I]&&Object.keys(D.channels_orig[E][I]).forEach(V=>{"missing"!=D.channels_orig[E][I][V].status&&delete D.channels_orig[E][I][V].status}),D.groups[E]&&D.groups[E][I]&&Object.keys(D.groups[E][I]).forEach(V=>{"missing"!=D.groups[E][I][V].status&&(D.groups[E][I][V].status="offline")}),D.set_group_statusBar("offline",E,I),D.statusBar.groupServer[E][I]="offline",D.catch_group_server_header("offline");try{yield D.servers[E][I].client.sessionLogout(D.servers[E][I].session,D.servers[E][I].session.token,D.servers[E][I].session.refresh_token)}catch{}D.noti_origin[E]&&D.noti_origin[E][I]&&delete D.noti_origin[E][I],D.rearrange_notifications(),D.channels_orig[E]&&D.channels_orig[E][I]&&Object.keys(D.channels_orig[E][I]).forEach(V=>{"missing"!=D.channels_orig[E][I][V].status&&delete D.channels_orig[E][I][V].status})}D.indexed.saveTextFileToUserPath(JSON.stringify(D.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let E=[];return Object.keys(this.servers.official).forEach(D=>{"online"==this.statusBar.groupServer.official[D]&&E.push(this.servers.official[D])}),Object.keys(this.servers.unofficial).forEach(D=>{"online"==this.statusBar.groupServer.unofficial[D]&&E.push(this.servers.unofficial[D])}),E}get_all_server_info(E=!1,I=!1){let U=[],D=Object.keys(this.servers.official);return E&&D.forEach(V=>{I?("online"==this.statusBar.groupServer.official[V]||"pending"==this.statusBar.groupServer.official[V])&&U.push(this.servers.official[V].info):this.servers.official[V]&&U.push(this.servers.official[V].info)}),Object.keys(this.servers.unofficial).forEach(V=>{I?("online"==this.statusBar.groupServer.unofficial[V]||"pending"==this.statusBar.groupServer.unofficial[V])&&U.push(this.servers.unofficial[V].info):this.servers.unofficial[V]&&U.push(this.servers.unofficial[V].info)}),U}add_group_server(E,I=(()=>{})){var U=this;if(this.statusBar.groupServer.unofficial[E.target||E.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${E.target||E.name}`});E.target=E.target||E.name,E.address=E.address||"192.168.0.1",E.nakama_port=E.nakama_port,E.cdn_port=E.cdn_port,E.apache_port=E.apache_port,E.square_port=E.square_port,E.webrtc_port=E.webrtc_port,E.useSSL=E.useSSL||!1,E.isOfficial=E.isOfficial||"unofficial",E.key=E.key||"";let D=(new Date).getTime().toString();return D+=`,${E.isOfficial}`,D+=`,${E.name}`,D+=`,${E.target}`,D+=`,${E.address}`,D+=`,${E.nakama_port||""}`,D+=`,${E.useSSL||""}`,D+=`,${E.cdn_port||""}`,D+=`,${E.apache_port||""}`,D+=`,${E.square_port||""}`,D+=`,${E.webrtc_port||""}`,new Promise(function(){var J=(0,M.A)(function*(V){yield U.AutoGenWebRTCInfo(E),"official"!=E.isOfficial?U.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ne=(0,M.A)(function*(Ne,De){let qe=[];Ne&&De&&(qe=De.split("\n")),qe.push(D),U.indexed.saveTextFileToUserPath(qe.join("\n"),"servers/list_detail.csv").then(()=>{U.init_server(E),U.servers[E.isOfficial][E.target].info={...E},I()}),U.statusBar.groupServer[E.isOfficial][E.target]="offline",yield U.indexed.saveTextFileToUserPath(JSON.stringify(U.statusBar.groupServer),"servers/list.json"),V()});return function(Ne,De){return ne.apply(this,arguments)}}()):(U.init_server(E),U.servers[E.isOfficial][E.target].info={...E},U.statusBar.groupServer[E.isOfficial][E.target]="offline",V())});return function(V){return J.apply(this,arguments)}}())}AutoGenWebRTCInfo(E){var I=this;return(0,M.A)(function*(){let U={urls:[`stun:${E.address}:${E.webrtc_port||(E.useSSL?5349:3478)}`,`turn:${E.address}:${E.webrtc_port||(E.useSSL?5349:3478)}`],username:"username",credential:"password"};yield I.SaveWebRTCServer(U)})()}SaveWebRTCServer(E){var I=this;return(0,M.A)(function*(){let U=(yield I.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",D=JSON.parse(U),J=!1;for(let ne=0,Ne=Object.keys(D).length;ne<Ne;ne++)if(I.catch_address_from_rtc_server_address(E)==I.catch_address_from_rtc_server_address(D[ne])){D[ne]=E,J=!0;break}return J||(D.push(E),I.p5loading.toast(I.lang.text.Nakama.SaveWebRTCServer)),yield I.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/webrtc_server.json"),J})()}RemoveWebRTCServer(E){var I=this;return(0,M.A)(function*(){let U=(yield I.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",D=JSON.parse(U);for(let V=0,ne=Object.keys(D).length;V<ne;V++){let Ne=I.catch_address_from_rtc_server_address(D[V]);E==Ne&&D.splice(V,1)}yield I.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(E){let I;try{let U=E.urls[0];(U.indexOf("stun:")>=0||U.indexOf("turn:")>=0)&&(U=U.substring(5));let D=U.lastIndexOf(":");I=U.substring(0,D)}catch(U){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",U)}return I}catch_group_server_header(E){let I=E;this.statusBar.settings.groupServer=E,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(D=>{switch(this.statusBar.groupServer.official[D]){case"online":I="online";break;case"pending":"online"!=I&&(I="pending");break;case"missing":case"offline":"online"!=I&&"pending"!=I&&(I="offline")}}),"online"!=I&&Object.keys(this.statusBar.groupServer.unofficial).forEach(J=>{switch(this.statusBar.groupServer.unofficial[J]){case"online":I="online";break;case"pending":"online"!=I&&(I="pending");break;case"missing":case"offline":"online"!=I&&"pending"!=I&&(I="offline")}}),this.statusBar.settings.groupServer=I},1500)}init_session(E){var I=this;return(0,M.A)(function*(){I.CreateEmptyForm(E.isOfficial,E.target),I.TogglingSession=!0;try{I.servers[E.isOfficial][E.target].session=yield I.servers[E.isOfficial][E.target].client.authenticateEmail(I.users.self.email,I.users.self.password,!1),yield I.after_login(E.isOfficial,E.target,E.useSSL)}catch(U){switch(U.status){case 400:I.p5toast.show({text:I.lang.text.Nakama.NeedLoginInfo}),I.open_profile_page(),I.users.self.online=!1,delete I.users.self.password,I.set_group_statusBar("offline",E.isOfficial,E.target);break;case 401:I.p5toast.show({text:I.lang.text.Nakama.NeedAccountReset}),I.users.self.online=!1,delete I.users.self.password,I.set_group_statusBar("offline",E.isOfficial,E.target);break;case 404:if(I.servers[E.isOfficial][E.target].session=yield I.servers[E.isOfficial][E.target].client.authenticateEmail(I.users.self.email,I.users.self.password,!0),I.users.self.display_name&&I.servers[E.isOfficial][E.target].client.updateAccount(I.servers[E.isOfficial][E.target].session,{display_name:I.users.self.display_name,lang_tag:navigator.language.split("-")[0]||I.lang.lang}),I.p5toast.show({text:`${I.lang.text.Nakama.RegisterUserSucc}: ${E.name}`,lateable:!0}),I.users.self.img)try{yield I.servers[E.isOfficial][E.target].client.writeStorageObjects(I.servers[E.isOfficial][E.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:I.users.self.img}}])}catch(D){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",D)}yield I.after_login(E.isOfficial,E.target,E.useSSL);break;default:I.p5toast.show({text:`(${E.name}) ${I.lang.text.Nakama.UnexpectedLoginErr}: ${(U.statusText?`${U.statusText}(${U.status})`:U.status)||U}`}),I.set_group_statusBar("offline",E.isOfficial,E.target)}}I.TogglingSession=!1})()}CreateEmptyForm(E,I){this.groups[E]||(this.groups[E]={}),this.groups[E][I]||(this.groups[E][I]={}),this.channels_orig[E]||(this.channels_orig[E]={}),this.channels_orig[E][I]||(this.channels_orig[E][I]={}),this.usernameOverride[E]||(this.usernameOverride[E]={}),this.usernameOverride[E][I]||(this.usernameOverride[E][I]={}),this.OnTransfer[E]||(this.OnTransfer[E]={}),this.OnTransfer[E][I]||(this.OnTransfer[E][I]={}),this.noti_origin[E]||(this.noti_origin[E]={}),this.noti_origin[E][I]||(this.noti_origin[E][I]={}),this.RemoteTodoCounter[E]||(this.RemoteTodoCounter[E]={}),this.RemoteTodoCounter[E][I]||(this.RemoteTodoCounter[E][I]=[]),this.PromotedGroup[E]||(this.PromotedGroup[E]={}),this.PromotedGroup[E][I]||(this.PromotedGroup[E][I]={})}after_login(E,I,U){var D=this;return(0,M.A)(function*(){D.set_group_statusBar("pending",E,I),D.servers[E][I].socket=D.servers[E][I].client.createSocket(U),D.servers[E][I].client.getAccount(D.servers[E][I].session).then(V=>{let ne=JSON.parse(V.user.metadata);D.servers[E][I].info.is_admin=ne.is_admin,Object.keys(V.user).forEach(De=>{"display_name"==De?D.users.self[De]=V.user[De]:D.users.self.display_name||(D.users.self[De]=V.user[De])}),D.save_self_profile()}),D.servers[E][I].client.readStorageObjects(D.servers[E][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D.servers[E][I].session.user_id}]}).then(V=>{V.objects.length?D.socket_reactive.profile?(D.users.self.img=V.objects[0].value.img,D.socket_reactive.profile(V.objects[0].value.img)):(D.users.self.img=V.objects[0].value.img,D.indexed.saveTextFileToUserPath(JSON.stringify(D.users.self.img),"servers/self/profile.img")):D.socket_reactive.profile&&D.socket_reactive.profile("")}),D.LoadOverrideName(E,I),D.load_server_arcade_list(E,I),yield D.connect_to(E,I),yield D.redirect_channel(E,I),yield D.get_group_list_from_server(E,I),yield D.SyncTodoCounter(E,I),D.load_server_todo(E,I),D.RemoteTodoSelfCheck(E,I),D.rearrange_group_list(),D.load_posts_counter(),D.update_notifications(E,I),D.set_group_statusBar("online",E,I);for(let V=0,ne=D.AfterLoginAct.length;V<ne;V++)try{yield D.AfterLoginAct[V]()}catch(Ne){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Ne)}D.AfterLoginAct.length=0,D.AfterLoginActDone=!0;let J=Object.keys(D.users[E][I]||{});J&&D.servers[E][I].client.getUsers(D.servers[E][I].session,J).then(V=>{for(let ne=0,Ne=V.users.length;ne<Ne;ne++)D.save_other_user(V.users[ne],E,I)}).catch(V=>{console.log("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: ",V)})})()}load_server_arcade_list(E,I){var U=this;return(0,M.A)(function*(){try{let D=yield U.servers[E][I].client.readStorageObjects(U.servers[E][I].session,{object_ids:[{collection:"arcade",key:"url"}]});if(D.objects.length){let J=D.objects[0].value.data,V=yield fetch(J);console.log("arcade test log \uc77d\uc5b4\ubcf4\uae30 \uacbd\uacfc: ",V)}}catch(D){console.log("\ub9ac\uc2a4\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",D)}})()}load_server_todo(E,I){var U=this;try{let D=this.RemoteTodoCounter[E][I];for(let J=D.length-1;J>=0;J--){let V=`RemoteTodo_${D[J]}`;this.servers[E][I].client.readStorageObjects(this.servers[E][I].session,{object_ids:[{collection:"server_todo",key:V,user_id:this.servers[E][I].session.user_id}]}).then(function(){var ne=(0,M.A)(function*(Ne){if(Ne.objects.length)yield U.modify_remote_info_as_local(Ne.objects[0].value,E,I);else try{let De;U.RemoteTodoCounter[E][I].splice(J,1);try{De=`todo/${V}_${E}_${I}/info.todo`}catch{De=`todo/${V}/info.todo`}let qe=yield U.indexed.loadTextFromUserPath(De),St=JSON.parse(qe);U.deleteTodoFromStorage(!0,St,!0)}catch{}});return function(Ne){return ne.apply(this,arguments)}}()).catch(ne=>{console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",ne)})}}catch{}}RemoteTodoSelfCheck(E,I){var U=this;this.indexed.GetFileListFromDB("todo/RemoteTodo_").then(function(){var D=(0,M.A)(function*(J){for(let V=0,ne=J.length;V<ne;V++)try{if(J[V].indexOf("info.todo")>=0){let Ne=yield U.indexed.loadTextFromUserPath(J[V]),De=JSON.parse(Ne);De.remote.isOfficial==E&&De.remote.target==I&&((yield U.servers[E][I].client.readStorageObjects(U.servers[E][I].session,{object_ids:[{collection:"server_todo",key:De.id,user_id:U.servers[E][I].session.user_id}]})).objects.length||((yield U.indexed.GetFileListFromDB(`todo/${De.id}_${E}_${I}`)).forEach(sr=>U.indexed.removeFileFromUserPath(sr)),U.RemoveLocalPushSchedule(De),U.noti.ClearNoti(De.id),U.global.p5removeTodo&&U.global.p5removeTodo(Ne)))}}catch{}});return function(J){return D.apply(this,arguments)}}())}getRemoteTodoCounter(E,I){var U=this;return(0,M.A)(function*(){try{U.RemoteTodoCounter[E][I].sort((V,ne)=>V-ne);let D=U.RemoteTodoCounter[E][I].length;if(!D)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let J=U.RemoteTodoCounter[E][I][D-1]+1;return U.RemoteTodoCounter[E][I].push(J),J}catch{let J=yield U.SyncTodoCounter(E,I),V=0;return J&&J.objects.length&&J.objects[0].value.data.length?V=J.objects[0].value.data.pop()+1:U.RemoteTodoCounter[E][I]=[0],V}})()}SyncTodoCounter(E,I){var U=this;return(0,M.A)(function*(){try{let D=yield U.servers[E][I].client.readStorageObjects(U.servers[E][I].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:U.servers[E][I].session.user_id}]});return U.RemoteTodoCounter[E][I]=D.objects[0].value.data,D}catch{}})()}removeRemoteTodoCounter(E,I,U){var D=this;return(0,M.A)(function*(){try{let J=D.RemoteTodoCounter[E][I].indexOf(U);J>=0&&D.RemoteTodoCounter[E][I].splice(J,1)}catch{}yield D.updateRemoteCounter(E,I)})()}updateRemoteCounter(E,I){var U=this;return(0,M.A)(function*(){if(U.RemoteTodoCounter[E][I].length){for(let D=U.RemoteTodoCounter[E][I].length-1;D>=0;D--)(void 0===U.RemoteTodoCounter[E][I][D]||null==U.RemoteTodoCounter[E][I][D])&&U.RemoteTodoCounter[E][I].splice(D,1);U.RemoteTodoCounter[E][I].sort((D,J)=>D-J);for(let D=U.RemoteTodoCounter[E][I].length-2;D>=0;D--)U.RemoteTodoCounter[E][I][D+1]==U.RemoteTodoCounter[E][I][D]&&U.RemoteTodoCounter[E][I].splice(D,1)}yield U.servers[E][I].client.writeStorageObjects(U.servers[E][I].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:U.RemoteTodoCounter[E][I]}}])})()}modify_remote_info_as_local(E,I,U){var D=this;return(0,M.A)(function*(){E.remote.name=D.servers[I][U].info.name,E.remote.isOfficial=I,E.remote.target=U,E.remote.type=`${I}/${U}`,D.set_todo_notification(E);try{E.is_me=E.remote.creator_id==D.servers[I][U].session.user_id}catch{}D.global.p5todoAddtodo&&D.global.p5todoAddtodo(JSON.stringify(E));let J=yield D.indexed.loadTextFromUserPath(`todo/${E.id}_${I}_${U}/info.todo`);if(J){let V=JSON.parse(J);if(E.create_at<=V.create_at&&V.modified){if(V.done)return void D.doneTodo(E,!0);if(V.removed)return void D.deleteTodoFromStorage(!0,V,!0);delete V.modified,D.global.p5todoAddtodo(JSON.stringify(V)),yield D.indexed.saveTextFileToUserPath(JSON.stringify(V),`todo/${V.id}_${I}_${U}/info.todo`);try{const ne=yield D.servers[V.remote.isOfficial][V.remote.target].client.writeStorageObjects(D.servers[V.remote.isOfficial][V.remote.target].session,[{collection:"server_todo",key:V.id,permission_read:2,permission_write:1,value:V}]);yield D.servers[V.remote.isOfficial][V.remote.target].client.rpc(D.servers[V.remote.isOfficial][V.remote.target].session,"send_noti_fn",{receiver_id:D.servers[V.remote.isOfficial][V.remote.target].session.user_id,title:"manage_todo",content:{type:"add",collection:ne.acks[0].collection,key:ne.acks[0].key},code:xr.MANAGE_TODO,persistent:!1})}catch(ne){console.log("\ud560 \uc77c \uc218\uc815 \uc804\ud30c \uc624\ub958: ",ne)}}else D.indexed.saveTextFileToUserPath(JSON.stringify(E),`todo/${E.id}_${I}_${U}/info.todo`)}else D.indexed.saveTextFileToUserPath(JSON.stringify(E),`todo/${E.id}_${I}_${U}/info.todo`)})()}doneTodo(E,I=!1){var U=this;return(0,M.A)(function*(){E.done=!0;const D=`nakama_doneTodo_${Date.now()}`;if(U.global.p5todoAddtodo&&U.global.p5todoAddtodo(JSON.stringify(E)),E.remote){I||U.p5loading.update({id:D});try{yield U.servers[E.remote.isOfficial][E.remote.target].client.rpc(U.servers[E.remote.isOfficial][E.remote.target].session,"send_noti_fn",{receiver_id:U.servers[E.remote.isOfficial][E.remote.target].session.user_id,title:"manage_todo",content:{type:"done",id:E.id},code:xr.MANAGE_TODO,persistent:!1}),I||U.p5loading.remove(D)}catch{let V;E.modified=!0;try{V=`todo/${E.id}_${E.remote.isOfficial}_${E.remote.target}/info.todo`}catch{V=`todo/${E.id}/info.todo`}return yield U.indexed.saveTextFileToUserPath(JSON.stringify(E),V),I||U.p5loading.remove(D),void U.navCtrl.pop()}}yield U.deleteTodoFromStorage(!1,E,I,D),U.navCtrl.pop()})()}deleteTodoFromStorage(E,I,U=!1,D){var J=this;return(0,M.A)(function*(){const V=D||`nakama_deleteTodoFromStorage_${Date.now()}`;if(U||J.p5loading.update({id:V,message:`${J.lang.text.TodoDetail.RemoveTodo}: ${I.title}`}),I.attach&&I.attach.length)for(let De=0,qe=I.attach.length;De<qe;De++)I.attach[De].url&&""!==I.attach[De].type&&J.global.remove_file_from_storage(I.attach[De].url,{});if(I.remote)try{if(!J.servers[I.remote.isOfficial][I.remote.target])throw"Server deleted.";try{let De=I.remote.isOfficial,qe=I.remote.target;if(yield J.servers[De][qe].client.deleteStorageObjects(J.servers[De][qe].session,{object_ids:[{collection:"server_todo",key:I.id}]}),I.attach)for(let St=0,sr=I.attach.length;St<sr;St++)if(I.attach[St].url){if(""!==I.attach[St].type){let je=J.servers[De][qe].info;J.global.remove_file_from_storage(I.attach[St].url,{apache_port:je.apache_port,cdn_port:je.cdn_port})}}else yield J.sync_remove_file(I.attach[St].path,De,qe,"todo_attach");E&&(yield J.servers[I.remote.isOfficial][I.remote.target].client.rpc(J.servers[I.remote.isOfficial][I.remote.target].session,"send_noti_fn",{receiver_id:J.servers[I.remote.isOfficial][I.remote.target].session.user_id,title:"manage_todo",content:{type:"delete",id:I.id},code:xr.MANAGE_TODO,persistent:!1}))}catch(De){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",De)}try{if(I.remote.creator_id!=J.servers[I.remote.isOfficial][I.remote.target].session.user_id){let De=(new Date).getTime();try{yield J.servers[I.remote.isOfficial][I.remote.target].client.rpc(J.servers[I.remote.isOfficial][I.remote.target].session,"manage_todo_done_fn",{id:I.id,creator_id:I.remote.creator_id,user_id:J.servers[I.remote.isOfficial][I.remote.target].session.user_id,timestamp:De,isDelete:E})}catch{}try{yield J.servers[I.remote.isOfficial][I.remote.target].client.rpc(J.servers[I.remote.isOfficial][I.remote.target].session,"send_noti_fn",{receiver_id:I.remote.creator_id,title:"Manage_todo_add",content:{type:"worker",id:I.id,isDelete:E,timeAt:De},code:xr.MANAGE_TODO,persistent:!1,sender_id:J.servers[I.remote.isOfficial][I.remote.target].session.user_id})}catch{}}}catch{}if(I.workers){try{yield J.servers[I.remote.isOfficial][I.remote.target].client.rpc(J.servers[I.remote.isOfficial][I.remote.target].session,"manage_todo_delete_fn",{id:I.id,workers:I.workers})}catch{}for(let De=0,qe=I.workers.length;De<qe;De++)try{yield J.servers[I.remote.isOfficial][I.remote.target].client.rpc(J.servers[I.remote.isOfficial][I.remote.target].session,"send_noti_fn",{receiver_id:I.workers[De].id,title:"Manage_todo_add",content:{type:E?"delete":"done",id:I.id},code:xr.MANAGE_TODO,persistent:!1,sender_id:J.servers[I.remote.isOfficial][I.remote.target].session.user_id})}catch{}}yield J.removeRemoteTodoCounter(I.remote.isOfficial,I.remote.target,Number(I.id.split("_").pop()))}catch{let qe;I.modified=!0,I.removed=!0;try{qe=`todo/${I.id}_${I.remote.isOfficial}_${I.remote.target}/info.todo`}catch{qe=`todo/${I.id}/info.todo`}return yield J.indexed.saveTextFileToUserPath(JSON.stringify(I),qe),J.removeRegisteredId(I.noti_id),J.noti.ClearNoti(I.noti_id),E&&J.global.p5removeTodo&&J.global.p5removeTodo(JSON.stringify(I)),void(U||J.p5loading.remove(V))}let ne;try{ne=`todo/${I.id}_${I.remote.isOfficial}_${I.remote.target}`}catch{ne=`todo/${I.id}`}(yield J.indexed.GetFileListFromDB(ne)).forEach(De=>J.indexed.removeFileFromUserPath(De)),J.RemoveLocalPushSchedule(I),J.removeRegisteredId(I.noti_id),J.noti.ClearNoti(I.noti_id),E&&J.global.p5todo&&J.global.p5removeTodo(JSON.stringify(I)),U||J.p5loading.remove(V)})()}load_groups(E,I,U,D=!1){var J=this;return(0,M.A)(function*(){let V=J.groups[E][I][U].channel_id;try{if("missing"!=J.groups[E][I][U].status){let ne=yield J.servers[E][I].client.listGroupUsers(J.servers[E][I].session,U);if(ne.group_users.length){let Ne=!0;for(let De=0,qe=ne.group_users.length;De<qe;De++)if(ne.group_users[De].user.id==J.servers[E][I].session.user_id){switch(ne.group_users[De].state){case 0:case 1:case 2:J.groups[E][I][U].status="online";break;case 3:J.groups[E][I][U].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",ne.group_users[De].state),J.groups[E][I][U].status="missing"}J.PromotedGroup[E]||(J.PromotedGroup[E]={}),J.PromotedGroup[E][I]||(J.PromotedGroup[E][I]={}),ne.group_users[De].state<2?J.PromotedGroup[E][I][U]=!0:delete J.PromotedGroup[E][I][U],Ne=!1,ne.group_users[De].is_me=!0;break}Ne&&(J.groups[E][I][U].status="missing",V&&(J.channels_orig[E][I][V].status="missing"),J.save_channels_with_less_info())}else J.groups[E][I][U].status="missing",J.channels_orig[E][I][V].status="missing",J.save_channels_with_less_info();ne.group_users.length&&(J.groups[E][I][U].users=ne.group_users);for(let Ne=0,De=ne.group_users.length;Ne<De;Ne++)if(ne.group_users[Ne].is_me)ne.group_users[Ne].user=J.users.self;else try{if(D)throw"\uc0ac\uc6a9\uc790 \ub370\uc774\ud130\ub9cc \ubc1b\uc74c";let qe=yield J.servers[E][I].client.readStorageObjects(J.servers[E][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ne.group_users[Ne].user.id}]});qe.objects.length?ne.group_users[Ne].user.img=qe.objects[0].value.img:delete ne.group_users[Ne].user.img,J.save_other_user(ne.group_users[Ne].user,E,I)}catch(qe){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",qe),J.save_other_user(ne.group_users[Ne].user,E,I)}J.save_groups_with_less_info()}}catch(ne){console.log("load_groups_error: ",ne)}})()}save_self_profile(){let E={...this.users.self};delete E.img,this.indexed.saveTextFileToUserPath(JSON.stringify(E),"servers/self/profile.json")}rearrange_all_user(){let E=[];return Object.keys(this.users).forEach(U=>{"self"!=U&&Object.keys(this.users[U]).forEach(J=>{Object.keys(this.users[U][J]).forEach(ne=>{E.push(this.users[U][J][ne])})})}),E}load_other_user(E,I,U,D=(V=>{}),J=!1){try{if(this.servers[I][U].session.user_id==E)return D(this.users.self),this.users.self}catch{}if(this.users[I][U]||(this.users[I][U]={}),this.users[I][U][E]&&!J)return D(this.users[I][U][E]),this.users[I][U][E];this.users[I][U][E]={};let V=()=>{this.indexed.loadTextFromUserPath(`servers/${I}/${U}/users/${E}/profile.json`,(Ne,De)=>{if(Ne&&De){let qe=JSON.parse(De);Object.keys(qe).forEach(sr=>this.users[I][U][E][sr]=qe[sr])}D(this.users[I][U][E])})};try{this.servers[I][U].client.getUsers(this.servers[I][U].session,[E]).then(Ne=>{Ne.users.length?(Object.keys(Ne.users[0]).forEach(qe=>this.users[I][U][E][qe]=Ne.users[0][qe]),this.users[I][U][E].img||(this.users[I][U][E].img=null),this.save_other_user(this.users[I][U][E],I,U)):(this.indexed.removeFileFromUserPath(`${I}/${U}/users/${E}`),this.indexed.removeFileFromUserPath(`${I}/${U}/users/${E}/profile.json`),this.indexed.removeFileFromUserPath(`${I}/${U}/users/${E}/profile.img`)),D(this.users[I][U][E])}).catch(Ne=>{V()})}catch{V()}let ne=()=>{this.users[I][U][E].img&&(delete this.users[I][U][E].img,this.save_other_user(this.users[I][U][E],I,U)),this.indexed.loadTextFromUserPath(`servers/${I}/${U}/users/${E}/profile.img`,(Ne,De)=>{Ne&&De&&(this.users[I][U][E].img=De.replace(/"|=|\\/g,""))})};try{this.servers[I][U].client.readStorageObjects(this.servers[I][U].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:E}]}).then(Ne=>{Ne.objects.length&&this.users[I][U][E].img!=Ne.objects[0].value.img&&(this.users[I][U][E].img=Ne.objects[0].value.img,this.save_other_user(this.users[I][U][E],I,U))}).catch(Ne=>{ne()})}catch{ne()}return this.users[I][U][E]}save_other_user(E,I,U){if(this.servers[I][U].session.user_id==E.id)return;let D=JSON.parse(JSON.stringify(E));E.id!=this.servers[I][U].session.user_id&&(delete D.img,delete D.online,delete D.todo_checked,delete D.todo_done,this.users[I][U]||(this.users[I][U]={}),this.users[I][U][E.id]||(this.users[I][U][E.id]={}),Object.keys(E).forEach(V=>this.users[I][U][E.id][V]=E[V]),this.indexed.saveTextFileToUserPath(JSON.stringify(D),`servers/${I}/${U}/users/${D.id}/profile.json`),E.img?this.indexed.saveTextFileToUserPath(E.img,`servers/${I}/${U}/users/${E.id}/profile.img`):void 0===E.img&&this.indexed.removeFileFromUserPath(`servers/${I}/${U}/users/${E.id}/profile.img`))}update_notifications(E,I){var U=this;return(0,M.A)(function*(){let D=yield U.servers[E][I].client.listNotifications(U.servers[E][I].session,1);U.noti_origin[E][I]={};for(let J=0,V=D.notifications.length;J<V;J++)U.act_on_notification(D.notifications[J],E,I);U.rearrange_notifications()})()}rearrange_notifications(){let E=[];return Object.keys(this.noti_origin).forEach(U=>{Object.keys(this.noti_origin[U]).forEach(J=>{Object.keys(this.noti_origin[U][J]).forEach(ne=>{E.push(this.noti_origin[U][J][ne])})})}),E.sort((U,D)=>U.create_time<D.create_time?1:U.create_time>D.create_time?-1:0),this.notifications_rearrange=E,E}add_channel(E,I,U,D=!1){var J=this;return(0,M.A)(function*(){if(!J.channels_orig[I][U][E.id]){J.channels_orig[I][U][E.id]={};try{D&&(yield J.servers[I][U].client.rpc(J.servers[I][U].session,"send_noti_fn",{receiver_id:J.servers[I][U].session.user_id,title:"add_channel",content:{type:"add",id:E.redirect.id},code:xr.ADD_CHANNEL,persistent:!1}))}catch(ne){console.log("\uc0c8 \ucc44\ub110 \uc0dd\uc131\ub428 \uc140\ud504 \uc804\ud30c \uc2e4\ud328: ",ne)}}switch(Object.keys(E).forEach(ne=>J.channels_orig[I][U][E.id][ne]=E[ne]),J.channels_orig[I][U][E.id].cnoti_id||(J.channels_orig[I][U][E.id].cnoti_id=J.get_noti_id()),J.channels_orig[I][U][E.id].redirect.type){case 2:let ne=J.channels_orig[I][U][E.id].redirect.id;J.channels_orig[I][U][E.id].color=(ne.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let Ne=J.load_other_user(ne,I,U).online?"online":"pending";J.channels_orig[I][U][E.id].status=Ne;break;case 3:try{J.channels_orig[I][U][E.id].color=(J.channels_orig[I][U][E.id].redirect.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),"missing"==J.channels_orig[I][U][E.id].status&&delete J.channels_orig[I][U][E.id].status}catch(De){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",De)}break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",J.channels_orig[I][U][E.id])}})()}add_group_user_without_duplicate(E,I,U,D){let J=!1;this.groups[U][D][I].users||(this.groups[U][D][I].users=[]);for(let V=0,ne=this.groups[U][D][I].users.length;V<ne;V++)if(this.groups[U][D][I].users[V].user.id==E.user.id){J=!0;break}J||this.groups[U][D][I].users.push(E)}load_channel_list(){var E=this;return(0,M.A)(function*(){let I=yield E.indexed.loadTextFromUserPath("servers/channels.json");I&&(E.channels_orig=JSON.parse(I),Object.keys(E.channels_orig).forEach(D=>{Object.keys(E.channels_orig[D]).forEach(V=>{E.CreateEmptyForm(D,V),Object.keys(E.channels_orig[D][V]).forEach(Ne=>{try{if(E.channels_orig[D][V][Ne].volatile)throw delete E.channels_orig[D][V][Ne],`\ud718\ubc1c\uc131 \ucc44\ub110 \ubb34\uc2dc: ${Ne}`;2==E.channels_orig[D][V][Ne].redirect.type&&(E.channels_orig[D][V][Ne].info=E.load_other_user(E.channels_orig[D][V][Ne].redirect.id,D,V)),"missing"!=E.channels_orig[D][V][Ne].status&&(delete E.channels_orig[D][V][Ne].status,0==E.channels_orig[D][V][Ne].redirect.type&&(E.channels_orig[D][V][Ne].status="certified")),E.channels_orig[D][V][Ne].is_new&&!E.subscribe_lock&&(E.has_new_channel_msg=!0)}catch{}})})}))})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(E){let I=!1;for(let U=0,D=this.registered_id.length;U<D;U++)if(this.registered_id[U]==E){I=!0;break}return I?this.check_If_RegisteredId(E+1):E}removeRegisteredId(E){for(let I=0,U=this.registered_id.length;I<U;I++)if(this.registered_id[I]==E){this.registered_id.splice(I,1);break}}redirect_channel(E,I){var U=this;return(0,M.A)(function*(){if(U.channels_orig[E][I]){let D=Object.keys(U.channels_orig[E][I]);for(let J=0,V=D.length;J<V;J++)try{"missing"!=U.channels_orig[E][I][D[J]].status&&2===(yield U.servers[E][I].socket.joinChat(U.channels_orig[E][I][D[J]].redirect.id,U.channels_orig[E][I][D[J]].redirect.type,U.channels_orig[E][I][D[J]].redirect.persistence,!1),U.channels_orig[E][I][D[J]].cnoti_id||(U.channels_orig[E][I][D[J]].cnoti_id=U.get_noti_id()),U.channels_orig[E][I][D[J]].color=(U.channels_orig[E][I][D[J]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),U.channels_orig[E][I][D[J]].redirect.type)&&(U.servers[E][I].client.readStorageObjects(U.servers[E][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:U.channels_orig[E][I][D[J]].redirect.id}]}).then(ne=>{let Ne=U.load_other_user(U.channels_orig[E][I][D[J]].redirect.id,E,I);Ne.img=ne.objects.length?ne.objects[0].value.img:void 0,U.save_other_user(Ne,E,I)}),U.channels_orig[E][I][D[J]].update||U.servers[E][I].client.listChannelMessages(U.servers[E][I].session,D[J],1,!1).then(ne=>{ne.messages.length&&U.update_from_channel_msg(ne.messages[0],E,I)}))}catch{U.channels_orig[E][I][D[J]].status="missing"}}})()}rearrange_channels(){let E=[];return Object.keys(this.channels_orig).forEach(U=>{Object.keys(this.channels_orig[U]).forEach(J=>{Object.keys(this.channels_orig[U][J]).forEach(ne=>{this.channels_orig[U][J][ne].server={isOfficial:U,target:J};try{this.channels_orig[U][J][ne].server.name=this.servers[U][J].info.name}catch{this.channels_orig[U][J][ne].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[U][J][ne].info||(this.channels_orig[U][J][ne].info={}),this.channels_orig[U][J][ne].redirect.type){case 1:break;case 2:let Ne=this.load_other_user(this.channels_orig[U][J][ne].redirect.id,U,J);Object.keys(Ne).forEach(qe=>this.channels_orig[U][J][ne].info[qe]=Ne[qe]),this.channels_orig[U][J][ne].title=this.channels_orig[U][J][ne].info.display_name;break;case 3:this.groups[U][J]&&this.groups[U][J][this.channels_orig[U][J][ne].redirect.id]?(this.channels_orig[U][J][ne].info=this.groups[U][J][this.channels_orig[U][J][ne].redirect.id],this.channels_orig[U][J][ne].title=this.groups[U][J][this.channels_orig[U][J][ne].redirect.id].name,"missing"==this.groups[U][J][this.channels_orig[U][J][ne].redirect.id].status&&(this.channels_orig[U][J][ne].status=this.groups[U][J][this.channels_orig[U][J][ne].redirect.id].status)):this.channels_orig[U][J][ne].status="missing";break;case 0:this.channels_orig[U][J][ne].info||(this.channels_orig[U][J][ne].info={}),this.channels_orig[U][J][ne].info.name=this.channels_orig[U][J][ne].title,this.channels_orig[U][J][ne].info.img||this.indexed.loadTextFromUserPath(`servers/${U}/${J}/groups/${ne}.img`,(qe,St)=>{qe&&St&&(this.channels_orig[U][J][ne].info.img=St)})}}catch{}this.channels_orig[U][J][ne].info.isOfficial=U,this.channels_orig[U][J][ne].info.target=J,this.channels_orig[U][J][ne].last_comment_time||(this.channels_orig[U][J][ne].last_comment_time=Date.now()),E.push(this.channels_orig[U][J][ne])})})}),E.sort((U,D)=>{let J=new Date(U.last_comment_time||0).getTime(),V=new Date(D.last_comment_time||0).getTime();return J<V?1:J>V?-1:0}),E.sort((U,D)=>U.is_new?D.is_new?0:-1:D.is_new?1:0),this.channels=E,this.save_channels_with_less_info(),E}save_channels_with_less_info(){let E=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(E).forEach(U=>{Object.keys(E[U]).forEach(J=>{let V=Object.keys(E[U][J]);V.forEach(ne=>{delete E[U][J][ne].img,delete E[U][J][ne].group,delete E[U][J][ne].info,delete E[U][J][ne].update,delete E[U][J][ne].presences,delete E[U][J][ne].cnoti_id,delete E[U][J][ne].color,delete E[U][J][ne].isOfficial,delete E[U][J][ne].target,E[U][J][ne].is_new||delete E[U][J][ne].is_new}),V.length||delete E[U][J]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(E),"servers/channels.json")}limit_image_size(E,I=(U=>{})){new vt(D=>{D.setup=()=>{D.noCanvas(),D.loadImage(E,V=>{V.resize(window.innerWidth,window.innerWidth*V.height/V.width),V.canvas.toDataURL().length>245e3&&J(V),I(V),D.remove()},V=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),D.remove()})};let J=V=>{V.resize(.95*V.width,.95*V.height),V.canvas.toDataURL().length>245e3&&J(V)}})}try_add_group(E){var I=this;return new Promise(function(){var U=(0,M.A)(function*(D,J){let V=I.get_all_online_server();for(let ne=0,Ne=V.length;ne<Ne;ne++)try{let De=yield V[ne].client.joinGroup(V[ne].session,E.id);if(!De)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");De=yield V[ne].client.listGroups(V[ne].session,decodeURIComponent(E.name));for(let qe=0,St=De.groups.length;qe<St;qe++)if(De.groups[qe].id==E.id){let sr=De.groups[qe];sr.status=sr.open?"online":"pending",sr.server=I.servers[V[ne].info.isOfficial][V[ne].info.target].info;try{yield I.load_groups(V[ne].info.isOfficial,V[ne].info.target,De.groups[qe].id,!0)}catch(je){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",je)}try{let je=yield I.servers[V[ne].info.isOfficial][V[ne].info.target].client.readStorageObjects(I.servers[V[ne].info.isOfficial][V[ne].info.target].session,{object_ids:[{collection:"group_public",key:`group_${De.groups[qe].id}`,user_id:De.groups[qe].creator_id}]});je.objects.length?sr.img=je.objects[0].value.img:delete sr.img}catch(je){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",je)}if(I.save_group_info(sr,V[ne].info.isOfficial,V[ne].info.target),yield I.servers[V[ne].info.isOfficial][V[ne].info.target].client.rpc(I.servers[V[ne].info.isOfficial][V[ne].info.target].session,"send_noti_fn",{receiver_id:I.servers[V[ne].info.isOfficial][V[ne].info.target].session.user_id,title:"add_channel",content:{type:"add",id:De.groups[qe].id},code:xr.ADD_CHANNEL,persistent:!1}),sr.open){let je=yield I.join_chat_with_modulation(sr.id,3,V[ne].info.isOfficial,V[ne].info.target);(!I.opened_page_info.channel||I.opened_page_info.channel.isOfficial!=V[ne].info.isOfficial||I.opened_page_info.channel.target!=V[ne].info.target||I.opened_page_info.channel.id!=je.id)&&I.servers[V[ne].info.isOfficial][V[ne].info.target].client.listChannelMessages(I.servers[V[ne].info.isOfficial][V[ne].info.target].session,je.id,1,!1).then(Ve=>{Ve.messages.length&&I.update_from_channel_msg(Ve.messages[0],V[ne].info.isOfficial,V[ne].info.target),I.save_group_info(sr,V[ne].info.isOfficial,V[ne].info.target),I.go_to_chatroom(je)}).catch(Ve=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",Ve)})}D();break}}catch(De){switch(De.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let qe=yield I.join_chat_with_modulation(E.id,3,V[ne].info.isOfficial,V[ne].info.target);I.servers[V[ne].info.isOfficial][V[ne].info.target].client.listChannelMessages(I.servers[V[ne].info.isOfficial][V[ne].info.target].session,qe.id,1,!1).then(St=>{St.messages.length&&I.update_from_channel_msg(St.messages[0],V[ne].info.isOfficial,V[ne].info.target),I.go_to_chatroom(qe)}).catch(St=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",St)}),D();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",De)}}J(I.lang.text.Nakama.GroupAllListDone)});return function(D,J){return U.apply(this,arguments)}}())}save_group_info(E,I,U){this.groups[I][U]||(this.groups[I][U]={}),this.groups[I][U][E.id]=E,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(E.img,`servers/${I}/${U}/groups/${E.id}.img`),E.owner==this.servers[I][U].session.user_id&&E.img&&this.servers[I][U].client.writeStorageObjects(this.servers[I][U].session,[{collection:"group_public",key:`group_${E.id}`,value:{img:E.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(E=(()=>{})){let I=JSON.parse(JSON.stringify(this.groups));Object.keys(I).forEach(D=>{Object.keys(I[D]).forEach(V=>{let ne=Object.keys(I[D][V]);ne.forEach(Ne=>{if(delete I[D][V][Ne].server,delete I[D][V][Ne].img,I[D][V][Ne].users)for(let De=0,qe=I[D][V][Ne].users.length;De<qe;De++)if(I[D][V][Ne].users[De]){delete I[D][V][Ne].users[De].state;try{I[D][V][Ne].users[De].user.id?(I[D][V][Ne].users[De].user={id:I[D][V][Ne].users[De].user.id},this.servers[D][V]&&this.servers[D][V].session&&I[D][V][Ne].users[De].user.id==this.servers[D][V].session.user_id&&(I[D][V][Ne].users[De].is_me=!0)):I[D][V][Ne].users[De].is_me||I[D][V][Ne].users.splice(De,1)}catch{}}}),ne.length||delete I[D][V]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(I),"servers/groups.json").then(()=>{E()})}remove_group_list(E,I,U,D=!1){var J=this;return(0,M.A)(function*(){try{let V=E.creator_id==J.servers[I][U].session.user_id;if(!J.servers[I][U]||!V)throw"not a group creator";try{let Ne=`${E.server.useSSL?"https":"http"}://${E.server.address}`,De=J.servers[I][U].info;yield J.global.remove_files_from_storage_with_key(Ne,E.id,{cdn_port:De.cdn_port,apache_port:De.apache_port})}catch{}(yield J.servers[I][U].client.deleteGroup(J.servers[I][U].session,E.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),J.remove_channel_files(I,U,E.channel_id,V);try{throw yield J.servers[I][U].client.deleteStorageObjects(J.servers[I][U].session,{object_ids:[{collection:"group_public",key:`group_${E.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{let ne=localStorage.getItem("fallback_fs");if(!ne)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Ne=ne.split("://"),De=Ne.pop().split(":"),qe=Ne.pop();qe?qe+=":":qe=J.global.checkProtocolFromAddress(De[0])?"https:":"http:";let St=`${qe}//${De[0]}:${De[1]||9002}/`;De[0]&&(yield J.global.remove_files_from_storage_with_key(St,`${E.id}_${J.servers[I][U].session.user_id}`,{}))}catch{}try{let ne=`${E.server.useSSL?"https":"http"}://${E.server.address}`;if(E.server.address){let Ne=J.servers[I][U].info;yield J.global.remove_files_from_storage_with_key(ne,`${E.id}_${J.servers[I][U].session.user_id}`,{cdn_port:Ne.cdn_port,apache_port:Ne.apache_port})}}catch{}}try{if(D){yield J.indexed.removeFileFromUserPath(`servers/${I}/${U}/groups/${E.id}.img`);try{delete J.groups[I][U][E.id],J.save_groups_with_less_info()}catch{}}}catch{}try{delete J.PromotedGroup[I][U][E.id]}catch{}})()}remove_channel_files(E,I,U,D,J){var V=this;return(0,M.A)(function*(){var ne,Ne;const De=J||"remove_channel_files",qe=(null===(ne=V.channels_orig[E][I][U])||void 0===ne?void 0:ne.title)||("4"==U.charAt(0)?null===(Ne=V.users[E][I][U.split(".").find(St=>St in V.users[E][I])])||void 0===Ne?void 0:Ne.display_name:void 0);try{yield V.p5loading.update({id:De,message:`${V.lang.text.GroupDetail.BreakupGroup}: ${qe}`,forceEnd:null}),yield V.servers[E][I].client.rpc(V.servers[E][I].session,"remove_channel_file",{collection:`file_${U.replace(/[.]/g,"_")}`,is_creator:D}),V.p5loading.update({id:De,progress:1},!0)}catch(St){V.p5loading.update({id:De,message:`${V.lang.text.AdminTools.FailedClear}: ${St}`,progress:0},!0)}J||V.p5loading.remove(De)})()}get_group_list_from_server(E,I,U){var D=this;return(0,M.A)(function*(){const J="nakama_login";yield D.p5loading.update({id:J,message:`${D.lang.text.Nakama.SyncingChannel}: ${D.servers[E][I].info.name}`,forceEnd:null});let V=yield D.servers[E][I].client.listUserGroups(D.servers[E][I].session,D.servers[E][I].session.user_id);try{for(let ne=0,Ne=V.user_groups.length;ne<Ne;ne++)if(void 0===U||U==V.user_groups[ne].group.id){D.groups[E][I][V.user_groups[ne].group.id]||(D.groups[E][I][V.user_groups[ne].group.id]={});try{let De=yield D.servers[E][I].client.readStorageObjects(D.servers[E][I].session,{object_ids:[{collection:"group_public",key:`group_${V.user_groups[ne].group.id}`,user_id:V.user_groups[ne].group.creator_id}]});De.objects.length?(D.groups[E][I][V.user_groups[ne].group.id].img=De.objects[0].value.img,D.indexed.saveTextFileToUserPath(De.objects[0].value.img,`servers/${E}/${I}/groups/${V.user_groups[ne].group.id}.img`)):(delete D.groups[E][I][V.user_groups[ne].group.id].img,D.indexed.removeFileFromUserPath(`servers/${E}/${I}/groups/${V.user_groups[ne].group.id}.img`))}catch(De){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",De)}D.groups[E][I][V.user_groups[ne].group.id]={...D.groups[E][I][V.user_groups[ne].group.id],...V.user_groups[ne].group},U&&"missing"==D.groups[E][I][V.user_groups[ne].group.id].status&&(D.groups[E][I][V.user_groups[ne].group.id].status="online"),yield D.load_groups(E,I,V.user_groups[ne].group.id,!0),yield D.join_chat_with_modulation(V.user_groups[ne].group.id,3,E,I)}D.rearrange_channels()}catch(ne){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ne)}D.p5loading.remove(J)})()}rearrange_group_list(E=!0){let I=[];return Object.keys(this.groups).forEach(D=>{Object.keys(this.groups[D]).forEach(V=>{Object.keys(this.groups[D][V]).forEach(Ne=>{try{this.groups[D][V][Ne].server=this.servers[D][V].info,I.push(this.groups[D][V][Ne])}catch{this.groups[D][V][Ne].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:D,target:V},E&&I.push(this.groups[D][V][Ne])}})})}),I}set_group_statusBar(E,I,U){this.statusBar.groupServer[I]||(this.statusBar.groupServer[I]={}),this.statusBar.groupServer[I][U]=E,this.catch_group_server_header(E),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(E,I,U){var D=this;return(0,M.A)(function*(){let J="pending";try{if("offline"==D.statusBar.groupServer[I][U])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(E.group_id){var V;let ne=null===(V=D.groups[I][U][E.group_id].users)||void 0===V?void 0:V.length;if(D.groups[I][U][E.group_id].max_count<=1)return J=D.users.self.online?"online":"offline",void("missing"!=D.channels_orig[I][U][E.channel_id||E.id].status&&(D.channels_orig[I][U][E.channel_id||E.id].status=J));if(void 0!==ne)for(let Ne=0;Ne<ne;Ne++){let De=D.groups[I][U][E.group_id].users[Ne].user.id||D.servers[I][U].session.user_id;if(De!=D.servers[I][U].session.user_id&&(yield new Promise(St=>{D.load_other_user(De,I,U,sr=>St(sr))})).online){J="online";break}}else J="pending"}else if(E.user_id_one)if(D.channels_orig[I][U][E.channel_id||E.id]){let ne=D.channels_orig[I][U][E.channel_id||E.id].redirect.id,Ne=yield D.servers[I][U].client.getUsers(D.servers[I][U].session,[ne]);Object.keys(Ne.users[0]).forEach(qe=>{D.users[I][U][ne][qe]=Ne.users[0][qe]}),J=D.load_other_user(ne,I,U).online?"online":"pending"}else try{let ne=yield D.join_chat_with_modulation(E.user_id_one!=D.servers[I][U].session.user_id?E.user_id_one:E.user_id_two,2,I,U);J=D.load_other_user(D.channels_orig[I][U][ne.id].redirect.id,I,U).online?"online":"pending"}catch(ne){console.error(ne)}}catch{J="offline"==D.statusBar.groupServer[I][U]?"offline":"missing"}D.channels_orig[I][U][E.channel_id||E.id]||(D.channels_orig[I][U][E.channel_id||E.id]={}),"missing"!=D.channels_orig[I][U][E.channel_id||E.id].status&&(D.channels_orig[I][U][E.channel_id||E.id].status=J)})()}remove_server(E,I,U){var D=this;return(0,M.A)(function*(){const J=`nakama_remove_server_${Date.now()}`;D.p5loading.update({id:J,message:D.lang.text.Nakama.RemovingAccount});let V=D.servers[E][I].info;try{let De=D.servers[E][I].session.user_id,qe=`${V.useSSL?"https":"http"}://${V.address}`;try{if(U)throw"\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \ub9ac\uc2a4\ud2b8\ub9cc \uc0ad\uc81c";yield D.global.remove_files_from_storage_with_key(qe,De,{cdn_port:V.cdn_port,apache_port:V.apache_port})}catch{}try{if(U)throw"\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \ub9ac\uc2a4\ud2b8\ub9cc \uc0ad\uc81c";let St=localStorage.getItem("fallback_fs");if(!St)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let sr=St.split("://"),je=sr.pop().split(":"),Ve=sr.pop();Ve?Ve+=":":Ve=D.global.checkProtocolFromAddress(je[0])?"https:":"http:";let ht=`${Ve}//${je[0]}:${je[1]||9002}/`;yield D.global.remove_files_from_storage_with_key(ht,De,{})}catch{}yield D.servers[E][I].client.rpc(D.servers[E][I].session,"remove_account_fn",{user_id:De}).catch(St=>{})}catch{}if(D.p5loading.update({id:J,message:D.lang.text.Nakama.LogoutAccount}),"online"==D.statusBar.groupServer[E][I])try{D.servers[E][I].socket.disconnect(!0)}catch{D.link_group(E,I,!1)}D.p5loading.update({id:J,message:D.lang.text.Nakama.RemovingNotification});try{delete D.noti_origin[E][I]}catch{}D.rearrange_notifications(),D.p5loading.update({id:J,message:D.lang.text.Nakama.MissingChannels});try{let De=Object.keys(D.channels_orig[E][I]);D.channels_orig.deleted||(D.channels_orig.deleted={}),D.channels_orig.deleted[I]||(D.channels_orig.deleted[I]={}),De.forEach(qe=>{D.channels_orig[E][I][qe].info.status="missing",D.channels_orig[E][I][qe].status="missing",D.channels_orig.deleted[I][qe]=JSON.parse(JSON.stringify(D.channels_orig[E][I][qe]))}),delete D.channels_orig[E][I]}catch{}D.save_channels_with_less_info();let ne=yield D.indexed.GetFileListFromDB(`servers/${E}/${I}`);for(let De=0,qe=ne.length;De<qe;De++)try{let St=yield D.indexed.GetFileInfoFromDB(ne[De]),sr=ne[De].replace("/official/","/deleted/").replace(`/${E}/`,"/deleted/");yield D.indexed.saveFileToUserPath(St,sr),yield D.indexed.removeFileFromUserPath(ne[De]),D.p5loading.update({id:J,message:`${D.lang.text.Nakama.MissingChannelFiles}: ${ne[De]}`})}catch(St){console.log("\ud30c\uc77c \uc774\uad00 \uc2e4\ud328: ",St)}{D.post_counter.deleted||(D.post_counter.deleted={});let De=yield D.indexed.loadTextFromUserPath("servers/post_counter.json"),qe=JSON.parse(De);D.post_counter.deleted[I]=qe[E][I],delete D.post_counter[E][I],delete D.posts_orig[E][I],D.rearrange_posts(),yield D.save_post_counter()}D.p5loading.update({id:J,message:D.lang.text.Nakama.MissingGroups});try{D.groups.deleted||(D.groups.deleted={}),D.groups.deleted[I]||(D.groups.deleted[I]={}),D.groups.deleted[I]=JSON.parse(JSON.stringify(D.groups[E][I])),Object.keys(D.groups.deleted[I]).forEach(qe=>{D.groups.deleted[I][qe].server.name=D.lang.text.Nakama.DeletedServer,D.groups.deleted[I][qe].server.isOfficial="deleted",D.groups.deleted[I][qe].status="missing",D.groups.deleted[I][qe]=JSON.parse(JSON.stringify(D.groups[E][I][qe]))}),delete D.groups[E][I]}catch{}D.p5loading.update({id:J,message:D.lang.text.Nakama.DeletingServerInfo}),D.set_group_statusBar("offline",E,I),delete D.statusBar.groupServer[E][I],yield D.RemoveWebRTCServer(D.servers[E][I].info.address),delete D.servers[E][I],D.save_groups_with_less_info(),D.indexed.saveTextFileToUserPath(JSON.stringify(D.statusBar.groupServer),"servers/list.json");let Ne=yield D.indexed.loadTextFromUserPath("servers/list_detail.csv");if(Ne){let De=Ne.split("\n");for(let qe=0,St=De.length;qe<St;qe++)if(De[qe].split(",")[3]==I){De.splice(qe,1);break}D.indexed.saveTextFileToUserPath(De.join("\n"),"servers/list_detail.csv")}D.noti.ClearNoti(9),D.p5loading.remove(J)})()}connect_to(E="official",I="default"){var U=this;return(0,M.A)(function*(){yield U.servers[E][I].socket.connect(U.servers[E][I].session,!0);let D=U.servers[E][I].socket;Object.keys(U.on_socket_connected).forEach(ne=>U.on_socket_connected[ne]()),D.onnotification=ne=>{U.act_on_notification(ne,E,I),U.rearrange_notifications()};let V=[];return D.onchannelpresence=ne=>{if(void 0!==ne.joins){ne.joins.forEach(De=>{U.servers[E][I].session.user_id!=De.user_id&&(U.load_other_user(De.user_id,E,I).online=!0)});let Ne=!0;for(let De of ne.joins)if(De.user_id!=U.servers[E][I].session.user_id){Ne=!1;break}(!V.includes(ne.channel_id)||!Ne)&&(V.push(ne.channel_id),U.count_channel_online_member(ne,E,I))}else if(void 0!==ne.leaves){let Ne=[];ne.leaves.forEach(De=>{U.servers[E][I].session.user_id!=De.user_id&&U.servers[E][I].client.getUsers(U.servers[E][I].session,[De.user_id]).then(qe=>{let St=Object.keys(qe.users[0]);delete U.load_other_user(De.user_id,E,I).online,St.forEach(sr=>{U.users[E][I][De.user_id][sr]=qe.users[0][sr]}),Ne.push(De.user_id),Ne.forEach(sr=>U.load_other_user(sr,E,I)),U.count_channel_online_member(ne,E,I)})})}U.socket_reactive["others-online"]&&U.socket_reactive["others-online"]()},D.onchannelmessage=ne=>{U.channels_orig[E][I][ne.channel_id]?(U.update_from_channel_msg(ne,E,I),U.rearrange_channels()):ne.user_id_one?U.join_chat_with_modulation(ne.sender_id,2,E,I):ne.group_id&&U.join_chat_with_modulation(ne.group_id,3,E,I)},D.ondisconnect=ne=>{U.OnSocketDisconnect(E,I)},D})()}OnSocketDisconnect(E,I){this.link_group(E,I,!1),Object.keys(this.on_socket_disconnected).forEach(D=>this.on_socket_disconnected[D]())}saveListedMessage(E,I,U,D,J){let V={},ne=JSON.parse(JSON.stringify(E)),Ne=J||!1;for(;ne.length;){V.target!=ne[0].msgDate&&(V.msg&&(this.saveMessageByDate(V,I,U,D,Ne),Ne=!0),V.target=ne[0].msgDate,V.msg=[]);let De=ne.shift();delete De.content.text,delete De.content.img,delete De.content.local_comp,delete De.content.path,delete De.msgDate,delete De.displayDate,delete De.msgTime,delete De.isLastRead,delete De.showInfo,V.msg.push(De)}this.saveMessageByDate(V,I,U,D,Ne)}saveMessageByDate(E,I,U,D,J=!1){if(!E.msg||!E.msg.length)return;const V=JSON.parse(JSON.stringify(E)),ne=V.target.split("-");this.indexed.loadTextFromUserPath(`servers/${U}/${D}/channels/${I.id}/chats/${ne[0]}/${ne[1]}/${ne[2]}`,(Ne,De)=>{let qe=[],St=[];Ne&&De&&(qe=JSON.parse(De)),V.msg.forEach(ht=>{for(let Ge=qe.length-1;Ge>=0;Ge--)if(qe[Ge].message_id==ht.message_id){qe.splice(Ge,1);break}St.push(ht)});let sr=[];const je=new Date(St[0].create_time).getTime();for(let ht=qe.length-1;ht>=0;ht--)if(J||je<new Date(qe[ht].create_time).getTime()){let Ge=qe.splice(ht,1);Ge[0].code=2,sr.push(Ge[0])}let Ve=[...qe,...sr,...St];Ve.sort((ht,Ge)=>ht.create_time<Ge.create_time?-1:ht.create_time>Ge.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Ve),`servers/${U}/${D}/channels/${I.id}/chats/${ne[0]}/${ne[1]}/${ne[2]}`)})}CatchQouteMsgUserName(E,I,U){if(E.content.qoute)try{if("local"==E.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";E.content.qoute.username=this.users[I][U][E.content.qoute.user_id].display_name}catch{E.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(E){let I=new Date(E.create_time),U=I.toLocaleDateString(this.lang.lang);E.displayDate=U,E.msgDate=`${I.getFullYear()}-${("00"+(I.getMonth()+1)).slice(-2)}-${("00"+I.getDate()).slice(-2)}`,E.msgTime=`${("00"+I.getHours()).slice(-2)}:${("00"+I.getMinutes()).slice(-2)}`}join_chat_with_modulation(E,I,U,D,J=!1){var V=this;return(0,M.A)(function*(){V.channels_orig[U][D]||(V.channels_orig[U][D]={});let ne=yield V.servers[U][D].socket.joinChat(E,I,!0,!1);try{switch(ne.redirect={id:E,type:I,persistence:!0},ne.server={isOfficial:U,target:D},I){case 2:ne.title=V.GetOverrideName(E,U,D)||V.load_other_user(E,U,D).display_name,ne.info=V.load_other_user(E,U,D);break;case 3:ne.title=V.groups[U][D][E].name,ne.info=V.groups[U][D][E],V.groups[U][D][E].channel_id=ne.id;break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",I)}if(yield V.add_channel(ne,U,D,J),J&&V.rearrange_channels(),!V.opened_page_info.channel||V.opened_page_info.channel.isOfficial!=U||V.opened_page_info.channel.target!=D||V.opened_page_info.channel.id!=ne.id){let Ne=yield V.servers[U][D].client.listChannelMessages(V.servers[U][D].session,ne.id,1,!1);try{Ne.messages.length&&(yield V.update_from_channel_msg(Ne.messages[0],U,D,J))}catch{}}return V.save_groups_with_less_info(),V.count_channel_online_member(ne,U,D),ne}catch(Ne){let De="";throw De=3===Ne.code?V.lang.text.Nakama.AddChannelFailed_Code3:Ne.message,V.p5toast.show({text:`${V.lang.text.Nakama.AddChannelFailed}: ${De}`}),`${V.lang.text.Nakama.AddChannelFailed}: ${De}`}})()}update_from_channel_msg(E,I,U,D=!1){var J=this;return(0,M.A)(function*(){let V=E.sender_id==J.servers[I][U].session.user_id,ne=E.message_id!=J.channels_orig[I][U][E.channel_id].last_comment_id,Ne=J.modulation_channel_message(E,I,U,!0),De=!1;switch(Ne.code){case 0:Ne.content.gupdate&&(J.update_group_info(Ne,I,U),De=!0),Ne.content.user_update&&(J.update_group_user_info(Ne,I,U),De=!0),ne&&!De&&(J.channels_orig[I][U][E.channel_id].is_new=!V,J.subscribe_lock||(J.has_new_channel_msg=!V));break;case 1:case 2:break;case 6:V&&(delete J.PromotedGroup[I][U][Ne.group_id],J.socket_reactive.add_todo_menu&&J.socket_reactive.add_todo_menu.UpdateWorkerList());case 3:case 4:case 5:case 7:case 9:let St;if(J.socket_reactive.group_detail&&(St=yield J.socket_reactive.group_detail.update_GroupUsersList(I,U)),V&&(7==Ne.code||9==Ne.code)){St||(St=(yield J.servers[I][U].client.listGroupUsers(J.servers[I][U].session,Ne.group_id)).group_users);for(let sr of St)if(sr.user.id==J.servers[I][U].session.user_id){sr.state<2?J.PromotedGroup[I][U][Ne.group_id]=!0:delete J.PromotedGroup[I][U][Ne.group_id],J.socket_reactive.add_todo_menu&&J.socket_reactive.add_todo_menu.UpdateWorkerList();break}}if(3==Ne.code||4==Ne.code||7==Ne.code||9==Ne.code)break;if(J.noti_origin[I]&&J.noti_origin[I][U]){let sr=Object.keys(J.noti_origin[I][U]),je=[];sr.forEach(Ve=>{-5==J.noti_origin[I][U][Ve].code&&J.noti_origin[I][U][Ve].sender_id==Ne.sender_id&&je.push(Ve)});try{(yield J.servers[I][U].client.deleteNotifications(J.servers[I][U].session,je))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),J.update_notifications(I,U)}catch(Ve){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Ve)}}V&&(J.channels_orig[I][U][Ne.channel_id].status="missing");break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Ne)}if(!V&&ne&&!De){let St={id:J.channels_orig[I][U][E.channel_id].cnoti_id,title:J.channels_orig[I][U][E.channel_id].info.name||J.GetOverrideName(J.channels_orig[I][U][E.channel_id].info.id,I,U)||J.channels_orig[I][U][E.channel_id].info.display_name||J.channels_orig[I][U][E.channel_id].title||J.lang.text.ChatRoom.noname_chatroom,body:Ne.content.msg||Ne.content.noti||`(${J.lang.text.ChatRoom.attachments})`,smallIcon_ln:"diychat"};Ne.content.url&&Ne.content.type&&0==Ne.content.type.indexOf("image/")&&(St.image=Ne.content.url),J.noti.PushLocal(St,J.channels_orig[I][U][E.channel_id].cnoti_id,sr=>{J.go_to_chatroom(J.channels_orig[I][U][E.channel_id])})}V&&J.noti.ClearNoti(J.channels_orig[I][U][E.channel_id].cnoti_id),J.ModulateTimeDate(Ne),J.check_sender_and_show_name(Ne,I,U);let qe=E.content.msg;J.content_to_hyperlink(Ne,I,U),!D&&J.channels_orig[I][U][Ne.channel_id].update&&J.channels_orig[I][U][Ne.channel_id].update(Ne),De||(J.channels_orig[I][U][E.channel_id].last_comment_time=E.update_time,J.channels_orig[I][U][Ne.channel_id].last_comment_id=Ne.message_id),J.saveListedMessage([Ne],J.channels_orig[I][U][Ne.channel_id],I,U),De||2!=Ne.code&&(J.channels_orig[I][U][Ne.channel_id].last_comment=(Ne.content.filename?`(${J.lang.text.ChatRoom.attachments}) `:"")+(qe||Ne.content.noti||""))})()}rearrange_posts(){this.posts.length=0;let E=Object.keys(this.posts_orig);for(let I=0,U=E.length;I<U;I++){let D=Object.keys(this.posts_orig[E[I]]);for(let J=0,V=D.length;J<V;J++){let ne=Object.keys(this.posts_orig[E[I]][D[J]]);for(let Ne=0,De=ne.length;Ne<De;Ne++){let qe=Object.keys(this.posts_orig[E[I]][D[J]][ne[Ne]]);for(let St=0,sr=qe.length;St<sr;St++)this.posts.push(this.posts_orig[E[I]][D[J]][ne[Ne]][qe[St]])}}}this.posts.sort((I,U)=>I.create_time<U.create_time?1:I.create_time>U.create_time?-1:0)}EditPost(E){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(E),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(E,I=!1,U){var D=this;return(0,M.A)(function*(){let J=E.server.isOfficial,V=E.server.target;const ne=U||`nakama_RemovePost_${Date.now()}`;I||(yield D.p5loading.update({id:ne,message:D.lang.text.PostViewer.RemovePost,forceEnd:null}));let Ne=yield D.indexed.GetFileListFromDB(`servers/${J}/${V}/posts/${E.creator_id}/${E.id}`);for(let qe=0,St=Ne.length;qe<St;qe++)I||D.p5loading.update({id:ne,message:`${D.lang.text.PostViewer.RemovePost}: ${Ne[qe]}`,progress:qe/St}),yield D.indexed.removeFileFromUserPath(Ne[qe]);I||D.p5loading.update({id:ne,progress:null});let De={};try{let qe=D.servers[J][V].info;De.cdn_port=qe.cdn_port,De.apache_port=qe.apache_port}catch{De={}}if(E.OutSource&&D.global.remove_file_from_storage(E.OutSource,De),E.attachments)for(let qe=0,St=E.attachments.length;qe<St;qe++)try{if(I||D.p5loading.update({id:ne,message:`${D.lang.text.PostViewer.RemovePost}: ${E.attachments[qe].filename}`,progress:qe/St}),E.attachments[qe].url&&""!==E.attachments[qe].type)I||D.global.remove_file_from_storage(E.attachments[qe].url,De);else try{E.server.local||(yield D.sync_remove_file(`${E.id}_attach_${qe}`,J,V,"server_post","",`${E.id}_attach_${qe}`))}catch{}}catch{}if(I||D.p5loading.update({id:ne,progress:null}),E.mainImage)try{if(E.mainImage.url&&""!==E.mainImage.type)I||D.global.remove_file_from_storage(E.mainImage.url,De);else try{E.server.local||(yield D.sync_remove_file(`${E.id}_mainImage`,J,V,"server_post","",`${E.id}_mainImage`))}catch{}}catch{}try{E.server.local||I||(yield D.sync_remove_file(E.id,J,V,"server_post","",`${E.id}`))}catch{}I||D.p5loading.update({id:ne,message:`${D.lang.text.PostViewer.RemovePost}: ${E.title}`}),!I&&!U&&D.p5loading.remove(ne);try{delete D.posts_orig[J][V][E.creator_id][E.id]}catch{}if(!I)try{yield D.servers[J][V].client.rpc(D.servers[J][V].session,"send_noti_all_fn",{noti_id:xr.MANAGE_POST,type:"remove",user_id:E.creator_id,post_id:E.id,persistent:!1})}catch{}D.rearrange_posts(),D.socket_reactive.try_load_post&&D.socket_reactive.try_load_post()})()}content_to_hyperlink(E,I,U){if(!E.content.msg||"object"==typeof E.content.msg)return;let D=E.content.msg.split("\n");E.content.msg=[],D.forEach(J=>{E.content.msg.push([{text:J}])});for(let J=0,V=E.content.msg.length;J<V;J++)if(E.content.msg[J][0].text){const ne=/(https?:\/\/[^\s]+|[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})(\/[^\s]*)?/g,Ne=E.content.msg[J][0].text,De=Ne.match(ne);if(De){const qe="%extractURL",sr=Ne.replace(ne,qe).split(qe);let je=[];for(;sr.length||De.length;){{let Ve=sr.shift();Ve&&je.push({text:Ve})}{let Ve=De.shift();Ve&&je.push({text:Ve,href:!0})}}E.content.msg[J]=je}else E.content.msg[J]=[{text:Ne}];try{let qe=E.content.msg[J][0].text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");1==E.content.msg.length&&E.content.msg[J][0].text.length==qe.length&&(E.content.msg[J][0].size=48)}catch{}}}CreateHyperLinkDesc(E,I,U,D){var J=this;return(0,M.A)(function*(){try{let ne,De,qe,V=E.content.msg,Ne=!1;for(let St of V){for(let sr of St)if(sr.href){ne=sr.text,Ne=!0;break}if(Ne)break}try{De=J.servers[I][U].info,qe=`${De.useSSL?"https":"http"}://${De.address}:${De.cdn_port||9001}`}catch{}if(Ne){if(E.content.hasLink)return;try{let St=yield J.global.GetHrefThumbnail(ne,qe,D);if(!St||St.error)throw St;E.content.hasLink=St,J.saveListedMessage([E],J.channels_orig[I][U][E.channel_id],I,U)}catch(St){console.log("href \uac04\ub7b5\uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc2e4\ud328: ",St)}}else delete E.content.hasLink}catch{}})()}check_sender_and_show_name(E,I,U){try{E.color="#"+(E.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),E.sender_id==this.servers[I][U].session.user_id?(E.user_display_name=this.users.self.display_name,E.is_me=!0):E.user_display_name=this.load_other_user(E.sender_id,I,U).display_name,E.user_display_name=E.user_display_name||this.lang.text.Profile.noname_user}catch(D){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",D)}}modulation_channel_message(E,I,U,D=!1){var J=this;this.translate_updates(E);let ne,V=!1;try{V=E.sender_id==this.servers[I][U].session.user_id}catch{V=E.content.user_update}try{ne=V?this.users.self:this.load_other_user(E.sender_id,I,U)}catch{ne=this.users.self}let Ne=function(){var De=(0,M.A)(function*(){if(D){let qe=yield J.servers[I][U].client.listGroupUsers(J.servers[I][U].session,E.group_id);for(let St of qe.group_users)if(St.user.id==J.servers[I][U].session.user_id){St.is_me=!0,St.user=J.users.self;break}J.groups[I][U][E.group_id].users=qe.group_users,J.count_channel_online_member(E,I,U)}});return function(){return De.apply(this,arguments)}}();switch(E.code){case 0:if(E.content.filename){try{E.content.transfer_index=this.OnTransfer[I][U][E.channel_id][E.message_id]}catch{}try{this.OnTransferMessage[E.message_id]=E}catch{}}break;case 1:case 2:break;case 3:case 4:E.content.user_update=ne,E.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${ne.display_name}`,D&&Ne();break;case 5:E.content.user_update=ne,E.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${ne.display_name}`,D&&Ne();break;case 6:E.content.user_update=ne,E.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${ne.display_name}`,D&&Ne();break;case 7:E.content.user_update=ne,E.content.noti=`${this.lang.text.OtherProfile.PromoteSucc}: ${ne.display_name}`;break;case 9:E.content.user_update=ne,E.content.noti=`${this.lang.text.OtherProfile.DemoteSucc}: ${ne.display_name}`;break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",E)}return E}update_group_info(E,I,U){switch(this.translate_updates(E),E.content.gupdate){case"gimage_modify":this.servers[I][U].client.readStorageObjects(this.servers[I][U].session,{object_ids:[{collection:"group_public",key:`group_${E.group_id}`,user_id:this.groups[I][U][E.group_id].creator_id}]}).then(D=>{D.objects.length?(this.groups[I][U][E.group_id].img=D.objects[0].value.img.replace(/"|=|\\/g,""),this.indexed.saveTextFileToUserPath(D.objects[0].value.img,`servers/${I}/${U}/groups/${E.group_id}.img`)):"missing"!=this.groups[I][U][E.group_id].status&&(delete this.groups[I][U][E.group_id].img,this.indexed.removeFileFromUserPath(`servers/${I}/${U}/groups/${E.group_id}.img`))});break;case"remove":case"force_remove":this.groups[I][U][E.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[I][U][E.channel_id].status="missing",this.servers[I][U].socket.leaveChat(E.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",E)}}translate_updates(E){if(E.content.user_update)switch(E.content.user_update){case"modify_data":E.content.noti=`${this.lang.text.Profile.user_profile_changed}${E.content.noti_form}`;break;case"modify_img":E.content.noti=`${this.lang.text.Profile.user_image_changed}${E.content.noti_form}`}if(E.content.gupdate)switch(E.content.gupdate){case"gimage_modify":E.content.noti=this.lang.text.GroupDetail.GroupImageChanged;break;case"remove":E.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":E.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(E,I,U){var D=this;return(0,M.A)(function*(){if(D.translate_updates(E),D.servers[I][U].session.user_id!=E.sender_id)switch(E.content.user_update){case"modify_data":try{let J=yield D.servers[I][U].client.getUsers(D.servers[I][U].session,[E.sender_id]);J.users.length?D.save_other_user(J.users[0],I,U):(delete D.users[I][U][E.sender_id],D.indexed.removeFileFromUserPath(`servers/${I}/${U}/users/${E.sender_id}/profile.json`))}catch(J){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",J)}break;case"modify_img":try{let J=yield D.servers[I][U].client.readStorageObjects(D.servers[I][U].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:E.sender_id}]});if(J.objects.length)try{if(D.servers[I][U].session.user_id==E.sender_id)throw"me";D.load_other_user(E.sender_id,I,U).img=J.objects[0].value.img.replace(/"|\\|=/g,""),D.indexed.saveTextFileToUserPath(D.users[I][U][E.sender_id].img,`servers/${I}/${U}/users/${E.sender_id}/profile.img`)}catch{D.users.self.img=J.objects[0].value.img.replace(/"|\\|=/g,""),yield D.indexed.saveTextFileToUserPath(D.users.self.img,"servers/self/profile.img")}else try{if(D.servers[I][U].session.user_id==E.sender_id)throw"me";delete D.users[I][U][E.sender_id].img,D.indexed.removeFileFromUserPath(`servers/${I}/${U}/users/${E.sender_id}/profile.img`)}catch{delete D.users.self.img}}catch(J){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",J)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",E)}})()}check_notifications(E,I,U){var D=this;return(0,M.A)(function*(){let J=D.servers[I][U];switch(E.code){case 0:case-2:break;case 1:let V=`<div style="text-align: center"><img src="${decodeURIComponent(E.content.uri)}" alt="noti_image" style="border-radius: 2px"/></div>`,ne=`<div>${decodeURIComponent(D.global.HTMLEncode(E.content.msg))}</div>`;D.alertCtrl.create({header:D.servers[I][U].info.name,message:new Ut.Vk(E.content.uri?V+ne:ne),buttons:[{text:D.lang.text.Nakama.LocalNotiOK,handler:()=>{!function(){var qe=(0,M.A)(function*(){try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id])}catch{}D.noti.ClearNoti(E.code),D.update_notifications(I,U)});return function(){return qe.apply(this,arguments)}}()()}}]}).then(De=>De.present());break;case-1:case-3:case-4:case-6:D.noti.ClearNoti(E.code);try{(yield J.client.deleteNotifications(J.session,[E.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),D.update_notifications(I,U)}catch(De){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",De)}break;case-5:try{let De=yield J.client.getUsers(J.session,[E.sender_id]);if(De.users.length){let qe="";qe+=`${D.lang.text.Nakama.ReqContServer}: ${E.server.name}<br>`,qe+=`${D.lang.text.Nakama.ReqContUserName}: ${De.users[0].display_name}`,D.alertCtrl.create({header:D.lang.text.Nakama.ReqContTitle,message:qe,buttons:[{text:D.lang.text.Nakama.ReqContAccept,handler:()=>{!function(){var sr=(0,M.A)(function*(){try{(yield J.client.addGroupUsers(J.session,E.content.group_id,[De.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),D.noti.ClearNoti(E.code);try{let Ve=yield J.client.deleteNotifications(J.session,[E.id]);Ve?D.update_notifications(I,U):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Ve)}catch(Ve){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Ve)}}catch(je){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",je)}});return function(){return sr.apply(this,arguments)}}()()}},{text:D.lang.text.Nakama.ReqContReject,handler:()=>{!function(){var sr=(0,M.A)(function*(){try{(yield J.client.kickGroupUsers(J.session,E.content.group_id,[De.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield J.client.deleteNotifications(J.session,[E.id]),D.update_notifications(I,U)}catch(je){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",je)}});return function(){return sr.apply(this,arguments)}}()()},cssClass:"redfont"}]}).then(St=>St.present())}else try{(yield J.client.deleteNotifications(J.session,[E.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),D.p5toast.show({text:D.lang.text.Nakama.UserNotFound}),D.update_notifications(I,U)}catch(qe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",qe)}}catch(De){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",De)}break;case-7:D.LoginAgain(D.noti_origin,I,U);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",E.code);try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id])}catch{}D.update_notifications(I,U)}})()}act_on_notification(E,I,U){var D=this;return(0,M.A)(function*(){let J=!1;switch(E.server=D.servers[I][U].info,E.code){case 404:D.remove_server(I,U,!1);break;case xr.USER_PROFILE_CHANGED:break;case xr.USER_PROFILE_IMAGE_CHANGED:try{if(!D.users[I][U][E.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let qe=yield D.servers[I][U].client.readStorageObjects(D.servers[I][U].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:E.content.user_id}]});if(qe.objects.length)try{if(D.servers[I][U].session.user_id==E.content.user_id)throw"me";D.load_other_user(E.content.user_id,I,U).img=qe.objects[0].value.img.replace(/"|\\|=/g,""),D.indexed.saveTextFileToUserPath(D.users[I][U][E.content.user_id].img,`servers/${I}/${U}/users/${E.content.user_id}/profile.img`)}catch{D.users.self.img=qe.objects[0].value.img.replace(/"|\\|=/g,""),yield D.indexed.saveTextFileToUserPath(D.users.self.img,"servers/self/profile.img")}else try{if(D.servers[I][U].session.user_id==E.content.user_id)throw"me";delete D.users[I][U][E.content.user_id].img,D.indexed.removeFileFromUserPath(`servers/${I}/${U}/users/${E.content.user_id}/profile.img`)}catch{delete D.users.self.img}}catch(qe){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",qe)}return;case xr.MANAGE_POST:switch(E.content.type){case"add":try{let St=E.content.user_id==D.servers[I][U].session.user_id;if(!D.users[I][U][E.content.user_id]&&!St)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let sr=yield D.load_server_post_with_id(E.content.post_id,I,U,E.content.user_id,St);D.rearrange_posts(),!St&&sr&&null!=sr&&sr.title&&(D.p5toast.show({text:`${D.lang.text.AddPost.Title}: ${sr.title}`}),D.has_new_post=!0)}catch{}break;case"remove":D.RemovePost({id:E.content.post_id,creator_id:E.content.user_id,attachments:[],server:{isOfficial:I,target:U}},!0)}return;case 1:E.request=`${D.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(E.content.msg)}`;let V=decodeURIComponent(E.content.msg),ne=decodeURIComponent(E.content.uri);D.noti.PushLocal({id:E.code,title:D.servers[I][U].info.name,body:V,image:ne,smallIcon_ln:"diychat"},"global_noti_all",qe=>{let St=`<div style="text-align: center"><img src="${ne}" alt="noti_image" style="border-radius: 2px"/></div>`,sr=`<div>${D.global.HTMLEncode(V)}</div>`;D.alertCtrl.create({header:D.servers[I][U].info.name,message:new Ut.Vk(ne?St+sr:sr),buttons:[{text:D.lang.text.Nakama.LocalNotiOK,handler:()=>{!function(){var ht=(0,M.A)(function*(){try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id])}catch{}D.noti.ClearNoti(E.code),D.update_notifications(I,U)});return function(){return ht.apply(this,arguments)}}()()}}]}).then(Ve=>Ve.present())});break;case 0:E.request=`${E.code}-${E.subject}`;break;case-1:let Ne;E.request=`${E.code}-${E.subject}`,2===(E.content&&E.content.username&&(Ne=2),Ne)?D.join_chat_with_modulation(E.sender_id,Ne,I,U):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",E,Ne),E.request=`${E.code}-${E.subject}`),J=!0;try{(yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),D.update_notifications(I,U)}catch(qe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",qe)}break;case-2:case-3:E.request=`${E.code}-${E.subject}`;break;case-4:D.socket_reactive.group_detail&&D.socket_reactive.group_detail.info.id==E.content.group_id&&D.socket_reactive.group_detail.update_from_notification(E);try{D.groups[I][U][E.content.group_id].status="online"}catch{try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]),D.update_notifications(I,U)}catch{}}E.request=`${E.code}-${E.subject}`;try{let qe=yield D.servers[I][U].client.readStorageObjects(D.servers[I][U].session,{object_ids:[{collection:"group_public",key:`group_${E.content.group_id}`,user_id:D.groups[I][U][E.content.group_id].creator_id}]});qe.objects.length&&(D.groups[I][U][E.content.group_id].img=qe.objects[0].value.img,D.indexed.saveTextFileToUserPath(qe.objects[0].value.img,`servers/${I}/${U}/groups/${E.content.group_id}.img`))}catch(qe){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",qe)}try{yield D.load_groups(I,U,E.content.group_id,!0)}catch(qe){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",qe)}D.join_chat_with_modulation(E.content.group_id,3,I,U,!0),D.noti.PushLocal({id:E.code,title:`${D.groups[I][U][E.content.group_id].name}: ${D.lang.text.Nakama.LocalNotiTitle}`,body:E.subject,icon:D.groups[I][U][E.content.group_id.img],smallIcon_ln:"diychat"},void 0,qe=>{D.check_notifications(E,I,U)});break;case-5:let De=D.groups[I][U][E.content.group_id];if(De)E.request=`${D.lang.text.Nakama.ReqContTitle}: ${De.name}`;else{J=!0;try{let qe=yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]);qe?D.update_notifications(I,U):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",qe)}catch(qe){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",qe)}}D.socket_reactive.group_detail&&D.socket_reactive.group_detail.info.id==E.content.group_id&&D.socket_reactive.group_detail.update_from_notification(E),D.noti.PushLocal({id:E.code,title:`${D.groups[I][U][E.content.group_id].name}: ${D.lang.text.Nakama.ReqContTitle}`,icon:D.groups[I][U][E.content.group_id].img,smallIcon_ln:"diychat"},void 0,qe=>{D.socket_reactive.group_detail.info.id!=E.content.group_id&&D.global.ActLikeModal("group-detail",{info:D.groups[I][U][E.content.group_id],server:{isOfficial:I,target:U}})});break;case-6:E.request=`${E.code}-${E.subject}`;break;case-7:E.request=`${D.servers[I][U].info.name}: ${D.lang.text.Nakama.SessionLogout}`,D.LoginAgain(E,I,U);break;case xr.MANAGE_TODO:{const qe="add_todo";switch(E.content.type){case"add":D.servers[I][U].client.readStorageObjects(D.servers[I][U].session,{object_ids:[{collection:E.content.collection,key:E.content.key,user_id:E.content.sender_id||D.servers[I][U].session.user_id}]}).then(function(){var je=(0,M.A)(function*(Ve){if(Ve.objects.length){try{let dt,Ge=Ve.objects[0].value;try{if(dt=yield D.indexed.loadTextFromUserPath(`todo/${Ge.id}_${I}_${U}/info.todo`),!dt)throw"empty"}catch{dt=yield D.indexed.loadTextFromUserPath(`todo/${Ge.id}/info.todo`)}let Bt=JSON.parse(dt);D.removeRegisteredId(Bt.noti_id),D.noti.ClearNoti(Bt.noti_id)}catch{}yield D.modify_remote_info_as_local(Ve.objects[0].value,I,U);let ht=Ve.objects[0].value;D.noti.ClearNoti(ht.noti_id),D.set_todo_notification(ht),yield D.p5loading.update({id:qe,message:`${D.lang.text.Main.Title}: ${ht.title}`,progress:1,forceEnd:350})}});return function(Ve){return je.apply(this,arguments)}}());break;case"done":D.indexed.loadTextFromUserPath(`todo/${E.content.id}_${I}_${U}/info.todo`,function(){var je=(0,M.A)(function*(Ve,ht){if(Ve&&ht){let Ge=JSON.parse(ht);Ge.done=!0,yield D.modify_remote_info_as_local(Ge,I,U),D.indexed.GetFileListFromDB(`todo/${Ge.id}`).then(dt=>{dt.forEach(Bt=>D.indexed.removeFileFromUserPath(Bt)),D.RemoveLocalPushSchedule(Ge),D.removeRegisteredId(Ge.noti_id),D.noti.ClearNoti(Ge.noti_id),D.SyncTodoCounter(I,U)})}else D.indexed.loadTextFromUserPath(`todo/${E.content.id}/info.todo`,function(){var Ge=(0,M.A)(function*(dt,Bt){if(dt&&Bt){let ur=JSON.parse(Bt);ur.done=!0,yield D.modify_remote_info_as_local(ur,I,U),D.indexed.GetFileListFromDB(`todo/${ur.id}`).then(vr=>{vr.forEach(Pr=>D.indexed.removeFileFromUserPath(Pr)),D.RemoveLocalPushSchedule(ur),D.removeRegisteredId(ur.noti_id),D.noti.ClearNoti(ur.noti_id),D.SyncTodoCounter(I,U)})}});return function(dt,Bt){return Ge.apply(this,arguments)}}())});return function(Ve,ht){return je.apply(this,arguments)}}());break;case"delete":D.indexed.loadTextFromUserPath(`todo/${E.content.id}_${I}_${U}/info.todo`,(je,Ve)=>{if(je&&Ve){let ht=JSON.parse(Ve);D.indexed.GetFileListFromDB(`todo/${ht.id}`).then(Ge=>{Ge.forEach(dt=>D.indexed.removeFileFromUserPath(dt)),D.RemoveLocalPushSchedule(ht),D.removeRegisteredId(ht.noti_id),D.noti.ClearNoti(ht.noti_id),D.global.p5removeTodo&&D.global.p5removeTodo(JSON.stringify(ht))}),D.SyncTodoCounter(I,U)}else D.indexed.loadTextFromUserPath(`todo/${E.content.id}/info.todo`,(ht,Ge)=>{if(ht&&Ge){let dt=JSON.parse(Ge);D.indexed.GetFileListFromDB(`todo/${dt.id}`).then(Bt=>{Bt.forEach(ur=>D.indexed.removeFileFromUserPath(ur)),D.RemoveLocalPushSchedule(dt),D.removeRegisteredId(dt.noti_id),D.noti.ClearNoti(dt.noti_id),D.global.p5removeTodo&&D.global.p5removeTodo(JSON.stringify(dt))}),D.SyncTodoCounter(I,U)}})});break;case"worker":let St=E.content.isDelete;D.AddTodoManageUpdateAct&&D.AddTodoManageUpdateAct(E.content.id,E.sender_id,St,E.content.timeAt);let sr=St?D.lang.text.Main.WorkerAbandon:D.lang.text.Main.WorkerDone;yield D.p5loading.update({id:qe,message:`${sr}: ${D.GetOverrideName(E.sender_id,I,U)||D.users[I][U][E.sender_id].display_name}`,progress:1,forceEnd:350}),D.indexed.loadTextFromUserPath(`todo/${E.content.id}_${I}_${U}/info.todo`,function(){var je=(0,M.A)(function*(Ve,ht){if(Ve&&ht){let Ge=JSON.parse(ht);for(let dt=0,Bt=Ge.workers.length;dt<Bt;dt++)if((Ge.workers[dt].user_id||Ge.workers[dt].id)==E.sender_id){Ge.workers[dt].isDelete=St,Ge.workers[dt].timestamp=E.content.timeAt;break}yield D.modify_remote_info_as_local(Ge,I,U),D.SyncTodoCounter(I,U)}else D.indexed.loadTextFromUserPath(`todo/${E.content.id}/info.todo`,function(){var Ge=(0,M.A)(function*(dt,Bt){if(dt&&Bt){let ur=JSON.parse(Bt);for(let vr=0,Pr=ur.workers.length;vr<Pr;vr++)if((ur.workers[vr].user_id||ur.workers[vr].id)==E.sender_id){ur.workers[vr].isDelete=St,ur.workers[vr].timestamp=E.content.timeAt;break}yield D.modify_remote_info_as_local(ur,I,U),D.SyncTodoCounter(I,U)}});return function(dt,Bt){return Ge.apply(this,arguments)}}())});return function(Ve,ht){return je.apply(this,arguments)}}())}D.SyncTodoCounter(I,U);try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]),D.update_notifications(I,U)}catch{}}break;case xr.EDIT_PROFILE:switch(E.content.type){case"info":D.servers[I][U].client.getAccount(D.servers[I][U].session).then(qe=>{Object.keys(qe.user).forEach(sr=>D.users.self[sr]=qe.user[sr]),D.save_self_profile()});break;case"image":D.servers[I][U].client.readStorageObjects(D.servers[I][U].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D.servers[I][U].session.user_id}]}).then(qe=>{qe.objects.length?(D.indexed.saveTextFileToUserPath(JSON.stringify(qe.objects[0].value.img),"servers/self/profile.img"),D.users.self.img=qe.objects[0].value.img.replace(/"|=|\\/g,"")):D.indexed.removeFileFromUserPath("servers/self/profile.img")})}try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]),D.update_notifications(I,U)}catch{}break;case xr.ADD_CHANNEL:D.get_group_list_from_server(I,U,E.content.id);try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]),D.update_notifications(I,U)}catch{}break;case xr.NAME_OVERRIDED:D.LoadOverrideName(I,U);try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]),D.update_notifications(I,U)}catch{}break;case xr.CHATROOM_CHECKED:delete D.channels_orig[I][U][E.content.id].is_new,D.noti.ClearNoti(D.channels_orig[I][U][E.content.id].cnoti_id),D.rearrange_channels();{let qe=Object.keys(D.channels_orig[I][U]),St=!1;for(let sr of qe)if(D.channels_orig[I][U][sr].is_new){St=!0;break}St||(D.has_new_channel_msg=!1)}try{yield D.servers[I][U].client.deleteNotifications(D.servers[I][U].session,[E.id]),D.update_notifications(I,U)}catch{}break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",E),E.request=`${E.code}-${E.subject}`}J||(D.noti_origin[I][U][E.id]=E)})()}LoginAgain(E,I,U){this.alertCtrl.create({header:this.servers[I][U].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[I][U][E.id]}catch{}this.rearrange_notifications(),this.link_group(I,U,!0)}}]}).then(D=>D.present())}WriteStorage_From_channel(E,I,U,D,J=0,V){var ne=this;return(0,M.A)(function*(){let Ne=JSON.parse(JSON.stringify(E)),De=yield yield ne.indexed.GetFileInfoFromDB(I),qe=Math.ceil(De.contents.length/yt.xM);const St=V||`ForceSQL_write_${Date.now()}`;if(ne.p5loading.update({id:St,message:`${ne.lang.text.ChatRoom.forceSQL}: ${ne.lang.text.ChatRoom.SendFile}: ${Ne.content.filename}`}),ne.OnTransfer[U][D][E.channel_id]||(ne.OnTransfer[U][D][E.channel_id]={}),ne.OnTransfer[U][D][E.channel_id][E.message_id]||(ne.OnTransfer[U][D][E.channel_id][E.message_id]={index:qe}),!ne.OnTransfer[U][D][E.channel_id][E.message_id].OnTransfer){E.content.transfer_index||(E.content.transfer_index=ne.OnTransfer[U][D][E.channel_id][E.message_id]);for(let sr=J;sr<qe;sr++)try{ne.p5loading.update({id:St,message:`${ne.lang.text.ChatRoom.forceSQL}: ${ne.lang.text.ChatRoom.SendFile}: ${Ne.content.filename}`,progress:sr/qe});let je=ne.global.req_file_part_base64(De,sr,I);yield ne.servers[U][D].client.writeStorageObjects(ne.servers[U][D].session,[{collection:`file_${Ne.channel_id.replace(/[.]/g,"_")}`,key:`msg_${Ne.message_id}_${sr}`,permission_read:2,permission_write:1,value:{data:je}}]),ne.OnTransfer[U][D][E.channel_id][E.message_id].index=qe-1-sr,ne.OnTransfer[U][D][E.channel_id][E.message_id].OnTransfer="upload"}catch(je){console.log("WriteStorage_From_channel: ",je),ne.noti.PushLocal({id:7,title:ne.lang.text.Nakama.FailedUpload,body:`${Ne.content.filename}: ${je}`,smallIcon_ln:"diychat"},ne.noti.Current),ne.p5toast.show({text:`${ne.lang.text.Nakama.FailedUpload}: ${je}`});break}setTimeout(()=>{ne.p5loading.remove(St),delete ne.OnTransfer[U][D][E.channel_id][E.message_id],ne.global.remove_req_file_info(E,I),ne.noti.PushLocal({id:7,title:ne.lang.text.ChatRoom.SendFile,body:Ne.content.filename,smallIcon_ln:"diychat"},ne.noti.Current)},100)}})()}ReadStorage_From_channel(E,I,U,D,J=0){var V=this;return(0,M.A)(function*(){let ne=JSON.parse(JSON.stringify(E));const Ne=`ForceSQL_read_${Date.now()}`;if(V.p5loading.update({id:Ne,message:`${V.lang.text.ChatRoom.forceSQL}: ${V.lang.text.ChatRoom.SavingFile}: ${ne.content.filename}`}),V.OnTransfer[U][D][E.channel_id]||(V.OnTransfer[U][D][E.channel_id]={}),V.OnTransfer[U][D][E.channel_id][E.message_id]||(V.OnTransfer[U][D][E.channel_id][E.message_id]={index:ne.content.partsize}),V.OnTransfer[U][D][E.channel_id][E.message_id].OnTransfer)return;E.content.transfer_index||(E.content.transfer_index=V.OnTransfer[U][D][E.channel_id][E.message_id]);let De=!0;for(let qe=J,St=ne.content.partsize;qe<St;qe++)try{V.p5loading.update({id:Ne,progress:qe/St});let sr=yield V.servers[U][D].client.readStorageObjects(V.servers[U][D].session,{object_ids:[{collection:`file_${ne.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ne.message_id}_${qe}`,user_id:ne.sender_id}]});V.global.save_file_part(I,qe,sr.objects[0].value.data),V.OnTransfer[U][D][E.channel_id][E.message_id].index=St-1-qe,V.OnTransfer[U][D][E.channel_id][E.message_id].OnTransfer="download"}catch(sr){console.log("ReadStorage_From_channel: ",sr),De=!1,V.p5loading.update({id:Ne,message:`${V.lang.text.Nakama.FailedDownload}: ${sr}`,progress:0});break}if(De){if(E.content.url)E.content.thumbnail=E.content.url;else{E.content.text=[V.lang.text.ChatRoom.SavingFile],delete E.content.transfer_index,delete V.OnTransfer[U][D][ne.channel_id][ne.message_id].index;let St=[],sr=0;yield new Promise(function(){var je=(0,M.A)(function*(Ve){for(let ht=0,Ge=ne.content.partsize;ht<Ge;ht++)try{let dt=yield V.indexed.GetFileInfoFromDB(`${I}_part/${ht}.part`);sr+=dt.contents.length,St[ht]=dt}catch(dt){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",dt);break}try{let ht=new Int8Array(sr),Ge=0;for(let dt=0,Bt=St.length;dt<Bt;dt++)ht.set(St[dt].contents,Ge),Ge+=St[dt].contents.length;yield V.indexed.saveInt8ArrayToUserPath(ht,I);for(let dt=0,Bt=ne.content.partsize;dt<Bt;dt++)V.indexed.removeFileFromUserPath(`${I}_part/${dt}.part`);yield V.indexed.removeFileFromUserPath(`${I}_part`),V.global.remove_req_file_info(ne,I),E.content.text=[V.lang.text.ChatRoom.FileSaved]}catch(ht){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",ht)}Ve(void 0)});return function(Ve){return je.apply(this,arguments)}}()),V.noti.ClearNoti(8)}let qe;if(ne.content.path=I,"godot"!=ne.content.viewer){let St=yield V.indexed.loadBlobFromUserPath(I,E.content.type||"");qe=URL.createObjectURL(St)}yield V.global.modulate_thumbnail((V.OnTransferMessage[ne.message_id]||E).content,qe),delete V.OnTransfer[U][D][ne.channel_id][ne.message_id],delete V.OnTransferMessage[ne.message_id]}return V.p5loading.remove(Ne),De})()}sync_save_file(E,I,U,D,J=""){var V=this;return(0,M.A)(function*(){try{var ne;null!==(ne=E.blob)&&void 0!==ne&&ne.size&&(yield V.indexed.saveBlobToUserPath(E.blob,E.path));let Ne=yield V.indexed.GetFileInfoFromDB(E.path);E.partsize=Math.ceil((E.size||Ne.contents.length)/yt.xM),delete E.blob,yield V.servers[I][U].client.writeStorageObjects(V.servers[I][U].session,[{collection:D,key:J||E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:E}]);for(let De=0;De<E.partsize;De++){let qe=V.global.req_file_part_base64(Ne,De,E.path);yield V.servers[I][U].client.writeStorageObjects(V.servers[I][U].session,[{collection:D,key:J?`${J}_${De}`:E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${De}`,permission_read:2,permission_write:1,value:{data:qe}}])}V.indexed.removeFileFromUserPath(`${E.path}.history`),V.noti.PushLocal({id:7,title:V.lang.text.ChatRoom.SendFile,body:E.filename,smallIcon_ln:"diychat"},V.noti.Current)}catch(Ne){throw console.log("SyncSaveFailed: ",Ne),V.noti.PushLocal({id:7,title:V.lang.text.Nakama.FailedUpload,body:`${E.filename}: ${Ne}`,smallIcon_ln:"diychat"},V.noti.Current),Ne}})()}sync_load_file(E,I,U,D,J="",V="",ne=!0){var Ne=this;return(0,M.A)(function*(){try{let qe=(yield Ne.servers[I][U].client.readStorageObjects(Ne.servers[I][U].session,{object_ids:[{collection:D,key:V||E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:J||Ne.servers[I][U].session.user_id}]})).objects[0].value,St=!0;for(let sr=0;sr<qe.partsize;sr++)try{let je=yield Ne.servers[I][U].client.readStorageObjects(Ne.servers[I][U].session,{object_ids:[{collection:D,key:V?`${V}_${sr}`:E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${sr}`,user_id:J||Ne.servers[I][U].session.user_id}]});Ne.global.save_file_part(E.alt_path||E.path,sr,je.objects[0].value.data)}catch(je){console.log("ReadStorage_From_channel: ",je),St=!1,ne&&Ne.p5toast.show({text:`${Ne.lang.text.Nakama.FailedDownload}: ${je}`}),E.url&&(E.thumbnail=E.url);break}if(St){delete E.url,E.text=[Ne.lang.text.ChatRoom.SavingFile];let sr=[],je=0;yield new Promise(function(){var Ve=(0,M.A)(function*(ht,Ge){let dt=!1;for(let Bt=0,ur=qe.partsize;Bt<ur;Bt++)try{let vr=yield Ne.indexed.GetFileInfoFromDB(`${E.alt_path||E.path}_part/${Bt}.part`);je+=vr.contents.length,sr[Bt]=vr}catch(vr){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",vr),dt=!0;break}try{if(dt)throw"\ud30c\uc77c \ubcd1\ud569 \uc2e4\ud328";let Bt=new Int8Array(je),ur=0;for(let vr=0,Pr=sr.length;vr<Pr;vr++)Bt.set(sr[vr].contents,ur),ur+=sr[vr].contents.length;yield Ne.indexed.saveInt8ArrayToUserPath(Bt,E.alt_path||E.path);for(let vr=0,Pr=qe.partsize;vr<Pr;vr++)Ne.indexed.removeFileFromUserPath(`${E.alt_path||E.path}_part/${vr}.part`);yield Ne.indexed.removeFileFromUserPath(`${E.alt_path||E.path}_part`)}catch(Bt){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Bt),Ge()}ht(void 0)});return function(ht,Ge){return Ve.apply(this,arguments)}}()),Ne.noti.ClearNoti(8),Ne.indexed.removeFileFromUserPath(`${E.alt_path||E.path}.history`)}return{from:"remote",value:yield Ne.indexed.loadBlobFromUserPath(E.alt_path||E.path,qe.type||"")}}catch{try{return{from:"local",value:yield Ne.indexed.loadBlobFromUserPath(E.alt_path||E.path,E.type||"")}}catch(qe){return{from:"failed",value:null,error:qe}}}})()}sync_remove_file(E,I,U,D,J="",V=""){var ne=this;return(0,M.A)(function*(){try{yield ne.indexed.removeFileFromUserPath(E)}catch{}try{let De=(yield ne.servers[I][U].client.readStorageObjects(ne.servers[I][U].session,{object_ids:[{collection:D,key:E.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:J||ne.servers[I][U].session.user_id}]})).objects[0].value;try{yield ne.servers[I][U].client.rpc(ne.servers[I][U].session,"remove_channel_file",{collection:D,key:(V||De.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch(qe){console.log("SQL \uac15\uc81c \ud30c\uc77c \uc0ad\uc81c \uc624\ub958: ",qe)}yield ne.servers[I][U].client.deleteStorageObjects(ne.servers[I][U].session,{object_ids:[{collection:D,key:V||De.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}open_url_link(E,I=!0){var U=this;return(0,M.A)(function*(){const D=U.global.GetConnectedAddress(),J=yield U.global.GetHeaderAddress();if(0==E.indexOf("https://is2you2.github.io/pjcone_pwa/?")||0==E.indexOf(`${D}?`)||0==E.indexOf(`${J}?`)){const V=U.global.CatchGETs(E)||{};try{return yield U.AddressToQRCodeAct(V),!0}catch(ne){console.log("open_url_link: ",ne),U.p5toast.show({text:`${U.lang.text.AddGroup.DiffFormat}: ${ne}`})}}else I&&U.global.open_link(E);return!1})()}AddressToQRCodeAct(E,I=!1){var U=this;return(0,M.A)(function*(){let D=[];if(E.open_profile&&D.push({type:"open_profile"}),E.server)for(let J=0,V=E.server.length;J<V;J++){let ne=E.server[J].split(","),De=ne[0].split("://"),qe="https"==De.shift(),St=De.shift().split(":"),sr=St[0],je=Number(St[1]);D.push({type:"server",value:{address:sr||"192.168.0.1",useSSL:qe||!1,nakama_port:je,cdn_port:ne[2],apache_port:ne[3],square_port:ne[4],webrtc_port:ne[5],key:ne[1]||"",isOfficial:"unofficial"}})}if(E.group)for(let J=0,V=E.group.length;J<V;J++){let ne=E.group[J].split(",");D.push({type:"group",name:ne[0],id:ne[1]})}if(E.group_dedi){let J=E.group_dedi[0].split(",");D.push({type:"group_dedi",value:{address:J[0],channel:J[1]}})}if(E.open_prv_channel){let J=E.open_prv_channel[0].split(",");D.push({type:"open_prv_channel",user_id:J[0],address:J[1]})}if(E.open_channel){let J=E.open_channel[0].split(",");D.push({type:"open_channel",group_id:J[0],address:J[1]})}if(E.rtcserver)for(let J=0,V=E.rtcserver.length;J<V;J++){let ne=E.rtcserver[J].split("]"),Ne=ne[0].split("[")[1],De=ne[1].split(",");D.push({type:"rtcserver",value:{urls:Ne.split(","),username:De[1],credential:De[2]}})}if(E.voidDraw){let J=E.voidDraw[0].split(",");D.push({type:"voidDraw",address:J[0],channel:J[1],port:J[2],username:J[3],password:J[4]})}if(E.postViewer&&D.push({type:"postViewer",address:E.postViewer[0]}),E.fileviewer){let J=E.fileviewer[0].split(",");D.push({type:"fileviewer",url:J[0],viewer:J[1]})}if(E.instc){let J=E.instc[0].split(",");D.push({type:"instc",address:J[0],channel:J[1],port:J[2],username:J[3],password:J[4],square_port:J[5]})}if(E.arcade){let J=E.arcade[0].split(",");D.push({type:"arcade",server:J[0],socketId:J[1]})}if(I)return D;yield U.act_from_QRInfo(D)})()}GenerateQRCode(E){var I=this;return(0,M.A)(function*(){return`${yield I.global.GetHeaderAddress()}?server=${E.useSSL?"https":"http"}://${E.address||""}${E.nakama_port?`:${E.nakama_port}`:""},${E.key||""},${E.cdn_port||""},${E.apache_port||""},${E.square_port||""},${E.webrtc_port||""}`.replace(/ /g,"%20")})()}act_from_QRInfo(E,I=""){var U=this;return(0,M.A)(function*(){for(let D=0,J=20;D<J&&!U.lang.text.WebRTCDevManager.SecurityError;D++)yield new Promise(V=>setTimeout(V,1e3));for(let D=0,J=E.length;D<J;D++)switch(E[D].type){case"open_profile":U.open_profile_page();break;case"server":if(!U.CheckIfHasServer(`${E[D].value.useSSL?"https":"http"}://${E[D].value.address}:${E[D].value.port||7350}`)){let De=!1;U.global.PageDismissAct["quick-server-detail"]=()=>{U.global.RestoreShortCutAct("quick-server-detail"),delete U.global.PageDismissAct["quick-server-detail"],De=!0},U.global.StoreShortCutAct("quick-server-detail"),U.global.ActLikeModal("server-detail",{data:E[D].value}),U.p5toast.show({text:U.lang.text.Nakama.AddNewServer}),yield function(){var St=(0,M.A)(function*(){for(;!De;)yield new Promise(sr=>setTimeout(sr,0))});return function(){return St.apply(this,arguments)}}()()}break;case"group_dedi":yield U.global.RemoveAllModals(),U.navCtrl.navigateForward("minimal-chat",{animation:Ut.V5,state:{address:E[D].value.address,channel:E[D].value.channel,quick:!0}});break;case"group":U.AfterLoginActDone?yield U.try_add_group(E[D]):U.AfterLoginAct.push((0,M.A)(function*(){yield U.try_add_group(E[D])}));break;case"open_prv_channel":{let De=U.CheckIfHasServer(E[D].address);if(De)if(U.AfterLoginActDone){let qe=yield U.join_chat_with_modulation(E[D].user_id,2,De.isOfficial,De.target,!0);U.go_to_chatroom(qe)}else U.AfterLoginAct.push((0,M.A)(function*(){let qe=yield U.join_chat_with_modulation(E[D].user_id,2,De.isOfficial,De.target,!0);U.go_to_chatroom(qe)})),U.p5toast.show({text:U.lang.text.Nakama.NeedLogin}),U.open_profile_page();else U.p5toast.show({text:U.lang.text.Nakama.NoLoginServer})}break;case"open_channel":{let De=U.CheckIfHasServer(E[D].address);if(De)if(U.AfterLoginActDone){let qe=yield U.join_chat_with_modulation(E[D].group_id,3,De.isOfficial,De.target,!0);U.go_to_chatroom(qe)}else U.AfterLoginAct.push((0,M.A)(function*(){let qe=yield U.join_chat_with_modulation(E[D].group_id,3,De.isOfficial,De.target,!0);U.go_to_chatroom(qe)})),U.p5toast.show({text:U.lang.text.Nakama.NeedLogin}),U.open_profile_page();else U.p5toast.show({text:U.lang.text.Nakama.NoLoginServer})}break;case"rtcserver":U.SaveWebRTCServer(E[D].value);break;case"voidDraw":U.global.PageDismissAct["voiddraw-remote"]=()=>{delete U.global.PageDismissAct["voiddraw-remote"]},U.global.ActLikeModal(I+"void-draw",{remote:{address:E[D].address,channel:E[D].channel,port:E[D].port,username:E[D].username,password:E[D].password},dismiss:"voiddraw-remote"});break;case"postViewer":let Ne=yield fetch(E[D].address);if(Ne.ok){let De=yield Ne.text(),qe=JSON.parse(De);U.open_post(qe,-2,I)}else U.p5toast.show({text:`${U.lang.text.AddPost.NoPostOutLink}: ${Ne.statusText}`});break;case"instc":U.global.RemoveAllModals(()=>{U.navCtrl.navigateForward(I+"instant-call",{animation:Ut.NC,state:{address:E[D].address,channel:E[D].channel,port:E[D].port,username:E[D].username,password:E[D].password,square_port:E[D].square_port}})});break;case"arcade":U.global.JoinArcadeWithSocketInfo(E[D]);break;case"fileviewer":U.global.PageDismissAct["quick-fileviewer"]=De=>{delete U.global.PageDismissAct["quick-fileviewer"]},U.global.ActLikeModal(I+"ionic-viewer",{info:{content:{filename:E[D].url.split("/").pop(),file_ext:E[D].url.split(".").pop(),url:E[D].url,viewer:E[D].viewer}},relevance:[{content:{filename:E[D].url.split("/").pop(),file_ext:E[D].url.split(".").pop(),url:E[D].url,viewer:E[D].viewer}}],noEdit:!0,noTextEdit:!0,quick:!0,dismiss:"quick-fileviewer"});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}CheckIfHasServer(E){let I=!1;try{let U=E.split("://"),D="https"==U.shift(),J=U.shift().split(":"),V=J[0],ne=Number(J[1]),Ne=this.get_all_server_info(!0);for(let De of Ne)if(De.address==V&&De.useSSL==D&&(De.nakama_port||7350)==ne){I=De;break}}catch{}return I}load_local_post_with_id(E,I,U,D){var J=this;return(0,M.A)(function*(){let V=yield J.indexed.loadTextFromUserPath(`servers/${I}/${U}/posts/${D}/${E}/info.json`);try{try{if(J.posts_orig[I][U][D][E])throw"exist"}catch(Ne){if("exist"==Ne)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let ne=JSON.parse(V);try{ne.server={name:J.servers[I][U].info.name,isOfficial:I,target:U}}catch{ne.server={name:J.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0}}if(ne.mainImage)try{if(ne.mainImage.url)ne.mainImage.thumbnail=ne.mainImage.url;else{let Ne=yield J.indexed.loadBlobFromUserPath(ne.mainImage.path,ne.mainImage.type);ne.mainImage.blob=Ne;const De=URL.createObjectURL(Ne);ne.mainImage.thumbnail=De,setTimeout(()=>{URL.revokeObjectURL(De)},5e3)}}catch{}return J.posts_orig[I][U][D][E]=ne,!0}catch{return!1}})()}GetOverrideName(E,I,U){let D;try{D=this.usernameOverride[I][U][E]}catch{}return D}SaveOverrideName(E,I,U,D){var J=this;return(0,M.A)(function*(){I?J.usernameOverride[U][D][E]=I:delete J.usernameOverride[U][D][E];let V=JSON.stringify(J.usernameOverride[U][D]),Ne={blob:new Blob([V],{type:"application/json"}),path:`servers/${U}/${D}/users/override_name.json`};yield J.sync_save_file(Ne,U,D,"usernameOverride","override");try{yield J.servers[U][D].client.rpc(J.servers[U][D].session,"send_noti_fn",{receiver_id:J.servers[U][D].session.user_id,title:"name_overrided",content:{},code:xr.NAME_OVERRIDED,persistent:!1})}catch{}})()}LoadOverrideName(E,I){var U=this;return(0,M.A)(function*(){let D={path:`servers/${E}/${I}/users/override_name.json`},J=yield U.sync_load_file(D,E,I,"usernameOverride",void 0,"override",!1);if(J.value){let V=yield J.value.text(),ne=JSON.parse(V),Ne=Object.keys(ne);U.usernameOverride[E][I]={};for(let De of Ne)U.usernameOverride[E][I][De]=ne[De]}})()}LoadOverridesOffline(){var E=this;return(0,M.A)(function*(){let I=yield E.indexed.GetFileListFromDB("override_name.json");for(let U of I)try{let D=U.split("/");E.usernameOverride[D[1]]||(E.usernameOverride[D[1]]={}),E.usernameOverride[D[1]][D[2]]||(E.usernameOverride[D[1]][D[2]]={});let V=yield(yield E.indexed.loadBlobFromUserPath(U,"")).text(),ne=JSON.parse(V);E.usernameOverride[D[1]][D[2]]=ne}catch{}})()}load_server_post_with_id(E,I,U,D,J){var V=this;return(0,M.A)(function*(){let ne;try{let De={path:`servers/${I}/${U}/posts/${D}/${E}/info.json`,type:"application/json"},qe=yield V.sync_load_file(De,I,U,"server_post",D,E,!1),St=yield qe.value.text();ne=JSON.parse(St),ne.is_me=J;let sr=new Blob([JSON.stringify(ne)],{type:"application/json"});if(ne.OutSource&&!ne.is_me)throw"\ub2e4\ub978 \uc0ac\ub78c\uc758 \uc678\ubd80 \uac8c\uc2dc\ubb3c \uc815\ubcf4 \ubb34\uc2dc";V.indexed.saveBlobToUserPath(sr,De.path),ne.server={isOfficial:I,target:U};try{ne.server.name=V.servers[I][U].info.name}catch{ne.server.name=V.lang.text.Nakama.DeletedServer}if(ne.mainImage)if(ne.mainImage.url)ne.mainImage.thumbnail=ne.mainImage.url;else{let je={path:ne.mainImage.path,alt_path:`servers/${I}/${U}/posts/${D}/${E}/MainImage.png`,type:"image/png"},ht=(yield V.sync_load_file(je,I,U,"server_post",D,`${E}_mainImage`,!1)).value;ne.mainImage.blob=ht;const Ge=URL.createObjectURL(ht);ne.mainImage.thumbnail=Ge,setTimeout(()=>{URL.revokeObjectURL(Ge)},5e3)}try{ne.creator_name=V.load_other_user(D,I,U).display_name||ne.creator_name}catch{}if(V.posts_orig[I]||(V.posts_orig[I]={}),V.posts_orig[I][U]||(V.posts_orig[I][U]={}),V.posts_orig[I][U][D]||(V.posts_orig[I][U][D]={}),("deleted"!=I||ne.is_me)&&(V.posts_orig[I][U][D][E]=ne),"local"==qe.from)try{if(!(yield V.servers[I][U].client.readStorageObjects(V.servers[I][U].session,{object_ids:[{collection:"server_post",key:E,user_id:D}]})).objects.length)throw"Not RemoteExist"}catch(je){if("Not RemoteExist"==je)throw"RemoveSelf"}return ne}catch(De){var Ne;return"RemoveSelf"==De?V.RemovePost(V.posts_orig[I][U][D][E],!0):ne&&null!==(Ne=ne)&&void 0!==Ne&&Ne.creator_id&&((yield V.indexed.GetFileListFromDB(`servers/${I}/${U}/posts/${ne.creator_id}/${ne.id}`)).forEach(St=>V.indexed.removeFileFromUserPath(St)),delete V.posts_orig[I][U][D][E],V.rearrange_posts()),!1}})()}deserialize_text(E){let I="";if(!E.content.msg)return I;for(let U=0,D=E.content.msg.length;U<D;U++){for(let J=0,V=E.content.msg[U].length;J<V;J++)I+=E.content.msg[U][J].text;U+1<D&&(I+="\n")}return I}load_posts_counter(){var E=this;return(0,M.A)(function*(){let I={};try{let J=yield E.indexed.loadTextFromUserPath("servers/post_counter.json"),V=JSON.parse(J);I=J,E.post_counter=V}catch{}let U=Number(yield E.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;E.post_counter.local.target.me=U;let D=E.get_all_server_info(!0,!0);for(let J=0,V=D.length;J<V;J++){let ne=D[J].isOfficial,Ne=D[J].target;E.post_counter[ne][Ne]||(E.post_counter[ne][Ne]={});try{let De=yield E.servers[ne][Ne].client.readStorageObjects(E.servers[ne][Ne].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:E.servers[ne][Ne].session.user_id}]}),qe=0;De.objects.length&&(qe=De.objects[0].value.counter),E.post_counter[ne][Ne][E.servers[ne][Ne].session.user_id]=qe}catch(De){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",De)}if(E.users[ne][Ne]){let De=Object.keys(E.users[ne][Ne]);for(let qe=0,St=De.length;qe<St;qe++)try{let sr=yield E.servers[ne][Ne].client.readStorageObjects(E.servers[ne][Ne].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:De[qe]}]}),je=0;sr.objects.length&&(je=sr.objects[0].value.counter),E.post_counter[ne][Ne][De[qe]]=je;try{if(!E.posts_orig[ne][Ne])throw"\uc544\uc9c1 \uc900\ube44\ub418\uc9c0 \uc54a\uc74c";let Ve=Object.keys(E.posts_orig[ne][Ne][De[qe]]);for(let ht of Ve){let dt=(yield E.servers[ne][Ne].client.readStorageObjects(E.servers[ne][Ne].session,{object_ids:[{collection:"server_post",key:ht,user_id:De[qe]}]})).objects[0].value,Bt=yield E.sync_load_file(dt,ne,Ne,"server_post",De[qe],ht,!1);if("remote"!==Bt.from)throw ht;{let vr=yield Bt.value.text();JSON.parse(vr).OutSource&&delete E.posts_orig[ne][Ne][De[qe]][ht]}}}catch(Ve){try{delete E.posts_orig[ne][Ne][De[qe]][Ve]}catch{}}}catch{delete E.post_counter[ne][Ne][De[qe]]}E.rearrange_posts()}I!=JSON.stringify(E.post_counter)&&(yield E.save_post_counter(),E.has_new_post=!0)}})()}save_post_counter(){var E=this;return(0,M.A)(function*(){yield E.indexed.saveTextFileToUserPath(JSON.stringify(E.post_counter),"servers/post_counter.json")})()}}return(X=pe).\u0275fac=function(E){return new(E||X)(Nt.KVO(dr.G),Nt.KVO(ft.j),Nt.KVO(Dt.n),Nt.KVO(er.r),Nt.KVO(Yt.hG),Nt.KVO(yr.y),Nt.KVO(yt.z3),Nt.KVO(lr.q9),Nt.KVO(wr.f))},X.\u0275prov=Nt.jDH({token:X,factory:X.\u0275fac,providedIn:"root"}),pe})()},3307:(Dr,rr,_e)=>{"use strict";_e.d(rr,{f:()=>ie});var M=_e(467),A=_e(8326),Et=_e(3953),o=_e(4234);let ie=(()=>{var $;class v{constructor(f){this.lang=f,this.loadingStack={},this.stackKeys=[],this.queued=[]}create(f){var m=this;return(0,M.A)(function*(){m.CurrentLoading?m.AddLoadingInfo?m.AddLoadingInfo(f):m.queued.push(f):yield new Promise(w=>{m.CurrentLoading=new A(_=>{_.setup=()=>{_.noCanvas(),m.parentDiv=_.createDiv(),m.parentDiv.style("position: absolute; left: 0; top: 0; z-index: 1"),m.parentDiv.style("width: 100%; height: fit-content"),m.parentDiv.style("padding: 16px;"),m.parentDiv.style("display: flex; flex-direction: column"),m.parentDiv.style("gap: 8px"),m.parentDiv.style("justify-content: center;"),m.parentDiv.style("pointer-events: none"),m.AddLoadingInfo=a=>{m.loadingStack[a.id]=a,m.stackKeys=Object.keys(m.loadingStack);const l=_.createDiv();m.loadingStack[a.id].element=l,l.style("width: 100%; height: fit-content"),l.style("word-break: break-all"),l.style("background: var(--toast-background-color)"),l.style("border-radius: 32px"),l.style("padding: 8px"),l.style("color: white"),l.parent(m.parentDiv);const u=_.createDiv();u.style("display: flex; flex-direction: row;"),u.parent(l);const d=_.createImg(a.image,"ld_img");d.style("width: 32px; height: 32px;"),d.style("margin-left: 8px"),d.style("object-fit: cover"),d.style("border-radius: 24px;"),a.image||d.hide(),a.imageElement=d,d.parent(u);const h=_.createDiv();h.style("display: flex; flex-direction: row;"),h.style("gap: 4px"),h.style("overflow: hidden"),h.style("flex-grow: 1"),h.style("align-items: center"),h.style("margin-right: 8px"),h.parent(u);const g=_.createDiv(a.message||m.lang.text.TodoDetail.WIP);g.style("margin-left: 16px"),g.style("flex-grow: 1"),g.style("overflow: hidden"),g.style("white-space: nowrap"),g.style("text-overflow: ellipsis"),a.messageElement=g,g.parent(h);const p=_.createDiv();p.style("width: 24px; height: 24px;"),p.style("flex-shrink: 0"),p.style("border-radius: 50%"),null===a.progress&&(a.progress=void 0);const y=Math.floor(100*a.progress)||0;p.style(`background: conic-gradient(var(--loading-done-color) 0% ${y}%, var(--loading-waiting-color) ${y}% 100%)`),a.progressElement=p,a.nullProgress=0,p.parent(h),a.fade=0,null===a.forceEnd&&delete a.forceEnd},m.AddLoadingInfo(f),w(void 0)},_.draw=()=>{for(let a=m.queued.length-1;a>=0;a--)m.AddLoadingInfo(m.queued[a]),m.queued.splice(a,1);for(let a of m.stackKeys){if(void 0===m.loadingStack[a].progress){m.loadingStack[a].nullProgress=(m.loadingStack[a].nullProgress+2)%120;const l=m.loadingStack[a].nullProgress;m.loadingStack[a].progressElement.style(`background: conic-gradient(var(--loading-waiting-color) 0% ${l-20}%, var(--loading-done-color) ${l-20}% ${l}%, var(--loading-waiting-color) ${l}% 100%)`)}void 0!==m.loadingStack[a].forceEnd&&m.loadingStack[a].forceEnd>0&&(m.loadingStack[a].forceEnd-=7),m.loadingStack[a].forceEnd<=0?m.loadingStack[a].fade>0?(m.loadingStack[a].fade-=.07,m.loadingStack[a].element.style(`opacity: ${m.loadingStack[a].fade}`),m.loadingStack[a].fade<=0&&(m.loadingStack[a].element.remove(),delete m.loadingStack[a],m.stackKeys=Object.keys(m.loadingStack))):(m.loadingStack[a].element.remove(),delete m.loadingStack[a],m.stackKeys=Object.keys(m.loadingStack)):m.loadingStack[a].fade<1&&(m.loadingStack[a].fade+=.07,m.loadingStack[a].fade>=1&&(m.loadingStack[a].fade=1),m.loadingStack[a].element.style(`opacity: ${m.loadingStack[a].fade}`))}m.stackKeys.length||i()};let i=()=>{_.remove(),m.parentDiv=null,m.CurrentLoading=null,m.AddLoadingInfo=null,m.stackKeys.length=0}})})})()}update(f,m=!1){var w=this;return(0,M.A)(function*(){if(w.stackKeys.includes(f.id)){if(void 0!==f.forceEnd&&(null===f.forceEnd?w.loadingStack[f.id].forceEnd=void 0:(w.loadingStack[f.id].forceEnd=f.forceEnd,w.loadingStack[f.id].progress&&(w.loadingStack[f.id].progress=1,w.loadingStack[f.id].progressElement.style("background: conic-gradient(var(--loading-done-color) 0% 100%")))),void 0!==f.message&&(null===f.message?(delete w.loadingStack[f.id],w.loadingStack[f.id].messageElement.html()):(w.loadingStack[f.id].message=f.message,w.loadingStack[f.id].messageElement.html(f.message))),void 0!==f.progress)if(null===f.progress)delete w.loadingStack[f.id].progress;else{w.loadingStack[f.id].progress=f.progress;const _=Math.floor(100*f.progress);w.loadingStack[f.id].progressElement.style(`background: conic-gradient(var(--loading-done-color) 0% ${_}%, var(--loading-waiting-color) ${_}% 100%)`)}void 0!==f.image&&(null===f.image?(delete w.loadingStack[f.id].image,w.loadingStack[f.id].imageElement.hide(),w.loadingStack[f.id].imageElement.removeAttribute("src")):(w.loadingStack[f.id].image=f.image,w.loadingStack[f.id].imageElement.attribute("src",f.image),w.loadingStack[f.id].imageElement.show()))}else m||(yield w.create(f))})()}toast(f,m,w=1e3){const _=m||`AsToast_${Date.now()}`;this.update({id:_,message:f,forceEnd:w})}remove(f){this.update({id:f,forceEnd:350},!0)}}return($=v).\u0275fac=function(f){return new(f||$)(Et.KVO(o.y))},$.\u0275prov=Et.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),v})()},9900:(Dr,rr,_e)=>{"use strict";_e.d(rr,{G:()=>ie});var M=_e(8326),et=_e(482),Et=_e(3953),o=function($){return $[$.Idle=0]="Idle",$[$.DivFadeIn=1]="DivFadeIn",$[$.BorderAlert=2]="BorderAlert",$[$.Reading=3]="Reading",$[$.FadeOut=4]="FadeOut",$}(o||{});let ie=(()=>{var $;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(f){let m;f.time=(new Date).getTime(),f.lateable||(this.AlertNow=f,this.status=o.DivFadeIn),this.alert.length&&(m=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==f.text?this.status=o.DivFadeIn:m&&m.text==f.text||this.alert.push(f),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new M(_=>{let i,a,l,u=0,d=0,h=0;_.setup=()=>{_.noCanvas(),i=_.createDiv(),i.style("position: absolute; left: 0; top: 0; z-index: 2"),i.style("width: 100%; height: fit-content"),i.style("padding: 32px;"),i.style("display: flex; justify-content: center;"),i.style("pointer-events: none"),g(),l=_.createDiv(),l.parent(i),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("border-radius: 24px"),l.style("background: var(--toast-background-color)"),l.style("padding: 4px"),a=_.createDiv(),a.parent(l),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("word-break: break-all"),a.style("background: var(--toast-background-color)"),a.style("border-radius: 20px"),a.style("padding: 12px"),a.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),a.html(this.HTMLEncode(this.AlertNow.text)),p(),this.status=o.DivFadeIn},_.draw=()=>{switch(this.status){case o.DivFadeIn:u<1?u+=1:(u=1,d=1,this.status=o.BorderAlert,a.html(this.HTMLEncode(this.AlertNow.text)));break;case o.BorderAlert:if(d>0)d-=.03;else{let C;d=0,C=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,h=_.millis()+C+960,this.status=o.Reading}break;case o.Reading:_.millis()>h&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),a.html(this.HTMLEncode(this.AlertNow.text)),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:u>0?u-=.04:y()}g(),p()};let g=()=>{i.style(`opacity: ${u}`)},p=()=>{let C=_.lerpColor(_.color("#"+(et.ud?"30564e88":"b9543788")),_.color("#ffd94ebb"),d).levels;l.style(`padding: ${4*d}px`),a.style(`padding: ${_.lerp(16,12,d)}px`),a.style(`border-radius: ${_.lerp(24,20,d)}px`),l.style(`background: rgba(${C[0]}, ${C[1]}, ${C[2]}, ${C[3]/255})`)},y=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=null,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return($=v).\u0275fac=function(f){return new(f||$)},$.\u0275prov=Et.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),v})()},8065:(Dr,rr,_e)=>{"use strict";_e.d(rr,{j:()=>A});var M=_e(3953);let A=(()=>{var et;class Et{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(et=Et).\u0275fac=function(ie){return new(ie||et)},et.\u0275prov=M.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),Et})()},3419:(Dr,rr,_e)=>{"use strict";var M=_e(345),A=_e(3953),et=_e(9858),Et=_e(3656),o=_e(5374),ie=_e(92);const $=[{path:"",loadChildren:()=>_e.e(6035).then(_e.bind(_e,6035)).then(_t=>_t.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([_e.e(2076),_e.e(5502)]).then(_e.bind(_e,5502)).then(_t=>_t.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>_e.e(4722).then(_e.bind(_e,4722)).then(_t=>_t.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>_e.e(6556).then(_e.bind(_e,6556)).then(_t=>_t.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>_e.e(36).then(_e.bind(_e,36)).then(_t=>_t.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([_e.e(2076),_e.e(8163)]).then(_e.bind(_e,8163)).then(_t=>_t.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([_e.e(2076),_e.e(6134)]).then(_e.bind(_e,6134)).then(_t=>_t.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>Promise.all([_e.e(222),_e.e(526)]).then(_e.bind(_e,526)).then(_t=>_t.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>_e.e(9406).then(_e.bind(_e,9406)).then(_t=>_t.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>_e.e(5436).then(_e.bind(_e,5436)).then(_t=>_t.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([_e.e(4020),_e.e(8180)]).then(_e.bind(_e,8180)).then(_t=>_t.PortalPageModule)},{path:"group-detail",loadChildren:()=>_e.e(3267).then(_e.bind(_e,3267)).then(_t=>_t.GroupDetailPageModule)},{path:"instant-call",loadChildren:()=>Promise.all([_e.e(4020),_e.e(6524),_e.e(2076)]).then(_e.bind(_e,6524)).then(_t=>_t.InstantCallPageModule)},{path:"add-group",loadChildren:()=>_e.e(7601).then(_e.bind(_e,7601)).then(_t=>_t.AddGroupPageModule)},{path:"void-draw",loadChildren:()=>Promise.all([_e.e(4020),_e.e(2655)]).then(_e.bind(_e,2655)).then(_t=>_t.VoidDrawPageModule)},{path:"ionic-viewer",loadChildren:()=>Promise.all([_e.e(4803),_e.e(222)]).then(_e.bind(_e,4803)).then(_t=>_t.IonicViewerPageModule)},{path:"server-detail",loadChildren:()=>_e.e(3456).then(_e.bind(_e,3456)).then(_t=>_t.ServerDetailPageModule)}];let v=(()=>{var _t;class Mt{}return(_t=Mt).\u0275fac=function(tr){return new(tr||_t)},_t.\u0275mod=A.$C({type:_t}),_t.\u0275inj=A.G2t({imports:[et.iI.forRoot($,{preloadingStrategy:et.Kp}),et.iI]}),Mt})();var b=_e(177),f=_e(9030),m=_e(8810),w=_e(3726),_=_e(7673),i=_e(8793),a=_e(1413),l=_e(1985),u=_e(5343);const d=new l.c(u.l);var g=_e(6365),p=_e(8750),y=_e(983),C=_e(9326),H=_e(6648);function B(..._t){const Mt=(0,C.lI)(_t),Xt=(0,C.R0)(_t,1/0),tr=_t;return tr.length?1===tr.length?(0,p.Tg)(tr[0]):(0,g.U)(Xt)((0,H.H)(tr,Mt)):y.w}var R=_e(6354),P=_e(5964),k=_e(5558),T=_e(17),N=_e(8071),j=_e(9974);const ee={connector:()=>new a.B};function z(_t,Mt=ee){const{connector:Xt}=Mt;return(0,j.N)((tr,Rt)=>{const vt=Xt();(0,p.Tg)(_t(function Z(_t){return new l.c(Mt=>_t.subscribe(Mt))}(vt))).subscribe(Rt),Rt.add(tr.subscribe(vt))})}var G=_e(6697),Y=_e(8141),le=_e(8359);class Me extends le.yU{constructor(Mt,Xt){super()}schedule(Mt,Xt=0){return this}}const K={setInterval(_t,Mt,...Xt){const{delegate:tr}=K;return null!=tr&&tr.setInterval?tr.setInterval(_t,Mt,...Xt):setInterval(_t,Mt,...Xt)},clearInterval(_t){const{delegate:Mt}=K;return((null==Mt?void 0:Mt.clearInterval)||clearInterval)(_t)},delegate:void 0};var O=_e(7908);const me={now:()=>(me.delegate||Date).now(),delegate:void 0};class Se{constructor(Mt,Xt=Se.now){this.schedulerActionCtor=Mt,this.now=Xt}schedule(Mt,Xt=0,tr){return new this.schedulerActionCtor(this,Mt).schedule(tr,Xt)}}Se.now=me.now;const Xe=new class Ue extends Se{constructor(Mt,Xt=Se.now){super(Mt,Xt),this.actions=[],this._active=!1}flush(Mt){const{actions:Xt}=this;if(this._active)return void Xt.push(Mt);let tr;this._active=!0;do{if(tr=Mt.execute(Mt.state,Mt.delay))break}while(Mt=Xt.shift());if(this._active=!1,tr){for(;Mt=Xt.shift();)Mt.unsubscribe();throw tr}}}(class oe extends Me{constructor(Mt,Xt){super(Mt,Xt),this.scheduler=Mt,this.work=Xt,this.pending=!1}schedule(Mt,Xt=0){var tr;if(this.closed)return this;this.state=Mt;const Rt=this.id,vt=this.scheduler;return null!=Rt&&(this.id=this.recycleAsyncId(vt,Rt,Xt)),this.pending=!0,this.delay=Xt,this.id=null!==(tr=this.id)&&void 0!==tr?tr:this.requestAsyncId(vt,this.id,Xt),this}requestAsyncId(Mt,Xt,tr=0){return K.setInterval(Mt.flush.bind(Mt,this),tr)}recycleAsyncId(Mt,Xt,tr=0){if(null!=tr&&this.delay===tr&&!1===this.pending)return Xt;null!=Xt&&K.clearInterval(Xt)}execute(Mt,Xt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const tr=this._execute(Mt,Xt);if(tr)return tr;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Mt,Xt){let Rt,tr=!1;try{this.work(Mt)}catch(vt){tr=!0,Rt=vt||new Error("Scheduled action threw falsy error")}if(tr)return this.unsubscribe(),Rt}unsubscribe(){if(!this.closed){const{id:Mt,scheduler:Xt}=this,{actions:tr}=Xt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.o)(tr,this),null!=Mt&&(this.id=this.recycleAsyncId(Xt,Mt,null)),this.delay=null,super.unsubscribe()}}}),lt=Xe;var ze=_e(4360),at=_e(3703),Fe=_e(1397);function nt(_t,Mt){return Mt?Xt=>(0,i.x)(Mt.pipe((0,G.s)(1),function st(){return(0,j.N)((_t,Mt)=>{_t.subscribe((0,ze._)(Mt,u.l))})}()),Xt.pipe(nt(_t))):(0,Fe.Z)((Xt,tr)=>(0,p.Tg)(_t(Xt,tr)).pipe((0,G.s)(1),(0,at.u)(Xt)))}var Ye=_e(9470);const kt="Service workers are disabled or not supported by this browser";class Vt{constructor(Mt){if(this.serviceWorker=Mt,Mt){const tr=(0,w.R)(Mt,"controllerchange").pipe((0,R.T)(()=>Mt.controller)),Rt=(0,f.v)(()=>(0,_.of)(Mt.controller)),vt=(0,i.x)(Rt,tr);this.worker=vt.pipe((0,P.p)(ft=>!!ft)),this.registration=this.worker.pipe((0,k.n)(()=>Mt.getRegistration()));const dr=(0,w.R)(Mt,"message").pipe((0,R.T)(ft=>ft.data)).pipe((0,P.p)(ft=>ft&&ft.type)).pipe(function W(_t){return _t?Mt=>z(_t)(Mt):Mt=>function te(_t,Mt){const Xt=(0,N.T)(_t)?_t:()=>_t;return(0,N.T)(Mt)?z(Mt,{connector:Xt}):tr=>new T.G(tr,Xt)}(new a.B)(Mt)}());dr.connect(),this.events=dr}else this.worker=this.events=this.registration=function ar(_t){return(0,f.v)(()=>(0,m.$)(new Error(_t)))}(kt)}postMessage(Mt,Xt){return this.worker.pipe((0,G.s)(1),(0,Y.M)(tr=>{tr.postMessage({action:Mt,...Xt})})).toPromise().then(()=>{})}postMessageWithOperation(Mt,Xt,tr){const Rt=this.waitForOperationCompleted(tr),vt=this.postMessage(Mt,Xt);return Promise.all([vt,Rt]).then(([,Ut])=>Ut)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Mt){let Xt;return Xt="string"==typeof Mt?tr=>tr.type===Mt:tr=>Mt.includes(tr.type),this.events.pipe((0,P.p)(Xt))}nextEventOfType(Mt){return this.eventsOfType(Mt).pipe((0,G.s)(1))}waitForOperationCompleted(Mt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,P.p)(Xt=>Xt.nonce===Mt),(0,G.s)(1),(0,R.T)(Xt=>{if(void 0!==Xt.result)return Xt.result;throw new Error(Xt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let cr=(()=>{var _t;class Mt{get isEnabled(){return this.sw.isEnabled}constructor(tr){if(this.sw=tr,this.pushManager=null,this.subscriptionChanges=new a.B,!tr.isEnabled)return this.messages=d,this.notificationClicks=d,void(this.subscription=d);this.messages=this.sw.eventsOfType("PUSH").pipe((0,R.T)(vt=>vt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,R.T)(vt=>vt.data)),this.pushManager=this.sw.registration.pipe((0,R.T)(vt=>vt.pushManager));const Rt=this.pushManager.pipe((0,k.n)(vt=>vt.getSubscription()));this.subscription=B(Rt,this.subscriptionChanges)}requestSubscription(tr){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(kt));const Rt={userVisibleOnly:!0};let vt=this.decodeBase64(tr.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Ut=new Uint8Array(new ArrayBuffer(vt.length));for(let yt=0;yt<vt.length;yt++)Ut[yt]=vt.charCodeAt(yt);return Rt.applicationServerKey=Ut,this.pushManager.pipe((0,k.n)(yt=>yt.subscribe(Rt)),(0,G.s)(1)).toPromise().then(yt=>(this.subscriptionChanges.next(yt),yt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,G.s)(1),(0,k.n)(Rt=>{if(null===Rt)throw new Error("Not subscribed to push notifications.");return Rt.unsubscribe().then(vt=>{if(!vt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(kt))}decodeBase64(tr){return atob(tr)}}return(_t=Mt).\u0275fac=function(tr){return new(tr||_t)(A.KVO(Vt))},_t.\u0275prov=A.jDH({token:_t,factory:_t.\u0275fac}),Mt})(),It=(()=>{var _t;class Mt{get isEnabled(){return this.sw.isEnabled}constructor(tr){if(this.sw=tr,!tr.isEnabled)return this.versionUpdates=d,void(this.unrecoverable=d);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kt));const tr=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:tr},tr)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kt));const tr=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:tr},tr)}}return(_t=Mt).\u0275fac=function(tr){return new(tr||_t)(A.KVO(Vt))},_t.\u0275prov=A.jDH({token:_t,factory:_t.\u0275fac}),Mt})();const br=new A.nKC("");function Qt(_t,Mt,Xt,tr){return()=>{if(!(0,b.UE)(tr)||!("serviceWorker"in navigator)||!1===Xt.enabled)return;const Rt=_t.get(A.SKi),vt=_t.get(A.o8S);let Ut;if(Rt.runOutsideAngular(()=>{const yt=navigator.serviceWorker,Nt=()=>{var dr;return null===(dr=yt.controller)||void 0===dr?void 0:dr.postMessage({action:"INITIALIZE"})};yt.addEventListener("controllerchange",Nt),vt.onDestroy(()=>{yt.removeEventListener("controllerchange",Nt)})}),"function"==typeof Xt.registrationStrategy)Ut=Xt.registrationStrategy();else{const[yt,...Nt]=(Xt.registrationStrategy||"registerWhenStable:30000").split(":");switch(yt){case"registerImmediately":Ut=(0,_.of)(null);break;case"registerWithDelay":Ut=fr(+Nt[0]||0);break;case"registerWhenStable":Ut=Nt[0]?B(Ct(_t),fr(+Nt[0])):Ct(_t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Xt.registrationStrategy}`)}}Rt.runOutsideAngular(()=>Ut.pipe((0,G.s)(1)).subscribe(()=>navigator.serviceWorker.register(Mt,{scope:Xt.scope}).catch(yt=>console.error("Service worker registration failed with:",yt))))}}function fr(_t){return(0,_.of)(null).pipe(function pt(_t,Mt=Xe){const Xt=function Ze(_t=0,Mt,Xt=lt){let tr=-1;return null!=Mt&&((0,Ye.m)(Mt)?Xt=Mt:tr=Mt),new l.c(Rt=>{let vt=function ot(_t){return _t instanceof Date&&!isNaN(_t)}(_t)?+_t-Xt.now():_t;vt<0&&(vt=0);let Ut=0;return Xt.schedule(function(){Rt.closed||(Rt.next(Ut++),0<=tr?this.schedule(void 0,tr):Rt.complete())},vt)})}(_t,Mt);return nt(()=>Xt)}(_t))}function Ct(_t){return _t.get(A.o8S).isStable.pipe((0,P.p)(Xt=>Xt))}function ir(_t,Mt){return new Vt((0,b.UE)(Mt)&&!1!==_t.enabled?navigator.serviceWorker:void 0)}class Gt{}function $e(_t,Mt={}){return(0,A.EmA)([cr,It,{provide:br,useValue:_t},{provide:Gt,useValue:Mt},{provide:Vt,useFactory:ir,deps:[Gt,A.Agw]},{provide:A.hnV,useFactory:Qt,deps:[A.zZn,br,Gt,A.Agw],multi:!0}])}let We=(()=>{var _t;class Mt{static register(tr,Rt={}){return{ngModule:Mt,providers:[$e(tr,Rt)]}}}return(_t=Mt).\u0275fac=function(tr){return new(tr||_t)},_t.\u0275mod=A.$C({type:_t}),_t.\u0275inj=A.G2t({providers:[cr,It]}),Mt})();let Je=(()=>{var _t;class Mt{}return(_t=Mt).\u0275fac=function(tr){return new(tr||_t)},_t.\u0275mod=A.$C({type:_t,bootstrap:[ie.ZL]}),_t.\u0275inj=A.G2t({providers:[{provide:et.b,useClass:Et.jM},Et.y8],imports:[M.Bb,o.bv.forRoot({mode:"md",innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,We.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Mt})();var Ot=_e(1288);(0,A.SmG)(),M.sG().bootstrapModule(Je).catch(_t=>console.log(_t)),window,typeof window>"u"?Promise.resolve():(0,Ot.p)().then(()=>(0,Ot.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(Dr,rr,_e)=>{var M=_e(4756);Dr.exports=function o(ie,$,v){function b(w,_){if(!$[w]){if(!ie[w]){var i=void 0;if(!_&&i)return require(w,!0);if(f)return f(w,!0);throw(_=new Error("Cannot find module '"+w+"'")).code="MODULE_NOT_FOUND",_}i=$[w]={exports:{}},ie[w][0].call(i.exports,function(a){return b(ie[w][1][a]||a)},i,i.exports,o,ie,$,v)}return $[w].exports}for(var f=void 0,m=0;m<v.length;m++)b(v[m]);return b}({1:[function(o,ie,$){"use strict";$.byteLength=function(u){return 3*((u=i(u))[0]+(u=u[1]))/4-u},$.toByteArray=function(a){var l,u,h,H,d=(h=i(a))[0],g=new f(3*(d+(H=h=h[1]))/4-H),p=0,y=0<h?d-4:d;for(u=0;u<y;u+=4)l=b[a.charCodeAt(u)]<<18|b[a.charCodeAt(u+1)]<<12|b[a.charCodeAt(u+2)]<<6|b[a.charCodeAt(u+3)],g[p++]=l>>16&255,g[p++]=l>>8&255,g[p++]=255&l;return 2===h&&(l=b[a.charCodeAt(u)]<<2|b[a.charCodeAt(u+1)]>>4,g[p++]=255&l),1===h&&(l=b[a.charCodeAt(u)]<<10|b[a.charCodeAt(u+1)]<<4|b[a.charCodeAt(u+2)]>>2,g[p++]=l>>8&255,g[p++]=255&l),g},$.fromByteArray=function(a){for(var l,u=a.length,d=u%3,h=[],g=0,p=u-d;g<p;g+=16383)h.push(function(y,C,H){for(var R=[],P=C;P<H;P+=3)R.push(v[(k=(y[P]<<16&16711680)+(y[P+1]<<8&65280)+(255&y[P+2]))>>18&63]+v[k>>12&63]+v[k>>6&63]+v[63&k]);var k;return R.join("")}(a,g,p<g+16383?p:g+16383));return 1==d?h.push(v[(l=a[u-1])>>2]+v[l<<4&63]+"=="):2==d&&h.push(v[(l=(a[u-2]<<8)+a[u-1])>>10]+v[l>>4&63]+v[l<<2&63]+"="),h.join("")};for(var v=[],b=[],f=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)v[w]=m[w],b[m.charCodeAt(w)]=w;function i(a){var l=a.length;if(0<l%4)throw new Error("Invalid string. Length must be a multiple of 4");return l=(a=-1===(a=a.indexOf("="))?l:a)===l?0:4-a%4,[a,l]}b[45]=62,b[95]=63},{}],2:[function(o,ie,$){},{}],3:[function(o,ie,$){},{}],4:[function(o,ie,$){(function(i){"use strict";var b=o("base64-js"),f=o("ieee754"),m="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,w=($.Buffer=i,$.SlowBuffer=function(K){return+K!=K&&(K=0),i.alloc(+K)},$.INSPECT_MAX_BYTES=50,2147483647);function _(K){if(w<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');return K=new Uint8Array(K),Object.setPrototypeOf(K,i.prototype),K}function i(K,O,oe){if("number"!=typeof K)return a(K,O,oe);if("string"==typeof O)throw new TypeError('The "string" argument must be of type string. Received type number');return u(K)}function a(K,O,oe){if("string"==typeof K){var me=K,Se=O;if(i.isEncoding(Se="string"==typeof Se&&""!==Se?Se:"utf8"))return(me=(Xe=_(Ue=0|g(me,Se))).write(me,Se))!==Ue?Xe.slice(0,me):Xe;throw new TypeError("Unknown encoding: "+Se)}if(ArrayBuffer.isView(K))return d(K);if(null!=K){if(Y(K,ArrayBuffer)||K&&Y(K.buffer,ArrayBuffer)){var Ue=K,Xe=oe;if((me=O)<0||Ue.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(Ue.byteLength<me+(Xe||0))throw new RangeError('"length" is outside of buffer bounds');return Ue=void 0===me&&void 0===Xe?new Uint8Array(Ue):void 0===Xe?new Uint8Array(Ue,me):new Uint8Array(Ue,me,Xe),Object.setPrototypeOf(Ue,i.prototype),Ue}if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Se=K.valueOf&&K.valueOf())&&Se!==K)return i.from(Se,O,oe);var lt=i.isBuffer(ze=K)?(0!==(at=_(st=0|h(ze.length))).length&&ze.copy(at,0,0,st),at):void 0!==ze.length?"number"!=typeof ze.length||le(ze.length)?_(0):d(ze):"Buffer"===ze.type&&Array.isArray(ze.data)?d(ze.data):void 0;if(lt)return lt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return i.from(K[Symbol.toPrimitive]("string"),O,oe)}var ze,st,at;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function l(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function u(K){return l(K),_(K<0?0:0|h(K))}function d(K){for(var O=K.length<0?0:0|h(K.length),oe=_(O),me=0;me<O;me+=1)oe[me]=255&K[me];return oe}function h(K){if(w<=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|K}function g(K,O){if(i.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Y(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var oe=K.length,me=2<arguments.length&&!0===arguments[2];if(!me&&0===oe)return 0;for(var Se=!1;;)switch(O){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return te(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return W(K).length;default:if(Se)return me?-1:te(K).length;O=(""+O).toLowerCase(),Se=!0}}function p(K,O,oe){var me,Se=!1;if((O=void 0===O||O<0?0:O)>this.length||(oe=void 0===oe||oe>this.length?this.length:oe)<=0||(oe>>>=0)<=(O>>>=0))return"";for(K=K||"utf8";;)switch(K){case"hex":var Xe=oe,at=this.length;(!Xe||Xe<0||at<Xe)&&(Xe=at);for(var lt="",ze=Ze=!(Ze=O)||Ze<0?0:Ze;ze<Xe;++ze)lt+=Me[this[ze]];return lt;case"utf8":case"utf-8":return P(this,O,oe);case"ascii":var Fe=(at=O,oe),nt="";Fe=Math.min(this.length,Fe);for(var Ye=at;Ye<Fe;++Ye)nt+=String.fromCharCode(127&this[Ye]);return nt;case"latin1":case"binary":var Ze=O,pt=oe,kt="";pt=Math.min(this.length,pt);for(var ar=Ze;ar<pt;++ar)kt+=String.fromCharCode(this[ar]);return kt;case"base64":return Vt=this,me=oe,0===(cr=O)&&me===Vt.length?b.fromByteArray(Vt):b.fromByteArray(Vt.slice(cr,me));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Vt=O,cr=oe,It=this.slice(Vt,cr),br="",Qt=0;Qt<It.length;Qt+=2)br+=String.fromCharCode(It[Qt]+256*It[Qt+1]);return br;default:if(Se)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Se=!0}}function y(K,O,oe){var me=K[O];K[O]=K[oe],K[oe]=me}function C(K,O,oe,me,Se){if(0===K.length)return-1;if("string"==typeof oe?(me=oe,oe=0):2147483647<oe?oe=2147483647:oe<-2147483648&&(oe=-2147483648),(oe=(oe=le(oe=+oe)?Se?0:K.length-1:oe)<0?K.length+oe:oe)>=K.length){if(Se)return-1;oe=K.length-1}else if(oe<0){if(!Se)return-1;oe=0}if("string"==typeof O&&(O=i.from(O,me)),i.isBuffer(O))return 0===O.length?-1:H(K,O,oe,me,Se);if("number"==typeof O)return O&=255,"function"==typeof Uint8Array.prototype.indexOf?(Se?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(K,O,oe):H(K,[O],oe,me,Se);throw new TypeError("val must be string, number or Buffer")}function H(K,O,oe,me,Se){var Ue=1,Xe=K.length,lt=O.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(K.length<2||O.length<2)return-1;Xe/=Ue=2,lt/=2,oe/=2}function ze(Ye,ot){return 1===Ue?Ye[ot]:Ye.readUInt16BE(ot*Ue)}if(Se)for(var st=-1,at=oe;at<Xe;at++)if(ze(K,at)===ze(O,-1===st?0:at-st)){if(at-(st=-1===st?at:st)+1===lt)return st*Ue}else-1!==st&&(at-=at-st),st=-1;else for(at=oe=Xe<oe+lt?Xe-lt:oe;0<=at;at--){for(var Fe=!0,nt=0;nt<lt;nt++)if(ze(K,at+nt)!==ze(O,nt)){Fe=!1;break}if(Fe)return at}return-1}function B(K,O,oe,me){return G(function(Se){for(var Ue=[],Xe=0;Xe<Se.length;++Xe)Ue.push(255&Se.charCodeAt(Xe));return Ue}(O),K,oe,me)}function R(K,O,oe,me){return G(function(Se,Ue){for(var Xe,lt,ze=[],st=0;st<Se.length&&!((Ue-=2)<0);++st)Xe=(lt=Se.charCodeAt(st))>>8,ze.push(lt%=256),ze.push(Xe);return ze}(O,K.length-oe),K,oe,me)}function P(K,O,oe){oe=Math.min(K.length,oe);for(var me=[],Se=O;Se<oe;){var Ue,Xe,lt,ze,st=K[Se],at=null,Fe=239<st?4:223<st?3:191<st?2:1;if(Se+Fe<=oe)switch(Fe){case 1:st<128&&(at=st);break;case 2:128==(192&(Ue=K[Se+1]))&&127<(ze=(31&st)<<6|63&Ue)&&(at=ze);break;case 3:Xe=K[Se+2],128==(192&(Ue=K[Se+1]))&&128==(192&Xe)&&2047<(ze=(15&st)<<12|(63&Ue)<<6|63&Xe)&&(ze<55296||57343<ze)&&(at=ze);break;case 4:Xe=K[Se+2],lt=K[Se+3],128==(192&(Ue=K[Se+1]))&&128==(192&Xe)&&128==(192&lt)&&65535<(ze=(15&st)<<18|(63&Ue)<<12|(63&Xe)<<6|63&lt)&&ze<1114112&&(at=ze)}null===at?(at=65533,Fe=1):65535<at&&(me.push((at-=65536)>>>10&1023|55296),at=56320|1023&at),me.push(at),Se+=Fe}var nt=me,Ye=nt.length;if(Ye<=k)return String.fromCharCode.apply(String,nt);for(var ot="",Ze=0;Ze<Ye;)ot+=String.fromCharCode.apply(String,nt.slice(Ze,Ze+=k));return ot}$.kMaxLength=w,(i.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(K,O),42===K.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=a,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(K,O,oe){return l(K),K<=0||void 0===O?_(K):"string"==typeof oe?_(K).fill(O,oe):_(K).fill(O)},i.allocUnsafe=u,i.allocUnsafeSlow=u,i.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==i.prototype},i.compare=function(K,O){if(Y(K,Uint8Array)&&(K=i.from(K,K.offset,K.byteLength)),Y(O,Uint8Array)&&(O=i.from(O,O.offset,O.byteLength)),!i.isBuffer(K)||!i.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===O)return 0;for(var oe=K.length,me=O.length,Se=0,Ue=Math.min(oe,me);Se<Ue;++Se)if(K[Se]!==O[Se]){oe=K[Se],me=O[Se];break}return oe<me?-1:me<oe?1:0},i.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(K,O){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return i.alloc(0);if(void 0===O)for(Se=O=0;Se<K.length;++Se)O+=K[Se].length;for(var oe=i.allocUnsafe(O),me=0,Se=0;Se<K.length;++Se){var Ue=K[Se];if(Y(Ue,Uint8Array)&&(Ue=i.from(Ue)),!i.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(oe,me),me+=Ue.length}return oe},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<K;O+=2)y(this,O,O+1);return this},i.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<K;O+=4)y(this,O,O+3),y(this,O+1,O+2);return this},i.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<K;O+=8)y(this,O,O+7),y(this,O+1,O+6),y(this,O+2,O+5),y(this,O+3,O+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?P(this,0,K):p.apply(this,arguments)},i.prototype.equals=function(K){if(i.isBuffer(K))return this===K||0===i.compare(this,K);throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var O="",K=$.INSPECT_MAX_BYTES;return O=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(O+=" ... "),"<Buffer "+O+">"},m&&(i.prototype[m]=i.prototype.inspect),i.prototype.compare=function(K,O,oe,me,Se){if(Y(K,Uint8Array)&&(K=i.from(K,K.offset,K.byteLength)),!i.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(void 0===oe&&(oe=K?K.length:0),void 0===me&&(me=0),void 0===Se&&(Se=this.length),(O=void 0===O?0:O)<0||oe>K.length||me<0||Se>this.length)throw new RangeError("out of range index");if(Se<=me&&oe<=O)return 0;if(Se<=me)return-1;if(oe<=O)return 1;if(this===K)return 0;for(var Ue=(Se>>>=0)-(me>>>=0),Xe=(oe>>>=0)-(O>>>=0),lt=Math.min(Ue,Xe),ze=this.slice(me,Se),st=K.slice(O,oe),at=0;at<lt;++at)if(ze[at]!==st[at]){Ue=ze[at],Xe=st[at];break}return Ue<Xe?-1:Xe<Ue?1:0},i.prototype.includes=function(K,O,oe){return-1!==this.indexOf(K,O,oe)},i.prototype.indexOf=function(K,O,oe){return C(this,K,O,oe,!0)},i.prototype.lastIndexOf=function(K,O,oe){return C(this,K,O,oe,!1)},i.prototype.write=function(K,O,oe,me){if(void 0===O)me="utf8",oe=this.length,O=0;else if(void 0===oe&&"string"==typeof O)me=O,oe=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0,isFinite(oe)?(oe>>>=0,void 0===me&&(me="utf8")):(me=oe,oe=void 0)}var Se=this.length-O;if((void 0===oe||Se<oe)&&(oe=Se),0<K.length&&(oe<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");me=me||"utf8";for(var Ue,Xe,lt,ze=!1;;)switch(me){case"hex":var at=K,Fe=O,nt=oe,Ye=(Fe=Number(Fe)||0,this.length-Fe);(!nt||Ye<(nt=Number(nt)))&&(nt=Ye),(Ye=at.length)/2<nt&&(nt=Ye/2);for(var ot=0;ot<nt;++ot){var Ze=parseInt(at.substr(2*ot,2),16);if(le(Ze))return ot;this[Fe+ot]=Ze}return ot;case"utf8":case"utf-8":return lt=oe,G(te(K,(Xe=this).length-(Ye=O)),Xe,Ye,lt);case"ascii":case"latin1":case"binary":return B(this,K,O,oe);case"base64":return Xe=this,lt=O,Ue=oe,G(W(K),Xe,lt,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,K,O,oe);default:if(ze)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),ze=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(K,O,oe){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(oe<K+O)throw new RangeError("Trying to access beyond buffer length")}function N(K,O,oe,me,Se,Ue){if(!i.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(Se<O||O<Ue)throw new RangeError('"value" argument is out of bounds');if(oe+me>K.length)throw new RangeError("Index out of range")}function j(K,O,oe,me){if(oe+me>K.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Z(K,O,oe,me,Se){return O=+O,oe>>>=0,Se||j(K,0,oe,4),f.write(K,O,oe,me,23,4),oe+4}function ee(K,O,oe,me,Se){return O=+O,oe>>>=0,Se||j(K,0,oe,8),f.write(K,O,oe,me,52,8),oe+8}i.prototype.slice=function(K,O){var oe=this.length;return(K=~~K)<0?(K+=oe)<0&&(K=0):oe<K&&(K=oe),(O=void 0===O?oe:~~O)<0?(O+=oe)<0&&(O=0):oe<O&&(O=oe),O<K&&(O=K),oe=this.subarray(K,O),Object.setPrototypeOf(oe,i.prototype),oe},i.prototype.readUIntLE=function(K,O,oe){K>>>=0,O>>>=0,oe||T(K,O,this.length);for(var me=this[K],Se=1,Ue=0;++Ue<O&&(Se*=256);)me+=this[K+Ue]*Se;return me},i.prototype.readUIntBE=function(K,O,oe){K>>>=0,O>>>=0,oe||T(K,O,this.length);for(var me=this[K+--O],Se=1;0<O&&(Se*=256);)me+=this[K+--O]*Se;return me},i.prototype.readUInt8=function(K,O){return K>>>=0,O||T(K,1,this.length),this[K]},i.prototype.readUInt16LE=function(K,O){return K>>>=0,O||T(K,2,this.length),this[K]|this[K+1]<<8},i.prototype.readUInt16BE=function(K,O){return K>>>=0,O||T(K,2,this.length),this[K]<<8|this[K+1]},i.prototype.readUInt32LE=function(K,O){return K>>>=0,O||T(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},i.prototype.readUInt32BE=function(K,O){return K>>>=0,O||T(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},i.prototype.readIntLE=function(K,O,oe){K>>>=0,O>>>=0,oe||T(K,O,this.length);for(var me=this[K],Se=1,Ue=0;++Ue<O&&(Se*=256);)me+=this[K+Ue]*Se;return(Se*=128)<=me&&(me-=Math.pow(2,8*O)),me},i.prototype.readIntBE=function(K,O,oe){K>>>=0,O>>>=0,oe||T(K,O,this.length);for(var me=O,Se=1,Ue=this[K+--me];0<me&&(Se*=256);)Ue+=this[K+--me]*Se;return(Se*=128)<=Ue&&(Ue-=Math.pow(2,8*O)),Ue},i.prototype.readInt8=function(K,O){return K>>>=0,O||T(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},i.prototype.readInt16LE=function(K,O){return K>>>=0,O||T(K,2,this.length),32768&(O=this[K]|this[K+1]<<8)?4294901760|O:O},i.prototype.readInt16BE=function(K,O){return K>>>=0,O||T(K,2,this.length),32768&(O=this[K+1]|this[K]<<8)?4294901760|O:O},i.prototype.readInt32LE=function(K,O){return K>>>=0,O||T(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},i.prototype.readInt32BE=function(K,O){return K>>>=0,O||T(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},i.prototype.readFloatLE=function(K,O){return K>>>=0,O||T(K,4,this.length),f.read(this,K,!0,23,4)},i.prototype.readFloatBE=function(K,O){return K>>>=0,O||T(K,4,this.length),f.read(this,K,!1,23,4)},i.prototype.readDoubleLE=function(K,O){return K>>>=0,O||T(K,8,this.length),f.read(this,K,!0,52,8)},i.prototype.readDoubleBE=function(K,O){return K>>>=0,O||T(K,8,this.length),f.read(this,K,!1,52,8)},i.prototype.writeUIntLE=function(K,O,oe,me){K=+K,O>>>=0,oe>>>=0,me||N(this,K,O,oe,Math.pow(2,8*oe)-1,0);var Se=1,Ue=0;for(this[O]=255&K;++Ue<oe&&(Se*=256);)this[O+Ue]=K/Se&255;return O+oe},i.prototype.writeUIntBE=function(K,O,oe,me){K=+K,O>>>=0,oe>>>=0,me||N(this,K,O,oe,Math.pow(2,8*oe)-1,0);var Se=oe-1,Ue=1;for(this[O+Se]=255&K;0<=--Se&&(Ue*=256);)this[O+Se]=K/Ue&255;return O+oe},i.prototype.writeUInt8=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,1,255,0),this[O]=255&K,O+1},i.prototype.writeUInt16LE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,2,65535,0),this[O]=255&K,this[O+1]=K>>>8,O+2},i.prototype.writeUInt16BE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,2,65535,0),this[O]=K>>>8,this[O+1]=255&K,O+2},i.prototype.writeUInt32LE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,4,4294967295,0),this[O+3]=K>>>24,this[O+2]=K>>>16,this[O+1]=K>>>8,this[O]=255&K,O+4},i.prototype.writeUInt32BE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,4,4294967295,0),this[O]=K>>>24,this[O+1]=K>>>16,this[O+2]=K>>>8,this[O+3]=255&K,O+4},i.prototype.writeIntLE=function(K,O,oe,me){K=+K,O>>>=0,me||N(this,K,O,oe,(me=Math.pow(2,8*oe-1))-1,-me);var Se=0,Ue=1,Xe=0;for(this[O]=255&K;++Se<oe&&(Ue*=256);)K<0&&0===Xe&&0!==this[O+Se-1]&&(Xe=1),this[O+Se]=(K/Ue|0)-Xe&255;return O+oe},i.prototype.writeIntBE=function(K,O,oe,me){K=+K,O>>>=0,me||N(this,K,O,oe,(me=Math.pow(2,8*oe-1))-1,-me);var Se=oe-1,Ue=1,Xe=0;for(this[O+Se]=255&K;0<=--Se&&(Ue*=256);)K<0&&0===Xe&&0!==this[O+Se+1]&&(Xe=1),this[O+Se]=(K/Ue|0)-Xe&255;return O+oe},i.prototype.writeInt8=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,1,127,-128),this[O]=255&(K=K<0?255+K+1:K),O+1},i.prototype.writeInt16LE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,2,32767,-32768),this[O]=255&K,this[O+1]=K>>>8,O+2},i.prototype.writeInt16BE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,2,32767,-32768),this[O]=K>>>8,this[O+1]=255&K,O+2},i.prototype.writeInt32LE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,4,2147483647,-2147483648),this[O]=255&K,this[O+1]=K>>>8,this[O+2]=K>>>16,this[O+3]=K>>>24,O+4},i.prototype.writeInt32BE=function(K,O,oe){return K=+K,O>>>=0,oe||N(this,K,O,4,2147483647,-2147483648),this[O]=(K=K<0?4294967295+K+1:K)>>>24,this[O+1]=K>>>16,this[O+2]=K>>>8,this[O+3]=255&K,O+4},i.prototype.writeFloatLE=function(K,O,oe){return Z(this,K,O,!0,oe)},i.prototype.writeFloatBE=function(K,O,oe){return Z(this,K,O,!1,oe)},i.prototype.writeDoubleLE=function(K,O,oe){return ee(this,K,O,!0,oe)},i.prototype.writeDoubleBE=function(K,O,oe){return ee(this,K,O,!1,oe)},i.prototype.copy=function(K,O,oe,me){if(!i.isBuffer(K))throw new TypeError("argument should be a Buffer");if(oe=oe||0,me||0===me||(me=this.length),O>=K.length&&(O=K.length),(me=0<me&&me<oe?oe:me)===oe||0===K.length||0===this.length)return 0;if((O=O||0)<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length);var Se=(me=K.length-O<me-oe?K.length-O+oe:me)-oe;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(O,oe,me);else if(this===K&&oe<O&&O<me)for(var Ue=Se-1;0<=Ue;--Ue)K[Ue+O]=this[Ue+oe];else Uint8Array.prototype.set.call(K,this.subarray(oe,me),O);return Se},i.prototype.fill=function(K,O,oe,me){if("string"==typeof K){if("string"==typeof O?(me=O,O=0,oe=this.length):"string"==typeof oe&&(me=oe,oe=this.length),void 0!==me&&"string"!=typeof me)throw new TypeError("encoding must be a string");if("string"==typeof me&&!i.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Se;1===K.length&&(Se=K.charCodeAt(0),("utf8"===me&&Se<128||"latin1"===me)&&(K=Se))}else"number"==typeof K?K&=255:"boolean"==typeof K&&(K=Number(K));if(O<0||this.length<O||this.length<oe)throw new RangeError("Out of range index");var Ue;if(!(oe<=O))if(O>>>=0,oe=void 0===oe?this.length:oe>>>0,"number"==typeof(K=K||0))for(Ue=O;Ue<oe;++Ue)this[Ue]=K;else{var Xe=i.isBuffer(K)?K:i.from(K,me),lt=Xe.length;if(0===lt)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(Ue=0;Ue<oe-O;++Ue)this[Ue+O]=Xe[Ue%lt]}return this};var z=/[^+/0-9A-Za-z-_]/g;function te(K,O){O=O||1/0;for(var oe,me=K.length,Se=null,Ue=[],Xe=0;Xe<me;++Xe){if(55295<(oe=K.charCodeAt(Xe))&&oe<57344){if(!Se){if(56319<oe){-1<(O-=3)&&Ue.push(239,191,189);continue}if(Xe+1===me){-1<(O-=3)&&Ue.push(239,191,189);continue}Se=oe;continue}if(oe<56320){-1<(O-=3)&&Ue.push(239,191,189),Se=oe;continue}oe=65536+(Se-55296<<10|oe-56320)}else Se&&-1<(O-=3)&&Ue.push(239,191,189);if(Se=null,oe<128){if(--O<0)break;Ue.push(oe)}else if(oe<2048){if((O-=2)<0)break;Ue.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((O-=3)<0)break;Ue.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;Ue.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return Ue}function W(K){return b.toByteArray(function(O){if((O=(O=O.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(K))}function G(K,O,oe,me){for(var Se=0;Se<me&&!(Se+oe>=O.length||Se>=K.length);++Se)O[Se+oe]=K[Se];return Se}function Y(K,O){return K instanceof O||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===O.name}function le(K){return K!=K}var Me=function(){for(var K="0123456789abcdef",O=new Array(256),oe=0;oe<16;++oe)for(var me=16*oe,Se=0;Se<16;++Se)O[me+Se]=K[oe]+K[Se];return O}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,ie,$){ie.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,ie,$){var v=o("../internals/is-object");ie.exports=function(b){if(v(b)||null===b)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":75}],7:[function(f,ie,$){var v=f("../internals/well-known-symbol"),b=f("../internals/object-create"),m=(f=f("../internals/object-define-property"),v("unscopables")),w=Array.prototype;null==w[m]&&f.f(w,m,{configurable:!0,value:b(null)}),ie.exports=function(_){w[m][_]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,ie,$){"use strict";var v=o("../internals/string-multibyte").charAt;ie.exports=function(b,f,m){return f+(m?v(b,f).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,ie,$){ie.exports=function(v,b,f){if(v instanceof b)return v;throw TypeError("Incorrect "+(f?f+" ":"")+"invocation")}},{}],10:[function(o,ie,$){var v=o("../internals/is-object");ie.exports=function(b){if(v(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,ie,$){ie.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(j,ie,$){"use strict";function v(ee){return _(ee)&&i(Z,a(ee))}var b,f=j("../internals/array-buffer-native"),m=j("../internals/descriptors"),w=j("../internals/global"),_=j("../internals/is-object"),i=j("../internals/has"),a=j("../internals/classof"),l=j("../internals/create-non-enumerable-property"),u=j("../internals/redefine"),d=j("../internals/object-define-property").f,h=j("../internals/object-get-prototype-of"),g=j("../internals/object-set-prototype-of"),k=j("../internals/well-known-symbol"),p=(j=j("../internals/uid"),w.Int8Array),y=p&&p.prototype,C=(C=w.Uint8ClampedArray)&&C.prototype,H=p&&h(p),B=y&&h(y),R=Object.prototype,P=R.isPrototypeOf,T=(k=k("toStringTag"),j("TYPED_ARRAY_TAG")),N=f&&!!g&&"Opera"!==a(w.opera),Z=(j=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(b in Z)w[b]||(N=!1);if((!N||"function"!=typeof H||H===Function.prototype)&&(H=function(){throw TypeError("Incorrect invocation")},N))for(b in Z)w[b]&&g(w[b],H);if((!N||!B||B===R)&&(B=H.prototype,N))for(b in Z)w[b]&&g(w[b].prototype,B);if(N&&h(C)!==B&&g(C,B),m&&!i(B,k))for(b in j=!0,d(B,k,{get:function(){return _(this)?this[T]:void 0}}),Z)w[b]&&l(w[b],T,b);ie.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:j&&T,aTypedArray:function(ee){if(v(ee))return ee;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(ee){if(g){if(P.call(H,ee))return ee}else for(var z in Z)if(i(Z,b)&&(z=w[z])&&(ee===z||P.call(z,ee)))return ee;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(ee,z,te){if(m){if(te)for(var W in Z)(W=w[W])&&i(W.prototype,ee)&&delete W.prototype[ee];B[ee]&&!te||u(B,ee,!te&&N&&y[ee]||z)}},exportTypedArrayStaticMethod:function(ee,z,te){var W,G;if(m){if(g){if(te)for(W in Z)(G=w[W])&&i(G,ee)&&delete G[ee];if(H[ee]&&!te)return;try{return u(H,ee,!te&&N&&p[ee]||z)}catch{}}for(W in Z)!(G=w[W])||G[ee]&&!te||u(G,ee,z)}},isView:function(ee){return"DataView"===(ee=a(ee))||i(Z,ee)},isTypedArray:v,TypedArray:H,TypedArrayPrototype:B}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(oe,ie,$){"use strict";function v(Fe){return[255&Fe]}function b(Fe){return[255&Fe,Fe>>8&255]}function f(Fe){return[255&Fe,Fe>>8&255,Fe>>16&255,Fe>>24&255]}function m(Fe){return Fe[3]<<24|Fe[2]<<16|Fe[1]<<8|Fe[0]}function w(Fe){return Ue(Fe,23,4)}function _(Fe){return Ue(Fe,52,8)}function i(Fe,nt){j(Fe[Y],nt,{get:function(){return z(this)[nt]}})}function a(kt,nt,pt,ot){if((pt=R(pt))+nt>(kt=z(kt)).byteLength)throw Se(le);return kt=z(kt.buffer).bytes.slice(pt+=kt.byteOffset,pt+nt),ot?kt:kt.reverse()}function l(Fe,nt,Ye,ot,Ze,pt){if((Ye=R(Ye))+nt>(Fe=z(Fe)).byteLength)throw Se(le);for(var kt=z(Fe.buffer).bytes,ar=Ye+Fe.byteOffset,Vt=ot(+Ze),cr=0;cr<nt;cr++)kt[ar+cr]=Vt[pt?cr:nt-cr-1]}var u=oe("../internals/global"),d=oe("../internals/descriptors"),h=oe("../internals/array-buffer-native"),g=oe("../internals/create-non-enumerable-property"),p=oe("../internals/redefine-all"),y=oe("../internals/fails"),C=oe("../internals/an-instance"),H=oe("../internals/to-integer"),B=oe("../internals/to-length"),R=oe("../internals/to-index"),P=oe("../internals/ieee754"),k=oe("../internals/object-get-prototype-of"),T=oe("../internals/object-set-prototype-of"),N=oe("../internals/object-get-own-property-names").f,j=oe("../internals/object-define-property").f,Z=oe("../internals/array-fill"),ee=oe("../internals/set-to-string-tag"),z=(oe=oe("../internals/internal-state")).get,te=oe.set,W="ArrayBuffer",G="DataView",Y="prototype",le="Wrong index",Me=u[W],K=Me,O=u[G],me=(oe=O&&O[Y],Object.prototype),Se=u.RangeError,Ue=P.pack,Xe=P.unpack;if(h){if(!y(function(){Me(1)})||!y(function(){new Me(-1)})||y(function(){return new Me,new Me(1.5),new Me(NaN),Me.name!=W})){u=(K=function(Ye){return C(this,K),new Me(R(Ye))})[Y]=Me[Y];for(var lt,ze=N(Me),st=0;ze.length>st;)(lt=ze[st++])in K||g(K,lt,Me[lt]);u.constructor=K}T&&k(oe)!==me&&T(oe,me),P=new O(new K(2));var at=oe.setInt8;P.setInt8(0,2147483648),P.setInt8(1,2147483649),!P.getInt8(0)&&P.getInt8(1)||p(oe,{setInt8:function(nt,Ye){at.call(this,nt,Ye<<24>>24)},setUint8:function(nt,Ye){at.call(this,nt,Ye<<24>>24)}},{unsafe:!0})}else K=function(Fe){C(this,K,W),Fe=R(Fe),te(this,{bytes:Z.call(new Array(Fe),0),byteLength:Fe}),d||(this.byteLength=Fe)},O=function(Fe,Ze,Ye){C(this,O,G),C(Fe,K,G);var ot=z(Fe).byteLength;if((Ze=H(Ze))<0||ot<Ze)throw Se("Wrong offset");if(ot<Ze+(Ye=void 0===Ye?ot-Ze:B(Ye)))throw Se("Wrong length");te(this,{buffer:Fe,byteLength:Ye,byteOffset:Ze}),d||(this.buffer=Fe,this.byteLength=Ye,this.byteOffset=Ze)},d&&(i(K,"byteLength"),i(O,"buffer"),i(O,"byteLength"),i(O,"byteOffset")),p(O[Y],{getInt8:function(Fe){return a(this,1,Fe)[0]<<24>>24},getUint8:function(Fe){return a(this,1,Fe)[0]},getInt16:function(Fe){return((Fe=a(this,2,Fe,1<arguments.length?arguments[1]:void 0))[1]<<8|Fe[0])<<16>>16},getUint16:function(Fe){return(Fe=a(this,2,Fe,1<arguments.length?arguments[1]:void 0))[1]<<8|Fe[0]},getInt32:function(Fe){return m(a(this,4,Fe,1<arguments.length?arguments[1]:void 0))},getUint32:function(Fe){return m(a(this,4,Fe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Fe){return Xe(a(this,4,Fe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Fe){return Xe(a(this,8,Fe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Fe,nt){l(this,1,Fe,v,nt)},setUint8:function(Fe,nt){l(this,1,Fe,v,nt)},setInt16:function(Fe,nt){l(this,2,Fe,b,nt,2<arguments.length?arguments[2]:void 0)},setUint16:function(Fe,nt){l(this,2,Fe,b,nt,2<arguments.length?arguments[2]:void 0)},setInt32:function(Fe,nt){l(this,4,Fe,f,nt,2<arguments.length?arguments[2]:void 0)},setUint32:function(Fe,nt){l(this,4,Fe,f,nt,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Fe,nt){l(this,4,Fe,w,nt,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Fe,nt){l(this,8,Fe,_,nt,2<arguments.length?arguments[2]:void 0)}});ee(K,W),ee(O,G),ie.exports={ArrayBuffer:K,DataView:O}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,ie,$){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),f=o("../internals/to-length"),m=Math.min;ie.exports=[].copyWithin||function(d,_){var i=v(this),a=f(i.length),l=b(d,a),u=b(_,a),h=m((void 0===(d=2<arguments.length?arguments[2]:void 0)?a:b(d,a))-u,a-l),g=1;for(u<l&&l<u+h&&(g=-1,u+=h-1,l+=h-1);0<h--;)u in i?i[l]=i[u]:delete i[l],l+=g,u+=g;return i}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,ie,$){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),f=o("../internals/to-length");ie.exports=function(m){for(var a,w=v(this),_=f(w.length),i=b(1<(a=arguments.length)?arguments[1]:void 0,_),l=void 0===(a=2<a?arguments[2]:void 0)?_:b(a,_);i<l;)w[i++]=m;return w}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(f,ie,$){"use strict";var v=f("../internals/array-iteration").forEach,b=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),b=b("forEach"),f=f("forEach"),ie.exports=b&&f?[].forEach:function(m){return v(this,m,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,ie,$){"use strict";var v=o("../internals/function-bind-context"),b=o("../internals/to-object"),f=o("../internals/call-with-safe-iteration-closing"),m=o("../internals/is-array-iterator-method"),w=o("../internals/to-length"),_=o("../internals/create-property"),i=o("../internals/get-iterator-method");ie.exports=function(C){var l,u,d,h,g,p,y=b(C),H=(C="function"==typeof this?this:Array,arguments.length),B=1<H?arguments[1]:void 0,R=void 0!==B,P=i(y),k=0;if(R&&(B=v(B,2<H?arguments[2]:void 0,2)),null==P||C==Array&&m(P))for(u=new C(l=w(y.length));k<l;k++)p=R?B(y[k],k):y[k],_(u,k,p);else for(g=(h=P.call(y)).next,u=new C;!(d=g.call(h)).done;k++)p=R?f(h,B,[d.value,k],!0):d.value,_(u,k,p);return u.length=k,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,ie,$){function v(w){return function(_,i,a){var l,u=b(_),d=f(u.length),h=m(a,d);if(w&&i!=i){for(;h<d;)if((l=u[h++])!=l)return!0}else for(;h<d;h++)if((w||h in u)&&u[h]===i)return w||h||0;return!w&&-1}}var b=o("../internals/to-indexed-object"),f=o("../internals/to-length"),m=o("../internals/to-absolute-index");ie.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,ie,$){function v(a){var l=1==a,u=2==a,d=3==a,h=4==a,g=6==a,p=5==a||g;return function(y,C,H,B){for(var R,P,k=m(y),T=f(k),N=b(C,H,3),j=w(T.length),Z=0,ee=(C=B||_,l?C(y,j):u?C(y,0):void 0);Z<j;Z++)if((p||Z in T)&&(P=N(R=T[Z],Z,k),a))if(l)ee[Z]=P;else if(P)switch(a){case 3:return!0;case 5:return R;case 6:return Z;case 2:i.call(ee,R)}else if(h)return!1;return g?-1:d||h?h:ee}}var b=o("../internals/function-bind-context"),f=o("../internals/indexed-object"),m=o("../internals/to-object"),w=o("../internals/to-length"),_=o("../internals/array-species-create"),i=[].push;ie.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(a,ie,$){"use strict";var v=a("../internals/to-indexed-object"),b=a("../internals/to-integer"),f=a("../internals/to-length"),i=a("../internals/array-method-is-strict"),m=(a=a("../internals/array-method-uses-to-length"),Math.min),w=[].lastIndexOf,_=!!w&&1/[1].lastIndexOf(1,-0)<0;i=i("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0}),ie.exports=!_&&i&&a?w:function(l){if(_)return w.apply(this,arguments)||0;var u=v(this),d=f(u.length),h=d-1;for((h=1<arguments.length?m(h,b(arguments[1])):h)<0&&(h=d+h);0<=h;h--)if(h in u&&u[h]===l)return h||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),f=o("../internals/engine-v8-version"),m=b("species");ie.exports=function(w){return 51<=f||!v(function(){var _=[];return(_.constructor={})[m]=function(){return{foo:1}},1!==_[w](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,ie,$){"use strict";var v=o("../internals/fails");ie.exports=function(b,f){var m=[][b];return!!m&&v(function(){m.call(null,f||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,ie,$){function v(i){throw i}var b=o("../internals/descriptors"),f=o("../internals/fails"),m=o("../internals/has"),w=Object.defineProperty,_={};ie.exports=function(i,a){var l,u,d,h;return m(_,i)?_[i]:(l=[][i],u=!!m(a=a||{},"ACCESSORS")&&a.ACCESSORS,d=m(a,0)?a[0]:v,h=m(a,1)?a[1]:void 0,_[i]=!!l&&!f(function(){if(u&&!b)return!0;var g={length:-1};u?w(g,1,{enumerable:!0,get:v}):g[1]=1,l.call(g,d,h)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,ie,$){function v(_){return function(i,a,l,u){b(a);var d=f(i),h=m(d),g=w(d.length),p=_?g-1:0,y=_?-1:1;if(l<2)for(;;){if(p in h){u=h[p],p+=y;break}if(p+=y,_?p<0:g<=p)throw TypeError("Reduce of empty array with no initial value")}for(;_?0<=p:p<g;p+=y)p in h&&(u=a(u,h[p],p,d));return u}}var b=o("../internals/a-function"),f=o("../internals/to-object"),m=o("../internals/indexed-object"),w=o("../internals/to-length");ie.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,ie,$){var v=o("../internals/is-object"),b=o("../internals/is-array"),f=o("../internals/well-known-symbol")("species");ie.exports=function(m,w){var _;return new(void 0===(_=b(m)&&("function"==typeof(_=m.constructor)&&(_===Array||b(_.prototype))||v(_)&&null===(_=_[f]))?void 0:_)?Array:_)(0===w?0:w)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,ie,$){var v=o("../internals/an-object");ie.exports=function(b,f,m,w){try{return w?f(v(m)[0],m[1]):f(m)}catch(_){throw void 0!==(w=b.return)&&v(w.call(b)),_}}},{"../internals/an-object":10}],27:[function(o,ie,$){var v=o("../internals/well-known-symbol")("iterator"),b=!1;try{var f=0,m={next:function(){return{done:!!f++}},return:function(){b=!0}};m[v]=function(){return this},Array.from(m,function(){throw 2})}catch{}ie.exports=function(w,_){if(!_&&!b)return!1;var i=!1;try{var a={};a[v]=function(){return{next:function(){return{done:i=!0}}}},w(a)}catch{}return i}},{"../internals/well-known-symbol":150}],28:[function(o,ie,$){var v={}.toString;ie.exports=function(b){return v.call(b).slice(8,-1)}},{}],29:[function(o,ie,$){var v=o("../internals/to-string-tag-support"),b=o("../internals/classof-raw"),f=o("../internals/well-known-symbol")("toStringTag"),m="Arguments"==b(function(){return arguments}());ie.exports=v?b:function(w){var _;return void 0===w?"Undefined":null===w?"Null":"string"==typeof(_=function(i,a){try{return i[a]}catch{}}(w=Object(w),f))?_:m?b(w):"Object"==(_=b(w))&&"function"==typeof w.callee?"Arguments":_}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(d,ie,$){"use strict";var v=d("../internals/object-define-property").f,b=d("../internals/object-create"),f=d("../internals/redefine-all"),m=d("../internals/function-bind-context"),w=d("../internals/an-instance"),_=d("../internals/iterate"),i=d("../internals/define-iterator"),a=d("../internals/set-species"),l=d("../internals/descriptors"),u=d("../internals/internal-metadata").fastKey,h=(d=d("../internals/internal-state")).set,g=d.getterFor;ie.exports={getConstructor:function(p,y,C,H){function B(T,N,j){var Z,ee=k(T),z=R(T,N);return z?z.value=j:(ee.last=z={index:Z=u(N,!0),key:N,value:j,previous:N=ee.last,next:void 0,removed:!1},ee.first||(ee.first=z),N&&(N.next=z),l?ee.size++:T.size++,"F"!==Z&&(ee.index[Z]=z)),T}function R(Z,N){Z=k(Z);var j,ee=u(N);if("F"!==ee)return Z.index[ee];for(j=Z.first;j;j=j.next)if(j.key==N)return j}var P=p(function(T,N){w(T,P,y),h(T,{type:y,index:b(null),first:void 0,last:void 0,size:0}),l||(T.size=0),null!=N&&_(N,T[H],T,C)}),k=g(y);return f(P.prototype,{clear:function(){for(var T=k(this),N=T.index,j=T.first;j;)j.removed=!0,j.previous&&(j.previous=j.previous.next=void 0),delete N[j.index],j=j.next;T.first=T.last=void 0,l?T.size=0:this.size=0},delete:function(ee){var N,j,Z=k(this);return(ee=R(this,ee))&&(N=ee.next,j=ee.previous,delete Z.index[ee.index],ee.removed=!0,j&&(j.next=N),N&&(N.previous=j),Z.first==ee&&(Z.first=N),Z.last==ee&&(Z.last=j),l?Z.size--:this.size--),!!ee},forEach:function(T){for(var N,j=k(this),Z=m(T,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:j.first;)for(Z(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(T){return!!R(this,T)}}),f(P.prototype,C?{get:function(T){return(T=R(this,T))&&T.value},set:function(T,N){return B(this,0===T?0:T,N)}}:{add:function(T){return B(this,T=0===T?0:T,T)}}),l&&v(P.prototype,"size",{get:function(){return k(this).size}}),P},setStrong:function(p,y,C){var H=y+" Iterator",B=g(y),R=g(H);i(p,y,function(P,k){h(this,{type:H,target:P,state:B(P),kind:k,last:void 0})},function(){for(var P=R(this),k=P.kind,T=P.last;T&&T.removed;)T=T.previous;return P.target&&(P.last=T=T?T.next:P.state.first)?"keys"==k?{value:T.key,done:!1}:"values"==k?{value:T.value,done:!1}:{value:[T.key,T.value],done:!1}:{value:P.target=void 0,done:!0}},C?"entries":"values",!C,!0),a(y)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(h,ie,$){"use strict";function v(B){return B.frozen||(B.frozen=new b)}function b(){this.entries=[]}function f(B,R){return y(B.entries,function(P){return P[0]===R})}var m=h("../internals/redefine-all"),w=h("../internals/internal-metadata").getWeakData,_=h("../internals/an-object"),i=h("../internals/is-object"),a=h("../internals/an-instance"),l=h("../internals/iterate"),u=h("../internals/array-iteration"),d=h("../internals/has"),g=(h=h("../internals/internal-state")).set,p=h.getterFor,y=u.find,C=u.findIndex,H=0;b.prototype={get:function(B){if(B=f(this,B))return B[1]},has:function(B){return!!f(this,B)},set:function(B,R){var P=f(this,B);P?P[1]=R:this.entries.push([B,R])},delete:function(B){var R=C(this.entries,function(P){return P[0]===B});return~R&&this.entries.splice(R,1),!!~R}},ie.exports={getConstructor:function(B,R,P,k){function T(Z,ee,z){var te=j(Z),W=w(_(ee),!0);return!0===W?v(te).set(ee,z):W[te.id]=z,Z}var N=B(function(Z,ee){a(Z,N,R),g(Z,{type:R,id:H++,frozen:void 0}),null!=ee&&l(ee,Z[k],Z,P)}),j=p(R);return m(N.prototype,{delete:function(Z){var ee,z=j(this);return!!i(Z)&&(!0===(ee=w(Z))?v(z).delete(Z):ee&&d(ee,z.id)&&delete ee[z.id])},has:function(Z){var ee,z=j(this);return!!i(Z)&&(!0===(ee=w(Z))?v(z).has(Z):ee&&d(ee,z.id))}}),m(N.prototype,P?{get:function(Z){var ee,z=j(this);if(i(Z))return!0===(ee=w(Z))?v(z).get(Z):ee?ee[z.id]:void 0},set:function(Z,ee){return T(this,Z,ee)}}:{add:function(Z){return T(this,Z,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/global"),f=o("../internals/is-forced"),m=o("../internals/redefine"),w=o("../internals/internal-metadata"),_=o("../internals/iterate"),i=o("../internals/an-instance"),a=o("../internals/is-object"),l=o("../internals/fails"),u=o("../internals/check-correctness-of-iteration"),d=o("../internals/set-to-string-tag"),h=o("../internals/inherit-if-required");ie.exports=function(g,p,y){function C(W){var G=ee[W];m(ee,W,"add"==W?function(Y){return G.call(this,0===Y?0:Y),this}:"delete"==W?function(Y){return!(N&&!a(Y))&&G.call(this,0===Y?0:Y)}:"get"==W?function(Y){return N&&!a(Y)?void 0:G.call(this,0===Y?0:Y)}:"has"==W?function(Y){return!(N&&!a(Y))&&G.call(this,0===Y?0:Y)}:function(Y,le){return G.call(this,0===Y?0:Y,le),this})}var H,B,R,P,k,T=-1!==g.indexOf("Map"),N=-1!==g.indexOf("Weak"),j=T?"set":"add",Z=b[g],ee=Z&&Z.prototype,z=Z,te={};return f(g,"function"!=typeof Z||!(N||ee.forEach&&!l(function(){(new Z).entries().next()})))?(z=y.getConstructor(p,g,T,j),w.REQUIRED=!0):f(g,!0)&&(B=(H=new z)[j](N?{}:-0,1)!=H,R=l(function(){H.has(1)}),P=u(function(W){new Z(W)}),k=!N&&l(function(){for(var W=new Z,G=5;G--;)W[j](G,G);return!W.has(-0)}),P||(((z=p(function(W,G){return i(W,z,g),W=h(new Z,W,z),null!=G&&_(G,W[j],W,T),W})).prototype=ee).constructor=z),(R||k)&&(C("delete"),C("has"),T&&C("get")),(k||B)&&C(j),N&&ee.clear&&delete ee.clear),te[g]=z,v({global:!0,forced:z!=Z},te),d(z,g),N||y.setStrong(z,g,T),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,ie,$){var v=o("../internals/has"),b=o("../internals/own-keys"),f=o("../internals/object-get-own-property-descriptor"),m=o("../internals/object-define-property");ie.exports=function(w,_){for(var i=b(_),a=m.f,l=f.f,u=0;u<i.length;u++){var d=i[u];v(w,d)||a(w,d,l(_,d))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,ie,$){var v=o("../internals/well-known-symbol")("match");ie.exports=function(b){var f=/./;try{"/./"[b](f)}catch{try{return f[v]=!1,"/./"[b](f)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,ie,$){var v=o("../internals/require-object-coercible"),b=/"/g;ie.exports=function(i,m,w,_){i=String(v(i));var a="<"+m;return""!==w&&(a+=" "+w+'="'+String(_).replace(b,"&quot;")+'"'),a+">"+i+"</"+m+">"}},{"../internals/require-object-coercible":115}],37:[function(o,ie,$){"use strict";function v(){return this}var b=o("../internals/iterators-core").IteratorPrototype,f=o("../internals/object-create"),m=o("../internals/create-property-descriptor"),w=o("../internals/set-to-string-tag"),_=o("../internals/iterators");ie.exports=function(i,a,l){return a+=" Iterator",i.prototype=f(b,{next:m(1,l)}),w(i,a,!1,!0),_[a]=v,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),f=o("../internals/create-property-descriptor");ie.exports=v?function(m,w,_){return b.f(m,w,f(1,_))}:function(m,w,_){return m[w]=_,m}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,ie,$){ie.exports=function(v,b){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:b}}},{}],40:[function(o,ie,$){"use strict";var v=o("../internals/to-primitive"),b=o("../internals/object-define-property"),f=o("../internals/create-property-descriptor");ie.exports=function(m,w,_){(w=v(w))in m?b.f(m,w,f(0,_)):m[w]=_}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(h,ie,$){"use strict";function v(){return this}var b=h("../internals/export"),f=h("../internals/create-iterator-constructor"),m=h("../internals/object-get-prototype-of"),w=h("../internals/object-set-prototype-of"),_=h("../internals/set-to-string-tag"),i=h("../internals/create-non-enumerable-property"),a=h("../internals/redefine"),l=h("../internals/well-known-symbol"),u=h("../internals/is-pure"),d=h("../internals/iterators"),g=(h=h("../internals/iterators-core")).IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,y=l("iterator"),C="values",H="entries";ie.exports=function(B,R,P,te,T,N,j){function Z(K){if(K===T&&le)return le;if(!p&&K in G)return G[K];switch(K){case"keys":case C:case H:return function(){return new P(this,K)}}return function(){return new P(this)}}f(P,R,te),te=R+" Iterator";var ee,z,W=!1,G=B.prototype,Y=G[y]||G["@@iterator"]||T&&G[T],le=!p&&Y||Z(T),Me="Array"==R&&G.entries||Y;if(Me&&(Me=m(Me.call(new B)),g!==Object.prototype&&Me.next&&(u||m(Me)===g||(w?w(Me,g):"function"!=typeof Me[y]&&i(Me,y,v)),_(Me,te,!0,!0),u&&(d[te]=v))),T==C&&Y&&Y.name!==C&&(W=!0,le=function(){return Y.call(this)}),u&&!j||G[y]===le||i(G,y,le),d[R]=le,T)if(ee={values:Z(C),keys:N?le:Z("keys"),entries:Z(H)},j)for(z in ee)!p&&!W&&z in G||a(G,z,ee[z]);else b({target:R,proto:!0,forced:p||W},ee);return ee}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,ie,$){var v=o("../internals/path"),b=o("../internals/has"),f=o("../internals/well-known-symbol-wrapped"),m=o("../internals/object-define-property").f;ie.exports=function(w){var _=v.Symbol||(v.Symbol={});b(_,w)||m(_,w,{value:f.f(w)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(b,ie,$){var v=b("../internals/global"),f=(b=b("../internals/is-object"),v.document),m=b(f)&&b(f.createElement);ie.exports=function(w){return m?f.createElement(w):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,ie,$){ie.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,ie,$){o=o("../internals/engine-user-agent"),ie.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,ie,$){o=o("../internals/get-built-in"),ie.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(f,ie,$){var v,b,m=f("../internals/global");f=f("../internals/engine-user-agent"),(m=(m=(m=m.process)&&m.versions)&&m.v8)?b=(v=m.split("."))[0]+v[1]:f&&(!(v=f.match(/Edge\/(\d+)/))||74<=v[1])&&(v=f.match(/Chrome\/(\d+)/))&&(b=v[1]),ie.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,ie,$){ie.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,ie,$){var v=o("../internals/global"),b=o("../internals/object-get-own-property-descriptor").f,f=o("../internals/create-non-enumerable-property"),m=o("../internals/redefine"),w=o("../internals/set-global"),_=o("../internals/copy-constructor-properties"),i=o("../internals/is-forced");ie.exports=function(a,l){var u,d,h,g=a.target,p=a.global,y=a.stat,C=p?v:y?v[g]||w(g,{}):(v[g]||{}).prototype;if(C)for(u in l){if(d=l[u],h=a.noTargetGet?(h=b(C,u))&&h.value:C[u],!i(p?u:g+(y?".":"#")+u,a.forced)&&void 0!==h){if(typeof d==typeof h)continue;_(d,h)}(a.sham||h&&h.sham)&&f(d,"sham",!0),m(C,u,d,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,ie,$){ie.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(l,ie,$){"use strict";l("../modules/es.regexp.exec");var v=l("../internals/redefine"),b=l("../internals/fails"),f=l("../internals/well-known-symbol"),m=l("../internals/regexp-exec"),w=l("../internals/create-non-enumerable-property"),_=f("species"),i=!b(function(){var h=/./;return h.exec=function(){var g=[];return g.groups={a:"7"},g},"7"!=="".replace(h,"$<a>")}),a="$0"==="a".replace(/./,"$0"),u=!!/./[l=f("replace")]&&""===/./[l]("a","$0"),d=!b(function(){var h=(g=/(?:)/).exec,g=(g.exec=function(){return h.apply(this,arguments)},"ab".split(g));return 2!==g.length||"a"!==g[0]||"b"!==g[1]});ie.exports=function(h,g,p,y){var C,H,B=f(h),R=!b(function(){var k={};return k[B]=function(){return 7},7!=""[h](k)}),P=R&&!b(function(){var k=!1,T=/a/;return"split"===h&&((T={constructor:{}}).constructor[_]=function(){return T},T.flags="",T[B]=/./[B]),T.exec=function(){return k=!0,null},T[B](""),!k});R&&P&&("replace"!==h||i&&a&&!u)&&("split"!==h||d)||(C=/./[B],p=(P=p(B,""[h],function(k,T,N,j,Z){return T.exec===m?R&&!Z?{done:!0,value:C.call(T,N,j)}:{done:!0,value:k.call(N,T,j)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],H=P[1],v(String.prototype,h,p),v(RegExp.prototype,B,2==g?function(k,T){return H.call(k,this,T)}:function(k){return H.call(k,this)})),y&&w(RegExp.prototype[B],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,ie,$){"use strict";var b=o("../internals/is-array"),f=o("../internals/to-length"),m=o("../internals/function-bind-context");ie.exports=function v(w,_,i,a,l,u,d,h){for(var g,p=l,y=0,C=!!d&&m(d,h,3);y<a;){if(y in i){if(g=C?C(i[y],y,_):i[y],0<u&&b(g))p=v(w,_,g,f(g.length),p,u-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");w[p]=g}p++}y++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,ie,$){var v=o("../internals/a-function");ie.exports=function(b,f,m){if(v(b),void 0===f)return b;switch(m){case 0:return function(){return b.call(f)};case 1:return function(w){return b.call(f,w)};case 2:return function(w,_){return b.call(f,w,_)};case 3:return function(w,_,i){return b.call(f,w,_,i)}}return function(){return b.apply(f,arguments)}}},{"../internals/a-function":5}],56:[function(o,ie,$){"use strict";var v=o("../internals/a-function"),b=o("../internals/is-object"),f=[].slice,m={};ie.exports=Function.bind||function(w){var _=v(this),i=f.call(arguments,1),a=function(){var l=i.concat(f.call(arguments));if(this instanceof a){var u=_,d=l.length,h=l;if(!(d in m)){for(var g=[],p=0;p<d;p++)g[p]="a["+p+"]";m[d]=Function("C,a","return new C("+g.join(",")+")")}return m[d](u,h)}return _.apply(w,l)};return b(_.prototype)&&(a.prototype=_.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,ie,$){function v(m){return"function"==typeof m?m:void 0}var b=o("../internals/path"),f=o("../internals/global");ie.exports=function(m,w){return arguments.length<2?v(b[m])||v(f[m]):b[m]&&b[m][w]||f[m]&&f[m][w]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,ie,$){var v=o("../internals/classof"),b=o("../internals/iterators"),f=o("../internals/well-known-symbol")("iterator");ie.exports=function(m){if(null!=m)return m[f]||m["@@iterator"]||b[v(m)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/get-iterator-method");ie.exports=function(f){var m=b(f);if("function"!=typeof m)throw TypeError(String(f)+" is not iterable");return v(m.call(f))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,ie,$){(function(v){function b(f){return f&&f.Math==Math&&f}ie.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,ie,$){var v={}.hasOwnProperty;ie.exports=function(b,f){return v.call(b,f)}},{}],62:[function(o,ie,$){ie.exports={}},{}],63:[function(o,ie,$){var v=o("../internals/global");ie.exports=function(b,f){var m=v.console;m&&m.error&&(1===arguments.length?m.error(b):m.error(b,f))}},{"../internals/global":60}],64:[function(o,ie,$){o=o("../internals/get-built-in"),ie.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/fails"),f=o("../internals/document-create-element");ie.exports=!v&&!b(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,ie,$){var v=Math.abs,b=Math.pow,f=Math.floor,m=Math.log,w=Math.LN2;ie.exports={pack:function(_,i,p){var l,u,d,h=new Array(p),g=8*p-i-1,y=(p=(1<<g)-1)>>1,C=23===i?b(2,-24)-b(2,-77):0,H=_<0||0===_&&1/_<0?1:0,B=0;for((_=v(_))!=_||_===1/0?(u=_!=_?1:0,l=p):(l=f(m(_)/w),_*(d=b(2,-l))<1&&(l--,d*=2),2<=(_+=1<=l+y?C/d:C*b(2,1-y))*d&&(l++,d/=2),p<=l+y?(u=0,l=p):1<=l+y?(u=(_*d-1)*b(2,i),l+=y):(u=_*b(2,y-1)*b(2,i),l=0));8<=i;h[B++]=255&u,u/=256,i-=8);for(l=l<<i|u,g+=i;0<g;h[B++]=255&l,l/=256,g-=8);return h[--B]|=128*H,h},unpack:function(_,i){var a,p,l=_.length,u=(1<<(p=8*l-i-1))-1,d=u>>1,h=p-7,g=l-1,y=127&(p=_[g--]);for(p>>=7;0<h;y=256*y+_[g],g--,h-=8);for(a=y&(1<<-h)-1,y>>=-h,h+=i;0<h;a=256*a+_[g],g--,h-=8);if(0===y)y=1-d;else{if(y===u)return a?NaN:p?-1/0:1/0;a+=b(2,i),y-=d}return(p?-1:1)*a*b(2,y-i)}}},{}],67:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/classof-raw"),f="".split;ie.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return"String"==b(m)?f.call(m,""):Object(m)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,ie,$){var v=o("../internals/is-object"),b=o("../internals/object-set-prototype-of");ie.exports=function(f,m,w){return b&&"function"==typeof(m=m.constructor)&&m!==w&&v(m=m.prototype)&&m!==w.prototype&&b(f,m),f}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,ie,$){v=v("../internals/shared-store");var b=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(f){return b.call(f)}),ie.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,ie,$){function v(h){w(h,a,{value:{objectID:"O"+ ++l,weakData:{}}})}var b=o("../internals/hidden-keys"),f=o("../internals/is-object"),m=o("../internals/has"),w=o("../internals/object-define-property").f,_=o("../internals/uid"),i=o("../internals/freezing"),a=_("meta"),l=0,u=Object.isExtensible||function(){return!0},d=ie.exports={REQUIRED:!1,fastKey:function(h,g){if(!f(h))return"symbol"==typeof h?h:("string"==typeof h?"S":"P")+h;if(!m(h,a)){if(!u(h))return"F";if(!g)return"E";v(h)}return h[a].objectID},getWeakData:function(h,g){if(!m(h,a)){if(!u(h))return!0;if(!g)return!1;v(h)}return h[a].weakData},onFreeze:function(h){return i&&d.REQUIRED&&u(h)&&!m(h,a)&&v(h),h}};b[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(p,ie,$){var v,b,f,m,w,_,i,a,l=p("../internals/native-weak-map"),y=p("../internals/global"),u=p("../internals/is-object"),d=p("../internals/create-non-enumerable-property"),h=p("../internals/has"),g=p("../internals/shared-key");p=p("../internals/hidden-keys"),y=y.WeakMap,i=l?(v=new y,b=v.get,f=v.has,m=v.set,w=function(C,H){return m.call(v,C,H),H},_=function(C){return b.call(v,C)||{}},function(C){return f.call(v,C)}):(p[a=g("state")]=!0,w=function(C,H){return d(C,a,H),H},_=function(C){return h(C,a)?C[a]:{}},function(C){return h(C,a)}),ie.exports={set:w,get:_,has:i,enforce:function(C){return i(C)?_(C):w(C,{})},getterFor:function(C){return function(H){if(u(H)&&(H=_(H)).type===C)return H;throw TypeError("Incompatible receiver, "+C+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,ie,$){var v=o("../internals/well-known-symbol"),b=o("../internals/iterators"),f=v("iterator"),m=Array.prototype;ie.exports=function(w){return void 0!==w&&(b.Array===w||m[f]===w)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,ie,$){var v=o("../internals/classof-raw");ie.exports=Array.isArray||function(b){return"Array"==v(b)}},{"../internals/classof-raw":28}],74:[function(o,ie,$){function v(a,l){return(a=w[m(a)])==i||a!=_&&("function"==typeof l?b(l):!!l)}var b=o("../internals/fails"),f=/#|\.prototype\./,m=v.normalize=function(a){return String(a).replace(f,".").toLowerCase()},w=v.data={},_=v.NATIVE="N",i=v.POLYFILL="P";ie.exports=v},{"../internals/fails":51}],75:[function(o,ie,$){ie.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,ie,$){ie.exports=!1},{}],77:[function(o,ie,$){var v=o("../internals/is-object"),b=o("../internals/classof-raw"),f=o("../internals/well-known-symbol")("match");ie.exports=function(m){var w;return v(m)&&(void 0!==(w=m[f])?!!w:"RegExp"==b(m))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,ie,$){function v(a,l){this.stopped=a,this.result=l}var b=o("../internals/an-object"),f=o("../internals/is-array-iterator-method"),m=o("../internals/to-length"),w=o("../internals/function-bind-context"),_=o("../internals/get-iterator-method"),i=o("../internals/call-with-safe-iteration-closing");(ie.exports=function(a,l,u,d,h){var g,p,y,C,H,B,R=w(l,u,d?2:1);if(h)g=a;else{if("function"!=typeof(l=_(a)))throw TypeError("Target is not iterable");if(f(l)){for(p=0,y=m(a.length);p<y;p++)if((C=d?R(b(B=a[p])[0],B[1]):R(a[p]))&&C instanceof v)return C;return new v(!1)}g=l.call(a)}for(H=g.next;!(B=H.call(g)).done;)if("object"==typeof(C=i(g,R,B.value,d))&&C&&C instanceof v)return C;return new v(!1)}).stop=function(a){return new v(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(_,ie,$){"use strict";var v,b,f=_("../internals/object-get-prototype-of"),m=_("../internals/create-non-enumerable-property"),w=_("../internals/has"),i=_("../internals/well-known-symbol"),a=(_=_("../internals/is-pure"),i=i("iterator"),!1);[].keys&&("next"in(b=[].keys())?(f=f(f(b)))!==Object.prototype&&(v=f):a=!0),null==v&&(v={}),_||w(v,i)||m(v,i,function(){return this}),ie.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,ie,$){ie.exports={}},{}],81:[function(o,ie,$){ie.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(d,ie,$){var v,b,f,m,w,_,i,a,l=d("../internals/global"),H=d("../internals/object-get-own-property-descriptor").f,C=d("../internals/classof-raw"),u=d("../internals/task").set,h=(d=d("../internals/engine-is-ios"),l.MutationObserver||l.WebKitMutationObserver),g=l.process,p=l.Promise,y="process"==C(g);C=H(l,"queueMicrotask"),(H=C&&C.value)||(v=function(){var B,R;for(y&&(B=g.domain)&&B.exit();b;){R=b.fn,b=b.next;try{R()}catch(P){throw b?m():f=void 0,P}}f=void 0,B&&B.enter()},m=y?function(){g.nextTick(v)}:h&&!d?(w=!0,_=document.createTextNode(""),new h(v).observe(_,{characterData:!0}),function(){_.data=w=!w}):p&&p.resolve?(i=p.resolve(void 0),a=i.then,function(){a.call(i,v)}):function(){u.call(l,v)}),ie.exports=H||function(B){B={fn:B,next:void 0},f&&(f.next=B),b||(b=B,m()),f=B}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,ie,$){o=o("../internals/global"),ie.exports=o.Promise},{"../internals/global":60}],84:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),f=o("../internals/is-pure"),m=b("iterator");ie.exports=!v(function(){var w=new URL("b?a=1&b=2&c=3","http://a"),_=w.searchParams,i="";return w.pathname="c%20d",_.forEach(function(a,l){_.delete("b"),i+=l+a}),f&&!w.toJSON||!_.sort||"http://a/c%20d?a=1&c=3"!==w.href||"3"!==_.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!_[m]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,ie,$){var b=v("../internals/global");v=v("../internals/inspect-source"),ie.exports="function"==typeof(b=b.WeakMap)&&/native code/.test(v(b))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,ie,$){"use strict";function v(f){var m,w;this.promise=new f(function(_,i){if(void 0!==m||void 0!==w)throw TypeError("Bad Promise constructor");m=_,w=i}),this.resolve=b(m),this.reject=b(w)}var b=o("../internals/a-function");ie.exports.f=function(f){return new v(f)}},{"../internals/a-function":5}],88:[function(o,ie,$){var v=o("../internals/is-regexp");ie.exports=function(b){if(v(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":77}],89:[function(o,ie,$){var v=o("../internals/global").isFinite;ie.exports=Number.isFinite||function(b){return"number"==typeof b&&v(b)}},{"../internals/global":60}],90:[function(o,ie,$){"use strict";var v=o("../internals/descriptors"),b=o("../internals/fails"),f=o("../internals/object-keys"),m=o("../internals/object-get-own-property-symbols"),w=o("../internals/object-property-is-enumerable"),_=o("../internals/to-object"),i=o("../internals/indexed-object"),a=Object.assign,l=Object.defineProperty;ie.exports=!a||b(function(){var u,d,h,g;return!(!v||1===a({b:1},a(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(d={},g="abcdefghijklmnopqrst",(u={})[h=Symbol()]=7,g.split("").forEach(function(p){d[p]=p}),7!=a({},u)[h]||f(a({},d)).join("")!=g)})?function(u,d){for(var h=_(u),g=arguments.length,p=1,y=m.f,C=w.f;p<g;)for(var H,B=i(arguments[p++]),R=y?f(B).concat(y(B)):f(B),P=R.length,k=0;k<P;)H=R[k++],v&&!C.call(B,H)||(h[H]=B[H]);return h}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(l,ie,$){function v(){}var b,f=l("../internals/an-object"),m=l("../internals/object-define-properties"),w=l("../internals/enum-bug-keys"),_=l("../internals/hidden-keys"),i=l("../internals/html"),a=l("../internals/document-create-element"),u=(l=l("../internals/shared-key"),"prototype"),d="script",h=l("IE_PROTO"),g=function(y){return"<"+d+">"+y+"</"+d+">"},p=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}p=b?((y=b).write(g("")),y.close(),C=y.parentWindow.Object,y=null,C):(y=a("iframe"),C="java"+d+":",y.style.display="none",i.appendChild(y),y.src=String(C),(C=y.contentWindow.document).open(),C.write(g("document.F=Object")),C.close(),C.F);for(var y,C,H=w.length;H--;)delete p[u][w[H]];return p()};_[h]=!0,ie.exports=Object.create||function(y,C){var H;return null!==y?(v[u]=f(y),H=new v,v[u]=null,H[h]=y):H=p(),void 0===C?H:m(H,C)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),f=o("../internals/an-object"),m=o("../internals/object-keys");ie.exports=v?Object.defineProperties:function(w,_){f(w);for(var i,a=m(_),l=a.length,u=0;u<l;)b.f(w,i=a[u++],_[i]);return w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/ie8-dom-define"),f=o("../internals/an-object"),m=o("../internals/to-primitive"),w=Object.defineProperty;$.f=v?w:function(_,i,a){if(f(_),i=m(i,!0),f(a),b)try{return w(_,i,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(_[i]=a.value),_}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/object-property-is-enumerable"),f=o("../internals/create-property-descriptor"),m=o("../internals/to-indexed-object"),w=o("../internals/to-primitive"),_=o("../internals/has"),i=o("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;$.f=v?a:function(l,u){if(l=m(l),u=w(u,!0),i)try{return a(l,u)}catch{}if(_(l,u))return f(!b.f.call(l,u),l[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,ie,$){var v=o("../internals/to-indexed-object"),b=o("../internals/object-get-own-property-names").f,f={}.toString,m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ie.exports.f=function(w){if(!m||"[object Window]"!=f.call(w))return b(v(w));try{return b(w)}catch{return m.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,ie,$){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys").concat("length","prototype");$.f=Object.getOwnPropertyNames||function(f){return v(f,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,ie,$){$.f=Object.getOwnPropertySymbols},{}],98:[function(m,ie,$){var v=m("../internals/has"),b=m("../internals/to-object"),f=m("../internals/shared-key"),w=(m=m("../internals/correct-prototype-getter"),f("IE_PROTO")),_=Object.prototype;ie.exports=m?Object.getPrototypeOf:function(i){return i=b(i),v(i,w)?i[w]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?_:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,ie,$){var v=o("../internals/has"),b=o("../internals/to-indexed-object"),f=o("../internals/array-includes").indexOf,m=o("../internals/hidden-keys");ie.exports=function(w,_){var i,a=b(w),l=0,u=[];for(i in a)!v(m,i)&&v(a,i)&&u.push(i);for(;_.length>l;)!v(a,i=_[l++])||~f(u,i)||u.push(i);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,ie,$){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys");ie.exports=Object.keys||function(f){return v(f,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,ie,$){"use strict";var v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,f=b&&!v.call({1:2},1);$.f=f?function(m){return!!(m=b(this,m))&&m.enumerable}:v},{}],102:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/a-possible-prototype");ie.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,m=!1,w={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(w,[]),m=w instanceof Array}catch{}return function(_,i){return v(_),b(i),m?f.call(_,i):_.__proto__=i,_}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,ie,$){function v(_){return function(i){for(var a,l=m(i),u=f(l),d=u.length,h=0,g=[];h<d;)a=u[h++],b&&!w.call(l,a)||g.push(_?[a,l[a]]:l[a]);return g}}var b=o("../internals/descriptors"),f=o("../internals/object-keys"),m=o("../internals/to-indexed-object"),w=o("../internals/object-property-is-enumerable").f;ie.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,ie,$){"use strict";var v=o("../internals/to-string-tag-support"),b=o("../internals/classof");ie.exports=v?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,ie,$){var v=o("../internals/get-built-in"),b=o("../internals/object-get-own-property-names"),f=o("../internals/object-get-own-property-symbols"),m=o("../internals/an-object");ie.exports=v("Reflect","ownKeys")||function(w){var _=b.f(m(w)),i=f.f;return i?_.concat(i(w)):_}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,ie,$){o=o("../internals/global"),ie.exports=o},{"../internals/global":60}],107:[function(o,ie,$){ie.exports=function(v){try{return{error:!1,value:v()}}catch(b){return{error:!0,value:b}}}},{}],108:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/is-object"),f=o("../internals/new-promise-capability");ie.exports=function(m,w){return v(m),b(w)&&w.constructor===m?w:((0,(m=f.f(m)).resolve)(w),m.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,ie,$){var v=o("../internals/redefine");ie.exports=function(b,f,m){for(var w in f)v(b,w,f[w],m);return b}},{"../internals/redefine":110}],110:[function(_,ie,$){var v=_("../internals/global"),b=_("../internals/create-non-enumerable-property"),f=_("../internals/has"),m=_("../internals/set-global"),w=_("../internals/inspect-source"),i=(_=_("../internals/internal-state")).get,a=_.enforce,l=String(String).split("String");(ie.exports=function(u,d,h,C){var p=!!C&&!!C.unsafe,y=!!C&&!!C.enumerable;C=!!C&&!!C.noTargetGet,"function"==typeof h&&("string"!=typeof d||f(h,"name")||b(h,"name",d),a(h).source=l.join("string"==typeof d?d:"")),u===v?y?u[d]=h:m(d,h):(p?!C&&u[d]&&(y=!0):delete u[d],y?u[d]=h:b(u,d,h))})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||w(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,ie,$){var v=o("./classof-raw"),b=o("./regexp-exec");ie.exports=function(f,m){var w=f.exec;if("function"==typeof w){if("object"!=typeof(w=w.call(f,m)))throw TypeError("RegExp exec method returned something other than an Object or null");return w}if("RegExp"!==v(f))throw TypeError("RegExp#exec called on incompatible receiver");return b.call(f,m)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(m,ie,$){"use strict";var v,b,f=m("./regexp-flags"),w=(m=m("./regexp-sticky-helpers"),RegExp.prototype.exec),_=String.prototype.replace,i=w,a=(b=/b*/g,w.call(v=/a/,"a"),w.call(b,"a"),0!==v.lastIndex||0!==b.lastIndex),l=m.UNSUPPORTED_Y||m.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];ie.exports=i=a||u||l?function(d){var h,g,p,y,C=this,H=l&&C.sticky,B=f.call(C),R=C.source,P=0,k=d;return H&&(-1===(B=B.replace("y","")).indexOf("g")&&(B+="g"),k=String(d).slice(C.lastIndex),0<C.lastIndex&&(!C.multiline||C.multiline&&"\n"!==d[C.lastIndex-1])&&(R="(?: "+R+")",k=" "+k,P++),g=new RegExp("^(?:"+R+")",B)),u&&(g=new RegExp("^"+R+"$(?!\\s)",B)),a&&(h=C.lastIndex),p=w.call(H?g:C,k),H?p?(p.input=p.input.slice(P),p[0]=p[0].slice(P),p.index=C.lastIndex,C.lastIndex+=p[0].length):C.lastIndex=0:a&&p&&(C.lastIndex=C.global?p.index+p[0].length:h),u&&p&&1<p.length&&_.call(p[0],g,function(){for(y=1;y<arguments.length-2;y++)void 0===arguments[y]&&(p[y]=void 0)}),p}:i},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,ie,$){"use strict";var v=o("../internals/an-object");ie.exports=function(){var b=v(this),f="";return b.global&&(f+="g"),b.ignoreCase&&(f+="i"),b.multiline&&(f+="m"),b.dotAll&&(f+="s"),b.unicode&&(f+="u"),b.sticky&&(f+="y"),f}},{"../internals/an-object":10}],114:[function(o,ie,$){"use strict";function v(b,f){return RegExp(b,f)}o=o("./fails"),$.UNSUPPORTED_Y=o(function(){var b=v("a","y");return b.lastIndex=2,null!=b.exec("abcd")}),$.BROKEN_CARET=o(function(){var b=v("^r","gy");return b.lastIndex=2,null!=b.exec("str")})},{"./fails":51}],115:[function(o,ie,$){ie.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,ie,$){ie.exports=Object.is||function(v,b){return v===b?0!==v||1/v==1/b:v!=v&&b!=b}},{}],117:[function(o,ie,$){var v=o("../internals/global"),b=o("../internals/create-non-enumerable-property");ie.exports=function(f,m){try{b(v,f,m)}catch{v[f]=m}return m}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,ie,$){"use strict";var v=o("../internals/get-built-in"),b=o("../internals/object-define-property"),f=o("../internals/well-known-symbol"),m=o("../internals/descriptors"),w=f("species");ie.exports=function(i){i=v(i),m&&i&&!i[w]&&(0,b.f)(i,w,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,ie,$){var v=o("../internals/object-define-property").f,b=o("../internals/has"),f=o("../internals/well-known-symbol")("toStringTag");ie.exports=function(m,w,_){m&&!b(m=_?m:m.prototype,f)&&v(m,f,{configurable:!0,value:w})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,ie,$){var v=o("../internals/shared"),b=o("../internals/uid"),f=v("keys");ie.exports=function(m){return f[m]||(f[m]=b(m))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,ie,$){var f=v("../internals/global"),b=(v=v("../internals/set-global"),"__core-js_shared__");f=f[b]||v(b,{}),ie.exports=f},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,ie,$){var v=o("../internals/is-pure"),b=o("../internals/shared-store");(ie.exports=function(f,m){return b[f]||(b[f]=void 0!==m?m:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/a-function"),f=o("../internals/well-known-symbol")("species");ie.exports=function(_,w){return void 0===(_=v(_).constructor)||null==(_=v(_)[f])?w:b(_)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,ie,$){var v=o("../internals/fails");ie.exports=function(b){return v(function(){var f=""[b]('"');return f!==f.toLowerCase()||3<f.split('"').length})}},{"../internals/fails":51}],125:[function(o,ie,$){function v(m){return function(a,l){a=String(f(a)),l=b(l);var i,u=a.length;return l<0||u<=l?m?"":void 0:(i=a.charCodeAt(l))<55296||56319<i||l+1===u||(u=a.charCodeAt(l+1))<56320||57343<u?m?a.charAt(l):i:m?a.slice(l,l+2):u-56320+(i-55296<<10)+65536}}var b=o("../internals/to-integer"),f=o("../internals/require-object-coercible");ie.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,ie,$){o=o("../internals/engine-user-agent"),ie.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,ie,$){function v(_){return function(u,g,h){var d=(u=String(m(u))).length;return h=void 0===h?" ":String(h),(g=b(g))<=d||""==h?u:((d=f.call(h,w((g-=d)/h.length))).length>g&&(d=d.slice(0,g)),_?u+d:d+u)}}var b=o("../internals/to-length"),f=o("../internals/string-repeat"),m=o("../internals/require-object-coercible"),w=Math.ceil;ie.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,ie,$){"use strict";function v(p){return p+22+75*(p<26)}function b(p){var y,C=[],H=(p=function(Y){for(var le=[],Me=0,K=Y.length;Me<K;){var O,oe=Y.charCodeAt(Me++);55296<=oe&&oe<=56319&&Me<K?56320==(64512&(O=Y.charCodeAt(Me++)))?le.push(((1023&oe)<<10)+(1023&O)+65536):(le.push(oe),Me--):le.push(oe)}return le}(p)).length,B=128,R=0,P=72;for(j=0;j<p.length;j++)(y=p[j])<128&&C.push(g(y));var k=C.length,T=k;for(k&&C.push("-");T<H;){for(var N=f,j=0;j<p.length;j++)B<=(y=p[j])&&y<N&&(N=y);var Z=T+1;if(N-B>h((f-R)/Z))throw RangeError(u);for(R+=(N-B)*Z,B=N,j=0;j<p.length;j++){if((y=p[j])<B&&++R>f)throw RangeError(u);if(y==B){for(var ee=R,z=m;;z+=m){var te=z<=P?1:P+w<=z?w:z-P;if(ee<te)break;var W=ee-te,G=m-te;C.push(g(v(te+W%G))),ee=h(W/G)}C.push(g(v(ee))),P=function(Y,le,Me){var K=0;for(Y=Me?h(Y/i):Y>>1,Y+=h(Y/le);d*w>>1<Y;K+=m)Y=h(Y/d);return h(K+(d+1)*Y/(Y+_))}(R,Z,T==k),R=0,++T}}++R,++B}return C.join("")}var f=2147483647,m=36,w=26,_=38,i=700,a=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",d=m-1,h=Math.floor,g=String.fromCharCode;ie.exports=function(p){for(var y,C=[],H=p.toLowerCase().replace(l,".").split("."),B=0;B<H.length;B++)C.push(a.test(y=H[B])?"xn--"+b(y):y);return C.join(".")}},{}],129:[function(o,ie,$){"use strict";var v=o("../internals/to-integer"),b=o("../internals/require-object-coercible");ie.exports="".repeat||function(f){var m=String(b(this)),w="",_=v(f);if(_<0||_==1/0)throw RangeError("Wrong number of repetitions");for(;0<_;(_>>>=1)&&(m+=m))1&_&&(w+=m);return w}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/whitespaces");ie.exports=function(f){return v(function(){return!!b[f]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[f]()||b[f].name!==f})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(f,ie,$){function v(_){return function(i){return i=String(b(i)),1&_&&(i=i.replace(m,"")),2&_?i.replace(w,""):i}}var b=f("../internals/require-object-coercible"),m=(f="["+f("../internals/whitespaces")+"]",RegExp("^"+f+f+"*")),w=RegExp(f+f+"*$");ie.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(d,ie,$){function v(T){return function(){k(T)}}function b(T){k(T.data)}function f(T){w.postMessage(T+"",h.protocol+"//"+h.host)}var m,w=d("../internals/global"),_=d("../internals/fails"),i=d("../internals/classof-raw"),a=d("../internals/function-bind-context"),l=d("../internals/html"),u=d("../internals/document-create-element"),h=(d=d("../internals/engine-is-ios"),w.location),g=w.setImmediate,p=w.clearImmediate,y=w.process,C=w.MessageChannel,H=w.Dispatch,B=0,R={},P="onreadystatechange",k=function(T){var N;R.hasOwnProperty(T)&&(N=R[T],delete R[T],N())};g&&p||(g=function(T){for(var N=[],j=1;j<arguments.length;)N.push(arguments[j++]);return R[++B]=function(){("function"==typeof T?T:Function(T)).apply(void 0,N)},m(B),B},p=function(T){delete R[T]},"process"==i(y)?m=function(T){y.nextTick(v(T))}:H&&H.now?m=function(T){H.now(v(T))}:C&&!d?(d=(i=new C).port2,i.port1.onmessage=b,m=a(d.postMessage,d,1)):!w.addEventListener||"function"!=typeof postMessage||w.importScripts||_(f)||"file:"===h.protocol?m=P in u("script")?function(T){l.appendChild(u("script"))[P]=function(){l.removeChild(this),k(T)}}:function(T){setTimeout(v(T),0)}:(m=f,w.addEventListener("message",b,!1))),ie.exports={set:g,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,ie,$){var v=o("../internals/classof-raw");ie.exports=function(b){if("number"!=typeof b&&"Number"!=v(b))throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],134:[function(o,ie,$){var v=o("../internals/to-integer"),b=Math.max,f=Math.min;ie.exports=function(m,w){return(m=v(m))<0?b(m+w,0):f(m,w)}},{"../internals/to-integer":137}],135:[function(o,ie,$){var v=o("../internals/to-integer"),b=o("../internals/to-length");ie.exports=function(m){if(void 0===m)return 0;m=v(m);var w=b(m);if(m!==w)throw RangeError("Wrong length or index");return w}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,ie,$){var v=o("../internals/indexed-object"),b=o("../internals/require-object-coercible");ie.exports=function(f){return v(b(f))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,ie,$){var v=Math.ceil,b=Math.floor;ie.exports=function(f){return isNaN(f=+f)?0:(0<f?b:v)(f)}},{}],138:[function(o,ie,$){var v=o("../internals/to-integer"),b=Math.min;ie.exports=function(f){return 0<f?b(v(f),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,ie,$){var v=o("../internals/require-object-coercible");ie.exports=function(b){return Object(v(b))}},{"../internals/require-object-coercible":115}],140:[function(o,ie,$){var v=o("../internals/to-positive-integer");ie.exports=function(b,f){if((b=v(b))%f)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":141}],141:[function(o,ie,$){var v=o("../internals/to-integer");ie.exports=function(b){if((b=v(b))<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":137}],142:[function(o,ie,$){var v=o("../internals/is-object");ie.exports=function(b,f){if(!v(b))return b;var m,w;if(f&&"function"==typeof(m=b.toString)&&!v(w=m.call(b))||"function"==typeof(m=b.valueOf)&&!v(w=m.call(b))||!f&&"function"==typeof(m=b.toString)&&!v(w=m.call(b)))return w;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,ie,$){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",ie.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,ie,$){"use strict";function v(Ze,pt){for(var kt=0,ar=pt.length,Vt=new(Fe(Ze))(ar);kt<ar;)Vt[kt]=pt[kt++];return Vt}function b(Ze,pt){O(Ze,pt,{get:function(){return Me(this)[pt]}})}function f(Ze){return Ze instanceof Ue||"ArrayBuffer"==(Ze=k(Ze))||"SharedArrayBuffer"==Ze}function m(Ze,pt){return nt(Ze)&&"symbol"!=typeof pt&&pt in Ze&&String(+pt)==String(pt)}function w(Ze,pt){return m(Ze,pt=R(pt,!0))?p(2,Ze[pt]):oe(Ze,pt)}function _(Ze,pt,kt){return!(m(Ze,pt=R(pt,!0))&&T(kt)&&P(kt,"value"))||P(kt,"get")||P(kt,"set")||kt.configurable||P(kt,"writable")&&!kt.writable||P(kt,"enumerable")&&!kt.enumerable?O(Ze,pt,kt):(Ze[pt]=kt.value,Ze)}var i=o("../internals/export"),a=o("../internals/global"),l=o("../internals/descriptors"),u=o("../internals/typed-array-constructors-require-wrappers"),d=o("../internals/array-buffer-view-core"),h=o("../internals/array-buffer"),g=o("../internals/an-instance"),p=o("../internals/create-property-descriptor"),y=o("../internals/create-non-enumerable-property"),C=o("../internals/to-length"),H=o("../internals/to-index"),B=o("../internals/to-offset"),R=o("../internals/to-primitive"),P=o("../internals/has"),k=o("../internals/classof"),T=o("../internals/is-object"),N=o("../internals/object-create"),j=o("../internals/object-set-prototype-of"),Z=o("../internals/object-get-own-property-names").f,ee=o("../internals/typed-array-from"),z=o("../internals/array-iteration").forEach,te=o("../internals/set-species"),W=o("../internals/object-define-property"),G=o("../internals/object-get-own-property-descriptor"),Y=o("../internals/internal-state"),le=o("../internals/inherit-if-required"),Me=Y.get,K=Y.set,O=W.f,oe=G.f,me=Math.round,Se=a.RangeError,Ue=h.ArrayBuffer,Xe=h.DataView,lt=d.NATIVE_ARRAY_BUFFER_VIEWS,ze=d.TYPED_ARRAY_TAG,st=d.TypedArray,at=d.TypedArrayPrototype,Fe=d.aTypedArrayConstructor,nt=d.isTypedArray,Ye="BYTES_PER_ELEMENT",ot="Wrong length";l?(lt||(G.f=w,W.f=_,b(at,"buffer"),b(at,"byteOffset"),b(at,"byteLength"),b(at,"length")),i({target:"Object",stat:!0,forced:!lt},{getOwnPropertyDescriptor:w,defineProperty:_}),ie.exports=function(Ct,pt,kt){function ar(Gt,$e){O(Gt,$e,{get:function(){var We=this,Pe=$e;return(We=Me(We)).view[It](Pe*Vt+We.byteOffset,!0)},set:function(We){var Pe=this,Je=$e;Pe=Me(Pe),kt&&(We=(We=me(We))<0?0:255<We?255:255&We),Pe.view[br](Je*Vt+Pe.byteOffset,We,!0)},enumerable:!0})}var Vt=Ct.match(/\d+$/)[0]/8,cr=Ct+(kt?"Clamped":"")+"Array",It="get"+Ct,br="set"+Ct,Qt=a[cr],fr=Qt,ir=(Ct=fr&&fr.prototype,{});lt?u&&(fr=pt(function(Gt,$e,We,Pe){return g(Gt,fr,cr),le(T($e)?f($e)?void 0!==Pe?new Qt($e,B(We,Vt),Pe):void 0!==We?new Qt($e,B(We,Vt)):new Qt($e):nt($e)?v(fr,$e):ee.call(fr,$e):new Qt(H($e)),Gt,fr)}),j&&j(fr,st),z(Z(Qt),function(Gt){Gt in fr||y(fr,Gt,Qt[Gt])}),fr.prototype=Ct):(fr=pt(function(Gt,$e,We,Pe){g(Gt,fr,cr);var Je,Ot,zt=0,$t=0;if(T($e)){if(!f($e))return nt($e)?v(fr,$e):ee.call(fr,$e);var _t=$e;if($t=B(We,Vt),We=$e.byteLength,void 0===Pe){if(We%Vt||(Je=We-$t)<0)throw Se(ot)}else if(We<(Je=C(Pe)*Vt)+$t)throw Se(ot);Ot=Je/Vt}else Ot=H($e),_t=new Ue(Je=Ot*Vt);for(K(Gt,{buffer:_t,byteOffset:$t,byteLength:Je,length:Ot,view:new Xe(_t)});zt<Ot;)ar(Gt,zt++)}),j&&j(fr,st),Ct=fr.prototype=N(at)),Ct.constructor!==fr&&y(Ct,"constructor",fr),ze&&y(Ct,ze,cr),ir[cr]=fr,i({global:!0,forced:fr!=Qt,sham:!lt},ir),Ye in fr||y(fr,Ye,Vt),Ye in Ct||y(Ct,Ye,Vt),te(cr)}):ie.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(m,ie,$){var v=m("../internals/global"),b=m("../internals/fails"),f=m("../internals/check-correctness-of-iteration"),w=(m=m("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),_=v.Int8Array;ie.exports=!m||!b(function(){_(1)})||!b(function(){new _(-1)})||!f(function(i){new _,new _(null),new _(1.5),new _(i)},!0)||b(function(){return 1!==new _(new w(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,ie,$){var v=o("../internals/to-object"),b=o("../internals/to-length"),f=o("../internals/get-iterator-method"),m=o("../internals/is-array-iterator-method"),w=o("../internals/function-bind-context"),_=o("../internals/array-buffer-view-core").aTypedArrayConstructor;ie.exports=function(i){var a,l,u,d,h,g,p=v(i),y=arguments.length,C=1<y?arguments[1]:void 0,H=void 0!==C,B=f(p);if(null!=B&&!m(B))for(g=(h=B.call(p)).next,p=[];!(d=g.call(h)).done;)p.push(d.value);for(H&&2<y&&(C=w(C,arguments[2],2)),l=b(p.length),u=new(_(this))(l),a=0;a<l;a++)u[a]=H?C(p[a],a):p[a];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,ie,$){var v=0,b=Math.random();ie.exports=function(f){return"Symbol("+String(void 0===f?"":f)+")_"+(++v+b).toString(36)}},{}],148:[function(o,ie,$){o=o("../internals/native-symbol"),ie.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,ie,$){o=o("../internals/well-known-symbol"),$.f=o},{"../internals/well-known-symbol":150}],150:[function(_,ie,$){var v=_("../internals/global"),b=_("../internals/shared"),f=_("../internals/has"),m=_("../internals/uid"),w=_("../internals/native-symbol"),i=(_=_("../internals/use-symbol-as-uid"),b("wks")),a=v.Symbol,l=_?a:a&&a.withoutSetter||m;ie.exports=function(u){return f(i,u)||(i[u]=w&&f(a,u)?a[u]:l("Symbol."+u)),i[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,ie,$){ie.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(f,ie,$){"use strict";var v=f("../internals/export"),b=f("../internals/global"),w=f("../internals/array-buffer"),m=(f=f("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:b[m]!==(w=w[m])},{ArrayBuffer:w}),f(m)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(p,ie,$){"use strict";var v=p("../internals/export"),b=p("../internals/fails"),f=p("../internals/is-array"),m=p("../internals/is-object"),w=p("../internals/to-object"),_=p("../internals/to-length"),i=p("../internals/create-property"),a=p("../internals/array-species-create"),l=p("../internals/array-method-has-species-support"),g=p("../internals/well-known-symbol"),u=(p=p("../internals/engine-v8-version"),g("isConcatSpreadable")),d=9007199254740991,h="Maximum allowed index exceeded";g=51<=p||!b(function(){var y=[];return y[u]=!1,y.concat()[0]!==y}),p=l("concat"),v({target:"Array",proto:!0,forced:!g||!p},{concat:function(y){for(var C,H,B,R,P,k=w(this),T=a(k,0),N=0,j=-1,Z=arguments.length;j<Z;j++)if(P=void 0,m(R=B=-1===j?k:arguments[j])&&(void 0!==(P=R[u])?P:f(R))){if(H=_(B.length),d<N+H)throw TypeError(h);for(C=0;C<H;C++,N++)C in B&&i(T,N,B[C])}else{if(d<=N)throw TypeError(h);i(T,N++,B)}return T.length=N,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(f,ie,$){var v=f("../internals/export"),b=f("../internals/array-copy-within");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:b}),f("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(m,ie,$){"use strict";var v=m("../internals/export"),b=m("../internals/array-iteration").every,f=m("../internals/array-method-is-strict");m=m("../internals/array-method-uses-to-length"),f=f("every"),m=m("every"),v({target:"Array",proto:!0,forced:!f||!m},{every:function(w){return b(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(f,ie,$){var v=f("../internals/export"),b=f("../internals/array-fill");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:b}),f("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(m,ie,$){"use strict";var v=m("../internals/export"),b=m("../internals/array-iteration").filter,f=m("../internals/array-method-has-species-support");m=m("../internals/array-method-uses-to-length"),f=f("filter"),m=m("filter"),v({target:"Array",proto:!0,forced:!f||!m},{filter:function(w){return b(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/array-iteration").findIndex,f=_("../internals/add-to-unscopables"),m=(_=_("../internals/array-method-uses-to-length"),"findIndex"),w=!0;_=_(m),m in[]&&Array(1)[m](function(){w=!1}),v({target:"Array",proto:!0,forced:w||!_},{findIndex:function(i){return b(this,i,1<arguments.length?arguments[1]:void 0)}}),f(m)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),f=o("../internals/to-object"),m=o("../internals/to-length"),w=o("../internals/a-function"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(i){var a,l=f(this),u=m(l.length);return w(i),(a=_(l,0)).length=b(a,l,l,u,0,1,i,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),f=o("../internals/to-object"),m=o("../internals/to-length"),w=o("../internals/to-integer"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var i=arguments.length?arguments[0]:void 0,a=f(this),l=m(a.length),u=_(a,0);return u.length=b(u,a,a,l,0,void 0===i?1:w(i)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(b,ie,$){"use strict";var v=b("../internals/export");b=b("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(f){Array.from(f)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/array-includes").includes,f=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(m){return b(this,m,1<arguments.length?arguments[1]:void 0)}}),f("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/array-includes").indexOf,w=_("../internals/array-method-is-strict"),f=(_=_("../internals/array-method-uses-to-length"),[].indexOf),m=!!f&&1/[1].indexOf(1,-0)<0;w=w("indexOf"),_=_("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:m||!w||!_},{indexOf:function(i){return m?f.apply(this,arguments)||0:b(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(w,ie,$){"use strict";var v=w("../internals/to-indexed-object"),b=w("../internals/add-to-unscopables"),f=w("../internals/iterators"),m=w("../internals/internal-state"),_=(w=w("../internals/define-iterator"),"Array Iterator"),i=m.set,a=m.getterFor(_);ie.exports=w(Array,"Array",function(l,u){i(this,{type:_,target:v(l),index:0,kind:u})},function(){var l=a(this),u=l.target,d=l.kind,h=l.index++;return!u||h>=u.length?{value:l.target=void 0,done:!0}:"keys"==d?{value:h,done:!1}:"values"==d?{value:u[h],done:!1}:{value:[h,u[h]],done:!1}},"values"),f.Arguments=f.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(w,ie,$){"use strict";var v=w("../internals/export"),m=w("../internals/indexed-object"),b=w("../internals/to-indexed-object"),f=(w=w("../internals/array-method-is-strict"),[].join);m=m!=Object,w=w("join",","),v({target:"Array",proto:!0,forced:m||!w},{join:function(_){return f.call(b(this),void 0===_?",":_)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(b,ie,$){b("../internals/export")({target:"Array",proto:!0,forced:(b=b("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(m,ie,$){"use strict";var v=m("../internals/export"),b=m("../internals/array-iteration").map,f=m("../internals/array-method-has-species-support");m=m("../internals/array-method-uses-to-length"),f=f("map"),m=m("map"),v({target:"Array",proto:!0,forced:!f||!m},{map:function(w){return b(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(u,ie,$){"use strict";var v=u("../internals/export"),b=u("../internals/is-object"),f=u("../internals/is-array"),m=u("../internals/to-absolute-index"),w=u("../internals/to-length"),_=u("../internals/to-indexed-object"),i=u("../internals/create-property"),a=u("../internals/well-known-symbol"),l=u("../internals/array-method-has-species-support"),d=(u=u("../internals/array-method-uses-to-length"),l=l("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),a("species")),h=[].slice,g=Math.max;v({target:"Array",proto:!0,forced:!l||!u},{slice:function(p,y){var C,H,B,R=_(this),P=w(R.length),k=m(p,P),T=m(void 0===y?P:y,P);if(f(R)&&((C="function"==typeof(C=R.constructor)&&(C===Array||f(C.prototype))||b(C)&&null===(C=C[d])?void 0:C)===Array||void 0===C))return h.call(R,k,T);for(H=new(void 0===C?Array:C)(g(T-k,0)),B=0;k<T;k++,B++)k in R&&i(H,B,R[k]);return H.length=B,H}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(m,ie,$){"use strict";var v=m("../internals/export"),b=m("../internals/array-iteration").some,f=m("../internals/array-method-is-strict");m=m("../internals/array-method-uses-to-length"),f=f("some"),m=m("some"),v({target:"Array",proto:!0,forced:!f||!m},{some:function(w){return b(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(l,ie,$){"use strict";var v=l("../internals/export"),b=l("../internals/to-absolute-index"),f=l("../internals/to-integer"),m=l("../internals/to-length"),w=l("../internals/to-object"),_=l("../internals/array-species-create"),i=l("../internals/create-property"),a=l("../internals/array-method-has-species-support"),u=(l=l("../internals/array-method-uses-to-length"),a=a("splice"),l=l("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),d=Math.min;v({target:"Array",proto:!0,forced:!a||!l},{splice:function(N,g){var p,y,C,H,B,R,P=w(this),k=m(P.length),T=b(N,k);if(0===(N=arguments.length)?p=y=0:y=1===N?(p=0,k-T):(p=N-2,d(u(f(g),0),k-T)),9007199254740991<k+p-y)throw TypeError("Maximum allowed length exceeded");for(C=_(P,y),H=0;H<y;H++)(B=T+H)in P&&i(C,H,P[B]);if(p<(C.length=y)){for(H=T;H<k-y;H++)R=H+p,(B=H+y)in P?P[R]=P[B]:delete P[R];for(H=k;k-y+p<H;H--)delete P[H-1]}else if(y<p)for(H=k-y;T<H;H--)R=H+p-1,(B=H+y-1)in P?P[R]=P[B]:delete P[R];for(H=0;H<p;H++)P[H+T]=arguments[H+2];return P.length=k-y+p,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,ie,$){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,ie,$){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(b,ie,$){var v=b("../internals/descriptors"),f=(b=b("../internals/object-define-property").f,Function.prototype),m=f.toString,w=/^\s*function ([^ (]*)/;!v||"name"in f||b(f,"name",{configurable:!0,get:function(){try{return m.call(this).match(w)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(b,ie,$){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),ie.exports=v("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,ie,$){v=v("../internals/export");var b=Math.hypot,f=Math.abs,m=Math.sqrt;v({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(w,_){for(var i,a,l=0,u=0,d=arguments.length,h=0;u<d;)h<(i=f(arguments[u++]))?(l=l*(a=h/i)*a+1,h=i):l+=0<i?(a=i/h)*a:i;return h===1/0?1/0:h*m(l)}})},{"../internals/export":50}],177:[function(v,ie,$){v=v("../internals/export");var b=Math.log,f=Math.LN2;v({target:"Math",stat:!0},{log2:function(m){return b(m)/f}})},{"../internals/export":50}],178:[function(o,ie,$){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,ie,$){"use strict";function v(j){var Z,ee,z,te,W,G,Y,le=l(j,!1);if("string"==typeof le&&2<le.length)if(43===(j=(le=y(le)).charCodeAt(0))||45===j){if(88===(Z=le.charCodeAt(2))||120===Z)return NaN}else if(48===j){switch(le.charCodeAt(1)){case 66:case 98:ee=2,z=49;break;case 79:case 111:ee=8,z=55;break;default:return+le}for(W=(te=le.slice(2)).length,G=0;G<W;G++)if((Y=te.charCodeAt(G))<48||z<Y)return NaN;return parseInt(te,ee)}return+le}var b=o("../internals/descriptors"),f=o("../internals/global"),m=o("../internals/is-forced"),w=o("../internals/redefine"),_=o("../internals/has"),i=o("../internals/classof-raw"),a=o("../internals/inherit-if-required"),l=o("../internals/to-primitive"),u=o("../internals/fails"),d=o("../internals/object-create"),h=o("../internals/object-get-own-property-names").f,g=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/object-define-property").f,y=o("../internals/string-trim").trim,C="Number",H=f[C],B=H.prototype,R=i(d(B))==C;if(m(C,!H(" 0o1")||!H("0b1")||H("+0x1"))){for(var P,k=function(Z){Z=arguments.length<1?0:Z;var ee=this;return ee instanceof k&&(R?u(function(){B.valueOf.call(ee)}):i(ee)!=C)?a(new H(v(Z)),ee,k):v(Z)},T=b?h(H):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;T.length>N;N++)_(H,P=T[N])&&!_(k,P)&&p(k,P,g(H,P));(k.prototype=B).constructor=k,w(f,C,k)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,ie,$){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,ie,$){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(_,ie,$){"use strict";function v(l,u,d){return 0===u?d:u%2==1?v(l,u-1,d*l):v(l*l,u/2,d)}var b=_("../internals/export"),f=_("../internals/to-integer"),m=_("../internals/this-number-value"),w=_("../internals/string-repeat"),i=(_=_("../internals/fails"),1..toFixed),a=Math.floor;b({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!_(function(){i.call({})})},{toFixed:function(C){function u(P,k){for(var T=-1,N=k;++T<6;)H[T]=(N+=P*H[T])%1e7,N=a(N/1e7)}function d(P){for(var k=6,T=0;0<=--k;)H[k]=a((T+=H[k])/P),T=T%P*1e7}function h(){for(var P,k=6,T="";0<=--k;)""===T&&0!==k&&0===H[k]||(P=String(H[k]),T=""===T?P:T+w.call("0",7-P.length)+P);return T}var g,p,y=m(this),H=(C=f(C),[0,0,0,0,0,0]),B="",R="0";if(C<0||20<C)throw RangeError("Incorrect fraction digits");if(y!=y)return"NaN";if(y<=-1e21||1e21<=y)return String(y);if(y<0&&(B="-",y=-y),1e-21<y)if(y=(g=function(P){for(var k=0,T=P;4096<=T;)k+=12,T/=4096;for(;2<=T;)k+=1,T/=2;return k}(y*v(2,69,1))-69)<0?y*v(2,-g,1):y/v(2,g,1),y*=4503599627370496,0<(g=52-g)){for(u(0,y),p=C;7<=p;)u(1e7,0),p-=7;for(u(v(10,p,1),0),p=g-1;23<=p;)d(1<<23),p-=23;d(1<<p),u(1,1),d(2),R=h()}else u(0,y),u(1<<-g,0),R=h()+w.call("0",C);return 0<C?B+((y=R.length)<=C?"0."+w.call("0",C-y)+R:R.slice(0,y-C)+"."+R.slice(y-C)):B+R}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(b,ie,$){var v=b("../internals/export");b=b("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(f){return b(f)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/iterate"),f=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(m){var w={};return b(m,function(_,i){f(w,_,i)},void 0,!0),w}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(m,ie,$){var v=m("../internals/export"),w=m("../internals/fails"),b=m("../internals/to-indexed-object"),f=m("../internals/object-get-own-property-descriptor").f;m=m("../internals/descriptors"),w=w(function(){f(1)}),v({target:"Object",stat:!0,forced:!m||w,sham:!m},{getOwnPropertyDescriptor:function(_,i){return f(b(_),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(f,ie,$){var v=f("../internals/export"),b=f("../internals/fails");f=f("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(w,ie,$){var v=w("../internals/export"),b=w("../internals/fails"),f=w("../internals/to-object"),m=w("../internals/object-get-prototype-of");w=w("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:b(function(){m(1)}),sham:!w},{getPrototypeOf:function(_){return m(f(_))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/to-object"),f=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){f(1)})},{keys:function(m){return f(b(m))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(f,ie,$){var v=f("../internals/to-string-tag-support"),b=f("../internals/redefine");f=f("../internals/object-to-string"),v||b(Object.prototype,"toString",f,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(kt,ie,$){"use strict";var v,b,f,m,w=kt("../internals/export"),_=kt("../internals/is-pure"),i=kt("../internals/global"),a=kt("../internals/get-built-in"),l=kt("../internals/native-promise-constructor"),u=kt("../internals/redefine"),d=kt("../internals/redefine-all"),h=kt("../internals/set-to-string-tag"),g=kt("../internals/set-species"),p=kt("../internals/is-object"),y=kt("../internals/a-function"),C=kt("../internals/an-instance"),H=kt("../internals/classof-raw"),B=kt("../internals/inspect-source"),R=kt("../internals/iterate"),P=kt("../internals/check-correctness-of-iteration"),k=kt("../internals/species-constructor"),T=kt("../internals/task").set,N=kt("../internals/microtask"),j=kt("../internals/promise-resolve"),Z=kt("../internals/host-report-errors"),ee=kt("../internals/new-promise-capability"),z=kt("../internals/perform"),te=kt("../internals/internal-state"),W=kt("../internals/is-forced"),ar=kt("../internals/well-known-symbol"),G=kt("../internals/engine-v8-version"),Y=ar("species"),le="Promise",Me=te.get,K=te.set,O=te.getterFor(le),oe=l,me=i.TypeError,Se=i.document,Ue=i.process,Xe=a("fetch"),lt=ee.f,ze=lt,st="process"==H(Ue),at=!!(Se&&Se.createEvent&&i.dispatchEvent),Fe="unhandledrejection",Vt=(ar=(kt=W(le,function(){var ir,Gt;return B(oe)===String(oe)&&(66===G||!st&&"function"!=typeof PromiseRejectionEvent)||!((!_||oe.prototype.finally)&&(51<=G&&/native code/.test(oe)||(Gt=function($e){$e(function(){},function(){})},((ir=oe.resolve(1)).constructor={})[Y]=Gt,ir.then(function(){})instanceof Gt)))}))||!P(function(ir){oe.all(ir).catch(function(){})}),function(ir){var Gt;return!(!p(ir)||"function"!=typeof(Gt=ir.then))&&Gt}),cr=function(ir,Gt,$e){var We;Gt.notified||(Gt.notified=!0,We=Gt.reactions,N(function(){for(var Pe,Je,Ot=Gt.value,zt=1==Gt.state,$t=0;We.length>$t;){var _t,Mt,Xt,tr=We[$t++],Rt=zt?tr.ok:tr.fail,vt=tr.resolve,Ut=tr.reject,yt=tr.domain;try{Rt?(zt||(2===Gt.rejection&&function(Nt,dr){T.call(i,function(){st?Ue.emit("rejectionHandled",Nt):It("rejectionhandled",Nt,dr.value)})}(ir,Gt),Gt.rejection=1),!0===Rt?_t=Ot:(yt&&yt.enter(),_t=Rt(Ot),yt&&(yt.exit(),Xt=!0)),_t===tr.promise?Ut(me("Promise-chain cycle")):(Mt=Vt(_t))?Mt.call(_t,vt,Ut):vt(_t)):Ut(Ot)}catch(Nt){yt&&!Xt&&yt.exit(),Ut(Nt)}}Gt.reactions=[],Gt.notified=!1,$e&&!Gt.rejection&&(Pe=ir,Je=Gt,T.call(i,function(){var Nt=Je.value,dr=br(Je);if(dr&&(dr=z(function(){st?Ue.emit("unhandledRejection",Nt,Pe):It(Fe,Pe,Nt)}),Je.rejection=st||br(Je)?2:1,dr.error))throw dr.value}))}))},It=function(ir,Gt,$e){var We;at?((We=Se.createEvent("Event")).promise=Gt,We.reason=$e,We.initEvent(ir,!1,!0),i.dispatchEvent(We)):We={promise:Gt,reason:$e},(Gt=i["on"+ir])?Gt(We):ir===Fe&&Z("Unhandled promise rejection",$e)},br=function(ir){return 1!==ir.rejection&&!ir.parent},Qt=function(ir,Gt,$e,We){return function(Pe){ir(Gt,$e,Pe,We)}},fr=function(ir,Gt,$e,We){Gt.done||(Gt.done=!0,(Gt=We||Gt).value=$e,Gt.state=2,cr(ir,Gt,!0))},Ct=function(ir,Gt,$e,We){if(!Gt.done){Gt.done=!0,We&&(Gt=We);try{if(ir===$e)throw me("Promise can't be resolved itself");var Pe=Vt($e);Pe?N(function(){var Je={done:!1};try{Pe.call($e,Qt(Ct,ir,Je,Gt),Qt(fr,ir,Je,Gt))}catch(Ot){fr(ir,Je,Ot,Gt)}}):(Gt.value=$e,Gt.state=1,cr(ir,Gt,!1))}catch(Je){fr(ir,{done:!1},Je,Gt)}}};kt&&(oe=function(ir){C(this,oe,le),y(ir),v.call(this);var Gt=Me(this);try{ir(Qt(Ct,this,Gt),Qt(fr,this,Gt))}catch($e){fr(this,Gt,$e)}},(v=function(ir){K(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(oe.prototype,{then:function(ir,Gt){var $e=O(this),We=lt(k(this,oe));return We.ok="function"!=typeof ir||ir,We.fail="function"==typeof Gt&&Gt,We.domain=st?Ue.domain:void 0,$e.parent=!0,$e.reactions.push(We),0!=$e.state&&cr(this,$e,!1),We.promise},catch:function(ir){return this.then(void 0,ir)}}),b=function(){var ir=new v,Gt=Me(ir);this.promise=ir,this.resolve=Qt(Ct,ir,Gt),this.reject=Qt(fr,ir,Gt)},ee.f=lt=function(ir){return ir===oe||ir===f?new b:ze(ir)},_||"function"!=typeof l||(m=l.prototype.then,u(l.prototype,"then",function(ir,Gt){var $e=this;return new oe(function(We,Pe){m.call($e,We,Pe)}).then(ir,Gt)},{unsafe:!0}),"function"==typeof Xe&&w({global:!0,enumerable:!0,forced:!0},{fetch:function(ir){return j(oe,Xe.apply(i,arguments))}}))),w({global:!0,wrap:!0,forced:kt},{Promise:oe}),h(oe,le,!1,!0),g(le),f=a(le),w({target:le,stat:!0,forced:kt},{reject:function(ir){var Gt=lt(this);return Gt.reject.call(void 0,ir),Gt.promise}}),w({target:le,stat:!0,forced:_||kt},{resolve:function(ir){return j(_&&this===f?oe:this,ir)}}),w({target:le,stat:!0,forced:ar},{all:function(ir){var Gt=this,$e=lt(Gt),We=$e.resolve,Pe=$e.reject,Je=z(function(){var Ot=y(Gt.resolve),zt=[],$t=0,_t=1;R(ir,function(Mt){var Xt=$t++,tr=!1;zt.push(void 0),_t++,Ot.call(Gt,Mt).then(function(Rt){tr||(tr=!0,zt[Xt]=Rt,--_t||We(zt))},Pe)}),--_t||We(zt)});return Je.error&&Pe(Je.value),$e.promise},race:function(ir){var Gt=this,$e=lt(Gt),We=$e.reject,Pe=z(function(){var Je=y(Gt.resolve);R(ir,function(Ot){Je.call(Gt,Ot).then($e.resolve,We)})});return Pe.error&&We(Pe.value),$e.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(i,ie,$){var v=i("../internals/export"),d=i("../internals/get-built-in"),b=i("../internals/a-function"),f=i("../internals/an-object"),m=i("../internals/is-object"),w=i("../internals/object-create"),_=i("../internals/function-bind"),a=(i=i("../internals/fails"),d("Reflect","construct")),l=i(function(){function h(){}return!(a(function(){},[],h)instanceof h)}),u=!i(function(){a(function(){})});v({target:"Reflect",stat:!0,forced:d=l||u,sham:d},{construct:function(h,g){b(h),f(g);var p=arguments.length<3?h:b(arguments[2]);if(u&&!l)return a(h,g,p);if(h==p){switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3])}var y=[null];return y.push.apply(y,g),new(_.apply(h,y))}return p=w(m(y=p.prototype)?y:Object.prototype),y=Function.apply.call(h,p,g),m(y)?y:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/is-object"),f=o("../internals/an-object"),m=o("../internals/has"),w=o("../internals/object-get-own-property-descriptor"),_=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function i(a,l){var u,d=arguments.length<3?a:arguments[2];return f(a)===d?a[l]:(u=w.f(a,l))?m(u,"value")?u.value:void 0===u.get?void 0:u.get.call(d):b(u=_(a))?i(u,l,d):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/global"),f=o("../internals/is-forced"),m=o("../internals/inherit-if-required"),w=o("../internals/object-define-property").f,_=o("../internals/object-get-own-property-names").f,i=o("../internals/is-regexp"),a=o("../internals/regexp-flags"),l=o("../internals/regexp-sticky-helpers"),u=o("../internals/redefine"),d=o("../internals/fails"),h=o("../internals/internal-state").set,g=o("../internals/set-species"),p=o("../internals/well-known-symbol")("match"),y=b.RegExp,C=y.prototype,H=/a/g,B=/a/g,R=new y(H)!==H,P=l.UNSUPPORTED_Y;if(v&&f("RegExp",!R||P||d(function(){return B[p]=!1,y(H)!=H||y(B)==B||"/a/i"!=y(H,"i")}))){for(var k=function(j,Z){var ee,z=this instanceof k,te=i(j),W=void 0===Z;return!z&&te&&j.constructor===k&&W?j:(R?te&&!W&&(j=j.source):j instanceof k&&(W&&(Z=a.call(j)),j=j.source),P&&(ee=!!Z&&-1<Z.indexOf("y"))&&(Z=Z.replace(/y/g,"")),te=m(R?new y(j,Z):y(j,Z),z?this:C,k),P&&ee&&h(te,{sticky:ee}),te)},T=_(y),N=0;T.length>N;)!function(j){j in k||w(k,j,{configurable:!0,get:function(){return y[j]},set:function(Z){y[j]=Z}})}(T[N++]);(C.constructor=k).prototype=C,u(b,"RegExp",k)}g("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(b,ie,$){"use strict";var v=b("../internals/export");b=b("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(m,ie,$){"use strict";var v=m("../internals/redefine"),b=m("../internals/an-object"),i=m("../internals/fails"),f=m("../internals/regexp-flags"),w=(m="toString",RegExp.prototype),_=w[m];((i=i(function(){return"/a/b"!=_.call({source:"a",flags:"b"})}))||_.name!=m)&&v(RegExp.prototype,m,function(){var l=b(this),u=String(l.source),d=l.flags;return"/"+u+"/"+String(void 0===d&&l instanceof RegExp&&!("flags"in w)?f.call(l):d)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(b,ie,$){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),ie.exports=v("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,f=_("../internals/to-length"),m=_("../internals/not-a-regexp"),w=_("../internals/require-object-coercible"),l=_("../internals/correct-is-regexp-logic"),i=(_=_("../internals/is-pure"),"".endsWith),a=Math.min;l=l("endsWith"),v({target:"String",proto:!0,forced:!(!_&&!l&&(v=b(String.prototype,"endsWith"))&&!v.writable||l)},{endsWith:function(u){var d=String(w(this)),h=(m(u),1<arguments.length?arguments[1]:void 0),g=f(d.length);return h=void 0===h?g:a(f(h),g),g=String(u),i?i.call(d,g,h):d.slice(h-g.length,h)===g}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/not-a-regexp"),f=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(m){return!!~String(f(this)).indexOf(b(m),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(f,ie,$){"use strict";var v=f("../internals/string-multibyte").charAt,b=f("../internals/internal-state"),m=(f=f("../internals/define-iterator"),"String Iterator"),w=b.set,_=b.getterFor(m);f(String,"String",function(i){w(this,{type:m,string:String(i),index:0})},function(){var i=_(this),a=i.string,l=i.index;return l>=a.length?{value:void 0,done:!0}:(a=v(a,l),i.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,ie,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),f=o("../internals/to-length"),m=o("../internals/require-object-coercible"),w=o("../internals/advance-string-index"),_=o("../internals/regexp-exec-abstract");v("match",1,function(i,a,l){return[function(u){var d=m(this),h=null==u?void 0:u[i];return void 0!==h?h.call(u,d):new RegExp(u)[i](String(d))},function(u){var d=l(a,u,this);if(d.done)return d.value;var h=b(u),g=String(this);if(!h.global)return _(h,g);for(var p=h.unicode,y=[],C=h.lastIndex=0;null!==(H=_(h,g));){var H=String(H[0]);""===(y[C]=H)&&(h.lastIndex=w(g,f(h.lastIndex),p)),C++}return 0===C?null:y}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(f){return b(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,ie,$){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,ie,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),f=o("../internals/to-object"),m=o("../internals/to-length"),w=o("../internals/to-integer"),_=o("../internals/require-object-coercible"),i=o("../internals/advance-string-index"),a=o("../internals/regexp-exec-abstract"),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;v("replace",2,function(p,y,C,H){var B=H.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,R=H.REPLACE_KEEPS_$0,P=B?"$":"$0";return[function(k,T){var N=_(this),j=null==k?void 0:k[p];return void 0!==j?j.call(k,N,T):y.call(String(N),k,T)},function(k,T){if(!B&&R||"string"==typeof T&&-1===T.indexOf(P)){var N=C(y,k,this,T);if(N.done)return N.value}for(var j,Z=b(k),ee=String(this),z="function"==typeof T,te=(z||(T=String(T)),Z.global),W=(te&&(j=Z.unicode,Z.lastIndex=0),[]);null!==(K=a(Z,ee))&&(W.push(K),te);)""===String(K[0])&&(Z.lastIndex=i(ee,m(Z.lastIndex),j));for(var G,Y="",le=0,Me=0;Me<W.length;Me++){for(var K=W[Me],O=String(K[0]),oe=l(u(w(K.index),ee.length),0),me=[],Se=1;Se<K.length;Se++)me.push(void 0===(G=K[Se])?G:String(G));var Ue=K.groups,Xe=z?(Xe=[O].concat(me,oe,ee),void 0!==Ue&&Xe.push(Ue),String(T.apply(void 0,Xe))):function(lt,ze,st,at,Fe,nt){var Ye=st+lt.length,ot=at.length,Ze=g;return void 0!==Fe&&(Fe=f(Fe),Ze=h),y.call(nt,Ze,function(pt,kt){var ar;switch(kt.charAt(0)){case"$":return"$";case"&":return lt;case"`":return ze.slice(0,st);case"'":return ze.slice(Ye);case"<":ar=Fe[kt.slice(1,-1)];break;default:var Vt,cr=+kt;if(0==cr)return pt;if(ot<cr)return 0!==(Vt=d(cr/10))&&Vt<=ot?void 0===at[Vt-1]?kt.charAt(1):at[Vt-1]+kt.charAt(1):pt;ar=at[cr-1]}return void 0===ar?"":ar})}(O,ee,oe,me,Ue,T);le<=oe&&(Y+=ee.slice(le,oe)+Xe,le=oe+O.length)}return Y+ee.slice(le)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,ie,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),f=o("../internals/require-object-coercible"),m=o("../internals/same-value"),w=o("../internals/regexp-exec-abstract");v("search",1,function(_,i,a){return[function(l){var u=f(this),d=null==l?void 0:l[_];return void 0!==d?d.call(l,u):new RegExp(l)[_](String(u))},function(l){var u,d=a(i,l,this);return d.done?d.value:(d=b(l),l=String(this),m(u=d.lastIndex,0)||(d.lastIndex=0),l=w(d,l),m(d.lastIndex,u)||(d.lastIndex=u),null===l?-1:l.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(u,ie,$){"use strict";var v=u("../internals/fix-regexp-well-known-symbol-logic"),b=u("../internals/is-regexp"),f=u("../internals/an-object"),m=u("../internals/require-object-coercible"),w=u("../internals/species-constructor"),_=u("../internals/advance-string-index"),i=u("../internals/to-length"),a=u("../internals/regexp-exec-abstract"),l=u("../internals/regexp-exec"),d=(u=u("../internals/fails"),[].push),h=Math.min,g=4294967295,p=!u(function(){return!RegExp(g,"y")});v("split",2,function(y,C,H){var B="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(R,P){var k=String(m(this)),T=void 0===P?g:P>>>0;if(0==T)return[];if(void 0===R)return[k];if(!b(R))return C.call(k,R,T);for(var N,j,Z,ee=[],z=(P=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(R.sticky?"y":""),0),te=new RegExp(R.source,P+"g");(N=l.call(te,k))&&!(z<(j=te.lastIndex)&&(ee.push(k.slice(z,N.index)),1<N.length&&N.index<k.length&&d.apply(ee,N.slice(1)),Z=N[0].length,z=j,ee.length>=T));)te.lastIndex===N.index&&te.lastIndex++;return z===k.length?!Z&&te.test("")||ee.push(""):ee.push(k.slice(z)),ee.length>T?ee.slice(0,T):ee}:"0".split(void 0,0).length?function(R,P){return void 0===R&&0===P?[]:C.call(this,R,P)}:C;return[function(R,P){var k=m(this),T=null==R?void 0:R[y];return void 0!==T?T.call(R,k,P):B.call(String(k),R,P)},function(N,P){if((k=H(B,N,this,P,B!==C)).done)return k.value;var k=f(N),T=String(this),j=(N=w(k,RegExp),k.unicode),ee=new N(p?k:"^(?:"+k.source+")",(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(p?"y":"g")),z=void 0===P?g:P>>>0;if(0==z)return[];if(0===T.length)return null===a(ee,T)?[T]:[];for(var te=0,W=0,G=[];W<T.length;){ee.lastIndex=p?W:0;var Y,le=a(ee,p?T:T.slice(W));if(null===le||(Y=h(i(ee.lastIndex+(p?0:W)),T.length))===te)W=_(T,W,j);else{if(G.push(T.slice(te,W)),G.length===z)return G;for(var Me=1;Me<=le.length-1;Me++)if(G.push(le[Me]),G.length===z)return G;W=te=Y}}return G.push(T.slice(te)),G}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,f=_("../internals/to-length"),m=_("../internals/not-a-regexp"),w=_("../internals/require-object-coercible"),l=_("../internals/correct-is-regexp-logic"),i=(_=_("../internals/is-pure"),"".startsWith),a=Math.min;l=l("startsWith"),v({target:"String",proto:!0,forced:!(!_&&!l&&(v=b(String.prototype,"startsWith"))&&!v.writable||l)},{startsWith:function(g){var d=String(w(this)),h=(m(g),f(a(1<arguments.length?arguments[1]:void 0,d.length)));return g=String(g),i?i.call(d,g,h):d.slice(h,h+g.length)===g}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(h,ie,$){"use strict";var v,b,f,m,w,_=h("../internals/export"),i=h("../internals/descriptors"),a=h("../internals/global"),l=h("../internals/has"),u=h("../internals/is-object"),d=h("../internals/object-define-property").f,g=(h=h("../internals/copy-constructor-properties"),a.Symbol);!i||"function"!=typeof g||"description"in g.prototype&&void 0===g().description||(v={},h(b=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),y=this instanceof b?new g(p):void 0===p?g():g(p);return""===p&&(v[y]=!0),y},g),(a=b.prototype=g.prototype).constructor=b,f=a.toString,m="Symbol(test)"==String(g("test")),w=/^Symbol\((.*)\)[^)]+$/,d(a,"description",{configurable:!0,get:function(){var p=u(this)?this.valueOf():this,y=f.call(p);return l(v,p)?"":""===(p=m?y.slice(7,-1):y.replace(w,"$1"))?void 0:p}}),_({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,ie,$){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(ze,ie,$){"use strict";function v(Pe,Je){var Ot=ar[Pe]=k(nt[lt]);return st(Ot,{type:Xe,tag:Pe,description:Je}),l||(Ot.description=Je),Ot}function b(Pe,zt){C(Pe);var Ot=B(zt);return zt=T(Ot).concat(We(Ot)),Se(zt,function($t){l&&!$e.call(Ot,$t)||Gt(Pe,$t,Ot[$t])}),Pe}function f(zt,$t){var Ot;if(zt=B(zt),$t=R($t,!0),zt!==Fe||!g(ar,$t)||g(Vt,$t))return!(Ot=ot(zt,$t))||!g(ar,$t)||g(zt,Ue)&&zt[Ue][$t]||(Ot.enumerable=!0),Ot}function m(Je){Je=pt(B(Je));var Ot=[];return Se(Je,function(zt){g(ar,zt)||g(le,zt)||Ot.push(zt)}),Ot}var w=ze("../internals/export"),_=ze("../internals/global"),i=ze("../internals/get-built-in"),a=ze("../internals/is-pure"),l=ze("../internals/descriptors"),u=ze("../internals/native-symbol"),d=ze("../internals/use-symbol-as-uid"),h=ze("../internals/fails"),g=ze("../internals/has"),p=ze("../internals/is-array"),y=ze("../internals/is-object"),C=ze("../internals/an-object"),H=ze("../internals/to-object"),B=ze("../internals/to-indexed-object"),R=ze("../internals/to-primitive"),P=ze("../internals/create-property-descriptor"),k=ze("../internals/object-create"),T=ze("../internals/object-keys"),N=ze("../internals/object-get-own-property-names"),j=ze("../internals/object-get-own-property-names-external"),Z=ze("../internals/object-get-own-property-symbols"),ee=ze("../internals/object-get-own-property-descriptor"),z=ze("../internals/object-define-property"),te=ze("../internals/object-property-is-enumerable"),W=ze("../internals/create-non-enumerable-property"),G=ze("../internals/redefine"),Y=ze("../internals/shared"),br=ze("../internals/shared-key"),le=ze("../internals/hidden-keys"),Me=ze("../internals/uid"),K=ze("../internals/well-known-symbol"),O=ze("../internals/well-known-symbol-wrapped"),oe=ze("../internals/define-well-known-symbol"),me=ze("../internals/set-to-string-tag"),Qt=ze("../internals/internal-state"),Se=ze("../internals/array-iteration").forEach,Ue=br("hidden"),Xe="Symbol",lt="prototype",st=(ze=K("toPrimitive"),Qt.set),at=Qt.getterFor(Xe),Fe=Object[lt],nt=_.Symbol,Ye=i("JSON","stringify"),ot=ee.f,Ze=z.f,pt=j.f,kt=te.f,ar=Y("symbols"),Vt=Y("op-symbols"),cr=Y("string-to-symbol-registry"),It=Y("symbol-to-string-registry"),fr=(br=Y("wks"),!(Qt=_.QObject)||!Qt[lt]||!Qt[lt].findChild),Ct=l&&h(function(){return 7!=k(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a})?function(Pe,Je,Ot){var zt=ot(Fe,Je);zt&&delete Fe[Je],Ze(Pe,Je,Ot),zt&&Pe!==Fe&&Ze(Fe,Je,zt)}:Ze,ir=d?function(Pe){return"symbol"==typeof Pe}:function(Pe){return Object(Pe)instanceof nt},Gt=function(Pe,Je,Ot){return Pe===Fe&&Gt(Vt,Je,Ot),C(Pe),Je=R(Je,!0),C(Ot),(g(ar,Je)?(Ot.enumerable?(g(Pe,Ue)&&Pe[Ue][Je]&&(Pe[Ue][Je]=!1),Ot=k(Ot,{enumerable:P(0,!1)})):(g(Pe,Ue)||Ze(Pe,Ue,P(1,{})),Pe[Ue][Je]=!0),Ct):Ze)(Pe,Je,Ot)},$e=function(Je){Je=R(Je,!0);var Ot=kt.call(this,Je);return!(this===Fe&&g(ar,Je)&&!g(Vt,Je))&&(!(Ot||!g(this,Je)||!g(ar,Je)||g(this,Ue)&&this[Ue][Je])||Ot)},We=function(Ot){var Je=Ot===Fe,zt=(Ot=pt(Je?Vt:B(Ot)),[]);return Se(Ot,function($t){!g(ar,$t)||Je&&!g(Fe,$t)||zt.push(ar[$t])}),zt};u||(G((nt=function(){if(this instanceof nt)throw TypeError("Symbol is not a constructor");var Pe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Je=Me(Pe),Ot=function(zt){this===Fe&&Ot.call(Vt,zt),g(this,Ue)&&g(this[Ue],Je)&&(this[Ue][Je]=!1),Ct(this,Je,P(1,zt))};return l&&fr&&Ct(Fe,Je,{configurable:!0,set:Ot}),v(Je,Pe)})[lt],"toString",function(){return at(this).tag}),G(nt,"withoutSetter",function(Pe){return v(Me(Pe),Pe)}),te.f=$e,z.f=Gt,ee.f=f,N.f=j.f=m,Z.f=We,O.f=function(Pe){return v(K(Pe),Pe)},l&&(Ze(nt[lt],"description",{configurable:!0,get:function(){return at(this).description}}),a||G(Fe,"propertyIsEnumerable",$e,{unsafe:!0}))),w({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:nt}),Se(T(br),function(Pe){oe(Pe)}),w({target:Xe,stat:!0,forced:!u},{for:function(Ot){var Je;return Ot=String(Ot),g(cr,Ot)?cr[Ot]:(Je=nt(Ot),cr[Ot]=Je,It[Je]=Ot,Je)},keyFor:function(Pe){if(!ir(Pe))throw TypeError(Pe+" is not a symbol");if(g(It,Pe))return It[Pe]},useSetter:function(){fr=!0},useSimple:function(){fr=!1}}),w({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(Pe,Je){return void 0===Je?k(Pe):b(k(Pe),Je)},defineProperty:Gt,defineProperties:b,getOwnPropertyDescriptor:f}),w({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:m,getOwnPropertySymbols:We}),w({target:"Object",stat:!0,forced:h(function(){Z.f(1)})},{getOwnPropertySymbols:function(Pe){return Z.f(H(Pe))}}),Ye&&w({target:"JSON",stat:!0,forced:!u||h(function(){var Pe=nt();return"[null]"!=Ye([Pe])||"{}"!=Ye({a:Pe})||"{}"!=Ye(Object(Pe))})},{stringify:function(Pe,Je,Ot){for(var zt,$t=[Pe],_t=1;_t<arguments.length;)$t.push(arguments[_t++]);if((y(zt=Je)||void 0!==Pe)&&!ir(Pe))return p(Je)||(Je=function(Mt,Xt){if("function"==typeof zt&&(Xt=zt.call(this,Mt,Xt)),!ir(Xt))return Xt}),$t[1]=Je,Ye.apply(null,$t)}}),nt[lt][ze]||W(nt[lt],ze,nt[lt].valueOf),me(nt,Xe),le[Ue]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-copy-within"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(m,w){return b.call(f(this),m,w,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").every,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(m){return b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-fill"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(m){return b.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").filter,f=o("../internals/species-constructor"),m=v.aTypedArray,w=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(_){for(var i=b(m(this),_,1<arguments.length?arguments[1]:void 0),a=(_=f(this,this.constructor),0),l=i.length,u=new(w(_))(l);a<l;)u[a]=i[a++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").findIndex,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(m){return b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").find,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(m){return b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,ie,$){o("../internals/typed-array-constructor")("Float32",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],220:[function(o,ie,$){o("../internals/typed-array-constructor")("Float64",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],221:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").forEach,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(m){b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").includes,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(m){return b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").indexOf,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(m){return b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,ie,$){o("../internals/typed-array-constructor")("Int16",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],225:[function(o,ie,$){o("../internals/typed-array-constructor")("Int32",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],226:[function(b,ie,$){"use strict";function v(){return f.call(_(this))}var l=b("../internals/global"),a=b("../internals/array-buffer-view-core"),i=b("../modules/es.array.iterator"),f=(b=b("../internals/well-known-symbol")("iterator"),i.values),m=i.keys,w=i.entries,_=a.aTypedArray;i=a.exportTypedArrayMethod,l=!!(a=(l=l.Uint8Array)&&l.prototype[b])&&("values"==a.name||null==a.name),i("entries",function(){return w.call(_(this))}),i("keys",function(){return m.call(_(this))}),i("values",v,!l),i(b,v,!l)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(b,ie,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,f=[].join;(b=b.exportTypedArrayMethod)("join",function(m){return f.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-last-index-of"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(m){return b.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").map,f=o("../internals/species-constructor"),m=v.aTypedArray,w=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(_){return b(m(this),_,1<arguments.length?arguments[1]:void 0,function(i,a){return new(w(f(i,i.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").right,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(m){return b(f(this),m,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").left,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(m){return b(f(this),m,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(b,ie,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,f=(b=b.exportTypedArrayMethod,Math.floor);b("reverse",function(){for(var m,w=v(this).length,_=f(w/2),i=0;i<_;)m=this[i],this[i++]=this[--w],this[w]=m;return this})},{"../internals/array-buffer-view-core":12}],233:[function(w,ie,$){"use strict";var v=w("../internals/array-buffer-view-core"),b=w("../internals/to-length"),f=w("../internals/to-offset"),m=w("../internals/to-object"),_=(w=w("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(i){_(this);var a=f(1<arguments.length?arguments[1]:void 0,1),l=this.length,u=m(i),d=b(u.length),h=0;if(l<d+a)throw RangeError("Wrong length");for(;h<d;)this[a+h]=u[h++]},w(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(b,ie,$){"use strict";var w=b("../internals/array-buffer-view-core"),v=b("../internals/species-constructor"),f=(b=b("../internals/fails"),w.aTypedArray),m=w.aTypedArrayConstructor,_=[].slice;(w=w.exportTypedArrayMethod)("slice",function(i,a){for(var l=_.call(f(this),i,a),u=(i=v(this,this.constructor),0),d=l.length,h=new(m(i))(d);u<d;)h[u]=l[u++];return h},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").some,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(m){return b(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(b,ie,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,f=[].sort;(b=b.exportTypedArrayMethod)("sort",function(m){return f.call(v(this),m)})},{"../internals/array-buffer-view-core":12}],237:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/to-length"),f=o("../internals/to-absolute-index"),m=o("../internals/species-constructor"),w=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(u,i){var a=w(this),l=a.length;return u=f(u,l),new(m(a,a.constructor))(a.buffer,a.byteOffset+u*a.BYTES_PER_ELEMENT,b((void 0===i?l:f(i,l))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(b,ie,$){"use strict";var w=b("../internals/global"),v=b("../internals/array-buffer-view-core"),f=(b=b("../internals/fails"),w.Int8Array),m=v.aTypedArray,_=(w=v.exportTypedArrayMethod,[].toLocaleString),i=[].slice,a=!!f&&b(function(){_.call(new f(1))});w("toLocaleString",function(){return _.apply(a?i.call(m(this)):m(this),arguments)},b(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!b(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(b,ie,$){"use strict";var v=b("../internals/array-buffer-view-core").exportTypedArrayMethod,w=b("../internals/fails"),f=(b=(b=b("../internals/global").Uint8Array)&&b.prototype||{},[].toString),m=[].join;w(function(){f.call({})})&&(f=function(){return m.call(this)}),v("toString",f,w=b.toString!=f)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint16",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],241:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint32",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],242:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,f,m){return v(this,b,f,m)}})},{"../internals/typed-array-constructor":144}],243:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,f,m){return v(this,b,f,m)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(g,C,$){"use strict";function v(H){return function(){return H(this,arguments.length?arguments[0]:void 0)}}var b,f,m,w,_,p=g("../internals/global"),i=g("../internals/redefine-all"),a=g("../internals/internal-metadata"),l=g("../internals/collection"),u=g("../internals/collection-weak"),d=g("../internals/is-object"),h=g("../internals/internal-state").enforce,y=(g=g("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);C=C.exports=l("WeakMap",v,u),g&&p&&(b=u.getConstructor(v,"WeakMap",!0),a.REQUIRED=!0,f=(l=C.prototype).delete,m=l.has,w=l.get,_=l.set,i(l,{delete:function(H){var B;return d(H)&&!y(H)?((B=h(this)).frozen||(B.frozen=new b),f.call(this,H)||B.frozen.delete(H)):f.call(this,H)},has:function(H){var B;return d(H)&&!y(H)?((B=h(this)).frozen||(B.frozen=new b),m.call(this,H)||B.frozen.has(H)):m.call(this,H)},get:function(H){var B;return!d(H)||y(H)||((B=h(this)).frozen||(B.frozen=new b),m.call(this,H))?w.call(this,H):B.frozen.get(H)},set:function(H,B){var R;return!d(H)||y(H)||((R=h(this)).frozen||(R.frozen=new b),m.call(this,H))?_.call(this,H,B):R.frozen.set(H,B),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,ie,$){var v,b=o("../internals/global"),f=o("../internals/dom-iterables"),m=o("../internals/array-for-each"),w=o("../internals/create-non-enumerable-property");for(v in f){var _;if((_=(_=b[v])&&_.prototype)&&_.forEach!==m)try{w(_,"forEach",m)}catch{_.forEach=m}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(_,ie,$){var v,b=_("../internals/global"),f=_("../internals/dom-iterables"),m=_("../modules/es.array.iterator"),w=_("../internals/create-non-enumerable-property"),i=(_=_("../internals/well-known-symbol"))("iterator"),a=_("toStringTag"),l=m.values;for(v in f){var u=b[v],d=u&&u.prototype;if(d){if(d[i]!==l)try{w(d,i,l)}catch{d[i]=l}if(d[a]||w(d,a,v),f[v])for(var h in m)if(d[h]!==m[h])try{w(d,h,m[h])}catch{d[h]=m[h]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Ue,ie,$){"use strict";function v(Xe){try{return decodeURIComponent(Xe)}catch{return Xe}}function b(Xe){return oe[Xe]}function f(Xe){return encodeURIComponent(Xe).replace(O,b)}function m(Xe){this.entries.length=0,me(this.entries,Xe)}function w(Xe,lt){if(Xe<lt)throw TypeError("Not enough arguments")}function _(){p(this,_,z);var Xe,lt,ze,st,at,Fe,nt,Ye,ot=0<arguments.length?arguments[0]:void 0,Ze=[];if(W(this,{type:z,entries:Ze,updateURL:function(){},updateSearchParams:m}),void 0!==ot)if(R(ot))if("function"==typeof(Xe=N(ot)))for(ze=(lt=Xe.call(ot)).next;!(st=ze.call(lt)).done;){if((Fe=(at=(st=T(B(st.value))).next).call(st)).done||(nt=at.call(st)).done||!at.call(st).done)throw TypeError("Expected sequence with length 2");Ze.push({key:Fe.value+"",value:nt.value+""})}else for(Ye in ot)y(ot,Ye)&&Ze.push({key:Ye,value:ot[Ye]+""});else me(Ze,"string"==typeof ot?"?"===ot.charAt(0)?ot.slice(1):ot:ot+"")}Ue("../modules/es.array.iterator");var i=Ue("../internals/export"),ee=Ue("../internals/get-built-in"),a=Ue("../internals/native-url"),l=Ue("../internals/redefine"),u=Ue("../internals/redefine-all"),d=Ue("../internals/set-to-string-tag"),h=Ue("../internals/create-iterator-constructor"),g=Ue("../internals/internal-state"),p=Ue("../internals/an-instance"),y=Ue("../internals/has"),C=Ue("../internals/function-bind-context"),H=Ue("../internals/classof"),B=Ue("../internals/an-object"),R=Ue("../internals/is-object"),P=Ue("../internals/object-create"),k=Ue("../internals/create-property-descriptor"),T=Ue("../internals/get-iterator"),N=Ue("../internals/get-iterator-method"),j=(Ue=Ue("../internals/well-known-symbol"),ee("fetch")),Z=ee("Headers"),z=(ee=Ue("iterator"),"URLSearchParams"),te=z+"Iterator",W=g.set,G=g.getterFor(z),Y=g.getterFor(te),le=/\+/g,Me=Array(4),K=function(Xe){var lt,ze=Xe.replace(le," "),st=4;try{return decodeURIComponent(ze)}catch{for(;st;)ze=ze.replace((lt=st--,Me[lt-1]||(Me[lt-1]=RegExp("((?:%[\\da-f]{2}){"+lt+"})","gi"))),v);return ze}},O=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},me=function(Xe,lt){if(lt)for(var ze,st=lt.split("&"),at=0;at<st.length;)(ze=st[at++]).length&&(ze=ze.split("="),Xe.push({key:K(ze.shift()),value:K(ze.join("="))}))},Se=h(function(Xe,lt){W(this,{type:te,iterator:T(G(Xe).entries),kind:lt})},"Iterator",function(){var lt,Xe=(lt=Y(this)).kind,ze=(lt=lt.iterator.next()).value;return lt.done||(lt.value="keys"===Xe?ze.key:"values"===Xe?ze.value:[ze.key,ze.value]),lt});u(Ue=_.prototype,{append:function(Xe,lt){w(arguments.length,2);var ze=G(this);ze.entries.push({key:Xe+"",value:lt+""}),ze.updateURL()},delete:function(Xe){w(arguments.length,1);for(var lt=G(this),ze=lt.entries,st=Xe+"",at=0;at<ze.length;)ze[at].key===st?ze.splice(at,1):at++;lt.updateURL()},get:function(Xe){w(arguments.length,1);for(var lt=G(this).entries,ze=Xe+"",st=0;st<lt.length;st++)if(lt[st].key===ze)return lt[st].value;return null},getAll:function(Xe){w(arguments.length,1);for(var lt=G(this).entries,ze=Xe+"",st=[],at=0;at<lt.length;at++)lt[at].key===ze&&st.push(lt[at].value);return st},has:function(Xe){w(arguments.length,1);for(var lt=G(this).entries,ze=Xe+"",st=0;st<lt.length;)if(lt[st++].key===ze)return!0;return!1},set:function(Xe,lt){w(arguments.length,1);for(var ze,st=G(this),at=st.entries,Fe=!1,nt=Xe+"",Ye=lt+"",ot=0;ot<at.length;ot++)(ze=at[ot]).key===nt&&(Fe?at.splice(ot--,1):(Fe=!0,ze.value=Ye));Fe||at.push({key:nt,value:Ye}),st.updateURL()},sort:function(){for(var Xe,lt,ze=G(this),st=ze.entries,at=st.slice(),Fe=st.length=0;Fe<at.length;Fe++){for(Xe=at[Fe],lt=0;lt<Fe;lt++)if(st[lt].key>Xe.key){st.splice(lt,0,Xe);break}lt===Fe&&st.push(Xe)}ze.updateURL()},forEach:function(Xe){for(var lt,ze=G(this).entries,st=C(Xe,1<arguments.length?arguments[1]:void 0,3),at=0;at<ze.length;)st((lt=ze[at++]).value,lt.key,this)},keys:function(){return new Se(this,"keys")},values:function(){return new Se(this,"values")},entries:function(){return new Se(this,"entries")}},{enumerable:!0}),l(Ue,ee,Ue.entries),l(Ue,"toString",function(){for(var Xe,lt=G(this).entries,ze=[],st=0;st<lt.length;)Xe=lt[st++],ze.push(f(Xe.key)+"="+f(Xe.value));return ze.join("&")},{enumerable:!0}),d(_,z),i({global:!0,forced:!a},{URLSearchParams:_}),a||"function"!=typeof j||"function"!=typeof Z||i({global:!0,enumerable:!0,forced:!0},{fetch:function(at){var lt,ze,st;return at=[at],1<arguments.length&&(R(lt=arguments[1])&&H(ze=lt.body)===z&&((st=lt.headers?new Z(lt.headers):new Z).has("content-type")||st.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),lt=P(lt,{body:k(0,String(ze)),headers:k(0,st)})),at.push(lt)),j.apply(this,at)}}),ie.exports={URLSearchParams:_,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(T,ie,$){"use strict";function v(D){var J,V,ne,Ne;if("number"==typeof D){for(J=[],V=0;V<4;V++)J.unshift(D%256),D=te(D/256);return J.join(".")}if("object"!=typeof D)return D;for(J="",ne=nt(D),V=0;V<8;V++)Ne&&0===D[V]||(Ne=Ne&&!1,ne===V?(J+=V?":":"::",Ne=!0):(J+=D[V].toString(16),V<7&&(J+=":")));return"["+J+"]"}function b(D){return!D.host||D.cannotBeABaseURL||"file"==D.scheme}function f(D,J,V,ne){var Ne,De,qe,St=V||ir,sr=0,je="",Ve=!1,ht=!1,Ge=!1;for(V||(D.scheme="",D.username="",D.password="",D.host=null,D.port=null,D.path=[],D.query=null,D.fragment=null,D.cannotBeABaseURL=!1,J=J.replace(st,"")),J=J.replace(at,""),Ne=H(J);sr<=Ne.length;){switch(De=Ne[sr],St){case ir:if(!De||!K.test(De)){if(V)return Y;St=$e;continue}je+=De.toLowerCase(),St=Gt;break;case Gt:if(De&&(O.test(De)||"+"==De||"-"==De||"."==De))je+=De.toLowerCase();else{if(":"!=De){if(V)return Y;je="",St=$e,sr=0;continue}if(V&&(Vt(D)!=y(ar,je)||"file"==je&&(cr(D)||null!==D.port)||"file"==D.scheme&&!D.host))return;if(D.scheme=je,V)return void(Vt(D)&&ar[D.scheme]==D.port&&(D.port=null));je="","file"==D.scheme?St=Rt:Vt(D)&&ne&&ne.scheme==D.scheme?St=We:Vt(D)?St=zt:"/"==Ne[sr+1]?(St=Pe,sr++):(D.cannotBeABaseURL=!0,D.path.push(""),St=dr)}break;case $e:if(!ne||ne.cannotBeABaseURL&&"#"!=De)return Y;if(ne.cannotBeABaseURL&&"#"==De){D.scheme=ne.scheme,D.path=ne.path.slice(),D.query=ne.query,D.fragment="",D.cannotBeABaseURL=!0,St=Dt;break}St="file"==ne.scheme?Rt:Je;continue;case We:if("/"!=De||"/"!=Ne[sr+1]){St=Je;continue}St=$t,sr++;break;case Pe:if("/"==De){St=_t;break}St=Nt;continue;case Je:if(D.scheme=ne.scheme,De==_)D.username=ne.username,D.password=ne.password,D.host=ne.host,D.port=ne.port,D.path=ne.path.slice(),D.query=ne.query;else if("/"==De||"\\"==De&&Vt(D))St=Ot;else if("?"==De)D.username=ne.username,D.password=ne.password,D.host=ne.host,D.port=ne.port,D.path=ne.path.slice(),D.query="",St=ft;else{if("#"!=De){D.username=ne.username,D.password=ne.password,D.host=ne.host,D.port=ne.port,D.path=ne.path.slice(),D.path.pop(),St=Nt;continue}D.username=ne.username,D.password=ne.password,D.host=ne.host,D.port=ne.port,D.path=ne.path.slice(),D.query=ne.query,D.fragment="",St=Dt}break;case Ot:if(!Vt(D)||"/"!=De&&"\\"!=De){if("/"!=De){D.username=ne.username,D.password=ne.password,D.host=ne.host,D.port=ne.port,St=Nt;continue}St=_t}else St=$t;break;case zt:if(St=$t,"/"!=De||"/"!=je.charAt(sr+1))continue;sr++;break;case $t:if("/"==De||"\\"==De)break;St=_t;continue;case _t:if("@"==De){Ve&&(je="%40"+je),Ve=!0;for(var dt=H(je),Bt=0;Bt<dt.length;Bt++){var ur=dt[Bt];":"!=ur||Ge?(ur=kt(ur,pt),Ge?D.password+=ur:D.username+=ur):Ge=!0}je=""}else if(De==_||"/"==De||"?"==De||"#"==De||"\\"==De&&Vt(D)){if(Ve&&""==je)return G;sr-=H(je).length+1,je="",St=Mt}else je+=De;break;case Mt:case Xt:if(V&&"file"==D.scheme){St=Ut;continue}if(":"!=De||ht){if(De==_||"/"==De||"?"==De||"#"==De||"\\"==De&&Vt(D)){if(Vt(D)&&""==je)return le;if(V&&""==je&&(cr(D)||null!==D.port))return;if(qe=Fe(D,je))return qe;if(je="",St=yt,V)return;continue}"["==De?ht=!0:"]"==De&&(ht=!1),je+=De}else{if(""==je)return le;if(qe=Fe(D,je))return qe;if(je="",St=tr,V==Xt)return}break;case tr:if(!oe.test(De)){if(De==_||"/"==De||"?"==De||"#"==De||"\\"==De&&Vt(D)||V){if(""!=je){var vr=parseInt(je,10);if(65535<vr)return Me;D.port=Vt(D)&&vr===ar[D.scheme]?null:vr,je=""}if(V)return;St=yt;continue}return Me}je+=De;break;case Rt:if(D.scheme="file","/"==De||"\\"==De)St=vt;else{if(!ne||"file"!=ne.scheme){St=Nt;continue}if(De==_)D.host=ne.host,D.path=ne.path.slice(),D.query=ne.query;else if("?"==De)D.host=ne.host,D.path=ne.path.slice(),D.query="",St=ft;else{if("#"!=De){br(Ne.slice(sr).join(""))||(D.host=ne.host,D.path=ne.path.slice(),Qt(D)),St=Nt;continue}D.host=ne.host,D.path=ne.path.slice(),D.query=ne.query,D.fragment="",St=Dt}}break;case vt:if("/"==De||"\\"==De){St=Ut;break}ne&&"file"==ne.scheme&&!br(Ne.slice(sr).join(""))&&(It(ne.path[0],!0)?D.path.push(ne.path[0]):D.host=ne.host),St=Nt;continue;case Ut:if(De==_||"/"==De||"\\"==De||"?"==De||"#"==De){if(!V&&It(je))St=Nt;else{if(""==je){if(D.host="",V)return}else{if(qe=Fe(D,je))return qe;if("localhost"==D.host&&(D.host=""),V)return;je=""}St=yt}continue}je+=De;break;case yt:if(Vt(D)){if(St=Nt,"/"!=De&&"\\"!=De)continue}else if(V||"?"!=De)if(V||"#"!=De){if(De!=_&&(St=Nt,"/"!=De))continue}else D.fragment="",St=Dt;else D.query="",St=ft;break;case Nt:if(De==_||"/"==De||"\\"==De&&Vt(D)||!V&&("?"==De||"#"==De)){if(Ct(je)?(Qt(D),"/"==De||"\\"==De&&Vt(D)||D.path.push("")):fr(je)?"/"==De||"\\"==De&&Vt(D)||D.path.push(""):("file"==D.scheme&&!D.path.length&&It(je)&&(D.host&&(D.host=""),je=je.charAt(0)+":"),D.path.push(je)),je="","file"==D.scheme&&(De==_||"?"==De||"#"==De))for(;1<D.path.length&&""===D.path[0];)D.path.shift();"?"==De?(D.query="",St=ft):"#"==De&&(D.fragment="",St=Dt)}else je+=kt(De,Ze);break;case dr:"?"==De?(D.query="",St=ft):"#"==De?(D.fragment="",St=Dt):De!=_&&(D.path[0]+=kt(De,Ye));break;case ft:V||"#"!=De?De!=_&&("'"==De&&Vt(D)?D.query+="%27":D.query+="#"==De?"%23":kt(De,Ye)):(D.fragment="",St=Dt);break;case Dt:De!=_&&(D.fragment+=kt(De,ot))}sr++}}function m(De){var J,V,ne=p(this,m,"URL"),Ne=1<arguments.length?arguments[1]:void 0,qe=(De=String(De),ee(ne,{type:"URL"}));if(void 0!==Ne)if(Ne instanceof m)J=z(Ne);else if(V=f(J={},String(Ne)))throw TypeError(V);if(V=f(qe,De,null,J))throw TypeError(V);var St=qe.searchParams=new j;(Ne=Z(St)).updateSearchParams(qe.query),Ne.updateURL=function(){qe.query=String(St)||null},u||(ne.href=Yt.call(ne),ne.origin=lr.call(ne),ne.protocol=yr.call(ne),ne.username=wr.call(ne),ne.password=xr.call(ne),ne.host=Mr.call(ne),ne.hostname=X.call(ne),ne.port=pe.call(ne),ne.pathname=Ie.call(ne),ne.search=E.call(ne),ne.searchParams=I.call(ne),ne.hash=U.call(ne))}function w(D,J){return{get:D,set:J,configurable:!0,enumerable:!0}}T("../modules/es.string.iterator");var _,i,a,l=T("../internals/export"),u=T("../internals/descriptors"),d=T("../internals/native-url"),er=T("../internals/global"),h=T("../internals/object-define-properties"),g=T("../internals/redefine"),p=T("../internals/an-instance"),y=T("../internals/has"),C=T("../internals/object-assign"),H=T("../internals/array-from"),B=T("../internals/string-multibyte").codeAt,R=T("../internals/string-punycode-to-ascii"),P=T("../internals/set-to-string-tag"),k=T("../modules/web.url-search-params"),N=(T=T("../internals/internal-state"),er.URL),j=k.URLSearchParams,Z=k.getState,ee=T.set,z=T.getterFor("URL"),te=Math.floor,W=Math.pow,G="Invalid authority",Y="Invalid scheme",le="Invalid host",Me="Invalid port",K=/[A-Za-z]/,O=/[\d+-.A-Za-z]/,oe=/\d/,me=/^(0x|0X)/,Se=/^[0-7]+$/,Ue=/^\d+$/,Xe=/^[\dA-Fa-f]+$/,lt=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ze=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,st=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,at=/[\u0009\u000A\u000D]/g,Fe=function(D,J){var V,ne,Ne;if("["==J.charAt(0))return"]"==J.charAt(J.length-1)&&(V=function(De){var Ve,ht,Ge,dt,Bt,ur,vr,qe=[0,0,0,0,0,0,0,0],St=0,sr=null,je=0,Pr=function(){return De.charAt(je)};if(":"==Pr()){if(":"!=De.charAt(1))return;je+=2,sr=++St}for(;Pr();){if(8==St)return;if(":"!=Pr()){for(Ve=ht=0;ht<4&&Xe.test(Pr());)Ve=16*Ve+parseInt(Pr(),16),je++,ht++;if("."==Pr()){if(0==ht||(je-=ht,St>6))return;for(Ge=0;Pr();){if(dt=null,Ge>0){if(!("."==Pr()&&Ge<4))return;je++}if(!oe.test(Pr()))return;for(;oe.test(Pr());){if(Bt=parseInt(Pr(),10),null===dt)dt=Bt;else{if(0==dt)return;dt=10*dt+Bt}if(dt>255)return;je++}qe[St]=256*qe[St]+dt,(2==++Ge||4==Ge)&&St++}if(4!=Ge)return;break}if(":"==Pr()){if(je++,!Pr())return}else if(Pr())return;qe[St++]=Ve}else{if(null!==sr)return;je++,sr=++St}}if(null!==sr)for(ur=St-sr,St=7;0!=St&&ur>0;)vr=qe[St],qe[St--]=qe[sr+ur-1],qe[sr+--ur]=vr;else if(8!=St)return;return qe}(J.slice(1,-1)))?void(D.host=V):le;if(Vt(D))return J=R(J),lt.test(J)||null===(V=function(De){var St,sr,je,Ve,ht,Ge,dt,qe=De.split(".");if(qe.length&&""==qe[qe.length-1]&&qe.pop(),(St=qe.length)>4)return De;for(sr=[],je=0;je<St;je++){if(""==(Ve=qe[je]))return De;if(ht=10,Ve.length>1&&"0"==Ve.charAt(0)&&(ht=me.test(Ve)?16:8,Ve=Ve.slice(8==ht?1:2)),""===Ve)Ge=0;else{if(!(10==ht?Ue:8==ht?Se:Xe).test(Ve))return De;Ge=parseInt(Ve,ht)}sr.push(Ge)}for(je=0;je<St;je++)if(Ge=sr[je],je==St-1){if(Ge>=W(256,5-St))return null}else if(Ge>255)return null;for(dt=sr.pop(),je=0;je<sr.length;je++)dt+=sr[je]*W(256,3-je);return dt}(J))?le:void(D.host=V);if(ze.test(J))return le;for(V="",ne=H(J),Ne=0;Ne<ne.length;Ne++)V+=kt(ne[Ne],Ye);D.host=V},nt=function(D){for(var J=null,V=1,ne=null,Ne=0,De=0;De<8;De++)0!==D[De]?(V<Ne&&(J=ne,V=Ne),ne=null,Ne=0):(null===ne&&(ne=De),++Ne);return V<Ne&&(J=ne,V=Ne),J},Ye={},ot=C({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),Ze=C({},ot,{"#":1,"?":1,"{":1,"}":1}),pt=C({},Ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kt=function(D,J){var V=B(D,0);return 32<V&&V<127&&!y(J,D)?D:encodeURIComponent(D)},ar={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Vt=function(D){return y(ar,D.scheme)},cr=function(D){return""!=D.username||""!=D.password},It=function(D,J){return 2==D.length&&K.test(D.charAt(0))&&(":"==(D=D.charAt(1))||!J&&"|"==D)},br=function(D){return 1<D.length&&It(D.slice(0,2))&&(2==D.length||"/"===(D=D.charAt(2))||"\\"===D||"?"===D||"#"===D)},Qt=function(D){var J=D.path,V=J.length;!V||"file"==D.scheme&&1==V&&It(J[0],!0)||J.pop()},fr=function(D){return"."===D||"%2e"===D.toLowerCase()},Ct=function(D){return".."===(D=D.toLowerCase())||"%2e."===D||".%2e"===D||"%2e%2e"===D},ir={},Gt={},$e={},We={},Pe={},Je={},Ot={},zt={},$t={},_t={},Mt={},Xt={},tr={},Rt={},vt={},Ut={},yt={},Nt={},dr={},ft={},Dt={},Yt=(er=m.prototype,function(){var D=z(this),J=D.scheme,V=D.username,ne=D.password,Ne=D.host,De=D.port,qe=D.path,St=D.query,sr=D.fragment,je=J+":";return null!==Ne?(je+="//",cr(D)&&(je+=V+(ne?":"+ne:"")+"@"),je+=v(Ne),null!==De&&(je+=":"+De)):"file"==J&&(je+="//"),je+=D.cannotBeABaseURL?qe[0]:qe.length?"/"+qe.join("/"):"",null!==St&&(je+="?"+St),null!==sr&&(je+="#"+sr),je}),lr=function(){var D=z(this),J=D.scheme,V=D.port;if("blob"==J)try{return new URL(J.path[0]).origin}catch{return"null"}return"file"!=J&&Vt(D)?J+"://"+v(D.host)+(null!==V?":"+V:""):"null"},yr=function(){return z(this).scheme+":"},wr=function(){return z(this).username},xr=function(){return z(this).password},Mr=function(){var D=(J=z(this)).host,J=J.port;return null===D?"":null===J?v(D):v(D)+":"+J},X=function(){var D=z(this).host;return null===D?"":v(D)},pe=function(){var D=z(this).port;return null===D?"":String(D)},Ie=function(){var D=z(this),J=D.path;return D.cannotBeABaseURL?J[0]:J.length?"/"+J.join("/"):""},E=function(){var D=z(this).query;return D?"?"+D:""},I=function(){return z(this).searchParams},U=function(){var D=z(this).fragment;return D?"#"+D:""};u&&h(er,{href:w(Yt,function(V){var J=z(this);if(V=f(J,V=String(V)))throw TypeError(V);Z(J.searchParams).updateSearchParams(J.query)}),origin:w(lr),protocol:w(yr,function(D){f(z(this),String(D)+":",ir)}),username:w(wr,function(D){var J=z(this),V=H(String(D));if(!b(J)){J.username="";for(var ne=0;ne<V.length;ne++)J.username+=kt(V[ne],pt)}}),password:w(xr,function(D){var J=z(this),V=H(String(D));if(!b(J)){J.password="";for(var ne=0;ne<V.length;ne++)J.password+=kt(V[ne],pt)}}),host:w(Mr,function(D){var J=z(this);J.cannotBeABaseURL||f(J,String(D),Mt)}),hostname:w(X,function(D){var J=z(this);J.cannotBeABaseURL||f(J,String(D),Xt)}),port:w(pe,function(D){var J=z(this);b(J)||(""==(D=String(D))?J.port=null:f(J,D,tr))}),pathname:w(Ie,function(D){var J=z(this);J.cannotBeABaseURL||(J.path=[],f(J,D+"",yt))}),search:w(E,function(D){var J=z(this);""==(D=String(D))?J.query=null:("?"==D.charAt(0)&&(D=D.slice(1)),J.query="",f(J,D,ft)),Z(J.searchParams).updateSearchParams(J.query)}),searchParams:w(I),hash:w(U,function(D){var J=z(this);""==(D=String(D))?J.fragment=null:("#"==D.charAt(0)&&(D=D.slice(1)),J.fragment="",f(J,D,Dt))})}),g(er,"toJSON",function(){return Yt.call(this)},{enumerable:!0}),g(er,"toString",function(){return Yt.call(this)},{enumerable:!0}),N&&(a=N.revokeObjectURL,(i=N.createObjectURL)&&g(m,"createObjectURL",function(D){return i.apply(N,arguments)}),a&&g(m,"revokeObjectURL",function(D){return a.apply(N,arguments)})),P(m,"URL"),l({global:!0,forced:!d,sham:!u},{URL:m})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,ie,$){"use strict";ie.exports=o("./").polyfill()},{"./":250}],250:[function(o,ie,$){(function(v,b){var m;m=function(){"use strict";function w(Fe){return"function"==typeof Fe}var _=Array.isArray||function(Fe){return"[object Array]"===Object.prototype.toString.call(Fe)},i=0,a=void 0,l=void 0,u=function(Fe,nt){C[i]=Fe,C[i+1]=nt,2===(i+=2)&&(l?l(H):j())},d=typeof window<"u"?window:void 0,h=(h=d||{}).MutationObserver||h.WebKitMutationObserver,g=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var Fe=setTimeout;return function(){return Fe(H,1)}}var C=new Array(1e3);function H(){for(var Fe=0;Fe<i;Fe+=2)(0,C[Fe])(C[Fe+1]),C[Fe]=void 0,C[Fe+1]=void 0;i=0}var R,P,k,j=void 0;function T(Fe,nt){var Ye,ot=this,Ze=new this.constructor(ee),pt=(void 0===Ze[Z]&&Xe(Ze),ot._state);return pt?(Ye=arguments[pt-1],u(function(){return Se(pt,Ze,Ye,ot._result)})):oe(ot,Ze,Fe,nt),Ze}function N(Fe){var nt;return Fe&&"object"==typeof Fe&&Fe.constructor===this?Fe:(le(nt=new this(ee),Fe),nt)}j=g?function(){return v.nextTick(H)}:h?(P=0,g=new h(H),k=document.createTextNode(""),g.observe(k,{characterData:!0}),function(){k.data=P=++P%2}):p?((R=new MessageChannel).port1.onmessage=H,function(){return R.port2.postMessage(0)}):(void 0===d&&"function"==typeof o?function B(){try{var Fe=Function("return this")().require("vertx");return void 0!==(a=Fe.runOnLoop||Fe.runOnContext)?function(){a(H)}:y()}catch{return y()}}:y)();var Z=Math.random().toString(36).substring(2);function ee(){}var z=void 0,te=1,W=2;function G(Fe,nt,Ye){u(function(ot){var Ze=!1,pt=function(kt,ar,Vt,cr){try{kt.call(ar,function(kt){Ze||(Ze=!0,(nt!==kt?le:K)(ot,kt))},function(kt){Ze||(Ze=!0,O(ot,kt))})}catch(It){return It}}(Ye,nt);!Ze&&pt&&(Ze=!0,O(ot,pt))},Fe)}function Y(Fe,nt,Ye){var ot,Ze;nt.constructor===Fe.constructor&&Ye===T&&nt.constructor.resolve===N?(ot=Fe,(Ze=nt)._state===te?K(ot,Ze._result):Ze._state===W?O(ot,Ze._result):oe(Ze,void 0,function(pt){return le(ot,pt)},function(pt){return O(ot,pt)})):void 0!==Ye&&w(Ye)?G(Fe,nt,Ye):K(Fe,nt)}function le(Fe,nt){if(Fe===nt)O(Fe,new TypeError("You cannot resolve a promise with itself"));else if(Ye=typeof nt,null===nt||"object"!=Ye&&"function"!=Ye)K(Fe,nt);else{Ye=void 0;try{Ye=nt.then}catch(ot){return void O(Fe,ot)}Y(Fe,nt,Ye)}var Ye}function Me(Fe){Fe._onerror&&Fe._onerror(Fe._result),me(Fe)}function K(Fe,nt){Fe._state===z&&(Fe._result=nt,Fe._state=te,0!==Fe._subscribers.length&&u(me,Fe))}function O(Fe,nt){Fe._state===z&&(Fe._state=W,Fe._result=nt,u(Me,Fe))}function oe(Fe,nt,Ye,ot){var Ze=Fe._subscribers,pt=Ze.length;Fe._onerror=null,Ze[pt]=nt,Ze[pt+te]=Ye,Ze[pt+W]=ot,0===pt&&Fe._state&&u(me,Fe)}function me(Fe){var nt=Fe._subscribers,Ye=Fe._state;if(0!==nt.length){for(var ot,Ze=void 0,pt=Fe._result,kt=0;kt<nt.length;kt+=3)Ze=nt[kt+Ye],(ot=nt[kt])?Se(Ye,ot,Ze,pt):Ze(pt);Fe._subscribers.length=0}}function Se(Fe,nt,Ye,ot){var Ze=w(Ye),pt=void 0,kt=void 0,ar=!0;if(Ze){try{pt=Ye(ot)}catch(Vt){ar=!1,kt=Vt}if(nt===pt)return void O(nt,new TypeError("A promises callback cannot return that same promise."))}else pt=ot;nt._state===z&&(Ze&&ar?le(nt,pt):!1===ar?O(nt,kt):Fe===te?K(nt,pt):Fe===W&&O(nt,pt))}var Ue=0;function Xe(Fe){Fe[Z]=Ue++,Fe._state=void 0,Fe._result=void 0,Fe._subscribers=[]}ze.prototype._enumerate=function(Fe){for(var nt=0;this._state===z&&nt<Fe.length;nt++)this._eachEntry(Fe[nt],nt)},ze.prototype._eachEntry=function(Fe,nt){var Ye=this._instanceConstructor,ot=Ye.resolve;if(ot===N){var Ze,pt=void 0,kt=void 0,ar=!1;try{pt=Fe.then}catch(Vt){ar=!0,kt=Vt}pt===T&&Fe._state!==z?this._settledAt(Fe._state,nt,Fe._result):"function"!=typeof pt?(this._remaining--,this._result[nt]=Fe):Ye===st?(Ze=new Ye(ee),ar?O(Ze,kt):Y(Ze,Fe,pt),this._willSettleAt(Ze,nt)):this._willSettleAt(new Ye(function(Vt){return Vt(Fe)}),nt)}else this._willSettleAt(ot(Fe),nt)},ze.prototype._settledAt=function(Fe,nt,Ye){var ot=this.promise;ot._state===z&&(this._remaining--,Fe===W?O(ot,Ye):this._result[nt]=Ye),0===this._remaining&&K(ot,this._result)},ze.prototype._willSettleAt=function(Fe,nt){var Ye=this;oe(Fe,void 0,function(ot){return Ye._settledAt(te,nt,ot)},function(ot){return Ye._settledAt(W,nt,ot)})};var lt=ze;function ze(Fe,nt){this._instanceConstructor=Fe,this.promise=new Fe(ee),this.promise[Z]||Xe(this.promise),_(nt)?(this.length=nt.length,this._remaining=nt.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(nt),0!==this._remaining)||K(this.promise,this._result)):O(this.promise,new Error("Array Methods must be provided an Array"))}at.prototype.catch=function(Fe){return this.then(null,Fe)},at.prototype.finally=function(Fe){var nt=this.constructor;return w(Fe)?this.then(function(Ye){return nt.resolve(Fe()).then(function(){return Ye})},function(Ye){return nt.resolve(Fe()).then(function(){throw Ye})}):this.then(Fe,Fe)};var st=at;function at(Fe){if(this[Z]=Ue++,this._result=this._state=void 0,this._subscribers=[],ee!==Fe){if("function"!=typeof Fe)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof at))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var nt=this;try{Fe(function(Ye){le(nt,Ye)},function(Ye){O(nt,Ye)})}catch(Ye){O(nt,Ye)}}}return st.prototype.then=T,st.all=function(Fe){return new lt(this,Fe).promise},st.race=function(Fe){var nt=this;return _(Fe)?new nt(function(Ye,ot){for(var Ze=Fe.length,pt=0;pt<Ze;pt++)nt.resolve(Fe[pt]).then(Ye,ot)}):new nt(function(Ye,ot){return ot(new TypeError("You must pass an array to race."))})},st.resolve=N,st.reject=function(Fe){var nt=new this(ee);return O(nt,Fe),nt},st._setScheduler=function(Fe){l=Fe},st._setAsap=function(Fe){u=Fe},st._asap=u,st.polyfill=function(){var Fe=void 0;if(void 0!==b)Fe=b;else if(typeof self<"u")Fe=self;else try{Fe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var nt=Fe.Promise;if(nt){var Ye=null;try{Ye=Object.prototype.toString.call(nt.resolve())}catch{}if("[object Promise]"===Ye&&!nt.cast)return}Fe.Promise=st},st.Promise=st},"object"==typeof $&&void 0!==ie?ie.exports=m():this.ES6Promise=m()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,ie,$){var b;b=function(f,m){"use strict";function i(l){try{delete window[l]}catch{window[l]=void 0}}function a(l){(l=document.getElementById(l))&&document.getElementsByTagName("head")[0].removeChild(l)}m.exports=function(l){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=l,h=u.timeout||5e3,g=u.jsonpCallback||"callback",p=void 0;return new Promise(function(y,C){var H=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),B=g+"_"+H,R=(window[H]=function(P){y({ok:!0,json:function(){return Promise.resolve(P)}}),p&&clearTimeout(p),a(B),i(H)},d+=-1===d.indexOf("?")?"?":"&",document.createElement("script"));R.setAttribute("src",""+d+g+"="+H),u.charset&&R.setAttribute("charset",u.charset),R.id=B,document.getElementsByTagName("head")[0].appendChild(R),p=setTimeout(function(){C(new Error("JSONP request to "+l+" timed out")),i(H),a(B),window[H]=function(){i(H)}},h),R.onerror=function(){C(new Error("JSONP request to "+l+" failed")),i(H),a(B),p&&clearTimeout(p)}})}},void 0!==$&&void 0!==ie?b(0,ie):(b(b={exports:{}},b),this.fetchJsonp=b.exports)},{}],252:[function(o,ie,$){var v=function(b){"use strict";var f,m,w,_,i,a,u,d,h,g;if(!(void 0===b||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return f=function(){return b.URL||b.webkitURL||b},m=(g=b.document).createElementNS("http://www.w3.org/1999/xhtml","a"),w="download"in m,_=/constructor/i.test(b.HTMLElement)||b.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(p){(b.setImmediate||b.setTimeout)(function(){throw p},0)},4e4,u=function(p){setTimeout(function(){"string"==typeof p?f().revokeObjectURL(p):p.remove()},4e4)},d=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},g=(h=function(p,y,P){P||(p=d(p));var H,B,R=this,k=(P="application/octet-stream"===p.type,function(){for(var T=R,N="writestart progress write writeend".split(" "),Z=(N=[].concat(N)).length;Z--;){var ee=T["on"+N[Z]];if("function"==typeof ee)try{ee.call(T,T)}catch(z){a(z)}}});R.readyState=R.INIT,w?(H=f().createObjectURL(p),setTimeout(function(){var T,N;m.href=H,m.download=y,T=m,N=new MouseEvent("click"),T.dispatchEvent(N),k(),u(H),R.readyState=R.DONE})):(i||P&&_)&&b.FileReader?((B=new FileReader).onloadend=function(){var T=i?B.result:B.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(T,"_blank")||(b.location.href=T),T=void 0,R.readyState=R.DONE,k()},B.readAsDataURL(p),R.readyState=R.INIT):(H=H||f().createObjectURL(p),!P&&b.open(H,"_blank")||(b.location.href=H),R.readyState=R.DONE,k(),u(H))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,y,C){return y=y||p.name||"download",C||(p=d(p)),navigator.msSaveOrOpenBlob(p,y)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,function(p,y,C){return new h(p,y||p.name||"download",C)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==ie&&ie.exports&&(ie.exports.saveAs=v)},{}],253:[function(o,ie,$){var v,b=Object.defineProperty,f=(b($,"__esModule",{value:!0}),$),m={GIFEncoder:()=>k,applyPalette:()=>function(z,te,W="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<te.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(z.buffer),Y=G.length,le="rgb444"===W?4096:65536,Me=new Uint8Array(Y),K=new Array(le);if("rgba4444"===W)for(let at=0;at<Y;at++){var Se,O=(Se=G[at])>>24&255,oe=Se>>16&255,me=Se>>8&255,Ue=(Ue=u(Se&=255,me,oe,O))in K?K[Ue]:K[Ue]=function(Fe,nt,Ye,ot,Ze){let pt=0,kt=1e100;for(let It=0;It<Ze.length;It++){var Vt=Ze[It],cr=B(Vt[3]-ot);cr>kt||(cr+=B(Vt[0]-Fe))>kt||(cr+=B(Vt[1]-nt))>kt||(cr+=B(Vt[2]-Ye))>kt||(kt=cr,pt=It)}return pt}(Se,me,oe,O,te);Me[at]=Ue}else{const at="rgb444"===W?d:l;for(let Fe=0;Fe<Y;Fe++){var ze,Xe=(ze=G[Fe])>>16&255,lt=ze>>8&255,st=(st=at(ze&=255,lt,Xe))in K?K[st]:K[st]=function(nt,Ye,ot,Ze){let pt=0,kt=1e100;for(let It=0;It<Ze.length;It++){var Vt=Ze[It],cr=B(Vt[0]-nt);cr>kt||(cr+=B(Vt[1]-Ye))>kt||(cr+=B(Vt[2]-ot))>kt||(kt=cr,pt=It)}return pt}(ze,lt,Xe,te);Me[Fe]=st}}return Me},default:()=>ee,nearestColor:()=>function(z,te,W=C){return z[R(z,te,W)]},nearestColorIndex:()=>R,nearestColorIndexWithDistance:()=>P,prequantize:()=>function(z,{roundRGB:te=5,roundAlpha:W=10,oneBitAlpha:G=null}={}){const Y=new Uint32Array(z.buffer);for(let oe=0;oe<Y.length;oe++){let me=(O=Y[oe])>>24&255;var Me=O>>16&255,K=O>>8&255,O=255&O;me=H(me,W),G&&(me=me<=("number"==typeof G?G:127)?0:255),O=H(O,te),K=H(K,te),Me=H(Me,te),Y[oe]=me<<24|Me<<16|K<<8|O}},quantize:()=>function(z,te,W={}){var{format:G="rgb565",clearAlpha:Y=!0,clearAlphaColor:le=0,clearAlphaThreshold:Me=0,oneBitAlpha:K=!1}=W;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let O=!1!==W.useSqrt;const oe="rgba4444"===G,me=function(br,Qt){const Ct=new Array("rgb444"===Qt?4096:65536),ir=br.length;if("rgba4444"===Qt)for(let vt=0;vt<ir;++vt){var Pe,Gt=(Pe=br[vt])>>24&255,$e=Pe>>16&255,We=Pe>>8&255,Je=u(Pe&=255,We,$e,Gt);let Ut=Je in Ct?Ct[Je]:Ct[Je]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ut.rc+=Pe,Ut.gc+=We,Ut.bc+=$e,Ut.ac+=Gt,Ut.cnt++}else if("rgb444"===Qt)for(let vt=0;vt<ir;++vt){var $t,Ot=($t=br[vt])>>16&255,zt=$t>>8&255,_t=d($t&=255,zt,Ot);let Ut=_t in Ct?Ct[_t]:Ct[_t]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ut.rc+=$t,Ut.gc+=zt,Ut.bc+=Ot,Ut.cnt++}else for(let vt=0;vt<ir;++vt){var tr,Mt=(tr=br[vt])>>16&255,Xt=tr>>8&255,Rt=l(tr&=255,Xt,Mt);let Ut=Rt in Ct?Ct[Rt]:Ct[Rt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ut.rc+=tr,Ut.gc+=Xt,Ut.bc+=Mt,Ut.cnt++}return Ct}(z,G),Se=me.length,Ue=Se-1,Xe=new Uint32Array(Se+1);for(var lt=0,ze=0;ze<Se;++ze){const br=me[ze];null!=br&&(Vt=1/br.cnt,oe&&(br.ac*=Vt),br.rc*=Vt,br.gc*=Vt,br.bc*=Vt,me[lt++]=br)}var st,at,Fe;for(g(te)/lt<.022&&(O=!1),ze=0;ze<lt-1;++ze)me[ze].fw=ze+1,me[ze+1].bk=ze,O&&(me[ze].cnt=Math.sqrt(me[ze].cnt));for(O&&(me[ze].cnt=Math.sqrt(me[ze].cnt)),ze=0;ze<lt;++ze){p(me,ze,!1);var nt=me[ze].err;for(at=++Xe[0];1<at&&!(me[st=Xe[Fe=at>>1]].err<=nt);at=Fe)Xe[at]=st;Xe[at]=ze}var Ye,ot=lt-te;for(ze=0;ze<ot;){for(;;){var Ze=Xe[1];if((Ye=me[Ze]).tm>=Ye.mtm&&me[Ye.nn].mtm<=Ye.tm)break;for(Ye.mtm==Ue?Ze=Xe[1]=Xe[Xe[0]--]:(p(me,Ze,!1),Ye.tm=ze),nt=me[Ze].err,at=1;(Fe=at+at)<=Xe[0]&&(Fe<Xe[0]&&me[Xe[Fe]].err>me[Xe[Fe+1]].err&&Fe++,!(nt<=me[st=Xe[Fe]].err));at=Fe)Xe[at]=st;Xe[at]=Ze}var pt=me[Ye.nn],kt=Ye.cnt,ar=pt.cnt,Vt=1/(kt+ar);oe&&(Ye.ac=Vt*(kt*Ye.ac+ar*pt.ac)),Ye.rc=Vt*(kt*Ye.rc+ar*pt.rc),Ye.gc=Vt*(kt*Ye.gc+ar*pt.gc),Ye.bc=Vt*(kt*Ye.bc+ar*pt.bc),Ye.cnt+=pt.cnt,Ye.mtm=++ze,me[pt.bk].fw=pt.fw,me[pt.fw].bk=pt.bk,pt.mtm=Ue}let cr=[];for(ze=0;;0){let br=h(Math.round(me[ze].rc),0,255),Qt=h(Math.round(me[ze].gc),0,255),fr=h(Math.round(me[ze].bc),0,255),Ct=255;oe&&(Ct=h(Math.round(me[ze].ac),0,255),K&&(Ct=Ct<=(It="number"==typeof K?K:127)?0:255),Y&&Ct<=Me&&(br=Qt=fr=le,Ct=0));var It=oe?[br,Qt,fr,Ct]:[br,Qt,fr];if(function(ir,Gt){for(let Pe=0;Pe<ir.length;Pe++){var $e=(We=ir[Pe])[0]===Gt[0]&&We[1]===Gt[1]&&We[2]===Gt[2],We=!(4<=We.length&&4<=Gt.length)||We[3]===Gt[3];if($e&&We)return!0}return!1}(cr,It)||cr.push(It),0==(ze=me[ze].fw))break}return cr},snapColorsToPalette:()=>function(z,te,W=5){if(z.length&&te.length){var G=z.map(O=>O.slice(0,3)),Y=W*W,le=z[0].length;for(let O=0;O<te.length;O++){let oe=te[O];oe=oe.length<le?[oe[0],oe[1],oe[2],255]:oe.length>le?oe.slice(0,3):oe.slice();var K,Me=(K=P(G,oe.slice(0,3),C))[0];0<(K=K[1])&&K<=Y&&(z[Me]=oe)}}}};for(v in m)b(f,v,{get:m[v],enumerable:!0});var w={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function _(z=256){let te=0,W=new Uint8Array(z);return{get buffer(){return W.buffer},reset(){te=0},bytesView:()=>W.subarray(0,te),bytes:()=>W.slice(0,te),writeByte(Y){G(te+1),W[te]=Y,te++},writeBytes(Y,le=0,Me=Y.length){G(te+Me);for(let K=0;K<Me;K++)W[te++]=Y[K+le]},writeBytesView(Y,le=0,Me=Y.byteLength){G(te+Me),W.set(Y.subarray(le,le+Me),te),te+=Me}};function G(Y){var le=W.length;if(!(Y<=le)){Y=Math.max(Y,le*(le<1048576?2:1.125)>>>0),0!=le&&(Y=Math.max(Y,256));const Me=W;W=new Uint8Array(Y),0<te&&W.set(Me.subarray(0,te),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(z,te,W,oe,Y=_(512),le=new Uint8Array(256),Me=new Int32Array(5003),K=new Int32Array(5003)){var O=Me.length;oe=Math.max(2,oe),le.fill(0),K.fill(0),Me.fill(-1);let me=0,Se=0;var Ue=oe+1;const Xe=Ue;let lt=!1,ze=Xe,st=(1<<ze)-1;var at=1<<Ue-1;const Fe=1+at;let nt=2+at,Ye=0,ot=W[0],Ze=0;for(let It=O;It<65536;It*=2)++Ze;Ze=8-Ze,Y.writeByte(oe),cr(at);var pt=W.length;for(let It=1;It<pt;It++)e:{var kt=W[It],ar=(kt<<12)+ot;let br=kt<<Ze^ot;if(Me[br]===ar)ot=K[br];else{for(var Vt=0===br?1:O-br;0<=Me[br];)if((br-=Vt)<0&&(br+=O),Me[br]===ar){ot=K[br];break e}cr(ot),ot=kt,nt<4096?(K[br]=nt++,Me[br]=ar):(Me.fill(-1),nt=2+at,lt=!0,cr(at))}}return cr(ot),cr(Fe),Y.writeByte(0),Y.bytesView();function cr(It){for(me&=i[Se],0<Se?me|=It<<Se:me=It,Se+=ze;8<=Se;)le[Ye++]=255&me,254<=Ye&&(Y.writeByte(Ye),Y.writeBytesView(le,0,Ye),Ye=0),me>>=8,Se-=8;if((nt>st||lt)&&(lt?(ze=Xe,st=(1<<ze)-1,lt=!1):(++ze,st=12===ze?1<<ze:(1<<ze)-1)),It==Fe){for(;0<Se;)le[Ye++]=255&me,254<=Ye&&(Y.writeByte(Ye),Y.writeBytesView(le,0,Ye),Ye=0),me>>=8,Se-=8;0<Ye&&(Y.writeByte(Ye),Y.writeBytesView(le,0,Ye),Ye=0)}}};function l(z,te,W){return z<<8&63488|te<<2&992|W>>3}function u(z,te,W,G){return z>>4|240&te|(240&W)<<4|(240&G)<<8}function d(z,te,W){return z>>4<<8|240&te|W>>4}function h(z,te,W){return z<te?te:W<z?W:z}function g(z){return z*z}function p(z,te,W){var G=0,Y=1e100;const le=z[te];for(var Me=le.cnt,K=le.ac,O=le.rc,oe=le.gc,me=le.bc,Se=le.fw;0!=Se;Se=z[Se].fw){var Ue,lt,Xe=z[Se];Y<=(lt=Me*(lt=Xe.cnt)/(Me+lt))||(Ue=0,W&&Y<=(Ue+=lt*g(Xe.ac-K))||Y<=(Ue+=lt*g(Xe.rc-O))||Y<=(Ue+=lt*g(Xe.gc-oe))||Y<=(Ue+=lt*g(Xe.bc-me))||(Y=Ue,G=Se))}le.err=Y,le.nn=G}function C(z,te){for(var W=0,G=0;G<z.length;G++){var Y=z[G]-te[G];W+=Y*Y}return W}function H(z,te){return 1<te?Math.round(z/te)*te:z}function B(z){return z*z}function R(z,te,W=C){let G=1/0,Y=-1;for(let Me=0;Me<z.length;Me++){var le=W(te,z[Me]);le<G&&(G=le,Y=Me)}return Y}function P(z,te,W=C){let G=1/0,Y=-1;for(let Me=0;Me<z.length;Me++){var le=W(te,z[Me]);le<G&&(G=le,Y=Me)}return[Y,G]}function k(z={}){const{initialCapacity:te=4096,auto:W=!0}=z,G=_(te),Y=new Uint8Array(256),le=new Int32Array(5003),Me=new Int32Array(5003);let K=!1;return{reset(){G.reset(),K=!1},finish(){G.writeByte(w.trailer)},bytes:()=>G.bytes(),bytesView:()=>G.bytesView(),get buffer(){return G.buffer},get stream(){return G},writeHeader:O,writeFrame(oe,me,Se,ot={}){var{transparent:Xe=!1,transparentIndex:lt=0,delay:Vt=0,palette:ze=null,repeat:pt=0,colorDepth:st=8,dispose:at=-1}=ot;let Fe=!1;if(W?K||(Fe=!0,O(),K=!0):Fe=!!ot.first,me=Math.max(0,Math.floor(me)),Se=Math.max(0,Math.floor(Se)),Fe){if(!ze)throw new Error("First frame must include a { palette } option");var[ot,kt,Ye,ar,Ze=8]=[G,me,Se,ze,st];Ze=128|Ze-1<<4|(ar=Z(ar.length)-1),N(ot,kt),N(ot,Ye),ot.writeBytes([Ze,0,0]),T(G,ze),0<=pt&&(kt=pt,(ar=G).writeByte(33),ar.writeByte(255),ar.writeByte(11),j(ar,"NETSCAPE2.0"),ar.writeByte(3),ar.writeByte(1),N(ar,kt),ar.writeByte(0))}var nt,Ye,Ze=at,pt=Ye=Math.round(Vt/10),kt=Xe,ar=lt,Vt=((ot=G).writeByte(33),ot.writeByte(249),ot.writeByte(4),ar<0&&(ar=0,kt=!1),kt=kt?(nt=1,2):nt=0,0<=Ze&&(kt=7&Ze),ot.writeByte((kt<<=2)|nt),N(ot,pt),ot.writeByte(ar||0),ot.writeByte(0),!!ze&&!Fe);Xe=me,lt=Se,nt=Vt?ze:null,(at=G).writeByte(44),N(at,0),N(at,0),N(at,Xe),N(at,lt),nt?(Xe=Z(nt.length)-1,at.writeByte(128|Xe)):at.writeByte(0),Vt&&T(G,ze),[pt,ot,lt,Xe,at=8,Vt,ze,oe]=[G,oe,me,Se,st,Y,le,Me],a(lt,Xe,ot,at,pt,Vt,ze,oe)}};function O(){j(G,"GIF89a")}}function T(z,te){var W=1<<Z(te.length);for(let G=0;G<W;G++){let Y=[0,0,0];G<te.length&&(Y=te[G]),z.writeByte(Y[0]),z.writeByte(Y[1]),z.writeByte(Y[2])}}function N(z,te){z.writeByte(255&te),z.writeByte(te>>8&255)}function j(z,te){for(var W=0;W<te.length;W++)z.writeByte(te.charCodeAt(W))}function Z(z){return Math.max(Math.ceil(Math.log2(z)),1)}var ee=k},{}],254:[function(o,ie,$){$.read=function(v,b,f,m,p){var _,i,a=8*p-m-1,l=(1<<a)-1,u=l>>1,d=-7,h=f?p-1:0,g=f?-1:1;for(p=v[b+h],h+=g,_=p&(1<<-d)-1,p>>=-d,d+=a;0<d;_=256*_+v[b+h],h+=g,d-=8);for(i=_&(1<<-d)-1,_>>=-d,d+=m;0<d;i=256*i+v[b+h],h+=g,d-=8);if(0===_)_=1-u;else{if(_===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,m),_-=u}return(p?-1:1)*i*Math.pow(2,_-m)},$.write=function(v,b,f,m,w,y){var i,a,l=8*y-w-1,u=(1<<l)-1,d=u>>1,h=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,g=m?0:y-1,p=m?1:-1;for(y=b<0||0===b&&1/b<0?1:0,b=Math.abs(b),isNaN(b)||b===1/0?(a=isNaN(b)?1:0,i=u):(i=Math.floor(Math.log(b)/Math.LN2),b*(m=Math.pow(2,-i))<1&&(i--,m*=2),2<=(b+=1<=i+d?h/m:h*Math.pow(2,1-d))*m&&(i++,m/=2),u<=i+d?(a=0,i=u):1<=i+d?(a=(b*m-1)*Math.pow(2,w),i+=d):(a=b*Math.pow(2,d-1)*Math.pow(2,w),i=0));8<=w;v[f+g]=255&a,g+=p,a/=256,w-=8);for(i=i<<w|a,l+=w;0<l;v[f+g]=255&i,g+=p,i/=256,l-=8);v[f+g-p]|=128*y}},{}],255:[function(o,ie,$){"use strict";var v;function b($e,We){return $e.b===We.b&&$e.a===We.a}function f($e,We){return $e.b<We.b||$e.b===We.b&&$e.a<=We.a}function m($e,We,Pe){var Je=We.b-$e.b,Ot=Pe.b-We.b;return 0<Je+Ot?Je<Ot?We.a-$e.a+Je/(Je+Ot)*($e.a-Pe.a):We.a-Pe.a+Ot/(Je+Ot)*(Pe.a-$e.a):0}function w($e,We,Pe){var Je=We.b-$e.b,Ot=Pe.b-We.b;return 0<Je+Ot?(We.a-Pe.a)*Je+(We.a-$e.a)*Ot:0}function _($e,We){return $e.a<We.a||$e.a===We.a&&$e.b<=We.b}function i($e,We,Pe){var Je=We.a-$e.a,Ot=Pe.a-We.a;return 0<Je+Ot?Je<Ot?We.b-$e.b+Je/(Je+Ot)*($e.b-Pe.b):We.b-Pe.b+Ot/(Je+Ot)*(Pe.b-$e.b):0}function a($e,We,Pe){var Je=We.a-$e.a,Ot=Pe.a-We.a;return 0<Je+Ot?(We.b-Pe.b)*Je+(We.b-$e.b)*Ot:0}function l($e,We,Pe,Je){return($e=$e<0?0:$e)<=(Pe=Pe<0?0:Pe)?0===Pe?(We+Je)/2:We+$e/($e+Pe)*(Je-We):Je+Pe/($e+Pe)*(We-Je)}function u($e){var We=y($e.b);return H(We,$e.c),H(We.b,$e.c),B(We,$e.a),We}function d($e,We){var Pe=!1,Je=!1;$e!==We&&(We.a!==$e.a&&(Je=!0,P(We.a,$e.a)),We.d!==$e.d&&(Pe=!0,k(We.d,$e.d)),C(We,$e),Je||(H(We,$e.a),$e.a.c=$e),Pe||(B(We,$e.d),$e.d.a=$e))}function h($e){var We=$e.b,Pe=!1;$e.d!==$e.b.d&&(Pe=!0,k($e.d,$e.b.d)),$e.c===$e?P($e.a,null):($e.b.d.a=$e.b.e,$e.a.c=$e.c,C($e,$e.b.e),Pe||B($e,$e.d)),We.c===We?(P(We.a,null),k(We.d,null)):($e.d.a=We.b.e,We.a.c=We.c,C(We,We.b.e)),R($e)}function g($e){var We=y($e),Pe=We.b;return C(We,$e.e),We.a=$e.b.a,H(Pe,We.a),We.d=Pe.d=$e.d,We=We.b,C($e.b,$e.b.b.e),C($e.b,We),$e.b.a=We.a,We.b.a.c=We.b,We.b.d=$e.b.d,We.f=$e.f,We.b.f=$e.b.f,We}function p($e,We){var Pe=!1,Je=y($e),Ot=Je.b;return We.d!==$e.d&&(Pe=!0,k(We.d,$e.d)),C(Je,$e.e),C(Ot,We),Je.a=$e.b.a,Ot.a=We.a,Je.d=Ot.d=$e.d,$e.d.a=Ot,Pe||B(Je,$e.d),Je}function y($e){var We=new Ye,Pe=new Ye;return(((Pe.h=$e.b.h).b.h=We).h=$e).b.h=Pe,We.b=Pe,((We.c=We).e=Pe).b=We,(Pe.c=Pe).e=We}function C($e,We){var Pe=$e.c,Je=We.c;Pe.b.e=We,(Je.b.e=$e).c=Je,We.c=Pe}function H($e,We){var Pe=We.f,Je=new Ze(We,Pe);for(Pe.e=Je,Pe=(We.f=Je).c=$e;Pe.a=Je,(Pe=Pe.c)!==$e;);}function B($e,We){var Pe=We.d,Je=new nt(We,Pe);for(Pe.b=Je,(We.d=Je).a=$e,Je.c=We.c,Pe=$e;Pe.d=Je,(Pe=Pe.e)!==$e;);}function R($e){var We=$e.h;(We.b.h=$e=$e.b.h).b.h=We}function P($e,We){for(var Pe=$e.c,Je=Pe;Je.a=We,(Je=Je.c)!==Pe;);((Je=$e.e).f=Pe=$e.f).e=Je}function k($e,We){for(var Pe=$e.a,Je=Pe;Je.d=We,(Je=Je.e)!==Pe;);((Je=$e.b).d=Pe=$e.d).b=Je}function T($e){var We=0;return Math.abs($e[1])>Math.abs($e[0])&&(We=1),Math.abs($e[2])>Math.abs($e[We])?2:We}function N($e,We){$e.f+=We.f,$e.b.f+=We.b.f}function j($e,We,Pe){return Pe=Pe.a,(We=We.a).b.a===($e=$e.a)?Pe.b.a===$e?f(We.a,Pe.a)?w(Pe.b.a,We.a,Pe.a)<=0:0<=w(We.b.a,Pe.a,We.a):w(Pe.b.a,$e,Pe.a)<=0:Pe.b.a===$e?0<=w(We.b.a,$e,We.a):(We=m(We.b.a,$e,We.a),($e=m(Pe.b.a,$e,Pe.a))<=We)}function Z($e){$e.a.i=null;var We=$e.e;We.a.c=We.c,We.c.a=We.a,$e.e=null}function ee($e,We){h($e.a),$e.c=!1,($e.a=We).i=$e}function z($e){for(var We=$e.a.a;($e=Gt($e)).a.a===We;);return $e.c&&(ee($e,We=p(ir($e).a.b,$e.a.e)),$e=Gt($e)),$e}function te($e,We,Pe){var Je=new Ct;return Je.a=Pe,Je.e=lt($e.f,We.e,Je),Pe.i=Je}function W($e,We){switch($e.s){case 100130:return!!(1&We);case 100131:return 0!==We;case 100132:return 0<We;case 100133:return We<0;case 100134:return 2<=We||We<=-2}return!1}function G($e){var We=$e.a,Pe=We.d;Pe.c=$e.d,Pe.a=We,Z($e)}function Y($e,We,Pe){for(We=($e=We).a;$e!==Pe;){$e.c=!1;var Je=ir($e),Ot=Je.a;if(Ot.a!==We.a){if(!Je.c){G($e);break}ee(Je,Ot=p(We.c.b,Ot.b))}We.c!==Ot&&(d(Ot.b.e,Ot),d(We,Ot)),G($e),We=Je.a,$e=Je}return We}function le($e,We,Pe,Je,Ot,zt){for(var $t=!0;te($e,We,Pe.b),(Pe=Pe.c)!==Je;);for(null===Ot&&(Ot=ir(We).a.b.c);(Pe=(Je=ir(We)).a.b).a===Ot.a;)Pe.c!==Ot&&(d(Pe.b.e,Pe),d(Ot.b.e,Pe)),Je.f=We.f-Pe.f,Je.d=W($e,Je.f),We.b=!0,!$t&&oe($e,We)&&(N(Pe,Ot),Z(We),h(Ot)),$t=!1,We=Je,Ot=Pe;We.b=!0,zt&&Se($e,We)}function Me($e,We,Pe,Je,Ot){var zt=[We.g[0],We.g[1],We.g[2]];We.d=null,We.d=$e.o&&$e.o(zt,Pe,Je,$e.c)||null,null===We.d&&(Ot?$e.n||(Fe($e,100156),$e.n=!0):We.d=Pe[0])}function K($e,We,Pe){var Je=[null,null,null,null];Je[0]=We.a.d,Je[1]=Pe.a.d,Me($e,We.a,Je,[.5,.5,0,0],!1),d(We,Pe)}function O($e,We,Pe,Je,Ot){var zt=Math.abs(We.b-$e.b)+Math.abs(We.a-$e.a),$t=Math.abs(Pe.b-$e.b)+Math.abs(Pe.a-$e.a),_t=Ot+1;Je[Ot]=.5*$t/(zt+$t),Je[_t]=.5*zt/(zt+$t),$e.g[0]+=Je[Ot]*We.g[0]+Je[_t]*Pe.g[0],$e.g[1]+=Je[Ot]*We.g[1]+Je[_t]*Pe.g[1],$e.g[2]+=Je[Ot]*We.g[2]+Je[_t]*Pe.g[2]}function oe($e,We){var Pe=ir(We),Je=We.a,Ot=Pe.a;if(f(Je.a,Ot.a)){if(0<w(Ot.b.a,Je.a,Ot.a))return;if(b(Je.a,Ot.a)){if(Je.a!==Ot.a){Pe=$e.e;var zt=Je.a.h;if(0<=zt){var $t=(Pe=Pe.b).d,_t=Pe.e,Mt=Pe.c,Xt=Mt[zt];$t[Xt]=$t[Pe.a],(Mt[$t[Xt]]=Xt)<=--Pe.a&&(Xt<=1||f(_t[$t[Xt>>1]],_t[$t[Xt]])?Qt:fr)(Pe,Xt),_t[zt]=null,Mt[zt]=Pe.b,Pe.b=zt}else for(Pe.c[-(zt+1)]=null;0<Pe.a&&null===Pe.c[Pe.d[Pe.a-1]];)--Pe.a;K($e,Ot.b.e,Je)}}else g(Ot.b),d(Je,Ot.b.e),We.b=Pe.b=!0}else{if(w(Je.b.a,Ot.a,Je.a)<0)return;Gt(We).b=We.b=!0,g(Je.b),d(Ot.b.e,Je)}return 1}function me($e,We){var Pe=ir(We),Je=We.a,Ot=Pe.a,zt=Je.a,$t=Ot.a,_t=Je.b.a,Mt=Ot.b.a,Xt=new Ze;if(w(_t,$e.a,zt),w(Mt,$e.a,$t),!(zt===$t||Math.min(zt.a,_t.a)>Math.max($t.a,Mt.a))){if(f(zt,$t)){if(0<w(Mt,zt,$t))return}else if(w(_t,$t,zt)<0)return;var tr,Rt,vt=_t,Ut=zt,yt=Mt,Nt=$t;if(f(vt,Ut)||(tr=vt,vt=Ut,Ut=tr),f(yt,Nt)||(tr=yt,yt=Nt,Nt=tr),f(vt,yt)||(tr=vt,vt=yt,yt=tr,tr=Ut,Ut=Nt,Nt=tr),f(yt,Ut)?f(Ut,Nt)?((tr=m(vt,yt,Ut))+(Rt=m(yt,Ut,Nt))<0&&(tr=-tr,Rt=-Rt),Xt.b=l(tr,yt.b,Rt,Ut.b)):((tr=w(vt,yt,Ut))+(Rt=-w(vt,Nt,Ut))<0&&(tr=-tr,Rt=-Rt),Xt.b=l(tr,yt.b,Rt,Nt.b)):Xt.b=(yt.b+Ut.b)/2,_(vt,Ut)||(tr=vt,vt=Ut,Ut=tr),_(yt,Nt)||(tr=yt,yt=Nt,Nt=tr),_(vt,yt)||(tr=vt,vt=yt,yt=tr,tr=Ut,Ut=Nt,Nt=tr),_(yt,Ut)?_(Ut,Nt)?((tr=i(vt,yt,Ut))+(Rt=i(yt,Ut,Nt))<0&&(tr=-tr,Rt=-Rt),Xt.a=l(tr,yt.a,Rt,Ut.a)):((tr=a(vt,yt,Ut))+(Rt=-a(vt,Nt,Ut))<0&&(tr=-tr,Rt=-Rt),Xt.a=l(tr,yt.a,Rt,Nt.a)):Xt.a=(yt.a+Ut.a)/2,f(Xt,$e.a)&&(Xt.b=$e.a.b,Xt.a=$e.a.a),vt=f(zt,$t)?zt:$t,f(vt,Xt)&&(Xt.b=vt.b,Xt.a=vt.a),b(Xt,zt)||b(Xt,$t))return oe($e,We),0;if(!b(_t,$e.a)&&0<=w(_t,$e.a,Xt)||!b(Mt,$e.a)&&w(Mt,$e.a,Xt)<=0){if(Mt===$e.a)g(Je.b),d(Ot.b,Je),Je=ir(We=z(We)).a,Y($e,ir(We),Pe),le($e,We,Je.b.e,Je,Je,!0);else{if(_t!==$e.a)return 0<=w(_t,$e.a,Xt)&&(Gt(We).b=We.b=!0,g(Je.b),Je.a.b=$e.a.b,Je.a.a=$e.a.a),void(w(Mt,$e.a,Xt)<=0&&(We.b=Pe.b=!0,g(Ot.b),Ot.a.b=$e.a.b,Ot.a.a=$e.a.a));for(g(Ot.b),d(Je.e,Ot.b.e),$t=(zt=Pe=We).a.b.a;(zt=Gt(zt)).a.b.a===$t;);zt=ir(We=zt).a.b.c,Pe.a=Ot.b.e,le($e,We,(Ot=Y($e,Pe,null)).c,Je.b.c,zt,!0)}return 1}g(Je.b),g(Ot.b),d(Ot.b.e,Je),Je.a.b=Xt.b,Je.a.a=Xt.a,Je.a.h=kt($e.e,Je.a),Ot=[0,0,0,0],Xt=[zt.d,_t.d,$t.d,Mt.d],(Je=Je.a).g[0]=Je.g[1]=Je.g[2]=0,O(Je,zt,_t,Ot,0),O(Je,$t,Mt,Ot,2),Me($e,Je,Xt,Ot,!0),Gt(We).b=We.b=Pe.b=!0}}function Se($e,We){for(var Pe=ir(We);;){for(;Pe.b;)Pe=ir(We=Pe);if(!(We.b||null!==(We=Gt(Pe=We))&&We.b))break;We.b=!1;var Je=We.a,Ot=Pe.a;if(zt=Je.b.a!==Ot.b.a)e:{var zt,$t=ir(zt=We),_t=zt.a,Mt=$t.a,Xt=void 0;if(f(_t.b.a,Mt.b.a)){if(w(_t.b.a,Mt.b.a,_t.a)<0){zt=!1;break e}Gt(zt).b=zt.b=!0,Xt=g(_t),d(Mt.b,Xt),Xt.d.c=zt.d}else{if(0<w(Mt.b.a,_t.b.a,Mt.a)){zt=!1;break e}zt.b=$t.b=!0,Xt=g(Mt),d(_t.e,Mt.b),Xt.b.d.c=zt.d}zt=!0}if(zt&&(Pe.c?(Z(Pe),h(Ot),Ot=(Pe=ir(We)).a):We.c&&(Z(We),h(Je),Je=(We=Gt(Pe)).a)),Je.a!==Ot.a)if(Je.b.a===Ot.b.a||We.c||Pe.c||Je.b.a!==$e.a&&Ot.b.a!==$e.a)oe($e,We);else if(me($e,We))break;Je.a===Ot.a&&Je.b.a===Ot.b.a&&(N(Ot,Je),Z(We),h(Je),We=Gt(Pe))}}function Ue($e,We){var Pe=new Ct,Je=u($e.b);Je.a.b=4e150,Je.a.a=We,Je.b.a.b=-4e150,Je.b.a.a=We,$e.a=Je.b.a,Pe.a=Je,Pe.f=0,Pe.d=!1,Pe.c=!1,Pe.h=!0,Pe.b=!1,Je=lt(Je=$e.f,Je.a,Pe),Pe.e=Je}function Xe($e){this.a=new ze,this.b=$e,this.c=j}function lt($e,We,Pe){for(;null!==(We=We.c).b&&!$e.c($e.b,We.b,Pe););return $e=new ze(Pe,We.a,We),We.a.c=$e,We.a=$e}function ze($e,We,Pe){this.b=$e||null,this.a=We||this,this.c=Pe||this}function st(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function at($e,We){if($e.d!==We)for(;$e.d!==We;)if($e.d<We)switch($e.d){case 0:Fe($e,100151),$e.u(null);break;case 1:Fe($e,100152),$e.t()}else switch($e.d){case 2:Fe($e,100154),$e.v();break;case 1:Fe($e,100153),$e.w()}}function Fe($e,We){$e.p&&$e.p(We,$e.c)}function nt($e,We){this.b=$e||this,this.d=We||this,this.a=null,this.c=!1}function Ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ot(){this.c=new Ze,this.a=new nt,this.b=new Ye,this.d=new Ye,this.b.b=this.d,this.d.b=this.b}function Ze($e,We){this.e=$e||this,this.f=We||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function pt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Vt}function kt($e,We){var Pe,Je,Ot;return $e.e?(2*(Je=++(Pe=$e.b).a)>Pe.f&&(Pe.f*=2,Pe.c=cr(Pe.c,Pe.f+1)),0===Pe.b?Ot=Je:(Ot=Pe.b,Pe.b=Pe.c[Pe.b]),Pe.e[Ot]=We,Pe.c[Ot]=Je,Pe.d[Je]=Ot,Pe.h&&fr(Pe,Je),Ot):(Pe=$e.a++,$e.c[Pe]=We,-(Pe+1))}function ar($e){if(0===$e.a)return br($e.b);var We=$e.c[$e.d[$e.a-1]];if(0!==$e.b.a&&f(It($e.b),We))return br($e.b);for(;--$e.a,0<$e.a&&null===$e.c[$e.d[$e.a-1]];);return We}function Vt(){this.d=cr([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function cr($e,We){for(var Pe=Array(We),Je=0;Je<$e.length;Je++)Pe[Je]=$e[Je];for(;Je<We;Je++)Pe[Je]=0;return Pe}function It($e){return $e.e[$e.d[1]]}function br($e){var We=$e.d,Pe=$e.e,Je=$e.c,Ot=We[1],zt=Pe[Ot];return 0<$e.a&&(We[1]=We[$e.a],Je[We[1]]=1,Pe[Ot]=null,Je[Ot]=$e.b,$e.b=Ot,0<--$e.a&&Qt($e,1)),zt}function Qt($e,We){for(var Pe=$e.d,Je=$e.e,Ot=$e.c,zt=We,$t=Pe[zt];;){var _t=zt<<1,Mt=(_t<$e.a&&f(Je[Pe[_t+1]],Je[Pe[_t]])&&(_t+=1),Pe[_t]);if(_t>$e.a||f(Je[$t],Je[Mt])){Ot[Pe[zt]=$t]=zt;break}Ot[Pe[zt]=Mt]=zt,zt=_t}}function fr($e,We){for(var Pe=$e.d,Je=$e.e,Ot=$e.c,zt=We,$t=Pe[zt];;){var _t=zt>>1,Mt=Pe[_t];if(0==_t||f(Je[Mt],Je[$t])){Ot[Pe[zt]=$t]=zt;break}Ot[Pe[zt]=Mt]=zt,zt=_t}}function Ct(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ir($e){return $e.e.c.b}function Gt($e){return $e.e.a.b}(v=st.prototype).x=function(){at(this,0)},v.B=function($e,We){switch($e){case 100142:return;case 100140:switch(We){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=We)}break;case 100141:return void(this.m=!!We);default:return void Fe(this,100900)}Fe(this,100901)},v.y=function($e){switch($e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Fe(this,100900)}return!1},v.A=function($e,We,Pe){this.j[0]=$e,this.j[1]=We,this.j[2]=Pe},v.z=function($e,We){var Pe=We||null;switch($e){case 100100:case 100106:this.h=Pe;break;case 100104:case 100110:this.l=Pe;break;case 100101:case 100107:this.k=Pe;break;case 100102:case 100108:this.i=Pe;break;case 100103:case 100109:this.p=Pe;break;case 100105:case 100111:this.o=Pe;break;case 100112:this.r=Pe;break;default:Fe(this,100900)}},v.C=function($e,We){var Pe=!1,Je=[0,0,0];at(this,2);for(var Ot=0;Ot<3;++Ot){var zt=$e[Ot];zt<-1e150&&(zt=-1e150,Pe=!0),1e150<zt&&(zt=1e150,Pe=!0),Je[Ot]=zt}Pe&&Fe(this,100155),null===(Pe=this.q)?d(Pe=u(this.b),Pe.b):(g(Pe),Pe=Pe.e),Pe.a.d=We,Pe.a.g[0]=Je[0],Pe.a.g[1]=Je[1],Pe.a.g[2]=Je[2],Pe.f=1,Pe.b.f=-1,this.q=Pe},v.u=function($e){at(this,0),this.d=1,this.b=new ot,this.c=$e},v.t=function(){at(this,1),this.d=2,this.q=null},v.v=function(){at(this,2),this.d=1},v.w=function(){at(this,1),this.d=0;var $e,We,zt=!1,$t=[Pe=this.j[0],Je=this.j[1],Ot=this.j[2]];if(0===Pe&&0===Je&&0===Ot){for(var Je=[-2e150,-2e150,-2e150],_t=[2e150,2e150,2e150],Ot=[],Mt=[],Pe=(zt=this.b.c).e;Pe!==zt;Pe=Pe.e)for(var Xt=0;Xt<3;++Xt){var tr=Pe.g[Xt];tr<_t[Xt]&&(_t[Xt]=tr,Mt[Xt]=Pe),tr>Je[Xt]&&(Je[Xt]=tr,Ot[Xt]=Pe)}if(Je[1]-_t[1]>Je[Pe=0]-_t[0]&&(Pe=1),_t[Pe=Je[2]-_t[2]>Je[Pe]-_t[Pe]?2:Pe]>=Je[Pe])$t[0]=0,$t[1]=0,$t[2]=1;else{for(_t=Mt[Pe],Mt=[Je=0,0,0],_t=[_t.g[0]-(Ot=Ot[Pe]).g[0],_t.g[1]-Ot.g[1],_t.g[2]-Ot.g[2]],Xt=[0,0,0],Pe=zt.e;Pe!==zt;Pe=Pe.e)Xt[0]=Pe.g[0]-Ot.g[0],Xt[1]=Pe.g[1]-Ot.g[1],Xt[2]=Pe.g[2]-Ot.g[2],Mt[0]=_t[1]*Xt[2]-_t[2]*Xt[1],Mt[1]=_t[2]*Xt[0]-_t[0]*Xt[2],Mt[2]=_t[0]*Xt[1]-_t[1]*Xt[0],Je<(tr=Mt[0]*Mt[0]+Mt[1]*Mt[1]+Mt[2]*Mt[2])&&(Je=tr,$t[0]=Mt[0],$t[1]=Mt[1],$t[2]=Mt[2]);Je<=0&&($t[0]=$t[1]=$t[2]=0,$t[T(_t)]=1)}zt=!0}for(Je=((Mt=T($t))+1)%3,Ot=(Mt+2)%3,Mt=0<$t[Mt]?1:-1,$t=(Pe=this.b.c).e;$t!==Pe;$t=$t.e)$t.b=$t.g[Je],$t.a=Mt*$t.g[Ot];if(zt){for($t=0,Pe=(zt=this.b.a).b;Pe!==zt;Pe=Pe.b)if(!((Je=Pe.a).f<=0))for(;$t+=(Je.a.b-Je.b.a.b)*(Je.a.a+Je.b.a.a),(Je=Je.e)!==Pe.a;);if($t<0)for(zt=($t=this.b.c).e;zt!==$t;zt=zt.e)zt.a=-zt.a}for(this.n=!1,Pe=($t=this.b.b).h;Pe!==$t;Pe=zt)zt=Pe.h,Je=Pe.e,b(Pe.a,Pe.b.a)&&Pe.e.e!==Pe&&(K(this,Je,Pe),h(Pe),Je=(Pe=Je).e),Je.e===Pe&&(Je!==Pe&&(Je!==zt&&Je!==zt.b||(zt=zt.h),h(Je)),Pe!==zt&&Pe!==zt.b||(zt=zt.h),h(Pe));for(this.e=$t=new pt,Pe=(zt=this.b.c).e;Pe!==zt;Pe=Pe.e)Pe.h=kt($t,Pe);var Rt=$t;Rt.d=[];for(var vt=0;vt<Rt.a;vt++)Rt.d[vt]=vt;Rt.d.sort(function(Nt){return function(dr,ft){return f(Nt[dr],Nt[ft])?1:-1}}(Rt.c)),Rt.e=!0;for(var Ut=Rt.b,yt=Ut.a;1<=yt;--yt)Qt(Ut,yt);for(Ut.h=!0,this.f=new Xe(this),Ue(this,-4e150),Ue(this,4e150);null!==($t=ar(this.e));){for(;;){e:if(0===(Pe=this.e).a)zt=It(Pe.b);else if(zt=Pe.c[Pe.d[Pe.a-1]],0!==Pe.b.a&&f(Pe=It(Pe.b),zt)){zt=Pe;break e}if(null===zt||!b(zt,$t))break;zt=ar(this.e),K(this,$t.c,zt.c)}!function Nt(dr,ft){for(var Dt,er=(dr.a=ft).c;null===er.i;)if((er=er.c)===ft.c){er=dr;var Yt=ft;(xr=new Ct).a=Yt.c.b;for(var Mr=(lr=er.f).a;null!==(Mr=Mr.a).b&&!lr.c(lr.b,xr,Mr.b););var lr,yr,wr=ir(lr=Mr.b),xr=lr.a;return Mr=wr.a,void(0===w(xr.b.a,Yt,xr.a)?b((xr=lr.a).a,Yt)||b(xr.b.a,Yt)||(g(xr.b),lr.c&&(h(xr.c),lr.c=!1),d(Yt.c,xr),Nt(er,Yt)):(yr=f(Mr.b.a,xr.b.a)?lr:wr,wr=void 0,lr.d||yr.c?(wr=yr===lr?p(Yt.c.b,xr.e):p(Mr.b.c.b,Yt.c).b,yr.c?ee(yr,wr):((lr=te(xr=er,lr,wr)).f=Gt(lr).f+lr.a.f,lr.d=W(xr,lr.f)),Nt(er,Yt)):le(er,lr,Yt.c,Yt.c,null,!0)))}lr=(xr=ir(er=z(er.i))).a,(xr=Y(dr,xr,null)).c===lr?(xr=(lr=xr).c,Mr=ir(er),Dt=!1,(wr=er.a).b.a!==(yr=Mr.a).b.a&&me(dr,er),b(wr.a,dr.a)&&(d(xr.b.e,wr),xr=ir(er=z(er)).a,Y(dr,ir(er),Mr),Dt=!0),b(yr.a,dr.a)&&(d(lr,yr.b.e),lr=Y(dr,Mr,null),Dt=!0),Dt?le(dr,er,lr.c,xr,xr,!0):(Yt=f(yr.a,wr.a)?yr.b.e:wr,le(dr,er,Yt=p(lr.c.b,Yt),Yt.c,Yt.c,!1),Yt.b.i.c=!0,Se(dr,er))):le(dr,er,xr.c,lr,lr,!0)}(this,$t)}for(this.a=this.f.a.a.b.a.a,$t=0;null!==(zt=this.f.a.a.b);)zt.h||++$t,Z(zt);for(this.f=null,($t=this.e).b=null,$t.d=null,this.e=$t.c=null,Pe=($t=this.b).a.b;Pe!==$t.a;Pe=zt)zt=Pe.b,(Pe=Pe.a).e.e===Pe&&(N(Pe.c,Pe),h(Pe));if(!this.n){if($t=this.b,this.m)for(Pe=$t.b.h;Pe!==$t.b;Pe=zt)zt=Pe.h,Pe.b.d.c!==Pe.d.c?Pe.f=Pe.d.c?1:-1:h(Pe);else for(Pe=$t.a.b;Pe!==$t.a;Pe=zt)if(zt=Pe.b,Pe.c){for(Pe=Pe.a;f(Pe.b.a,Pe.a);Pe=Pe.c.b);for(;f(Pe.a,Pe.b.a);Pe=Pe.e);for(Je=Pe.c.b,Ot=void 0;Pe.e!==Je;)if(f(Pe.b.a,Je.a)){for(;Je.e!==Pe&&(f((We=Je.e).b.a,We.a)||w(Je.a,Je.b.a,Je.e.b.a)<=0);)Je=(Ot=p(Je.e,Je)).b;Je=Je.c.b}else{for(;Je.e!==Pe&&(f(($e=Pe.c.b).a,$e.b.a)||0<=w(Pe.b.a,Pe.a,Pe.c.b.a));)Pe=(Ot=p(Pe,Pe.c.b)).b;Pe=Pe.e}for(;Je.e.e!==Pe;)Je=(Ot=p(Je.e,Je)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(zt=($t=this.b).a.b;zt!==$t.a;zt=zt.b)if(zt.c){for(this.h&&this.h(2,this.c),Pe=zt.a;this.k&&this.k(Pe.a.d,this.c),(Pe=Pe.e)!==zt.a;);this.i&&this.i(this.c)}}else{for(zt=!!this.l,Pe=!1,Je=-1,Ot=($t=this.b).a.d;Ot!==$t.a;Ot=Ot.d)if(Ot.c)for(Pe||(this.h&&this.h(4,this.c),Pe=!0),Mt=Ot.a;zt&&Je!==(_t=Mt.b.d.c?0:1)&&(Je=_t,this.l&&this.l(!!Je,this.c)),this.k&&this.k(Mt.a.d,this.c),(Mt=Mt.e)!==Ot.a;);Pe&&this.i&&this.i(this.c)}if(this.r){for(Pe=($t=this.b).a.b;Pe!==$t.a;Pe=zt)if(zt=Pe.b,!Pe.c){for(Ot=(Je=Pe.a).e,Mt=void 0;Ot=(Mt=Ot).e,(Mt.d=null)===Mt.b.d&&(Mt.c===Mt?P(Mt.a,null):(Mt.a.c=Mt.c,C(Mt,Mt.b.e)),(_t=Mt.b).c===_t?P(_t.a,null):(_t.a.c=_t.c,C(_t,_t.b.e)),R(Mt)),Mt!==Je;);Je=Pe.d,((Pe=Pe.b).d=Je).b=Pe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:st,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},st.prototype.gluDeleteTess=st.prototype.x,st.prototype.gluTessProperty=st.prototype.B,st.prototype.gluGetTessProperty=st.prototype.y,st.prototype.gluTessNormal=st.prototype.A,st.prototype.gluTessCallback=st.prototype.z,st.prototype.gluTessVertex=st.prototype.C,st.prototype.gluTessBeginPolygon=st.prototype.u,st.prototype.gluTessBeginContour=st.prototype.t,st.prototype.gluTessEndContour=st.prototype.v,st.prototype.gluTessEndPolygon=st.prototype.w,void 0!==ie&&(ie.exports=this.libtess)},{}],256:[function(o,ie,$){"use strict";function b(f,m,w,_){for(var i=f[m++],a=1<<i,l=1+a,u=1+l,d=i+1,h=(1<<d)-1,g=0,p=0,y=0,C=f[m++],H=new Int32Array(4096),B=null;;){for(;g<16&&0!==C;)p|=f[m++]<<g,g+=8,1===C?C=f[m++]:--C;if(g<d)break;var R=p&h;if(p>>=d,g-=d,R==a)u=1+l,h=(1<<(d=i+1))-1,B=null;else{if(R==l)break;for(var P=R<u?R:B,k=0,T=P;a<T;)T=H[T]>>8,++k;var N=T;if(_<y+k+(P!==R?1:0))return void console.log("Warning, gif stream longer than expected.");w[y++]=N;var j=y+=k;for(P!==R&&(w[y++]=N),T=P;k--;)w[--j]=255&(T=H[T]),T>>=8;null!==B&&u<4096&&(H[u++]=B<<8|N,h+1<=u&&d<12&&(++d,h=h<<1|1)),B=R}}y!==_&&console.log("Warning, gif stream shorter than expected.")}try{$.GifWriter=function v(f,m,w,_){var i=0,a=void 0===(_=void 0===_?{}:_).loop?null:_.loop,l=void 0===_.palette?null:_.palette;if(m<=0||w<=0||65535<m||65535<w)throw new Error("Width/Height invalid.");function u(B){if((B=B.length)<2||256<B||B&B-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return B}f[i++]=71,f[i++]=73,f[i++]=70,f[i++]=56,f[i++]=57,f[i++]=97;var d=0,h=0;if(null!==l){for(var g=u(l);g>>=1;)++d;if(g=1<<d,--d,void 0!==_.background){if(g<=(h=_.background))throw new Error("Background index out of range.");if(0===h)throw new Error("Background index explicitly passed as 0.")}}if(f[i++]=255&m,f[i++]=m>>8&255,f[i++]=255&w,f[i++]=w>>8&255,f[i++]=(null!==l?128:0)|d,f[i++]=h,f[i++]=0,null!==l)for(var p=0,y=l.length;p<y;++p){var C=l[p];f[i++]=C>>16&255,f[i++]=C>>8&255,f[i++]=255&C}if(null!==a){if(a<0||65535<a)throw new Error("Loop count invalid.");f[i++]=33,f[i++]=255,f[i++]=11,f[i++]=78,f[i++]=69,f[i++]=84,f[i++]=83,f[i++]=67,f[i++]=65,f[i++]=80,f[i++]=69,f[i++]=50,f[i++]=46,f[i++]=48,f[i++]=3,f[i++]=1,f[i++]=255&a,f[i++]=a>>8&255,f[i++]=0}var H=!1;this.addFrame=function(B,R,P,k,T,N){if(!0===H&&(--i,H=!1),N=void 0===N?{}:N,B<0||R<0||65535<B||65535<R)throw new Error("x/y invalid.");if(P<=0||k<=0||65535<P||65535<k)throw new Error("Width/Height invalid.");if(T.length<P*k)throw new Error("Not enough pixels for the frame size.");var j=!0,Z=N.palette;if(null==Z&&(j=!1,Z=l),null==Z)throw new Error("Must supply either a local or global palette.");for(var z=u(Z),ee=0;z>>=1;)++ee;z=1<<ee;var te=void 0===N.delay?0:N.delay,W=void 0===N.disposal?0:N.disposal;if(W<0||3<W)throw new Error("Disposal out of range.");var G=!1,Y=0;if(null!=N.transparent&&(G=!0,(Y=N.transparent)<0||z<=Y))throw new Error("Transparent color index.");if(0===W&&!G&&0===te||(f[i++]=33,f[i++]=249,f[i++]=4,f[i++]=W<<2|(!0===G?1:0),f[i++]=255&te,f[i++]=te>>8&255,f[i++]=Y,f[i++]=0),f[i++]=44,f[i++]=255&B,f[i++]=B>>8&255,f[i++]=255&R,f[i++]=R>>8&255,f[i++]=255&P,f[i++]=P>>8&255,f[i++]=255&k,f[i++]=k>>8&255,f[i++]=!0===j?128|ee-1:0,!0===j)for(var le=0,Me=Z.length;le<Me;++le){var K=Z[le];f[i++]=K>>16&255,f[i++]=K>>8&255,f[i++]=255&K}return i=function(O,oe,me,Se){O[oe++]=me;var Ue=oe++,Xe=1<<me,lt=Xe-1,ze=1+Xe,st=1+ze,at=me+1,Fe=0,nt=0;function Ye(br){for(;br<=Fe;)O[oe++]=255&nt,nt>>=8,Fe-=8,oe===Ue+256&&(O[Ue]=255,Ue=oe++)}function ot(br){nt|=br<<Fe,Fe+=at,Ye(8)}var Ze=Se[0]&lt,pt={};ot(Xe);for(var kt=1,ar=Se.length;kt<ar;++kt){var Vt=Se[kt]&lt,cr=Ze<<8|Vt,It=pt[cr];if(void 0===It){for(nt|=Ze<<Fe,Fe+=at;8<=Fe;)O[oe++]=255&nt,nt>>=8,Fe-=8,oe===Ue+256&&(O[Ue]=255,Ue=oe++);4096===st?(ot(Xe),st=1+ze,at=me+1,pt={}):(1<<at<=st&&++at,pt[cr]=st++),Ze=Vt}else Ze=It}return ot(Ze),ot(ze),Ye(1),Ue+1===oe?O[Ue]=0:(O[Ue]=oe-Ue-1,O[oe++]=0),oe}(f,i,ee<2?2:ee,T)},this.end=function(){return!1===H&&(f[i++]=59,H=!0),i},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(B){f=B},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(B){i=B}},$.GifReader=function(f){var m=0;if(71!==f[m++]||73!==f[m++]||70!==f[m++]||56!==f[m++]||56!=(f[m++]+1&253)||97!==f[m++])throw new Error("Invalid GIF 87a/89a header.");var w=f[m++]|f[m++]<<8,_=f[m++]|f[m++]<<8,i=f[m++],l=(m++,m++,null),u=null,d=(i>>7&&(l=m,m+=3*(u=1<<1+(7&i))),!0),h=[],g=0,p=null,y=0,C=null;for(this.width=w,this.height=_;d&&m<f.length;)switch(f[m++]){case 33:switch(f[m++]){case 255:if(11!==f[m]||78==f[m+1]&&69==f[m+2]&&84==f[m+3]&&83==f[m+4]&&67==f[m+5]&&65==f[m+6]&&80==f[m+7]&&69==f[m+8]&&50==f[m+9]&&46==f[m+10]&&48==f[m+11]&&3==f[m+12]&&1==f[m+13]&&0==f[m+16])m+=14,C=f[m++]|f[m++]<<8,m++;else for(m+=12;;){if(!(0<=(B=f[m++])))throw Error("Invalid block size");if(0===B)break;m+=B}break;case 249:if(4!==f[m++]||0!==f[m+4])throw new Error("Invalid graphics extension block.");var H=f[m++];g=f[m++]|f[m++]<<8,p=f[m++],!(1&H)&&(p=null),y=H>>2&7,m++;break;case 254:for(;;){if(!(0<=(B=f[m++])))throw Error("Invalid block size");if(0===B)break;m+=B}break;default:throw new Error("Unknown graphic control label: 0x"+f[m-1].toString(16))}break;case 44:var B,R=f[m++]|f[m++]<<8,P=f[m++]|f[m++]<<8,k=f[m++]|f[m++]<<8,T=f[m++]|f[m++]<<8,N=(te=f[m++])>>6&1,Z=l,ee=u,z=!1,te=(te>>7&&(z=!0,Z=m,m+=3*(ee=1<<1+(7&te))),m);for(m++;;){if(!(0<=(B=f[m++])))throw Error("Invalid block size");if(0===B)break;m+=B}h.push({x:R,y:P,width:k,height:T,has_local_palette:z,palette_offset:Z,palette_size:ee,data_offset:te,data_length:m-te,transparent_index:p,interlaced:!!N,delay:g,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+f[m-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return C},this.frameInfo=function(W){if(W<0||W>=h.length)throw new Error("Frame index out of range.");return h[W]},this.decodeAndBlitFrameBGRA=function(W,G){for(var Y=(W=this.frameInfo(W)).width*W.height,le=new Uint8Array(Y),Me=(b(f,W.data_offset,le,Y),W.palette_offset),K=W.transparent_index,O=(null===K&&(K=256),W.width),oe=w-O,me=O,Se=4*(W.y*w+W.x),Ue=4*((W.y+W.height)*w+W.x),Xe=Se,lt=4*oe,ze=(!0===W.interlaced&&(lt+=4*w*7),8),st=0,at=le.length;st<at;++st){var Fe,nt,Ye=le[st];0===me&&(me=O,Ue<=(Xe+=lt)&&(lt=4*oe+4*w*(ze-1),Xe=Se+(O+oe)*(ze<<1),ze>>=1)),Ye===K?Xe+=4:(Fe=f[Me+3*Ye],nt=f[Me+3*Ye+1],G[Xe++]=Ye=f[Me+3*Ye+2],G[Xe++]=nt,G[Xe++]=Fe,G[Xe++]=255),--me}},this.decodeAndBlitFrameRGBA=function(W,G){for(var Y=(W=this.frameInfo(W)).width*W.height,le=new Uint8Array(Y),Me=(b(f,W.data_offset,le,Y),W.palette_offset),K=W.transparent_index,O=(null===K&&(K=256),W.width),oe=w-O,me=O,Se=4*(W.y*w+W.x),Ue=4*((W.y+W.height)*w+W.x),Xe=Se,lt=4*oe,ze=(!0===W.interlaced&&(lt+=4*w*7),8),st=0,at=le.length;st<at;++st){var Fe,nt,Ye=le[st];0===me&&(me=O,Ue<=(Xe+=lt)&&(lt=4*oe+4*w*(ze-1),Xe=Se+(O+oe)*(ze<<1),ze>>=1)),Ye===K?Xe+=4:(Fe=f[Me+3*Ye],nt=f[Me+3*Ye+1],Ye=f[Me+3*Ye+2],G[Xe++]=Fe,G[Xe++]=nt,G[Xe++]=Ye,G[Xe++]=255),--me}}}}catch{}},{}],257:[function(o,ie,$){(function(v){var f;f=function(m){"use strict";function w(fe){if(null==this)throw TypeError();var F,q=String(this),re=q.length;if(!((fe=(fe=fe?Number(fe):0)!=fe?0:fe)<0||re<=fe))return 55296<=(F=q.charCodeAt(fe))&&F<=56319&&fe+1<re&&56320<=(re=q.charCodeAt(fe+1))&&re<=57343?1024*(F-55296)+re-56320+65536:F}String.prototype.codePointAt||((_=function(){try{var S={},F=Object.defineProperty,q=F(S,S,S)&&F}catch{}return q}())?_(String.prototype,"codePointAt",{value:w,configurable:!0,writable:!0}):String.prototype.codePointAt=w);var _;function l(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(S,F){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=F,this.destLen=0,this.ltree=new l,this.dtree=new l}var d=new l,h=new l,g=new Uint8Array(30),p=new Uint16Array(30),y=new Uint8Array(30),C=new Uint16Array(30),H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B=new l,R=new Uint8Array(320);function P(S,F,q,re){for(var fe,Te=0;Te<q;++Te)S[Te]=0;for(Te=0;Te<30-q;++Te)S[Te+q]=Te/q|0;for(fe=re,Te=0;Te<30;++Te)F[Te]=fe,fe+=1<<S[Te]}var k=new Uint16Array(16);function T(S,F,q,re){for(var fe,Te=0;Te<16;++Te)S.table[Te]=0;for(Te=0;Te<re;++Te)S.table[F[q+Te]]++;for(Te=fe=S.table[0]=0;Te<16;++Te)k[Te]=fe,fe+=S.table[Te];for(Te=0;Te<re;++Te)F[q+Te]&&(S.trans[k[F[q+Te]]++]=Te)}function N(S,F,q){if(!F)return q;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var re=S.tag&65535>>>16-F;return S.tag>>>=F,S.bitcount-=F,re+q}function j(S,F){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var q=0,re=0,fe=0,Te=S.tag;re=2*re+(1&Te),Te>>>=1,q+=F.table[++fe],0<=(re-=F.table[fe]););return S.tag=Te,S.bitcount-=fe,F.trans[q+re]}function Z(S,F,q){for(;;){if(256===(re=j(S,F)))return 0;if(re<256)S.dest[S.destLen++]=re;else for(var fe,Te=N(S,g[re-=257],p[re]),re=j(S,q),Re=fe=S.destLen-N(S,y[re],C[re]);Re<fe+Te;++Re)S.dest[S.destLen++]=S.dest[Re]}}for(var ee=d,z=h,te=0;te<7;++te)ee.table[te]=0;for(ee.table[7]=24,ee.table[8]=152,ee.table[9]=112,te=0;te<24;++te)ee.trans[te]=256+te;for(te=0;te<144;++te)ee.trans[24+te]=te;for(te=0;te<8;++te)ee.trans[168+te]=280+te;for(te=0;te<112;++te)ee.trans[176+te]=144+te;for(te=0;te<5;++te)z.table[te]=0;for(z.table[5]=32,te=0;te<32;++te)z.trans[te]=te;P(g,p,4,3),P(y,C,2,1),g[28]=0,p[28]=258;var W=function(S,F){var q,re,fe,Te=new u(S,F);do{switch(void 0,(re=Te).bitcount--||(re.tag=re.source[re.sourceIndex++],re.bitcount=7),fe=1&re.tag,re.tag>>>=1,re=fe,N(Te,2,0)){case 0:q=function(nr){for(var Br,Lr;8<nr.bitcount;)nr.sourceIndex--,nr.bitcount-=8;if((Br=256*nr.source[nr.sourceIndex+1]+nr.source[nr.sourceIndex])!==(65535&~(256*nr.source[nr.sourceIndex+3]+nr.source[nr.sourceIndex+2])))return-3;for(nr.sourceIndex+=4,Lr=Br;Lr;--Lr)nr.dest[nr.destLen++]=nr.source[nr.sourceIndex++];return nr.bitcount=0,0}(Te);break;case 1:q=Z(Te,d,h);break;case 2:Ft=Be=ge=Ht=Re=be=void 0;for(var Re,Qe=Te,bt=Te.ltree,gt=Te.dtree,Wt=N(Qe,5,257),ve=N(Qe,5,1),ae=N(Qe,4,4),be=0;be<19;++be)R[be]=0;for(be=0;be<ae;++be){var ge=N(Qe,3,0);R[H[be]]=ge}for(T(B,R,0,19),Re=0;Re<Wt+ve;){var Be=j(Qe,B);switch(Be){case 16:for(var Ft=R[Re-1],Ht=N(Qe,2,3);Ht;--Ht)R[Re++]=Ft;break;case 17:for(Ht=N(Qe,3,3);Ht;--Ht)R[Re++]=0;break;case 18:for(Ht=N(Qe,7,11);Ht;--Ht)R[Re++]=0;break;default:R[Re++]=Be}}T(bt,R,0,Wt),T(gt,R,Wt,ve),q=Z(Te,Te.ltree,Te.dtree);break;default:q=-3}if(0!==q)throw new Error("Data error")}while(!re);return Te.destLen<Te.dest.length?"function"==typeof Te.dest.slice?Te.dest.slice(0,Te.destLen):Te.dest.subarray(0,Te.destLen):Te.dest};function G(S,F,q,re,fe){return Math.pow(1-fe,3)*S+3*Math.pow(1-fe,2)*fe*F+3*(1-fe)*Math.pow(fe,2)*q+Math.pow(fe,3)*re}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Me(S){throw new Error(S)}function K(S,F){S||Me(F)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(S,F){"number"==typeof S&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),"number"==typeof F&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=F,this.y2=F),F<this.y1&&(this.y1=F),F>this.y2&&(this.y2=F))},Y.prototype.addX=function(S){this.addPoint(S,null)},Y.prototype.addY=function(S){this.addPoint(null,S)},Y.prototype.addBezier=function(S,F,q,re,fe,Te,Re,Qe){var bt=[S,F],gt=[q,re],Wt=[fe,Te],ve=[Re,Qe];this.addPoint(S,F),this.addPoint(Re,Qe);for(var ae=0;ae<=1;ae++){var be,ge=6*bt[ae]-12*gt[ae]+6*Wt[ae],Be=-3*bt[ae]+9*gt[ae]-9*Wt[ae]+3*ve[ae],Ft=3*gt[ae]-3*bt[ae];0==Be?0==ge||0<(be=-Ft/ge)&&be<1&&(0===ae&&this.addX(G(bt[ae],gt[ae],Wt[ae],ve[ae],be)),1===ae&&this.addY(G(bt[ae],gt[ae],Wt[ae],ve[ae],be))):(be=Math.pow(ge,2)-4*Ft*Be)<0||(0<(Ft=(-ge+Math.sqrt(be))/(2*Be))&&Ft<1&&(0===ae&&this.addX(G(bt[ae],gt[ae],Wt[ae],ve[ae],Ft)),1===ae&&this.addY(G(bt[ae],gt[ae],Wt[ae],ve[ae],Ft))),0<(Ft=(-ge-Math.sqrt(be))/(2*Be))&&Ft<1&&(0===ae&&this.addX(G(bt[ae],gt[ae],Wt[ae],ve[ae],Ft)),1===ae&&this.addY(G(bt[ae],gt[ae],Wt[ae],ve[ae],Ft))))}},Y.prototype.addQuad=function(S,F,q,re,fe,Te){this.addBezier(S,F,q=S+2/3*(q-S),re=F+2/3*(re-F),q+1/3*(fe-S),re+1/3*(Te-F),fe,Te)},le.prototype.moveTo=function(S,F){this.commands.push({type:"M",x:S,y:F})},le.prototype.lineTo=function(S,F){this.commands.push({type:"L",x:S,y:F})},le.prototype.curveTo=le.prototype.bezierCurveTo=function(S,F,q,re,fe,Te){this.commands.push({type:"C",x1:S,y1:F,x2:q,y2:re,x:fe,y:Te})},le.prototype.quadTo=le.prototype.quadraticCurveTo=function(S,F,q,re){this.commands.push({type:"Q",x1:S,y1:F,x:q,y:re})},le.prototype.close=le.prototype.closePath=function(){this.commands.push({type:"Z"})},le.prototype.extend=function(S){var F;if(S.commands)S=S.commands;else if(S instanceof Y)return this.moveTo((F=S).x1,F.y1),this.lineTo(F.x2,F.y1),this.lineTo(F.x2,F.y2),this.lineTo(F.x1,F.y2),void this.close();Array.prototype.push.apply(this.commands,S)},le.prototype.getBoundingBox=function(){for(var S=new Y,F=0,q=0,re=0,fe=0,Te=0;Te<this.commands.length;Te++){var Re=this.commands[Te];switch(Re.type){case"M":S.addPoint(Re.x,Re.y),F=re=Re.x,q=fe=Re.y;break;case"L":S.addPoint(Re.x,Re.y),re=Re.x,fe=Re.y;break;case"Q":S.addQuad(re,fe,Re.x1,Re.y1,Re.x,Re.y),re=Re.x,fe=Re.y;break;case"C":S.addBezier(re,fe,Re.x1,Re.y1,Re.x2,Re.y2,Re.x,Re.y),re=Re.x,fe=Re.y;break;case"Z":re=F,fe=q;break;default:throw new Error("Unexpected path command "+Re.type)}}return S.isEmpty()&&S.addPoint(0,0),S},le.prototype.draw=function(S){S.beginPath();for(var F=0;F<this.commands.length;F+=1){var q=this.commands[F];"M"===q.type?S.moveTo(q.x,q.y):"L"===q.type?S.lineTo(q.x,q.y):"C"===q.type?S.bezierCurveTo(q.x1,q.y1,q.x2,q.y2,q.x,q.y):"Q"===q.type?S.quadraticCurveTo(q.x1,q.y1,q.x,q.y):"Z"===q.type&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},le.prototype.toPathData=function(S){function F(){for(var Te=arguments,Re="",Qe=0;Qe<arguments.length;Qe+=1){var bt=Te[Qe];0<=bt&&0<Qe&&(Re+=" "),Re+=Math.round(bt)===bt?""+Math.round(bt):bt.toFixed(S)}return Re}S=void 0!==S?S:2;for(var q="",re=0;re<this.commands.length;re+=1){var fe=this.commands[re];"M"===fe.type?q+="M"+F(fe.x,fe.y):"L"===fe.type?q+="L"+F(fe.x,fe.y):"C"===fe.type?q+="C"+F(fe.x1,fe.y1,fe.x2,fe.y2,fe.x,fe.y):"Q"===fe.type?q+="Q"+F(fe.x1,fe.y1,fe.x,fe.y):"Z"===fe.type&&(q+="Z")}return q},le.prototype.toSVG=function(S){var F=(F='<path d="')+this.toPathData(S)+'"';return this.fill&&"black"!==this.fill&&(F+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(F+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),F+"/>"},le.prototype.toDOMElement=function(F){F=this.toPathData(F);var q=document.createElementNS("http://www.w3.org/2000/svg","path");return q.setAttribute("d",F),q};var O={fail:Me,argument:K,assert:K},oe={},me={},Se={};function Ue(S){return function(){return S}}me.BYTE=function(S){return O.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},Se.BYTE=Ue(1),me.CHAR=function(S){return[S.charCodeAt(0)]},Se.CHAR=Ue(1),me.CHARARRAY=function(S){for(var F=[],q=0;q<S.length;q+=1)F[q]=S.charCodeAt(q);return F},Se.CHARARRAY=function(S){return S.length},me.USHORT=function(S){return[S>>8&255,255&S]},Se.USHORT=Ue(2),me.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},Se.SHORT=Ue(2),me.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},Se.UINT24=Ue(3),me.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},Se.ULONG=Ue(4),me.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},Se.LONG=Ue(4),me.FIXED=me.ULONG,Se.FIXED=Se.ULONG,me.FWORD=me.SHORT,Se.FWORD=Se.SHORT,me.UFWORD=me.USHORT,Se.UFWORD=Se.USHORT,me.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},Se.LONGDATETIME=Ue(8),me.TAG=function(S){return O.argument(4===S.length,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},Se.TAG=Ue(4),me.Card8=me.BYTE,Se.Card8=Se.BYTE,me.Card16=me.USHORT,Se.Card16=Se.USHORT,me.OffSize=me.BYTE,Se.OffSize=Se.BYTE,me.SID=me.USHORT,Se.SID=Se.USHORT,me.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?me.NUMBER16(S):me.NUMBER32(S)},Se.NUMBER=function(S){return me.NUMBER(S).length},me.NUMBER16=function(S){return[28,S>>8&255,255&S]},Se.NUMBER16=Ue(3),me.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},Se.NUMBER32=Ue(5),me.REAL=function(S){for(var F=S.toString(),q=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(F),re=(q&&(q=parseFloat("1e"+((q[2]?+q[2]:0)+q[1].length)),F=(Math.round(S*q)/q).toString()),""),fe=0,Te=F.length;fe<Te;fe+=1){var Re=F[fe];re+="e"===Re?"-"===F[++fe]?"c":"b":"."===Re?"a":"-"===Re?"e":Re}for(var Qe=[30],bt=0,gt=(re+=1&re.length?"f":"ff").length;bt<gt;bt+=2)Qe.push(parseInt(re.substr(bt,2),16));return Qe},Se.REAL=function(S){return me.REAL(S).length},me.NAME=me.CHARARRAY,Se.NAME=Se.CHARARRAY,me.STRING=me.CHARARRAY,Se.STRING=Se.CHARARRAY,oe.UTF8=function(S,F,q){for(var re=[],fe=q,Te=0;Te<fe;Te++,F+=1)re[Te]=S.getUint8(F);return String.fromCharCode.apply(null,re)},oe.UTF16=function(S,F,q){for(var re=[],fe=q/2,Te=0;Te<fe;Te++,F+=2)re[Te]=S.getUint16(F);return String.fromCharCode.apply(null,re)},me.UTF16=function(S){for(var F=[],q=0;q<S.length;q+=1){var re=S.charCodeAt(q);F[F.length]=re>>8&255,F[F.length]=255&re}return F},Se.UTF16=function(S){return 2*S.length};var Xe,lt={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},ze=(oe.MACSTRING=function(S,F,q,re){var fe=lt[re];if(void 0!==fe){for(var Te="",Re=0;Re<q;Re++){var Qe=S.getUint8(F+Re);Te+=Qe<=127?String.fromCharCode(Qe):fe[127&Qe]}return Te}},"function"==typeof WeakMap&&new WeakMap);function st(S){return-128<=S&&S<=127}me.MACSTRING=function(S,F){var q=function(Re){if(!Xe)for(var Qe in Xe={},lt)Xe[Qe]=new String(Qe);var bt=Xe[Re];if(void 0!==bt){if(ze){var gt=ze.get(bt);if(void 0!==gt)return gt}var Wt=lt[Re];if(void 0!==Wt){for(var ve={},ae=0;ae<Wt.length;ae++)ve[Wt.charCodeAt(ae)]=ae+128;return ze&&ze.set(bt,ve),ve}}}(F);if(void 0!==q){for(var re=[],fe=0;fe<S.length;fe++){var Te=S.charCodeAt(fe);if(128<=Te&&void 0===(Te=q[Te]))return;re[fe]=Te}return re}},Se.MACSTRING=function(S,F){return void 0!==(S=me.MACSTRING(S,F))?S.length:0},me.VARDELTAS=function(S){for(var re=0,F=[];re<S.length;){var q=S[re];re=(0===q?function(fe,Te,Re){for(var Qe=0,bt=fe.length;Te<bt&&Qe<64&&0===fe[Te];)++Te,++Qe;return Re.push(128|Qe-1),Te}:-128<=q&&q<=127?function(fe,Te,Re){for(var Qe=0,bt=fe.length,gt=Te;gt<bt&&Qe<64;){var Wt=fe[gt];if(!st(Wt)||0===Wt&&gt+1<bt&&0===fe[gt+1])break;++gt,++Qe}Re.push(Qe-1);for(var ve=Te;ve<gt;++ve)Re.push(fe[ve]+256&255);return gt}:function(fe,Te,Re){for(var Qe=0,bt=fe.length,gt=Te;gt<bt&&Qe<64;){var Wt=fe[gt];if(0===Wt||st(Wt)&&gt+1<bt&&st(fe[gt+1]))break;++gt,++Qe}Re.push(64|Qe-1);for(var ve=Te;ve<gt;++ve){var ae=fe[ve];Re.push(ae+65536>>8&255,ae+256&255)}return gt})(S,re,F)}return F},me.INDEX=function(S){for(var F=1,q=[F],re=[],fe=0;fe<S.length;fe+=1){var Te=me.OBJECT(S[fe]);Array.prototype.push.apply(re,Te),q.push(F+=Te.length)}if(0===re.length)return[0,0];for(var Re=[],Qe=1+Math.floor(Math.log(F)/Math.log(2))/8|0,bt=[void 0,me.BYTE,me.USHORT,me.UINT24,me.ULONG][Qe],gt=0;gt<q.length;gt+=1){var Wt=bt(q[gt]);Array.prototype.push.apply(Re,Wt)}return Array.prototype.concat(me.Card16(S.length),me.OffSize(Qe),Re,re)},Se.INDEX=function(S){return me.INDEX(S).length},me.DICT=function(S){for(var F=[],q=Object.keys(S),re=q.length,fe=0;fe<re;fe+=1){var Te=parseInt(q[fe],0),Re=S[Te];F=(F=F.concat(me.OPERAND(Re.value,Re.type))).concat(me.OPERATOR(Te))}return F},Se.DICT=function(S){return me.DICT(S).length},me.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},me.OPERAND=function(S,F){var q=[];if(Array.isArray(F))for(var re=0;re<F.length;re+=1)O.argument(S.length===F.length,"Not enough arguments given for type"+F),q=q.concat(me.OPERAND(S[re],F[re]));else if("SID"===F)q=q.concat(me.NUMBER(S));else if("offset"===F)q=q.concat(me.NUMBER32(S));else if("number"===F)q=q.concat(me.NUMBER(S));else{if("real"!==F)throw new Error("Unknown operand type "+F);q=q.concat(me.REAL(S))}return q},me.OP=me.BYTE,Se.OP=Se.BYTE;var at="function"==typeof WeakMap&&new WeakMap;function Fe(S,F,q){for(var re=0;re<F.length;re+=1){var fe=F[re];this[fe.name]=fe.value}if(this.tableName=S,this.fields=F,q)for(var Te=Object.keys(q),Re=0;Re<Te.length;Re+=1){var Qe=Te[Re];void 0!==this[Qe]&&(this[Qe]=q[Qe])}}function nt(S,F,q){void 0===q&&(q=F.length);var re=new Array(F.length+1);re[0]={name:S+"Count",type:"USHORT",value:q};for(var fe=0;fe<F.length;fe++)re[fe+1]={name:S+fe,type:"USHORT",value:F[fe]};return re}function Ye(S,F,q){var re=F.length,fe=new Array(re+1);fe[0]={name:S+"Count",type:"USHORT",value:re};for(var Te=0;Te<re;Te++)fe[Te+1]={name:S+Te,type:"TABLE",value:q(F[Te],Te)};return fe}function ot(S,F,q){var re=F.length,fe=[];fe[0]={name:S+"Count",type:"USHORT",value:re};for(var Te=0;Te<re;Te++)fe=fe.concat(q(F[Te],Te));return fe}function Ze(S){1===S.format?Fe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(nt("glyph",S.glyphs))):O.assert(!1,"Can't create coverage table format 2 yet.")}function pt(S){Fe.call(this,"scriptListTable",ot("scriptRecord",S,function(F,q){var re=F.script,fe=re.defaultLangSys;return O.assert(!!fe,"Unable to write GSUB: script "+F.tag+" has no default language system."),[{name:"scriptTag"+q,type:"TAG",value:F.tag},{name:"script"+q,type:"TABLE",value:new Fe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Fe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:fe.reqFeatureIndex}].concat(nt("featureIndex",fe.featureIndexes)))}].concat(ot("langSys",re.langSysRecords,function(Te,Re){var Qe=Te.langSys;return[{name:"langSysTag"+Re,type:"TAG",value:Te.tag},{name:"langSys"+Re,type:"TABLE",value:new Fe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Qe.reqFeatureIndex}].concat(nt("featureIndex",Qe.featureIndexes)))}]})))}]}))}function kt(S){Fe.call(this,"featureListTable",ot("featureRecord",S,function(F,q){var re=F.feature;return[{name:"featureTag"+q,type:"TAG",value:F.tag},{name:"feature"+q,type:"TABLE",value:new Fe("featureTable",[{name:"featureParams",type:"USHORT",value:re.featureParams}].concat(nt("lookupListIndex",re.lookupListIndexes)))}]}))}function ar(S,F){Fe.call(this,"lookupListTable",Ye("lookup",S,function(q){var re=F[q.lookupType];return O.assert(!!re,"Unable to write GSUB lookup type "+q.lookupType+" tables."),new Fe("lookupTable",[{name:"lookupType",type:"USHORT",value:q.lookupType},{name:"lookupFlag",type:"USHORT",value:q.lookupFlag}].concat(Ye("subtable",q.subtables,re)))}))}me.CHARSTRING=function(S){if(at){var F=at.get(S);if(void 0!==F)return F}for(var Te=[],q=S.length,re=0;re<q;re+=1){var fe=S[re];Te=Te.concat(me[fe.type](fe.value))}return at&&at.set(S,Te),Te},Se.CHARSTRING=function(S){return me.CHARSTRING(S).length},me.OBJECT=function(S){var F=me[S.type];return O.argument(void 0!==F,"No encoding function for type "+S.type),F(S.value)},Se.OBJECT=function(S){var F=Se[S.type];return O.argument(void 0!==F,"No sizeOf function for type "+S.type),F(S.value)},me.TABLE=function(S){for(var F=[],q=S.fields.length,re=[],fe=[],Te=0;Te<q;Te+=1){var Re=S.fields[Te],Qe=(O.argument(void 0!==(bt=me[Re.type]),"No encoding function for field type "+Re.type+" ("+Re.name+")"),S[Re.name]),bt=bt(Qe=void 0===Qe?Re.value:Qe);"TABLE"===Re.type?(fe.push(F.length),F=F.concat([0,0]),re.push(bt)):F=F.concat(bt)}for(var gt=0;gt<re.length;gt+=1){var Wt=fe[gt],ve=F.length;O.argument(ve<65536,"Table "+S.tableName+" too big."),F[Wt]=ve>>8,F[Wt+1]=255&ve,F=F.concat(re[gt])}return F},Se.TABLE=function(S){for(var F=0,q=S.fields.length,re=0;re<q;re+=1){var fe=S.fields[re],Te=Se[fe.type],Re=(O.argument(void 0!==Te,"No sizeOf function for field type "+fe.type+" ("+fe.name+")"),S[fe.name]);F+=Te(Re=void 0===Re?fe.value:Re),"TABLE"===fe.type&&(F+=2)}return F},me.RECORD=me.TABLE,Se.RECORD=Se.TABLE,me.LITERAL=function(S){return S},Se.LITERAL=function(S){return S.length},Fe.prototype.encode=function(){return me.TABLE(this)},Fe.prototype.sizeOf=function(){return Se.TABLE(this)};var Vt={Table:Fe,Record:Fe,Coverage:(Ze.prototype=Object.create(Fe.prototype)).constructor=Ze,ScriptList:(pt.prototype=Object.create(Fe.prototype)).constructor=pt,FeatureList:(kt.prototype=Object.create(Fe.prototype)).constructor=kt,LookupList:(ar.prototype=Object.create(Fe.prototype)).constructor=ar,ushortList:nt,tableList:Ye,recordList:ot};function cr(S,F){return S.getUint8(F)}function It(S,F){return S.getUint16(F,!1)}function br(S,F){return S.getUint32(F,!1)}function Qt(S,F){return S.getInt16(F,!1)+S.getUint16(F+2,!1)/65535}var fr={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ct(S,F){this.data=S,this.offset=F,this.relativeOffset=0}Ct.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ct.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ct.prototype.parseCard8=Ct.prototype.parseByte,Ct.prototype.parseCard16=Ct.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ct.prototype.parseSID=Ct.prototype.parseUShort,Ct.prototype.parseOffset16=Ct.prototype.parseUShort,Ct.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ct.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},Ct.prototype.parseOffset32=Ct.prototype.parseULong=function(){var S=br(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ct.prototype.parseFixed=function(){var S=Qt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ct.prototype.parseString=function(S){var F=this.data,q=this.offset+this.relativeOffset,re="";this.relativeOffset+=S;for(var fe=0;fe<S;fe++)re+=String.fromCharCode(F.getUint8(q+fe));return re},Ct.prototype.parseTag=function(){return this.parseString(4)},Ct.prototype.parseLongDateTime=function(){var S=br(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},Ct.prototype.parseVersion=function(S){var F=It(this.data,this.offset+this.relativeOffset),q=It(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,F+q/(S=void 0===S?4096:S)/10},Ct.prototype.skip=function(S,F){this.relativeOffset+=fr[S]*(F=void 0===F?1:F)},Ct.prototype.parseULongList=function(S){void 0===S&&(S=this.parseULong());for(var F=new Array(S),q=this.data,re=this.offset+this.relativeOffset,fe=0;fe<S;fe++)F[fe]=q.getUint32(re),re+=4;return this.relativeOffset+=4*S,F},Ct.prototype.parseOffset16List=Ct.prototype.parseUShortList=function(S){void 0===S&&(S=this.parseUShort());for(var F=new Array(S),q=this.data,re=this.offset+this.relativeOffset,fe=0;fe<S;fe++)F[fe]=q.getUint16(re),re+=2;return this.relativeOffset+=2*S,F},Ct.prototype.parseShortList=function(S){for(var F=new Array(S),q=this.data,re=this.offset+this.relativeOffset,fe=0;fe<S;fe++)F[fe]=q.getInt16(re),re+=2;return this.relativeOffset+=2*S,F},Ct.prototype.parseByteList=function(S){for(var F=new Array(S),q=this.data,re=this.offset+this.relativeOffset,fe=0;fe<S;fe++)F[fe]=q.getUint8(re++);return this.relativeOffset+=S,F},Ct.prototype.parseList=function(S,F){F||(F=S,S=this.parseUShort());for(var q=new Array(S),re=0;re<S;re++)q[re]=F.call(this);return q},Ct.prototype.parseList32=function(S,F){F||(F=S,S=this.parseULong());for(var q=new Array(S),re=0;re<S;re++)q[re]=F.call(this);return q},Ct.prototype.parseRecordList=function(S,F){F||(F=S,S=this.parseUShort());for(var q=new Array(S),re=Object.keys(F),fe=0;fe<S;fe++){for(var Te={},Re=0;Re<re.length;Re++){var Qe=re[Re];Te[Qe]=F[Qe].call(this)}q[fe]=Te}return q},Ct.prototype.parseRecordList32=function(S,F){F||(F=S,S=this.parseULong());for(var q=new Array(S),re=Object.keys(F),fe=0;fe<S;fe++){for(var Te={},Re=0;Re<re.length;Re++){var Qe=re[Re];Te[Qe]=F[Qe].call(this)}q[fe]=Te}return q},Ct.prototype.parseStruct=function(S){if("function"==typeof S)return S.call(this);for(var F=Object.keys(S),q={},re=0;re<F.length;re++){var fe=F[re];q[fe]=S[fe].call(this)}return q},Ct.prototype.parseValueRecord=function(S){var F;if(0!==(S=void 0===S?this.parseUShort():S))return F={},1&S&&(F.xPlacement=this.parseShort()),2&S&&(F.yPlacement=this.parseShort()),4&S&&(F.xAdvance=this.parseShort()),8&S&&(F.yAdvance=this.parseShort()),16&S&&(F.xPlaDevice=void 0,this.parseShort()),32&S&&(F.yPlaDevice=void 0,this.parseShort()),64&S&&(F.xAdvDevice=void 0,this.parseShort()),128&S&&(F.yAdvDevice=void 0,this.parseShort()),F},Ct.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),F=this.parseUShort(),q=new Array(F),re=0;re<F;re++)q[re]=this.parseValueRecord(S);return q},Ct.prototype.parsePointer=function(S){var F=this.parseOffset16();if(0<F)return new Ct(this.data,this.offset+F).parseStruct(S)},Ct.prototype.parsePointer32=function(S){var F=this.parseOffset32();if(0<F)return new Ct(this.data,this.offset+F).parseStruct(S)},Ct.prototype.parseListOfLists=function(S){for(var F=this.parseOffset16List(),q=F.length,re=this.relativeOffset,fe=new Array(q),Te=0;Te<q;Te++){var Re=F[Te];if(0===Re)fe[Te]=void 0;else if(this.relativeOffset=Re,S){for(var Qe=this.parseOffset16List(),bt=new Array(Qe.length),gt=0;gt<Qe.length;gt++)this.relativeOffset=Re+Qe[gt],bt[gt]=S.call(this);fe[Te]=bt}else fe[Te]=this.parseUShortList()}return this.relativeOffset=re,fe},Ct.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,F=this.parseUShort(),q=this.parseUShort();if(1===F)return{format:1,glyphs:this.parseUShortList(q)};if(2!==F)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var re=new Array(q),fe=0;fe<q;fe++)re[fe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:re}},Ct.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,F=this.parseUShort();if(1===F)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===F)return{format:2,ranges:this.parseRecordList({start:Ct.uShort,end:Ct.uShort,classId:Ct.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},Ct.list=function(S,F){return function(){return this.parseList(S,F)}},Ct.list32=function(S,F){return function(){return this.parseList32(S,F)}},Ct.recordList=function(S,F){return function(){return this.parseRecordList(S,F)}},Ct.recordList32=function(S,F){return function(){return this.parseRecordList32(S,F)}},Ct.pointer=function(S){return function(){return this.parsePointer(S)}},Ct.pointer32=function(S){return function(){return this.parsePointer32(S)}},Ct.tag=Ct.prototype.parseTag,Ct.byte=Ct.prototype.parseByte,Ct.uShort=Ct.offset16=Ct.prototype.parseUShort,Ct.uShortList=Ct.prototype.parseUShortList,Ct.uLong=Ct.offset32=Ct.prototype.parseULong,Ct.uLongList=Ct.prototype.parseULongList,Ct.struct=Ct.prototype.parseStruct,Ct.coverage=Ct.prototype.parseCoverage,Ct.classDef=Ct.prototype.parseClassDef;var ir={reserved:Ct.uShort,reqFeatureIndex:Ct.uShort,featureIndexes:Ct.uShortList},Gt=(Ct.prototype.parseScriptList=function(){return this.parsePointer(Ct.recordList({tag:Ct.tag,script:Ct.pointer({defaultLangSys:Ct.pointer(ir),langSysRecords:Ct.recordList({tag:Ct.tag,langSys:Ct.pointer(ir)})})}))||[]},Ct.prototype.parseFeatureList=function(){return this.parsePointer(Ct.recordList({tag:Ct.tag,feature:Ct.pointer({featureParams:Ct.offset16,lookupListIndexes:Ct.uShortList})}))||[]},Ct.prototype.parseLookupList=function(S){return this.parsePointer(Ct.list(Ct.pointer(function(){var F=this.parseUShort(),q=(O.argument(1<=F&&F<=9,"GPOS/GSUB lookup type "+F+" unknown."),this.parseUShort()),re=16&q;return{lookupType:F,lookupFlag:q,subtables:this.parseList(Ct.pointer(S[F])),markFilteringSet:re?this.parseUShort():void 0}})))||[]},Ct.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),F=this.parseUShort();return O.argument(1===S&&F<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ct.offset32,featureTableSubstitutionOffset:Ct.offset32})})||[]},{getByte:cr,getCard8:cr,getUShort:It,getCard16:It,getShort:function(S,F){return S.getInt16(F,!1)},getULong:br,getFixed:Qt,getTag:function(S,F){for(var q="",re=F;re<F+4;re+=1)q+=String.fromCharCode(S.getInt8(re));return q},getOffset:function(S,F,q){for(var re=0,fe=0;fe<q;fe+=1)re=(re<<=8)+S.getUint8(F+fe);return re},getBytes:function(S,F,q){for(var re=[],fe=F;fe<q;fe+=1)re.push(S.getUint8(fe));return re},bytesToString:function(S){for(var F="",q=0;q<S.length;q+=1)F+=String.fromCharCode(S[q]);return F},Parser:Ct}),$e_parse=function(S,F){for(var q={},re=(q.version=Gt.getUShort(S,F),O.argument(0===q.version,"cmap table version should be 0."),q.numTables=Gt.getUShort(S,F+2),-1),fe=q.numTables-1;0<=fe;--fe){var Te=Gt.getUShort(S,F+4+8*fe),Re=Gt.getUShort(S,F+4+8*fe+2);if(3===Te&&(0===Re||1===Re||10===Re)||0===Te&&(0===Re||1===Re||2===Re||3===Re||4===Re)){re=Gt.getULong(S,F+4+8*fe+4);break}}if(-1===re)throw new Error("No valid cmap sub-tables found.");var Qe=new Gt.Parser(S,F+re);if(q.format=Qe.parseUShort(),12===q.format){var bt,gt=q,Wt=Qe;Wt.parseUShort(),gt.length=Wt.parseULong(),gt.language=Wt.parseULong(),gt.groupCount=bt=Wt.parseULong(),gt.glyphIndexMap={};for(var ve=0;ve<bt;ve+=1)for(var ae=Wt.parseULong(),be=Wt.parseULong(),ge=Wt.parseULong(),Be=ae;Be<=be;Be+=1)gt.glyphIndexMap[Be]=ge,ge++}else{if(4!==q.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+q.format+").");var Ft=q,Ht=S,nr=F,Br=re;Ft.length=Qe.parseUShort(),Ft.language=Qe.parseUShort(),Ft.segCount=Lr=Qe.parseUShort()>>1,Qe.skip("uShort",3),Ft.glyphIndexMap={};for(var Lr,zr=new Gt.Parser(Ht,nr+Br+14),Wr=new Gt.Parser(Ht,nr+Br+16+2*Lr),Qr=new Gt.Parser(Ht,nr+Br+16+4*Lr),vn=new Gt.Parser(Ht,nr+Br+16+6*Lr),qn=nr+Br+16+8*Lr,to=0;to<Lr-1;to+=1)for(var so=void 0,Kn=zr.parseUShort(),fo=Wr.parseUShort(),Tn=Qr.parseShort(),Mn=vn.parseUShort(),$r=fo;$r<=Kn;$r+=1)0!==Mn?(qn=(qn=vn.offset+vn.relativeOffset-2)+Mn+2*($r-fo),0!==(so=Gt.getUShort(Ht,qn))&&(so=so+Tn&65535)):so=$r+Tn&65535,Ft.glyphIndexMap[$r]=so}return q},$e_make=function(S){for(var F=!0,q=S.length-1;0<q;--q)if(65535<S.get(q).unicode){console.log("Adding CMAP format 12 (needed!)"),F=!1;break}var re,fe,Te=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:F?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:F?12:20}],Re=(Te=(Te=F?Te:Te.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Vt.Table("cmap",Te));for(Re.segments=[],q=0;q<S.length;q+=1){for(var Qe=S.get(q),bt=0;bt<Qe.unicodes.length;bt+=1)Re.segments.push({end:re=Qe.unicodes[bt],start:re,delta:-(re-(fe=q)),offset:0,glyphIndex:fe});Re.segments=Re.segments.sort(function(nr,Br){return nr.start-Br.start})}Re.segments.push({end:65535,start:65535,delta:1,offset:0});var gt=Re.segments.length,Wt=0,ve=[],ae=[],be=[],ge=[],Be=[],Ft=[];for(q=0;q<gt;q+=1){var Ht=Re.segments[q];Ht.end<=65535&&Ht.start<=65535?(ve=ve.concat({name:"end_"+q,type:"USHORT",value:Ht.end}),ae=ae.concat({name:"start_"+q,type:"USHORT",value:Ht.start}),be=be.concat({name:"idDelta_"+q,type:"SHORT",value:Ht.delta}),ge=ge.concat({name:"idRangeOffset_"+q,type:"USHORT",value:Ht.offset}),void 0!==Ht.glyphId&&(Be=Be.concat({name:"glyph_"+q,type:"USHORT",value:Ht.glyphId}))):Wt+=1,F||void 0===Ht.glyphIndex||(Ft=(Ft=(Ft=Ft.concat({name:"cmap12Start_"+q,type:"ULONG",value:Ht.start})).concat({name:"cmap12End_"+q,type:"ULONG",value:Ht.end})).concat({name:"cmap12Glyph_"+q,type:"ULONG",value:Ht.glyphIndex}))}return Re.segCountX2=2*(gt-Wt),Re.searchRange=2*Math.pow(2,Math.floor(Math.log(gt-Wt)/Math.log(2))),Re.entrySelector=Math.log(Re.searchRange/2)/Math.log(2),Re.rangeShift=Re.segCountX2-Re.searchRange,Re.fields=Re.fields.concat(ve),Re.fields.push({name:"reservedPad",type:"USHORT",value:0}),Re.fields=Re.fields.concat(ae),Re.fields=Re.fields.concat(be),Re.fields=Re.fields.concat(ge),Re.fields=Re.fields.concat(Be),Re.cmap4Length=14+2*ve.length+2+2*ae.length+2*be.length+2*ge.length+2*Be.length,F||(Te=16+4*Ft.length,Re.cmap12Offset=20+Re.cmap4Length,Re.fields=Re.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Te},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ft.length/3}]),Re.fields=Re.fields.concat(Ft)),Re},We=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Je=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ot=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function zt(S){this.font=S}function $t(S){this.cmap=S}function _t(S,F){this.encoding=S,this.charset=F}function Mt(S){switch(S.version){case 1:this.names=Ot.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var F=0;F<S.numberOfGlyphs;F++)this.names[F]=S.glyphNameIndex[F]<Ot.length?Ot[S.glyphNameIndex[F]]:S.names[S.glyphNameIndex[F]-Ot.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var q=0;q<S.numberOfGlyphs;q++)this.names[q]=Ot[q+S.glyphNameIndex[q]];break;default:this.names=[]}}zt.prototype.charToGlyphIndex=function(S){var F=S.codePointAt(0),q=this.font.glyphs;if(q)for(var re=0;re<q.length;re+=1)for(var fe=q.get(re),Te=0;Te<fe.unicodes.length;Te+=1)if(fe.unicodes[Te]===F)return re;return null},$t.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},_t.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),this.charset.indexOf(S=this.encoding[S])},Mt.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},Mt.prototype.glyphIndexToName=function(S){return this.names[S]};var Xt_line=function(S,F,q,re,fe){S.beginPath(),S.moveTo(F,q),S.lineTo(re,fe),S.stroke()};function tr(S){this.bindConstructorValues(S)}function Rt(S,F,q){Object.defineProperty(S,F,{get:function(){return S[q]},set:function(re){S[q]=re},enumerable:!0,configurable:!0})}function vt(S,F){if(this.font=S,this.glyphs={},Array.isArray(F))for(var q=0;q<F.length;q++)this.glyphs[q]=F[q];this.length=F&&F.length||0}tr.prototype.bindConstructorValues=function(S){var F;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||void 0!==S.unicode?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(F=(S=S.path)||new le,{configurable:!0,get:function(){return F="function"==typeof F?F():F},set:function(q){F=q}}))},tr.prototype.addUnicode=function(S){0===this.unicodes.length&&(this.unicode=S),this.unicodes.push(S)},tr.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},tr.prototype.getPath=function(S,F,q,re,fe){S=void 0!==S?S:0,F=void 0!==F?F:0,q=void 0!==q?q:72;for(var Te,Re,Qe=(re=re||{}).xScale,bt=re.yScale,gt=((Te=re.hinting&&fe&&fe.hinting?this.path&&fe.hinting.exec(this,q):Te)?(Re=fe.hinting.getCommands(Te),S=Math.round(S),F=Math.round(F),Qe=bt=1):(Re=this.path.commands,re=1/this.path.unitsPerEm*q,void 0===Qe&&(Qe=re),void 0===bt&&(bt=re)),new le),Wt=0;Wt<Re.length;Wt+=1){var ve=Re[Wt];"M"===ve.type?gt.moveTo(S+ve.x*Qe,F+-ve.y*bt):"L"===ve.type?gt.lineTo(S+ve.x*Qe,F+-ve.y*bt):"Q"===ve.type?gt.quadraticCurveTo(S+ve.x1*Qe,F+-ve.y1*bt,S+ve.x*Qe,F+-ve.y*bt):"C"===ve.type?gt.curveTo(S+ve.x1*Qe,F+-ve.y1*bt,S+ve.x2*Qe,F+-ve.y2*bt,S+ve.x*Qe,F+-ve.y*bt):"Z"===ve.type&&gt.closePath()}return gt},tr.prototype.getContours=function(){if(void 0===this.points)return[];for(var S=[],F=[],q=0;q<this.points.length;q+=1){var re=this.points[q];F.push(re),re.lastPointOfContour&&(S.push(F),F=[])}return O.argument(0===F.length,"There are still points left in the current contour."),S},tr.prototype.getMetrics=function(){for(var S=this.path.commands,F=[],q=[],re=0;re<S.length;re+=1){var fe=S[re];"Z"!==fe.type&&(F.push(fe.x),q.push(fe.y)),"Q"!==fe.type&&"C"!==fe.type||(F.push(fe.x1),q.push(fe.y1)),"C"===fe.type&&(F.push(fe.x2),q.push(fe.y2))}var Te={xMin:Math.min.apply(null,F),yMin:Math.min.apply(null,q),xMax:Math.max.apply(null,F),yMax:Math.max.apply(null,q),leftSideBearing:this.leftSideBearing};return isFinite(Te.xMin)||(Te.xMin=0),isFinite(Te.xMax)||(Te.xMax=this.advanceWidth),isFinite(Te.yMin)||(Te.yMin=0),isFinite(Te.yMax)||(Te.yMax=0),Te.rightSideBearing=this.advanceWidth-Te.leftSideBearing-(Te.xMax-Te.xMin),Te},tr.prototype.draw=function(S,F,q,re,fe){this.getPath(F,q,re,fe).draw(S)},tr.prototype.drawPoints=function(S,F,q,re){function fe(Wt,ve,ae,be){var ge=2*Math.PI;S.beginPath();for(var Be=0;Be<Wt.length;Be+=1)S.moveTo(ve+Wt[Be].x*be,ae+Wt[Be].y*be),S.arc(ve+Wt[Be].x*be,ae+Wt[Be].y*be,2,0,ge,!1);S.closePath(),S.fill()}F=void 0!==F?F:0,q=void 0!==q?q:0,re=1/this.path.unitsPerEm*(re=void 0!==re?re:24);for(var Te=[],Re=[],Qe=this.path,bt=0;bt<Qe.commands.length;bt+=1){var gt=Qe.commands[bt];void 0!==gt.x&&Te.push({x:gt.x,y:-gt.y}),void 0!==gt.x1&&Re.push({x:gt.x1,y:-gt.y1}),void 0!==gt.x2&&Re.push({x:gt.x2,y:-gt.y2})}S.fillStyle="blue",fe(Te,F,q,re),S.fillStyle="red",fe(Re,F,q,re)},tr.prototype.drawMetrics=function(S,F,q,re){F=void 0!==F?F:0,q=void 0!==q?q:0,re=1/this.path.unitsPerEm*(re=void 0!==re?re:24),S.lineWidth=1,S.strokeStyle="black",Xt_line(S,F,-1e4,F,1e4),Xt_line(S,-1e4,q,1e4,q);var fe=this.xMin||0,Te=this.yMin||0,Re=this.xMax||0,Qe=this.yMax||0,bt=this.advanceWidth||0;S.strokeStyle="blue",Xt_line(S,F+fe*re,-1e4,F+fe*re,1e4),Xt_line(S,F+Re*re,-1e4,F+Re*re,1e4),Xt_line(S,-1e4,q+-Te*re,1e4,q+-Te*re),Xt_line(S,-1e4,q+-Qe*re,1e4,q+-Qe*re),S.strokeStyle="green",Xt_line(S,F+bt*re,-1e4,F+bt*re,1e4)},vt.prototype.get=function(S){return"function"==typeof this.glyphs[S]&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},vt.prototype.push=function(S,F){this.glyphs[S]=F,this.length++};var Ut={GlyphSet:vt,glyphLoader:function(S,F){return new tr({index:F,font:S})},ttfGlyphLoader:function(S,F,q,re,fe,Te){return function(){var Re=new tr({index:F,font:S});return Re.path=function(){q(Re,re,fe);var Qe=Te(S.glyphs,Re);return Qe.unitsPerEm=S.unitsPerEm,Qe},Rt(Re,"xMin","_xMin"),Rt(Re,"xMax","_xMax"),Rt(Re,"yMin","_yMin"),Rt(Re,"yMax","_yMax"),Re}},cffGlyphLoader:function(S,F,q,re){return function(){var fe=new tr({index:F,font:S});return fe.path=function(){var Te=q(S,fe,re);return Te.unitsPerEm=S.unitsPerEm,Te},fe}}};function yt(S){return S.length<1240?107:S.length<33900?1131:32768}function Nt(S,F,q){var re,fe=[],Te=[],Re=Gt.getCard16(S,F);if(0!==Re){for(var Qe=Gt.getByte(S,F+2),bt=F+(Re+1)*Qe+2,gt=F+3,Wt=0;Wt<Re+1;Wt+=1)fe.push(Gt.getOffset(S,gt,Qe)),gt+=Qe;re=bt+fe[Re]}else re=F+2;for(var ve=0;ve<fe.length-1;ve+=1){var ae=Gt.getBytes(S,bt+fe[ve],bt+fe[ve+1]);q&&(ae=q(ae)),Te.push(ae)}return{objects:Te,startOffset:F,endOffset:re}}function dr(S,F){if(28===F)return S.parseByte()<<8|S.parseByte();if(29===F)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(30===F){for(var q=S,re="",fe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Te=(Re=q.parseByte())>>4,Re=15&Re;if(15==Te||(re+=fe[Te],15==Re))break;re+=fe[Re]}return parseFloat(re)}if(32<=F&&F<=246)return F-139;if(247<=F&&F<=250)return 256*(F-247)+S.parseByte()+108;if(251<=F&&F<=254)return 256*-(F-251)-S.parseByte()-108;throw new Error("Invalid b0 "+F)}function ft(S,F,q){var re=new Gt.Parser(S,F=void 0!==F?F:0),fe=[],Te=[];for(q=void 0!==q?q:S.length;re.relativeOffset<q;){var Re=re.parseByte();Re<=21?(12===Re&&(Re=1200+re.parseByte()),fe.push([Re,Te]),Te=[]):Te.push(dr(re,Re))}for(var Qe=fe,bt={},gt=0;gt<Qe.length;gt+=1){var ae,Wt=Qe[gt][0],ve=Qe[gt][1];if(ae=1===ve.length?ve[0]:ve,bt.hasOwnProperty(Wt)&&!isNaN(bt[Wt]))throw new Error("Object "+bt+" already has key "+Wt);bt[Wt]=ae}return bt}function Dt(S,F){return F<=390?We[F]:S[F-391]}function er(S,F,q){for(var re,fe={},Te=0;Te<F.length;Te+=1){var Re=F[Te];if(Array.isArray(Re.type)){var Qe=[];Qe.length=Re.type.length;for(var bt=0;bt<Re.type.length;bt++)void 0===(re=void 0!==S[Re.op]?S[Re.op][bt]:void 0)&&(re=void 0!==Re.value&&void 0!==Re.value[bt]?Re.value[bt]:null),"SID"===Re.type[bt]&&(re=Dt(q,re)),Qe[bt]=re;fe[Re.name]=Qe}else void 0===(re=S[Re.op])&&(re=void 0!==Re.value?Re.value:null),"SID"===Re.type&&(re=Dt(q,re)),fe[Re.name]=re}return fe}var Yt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],lr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function yr(S,F,q,re){return er(ft(S,F,q),lr,re)}function wr(S,F,q,re){for(var fe=[],Te=0;Te<q.length;Te+=1){var Re,Qe=((Qe=re,Re=er(ft(Re=new DataView(new Uint8Array(q[Te]).buffer),0,Re.byteLength),Yt,Qe))._subrs=[],Re._subrsBias=0,Re.private[0]),bt=Re.private[1];0!==Qe&&0!==bt&&(Qe=yr(S,bt+F,Qe,re),Re._defaultWidthX=Qe.defaultWidthX,Re._nominalWidthX=Qe.nominalWidthX,0!==Qe.subrs&&(bt=Nt(S,bt+Qe.subrs+F),Re._subrs=bt.objects,Re._subrsBias=yt(Re._subrs)),Re._privateDict=Qe),fe.push(Re)}return fe}function xr(S,F,q){var re,fe,Te,Re,Qe,bt,gt,Wt,ve,ae=new le,be=[],ge=0,Be=!1,Ft=!1,Ht=0,nr=0,Br=(ve=(S.isCIDFont?(Qe=S.tables.cff.topDict._fdSelect[F.index],Qe=S.tables.cff.topDict._fdArray[Qe],bt=Qe._subrs,gt=Qe._subrsBias,Wt=Qe._defaultWidthX,Qe):(bt=S.tables.cff.topDict._subrs,gt=S.tables.cff.topDict._subrsBias,Wt=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Wt);function Lr(Wr,Qr){Ft&&ae.closePath(),ae.moveTo(Wr,Qr),Ft=!0}function zr(){be.length%2==0||Be||(Br=be.shift()+ve),ge+=be.length>>1,be.length=0,Be=!0}return function Wr(Qr){for(var vn,qn,to,so,Kn,fo,Tn,Mn,$r,$n,Vn,lo,Rn=0;Rn<Qr.length;){var uo=Qr[Rn];switch(Rn+=1,uo){case 1:case 3:case 18:case 23:zr();break;case 4:1<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),nr+=be.pop(),Lr(Ht,nr);break;case 5:for(;0<be.length;)Ht+=be.shift(),nr+=be.shift(),ae.lineTo(Ht,nr);break;case 6:for(;0<be.length&&(Ht+=be.shift(),ae.lineTo(Ht,nr),0!==be.length);)nr+=be.shift(),ae.lineTo(Ht,nr);break;case 7:for(;0<be.length&&(nr+=be.shift(),ae.lineTo(Ht,nr),0!==be.length);)Ht+=be.shift(),ae.lineTo(Ht,nr);break;case 8:for(;0<be.length;)re=Ht+be.shift(),fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Ht=Te+be.shift(),nr=Re+be.shift(),ae.curveTo(re,fe,Te,Re,Ht,nr);break;case 10:Kn=be.pop()+gt,(fo=bt[Kn])&&Wr(fo);break;case 11:return;case 12:switch(uo=Qr[Rn],Rn+=1,uo){case 35:re=Ht+be.shift(),fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Tn=Te+be.shift(),Mn=Re+be.shift(),$r=Tn+be.shift(),$n=Mn+be.shift(),Vn=$r+be.shift(),lo=$n+be.shift(),Ht=Vn+be.shift(),nr=lo+be.shift(),be.shift(),ae.curveTo(re,fe,Te,Re,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Ht,nr);break;case 34:re=Ht+be.shift(),fe=nr,Te=re+be.shift(),Re=fe+be.shift(),Tn=Te+be.shift(),Mn=Re,$r=Tn+be.shift(),$n=Re,Vn=$r+be.shift(),lo=nr,Ht=Vn+be.shift(),ae.curveTo(re,fe,Te,Re,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Ht,nr);break;case 36:re=Ht+be.shift(),fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Tn=Te+be.shift(),Mn=Re,$r=Tn+be.shift(),$n=Re,Vn=$r+be.shift(),lo=$n+be.shift(),Ht=Vn+be.shift(),ae.curveTo(re,fe,Te,Re,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Ht,nr);break;case 37:re=Ht+be.shift(),fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Tn=Te+be.shift(),Mn=Re+be.shift(),$r=Tn+be.shift(),$n=Mn+be.shift(),Vn=$r+be.shift(),lo=$n+be.shift(),Math.abs(Vn-Ht)>Math.abs(lo-nr)?Ht=Vn+be.shift():nr=lo+be.shift(),ae.curveTo(re,fe,Te,Re,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Ht,nr);break;default:console.log("Glyph "+F.index+": unknown operator 1200"+uo),be.length=0}break;case 14:0<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),Ft&&(ae.closePath(),Ft=!1);break;case 19:case 20:zr(),Rn+=ge+7>>3;break;case 21:2<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),nr+=be.pop(),Lr(Ht+=be.pop(),nr);break;case 22:1<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),Lr(Ht+=be.pop(),nr);break;case 24:for(;2<be.length;)re=Ht+be.shift(),fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Ht=Te+be.shift(),nr=Re+be.shift(),ae.curveTo(re,fe,Te,Re,Ht,nr);Ht+=be.shift(),nr+=be.shift(),ae.lineTo(Ht,nr);break;case 25:for(;6<be.length;)Ht+=be.shift(),nr+=be.shift(),ae.lineTo(Ht,nr);re=Ht+be.shift(),fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Ht=Te+be.shift(),nr=Re+be.shift(),ae.curveTo(re,fe,Te,Re,Ht,nr);break;case 26:for(be.length%2&&(Ht+=be.shift());0<be.length;)re=Ht,fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Ht=Te,nr=Re+be.shift(),ae.curveTo(re,fe,Te,Re,Ht,nr);break;case 27:for(be.length%2&&(nr+=be.shift());0<be.length;)re=Ht+be.shift(),fe=nr,Te=re+be.shift(),Re=fe+be.shift(),Ht=Te+be.shift(),ae.curveTo(re,fe,Te,Re,Ht,nr=Re);break;case 28:be.push(((vn=Qr[Rn])<<24|(qn=Qr[Rn+1])<<16)>>16),Rn+=2;break;case 29:Kn=be.pop()+S.gsubrsBias,(fo=S.gsubrs[Kn])&&Wr(fo);break;case 30:for(;0<be.length&&(re=Ht,fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Ht=Te+be.shift(),nr=Re+(1===be.length?be.shift():0),ae.curveTo(re,fe,Te,Re,Ht,nr),0!==be.length);)re=Ht+be.shift(),fe=nr,Te=re+be.shift(),Re=fe+be.shift(),nr=Re+be.shift(),Ht=Te+(1===be.length?be.shift():0),ae.curveTo(re,fe,Te,Re,Ht,nr);break;case 31:for(;0<be.length&&(re=Ht+be.shift(),fe=nr,Te=re+be.shift(),Re=fe+be.shift(),nr=Re+be.shift(),Ht=Te+(1===be.length?be.shift():0),ae.curveTo(re,fe,Te,Re,Ht,nr),0!==be.length);)re=Ht,fe=nr+be.shift(),Te=re+be.shift(),Re=fe+be.shift(),Ht=Te+be.shift(),nr=Re+(1===be.length?be.shift():0),ae.curveTo(re,fe,Te,Re,Ht,nr);break;default:uo<32?console.log("Glyph "+F.index+": unknown operator "+uo):uo<247?be.push(uo-139):uo<251?(vn=Qr[Rn],Rn+=1,be.push(256*(uo-247)+vn+108)):uo<255?(vn=Qr[Rn],Rn+=1,be.push(256*-(uo-251)-vn-108)):(vn=Qr[Rn],qn=Qr[Rn+1],to=Qr[Rn+2],so=Qr[Rn+3],Rn+=4,be.push((vn<<24|qn<<16|to<<8|so)/65536))}}}(q),F.advanceWidth=Br,ae}function Mr(S,F){var q,re=We.indexOf(S);return 0<=re&&(q=re),0<=(re=F.indexOf(S))?q=re+We.length:(q=We.length+F.length,F.push(S)),q}function X(S,F,q){for(var re={},fe=0;fe<S.length;fe+=1){var Te=S[fe],Re=F[Te.name];void 0===Re||function Qe(bt,gt){if(bt===gt)return 1;if(Array.isArray(bt)&&Array.isArray(gt)&&bt.length===gt.length){for(var Wt=0;Wt<bt.length;Wt+=1)if(!Qe(bt[Wt],gt[Wt]))return;return 1}}(Re,Te.value)||("SID"===Te.type&&(Re=Mr(Re,q)),re[Te.op]={name:Te.name,type:Te.type,value:Re})}return re}function pe(S,F){var q=new Vt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return q.dict=X(Yt,S,F),q}function Ie(S){var F=new Vt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return F.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],F}var I_parse=function(S,F,q){q.tables.cff={},(fe={}).formatMajor=Gt.getCard8(Qe=S,re=F),fe.formatMinor=Gt.getCard8(Qe,re+1),fe.size=Gt.getCard8(Qe,re+2),fe.offsetSize=Gt.getCard8(Qe,re+3),fe.startOffset=re,fe.endOffset=re+4;var Qe=Nt(S,fe.endOffset,Gt.bytesToString),re=Nt(S,Qe.endOffset),fe=Nt(S,re.endOffset,Gt.bytesToString);if(Qe=Nt(S,fe.endOffset),q.gsubrs=Qe.objects,q.gsubrsBias=yt(q.gsubrs),1!==(Qe=wr(S,F,re.objects,fe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Qe.length);if((q.tables.cff.topDict=re=Qe[0])._privateDict&&(q.defaultWidthX=re._privateDict.defaultWidthX,q.nominalWidthX=re._privateDict.nominalWidthX),void 0!==re.ros[0]&&void 0!==re.ros[1]&&(q.isCIDFont=!0),q.isCIDFont){var Te=re.fdSelect;if(0===(Qe=re.fdArray)||0===Te)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Qe=wr(S,F,Nt(S,Qe+=F).objects,fe.objects),re._fdArray=Qe,re._fdSelect=function(ae,be,ge,Be){var Ft,Ht=[],nr=new Gt.Parser(ae,be);if(0===(ae=nr.parseCard8()))for(var Br=0;Br<ge;Br++){if(Be<=(Ft=nr.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ft+" (FD count "+Be+")");Ht.push(Ft)}else{if(3!==ae)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ae);var Lr,zr=nr.parseCard16(),Wr=nr.parseCard16();if(0!==Wr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Wr);for(var Qr=0;Qr<zr;Qr++){if(Ft=nr.parseCard8(),Lr=nr.parseCard16(),Be<=Ft)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ft+" (FD count "+Be+")");if(ge<Lr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Lr);for(;Wr<Lr;Wr++)Ht.push(Ft);Wr=Lr}if(Lr!==ge)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Lr)}return Ht}(S,Te+=F,q.numGlyphs,Qe.length)}Qe=yr(S,Te=F+re.private[1],re.private[0],fe.objects);var Re=(q.defaultWidthX=Qe.defaultWidthX,q.nominalWidthX=Qe.nominalWidthX,0!==Qe.subrs?(Te=Nt(S,Te+Qe.subrs),q.subrs=Te.objects,q.subrsBias=yt(q.subrs)):(q.subrs=[],q.subrsBias=0),Nt(S,F+re.charStrings));q.nGlyphs=Re.objects.length,Qe=function(Wt,ve,ae,be){var ge=new Gt.Parser(Wt,ve),Be=(--ae,[".notdef"]);if(0===(Wt=ge.parseCard8()))for(var Ft=0;Ft<ae;Ft+=1)Ht=ge.parseSID(),Be.push(Dt(be,Ht));else if(1===Wt)for(;Be.length<=ae;)for(var Ht=ge.parseSID(),nr=ge.parseCard8(),Br=0;Br<=nr;Br+=1)Be.push(Dt(be,Ht)),Ht+=1;else{if(2!==Wt)throw new Error("Unknown charset format "+Wt);for(;Be.length<=ae;){Ht=ge.parseSID(),nr=ge.parseCard16();for(var Lr=0;Lr<=nr;Lr+=1)Be.push(Dt(be,Ht)),Ht+=1}}return Be}(S,F+re.charset,q.nGlyphs,fe.objects),q.cffEncoding=0===re.encoding?new _t(Pe,Qe):1===re.encoding?new _t(Je,Qe):function(Wt,ve,ae){var be={},ge=new Gt.Parser(Wt,ve);if(0===(Wt=ge.parseCard8()))for(var Be=ge.parseCard8(),Ft=0;Ft<Be;Ft+=1)be[nr=ge.parseCard8()]=Ft;else{if(1!==Wt)throw new Error("Unknown encoding format "+Wt);for(var Ht=ge.parseCard8(),nr=1,Br=0;Br<Ht;Br+=1)for(var Lr=ge.parseCard8(),zr=ge.parseCard8(),Wr=Lr;Wr<=Lr+zr;Wr+=1)be[Wr]=nr,nr+=1}return new _t(be,ae)}(S,F+re.encoding,Qe),q.encoding=q.encoding||q.cffEncoding,q.glyphs=new Ut.GlyphSet(q);for(var bt=0;bt<q.nGlyphs;bt+=1)q.glyphs.push(bt,Ut.cffGlyphLoader(q,bt,xr,Re.objects[bt]))},I_make=function(S,Wt){for(var q,re=new Vt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fe={version:Wt.version,fullName:Wt.fullName,familyName:Wt.familyName,weight:Wt.weightName,fontBBox:Wt.fontBBox||[0,0,0,0],fontMatrix:[fe=1/Wt.unitsPerEm,0,0,fe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Te=[],Re=1;Re<S.length;Re+=1)q=S.get(Re),Te.push(q.name);var Qe,bt,gt=[],ve=(re.header=new Vt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),re.nameIndex=function(ae){var be=new Vt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var ge=0;ge<ae.length;ge+=1)be.names.push({name:"name_"+ge,type:"NAME",value:ae[ge]});return be}([Wt.postScriptName]),Wt=pe(fe,gt),re.topDictIndex=Ie(Wt),re.globalSubrIndex=new Vt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),re.charsets=function(ae,be){for(var ge=new Vt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Be=0;Be<ae.length;Be+=1){var Ft=Mr(ae[Be],be);ge.fields.push({name:"glyph_"+Be,type:"SID",value:Ft})}return ge}(Te,gt),re.charStringsIndex=function E(S){for(var F=new Vt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),q=0;q<S.length;q+=1){var re=S.get(q),fe=function(Te){for(var Re=[],Qe=Te.path,bt=(Re.push({name:"width",type:"NUMBER",value:Te.advanceWidth}),0),gt=0,Wt=0;Wt<Qe.commands.length;Wt+=1){var ve,ae,be,ge,Be=void 0,Ft=void 0,Ht=Qe.commands[Wt];"M"===(Ht="Q"===Ht.type?{type:"C",x:Ht.x,y:Ht.y,x1:1/3*bt+2/3*Ht.x1,y1:1/3*gt+2/3*Ht.y1,x2:1/3*Ht.x+2/3*Ht.x1,y2:1/3*Ht.y+2/3*Ht.y1}:Ht).type?(Be=Math.round(Ht.x-bt),Ft=Math.round(Ht.y-gt),Re.push({name:"dx",type:"NUMBER",value:Be}),Re.push({name:"dy",type:"NUMBER",value:Ft}),Re.push({name:"rmoveto",type:"OP",value:21}),bt=Math.round(Ht.x),gt=Math.round(Ht.y)):"L"===Ht.type?(Be=Math.round(Ht.x-bt),Ft=Math.round(Ht.y-gt),Re.push({name:"dx",type:"NUMBER",value:Be}),Re.push({name:"dy",type:"NUMBER",value:Ft}),Re.push({name:"rlineto",type:"OP",value:5}),bt=Math.round(Ht.x),gt=Math.round(Ht.y)):"C"===Ht.type&&(ve=Math.round(Ht.x1-bt),ae=Math.round(Ht.y1-gt),be=Math.round(Ht.x2-Ht.x1),ge=Math.round(Ht.y2-Ht.y1),Be=Math.round(Ht.x-Ht.x2),Ft=Math.round(Ht.y-Ht.y2),Re.push({name:"dx1",type:"NUMBER",value:ve}),Re.push({name:"dy1",type:"NUMBER",value:ae}),Re.push({name:"dx2",type:"NUMBER",value:be}),Re.push({name:"dy2",type:"NUMBER",value:ge}),Re.push({name:"dx",type:"NUMBER",value:Be}),Re.push({name:"dy",type:"NUMBER",value:Ft}),Re.push({name:"rrcurveto",type:"OP",value:8}),bt=Math.round(Ht.x),gt=Math.round(Ht.y))}return Re.push({name:"endchar",type:"OP",value:14}),Re}(re);F.charStrings.push({name:re.name,type:"CHARSTRING",value:fe})}return F}(S),re.privateDict=(ve={},Qe=gt,(bt=new Vt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=X(lr,ve,Qe),bt),re.stringIndex=function(ae){var be=new Vt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var ge=0;ge<ae.length;ge+=1)be.strings.push({name:"string_"+ge,type:"STRING",value:ae[ge]});return be}(gt),re.header.sizeOf()+re.nameIndex.sizeOf()+re.topDictIndex.sizeOf()+re.stringIndex.sizeOf()+re.globalSubrIndex.sizeOf());return fe.charset=ve,fe.encoding=0,fe.charStrings=fe.charset+re.charsets.sizeOf(),fe.private[1]=fe.charStrings+re.charStringsIndex.sizeOf(),Wt=pe(fe,gt),re.topDictIndex=Ie(Wt),re},U_parse=function(re,F){var q={};return re=new Gt.Parser(re,F),q.version=re.parseVersion(),q.fontRevision=Math.round(1e3*re.parseFixed())/1e3,q.checkSumAdjustment=re.parseULong(),q.magicNumber=re.parseULong(),O.argument(1594834165===q.magicNumber,"Font header has wrong magic number."),q.flags=re.parseUShort(),q.unitsPerEm=re.parseUShort(),q.created=re.parseLongDateTime(),q.modified=re.parseLongDateTime(),q.xMin=re.parseShort(),q.yMin=re.parseShort(),q.xMax=re.parseShort(),q.yMax=re.parseShort(),q.macStyle=re.parseUShort(),q.lowestRecPPEM=re.parseUShort(),q.fontDirectionHint=re.parseShort(),q.indexToLocFormat=re.parseShort(),q.glyphDataFormat=re.parseShort(),q},U_make=function(S){var F=Math.round((new Date).getTime()/1e3)+2082844800,q=F;return S.createdTimestamp&&(q=S.createdTimestamp+2082844800),new Vt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:q},{name:"modified",type:"LONGDATETIME",value:F},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)},D_parse=function(re,F){var q={};return re=new Gt.Parser(re,F),q.version=re.parseVersion(),q.ascender=re.parseShort(),q.descender=re.parseShort(),q.lineGap=re.parseShort(),q.advanceWidthMax=re.parseUShort(),q.minLeftSideBearing=re.parseShort(),q.minRightSideBearing=re.parseShort(),q.xMaxExtent=re.parseShort(),q.caretSlopeRise=re.parseShort(),q.caretSlopeRun=re.parseShort(),q.caretOffset=re.parseShort(),re.relativeOffset+=8,q.metricDataFormat=re.parseShort(),q.numberOfHMetrics=re.parseUShort(),q},D_make=function(S){return new Vt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)},J_parse=function(S,F,q,re,fe){for(var Te,Re,Qe=new Gt.Parser(S,F),bt=0;bt<re;bt+=1){bt<q&&(Te=Qe.parseUShort(),Re=Qe.parseShort());var gt=fe.get(bt);gt.advanceWidth=Te,gt.leftSideBearing=Re}},J_make=function(S){for(var F=new Vt.Table("hmtx",[]),q=0;q<S.length;q+=1){var re=(fe=S.get(q)).advanceWidth||0,fe=fe.leftSideBearing||0;F.fields.push({name:"advanceWidth_"+q,type:"USHORT",value:re}),F.fields.push({name:"leftSideBearing_"+q,type:"SHORT",value:fe})}return F},V_make=function(S){for(var F=new Vt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),q="",re=12+4*S.length,fe=0;fe<S.length;++fe){var Te=q.indexOf(S[fe]);Te<0&&(Te=q.length,q+=S[fe]),F.fields.push({name:"offset "+fe,type:"USHORT",value:re+Te}),F.fields.push({name:"length "+fe,type:"USHORT",value:S[fe].length})}return F.fields.push({name:"stringPool",type:"CHARARRAY",value:q}),F},V_parse=function(S,F){for(var q=new Gt.Parser(S,F),re=q.parseULong(),fe=(O.argument(1===re,"Unsupported ltag table version."),q.skip("uLong",1),q.parseULong()),Te=[],Re=0;Re<fe;Re++){for(var Qe="",bt=F+q.parseUShort(),gt=q.parseUShort(),Wt=bt;Wt<bt+gt;++Wt)Qe+=String.fromCharCode(S.getInt8(Wt));Te.push(Qe)}return Te},ne_parse=function(re,F){var q={};return re=new Gt.Parser(re,F),q.version=re.parseVersion(),q.numGlyphs=re.parseUShort(),1===q.version&&(q.maxPoints=re.parseUShort(),q.maxContours=re.parseUShort(),q.maxCompositePoints=re.parseUShort(),q.maxCompositeContours=re.parseUShort(),q.maxZones=re.parseUShort(),q.maxTwilightPoints=re.parseUShort(),q.maxStorage=re.parseUShort(),q.maxFunctionDefs=re.parseUShort(),q.maxInstructionDefs=re.parseUShort(),q.maxStackElements=re.parseUShort(),q.maxSizeOfInstructions=re.parseUShort(),q.maxComponentElements=re.parseUShort(),q.maxComponentDepth=re.parseUShort()),q},ne_make=function(S){return new Vt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])},Ne=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],De={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},qe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},St={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},sr="utf-16",je={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ve={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ht(S,F,q){switch(S){case 0:return sr;case 1:return Ve[q]||je[F];case 3:if(1===F||10===F)return sr}}function Ge(S){var F,q={};for(F in S)q[S[F]]=parseInt(F);return q}function dt(S,F,q,re,fe,Te){return new Vt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:F},{name:"languageID",type:"USHORT",value:q},{name:"nameID",type:"USHORT",value:re},{name:"length",type:"USHORT",value:fe},{name:"offset",type:"USHORT",value:Te}])}function Bt(S,F){if((q=function(Te,Re){var Qe=Te.length,bt=Re.length-Qe+1;e:for(var gt=0;gt<bt;gt++)for(;gt<bt;gt++){for(var Wt=0;Wt<Qe;Wt++)if(Re[gt+Wt]!==Te[Wt])continue e;return gt}return-1}(S,F))<0)for(var q=F.length,re=0,fe=S.length;re<fe;++re)F.push(S[re]);return q}var ur_parse=function(S,F,q){for(var re={},fe=new Gt.Parser(S,F),Te=(F=fe.parseUShort(),fe.parseUShort()),Re=fe.offset+fe.parseUShort(),Qe=0;Qe<Te;Qe++){var ge=fe.parseUShort(),bt=fe.parseUShort(),gt=fe.parseUShort(),Wt=fe.parseUShort(),ve=(Wt=Ne[Wt]||Wt,fe.parseUShort()),ae=fe.parseUShort(),be=function(Ft,Ht,nr){switch(Ft){case 0:if(65535===Ht)return"und";if(nr)return nr[Ht];break;case 1:return De[Ht];case 3:return St[Ht]}}(ge,gt,q);void 0!==(ge=ht(ge,bt,gt))&&void 0!==be&&(bt=void 0,(bt=ge===sr?oe.UTF16(S,Re+ae,ve):oe.MACSTRING(S,Re+ae,ve,ge))&&((gt=void 0===(gt=re[Wt])?re[Wt]={}:gt)[be]=bt))}return 1===F&&fe.parseUShort(),re},ur_make=function(S,F){var q,re=[],fe={},Te=Ge(Ne);for(q in S){var Re=Te[q];if(void 0===Re&&(Re=q),ae=parseInt(Re),isNaN(ae))throw new Error('Name table entry "'+q+'" does not exist, see nameTableNames for complete list.');fe[ae]=S[q],re.push(ae)}for(var Qe=Ge(De),bt=Ge(St),gt=[],Wt=[],ve=0;ve<re.length;ve++){var ae,be,ge=fe[ae=re[ve]];for(be in ge){var Lr,Be=ge[be],Ft=Qe[be],Ht=qe[Ft],nr=ht(Lr=1,Ht,Ft),Br=(void 0===(nr=me.MACSTRING(Be,nr))&&(Lr=0,(Ft=F.indexOf(be))<0&&(Ft=F.length,F.push(be)),Ht=4,nr=me.UTF16(Be)),Bt(nr,Wt));void 0!==(gt.push(dt(Lr,Ht,Ft,ae,nr.length,Br)),Lr=bt[be])&&(Ft=Bt(Ht=me.UTF16(Be),Wt),gt.push(dt(3,1,Lr,ae,Ht.length,Ft)))}}gt.sort(function(Qr,vn){return Qr.platformID-vn.platformID||Qr.encodingID-vn.encodingID||Qr.languageID-vn.languageID||Qr.nameID-vn.nameID});for(var zr=new Vt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:gt.length},{name:"stringOffset",type:"USHORT",value:6+12*gt.length}]),Wr=0;Wr<gt.length;Wr++)zr.fields.push({name:"record_"+Wr,type:"RECORD",value:gt[Wr]});return zr.fields.push({name:"strings",type:"LITERAL",value:Wt}),zr},vr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Pr_parse=function(S,F){var q={},re=new Gt.Parser(S,F);q.version=re.parseUShort(),q.xAvgCharWidth=re.parseShort(),q.usWeightClass=re.parseUShort(),q.usWidthClass=re.parseUShort(),q.fsType=re.parseUShort(),q.ySubscriptXSize=re.parseShort(),q.ySubscriptYSize=re.parseShort(),q.ySubscriptXOffset=re.parseShort(),q.ySubscriptYOffset=re.parseShort(),q.ySuperscriptXSize=re.parseShort(),q.ySuperscriptYSize=re.parseShort(),q.ySuperscriptXOffset=re.parseShort(),q.ySuperscriptYOffset=re.parseShort(),q.yStrikeoutSize=re.parseShort(),q.yStrikeoutPosition=re.parseShort(),q.sFamilyClass=re.parseShort(),q.panose=[];for(var fe=0;fe<10;fe++)q.panose[fe]=re.parseByte();return q.ulUnicodeRange1=re.parseULong(),q.ulUnicodeRange2=re.parseULong(),q.ulUnicodeRange3=re.parseULong(),q.ulUnicodeRange4=re.parseULong(),q.achVendID=String.fromCharCode(re.parseByte(),re.parseByte(),re.parseByte(),re.parseByte()),q.fsSelection=re.parseUShort(),q.usFirstCharIndex=re.parseUShort(),q.usLastCharIndex=re.parseUShort(),q.sTypoAscender=re.parseShort(),q.sTypoDescender=re.parseShort(),q.sTypoLineGap=re.parseShort(),q.usWinAscent=re.parseUShort(),q.usWinDescent=re.parseUShort(),1<=q.version&&(q.ulCodePageRange1=re.parseULong(),q.ulCodePageRange2=re.parseULong()),2<=q.version&&(q.sxHeight=re.parseShort(),q.sCapHeight=re.parseShort(),q.usDefaultChar=re.parseUShort(),q.usBreakChar=re.parseUShort(),q.usMaxContent=re.parseUShort()),q},Pr_make=function(S){return new Vt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},Pr_getUnicodeRange=function(S){for(var F=0;F<vr.length;F+=1){var q=vr[F];if(S>=q.begin&&S<q.end)return F}return-1},sn_parse=function(S,F){var q={},re=new Gt.Parser(S,F);switch(q.version=re.parseVersion(),q.italicAngle=re.parseFixed(),q.underlinePosition=re.parseShort(),q.underlineThickness=re.parseShort(),q.isFixedPitch=re.parseULong(),q.minMemType42=re.parseULong(),q.maxMemType42=re.parseULong(),q.minMemType1=re.parseULong(),q.maxMemType1=re.parseULong(),q.version){case 1:q.names=Ot.slice();break;case 2:q.numberOfGlyphs=re.parseUShort(),q.glyphNameIndex=new Array(q.numberOfGlyphs);for(var fe=0;fe<q.numberOfGlyphs;fe++)q.glyphNameIndex[fe]=re.parseUShort();q.names=[];for(var Te,Re=0;Re<q.numberOfGlyphs;Re++)q.glyphNameIndex[Re]>=Ot.length&&(Te=re.parseChar(),q.names.push(re.parseString(Te)));break;case 2.5:q.numberOfGlyphs=re.parseUShort(),q.offset=new Array(q.numberOfGlyphs);for(var Qe=0;Qe<q.numberOfGlyphs;Qe++)q.offset[Qe]=re.parseChar()}return q},sn_make=function(){return new Vt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},nn=new Array(9),Nn=(nn[1]=function(){var S=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{substFormat:1,coverage:this.parsePointer(Ct.coverage),deltaGlyphId:this.parseUShort()}:2===F?{substFormat:2,coverage:this.parsePointer(Ct.coverage),substitute:this.parseOffset16List()}:void O.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},nn[2]=function(){var S=this.parseUShort();return O.argument(1===S,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ct.coverage),sequences:this.parseListOfLists()}},nn[3]=function(){var S=this.parseUShort();return O.argument(1===S,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ct.coverage),alternateSets:this.parseListOfLists()}},nn[4]=function(){var S=this.parseUShort();return O.argument(1===S,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ct.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ct.uShort,lookupListIndex:Ct.uShort});nn[5]=function(){var S,F,q=this.offset+this.relativeOffset,re=this.parseUShort();return 1===re?{substFormat:re,coverage:this.parsePointer(Ct.coverage),ruleSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Te=this.parseUShort();return{input:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Te,Nn)}})}:2===re?{substFormat:re,coverage:this.parsePointer(Ct.coverage),classDef:this.parsePointer(Ct.classDef),classSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Te=this.parseUShort();return{classes:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Te,Nn)}})}:3===re?(S=this.parseUShort(),F=this.parseUShort(),{substFormat:re,coverages:this.parseList(S,Ct.pointer(Ct.coverage)),lookupRecords:this.parseRecordList(F,Nn)}):void O.assert(!1,"0x"+q.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},nn[6]=function(){var S=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{substFormat:1,coverage:this.parsePointer(Ct.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:2===F?{substFormat:2,coverage:this.parsePointer(Ct.coverage),backtrackClassDef:this.parsePointer(Ct.classDef),inputClassDef:this.parsePointer(Ct.classDef),lookaheadClassDef:this.parsePointer(Ct.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:3===F?{substFormat:3,backtrackCoverage:this.parseList(Ct.pointer(Ct.coverage)),inputCoverage:this.parseList(Ct.pointer(Ct.coverage)),lookaheadCoverage:this.parseList(Ct.pointer(Ct.coverage)),lookupRecords:this.parseRecordList(Nn)}:void O.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},nn[7]=function(){var S=this.parseUShort(),F=(O.argument(1===S,"GSUB Extension Substitution subtable identifier-format must be 1"),S=this.parseUShort(),new Ct(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:S,extension:nn[S].call(F)}},nn[8]=function(){var S=this.parseUShort();return O.argument(1===S,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ct.coverage),backtrackCoverage:this.parseList(Ct.pointer(Ct.coverage)),lookaheadCoverage:this.parseList(Ct.pointer(Ct.coverage)),substitutes:this.parseUShortList()}};var Dn=new Array(9);Dn[1]=function(S){return new Vt.Table("substitutionTable",1===S.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Vt.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Vt.Coverage(S.coverage)}].concat(Vt.ushortList("substitute",S.substitute)))},Dn[3]=function(S){return O.assert(1===S.substFormat,"Lookup type 3 substFormat must be 1."),new Vt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Vt.Coverage(S.coverage)}].concat(Vt.tableList("altSet",S.alternateSets,function(F){return new Vt.Table("alternateSetTable",Vt.ushortList("alternate",F))})))},Dn[4]=function(S){return O.assert(1===S.substFormat,"Lookup type 4 substFormat must be 1."),new Vt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Vt.Coverage(S.coverage)}].concat(Vt.tableList("ligSet",S.ligatureSets,function(F){return new Vt.Table("ligatureSetTable",Vt.tableList("ligature",F,function(q){return new Vt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:q.ligGlyph}].concat(Vt.ushortList("component",q.components,q.components.length+1)))}))})))};var Kr_parse=function(S,F){return F=(S=new Ct(S,F=F||0)).parseVersion(1),O.argument(1===F||1.1===F,"Unsupported GSUB table version."),1===F?{version:F,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(nn)}:{version:F,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(nn),variations:S.parseFeatureVariationsList()}},Kr_make=function(S){return new Vt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Vt.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Vt.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Vt.LookupList(S.lookups,Dn)}])},yn_parse=function(S,F){for(var q=new Gt.Parser(S,F),re=q.parseULong(),fe=(O.argument(1===re,"Unsupported META table version."),q.parseULong(),q.parseULong(),q.parseULong()),Te={},Re=0;Re<fe;Re++){var Qe=q.parseTag(),gt=q.parseULong(),bt=q.parseULong();gt=oe.UTF8(S,F+gt,bt),Te[Qe]=gt}return Te},yn_make=function(S){var F,q=Object.keys(S).length,re="",fe=16+12*q,Te=new Vt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:fe},{name:"numTags",type:"ULONG",value:q}]);for(F in S){var Re=re.length;re+=S[F],Te.fields.push({name:"tag "+F,type:"TAG",value:F}),Te.fields.push({name:"offset "+F,type:"ULONG",value:fe+Re}),Te.fields.push({name:"length "+F,type:"ULONG",value:S[F].length})}return Te.fields.push({name:"stringPool",type:"CHARARRAY",value:re}),Te};function Gn(S){return Math.log(S)/Math.log(2)|0}function bn(S){for(;S.length%4!=0;)S.push(0);for(var F=0,q=0;q<S.length;q+=4)F+=(S[q]<<24)+(S[q+1]<<16)+(S[q+2]<<8)+S[q+3];return F%Math.pow(2,32)}function Ln(S,F,q,re){return new Vt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==S?S:""},{name:"checkSum",type:"ULONG",value:void 0!==F?F:0},{name:"offset",type:"ULONG",value:void 0!==q?q:0},{name:"length",type:"ULONG",value:void 0!==re?re:0}])}function To(S){for(var F=new Vt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),q=(F.tables=S,F.numTables=S.length,Math.pow(2,Gn(F.numTables))),re=(F.searchRange=16*q,F.entrySelector=Gn(q),F.rangeShift=16*F.numTables-F.searchRange,[]),fe=[],Te=F.sizeOf()+Ln().sizeOf()*F.numTables;Te%4!=0;)Te+=1,fe.push({name:"padding",type:"BYTE",value:0});for(var Re=0;Re<S.length;Re+=1){var Qe=S[Re],bt=(O.argument(4===Qe.tableName.length,"Table name"+Qe.tableName+" is invalid."),Qe.sizeOf()),gt=Ln(Qe.tableName,bn(Qe.encode()),Te,bt);for(re.push({name:gt.tag+" Table Record",type:"RECORD",value:gt}),fe.push({name:Qe.tableName+" table",type:"RECORD",value:Qe}),Te+=bt,O.argument(!isNaN(Te),"Something went wrong calculating the offset.");Te%4!=0;)Te+=1,fe.push({name:"padding",type:"BYTE",value:0})}return re.sort(function(Wt,ve){return Wt.value.tag>ve.value.tag?1:-1}),F.fields=F.fields.concat(re),F.fields=F.fields.concat(fe),F}function eo(S,F,q){for(var re=0;re<F.length;re+=1){var fe=S.charToGlyphIndex(F[re]);if(0<fe)return S.glyphs.get(fe).getMetrics()}return q}var wo_fontToTable=function(S){for(var F,q=[],re=[],fe=[],Te=[],Re=[],Qe=[],bt=[],gt=0,Wt=0,ve=0,ae=0,be=0,ge=0;ge<S.glyphs.length;ge+=1){var Be=S.glyphs.get(ge),Ft=0|Be.unicode;if(isNaN(Be.advanceWidth))throw new Error("Glyph "+Be.name+" ("+ge+"): advanceWidth is not a number.");if((Ft<F||void 0===F)&&0<Ft&&(F=Ft),gt<Ft&&(gt=Ft),(Ft=Pr_getUnicodeRange(Ft))<32)Wt|=1<<Ft;else if(Ft<64)ve|=1<<Ft-32;else if(Ft<96)ae|=1<<Ft-64;else{if(!(Ft<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Ft-96}".notdef"!==Be.name&&(Ft=Be.getMetrics(),q.push(Ft.xMin),re.push(Ft.yMin),fe.push(Ft.xMax),Te.push(Ft.yMax),Qe.push(Ft.leftSideBearing),bt.push(Ft.rightSideBearing),Re.push(Be.advanceWidth))}var Ht,nr={xMin:Math.min.apply(null,q),yMin:Math.min.apply(null,re),xMax:Math.max.apply(null,fe),yMax:Math.max.apply(null,Te),advanceWidthMax:Math.max.apply(null,Re),advanceWidthAvg:function(uo){for(var rs=0,ni=0;ni<uo.length;ni+=1)rs+=uo[ni];return rs/uo.length}(Re),minLeftSideBearing:Math.min.apply(null,Qe),maxLeftSideBearing:Math.max.apply(null,Qe),minRightSideBearing:Math.min.apply(null,bt)},Br=(nr.ascender=S.ascender,nr.descender=S.descender,U_make({flags:3,unitsPerEm:S.unitsPerEm,xMin:nr.xMin,yMin:nr.yMin,xMax:nr.xMax,yMax:nr.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),Lr=D_make({ascender:nr.ascender,descender:nr.descender,advanceWidthMax:nr.advanceWidthMax,minLeftSideBearing:nr.minLeftSideBearing,minRightSideBearing:nr.minRightSideBearing,xMaxExtent:nr.maxLeftSideBearing+(nr.xMax-nr.xMin),numberOfHMetrics:S.glyphs.length}),zr=ne_make(S.glyphs.length),Wr=Pr_make({xAvgCharWidth:Math.round(nr.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:F,usLastCharIndex:gt,ulUnicodeRange1:Wt,ulUnicodeRange2:ve,ulUnicodeRange3:ae,ulUnicodeRange4:be,fsSelection:S.tables.os2.fsSelection,sTypoAscender:nr.ascender,sTypoDescender:nr.descender,sTypoLineGap:0,usWinAscent:nr.yMax,usWinDescent:Math.abs(nr.yMin),ulCodePageRange1:1,sxHeight:eo(S,"xyvw",{yMax:Math.round(nr.ascender/2)}).yMax,sCapHeight:eo(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",nr).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),Qr=J_make(S.glyphs),vn=$e_make(S.glyphs),Tn=(Mn=S.getEnglishName("fontFamily"))+" "+($r=S.getEnglishName("fontSubfamily")),qn=(qn=S.getEnglishName("postScriptName"))||Mn.replace(/\s/g,"")+"-"+$r,to={};for(Ht in S.names)to[Ht]=S.names[Ht];to.uniqueID||(to.uniqueID={en:S.getEnglishName("manufacturer")+":"+Tn}),to.postScriptName||(to.postScriptName={en:qn}),to.preferredFamily||(to.preferredFamily=S.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=S.names.fontSubfamily);var so=ur_make(to,Kn=[]),Kn=0<Kn.length?V_make(Kn):void 0,fo=sn_make(),Mn=(Tn=I_make(S.glyphs,{version:S.getEnglishName("version"),fullName:Tn,familyName:Mn,weightName:$r,postScriptName:qn,unitsPerEm:S.unitsPerEm,fontBBox:[0,nr.yMin,nr.ascender,nr.advanceWidthMax]}),S.metas&&0<Object.keys(S.metas).length?yn_make(S.metas):void 0),$r=[Br,Lr,zr,Wr,so,vn,fo,Tn,Qr];Kn&&$r.push(Kn),S.tables.gsub&&$r.push(Kr_make(S.tables.gsub)),Mn&&$r.push(Mn);for(var $n=bn((qn=To($r)).encode()),Vn=qn.fields,lo=!1,Rn=0;Rn<Vn.length;Rn+=1)if("head table"===Vn[Rn].name){Vn[Rn].value.checkSumAdjustment=2981146554-$n,lo=!0;break}if(lo)return qn;throw new Error("Could not find head table with checkSum to adjust.")};function ko(S,F){for(var q=0,re=S.length-1;q<=re;){var fe=q+re>>>1,Te=S[fe].tag;if(Te===F)return fe;Te<F?q=1+fe:re=fe-1}return-q-1}function No(S,F){for(var q=0,re=S.length-1;q<=re;){var fe=q+re>>>1,Te=S[fe];if(Te===F)return fe;Te<F?q=1+fe:re=fe-1}return-q-1}function $o(S,F){for(var q=0,re=S.length-1;q<=re;){var fe,Te=q+re>>>1,Re=(fe=S[Te]).start;if(Re===F)return fe;Re<F?q=1+Te:re=Te-1}if(0<q)return F>(fe=S[q-1]).end?0:fe}function Wn(S,F){this.font=S,this.tableName=F}function Vo(S){Wn.call(this,S,"gpos")}function oo(S){Wn.call(this,S,"gsub")}function cs(S,F,q){for(var re=S.subtables,fe=0;fe<re.length;fe++){var Te=re[fe];if(Te.substFormat===F)return Te}if(q)return re.push(q),q}function vs(S){for(var F=new ArrayBuffer(S.length),q=new Uint8Array(F),re=0;re<S.length;++re)q[re]=S[re];return F}function ye(S,F){if(!S)throw F}function He(S,F,q,re,fe){var Te=0<(F&re)?(Te=S.parseByte(),q+(Te=F&fe?Te:-Te)):0<(F&fe)?q:q+S.parseShort();return Te}function ct(S,F,q){var re,fe=new Gt.Parser(F,q);if(S.numberOfContours=fe.parseShort(),S._xMin=fe.parseShort(),S._yMin=fe.parseShort(),S._xMax=fe.parseShort(),S._yMax=fe.parseShort(),0<S.numberOfContours){for(var Te=S.endPointIndices=[],Re=0;Re<S.numberOfContours;Re+=1)Te.push(fe.parseUShort());S.instructionLength=fe.parseUShort(),S.instructions=[];for(var Qe=0;Qe<S.instructionLength;Qe+=1)S.instructions.push(fe.parseByte());for(var bt=Te[Te.length-1]+1,gt=[],Wt=0;Wt<bt;Wt+=1)if(re=fe.parseByte(),gt.push(re),0<(8&re))for(var ve=fe.parseByte(),ae=0;ae<ve;ae+=1)gt.push(re),Wt+=1;if(O.argument(gt.length===bt,"Bad flags."),0<Te.length){var be,ge=[];if(0<bt){for(var Be=0;Be<bt;Be+=1)(be={}).onCurve=!!(1&(re=gt[Be])),be.lastPointOfContour=0<=Te.indexOf(Be),ge.push(be);for(var Ft=0,Ht=0;Ht<bt;Ht+=1)(be=ge[Ht]).x=He(fe,re=gt[Ht],Ft,2,16),Ft=be.x;for(var nr=0,Br=0;Br<bt;Br+=1)(be=ge[Br]).y=He(fe,re=gt[Br],nr,4,32),nr=be.y}S.points=ge}else S.points=[]}else if(0===S.numberOfContours)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var Lr=!0;Lr;){gt=fe.parseUShort();var zr={glyphIndex:fe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&gt)?0<(2&gt)?(zr.dx=fe.parseShort(),zr.dy=fe.parseShort()):zr.matchedPoints=[fe.parseUShort(),fe.parseUShort()]:0<(2&gt)?(zr.dx=fe.parseChar(),zr.dy=fe.parseChar()):zr.matchedPoints=[fe.parseByte(),fe.parseByte()],0<(8&gt)?zr.xScale=zr.yScale=fe.parseF2Dot14():0<(64&gt)?(zr.xScale=fe.parseF2Dot14(),zr.yScale=fe.parseF2Dot14()):0<(128&gt)&&(zr.xScale=fe.parseF2Dot14(),zr.scale01=fe.parseF2Dot14(),zr.scale10=fe.parseF2Dot14(),zr.yScale=fe.parseF2Dot14()),S.components.push(zr),Lr=!!(32&gt)}if(256&gt){S.instructionLength=fe.parseUShort(),S.instructions=[];for(var Wr=0;Wr<S.instructionLength;Wr+=1)S.instructions.push(fe.parseByte())}}}function Ee(S,F){for(var q=[],re=0;re<S.length;re+=1){var fe;q.push(fe={x:F.xScale*(fe=S[re]).x+F.scale01*fe.y+F.dx,y:F.scale10*fe.x+F.yScale*fe.y+F.dy,onCurve:fe.onCurve,lastPointOfContour:fe.lastPointOfContour})}return q}function mt(S){var F=new le;if(S)for(var q=function(ve){for(var ae=[],be=[],ge=0;ge<ve.length;ge+=1){var Be=ve[ge];be.push(Be),Be.lastPointOfContour&&(ae.push(be),be=[])}return O.argument(0===be.length,"There are still points left in the current contour."),ae}(S),re=0;re<q.length;++re){var fe,Te=q[re],Qe=Te[0];(Re=Te[Te.length-1]).onCurve?F.moveTo(Re.x,Re.y):Qe.onCurve?F.moveTo(Qe.x,Qe.y):F.moveTo((fe={x:.5*(Re.x+Qe.x),y:.5*(Re.y+Qe.y)}).x,fe.y);for(var bt=0;bt<Te.length;++bt){var gt,Re=Qe;Qe=Te[(bt+1)%Te.length],Re.onCurve?F.lineTo(Re.x,Re.y):(gt=Qe,Qe.onCurve||(gt={x:.5*(Re.x+Qe.x),y:.5*(Re.y+Qe.y)}),F.quadraticCurveTo(Re.x,Re.y,gt.x,gt.y))}F.closePath()}return F}function Jt(S,F){if(F.isComposite)for(var q=0;q<F.components.length;q+=1){var fe=S.get((re=F.components[q]).glyphIndex);if(fe.getPath(),fe.points){var Te=void 0;if(void 0===re.matchedPoints)Te=Ee(fe.points,re);else{if(re.matchedPoints[0]>F.points.length-1||re.matchedPoints[1]>fe.points.length-1)throw Error("Matched points out of range in "+F.name);var re,Re=F.points[re.matchedPoints[0]],Qe=Ee([Qe=fe.points[re.matchedPoints[1]]],re={xScale:re.xScale,scale01:re.scale01,scale10:re.scale10,yScale:re.yScale,dx:0,dy:0})[0];re.dx=Re.x-Qe.x,re.dy=Re.y-Qe.y,Te=Ee(fe.points,re)}F.points=F.points.concat(Te)}}return mt(F.points)}(Vo.prototype=Wn.prototype={searchTag:ko,binSearch:No,getTable:function(S){var F=this.font.tables[this.tableName];return!F&&S?this.font.tables[this.tableName]=this.createDefaultTable():F},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(F){return F.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var F=!1,q=0;q<S.scripts.length;q++){var re=S.scripts[q].tag;if("DFLT"===re)return re;"latn"===re&&(F=!0)}return F?"latn":void 0}},getScriptTable:function(S,F){var q,re=this.getTable(F);if(re)return q=re.scripts,0<=(re=ko(re.scripts,S=S||"DFLT"))?q[re].script:F?(q.splice(-1-re,0,F={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),F.script):void 0},getLangSysTable:function(fe,F,q){var re;if(fe=this.getScriptTable(fe,q))return F&&"dflt"!==F&&"DFLT"!==F?0<=(re=ko(fe.langSysRecords,F))?fe.langSysRecords[re].langSys:q?(fe.langSysRecords.splice(-1-re,0,q={tag:F,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),q.langSys):void 0:fe.defaultLangSys},getFeatureTable:function(S,F,q,re){if(S=this.getLangSysTable(S,F,re)){for(var fe,Te=S.featureIndexes,Re=this.font.tables[this.tableName].features,Qe=0;Qe<Te.length;Qe++)if((fe=Re[Te[Qe]]).tag===q)return fe.feature;if(re)return O.assert(0===(F=Re.length)||q>=Re[F-1].tag,"Features must be added in alphabetical order."),Re.push(fe={tag:q,feature:{params:0,lookupListIndexes:[]}}),Te.push(F),fe.feature}},getLookupTables:function(Te,F,q,re,fe){var Re=[];if(Te=this.getFeatureTable(Te,F,q,fe)){for(var Qe,bt=Te.lookupListIndexes,gt=this.font.tables[this.tableName].lookups,Wt=0;Wt<bt.length;Wt++)(Qe=gt[bt[Wt]]).lookupType===re&&Re.push(Qe);if(0===Re.length&&fe)return F=gt.length,gt.push(Qe={lookupType:re,lookupFlag:0,subtables:[],markFilteringSet:void 0}),bt.push(F),[Qe]}return Re},getGlyphClass:function(S,F){switch(S.format){case 1:return S.startGlyph<=F&&F<S.startGlyph+S.classes.length?S.classes[F-S.startGlyph]:0;case 2:var q=$o(S.ranges,F);return q?q.classId:0}},getCoverageIndex:function(S,F){switch(S.format){case 1:var q=No(S.glyphs,F);return 0<=q?q:-1;case 2:return(q=$o(S.ranges,F))?q.index+F-q.start:-1}},expandCoverage:function(S){if(1===S.format)return S.glyphs;for(var F=[],q=S.ranges,re=0;re<q.length;re++)for(var fe=q[re],Re=fe.end,Qe=fe.start;Qe<=Re;Qe++)F.push(Qe);return F}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},Vo.prototype.getKerningValue=function(S,F,q){for(var re=0;re<S.length;re++)for(var fe=S[re].subtables,Te=0;Te<fe.length;Te++){var Re=fe[Te],Qe=this.getCoverageIndex(Re.coverage,F);if(!(Qe<0))switch(Re.posFormat){case 1:for(var bt=Re.pairSets[Qe],gt=0;gt<bt.length;gt++){var Wt=bt[gt];if(Wt.secondGlyph===q)return Wt.value1&&Wt.value1.xAdvance||0}break;case 2:var ae=this.getGlyphClass(Re.classDef1,F),ve=this.getGlyphClass(Re.classDef2,q);return(ae=Re.classRecords[ae][ve]).value1&&ae.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(S,F){if(this.font.tables.gpos)return this.getLookupTables(S,F,"kern",2)},(oo.prototype=Wn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(S,F,q){for(var re=[],fe=this.getLookupTables(F,q,S,1),Te=0;Te<fe.length;Te++)for(var Re=fe[Te].subtables,Qe=0;Qe<Re.length;Qe++){var bt=Re[Qe],gt=this.expandCoverage(bt.coverage),Wt=void 0;if(1===bt.substFormat){var ve=bt.deltaGlyphId;for(Wt=0;Wt<gt.length;Wt++){var ae=gt[Wt];re.push({sub:ae,by:ae+ve})}}else{var be=bt.substitute;for(Wt=0;Wt<gt.length;Wt++)re.push({sub:gt[Wt],by:be[Wt]})}}return re},oo.prototype.getAlternates=function(S,F,q){for(var re=[],fe=this.getLookupTables(F,q,S,3),Te=0;Te<fe.length;Te++)for(var Re=fe[Te].subtables,Qe=0;Qe<Re.length;Qe++)for(var bt=Re[Qe],gt=this.expandCoverage(bt.coverage),Wt=bt.alternateSets,ve=0;ve<gt.length;ve++)re.push({sub:gt[ve],by:Wt[ve]});return re},oo.prototype.getLigatures=function(S,F,q){for(var re=[],fe=this.getLookupTables(F,q,S,4),Te=0;Te<fe.length;Te++)for(var Re=fe[Te].subtables,Qe=0;Qe<Re.length;Qe++)for(var bt=Re[Qe],gt=this.expandCoverage(bt.coverage),Wt=bt.ligatureSets,ve=0;ve<gt.length;ve++)for(var ae=gt[ve],be=Wt[ve],ge=0;ge<be.length;ge++){var Be=be[ge];re.push({sub:[ae].concat(Be.components),by:Be.ligGlyph})}return re},oo.prototype.addSingle=function(S,F,q,re){q=cs(this.getLookupTables(q,re,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),O.assert(1===q.coverage.format,"Ligature: unable to modify coverage table format "+q.coverage.format),(S=this.binSearch(q.coverage.glyphs,re=F.sub))<0&&(q.coverage.glyphs.splice(S=-1-S,0,re),q.substitute.splice(S,0,0)),q.substitute[S]=F.by},oo.prototype.addAlternate=function(S,F,q,re){q=cs(this.getLookupTables(q,re,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),O.assert(1===q.coverage.format,"Ligature: unable to modify coverage table format "+q.coverage.format),(S=this.binSearch(q.coverage.glyphs,re=F.sub))<0&&(q.coverage.glyphs.splice(S=-1-S,0,re),q.alternateSets.splice(S,0,0)),q.alternateSets[S]=F.by},oo.prototype.addLigature=function(Te,bt,Qe,fe){(fe=(Qe=this.getLookupTables(Qe,fe,Te,4,!0)[0]).subtables[0])||(Qe.subtables[0]=fe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),O.assert(1===fe.coverage.format,"Ligature: unable to modify coverage table format "+fe.coverage.format),Te=bt.sub[0];var Re=bt.sub.slice(1);if(Qe={ligGlyph:bt.by,components:Re},0<=(bt=this.binSearch(fe.coverage.glyphs,Te))){for(var gt=fe.ligatureSets[bt],Wt=0;Wt<gt.length;Wt++)if(function(ve,ae){var be=ve.length;if(be===ae.length){for(var ge=0;ge<be;ge++)if(ve[ge]!==ae[ge])return;return 1}}(gt[Wt].components,Re))return;gt.push(Qe)}else fe.coverage.glyphs.splice(bt=-1-bt,0,Te),fe.ligatureSets.splice(bt,0,[Qe])},oo.prototype.getFeature=function(S,F,q){if(/ss\d\d/.test(S))return this.getSingle(S,F,q);switch(S){case"aalt":case"salt":return this.getSingle(S,F,q).concat(this.getAlternates(S,F,q));case"dlig":case"liga":case"rlig":return this.getLigatures(S,F,q)}},oo.prototype.add=function(S,F,q,re){if(/ss\d\d/.test(S))return this.addSingle(S,F,q,re);switch(S){case"aalt":case"salt":return"number"==typeof F.by?this.addSingle(S,F,q,re):this.addAlternate(S,F,q,re);case"dlig":case"liga":case"rlig":return this.addLigature(S,F,q,re)}};var hn={getPath:mt,parse:function(S,F,q,re){for(var fe=new Ut.GlyphSet(re),Te=0;Te<q.length-1;Te+=1){var Re=q[Te];fe.push(Te,Re!==q[Te+1]?Ut.ttfGlyphLoader(re,Te,ct,S,F+Re,Jt):Ut.glyphLoader(re,Te))}return fe}};function Fn(S){this.font=S,this.getCommands=function(F){return hn.getPath(F).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(S){return S}function ts(S){return Math.sign(S)*Math.round(Math.abs(S))}function Yo(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function As(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function Ms(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function Is(S){return Math.sign(S)*Math.floor(Math.abs(S))}function js(S){var F=this.srPeriod,q=this.srPhase,re=1;return S<0&&(S=-S,re=-1),S+=this.srThreshold-q,S=Math.trunc(S/F)*F,(S+=q)<0?q*re:S*re}var Eo={x:1,y:0,axis:"x",distance:function(S,F,q,re){return(q?S.xo:S.x)-(re?F.xo:F.x)},interpolate:function(S,F,q,re){var fe,Te,Re,Qe,bt,gt,Wt;if(!re||re===this)return fe=S.xo-F.xo,Te=S.xo-q.xo,bt=F.x-F.xo,gt=q.x-q.xo,0===(Wt=(Re=Math.abs(fe))+(Qe=Math.abs(Te)))?void(S.x=S.xo+(bt+gt)/2):void(S.x=S.xo+(bt*Qe+gt*Re)/Wt);fe=re.distance(S,F,!0,!0),Te=re.distance(S,q,!0,!0),bt=re.distance(F,F,!1,!0),gt=re.distance(q,q,!1,!0),0===(Wt=(Re=Math.abs(fe))+(Qe=Math.abs(Te)))?Eo.setRelative(S,S,(bt+gt)/2,re,!0):Eo.setRelative(S,S,(bt*Qe+gt*Re)/Wt,re,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,F,q,re,fe){var Te,Re;re&&re!==this?(Te=fe?F.xo:F.x,Re=fe?F.yo:F.y,S.x=(Te+=q*re.x)+(S.y-(Re+=q*re.y))/re.normalSlope):S.x=(fe?F.xo:F.x)+q},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(S,F,q,re){return(q?S.yo:S.y)-(re?F.yo:F.y)},interpolate:function(S,F,q,re){var fe,Te,Re,Qe,bt,gt,Wt;if(!re||re===this)return fe=S.yo-F.yo,Te=S.yo-q.yo,bt=F.y-F.yo,gt=q.y-q.yo,0===(Wt=(Re=Math.abs(fe))+(Qe=Math.abs(Te)))?void(S.y=S.yo+(bt+gt)/2):void(S.y=S.yo+(bt*Qe+gt*Re)/Wt);fe=re.distance(S,F,!0,!0),Te=re.distance(S,q,!0,!0),bt=re.distance(F,F,!1,!0),gt=re.distance(q,q,!1,!0),0===(Wt=(Re=Math.abs(fe))+(Qe=Math.abs(Te)))?Ao.setRelative(S,S,(bt+gt)/2,re,!0):Ao.setRelative(S,S,(bt*Qe+gt*Re)/Wt,re,!0)},normalSlope:0,setRelative:function(S,F,q,re,fe){var Te,Re;re&&re!==this?(Te=fe?F.xo:F.x,Re=fe?F.yo:F.y,S.y=(Re+=q*re.y)+re.normalSlope*(S.x-(Te+=q*re.x))):S.y=(fe?F.yo:F.y)+q},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function Yn(S,F){this.x=S,this.y=F,this.axis=void 0,this.slope=F/S,this.normalSlope=-S/F,Object.freeze(this)}function So(S,F){var q=Math.sqrt(S*S+F*F);return F/=q,1==(S/=q)&&0===F?Eo:0===S&&1===F?Ao:new Yn(S,F)}function Le(S,F,q,re){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*F)/64,this.lastPointOfContour=q,this.onCurve=re,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Eo),Object.freeze(Ao),Yn.prototype.distance=function(S,F,q,re){return this.x*Eo.distance(S,F,q,re)+this.y*Ao.distance(S,F,q,re)},Yn.prototype.interpolate=function(S,fe,Te,re){var Re=re.distance(S,fe,!0,!0),Qe=re.distance(S,Te,!0,!0),bt=(fe=re.distance(fe,fe,!1,!0),Te=re.distance(Te,Te,!1,!0),(Re=Math.abs(Re))+(Qe=Math.abs(Qe)));this.setRelative(S,S,0===bt?(fe+Te)/2:(fe*Qe+Te*Re)/bt,re,!0)},Yn.prototype.setRelative=function(S,Te,bt,gt,Qe){var Re=Qe?Te.xo:Te.x,Wt=(Qe=Qe?Te.yo:Te.y,Te=Re+bt*(gt=gt||this).x,Re=Qe+bt*gt.y,Qe=gt.normalSlope,S.y);S.x=((bt=this.slope)*(gt=S.x)-Qe*Te+Re-Wt)/(bt-Qe),S.y=bt*(S.x-gt)+Wt},Yn.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},Le.prototype.nextTouched=function(S){for(var F=this.nextPointOnContour;!S.touched(F)&&F!==this;)F=F.nextPointOnContour;return F},Le.prototype.prevTouched=function(S){for(var F=this.prevPointOnContour;!S.touched(F)&&F!==this;)F=F.prevPointOnContour;return F};var rt=Object.freeze(new Le(0,0)),Tt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Lt(S,F){switch(this.env=S,this.stack=[],this.prog=F,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Eo,this.round=ts}}function Zt(S){for(var F=S.tZone=new Array(S.gZone.length),q=0;q<F.length;q++)F[q]=new Le(0,0)}function Kt(S,F){var q,re=S.prog,fe=S.ip,Te=1;do{if(88===(q=re[++fe]))Te++;else if(89===q)Te--;else if(64===q)fe+=re[fe+1]+1;else if(65===q)fe+=2*re[fe+1]+1;else if(176<=q&&q<=183)fe+=q-176+1;else if(184<=q&&q<=191)fe+=2*(q-184+1);else if(F&&1===Te&&27===q)break}while(0<Te);S.ip=fe}function mr(S,F){m.DEBUG&&console.log(F.step,"SVTCA["+S.axis+"]"),F.fv=F.pv=F.dpv=S}function Er(S,F){m.DEBUG&&console.log(F.step,"SPVTCA["+S.axis+"]"),F.pv=F.dpv=S}function Cr(S,F){m.DEBUG&&console.log(F.step,"SFVTCA["+S.axis+"]"),F.fv=S}function Tr(S,F){var q,re=(fe=F.stack).pop(),fe=fe.pop(),Te=F.z2[re],Re=F.z1[fe];m.DEBUG&&console.log("SPVTL["+S+"]",re,fe),re=S?(q=Te.y-Re.y,Re.x-Te.x):(q=Re.x-Te.x,Re.y-Te.y),F.pv=F.dpv=So(q,re)}function Ur(S,F){var q,re=(fe=F.stack).pop(),fe=fe.pop(),Te=F.z2[re],Re=F.z1[fe];m.DEBUG&&console.log("SFVTL["+S+"]",re,fe),re=S?(q=Te.y-Re.y,Re.x-Te.x):(q=Re.x-Te.x,Re.y-Te.y),F.fv=So(q,re)}function Fr(S){m.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function Gr(S,F){var q=F.stack.pop(),re=F.z0[q],fe=F.fv,Te=F.pv,Re=(m.DEBUG&&console.log(F.step,"MDAP["+S+"]",q),Te.distance(re,rt));S&&(Re=F.round(Re)),fe.setRelative(re,rt,Re,Te),fe.touch(re),F.rp0=F.rp1=q}function qr(S,F){var q,re,fe,Te=F.z2,Re=Te.length-2;m.DEBUG&&console.log(F.step,"IUP["+S.axis+"]");for(var Qe=0;Qe<Re;Qe++)S.touched(q=Te[Qe])||(re=q.prevTouched(S))!==q&&(re===(fe=q.nextTouched(S))&&S.setRelative(q,q,S.distance(re,re,!1,!0),S,!0),S.interpolate(q,re,fe,S))}function pn(S,F){for(var q=F.stack,fe=(S?F.z0:F.z1)[S?F.rp1:F.rp2],Te=F.fv,Re=F.pv,Qe=F.loop,bt=F.z2;Qe--;){var gt=q.pop(),Wt=bt[gt],ve=Re.distance(fe,fe,!1,!0);Te.setRelative(Wt,Wt,ve,Re),Te.touch(Wt),m.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-Qe)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",gt)}F.loop=1}function _n(S,F){for(var re=(S?F.z0:F.z1)[S?F.rp1:F.rp2],fe=F.fv,Te=F.pv,Re=F.stack.pop(),Qe=F.z2[F.contours[Re]],bt=Qe,gt=(m.DEBUG&&console.log(F.step,"SHC["+S+"]",Re),Te.distance(re,re,!1,!0));bt!==re&&fe.setRelative(bt,bt,gt,Te),(bt=bt.nextPointOnContour)!==Qe;);}function wn(S,F){var q,re,fe=(S?F.z0:F.z1)[fe=S?F.rp1:F.rp2],Te=F.fv,Re=F.pv,Qe=(Qe=F.stack).pop();switch(m.DEBUG&&console.log(F.step,"SHZ["+S+"]",Qe),Qe){case 0:q=F.tZone;break;case 1:q=F.gZone;break;default:throw new Error("Invalid zone")}for(var bt=Re.distance(fe,fe,!1,!0),gt=q.length-2,Wt=0;Wt<gt;Wt++)Te.setRelative(re=q[Wt],re,bt,Re)}function Un(S,F){var q=(re=F.stack).pop()/64,re=re.pop(),fe=F.z1[re],Re=F.fv;Re.setRelative(fe,F.z0[F.rp0],q,F.pv),Re.touch(fe),m.DEBUG&&console.log(F.step,"MSIRP["+S+"]",q,re),F.rp1=F.rp0,F.rp2=re,S&&(F.rp0=re)}function kn(S,F){var Qe=(q=F.stack).pop(),q=q.pop(),re=F.z0[q],fe=F.fv,Te=F.pv,Re=F.cvt[Qe];m.DEBUG&&console.log(F.step,"MIAP["+S+"]",Qe,"(",Re,")",q),Qe=Te.distance(re,rt),S&&(Math.abs(Qe-Re)<F.cvCutIn&&(Qe=Re),Qe=F.round(Qe)),fe.setRelative(re,rt,Qe,Te),0===F.zp0&&(re.xo=re.x,re.yo=re.y),fe.touch(re),F.rp0=F.rp1=q}function Rr(S,F){var q=F.stack,re=q.pop(),fe=F.z2[re];m.DEBUG&&console.log(F.step,"GC["+S+"]",re),q.push(64*F.dpv.distance(fe,rt,S,!1))}function go(S,F){var q=(re=F.stack).pop(),re=re.pop(),Te=F.dpv.distance(Te=F.z0[re],F.z1[q],S,S);m.DEBUG&&console.log(F.step,"MD["+S+"]",q,re,"->",Te),F.stack.push(Math.round(64*Te))}function Lo(S,F){var q=F.stack,re=q.pop(),fe=F.fv,Te=F.pv,Re=F.ppem,Qe=F.deltaBase+16*(S-1),bt=F.deltaShift,gt=F.z0;m.DEBUG&&console.log(F.step,"DELTAP["+S+"]",re,q);for(var Wt=0;Wt<re;Wt++){var ve=q.pop(),ae=q.pop();Qe+((240&ae)>>4)===Re&&(0<=(ae=(15&ae)-8)&&ae++,m.DEBUG&&console.log(F.step,"DELTAPFIX",ve,"by",ae*bt),fe.setRelative(ve=gt[ve],ve,ae*bt,Te))}}function Pn(S,F){var q=F.stack,re=q.pop();m.DEBUG&&console.log(F.step,"ROUND[]"),q.push(64*F.round(re/64))}function Os(S,F){var q=F.stack,re=q.pop(),fe=F.ppem,Te=F.deltaBase+16*(S-1),Re=F.deltaShift;m.DEBUG&&console.log(F.step,"DELTAC["+S+"]",re,q);for(var Qe=0;Qe<re;Qe++){var bt=q.pop(),gt=q.pop();Te+((240&gt)>>4)===fe&&(0<=(gt=(15&gt)-8)&&gt++,gt*=Re,m.DEBUG&&console.log(F.step,"DELTACFIX",bt,"by",gt),F.cvt[bt]+=gt)}}function yi(S,F){var q,re=(fe=F.stack).pop(),fe=fe.pop(),Te=F.z2[re],Re=F.z1[fe];m.DEBUG&&console.log(F.step,"SDPVTL["+S+"]",re,fe),re=S?(q=Te.y-Re.y,Re.x-Te.x):(q=Re.x-Te.x,Re.y-Te.y),F.dpv=So(q,re)}function ho(S,F){var q=F.stack,re=F.prog,fe=F.ip;m.DEBUG&&console.log(F.step,"PUSHB["+S+"]");for(var Te=0;Te<S;Te++)q.push(re[++fe]);F.ip=fe}function Bn(S,F){var q=F.ip,re=F.prog,fe=F.stack;m.DEBUG&&console.log(F.ip,"PUSHW["+S+"]");for(var Te=0;Te<S;Te++){var Re=re[++q]<<8|re[++q];32768&Re&&(Re=-(1+(65535^Re))),fe.push(Re)}F.ip=q}function Vr(S,F,q,re,fe,Te){var Re,Qe,Wt,gt=Te.stack,bt=S&&gt.pop(),ve=(gt=gt.pop(),Te.z1[gt]),ae=Te.minDis,be=Te.fv,ge=Te.dpv,Be=Re=ge.distance(ve,Wt=Te.z0[Wt=Te.rp0],!0,!0),Ft=0<=Be?1:-1;Be=Math.abs(Be),S&&(Qe=Te.cvt[bt],re&&Math.abs(Be-Qe)<Te.cvCutIn&&(Be=Qe)),q&&Be<ae&&(Be=ae),re&&(Be=Te.round(Be)),be.setRelative(ve,Wt,Ft*Be,ge),be.touch(ve),m.DEBUG&&console.log(Te.step,(S?"MIRP[":"MDRP[")+(F?"M":"m")+(q?">":"_")+(re?"R":"_")+(0===fe?"Gr":1===fe?"Bl":2===fe?"Wh":"")+"]",S?bt+"("+Te.cvt[bt]+","+Qe+")":"",gt,"(d =",Re,"->",Ft*Be,")"),Te.rp1=Te.rp0,Te.rp2=gt,F&&(Te.rp0=gt)}Fn.prototype.exec=function(S,F){if("number"!=typeof F)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var q=this.font,re=this._prepState;if(!re||re.ppem!==F){var fe=this._fpgmState;if(!fe){Lt.prototype=Tt,(fe=this._fpgmState=new Lt("fpgm",q.tables.fpgm)).funcs=[],fe.font=q,m.DEBUG&&(console.log("---EXEC FPGM---"),fe.step=-1);try{xo(fe)}catch(gt){return console.log("Hinting error in FPGM:"+gt),void(this._errorState=3)}}Lt.prototype=fe,(re=this._prepState=new Lt("prep",q.tables.prep)).ppem=F;var Te=q.tables.cvt;if(Te)for(var Re=re.cvt=new Array(Te.length),Qe=F/q.unitsPerEm,bt=0;bt<Te.length;bt++)Re[bt]=Te[bt]*Qe;else re.cvt=[];m.DEBUG&&(console.log("---EXEC PREP---"),re.step=-1);try{xo(re)}catch(gt){this._errorState<2&&console.log("Hinting error in PREP:"+gt),this._errorState=2}}if(!(1<this._errorState))try{return Go(S,re)}catch(gt){this._errorState<1&&(console.log("Hinting error:"+gt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(S,F){var q=F.ppem/F.font.unitsPerEm,re=q,fe=S.components;if(Lt.prototype=F,fe){for(var Te=F.font,Re=[],Qe=[],bt=0;bt<fe.length;bt++){var gt=fe[bt],Wt=Te.glyphs.get(gt.glyphIndex),ve=new Lt("glyf",Wt.instructions);m.DEBUG&&(console.log("---EXEC COMP "+bt+"---"),ve.step=-1),Jo(Wt,ve,q,re);for(var ae=Math.round(gt.dx*q),be=Math.round(gt.dy*re),ge=ve.gZone,Be=ve.contours,Ft=0;Ft<ge.length;Ft++){var Ht=ge[Ft];Ht.xTouched=Ht.yTouched=!1,Ht.xo=Ht.x=Ht.x+ae,Ht.yo=Ht.y=Ht.y+be}var nr=Re.length;Re.push.apply(Re,ge);for(var Br=0;Br<Be.length;Br++)Qe.push(Be[Br]+nr)}S.instructions&&!ve.inhibitGridFit&&((ve=new Lt("glyf",S.instructions)).gZone=ve.z0=ve.z1=ve.z2=Re,ve.contours=Qe,Re.push(new Le(0,0),new Le(Math.round(S.advanceWidth*q),0)),m.DEBUG&&(console.log("---EXEC COMPOSITE---"),ve.step=-1),xo(ve),Re.length-=2)}else ve=new Lt("glyf",S.instructions),m.DEBUG&&(console.log("---EXEC GLYPH---"),ve.step=-1),Jo(S,ve,q,re),Re=ve.gZone;return Re},Jo=function(S,F,q,re){for(var fe,Te,Qe=S.points||[],bt=Qe.length,gt=F.gZone=F.z0=F.z1=F.z2=[],Wt=F.contours=[],ve=0;ve<bt;ve++)gt[ve]=new Le((fe=Qe[ve]).x*q,fe.y*re,fe.lastPointOfContour,fe.onCurve);for(var ae=0;ae<bt;ae++)fe=gt[ae],Te||(Te=fe,Wt.push(ae)),fe.lastPointOfContour?((fe.nextPointOnContour=Te).prevPointOnContour=fe,Te=void 0):(fe.nextPointOnContour=gt[ae+1]).prevPointOnContour=fe;if(!F.inhibitGridFit){if(m.DEBUG){console.log("PROCESSING GLYPH",F.stack);for(var be=0;be<bt;be++)console.log(be,gt[be].x,gt[be].y)}if(gt.push(new Le(0,0),new Le(Math.round(S.advanceWidth*q),0)),xo(F),gt.length-=2,m.DEBUG){console.log("FINISHED GLYPH",F.stack);for(var ge=0;ge<bt;ge++)console.log(ge,gt[ge].x,gt[ge].y)}}},xo=function(S){var F=S.prog;if(F){var q,re=F.length;for(S.ip=0;S.ip<re;S.ip++){if(m.DEBUG&&S.step++,!(q=Ps[F[S.ip]]))throw new Error("unknown instruction: 0x"+Number(F[S.ip]).toString(16));q(S)}}},Ps=[mr.bind(void 0,Ao),mr.bind(void 0,Eo),Er.bind(void 0,Ao),Er.bind(void 0,Eo),Cr.bind(void 0,Ao),Cr.bind(void 0,Eo),Tr.bind(void 0,0),Tr.bind(void 0,1),Ur.bind(void 0,0),Ur.bind(void 0,1),function(S){var F=(q=S.stack).pop(),q=q.pop();m.DEBUG&&console.log(S.step,"SPVFS[]",F,q),S.pv=S.dpv=So(q,F)},function(S){var F=(q=S.stack).pop(),q=q.pop();m.DEBUG&&console.log(S.step,"SPVFS[]",F,q),S.fv=So(q,F)},function(S){var F=S.stack,q=S.pv;m.DEBUG&&console.log(S.step,"GPV[]"),F.push(16384*q.x),F.push(16384*q.y)},function(S){var F=S.stack,q=S.fv;m.DEBUG&&console.log(S.step,"GFV[]"),F.push(16384*q.x),F.push(16384*q.y)},function(S){S.fv=S.pv,m.DEBUG&&console.log(S.step,"SFVTPV[]")},function(F){var q=(Re=F.stack).pop(),re=Re.pop(),fe=Re.pop(),Te=Re.pop(),Re=Re.pop(),Qe=(bt=F.z0)[q],bt=bt[re],gt=(Wt=F.z1)[fe],Wt=Wt[Te],ve=(F=F.z2[Re],m.DEBUG&&console.log("ISECT[], ",q,re,fe,Te,Re),q=Qe.x,re=Qe.y,Qe=gt.y,q*(Te=bt.y)-re*(fe=bt.x)),ae=(Re=gt.x)*(gt=Wt.y)-Qe*(bt=Wt.x);F.x=(ve*(Re-bt)-ae*(q-fe))/(Wt=(q-fe)*(Qe-gt)-(re-Te)*(Re-bt)),F.y=(ve*(Qe-gt)-ae*(re-Te))/Wt},function(S){S.rp0=S.stack.pop(),m.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),m.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),m.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var F=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZP0[]",F),S.zp0=F){case 0:S.tZone||Zt(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var F=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZP1[]",F),S.zp1=F){case 0:S.tZone||Zt(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var F=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZP2[]",F),S.zp2=F){case 0:S.tZone||Zt(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var F=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZPS[]",F),S.zp0=S.zp1=S.zp2=F){case 0:S.tZone||Zt(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),m.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){m.DEBUG&&console.log(S.step,"RTG[]"),S.round=ts},function(S){m.DEBUG&&console.log(S.step,"RTHG[]"),S.round=As},function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"SMD[]",F),S.minDis=F/64},function(S){m.DEBUG&&console.log(S.step,"ELSE[]"),Kt(S,!1)},function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"JMPR[]",F),S.ip+=F-1},function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"SCVTCI[]",F),S.cvCutIn=F/64},void 0,void 0,function(S){var F=S.stack;m.DEBUG&&console.log(S.step,"DUP[]"),F.push(F[F.length-1])},Fr,function(S){m.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"SWAP[]"),F.push(q),F.push(re)},function(S){var F=S.stack;m.DEBUG&&console.log(S.step,"DEPTH[]"),F.push(F.length)},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"CINDEX[]",q),F.push(F[F.length-q])},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"MINDEX[]",q),F.push(F.splice(F.length-q,1)[0])},void 0,void 0,void 0,function(S){var F=(re=S.stack).pop(),q=re.pop(),re=(m.DEBUG&&console.log(S.step,"LOOPCALL[]",F,q),S.ip),fe=S.prog;S.prog=S.funcs[F];for(var Te=0;Te<q;Te++)xo(S),m.DEBUG&&console.log(++S.step,Te+1<q?"next loopcall":"done loopcall",Te);S.ip=re,S.prog=fe},function(S){var F=S.stack.pop(),q=(m.DEBUG&&console.log(S.step,"CALL[]",F),S.ip),re=S.prog;S.prog=S.funcs[F],xo(S),S.ip=q,S.prog=re,m.DEBUG&&console.log(++S.step,"returning from",F)},function(S){if("fpgm"!==S.env)throw new Error("FDEF not allowed here");var F=S.prog,q=S.ip,re=(re=S.stack).pop(),fe=q;for(m.DEBUG&&console.log(S.step,"FDEF[]",re);45!==F[++q];);S.ip=q,S.funcs[re]=F.slice(fe+1,q)},void 0,Gr.bind(void 0,0),Gr.bind(void 0,1),qr.bind(void 0,Ao),qr.bind(void 0,Eo),pn.bind(void 0,0),pn.bind(void 0,1),_n.bind(void 0,0),_n.bind(void 0,1),wn.bind(void 0,0),wn.bind(void 0,1),function(S){for(var F=S.stack,q=S.loop,re=S.fv,fe=F.pop()/64,Te=S.z2;q--;){var Re=F.pop(),Qe=Te[Re];m.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-q)+": ":"")+"SHPIX[]",Re,fe),re.setRelative(Qe,Qe,fe),re.touch(Qe)}S.loop=1},function(S){for(var F=S.stack,q=S.rp1,re=S.rp2,fe=S.loop,Te=S.z0[q],Re=S.z1[re],Qe=S.fv,bt=S.dpv,gt=S.z2;fe--;){var Wt=F.pop(),ve=gt[Wt];m.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-fe)+": ":"")+"IP[]",Wt,q,"<->",re),Qe.interpolate(ve,Te,Re,bt),Qe.touch(ve)}S.loop=1},Un.bind(void 0,0),Un.bind(void 0,1),function(S){for(var F=S.stack,re=S.z0[S.rp0],fe=S.loop,Te=S.fv,Re=S.pv,Qe=S.z1;fe--;){var bt=F.pop(),gt=Qe[bt];m.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-fe)+": ":"")+"ALIGNRP[]",bt),Te.setRelative(gt,re,0,Re),Te.touch(gt)}S.loop=1},function(S){m.DEBUG&&console.log(S.step,"RTDG[]"),S.round=Yo},kn.bind(void 0,0),kn.bind(void 0,1),function(S){var F=S.prog,q=S.ip,re=S.stack,fe=F[++q];m.DEBUG&&console.log(S.step,"NPUSHB[]",fe);for(var Te=0;Te<fe;Te++)re.push(F[++q]);S.ip=q},function(S){var F=S.ip,q=S.prog,re=S.stack,fe=q[++F];m.DEBUG&&console.log(S.step,"NPUSHW[]",fe);for(var Te=0;Te<fe;Te++){var Re=q[++F]<<8|q[++F];32768&Re&&(Re=-(1+(65535^Re))),re.push(Re)}S.ip=F},function(S){var re=S.stack,F=(F=S.store)||(S.store=[]),q=re.pop();re=re.pop(),m.DEBUG&&console.log(S.step,"WS",q,re),F[re]=q},function(fe){var F=fe.stack,q=fe.store,re=F.pop();m.DEBUG&&console.log(fe.step,"RS",re),F.push(fe=q&&q[re]||0)},function(S){var F=(q=S.stack).pop(),q=q.pop();m.DEBUG&&console.log(S.step,"WCVTP",F,q),S.cvt[q]=F/64},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"RCVT",q),F.push(64*S.cvt[q])},Rr.bind(void 0,0),Rr.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(S){m.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){m.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"LT[]",q,re),F.push(re<q?1:0)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"LTEQ[]",q,re),F.push(re<=q?1:0)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"GT[]",q,re),F.push(q<re?1:0)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"GTEQ[]",q,re),F.push(q<=re?1:0)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"EQ[]",q,re),F.push(q===re?1:0)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"NEQ[]",q,re),F.push(q!==re?1:0)},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"ODD[]",q),F.push(Math.trunc(q)%2?1:0)},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"EVEN[]",q),F.push(Math.trunc(q)%2?0:1)},function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"IF[]",F),F||(Kt(S,!0),m.DEBUG&&console.log(S.step,"EIF[]"))},function(S){m.DEBUG&&console.log(S.step,"EIF[]")},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"AND[]",q,re),F.push(q&&re?1:0)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"OR[]",q,re),F.push(q||re?1:0)},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"NOT[]",q),F.push(q?0:1)},Lo.bind(void 0,1),function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"SDB[]",F),S.deltaBase=F},function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"SDS[]",F),S.deltaShift=Math.pow(.5,F)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"ADD[]",q,re),F.push(re+q)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"SUB[]",q,re),F.push(re-q)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"DIV[]",q,re),F.push(64*re/q)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"MUL[]",q,re),F.push(re*q/64)},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"ABS[]",q),F.push(Math.abs(q))},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"NEG[]",q),F.push(-q)},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"FLOOR[]",q),F.push(64*Math.floor(q/64))},function(S){var F=S.stack,q=F.pop();m.DEBUG&&console.log(S.step,"CEILING[]",q),F.push(64*Math.ceil(q/64))},Pn.bind(void 0,0),Pn.bind(void 0,1),Pn.bind(void 0,2),Pn.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var F=(q=S.stack).pop(),q=q.pop();m.DEBUG&&console.log(S.step,"WCVTF[]",F,q),S.cvt[q]=F*S.ppem/S.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),Os.bind(void 0,1),Os.bind(void 0,2),Os.bind(void 0,3),function(S){var F,q=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SROUND[]",q),S.round=js,192&q){case 0:F=.5;break;case 64:F=1;break;case 128:F=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=F,48&q){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*F;break;case 32:S.srPhase=.5*F;break;case 48:S.srPhase=.75*F;break;default:throw new Error("invalid SROUND value")}S.srThreshold=0==(q&=15)?0:(q/8-.5)*F},function(S){var F,q=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"S45ROUND[]",q),S.round=js,192&q){case 0:F=Math.sqrt(2)/2;break;case 64:F=Math.sqrt(2);break;case 128:F=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=F,48&q){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*F;break;case 32:S.srPhase=.5*F;break;case 48:S.srPhase=.75*F;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=0==(q&=15)?0:(q/8-.5)*F},void 0,void 0,function(S){m.DEBUG&&console.log(S.step,"ROFF[]"),S.round=mo},void 0,function(S){m.DEBUG&&console.log(S.step,"RUTG[]"),S.round=Ms},function(S){m.DEBUG&&console.log(S.step,"RDTG[]"),S.round=Is},Fr,Fr,void 0,void 0,void 0,void 0,void 0,function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"SCANCTRL[]",F)},yi.bind(void 0,0),yi.bind(void 0,1),function(S){var F=S.stack,q=F.pop(),re=0;m.DEBUG&&console.log(S.step,"GETINFO[]",q),1&q&&(re=35),32&q&&(re|=4096),F.push(re)},void 0,function(S){var F=S.stack,q=F.pop(),re=F.pop(),fe=F.pop();m.DEBUG&&console.log(S.step,"ROLL[]"),F.push(re),F.push(q),F.push(fe)},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"MAX[]",q,re),F.push(Math.max(re,q))},function(S){var F=S.stack,q=F.pop(),re=F.pop();m.DEBUG&&console.log(S.step,"MIN[]",q,re),F.push(Math.min(re,q))},function(S){var F=S.stack.pop();m.DEBUG&&console.log(S.step,"SCANTYPE[]",F)},function(S){var F=S.stack.pop(),q=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"INSTCTRL[]",F,q),F){case 1:return void(S.inhibitGridFit=!!q);case 2:return void(S.ignoreCvt=!!q);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Bn.bind(void 0,1),Bn.bind(void 0,2),Bn.bind(void 0,3),Bn.bind(void 0,4),Bn.bind(void 0,5),Bn.bind(void 0,6),Bn.bind(void 0,7),Bn.bind(void 0,8),Vr.bind(void 0,0,0,0,0,0),Vr.bind(void 0,0,0,0,0,1),Vr.bind(void 0,0,0,0,0,2),Vr.bind(void 0,0,0,0,0,3),Vr.bind(void 0,0,0,0,1,0),Vr.bind(void 0,0,0,0,1,1),Vr.bind(void 0,0,0,0,1,2),Vr.bind(void 0,0,0,0,1,3),Vr.bind(void 0,0,0,1,0,0),Vr.bind(void 0,0,0,1,0,1),Vr.bind(void 0,0,0,1,0,2),Vr.bind(void 0,0,0,1,0,3),Vr.bind(void 0,0,0,1,1,0),Vr.bind(void 0,0,0,1,1,1),Vr.bind(void 0,0,0,1,1,2),Vr.bind(void 0,0,0,1,1,3),Vr.bind(void 0,0,1,0,0,0),Vr.bind(void 0,0,1,0,0,1),Vr.bind(void 0,0,1,0,0,2),Vr.bind(void 0,0,1,0,0,3),Vr.bind(void 0,0,1,0,1,0),Vr.bind(void 0,0,1,0,1,1),Vr.bind(void 0,0,1,0,1,2),Vr.bind(void 0,0,1,0,1,3),Vr.bind(void 0,0,1,1,0,0),Vr.bind(void 0,0,1,1,0,1),Vr.bind(void 0,0,1,1,0,2),Vr.bind(void 0,0,1,1,0,3),Vr.bind(void 0,0,1,1,1,0),Vr.bind(void 0,0,1,1,1,1),Vr.bind(void 0,0,1,1,1,2),Vr.bind(void 0,0,1,1,1,3),Vr.bind(void 0,1,0,0,0,0),Vr.bind(void 0,1,0,0,0,1),Vr.bind(void 0,1,0,0,0,2),Vr.bind(void 0,1,0,0,0,3),Vr.bind(void 0,1,0,0,1,0),Vr.bind(void 0,1,0,0,1,1),Vr.bind(void 0,1,0,0,1,2),Vr.bind(void 0,1,0,0,1,3),Vr.bind(void 0,1,0,1,0,0),Vr.bind(void 0,1,0,1,0,1),Vr.bind(void 0,1,0,1,0,2),Vr.bind(void 0,1,0,1,0,3),Vr.bind(void 0,1,0,1,1,0),Vr.bind(void 0,1,0,1,1,1),Vr.bind(void 0,1,0,1,1,2),Vr.bind(void 0,1,0,1,1,3),Vr.bind(void 0,1,1,0,0,0),Vr.bind(void 0,1,1,0,0,1),Vr.bind(void 0,1,1,0,0,2),Vr.bind(void 0,1,1,0,0,3),Vr.bind(void 0,1,1,0,1,0),Vr.bind(void 0,1,1,0,1,1),Vr.bind(void 0,1,1,0,1,2),Vr.bind(void 0,1,1,0,1,3),Vr.bind(void 0,1,1,1,0,0),Vr.bind(void 0,1,1,1,0,1),Vr.bind(void 0,1,1,1,0,2),Vr.bind(void 0,1,1,1,0,3),Vr.bind(void 0,1,1,1,1,0),Vr.bind(void 0,1,1,1,1,1),Vr.bind(void 0,1,1,1,1,2),Vr.bind(void 0,1,1,1,1,3)],bs=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function xn(S){(S=S||{}).empty||(ye(S.familyName,"When creating a new Font object, familyName is required."),ye(S.styleName,"When creating a new Font object, styleName is required."),ye(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ye(S.ascender,"When creating a new Font object, ascender is required."),ye(S.descender,"When creating a new Font object, descender is required."),ye(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ut.GlyphSet(this,S.glyphs||[]),this.encoding=new zt(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Fn(this):void 0)}})}xn.prototype.hasChar=function(S){return null!==this.encoding.charToGlyphIndex(S)},xn.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},xn.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},xn.prototype.stringToGlyphs=function(S,F){F=F||this.defaultRenderOptions;for(var q=bs(S),re=[],fe=0;fe<q.length;fe+=1)re.push(this.charToGlyphIndex(q[fe]));var Re=re.length;if(F.features){S=F.script||this.substitution.getDefaultScriptName();var Qe=[];F.features.liga&&(Qe=Qe.concat(this.substitution.getFeature("liga",S,F.language))),F.features.rlig&&(Qe=Qe.concat(this.substitution.getFeature("rlig",S,F.language)));for(var bt=0;bt<Re;bt+=1)for(var gt=0;gt<Qe.length;gt++){for(var Wt=Qe[gt],ve=Wt.sub,ae=ve.length,be=0;be<ae&&ve[be]===re[bt+be];)be++;be===ae&&(re.splice(bt,ae,Wt.by),Re=Re-ae+1)}}for(var ge=new Array(Re),Be=this.glyphs.get(0),Ft=0;Ft<Re;Ft+=1)ge[Ft]=this.glyphs.get(re[Ft])||Be;return ge},xn.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},xn.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},xn.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},xn.prototype.getKerningValue=function(S,F){S=S.index||S,F=F.index||F;var q=this.position.defaultKerningTables;return q?this.position.getKerningValue(q,S,F):this.kerningPairs[S+","+F]||0},xn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},xn.prototype.forEachGlyph=function(S,F,q,re,fe,Te){F=void 0!==F?F:0,q=void 0!==q?q:0;var Re,Qe=1/this.unitsPerEm*(re=void 0!==re?re:72),bt=this.stringToGlyphs(S,fe=fe||this.defaultRenderOptions);fe.kerning&&(S=fe.script||this.position.getDefaultScriptName(),Re=this.position.getKerningTables(S,fe.language));for(var gt=0;gt<bt.length;gt+=1){var Wt=bt[gt];Te.call(this,Wt,F,q,re,fe),Wt.advanceWidth&&(F+=Wt.advanceWidth*Qe),fe.kerning&&gt<bt.length-1&&(F+=(Re?this.position.getKerningValue(Re,Wt.index,bt[gt+1].index):this.getKerningValue(Wt,bt[gt+1]))*Qe),fe.letterSpacing?F+=fe.letterSpacing*re:fe.tracking&&(F+=fe.tracking/1e3*re)}return F},xn.prototype.getPath=function(S,F,q,re,fe){var Te=new le;return this.forEachGlyph(S,F,q,re,fe,function(Re,Qe,bt,gt){Re=Re.getPath(Qe,bt,gt,fe,this),Te.extend(Re)}),Te},xn.prototype.getPaths=function(S,F,q,re,fe){var Te=[];return this.forEachGlyph(S,F,q,re,fe,function(Re,Qe,bt,gt){Re=Re.getPath(Qe,bt,gt,fe,this),Te.push(Re)}),Te},xn.prototype.getAdvanceWidth=function(S,F,q){return this.forEachGlyph(S,0,0,F,q,function(){})},xn.prototype.draw=function(S,F,q,re,fe,Te){this.getPath(F,q,re,fe,Te).draw(S)},xn.prototype.drawPoints=function(S,F,q,re,fe,Te){this.forEachGlyph(F,q,re,fe,Te,function(Re,Qe,bt,gt){Re.drawPoints(S,Qe,bt,gt)})},xn.prototype.drawMetrics=function(S,F,q,re,fe,Te){this.forEachGlyph(F,q,re,fe,Te,function(Re,Qe,bt,gt){Re.drawMetrics(S,Qe,bt,gt)})},xn.prototype.getEnglishName=function(S){if(S=this.names[S])return S.en},xn.prototype.validate=function(){var S=this;function F(q){(q=S.getEnglishName(q))&&q.trim()}F("fontFamily"),F("weightName"),F("manufacturer"),F("copyright"),F("version")},xn.prototype.toTables=function(){return wo_fontToTable(this)},xn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},xn.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),F=new ArrayBuffer(S.length),q=new Uint8Array(F),re=0;re<S.length;re++)q[re]=S[re];return F},xn.prototype.download=function(S){var F=this.getEnglishName("fontFamily"),q=this.getEnglishName("fontSubfamily"),re=(S=S||F.replace(/\s/g,"")+"-"+q+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,re.byteLength,function(fe){fe.root.getFile(S,{create:!0},function(Te){Te.createWriter(function(Re){var Qe=new DataView(re);Qe=new Blob([Qe],{type:"font/opentype"}),Re.write(Qe),Re.addEventListener("writeend",function(){location.href=Te.toURL()},!1)})})},function(fe){throw new Error(fe.name+": "+fe.message)})):(F=o("fs"),q=function(fe){for(var Te=new v(fe.byteLength),Re=new Uint8Array(fe),Qe=0;Qe<Te.length;++Qe)Te[Qe]=Re[Qe];return Te}(re),F.writeFileSync(S,q))},xn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},xn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},xn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ii_parse=function(S,F,q){for(var re,Te,Re,Qe=new Gt.Parser(S,F),bt=Qe.parseULong(),gt=(O.argument(65536===bt,"Unsupported fvar table version."),Qe.parseOffset16()),Wt=(Qe.skip("uShort",1),Qe.parseUShort()),ve=Qe.parseUShort(),ae=Qe.parseUShort(),be=Qe.parseUShort(),ge=[],Be=0;Be<Wt;Be++)ge.push((Te=q,Re={},re=new Gt.Parser(re=S,F+gt+Be*ve),Re.tag=re.parseTag(),Re.minValue=re.parseFixed(),Re.defaultValue=re.parseFixed(),Re.maxValue=re.parseFixed(),re.skip("uShort",1),Re.name=Te[re.parseUShort()]||{},Re));for(var Ft=[],Ht=F+gt+Wt*ve,nr=0;nr<ae;nr++)Ft.push(function(Br,Lr,zr,Wr){var Qr={},vn=new Gt.Parser(Br,Lr);Qr.name=Wr[vn.parseUShort()]||{},vn.skip("uShort",1),Qr.coordinates={};for(var qn=0;qn<zr.length;++qn)Qr.coordinates[zr[qn].tag]=vn.parseFixed();return Qr}(S,Ht+nr*be,ge,q));return{axes:ge,instances:Ft}},Mo=new Array(10);Mo[1]=function(){var S=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{posFormat:1,coverage:this.parsePointer(Ct.coverage),value:this.parseValueRecord()}:2===F?{posFormat:2,coverage:this.parsePointer(Ct.coverage),values:this.parseValueRecordList()}:void O.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var S,F,q,re,Te=this.offset+this.relativeOffset,fe=this.parseUShort(),Re=(O.assert(1===fe||2===fe,"0x"+Te.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Te=this.parsePointer(Ct.coverage),this.parseUShort()),Qe=this.parseUShort();return 1===fe?{posFormat:fe,coverage:Te,valueFormat1:Re,valueFormat2:Qe,pairSets:this.parseList(Ct.pointer(Ct.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Re),value2:this.parseValueRecord(Qe)}})))}:2===fe?(S=this.parsePointer(Ct.classDef),F=this.parsePointer(Ct.classDef),q=this.parseUShort(),re=this.parseUShort(),{posFormat:fe,coverage:Te,valueFormat1:Re,valueFormat2:Qe,classDef1:S,classDef2:F,class1Count:q,class2Count:re,classRecords:this.parseList(q,Ct.list(re,function(){return{value1:this.parseValueRecord(Re),value2:this.parseValueRecord(Qe)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Rs_parse=function(S,F){return F=(S=new Ct(S,F=F||0)).parseVersion(1),O.argument(1===F||1.1===F,"Unsupported GPOS table version "+F),1===F?{version:F,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Mo)}:{version:F,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Mo),variations:S.parseFeatureVariationsList()}},Xn_parse=function(S,F){if(0===(F=(S=new Gt.Parser(S,F)).parseUShort())){var q=S,re={},ve=(q.skip("uShort"),q.parseUShort()),fe=(O.argument(0===ve,"Unsupported kern sub-table version."),q.skip("uShort",2),q.parseUShort());q.skip("uShort",3);for(var Te=0;Te<fe;Te+=1){var Re=q.parseUShort(),Qe=q.parseUShort(),bt=q.parseShort();re[Re+","+Qe]=bt}return re}if(1!==F)throw new Error("Unsupported kern table version ("+F+").");var gt=S,Wt={};if(gt.skip("uShort"),1<gt.parseULong()&&console.warn("Only the first kern subtable is supported."),gt.skip("uLong"),ve=255&gt.parseUShort(),gt.skip("uShort"),0==ve){var ae=gt.parseUShort();gt.skip("uShort",3);for(var be=0;be<ae;be+=1){var ge=gt.parseUShort(),Be=gt.parseUShort(),Ft=gt.parseShort();Wt[ge+","+Be]=Ft}}return Wt},ks_parse=function(S,F,q,re){for(var fe=new Gt.Parser(S,F),Te=re?fe.parseUShort:fe.parseULong,Re=[],Qe=0;Qe<q+1;Qe+=1){var bt=Te.call(fe);re&&(bt*=2),Re.push(bt)}return Re};function _s(S,F){o("fs").readFile(S,function(q,re){if(q)return F(q.message);F(null,vs(re))})}function ws(S,F){var q=new XMLHttpRequest;q.open("get",S,!0),q.responseType="arraybuffer",q.onload=function(){return q.response?F(null,q.response):F("Font could not be loaded: "+q.statusText)},q.onerror=function(){F("Font could not be loaded")},q.send()}function Gs(S,F){for(var q=[],re=12,fe=0;fe<F;fe+=1){var Te=Gt.getTag(S,re),Re=Gt.getULong(S,re+4),Qe=Gt.getULong(S,re+8),bt=Gt.getULong(S,re+12);q.push({tag:Te,checksum:Re,offset:Qe,length:bt,compression:!1}),re+=16}return q}function Hr(q,F){if("WOFF"!==F.compression)return{data:q,offset:F.offset};q=new Uint8Array(q.buffer,F.offset+2,F.compressedLength-2);var re=new Uint8Array(F.length);if(W(q,re),re.byteLength!==F.length)throw new Error("Decompression error: "+F.tag+" decompressed length doesn't match recorded length");return{data:new DataView(re.buffer,0),offset:0}}function Ho(nr){var F,q,re,fe,Te,Re,Qe,bt,gt,Wt,ve,ae,be,ge,Be=new xn({empty:!0}),Ft=new DataView(nr,0),Ht=[];if("\0\x01\0\0"===(nr=Gt.getTag(Ft,0))||"true"===nr||"typ1"===nr)Be.outlinesFormat="truetype",Ht=Gs(Ft,re=Gt.getUShort(Ft,4));else if("OTTO"===nr)Be.outlinesFormat="cff",Ht=Gs(Ft,re=Gt.getUShort(Ft,4));else{if("wOFF"!==nr)throw new Error("Unsupported OpenType signature "+nr);if("\0\x01\0\0"===(Br=Gt.getTag(Ft,4)))Be.outlinesFormat="truetype";else{if("OTTO"!==Br)throw new Error("Unsupported OpenType flavor "+nr);Be.outlinesFormat="cff"}Ht=function(Mn,$r){for(var $n=[],Vn=44,lo=0;lo<$r;lo+=1){var Rn=Gt.getTag(Mn,Vn),uo=Gt.getULong(Mn,Vn+4),rs=Gt.getULong(Mn,Vn+8),ni=Gt.getULong(Mn,Vn+12);$n.push({tag:Rn,offset:uo,compression:rs<ni&&"WOFF",compressedLength:rs,length:ni}),Vn+=20}return $n}(Ft,re=Gt.getUShort(Ft,12))}for(var Lr=0;Lr<re;Lr+=1){var zr=Ht[Lr],Wr=void 0;switch(zr.tag){case"cmap":Wr=Hr(Ft,zr),Be.tables.cmap=$e_parse(Wr.data,Wr.offset),Be.encoding=new $t(Be.tables.cmap);break;case"cvt ":Wr=Hr(Ft,zr),ge=new Gt.Parser(Wr.data,Wr.offset),Be.tables.cvt=ge.parseShortList(zr.length/2);break;case"fvar":Te=zr;break;case"fpgm":Wr=Hr(Ft,zr),ge=new Gt.Parser(Wr.data,Wr.offset),Be.tables.fpgm=ge.parseByteList(zr.length);break;case"head":Wr=Hr(Ft,zr),Be.tables.head=U_parse(Wr.data,Wr.offset),Be.unitsPerEm=Be.tables.head.unitsPerEm,F=Be.tables.head.indexToLocFormat;break;case"hhea":Wr=Hr(Ft,zr),Be.tables.hhea=D_parse(Wr.data,Wr.offset),Be.ascender=Be.tables.hhea.ascender,Be.descender=Be.tables.hhea.descender,Be.numberOfHMetrics=Be.tables.hhea.numberOfHMetrics;break;case"hmtx":gt=zr;break;case"ltag":Wr=Hr(Ft,zr),q=V_parse(Wr.data,Wr.offset);break;case"maxp":Wr=Hr(Ft,zr),Be.tables.maxp=ne_parse(Wr.data,Wr.offset),Be.numGlyphs=Be.tables.maxp.numGlyphs;break;case"name":ae=zr;break;case"OS/2":Wr=Hr(Ft,zr),Be.tables.os2=Pr_parse(Wr.data,Wr.offset);break;case"post":Wr=Hr(Ft,zr),Be.tables.post=sn_parse(Wr.data,Wr.offset),Be.glyphNames=new Mt(Be.tables.post);break;case"prep":Wr=Hr(Ft,zr),ge=new Gt.Parser(Wr.data,Wr.offset),Be.tables.prep=ge.parseByteList(zr.length);break;case"glyf":Re=zr;break;case"loca":ve=zr;break;case"CFF ":fe=zr;break;case"kern":Wt=zr;break;case"GPOS":Qe=zr;break;case"GSUB":bt=zr;break;case"meta":be=zr}}if(Br=Hr(Ft,ae),Be.tables.name=ur_parse(Br.data,Br.offset,q),Be.names=Be.tables.name,Re&&ve)nr=0===F,Br=Hr(Ft,ve),Br=ks_parse(Br.data,Br.offset,Be.numGlyphs,nr),nr=Hr(Ft,Re),Be.glyphs=hn.parse(nr.data,nr.offset,Br,Be);else{if(!fe)throw new Error("Font doesn't contain TrueType or CFF outlines.");nr=Hr(Ft,fe),I_parse(nr.data,nr.offset,Be)}for(var Br=Hr(Ft,gt),Qr=(J_parse(Br.data,Br.offset,Be.numberOfHMetrics,Be.numGlyphs,Be.glyphs),Be),vn=Qr.tables.cmap.glyphIndexMap,qn=Object.keys(vn),to=0;to<qn.length;to+=1){var so,Kn=qn[to];(so=Qr.glyphs.get(vn[Kn])).addUnicode(parseInt(Kn))}for(var Tn=0;Tn<Qr.glyphs.length;Tn+=1)so=Qr.glyphs.get(Tn),Qr.cffEncoding?so.name=Qr.isCIDFont?"gid"+Tn:Qr.cffEncoding.charset[Tn]:Qr.glyphNames.names&&(so.name=Qr.glyphNames.glyphIndexToName(Tn));return Wt?(nr=Hr(Ft,Wt),Be.kerningPairs=Xn_parse(nr.data,nr.offset)):Be.kerningPairs={},Qe&&(Br=Hr(Ft,Qe),Be.tables.gpos=Rs_parse(Br.data,Br.offset),Be.position.init()),bt&&(nr=Hr(Ft,bt),Be.tables.gsub=Kr_parse(nr.data,nr.offset)),Te&&(Br=Hr(Ft,Te),Be.tables.fvar=Ii_parse(Br.data,Br.offset,Be.names)),be&&(nr=Hr(Ft,be),Be.tables.meta=yn_parse(nr.data,nr.offset),Be.metas=Be.tables.meta),Be}m.Font=xn,m.Glyph=tr,m.Path=le,m.BoundingBox=Y,m._parse=Gt,m.parse=Ho,m.load=function(S,F){(typeof window>"u"?_s:ws)(S,function(q,re){if(q)return F(q);var fe;try{fe=Ho(re)}catch(Te){return F(Te,null)}return F(null,fe)})},m.loadSync=function(S){return Ho(vs(o("fs").readFileSync(S)))},Object.defineProperty(m,"__esModule",{value:!0})},f("object"==typeof $&&void 0!==ie?$:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,ie,$){(function(v){function b(w,_){for(var i=0,a=w.length-1;0<=a;a--){var l=w[a];"."===l?w.splice(a,1):".."===l?(w.splice(a,1),i++):i&&(w.splice(a,1),i--)}if(_)for(;i--;)w.unshift("..");return w}function f(w,_){if(w.filter)return w.filter(_);for(var i=[],a=0;a<w.length;a++)_(w[a],a,w)&&i.push(w[a]);return i}$.resolve=function(){for(var w="",_=!1,i=arguments.length-1;-1<=i&&!_;i--){var a=0<=i?arguments[i]:v.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(w=a+"/"+w,_="/"===a.charAt(0))}return(_?"/":"")+(w=b(f(w.split("/"),function(l){return!!l}),!_).join("/"))||"."},$.normalize=function(w){var _=$.isAbsolute(w),i="/"===m(w,-1);return(w=(w=b(f(w.split("/"),function(a){return!!a}),!_).join("/"))||_?w:".")&&i&&(w+="/"),(_?"/":"")+w},$.isAbsolute=function(w){return"/"===w.charAt(0)},$.join=function(){var w=Array.prototype.slice.call(arguments,0);return $.normalize(f(w,function(_,i){if("string"!=typeof _)throw new TypeError("Arguments to path.join must be strings");return _}).join("/"))},$.relative=function(w,_){function i(p){for(var y=0;y<p.length&&""===p[y];y++);for(var C=p.length-1;0<=C&&""===p[C];C--);return C<y?[]:p.slice(y,C-y+1)}w=$.resolve(w).substr(1),_=$.resolve(_).substr(1);for(var a=i(w.split("/")),l=i(_.split("/")),u=Math.min(a.length,l.length),d=u,h=0;h<u;h++)if(a[h]!==l[h]){d=h;break}var g=[];for(h=d;h<a.length;h++)g.push("..");return(g=g.concat(l.slice(d))).join("/")},$.sep="/",$.delimiter=":",$.dirname=function(w){if("string"!=typeof w&&(w+=""),0===w.length)return".";for(var _=47===w.charCodeAt(0),i=-1,a=!0,l=w.length-1;1<=l;--l)if(47===w.charCodeAt(l)){if(!a){i=l;break}}else a=!1;return-1===i?_?"/":".":_&&1===i?"/":w.slice(0,i)},$.basename=function(w,_){return w=function(i){"string"!=typeof i&&(i+="");for(var a=0,l=-1,u=!0,d=i.length-1;0<=d;--d)if(47===i.charCodeAt(d)){if(!u){a=d+1;break}}else-1===l&&(u=!1,l=d+1);return-1===l?"":i.slice(a,l)}(w),_&&w.substr(-1*_.length)===_?w.substr(0,w.length-_.length):w},$.extname=function(w){"string"!=typeof w&&(w+="");for(var _=-1,i=0,a=-1,l=!0,u=0,d=w.length-1;0<=d;--d){var h=w.charCodeAt(d);if(47===h){if(l)continue;i=d+1;break}-1===a&&(l=!1,a=d+1),46===h?-1===_?_=d:1!==u&&(u=1):-1!==_&&(u=-1)}return-1===_||-1===a||0===u||1===u&&_===a-1&&_===i+1?"":w.slice(_,a)};var m=function(w,_,i){return w.substr(_,i)}}).call(this,o("_process"))},{_process:259}],259:[function(o,f,$){var v,b;function m(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}f=f.exports={};try{v="function"==typeof setTimeout?setTimeout:m}catch{v=m}try{b="function"==typeof clearTimeout?clearTimeout:w}catch{b=w}function _(y){if(v===setTimeout)return setTimeout(y,0);if((v===m||!v)&&setTimeout)return(v=setTimeout)(y,0);try{return v(y,0)}catch{try{return v.call(null,y,0)}catch{return v.call(this,y,0)}}}var i,a=[],l=!1,u=-1;function d(){l&&i&&(l=!1,i.length?a=i.concat(a):u=-1,a.length&&h())}function h(){if(!l){for(var y=_(d),C=(l=!0,a.length);C;){for(i=a,a=[];++u<C;)i&&i[u].run();u=-1,C=a.length}i=null,l=!1,function(H){if(b===clearTimeout)return clearTimeout(H);if((b===w||!b)&&clearTimeout)return(b=clearTimeout)(H);try{b(H)}catch{try{return b.call(null,H)}catch{return b.call(this,H)}}}(y)}}function g(y,C){this.fun=y,this.array=C}function p(){}f.nextTick=function(y){var C=new Array(arguments.length-1);if(1<arguments.length)for(var H=1;H<arguments.length;H++)C[H-1]=arguments[H];a.push(new g(y,C)),1!==a.length||l||_(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(y){return[]},f.binding=function(y){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(y){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],260:[function(o,ie,$){ie=function(v){"use strict";var b,f=Object.prototype,m=f.hasOwnProperty,w=(B="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",_=B.asyncIterator||"@@asyncIterator",i=B.toStringTag||"@@toStringTag";function a(te,oe,G,me){var le,Me,K,O;return oe=oe&&oe.prototype instanceof y?oe:y,oe=Object.create(oe.prototype),me=new Z(me||[]),oe._invoke=(le=te,Me=G,K=me,O=u,function(Se,Ue){if(O===h)throw new Error("Generator is already running");if(O===g){if("throw"===Se)throw Ue;return z()}for(K.method=Se,K.arg=Ue;;){var Xe=K.delegate;if(Xe&&(Xe=function lt(ze,st){var at=ze.iterator[st.method];if(at===b){if(st.delegate=null,"throw"===st.method){if(ze.iterator.return&&(st.method="return",st.arg=b,lt(ze,st),"throw"===st.method))return p;st.method="throw",st.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(at=l(at,ze.iterator,st.arg)).type?(st.method="throw",st.arg=at.arg,st.delegate=null,p):(at=at.arg)?at.done?(st[ze.resultName]=at.value,st.next=ze.nextLoc,"return"!==st.method&&(st.method="next",st.arg=b),st.delegate=null,p):at:(st.method="throw",st.arg=new TypeError("iterator result is not an object"),st.delegate=null,p)}(Xe,K))){if(Xe===p)continue;return Xe}if("next"===K.method)K.sent=K._sent=K.arg;else if("throw"===K.method){if(O===u)throw O=g,K.arg;K.dispatchException(K.arg)}else"return"===K.method&&K.abrupt("return",K.arg);if(O=h,"normal"===(Xe=l(le,Me,K)).type){if(O=K.done?g:d,Xe.arg!==p)return{value:Xe.arg,done:K.done}}else"throw"===Xe.type&&(O=g,K.method="throw",K.arg=Xe.arg)}}),oe}function l(te,W,G){try{return{type:"normal",arg:te.call(W,G)}}catch(Y){return{type:"throw",arg:Y}}}v.wrap=a;var u="suspendedStart",d="suspendedYield",h="executing",g="completed",p={};function y(){}function C(){}function H(){}var B,R,P=((B={})[w]=function(){return this},(R=(R=Object.getPrototypeOf)&&R(R(ee([]))))&&R!==f&&m.call(R,w)&&(B=R),H.prototype=y.prototype=Object.create(B));function k(te){["next","throw","return"].forEach(function(W){te[W]=function(G){return this._invoke(W,G)}})}function T(te){var W;this._invoke=function(G,Y){function le(){return new Promise(function(Me,K){!function O(lt,me,Se,Ue){var Xe;if("throw"!==(lt=l(te[lt],te,me)).type)return(me=(Xe=lt.arg).value)&&"object"==typeof me&&m.call(me,"__await")?Promise.resolve(me.__await).then(function(ze){O("next",ze,Se,Ue)},function(ze){O("throw",ze,Se,Ue)}):Promise.resolve(me).then(function(ze){Xe.value=ze,Se(Xe)},function(ze){return O("throw",ze,Se,Ue)});Ue(lt.arg)}(G,Y,Me,K)})}return W=W?W.then(le,le):le()}}function N(te){var W={tryLoc:te[0]};1 in te&&(W.catchLoc=te[1]),2 in te&&(W.finallyLoc=te[2],W.afterLoc=te[3]),this.tryEntries.push(W)}function j(te){var W=te.completion||{};W.type="normal",delete W.arg,te.completion=W}function Z(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(N,this),this.reset(!0)}function ee(te){if(te){var W,G=te[w];if(G)return G.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length))return W=-1,(G=function Y(){for(;++W<te.length;)if(m.call(te,W))return Y.value=te[W],Y.done=!1,Y;return Y.value=b,Y.done=!0,Y}).next=G}return{next:z}}function z(){return{value:b,done:!0}}return(C.prototype=P.constructor=H).constructor=C,H[i]=C.displayName="GeneratorFunction",v.isGeneratorFunction=function(te){return!!(te="function"==typeof te&&te.constructor)&&(te===C||"GeneratorFunction"===(te.displayName||te.name))},v.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,H):(te.__proto__=H,i in te||(te[i]="GeneratorFunction")),te.prototype=Object.create(P),te},v.awrap=function(te){return{__await:te}},k(T.prototype),T.prototype[_]=function(){return this},v.AsyncIterator=T,v.async=function(te,W,G,Y){var le=new T(a(te,W,G,Y));return v.isGeneratorFunction(W)?le:le.next().then(function(Me){return Me.done?Me.value:le.next()})},k(P),P[i]="Generator",P[w]=function(){return this},P.toString=function(){return"[object Generator]"},v.keys=function(te){var W,G=[];for(W in te)G.push(W);return G.reverse(),function Y(){for(;G.length;){var le=G.pop();if(le in te)return Y.value=le,Y.done=!1,Y}return Y.done=!0,Y}},v.values=ee,Z.prototype={constructor:Z,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(j),!te)for(var W in this)"t"===W.charAt(0)&&m.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=b)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if("throw"===te.type)throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var W=this;function G(oe,me){return Me.type="throw",Me.arg=te,W.next=oe,me&&(W.method="next",W.arg=b),!!me}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var le=this.tryEntries[Y],Me=le.completion;if("root"===le.tryLoc)return G("end");if(le.tryLoc<=this.prev){var K=m.call(le,"catchLoc"),O=m.call(le,"finallyLoc");if(K&&O){if(this.prev<le.catchLoc)return G(le.catchLoc,!0);if(this.prev<le.finallyLoc)return G(le.finallyLoc)}else if(K){if(this.prev<le.catchLoc)return G(le.catchLoc,!0)}else{if(!O)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return G(le.finallyLoc)}}}},abrupt:function(te,W){for(var G=this.tryEntries.length-1;0<=G;--G){var Y=this.tryEntries[G];if(Y.tryLoc<=this.prev&&m.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var le=Y;break}}var Me=(le=le&&("break"===te||"continue"===te)&&le.tryLoc<=W&&W<=le.finallyLoc?null:le)?le.completion:{};return Me.type=te,Me.arg=W,le?(this.method="next",this.next=le.finallyLoc,p):this.complete(Me)},complete:function(te,W){if("throw"===te.type)throw te.arg;return"break"===te.type||"continue"===te.type?this.next=te.arg:"return"===te.type?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):"normal"===te.type&&W&&(this.next=W),p},finish:function(te){for(var W=this.tryEntries.length-1;0<=W;--W){var G=this.tryEntries[W];if(G.finallyLoc===te)return this.complete(G.completion,G.afterLoc),j(G),p}},catch:function(te){for(var W=this.tryEntries.length-1;0<=W;--W){var G,Y,le=this.tryEntries[W];if(le.tryLoc===te)return"throw"===(G=le.completion).type&&(Y=G.arg,j(le)),Y}throw new Error("illegal catch attempt")},delegateYield:function(te,W,G){return this.delegate={iterator:ee(te),resultName:W,nextLoc:G},"next"===this.method&&(this.arg=b),p}},v}("object"==typeof ie?ie.exports:{});try{regeneratorRuntime=ie}catch{Function("r","regeneratorRuntime = r")(ie)}},{}],261:[function(o,ie,$){!function(v){"use strict";var b,f,m,w,_,i,a,l,u,d;function h(j){if("string"!=typeof j&&(j=String(j)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(j))throw new TypeError("Invalid character in header field name");return j.toLowerCase()}function g(j){return"string"!=typeof j?String(j):j}function p(j){var Z={next:function(){var ee=j.shift();return{done:void 0===ee,value:ee}}};return f&&(Z[Symbol.iterator]=function(){return Z}),Z}function y(j){this.map={},j instanceof y?j.forEach(function(Z,ee){this.append(ee,Z)},this):Array.isArray(j)?j.forEach(function(Z){this.append(Z[0],Z[1])},this):j&&Object.getOwnPropertyNames(j).forEach(function(Z){this.append(Z,j[Z])},this)}function C(j){if(j.bodyUsed)return Promise.reject(new TypeError("Already read"));j.bodyUsed=!0}function H(j){return new Promise(function(Z,ee){j.onload=function(){Z(j.result)},j.onerror=function(){ee(j.error)}})}function B(j){var Z=new FileReader,ee=H(Z);return Z.readAsArrayBuffer(j),ee}function R(j){var Z;return j.slice?j.slice(0):((Z=new Uint8Array(j.byteLength)).set(new Uint8Array(j)),Z.buffer)}function P(){return this.bodyUsed=!1,this._initBody=function(j){if(this._bodyInit=j)if("string"==typeof j)this._bodyText=j;else if(m&&Blob.prototype.isPrototypeOf(j))this._bodyBlob=j;else if(w&&FormData.prototype.isPrototypeOf(j))this._bodyFormData=j;else if(b&&URLSearchParams.prototype.isPrototypeOf(j))this._bodyText=j.toString();else if(_&&m&&a(j))this._bodyArrayBuffer=R(j.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_||!ArrayBuffer.prototype.isPrototypeOf(j)&&!l(j))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=R(j)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof j?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(j)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m&&(this.blob=function(){var j=C(this);if(j)return j;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(B)}),this.text=function(){var j,Z,ee=C(this);if(ee)return ee;if(this._bodyBlob)return ee=this._bodyBlob,Z=H(j=new FileReader),j.readAsText(ee),Z;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var te=new Uint8Array(z),W=new Array(te.length),G=0;G<te.length;G++)W[G]=String.fromCharCode(te[G]);return W.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},w&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(j,Z){var ee,z=(Z=Z||{}).body;if(j instanceof k){if(j.bodyUsed)throw new TypeError("Already read");this.url=j.url,this.credentials=j.credentials,Z.headers||(this.headers=new y(j.headers)),this.method=j.method,this.mode=j.mode,z||null==j._bodyInit||(z=j._bodyInit,j.bodyUsed=!0)}else this.url=String(j);if(this.credentials=Z.credentials||this.credentials||"omit",!Z.headers&&this.headers||(this.headers=new y(Z.headers)),this.method=(ee=(j=Z.method||this.method||"GET").toUpperCase(),-1<u.indexOf(ee)?ee:j),this.mode=Z.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function T(j){var Z=new FormData;return j.trim().split("&").forEach(function(ee){var z;ee&&(z=(ee=ee.split("=")).shift().replace(/\+/g," "),ee=ee.join("=").replace(/\+/g," "),Z.append(decodeURIComponent(z),decodeURIComponent(ee)))}),Z}function N(j,Z){Z=Z||{},this.type="default",this.status=void 0===Z.status?200:Z.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in Z?Z.statusText:"OK",this.headers=new y(Z.headers),this.url=Z.url||"",this._initBody(j)}v.fetch||(b="URLSearchParams"in v,f="Symbol"in v&&"iterator"in Symbol,m="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),w="FormData"in v,(_="ArrayBuffer"in v)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(j){return j&&DataView.prototype.isPrototypeOf(j)},l=ArrayBuffer.isView||function(j){return j&&-1<i.indexOf(Object.prototype.toString.call(j))}),y.prototype.append=function(j,Z){j=h(j),Z=g(Z);var ee=this.map[j];this.map[j]=ee?ee+","+Z:Z},y.prototype.delete=function(j){delete this.map[h(j)]},y.prototype.get=function(j){return j=h(j),this.has(j)?this.map[j]:null},y.prototype.has=function(j){return this.map.hasOwnProperty(h(j))},y.prototype.set=function(j,Z){this.map[h(j)]=g(Z)},y.prototype.forEach=function(j,Z){for(var ee in this.map)this.map.hasOwnProperty(ee)&&j.call(Z,this.map[ee],ee,this)},y.prototype.keys=function(){var j=[];return this.forEach(function(Z,ee){j.push(ee)}),p(j)},y.prototype.values=function(){var j=[];return this.forEach(function(Z){j.push(Z)}),p(j)},y.prototype.entries=function(){var j=[];return this.forEach(function(Z,ee){j.push([ee,Z])}),p(j)},f&&(y.prototype[Symbol.iterator]=y.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},P.call(k.prototype),P.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},N.error=function(){var j=new N(null,{status:0,statusText:""});return j.type="error",j},d=[301,302,303,307,308],N.redirect=function(j,Z){if(-1===d.indexOf(Z))throw new RangeError("Invalid status code");return new N(null,{status:Z,headers:{location:j}})},v.Headers=y,v.Request=k,v.Response=N,v.fetch=function(j,Z){return new Promise(function(ee,z){var te=new k(j,Z),W=new XMLHttpRequest;W.onload=function(){var G,Y={status:W.status,statusText:W.statusText,headers:(Y=W.getAllResponseHeaders()||"",G=new y,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(K){var O=(K=K.split(":")).shift().trim();O&&(K=K.join(":").trim(),G.append(O,K))}),G)},le=(Y.url="responseURL"in W?W.responseURL:Y.headers.get("X-Request-URL"),"response"in W?W.response:W.responseText);ee(new N(le,Y))},W.onerror=function(){z(new TypeError("Network request failed"))},W.ontimeout=function(){z(new TypeError("Network request failed"))},W.open(te.method,te.url,!0),"include"===te.credentials?W.withCredentials=!0:"omit"===te.credentials&&(W.withCredentials=!1),"responseType"in W&&m&&(W.responseType="blob"),te.headers.forEach(function(G,Y){W.setRequestHeader(Y,G)}),W.send(void 0===te._bodyInit?null:te._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,ie,$){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v,b=m(o("../core/main")),f=m(o("../color/color_conversion"));function m(i){return i&&i.__esModule?i:{default:i}}var w=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],_=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(u){u=f.default._rgbaToHSBA(u);var a,l,d=[(v=u)[0],u[1],u[2]];0!==d[0]&&(d[0]=Math.round(100*d[0]),(u=d[0].toString().split(""))[l=u.length-1]=parseInt(u[l]),u[l]<2.5?u[l]=0:2.5<=u[l]&&u[l]<7.5&&(u[l]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[l]&&(u[l]=0,u[0]=u[0]+1),d[0]=10*u[0]+u[1]):d[0]=7.5<=u[l]?10:u[l]),d[2]=d[2]/255;for(var h=d.length-1;1<=h;h--)d[h]=d[h]<=.25?0:.25<d[h]&&d[h]<.75?.5:1;if(0===d[0]&&0===d[1]&&1===d[2]){for(var g=2;0<=g;g--)v[g]=Math.round(1e4*v[g])/1e4;for(var p=0;p<w.length;p++){if(w[p].h===v[0]&&w[p].s===v[1]&&w[p].b===v[2]){a=w[p].name;break}a="white"}}else for(var y=0;y<_.length;y++)if(_[y].h===d[0]&&_[y].s===d[1]&&_[y].b===d[2]){a=_[y].name;break}return a},$.default=o=b.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},b="_Description",f="_fallbackDesc",m="_fallbackTable",w="_Label",_="_labelDesc",i="_labelTable";function a(l){if("label"===l||"fallback"===l)throw new Error("description should not be LABEL or FALLBACK");return l.endsWith(".")||l.endsWith(";")||l.endsWith(",")||l.endsWith("?")||l.endsWith("!")||(l+="."),l}v.default.prototype.describe=function(l,u){var d;v.default._validateParameters("describe",arguments),"string"==typeof l&&(d=this.canvas.id,l=a(l),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==l&&(this.descriptions.fallback.innerHTML=l):this._describeHTML("fallback",l),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==l&&(this.descriptions.label.innerHTML=l):this._describeHTML("label",l)))},v.default.prototype.describeElement=function(l,u,d){var h,g;v.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof l&&(h=this.canvas.id,u=a(u),g=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(l),l=l.replace(/[^a-zA-Z0-9]/g,""),g='<th scope="row">'.concat(g,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[l]?this.descriptions.fallbackElements[l].innerHTML!==g&&(this.descriptions.fallbackElements[l].innerHTML=g):this._describeElementHTML("fallback",l,g),d===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[l]?this.descriptions.labelElements[l].innerHTML!==g&&(this.descriptions.labelElements[l].innerHTML=g):this._describeElementHTML("label",l,g)))},v.default.prototype._describeHTML=function(l,u){var d,h=this.canvas.id;"fallback"===l?(this.dummyDOM.querySelector("#".concat(h+b))?this.dummyDOM.querySelector("#"+h+m).insertAdjacentHTML("beforebegin",'<p id="'.concat(h+f,'"></p>')):(d='<div id="'.concat(h).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(h).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#".concat(h)).innerHTML=d),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat(f)),this.descriptions.fallback.innerHTML=u):"label"===l&&(this.dummyDOM.querySelector("#".concat(h+w))?this.dummyDOM.querySelector("#".concat(h+i))&&this.dummyDOM.querySelector("#".concat(h+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(h).concat(_,'"></p>')):(d='<div id="'.concat(h).concat(w,'" class="p5Label"><p id="').concat(h).concat(_,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",d)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+_),this.descriptions.label.innerHTML=u)},v.default.prototype._describeElementHTML=function(l,u,d){var h,g=this.canvas.id;"fallback"===l?(this.dummyDOM.querySelector("#".concat(g+b))?this.dummyDOM.querySelector("#"+g+m)||this.dummyDOM.querySelector("#"+g+f).insertAdjacentHTML("afterend",'<table id="'.concat(g).concat(m,'"><caption>Canvas elements and their descriptions</caption></table>')):(h='<div id="'.concat(g).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(g).concat(m,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+g).innerHTML=h),(h=document.createElement("tr")).id=g+"_fte_"+u,this.dummyDOM.querySelector("#"+g+m).appendChild(h),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(g).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=d):"label"===l&&(this.dummyDOM.querySelector("#".concat(g+w))?this.dummyDOM.querySelector("#".concat(g+i))||this.dummyDOM.querySelector("#"+g+_).insertAdjacentHTML("afterend",'<table id="'.concat(g+i,'"></table>')):(h='<div id="'.concat(g).concat(w,'" class="p5Label"><table id="').concat(g).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",h)),(l=document.createElement("tr")).id=g+"_lte_"+u,this.dummyDOM.querySelector("#"+g+i).appendChild(l),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(g).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=d)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var b,f,m,w,_,i,a,l;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(f=function(_,i){var a,l="",u="",d=0;for(a in i){var h,g=0;for(h in i[a]){var p='<li id="'.concat(_,"shape").concat(d,'">').concat(i[a][h].color," ").concat(a,",");"line"===a?p+=" location = ".concat(i[a][h].pos,", length = ").concat(i[a][h].length," pixels"):(p+=" location = ".concat(i[a][h].pos),"point"!==a&&(p+=", area = ".concat(i[a][h].area," %")),p+="</li>"),l+=p,g++,d++}u=1<g?"".concat(u," ").concat(g," ").concat(a,"s"):"".concat(u," ").concat(g," ").concat(a)}return{numShapes:[d,u],details:l}}(v,this.ingredients.shapes)).numShapes,a=this.width,l=this.height,i="".concat(i=this.ingredients.colors.background," canvas, ").concat(a," by ").concat(l," pixels, contains ").concat(_[0]),m=i="".concat(i,1===_[0]?" shape: ":" shapes: ").concat(_[1]),w=function(_,i){var a,l,u=0,d="",h=Array.from(Array(10),function(){return Array(10)});for(a in i)for(var g in i[a]){var p;p="line"!==a?'<a href="#'.concat(_,"shape").concat(u,'">').concat(i[a][g].color," ").concat(a,"</a>"):'<a href="#'.concat(_,"shape").concat(u,'">').concat(i[a][g].color," ").concat(a," midpoint</a>"),i[a][g].loc.locY<h.length&&i[a][g].loc.locX<h[i[a][g].loc.locY].length&&(h[i[a][g].loc.locY][i[a][g].loc.locX]=h[i[a][g].loc.locY][i[a][g].loc.locX]?h[i[a][g].loc.locY][i[a][g].loc.locX]+"  "+p:p,u++)}for(l in h){var y,C="<tr>";for(y in h[l])C+="<td>",void 0!==h[l][y]&&(C+=h[l][y]),C+="</td>";d=d+C+"</tr>"}return d}(v,this.ingredients.shapes),m!==b.summary.innerHTML&&(b.summary.innerHTML=m),w!==b.map.innerHTML&&(b.map.innerHTML=w),f.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=f.details),this._accessibleOutputs[v]=b)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(m,w,_){return 10===(w=Math.floor(m[0]/w*10))&&(w-=1),10===(m=Math.floor(m[1]/_*10))&&(m-=1),{locX:w,locY:m}}v.default.prototype.textOutput=function(m){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(m){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(m,w){var _,i,a,l=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),"");"Fallback"===w?(_=l+m,this.dummyDOM.querySelector("#".concat(i=l+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(l,"_Description"))?this.dummyDOM.querySelector("#".concat(l,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(l)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===w&&(_=l+m+(u=w),this.dummyDOM.querySelector("#".concat(i=l+"accessibleOutput"+w))||(this.dummyDOM.querySelector("#".concat(l,"_Label"))?this.dummyDOM.querySelector("#".concat(l,"_Label")):this.dummyDOM.querySelector("#".concat(l))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[_]={},"textOutput"===m?(u="#".concat(l,"gridOutput").concat(u),a='<div id="'.concat(_,'">Text Output<div id="').concat(_,'Summary" aria-label="text output summary"><p id="').concat(_,'_summary"></p><ul id="').concat(_,'_list"></ul></div><table id="').concat(_,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(i)).innerHTML=a,this._accessibleOutputs[_].list=this.dummyDOM.querySelector("#".concat(_,"_list"))):"gridOutput"===m&&(u="#".concat(l,"textOutput").concat(u),a='<div id="'.concat(_,'">Grid Output<p id="').concat(_,'_summary" aria-label="grid output summary"><table id="').concat(_,'_map" summary="grid output content"></table><ul id="').concat(_,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(i)).innerHTML=a,this._accessibleOutputs[_].map=this.dummyDOM.querySelector("#".concat(_,"_map"))),this._accessibleOutputs[_].shapeDetails=this.dummyDOM.querySelector("#".concat(_,"_shapeDetails")),this._accessibleOutputs[_].summary=this.dummyDOM.querySelector("#".concat(_,"_summary"))},v.default.prototype._updateAccsOutput=function(){var m=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(m+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(m+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(m+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(m+"gridOutputLabel"))},v.default.prototype._accsBackground=function(m){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==m&&(this.ingredients.colors.backgroundRGBA=m,this.ingredients.colors.background=this._rgbColorName(m))},v.default.prototype._accsCanvasColors=function(m,w){"fill"===m?this.ingredients.colors.fillRGBA!==w&&(this.ingredients.colors.fillRGBA=w,this.ingredients.colors.fill=this._rgbColorName(w)):"stroke"===m&&this.ingredients.colors.strokeRGBA!==w&&(this.ingredients.colors.strokeRGBA=w,this.ingredients.colors.stroke=this._rgbColorName(w))},v.default.prototype._accsOutput=function(m,w){"ellipse"===m&&w[2]===w[3]?m="circle":"rectangle"===m&&w[2]===w[3]&&(m="square");var _,i,h,g,p,a={},l=!0,u=(g=w,h="rectangle"===(h=m)||"ellipse"===h||"arc"===h||"circle"===h||"square"===h?(p=Math.round(g[0]+g[2]/2),Math.round(g[1]+g[3]/2)):"triangle"===h?(p=(g[0]+g[2]+g[4])/3,(g[1]+g[3]+g[5])/3):"quadrilateral"===h?(p=(g[0]+g[2]+g[4]+g[6])/4,(g[1]+g[3]+g[5]+g[7])/4):"line"===h?(p=(g[0]+g[2])/2,(g[1]+g[3])/2):(p=g[0],g[1]),[p,h]);if("line"===m?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(w[0],w[1],w[2],w[3])),_=this._getPos(w[0],[1]),i=this._getPos(w[2],[3]),a.loc=f(u,this.width,this.height),a.pos=_===i?"at ".concat(_):"from ".concat(_," to ").concat(i)):("point"===m?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(m,w)),a.pos=this._getPos.apply(this,function b(m){return function(w){if(Array.isArray(w)){for(var _=0,i=new Array(w.length);_<w.length;_++)i[_]=w[_];return i}}(m)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),a.loc=f(u,this.width,this.height)),this.ingredients.shapes[m]){if(this.ingredients.shapes[m]!==[a]){for(var d in this.ingredients.shapes[m])JSON.stringify(this.ingredients.shapes[m][d])===JSON.stringify(a)&&(l=!1);!0===l&&this.ingredients.shapes[m].push(a)}}else this.ingredients.shapes[m]=[a]},v.default.prototype._getPos=function(i,_){i=new DOMPointReadOnly(i,_),_=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),_=(i=i.matrixTransform(_)).x,i=i.y;var a=this.width*this._pixelDensity,l=this.height*this._pixelDensity;return _<.4*a?i<.4*l?"top left":.6*l<i?"bottom left":"mid left":.6*a<_?i<.4*l?"top right":.6*l<i?"bottom right":"mid right":i<.4*l?"top middle":.6*l<i?"bottom middle":"middle"},v.default.prototype._getArea=function(m,w){var _,i,a=0,l=("arc"===m?(a=(_=((w[5]-w[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*w[2]*w[3]/8,"open"!==w[6]&&"chord"!==w[6]||(i=w[0],g=w[1],l=w[0]+w[2]/2*Math.cos(w[4]).toFixed(2),p=w[1]+w[3]/2*Math.sin(w[4]).toFixed(2),d=w[0]+w[2]/2*Math.cos(w[5]).toFixed(2),u=w[1]+w[3]/2*Math.sin(w[5]).toFixed(2),i=Math.abs(i*(p-u)+l*(u-g)+d*(g-p))/2,_>Math.PI?a+=i:a-=i)):"ellipse"===m||"circle"===m?a=3.14*w[2]/2*w[3]/2:"line"===m||"point"===m?a=0:"quadrilateral"===m?a=Math.abs((w[6]+w[0])*(w[7]-w[1])+(w[0]+w[2])*(w[1]-w[3])+(w[2]+w[4])*(w[3]-w[5])+(w[4]+w[6])*(w[5]-w[7]))/2:"rectangle"===m||"square"===m?a=w[2]*w[3]:"triangle"===m&&(a=Math.abs(w[0]*(w[3]-w[5])+w[2]*(w[5]-w[1])+w[4]*(w[1]-w[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,d=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,u),new DOMPoint(0,u)],h=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),g=d.map(function(y){return y.matrixTransform(h)}),p=Math.abs((g[3].x+g[0].x)*(g[3].y-g[0].y)+(g[0].x+g[1].x)*(g[0].y-g[1].y)+(g[1].x+g[2].x)*(g[1].y-g[2].y)+(g[2].x+g[3].x)*(g[2].y-g[3].y))/2;return Math.round(100*a/p)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var b,f,m,w,_,i,a,l;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(f=function(_,i){var a,l="",u=0;for(a in i)for(var d in i[a]){var h='<li><a href="#'.concat(_,"shape").concat(u,'">').concat(i[a][d].color," ").concat(a,"</a>");"line"===a?h+=", ".concat(i[a][d].pos,", ").concat(i[a][d].length," pixels long.</li>"):(h+=", at ".concat(i[a][d].pos),"point"!==a&&(h+=", covering ".concat(i[a][d].area,"% of the canvas")),h+=".</li>"),l+=h,u++}return{numShapes:u,listShapes:l}}(v,this.ingredients.shapes)).numShapes,i=this.ingredients.colors.background,l=this.height,a="Your output is a, ".concat(a=this.width," by ").concat(l," pixels, ").concat(i," canvas containing the following"),m=a=1===_?"".concat(a," shape:"):"".concat(a," ").concat(_," shapes:"),w=function(_,i){var a,l="",u=0;for(a in i)for(var d in i[a]){var h='<tr id="'.concat(_,"shape").concat(u,'"><th>').concat(i[a][d].color," ").concat(a,"</th>");"line"===a?h+="<td>location = ".concat(i[a][d].pos,"</td><td>length = ").concat(i[a][d].length," pixels</td></tr>"):(h+="<td>location = ".concat(i[a][d].pos,"</td>"),"point"!==a&&(h+="<td> area = ".concat(i[a][d].area,"%</td>")),h+="</tr>"),l+=h,u++}return l}(v,this.ingredients.shapes),m!==b.summary.innerHTML&&(b.summary.innerHTML=m),f.listShapes!==b.list.innerHTML&&(b.list.innerHTML=f.listShapes),w!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=w),this._accessibleOutputs[v]=b)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,ie,$){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),ie.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var f=v[1],m=v[2],w=(2-f)*m/2;return 0!=w&&(1==w?f=0:w<.5?f/=2-f:f=f*m/(2-2*w)),[v[0],f,w,v[3]]},_hsbaToRGBA:function(v){var b,f,m,w,_,i=6*v[0],a=v[1],l=v[2];return 0===a?[l,l,l,v[3]]:(f=l*(1-a),m=l*(1-a*(i-(b=Math.floor(i)))),a=l*(1-a*(1+b-i)),i=1===b?(w=m,_=l,f):2===b?(w=f,_=l,a):3===b?(w=f,_=m,l):4===b?(w=a,_=f,l):5===b?(w=l,_=f,m):(w=l,_=a,f),[w,_,i,v[3]])},_hslaToHSBA:function(v){var f=v[1],m=v[2],w=m<.5?(1+f)*m:m+f-m*f;return[v[0],f=2*(w-m)/w,w,v[3]]},_hslaToRGBA:function(v){var b,f=6*v[0],m=v[1],w=v[2];return 0===m?[w,w,w,v[3]]:[(b=function(_,i,a){return _<0?_+=6:6<=_&&(_-=6),_<1?i+(a-i)*_:_<3?a:_<4?i+(a-i)*(4-_):i})(2+f,m=2*w-(w=w<.5?(1+m)*w:w+m-w*m),w),b(f,m,w),b(f-2,m,w),v[3]]},_rgbaToHSBA:function(v){var b,f,m=v[0],w=v[1],_=v[2],i=Math.max(m,w,_),a=i-Math.min(m,w,_);return 0==a?f=b=0:(f=a/i,m===i?b=(w-_)/a:w===i?b=2+(_-m)/a:_===i&&(b=4+(m-w)/a),b<0?b+=6:6<=b&&(b-=6)),[b/6,f,i,v[3]]},_rgbaToHSLA:function(v){var b,f,l,m=v[0],w=v[1],_=v[2],i=Math.max(m,w,_),a=i+(l=Math.min(m,w,_));return 0==(l=i-l)?f=b=0:(f=a<1?l/a:l/(2-a),m===i?b=(w-_)/l:w===i?b=2+(_-m)/l:_===i&&(b=4+(m-w)/l),b<0?b+=6:6<=b&&(b-=6)),[b/6,f,a/2,v[3]]}},$.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=w();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.alpha=function(i){return f.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},f.default.prototype.blue=function(i){return f.default._validateParameters("blue",arguments),this.color(i)._getBlue()},f.default.prototype.brightness=function(i){return f.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},f.default.prototype.color=function(){for(var i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return f.default._validateParameters("color",l),l[0]instanceof f.default.Color?l[0]:(i=Array.isArray(l[0])?l[0]:l,new f.default.Color(this,i))},f.default.prototype.green=function(i){return f.default._validateParameters("green",arguments),this.color(i)._getGreen()},f.default.prototype.hue=function(i){return f.default._validateParameters("hue",arguments),this.color(i)._getHue()},f.default.prototype.lerpColor=function(i,a,l){f.default._validateParameters("lerpColor",arguments);var u,d,h,g=this._colorMode,p=this._colorMaxes;if(g===m.RGB)d=i.levels.map(function(y){return y/255}),h=a.levels.map(function(y){return y/255});else if(g===m.HSB)i._getBrightness(),a._getBrightness(),d=i.hsba,h=a.hsba;else{if(g!==m.HSL)throw new Error("".concat(g," cannot be used for interpolation."));i._getLightness(),a._getLightness(),d=i.hsla,h=a.hsla}return l=Math.max(Math.min(l,1),0),void 0===this.lerp&&(this.lerp=function(y,C,H){return H*(C-y)+y}),g===m.RGB?u=this.lerp(d[0],h[0],l):(.5<Math.abs(d[0]-h[0])&&(d[0]>h[0]?h[0]+=1:d[0]+=1),1<=(u=this.lerp(d[0],h[0],l))&&--u),i=this.lerp(d[1],h[1],l),a=this.lerp(d[2],h[2],l),d=this.lerp(d[3],h[3],l),this.color(u*=p[g][0],i*=p[g][1],a*=p[g][2],d*=p[g][3])},f.default.prototype.lightness=function(i){return f.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},f.default.prototype.red=function(i){return f.default._validateParameters("red",arguments),this.color(i)._getRed()},f.default.prototype.saturation=function(i){return f.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var _=f.default;$.default=_},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(u,ie,$){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(y)}function b(y){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(C){return v(C)}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":v(C)})(y)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=i(u("../core/main")),m=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==b(y)&&"function"!=typeof y)return{default:y};var C=_();if(C&&C.has(y))return C.get(y);var H,B={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in y){var P;Object.prototype.hasOwnProperty.call(y,H)&&((P=R?Object.getOwnPropertyDescriptor(y,H):null)&&(P.get||P.set)?Object.defineProperty(B,H,P):B[H]=y[H])}return B.default=y,C&&C.set(y,B),B}(u("../core/constants")),w=i(u("./color_conversion"));function _(){var y;return"function"!=typeof WeakMap?null:(_=function(){return y},y=new WeakMap)}function i(y){return y&&y.__esModule?y:{default:y}}function a(y,C){for(var H=0;H<C.length;H++){var B=C[H];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(y,B.key,B)}}var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(u=/\s*/,/(\d{1,3})/),d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(d.source,"%")),g={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i")};f.default.Color=function(){function y(R,P){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(R._colorMode,R._colorMaxes),![m.RGB,m.HSL,m.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=y._parseInputs.apply(this,P),this._calculateLevels()}var C,H,B;return C=y,B=[{key:"_parseInputs",value:function(R,P,k,T){var N,j=arguments.length,Z=this.mode,ee=this.maxes[Z],z=[];if(3<=j){for(z[0]=R/ee[0],z[1]=P/ee[1],z[2]=k/ee[2],z[3]="number"==typeof T?T/ee[3]:1,N=z.length-1;0<=N;--N){var te=z[N];te<0?z[N]=0:1<te&&(z[N]=1)}return Z===m.HSL?w.default._hslaToRGBA(z):Z===m.HSB?w.default._hsbaToRGBA(z):z}if(1===j&&"string"==typeof R){if(k=R.trim().toLowerCase(),l[k])return y._parseInputs.call(this,l[k]);if(g.HEX3.test(k))return(z=g.HEX3.exec(k).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,z;if(g.HEX6.test(k))return(z=g.HEX6.exec(k).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,z;if(g.HEX4.test(k))return g.HEX4.exec(k).slice(1).map(function(W){return parseInt(W+W,16)/255});if(g.HEX8.test(k))return g.HEX8.exec(k).slice(1).map(function(W){return parseInt(W,16)/255});if(g.RGB.test(k))return(z=g.RGB.exec(k).slice(1).map(function(W){return W/255}))[3]=1,z;if(g.RGB_PERCENT.test(k))return(z=g.RGB_PERCENT.exec(k).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,z;if(g.RGBA.test(k))return g.RGBA.exec(k).slice(1).map(function(W,G){return 3===G?parseFloat(W):W/255});if(g.RGBA_PERCENT.test(k))return g.RGBA_PERCENT.exec(k).slice(1).map(function(W,G){return 3===G?parseFloat(W):parseFloat(W)/100});if(g.HSL.test(k)?(z=g.HSL.exec(k).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:g.HSLA.test(k)&&(z=g.HSLA.exec(k).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:3===G?parseFloat(W):parseInt(W,10)/100})),(z=z.map(function(W){return Math.max(Math.min(W,1),0)})).length)return w.default._hslaToRGBA(z);if(g.HSB.test(k)?(z=g.HSB.exec(k).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:g.HSBA.test(k)&&(z=g.HSBA.exec(k).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:3===G?parseFloat(W):parseInt(W,10)/100})),z.length){for(N=z.length-1;0<=N;--N)z[N]=Math.max(Math.min(z[N],1),0);return w.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(1!==j&&2!==j||"number"!=typeof R)throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=R/ee[2],z[1]=R/ee[2],z[2]=R/ee[2],z[3]="number"==typeof P?P/ee[3]:1,z=z.map(function(W){return Math.max(Math.min(W,1),0)})}return z}}],(H=[{key:"toString",value:function(R){var P=this.levels,k=this._array,T=k[3];switch(R){case"#rrggbb":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16));case"#rrggbbaa":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16),P[3]<16?"0".concat(P[3].toString(16)):P[3].toString(16));case"#rgb":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16),Math.round(15*k[3]).toString(16));case"rgb":return"rgb(".concat(P[0],", ",P[1],", ",P[2],")");case"rgb%":return"rgb(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%, ",(100*k[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[m.HSB][0],", ",this.hsba[1]*this.maxes[m.HSB][1],", ",this.hsba[2]*this.maxes[m.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[m.HSB][0],", ",this.hsba[1]*this.maxes[m.HSB][1],", ",this.hsba[2]*this.maxes[m.HSB][2],", ",T,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*T).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[m.HSL][0],", ",this.hsla[1]*this.maxes[m.HSL][1],", ",this.hsla[2]*this.maxes[m.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[m.HSL][0],", ",this.hsla[1]*this.maxes[m.HSL][1],", ",this.hsla[2]*this.maxes[m.HSL][2],", ",T,")");case"hsla%":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*T).toPrecision(3),"%)");default:return"rgba(".concat(P[0],",",P[1],",",P[2],",",T,")")}}},{key:"setRed",value:function(R){this._array[0]=R/this.maxes[m.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(R){this._array[1]=R/this.maxes[m.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(R){this._array[2]=R/this.maxes[m.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(R){this._array[3]=R/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var R=this._array,P=this.levels=new Array(R.length),k=R.length-1;0<=k;--k)P[k]=Math.round(255*R[k]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(R,P){this.mode=R,this.maxes=P}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[m.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[m.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[m.RGB][1]}},{key:"_getHue",value:function(){return this.mode===m.HSB?(this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[m.HSB][0]):(this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[m.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[m.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[m.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===m.HSB?(this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[m.HSB][1]):(this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[m.HSL][1])}}])&&a(C.prototype,H),B&&a(C,B),y}(),$.default=p=f.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=w();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}o("./p5.Color"),f.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},f.default.prototype.endClip=function(){this._renderer.endClip()},f.default.prototype.clip=function(i,a){this._renderer.beginClip(a),i(),this._renderer.endClip(a)},f.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},f.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},f.default.prototype.colorMode=function(i,a,l,u,d){return f.default._validateParameters("colorMode",arguments),i!==m.RGB&&i!==m.HSB&&i!==m.HSL||(this._colorMode=i,i=this._colorMaxes[i],2===arguments.length?(i[0]=a,i[1]=a,i[2]=a,i[3]=a):4===arguments.length?(i[0]=a,i[1]=l,i[2]=u):5===arguments.length&&(i[0]=a,i[1]=l,i[2]=u,i[3]=d)),this},f.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},f.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},f.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},f.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},f.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},f.default.prototype.noErase=function(){return this._renderer.noErase(),this};var _=f.default;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.QUADRATIC=$.LINEAR=$._CTX_MIDDLE=$._DEFAULT_LEADMULT=$._DEFAULT_TEXT_FILL=$.WORD=$.CHAR=$.BOLDITALIC=$.BOLD=$.ITALIC=$.NORMAL=$.BLUR=$.ERODE=$.DILATE=$.POSTERIZE=$.INVERT=$.OPAQUE=$.GRAY=$.THRESHOLD=$.BURN=$.DODGE=$.SOFT_LIGHT=$.HARD_LIGHT=$.OVERLAY=$.REPLACE=$.SCREEN=$.MULTIPLY=$.EXCLUSION=$.SUBTRACT=$.DIFFERENCE=$.LIGHTEST=$.DARKEST=$.ADD=$.REMOVE=$.BLEND=$.UP_ARROW=$.TAB=$.SHIFT=$.RIGHT_ARROW=$.RETURN=$.OPTION=$.LEFT_ARROW=$.ESCAPE=$.ENTER=$.DOWN_ARROW=$.DELETE=$.CONTROL=$.BACKSPACE=$.ALT=$.AUTO=$.HSL=$.HSB=$.RGB=$.MITER=$.BEVEL=$.ROUND=$.SQUARE=$.PROJECT=$.PIE=$.CHORD=$.OPEN=$.CLOSE=$.TESS=$.QUAD_STRIP=$.QUADS=$.TRIANGLE_STRIP=$.TRIANGLE_FAN=$.TRIANGLES=$.LINE_LOOP=$.LINE_STRIP=$.LINES=$.POINTS=$.BASELINE=$.BOTTOM=$.TOP=$.CENTER=$.LEFT=$.RIGHT=$.RADIUS=$.CORNERS=$.CORNER=$.RAD_TO_DEG=$.DEG_TO_RAD=$.RADIANS=$.DEGREES=$.TWO_PI=$.TAU=$.QUARTER_PI=$.PI=$.HALF_PI=$.WAIT=$.TEXT=$.MOVE=$.HAND=$.CROSS=$.ARROW=$.WEBGL2=$.WEBGL=$.P2D=$.VERSION=void 0,$.RGBA=$.HALF_FLOAT=$.FLOAT=$.UNSIGNED_INT=$.UNSIGNED_BYTE=$.COVER=$.CONTAIN=$.FALLBACK=$.LABEL=$.AXES=$.GRID=$._DEFAULT_FILL=$._DEFAULT_STROKE=$.PORTRAIT=$.LANDSCAPE=$.SMOOTH=$.FLAT=$.MIRROR=$.CLAMP=$.REPEAT=$.NEAREST=$.IMAGE=$.IMMEDIATE=$.TEXTURE=$.FILL=$.STROKE=$.CURVE=$.BEZIER=void 0;var v=Math.PI,b=($.VERSION="1.10.0",$.P2D="p2d",$.WEBGL="webgl",$.WEBGL2="webgl2",$.ARROW="default",$.CROSS="crosshair",$.HAND="pointer",$.MOVE="move",$.TEXT="text",$.WAIT="wait",v/2);$.HALF_PI=b,$.PI=b=v,$.QUARTER_PI=b=v/4,$.TAU=b=2*v,$.TWO_PI=b=2*v,$.DEGREES="degrees",$.RADIANS="radians",$.DEG_TO_RAD=b=v/180,$.RAD_TO_DEG=b=180/v,$.CORNER="corner",$.CORNERS="corners",$.RADIUS="radius",$.RIGHT="right",$.LEFT="left",$.CENTER="center",$.TOP="top",$.BOTTOM="bottom",$.BASELINE="alphabetic",$.POINTS=0,$.LINES=1,$.LINE_STRIP=3,$.LINE_LOOP=2,$.TRIANGLES=4,$.TRIANGLE_FAN=6,$.TRIANGLE_STRIP=5,$.QUADS="quads",$.QUAD_STRIP="quad_strip",$.TESS="tess",$.CLOSE="close",$.OPEN="open",$.CHORD="chord",$.PIE="pie",$.PROJECT="square",$.SQUARE="butt",$.ROUND="round",$.BEVEL="bevel",$.MITER="miter",$.RGB="rgb",$.HSB="hsb",$.HSL="hsl",$.AUTO="auto",$.ALT=18,$.BACKSPACE=8,$.CONTROL=17,$.DELETE=46,$.DOWN_ARROW=40,$.ENTER=13,$.ESCAPE=27,$.LEFT_ARROW=37,$.OPTION=18,$.RETURN=13,$.RIGHT_ARROW=39,$.SHIFT=16,$.TAB=9,$.UP_ARROW=38,$.BLEND="source-over",$.REMOVE="destination-out",$.ADD="lighter",$.DARKEST="darken",$.LIGHTEST="lighten",$.DIFFERENCE="difference",$.SUBTRACT="subtract",$.EXCLUSION="exclusion",$.MULTIPLY="multiply",$.SCREEN="screen",$.REPLACE="copy",$.OVERLAY="overlay",$.HARD_LIGHT="hard-light",$.SOFT_LIGHT="soft-light",$.DODGE="color-dodge",$.BURN="color-burn",$.THRESHOLD="threshold",$.GRAY="gray",$.OPAQUE="opaque",$.INVERT="invert",$.POSTERIZE="posterize",$.DILATE="dilate",$.ERODE="erode",$.BLUR="blur",$.NORMAL="normal",$.ITALIC="italic",$.BOLD="bold",$.BOLDITALIC="bold italic",$.CHAR="CHAR",$.WORD="WORD",$._DEFAULT_TEXT_FILL="#000000",$._DEFAULT_LEADMULT=1.25,$._CTX_MIDDLE="middle",$.LINEAR="linear",$.QUADRATIC="quadratic",$.BEZIER="bezier",$.CURVE="curve",$.STROKE="stroke",$.FILL="fill",$.TEXTURE="texture",$.IMMEDIATE="immediate",$.IMAGE="image",$.NEAREST="nearest",$.REPEAT="repeat",$.CLAMP="clamp",$.MIRROR="mirror",$.FLAT="flat",$.SMOOTH="smooth",$.LANDSCAPE="landscape",$.PORTRAIT="portrait",$._DEFAULT_STROKE="#000000",$._DEFAULT_FILL="#FFFFFF",$.GRID="grid",$.AXES="axes",$.LABEL="label",$.FALLBACK="fallback",$.CONTAIN="contain",$.COVER="cover",$.UNSIGNED_BYTE="unsigned-byte",$.UNSIGNED_INT="unsigned-int",$.FLOAT="float",$.HALF_FLOAT="half-float",$.RGBA="rgba"},{}],273:[function(o,ie,$){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function b(d){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(m=o("./main"))&&m.__esModule?m:{default:m},m=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==b(d)&&"function"!=typeof d)return{default:d};var h=w();if(h&&h.has(d))return h.get(d);var g,p={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var C;Object.prototype.hasOwnProperty.call(d,g)&&((C=y?Object.getOwnPropertyDescriptor(d,g):null)&&(C.get||C.set)?Object.defineProperty(p,g,C):p[g]=d[g])}return p.default=d,h&&h.set(d,p),p}(o("./constants"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}var _=[m.ARROW,m.CROSS,m.HAND,m.MOVE,m.TEXT,m.WAIT],i=(f.default.prototype._frameRate=0,f.default.prototype._lastFrameTime=window.performance.now(),f.default.prototype._targetFrameRate=60,window.print),a=!1;function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}f.default.prototype.print=function(){var d;arguments.length?(d=console).log.apply(d,arguments):a||(i(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},f.default.prototype.frameCount=0,f.default.prototype.deltaTime=0,f.default.prototype.focused=document.hasFocus(),f.default.prototype.cursor=function(d,h,g){var p,y="auto",C=this._curElement.elt;_.includes(d)?y=d:"string"==typeof d&&(p="",h&&g&&"number"==typeof h&&"number"==typeof g&&(p="".concat(h," ").concat(g)),y="http://"===d.substring(0,7)||"https://"===d.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(d)?"url(".concat(d,") ").concat(p,", auto"):d),C.style.cursor=y},f.default.prototype.frameRate=function(d){return f.default._validateParameters("frameRate",arguments),"number"!=typeof d||d<0?this._frameRate:(this._setProperty("_targetFrameRate",d),0===d&&this._setProperty("_frameRate",d),this)},f.default.prototype.getFrameRate=function(){return this.frameRate()},f.default.prototype.setFrameRate=function(d){return this.frameRate(d)},f.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},f.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},f.default.prototype.webglVersion=m.P2D,f.default.prototype.displayWidth=screen.width,f.default.prototype.displayHeight=screen.height,f.default.prototype.windowWidth=0,f.default.prototype.windowHeight=0,f.default.prototype._onresize=function(d){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",u());var h=this._isGlobal?window:this;"function"!=typeof h.windowResized||void 0===(h=h.windowResized(d))||h||d.preventDefault()},f.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",u())},f.default.prototype.width=0,f.default.prototype.height=0,f.default.prototype.fullscreen=function(d){if(f.default._validateParameters("fullscreen",arguments),void 0===d)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(d){if(d=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},f.default.prototype.pixelDensity=function(d){var h;return f.default._validateParameters("pixelDensity",arguments),"number"==typeof d?(d!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=d),(h=this).resizeCanvas(this.width,this.height,!0)):h=this._pixelDensity,h},f.default.prototype.displayDensity=function(){return window.devicePixelRatio},f.default.prototype.getURL=function(){return location.href},f.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(d){return""!==d})},f.default.prototype.getURLParams=function(){for(var d,h=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,g={};null!=(d=h.exec(location.search));)d.index===h.lastIndex&&h.lastIndex++,g[d[1]]=d[2];return g},$.default=o=f.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(_=o("../main"))&&_.__esModule?_:{default:_};function b(i,a){a=a||console.log.bind(console),f||w(),f.some(function(l){var u;if(i.message&&null!==i.message.match("\\W?".concat(l.name,"\\W")))return u="function"===l.type?"".concat(l.name,"()"):l.name,a("Did you just try to use p5.js's ".concat(u," ").concat(l.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(m)),!0})}o("../internationalization");var f=null,w=null,m=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},f=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),_=(w=function(){function i(l){return Object.getOwnPropertyNames(l).filter(function(u){return"_"!==u[0]&&!(u in a)&&(a[u]=!0)}).map(function(u){var d="function"==typeof l[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:d}})}var a={};(f=[].concat(i(v.default.prototype),i(o("../constants")))).sort(function(l,u){return u.name.length-l.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=b,"complete"!==document.readyState&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),v.default);$.default=_},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},$.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,ie,$){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(O)}function b(O){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(oe){return v(oe)}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":v(oe)})(O)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=function W(O){return O&&O.__esModule?O:{default:O}}(o("../main"));function z(){var O;return"function"!=typeof WeakMap?null:(z=function(){return O},O=new WeakMap)}o("../internationalization"),function te(O){if(O&&O.__esModule)return O;if(null===O||"object"!==b(O)&&"function"!=typeof O)return{default:O};var oe=z();if(oe&&oe.has(O))return oe.get(O);var me,Se,Ue={},Xe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(me in O)Object.prototype.hasOwnProperty.call(O,me)&&((Se=Xe?Object.getOwnPropertyDescriptor(O,me):null)&&(Se.get||Se.set)?Object.defineProperty(Ue,me,Se):Ue[me]=O[me]);return Ue.default=O,oe&&oe.set(O,Ue),Ue}(o("../constants")),f.default._fesCodeReader=function(){},$.default=f.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,ie,$){"use strict";function v(){var b=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,m=/^(eval@)?(\[native code])?$/;return{parse:function(w){return void 0!==w.stacktrace||void 0!==w["opera#sourceloc"]?this.parseOpera(w):w.stack&&w.stack.match(f)?this.parseV8OrIE(w):w.stack?this.parseFFOrSafari(w):void 0},extractLocation:function(w){return-1===w.indexOf(":")?[w]:[(w=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(w.replace(/[()]/g,"")))[1],w[2]||void 0,w[3]||void 0]},parseV8OrIE:function(w){return w.stack.split("\n").filter(function(_){return!!_.match(f)},this).map(function(_){var a=(i=(_=-1<_.indexOf("(eval ")?_.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):_).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=a?i.replace(a[0],""):i).split(/\s+/).slice(1);return a=this.extractLocation(a?a[1]:i.pop()),{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:_}},this)},parseFFOrSafari:function(w){return w.stack.split("\n").filter(function(_){return!_.match(m)},this).map(function(_){var i,a;return-1===(_=-1<_.indexOf(" > eval")?_.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):_).indexOf("@")&&-1===_.indexOf(":")?{functionName:_}:{functionName:(a=_.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(_.replace(i,"")))[0],lineNumber:a[1],columnNumber:a[2],source:_}},this)},parseOpera:function(w){return!w.stacktrace||-1<w.message.indexOf("\n")&&w.message.split("\n").length>w.stacktrace.split("\n").length?this.parseOpera9(w):w.stack?this.parseOpera11(w):this.parseOpera10(w)},parseOpera9:function(w){for(var _=/Line (\d+).*script (?:in )?(\S+)/i,i=w.message.split("\n"),a=[],l=2,u=i.length;l<u;l+=2){var d=_.exec(i[l]);d&&a.push({fileName:d[2],lineNumber:d[1],source:i[l]})}return a},parseOpera10:function(w){for(var _=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=w.stacktrace.split("\n"),a=[],l=0,u=i.length;l<u;l+=2){var d=_.exec(i[l]);d&&a.push({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:i[l]})}return a},parseOpera11:function(w){return w.stack.split("\n").filter(function(_){return!!_.match(b)&&!_.match(/^Error created at/)},this).map(function(_){var i,l=_.split("@"),a=this.extractLocation(l.pop());return{functionName:(l=l.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(i=l.match(/\(([^)]*)\)/)?l.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)||"[arguments not available]"===i?void 0:i.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:_}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},$.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,ie,$){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(b=o("../main"))&&b.__esModule?b:{default:b};function f(){var w;return"function"!=typeof WeakMap?null:(f=function(){return w},w=new WeakMap)}function m(w){return(m="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(w)}(function(w){if(!(w&&w.__esModule||null===w||"object"!==m(w)&&"function"!=typeof w)){var _=f();if(_&&_.has(w))return _.get(w);var i,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in w){var u;Object.prototype.hasOwnProperty.call(w,i)&&((u=l?Object.getOwnPropertyDescriptor(w,i):null)&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=w[i])}a.default=w,_&&_.set(w,a)}})(o("../constants")),o("../internationalization"),b.default._validateParameters=b.default._clearValidateParamsCache=function(){},$.default=o=b.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,ie,$){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function b(w){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==b(w)&&"function"!=typeof w)return{default:w};var _=m();if(_&&_.has(w))return _.get(w);var i,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in w){var u;Object.prototype.hasOwnProperty.call(w,i)&&((u=l?Object.getOwnPropertyDescriptor(w,i):null)&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=w[i])}return a.default=w,_&&_.set(w,a),a}(o("./constants"));function m(){var w;return"function"!=typeof WeakMap?null:(m=function(){return w},w=new WeakMap)}$.default={modeAdjust:function(w,_,i,a,l){return l===f.CORNER?{x:w,y:_,w:i,h:a}:l===f.CORNERS?{x:w,y:_,w:i-w,h:a-_}:l===f.RADIUS?{x:w-i,y:_-a,w:2*i,h:2*a}:l===f.CENTER?{x:w-.5*i,y:_-.5*a,w:i,h:a}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,ie,$){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(b=o("../core/main"))&&b.__esModule?b:{default:b};o("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(f,m){"complete"===document.readyState?f():window.addEventListener("load",f,!1)}),b]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,ie,$){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.setTranslatorLanguage=$.currentTranslatorLanguage=$.availableTranslatorLanguages=$.initialize=$.translator=void 0;var v,f=w(o("i18next")),m=w(o("i18next-browser-languagedetector"));function w(a){return a&&a.__esModule?a:{default:a}}function _(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var i=function(){function a(h,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(h,g)}var l,u;return l=a,(u=[{key:"fetchWithTimeout",value:function(h,g){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(h,g),new Promise(function(y,C){return setTimeout(function(){return C(new Error("timeout"))},p)})])}},{key:"init",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=h,this.options=g}},{key:"read",value:function(h,g,p){var y=this.options.loadPath;h===this.options.fallback?p(null,v[h][g]):undefined.includes(h)?(y=this.services.interpolator.interpolate(y,{lng:h,ns:g}),this.loadUrl(y,p)):p("Not found",!1)}},{key:"loadUrl",value:function(h,g){this.fetchWithTimeout(h).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(h))},function(){throw new Error("failed loading ".concat(h))}).then(function(p){return g(null,p)}).catch(g)}}])&&_(l.prototype,u),a}();i.type="backend",$.translator=function(a,l){console.debug("p5.js translator called before translations were loaded"),f.default.t(a,l)},$.initialize=function(){return f.default.use(m.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(a){$.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},$.availableTranslatorLanguages=function(){return f.default.languages},$.currentTranslatorLanguage=function(a){return f.default.language},$.setTranslatorLanguage=function(a){return f.default.changeLanguage(a||void 0,function(l){return console.debug("Translations failed to load (".concat(l,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},$.default=o=o.default},{"./main":283}],283:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("./shim");var f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var g;Object.prototype.hasOwnProperty.call(a,u)&&((g=h?Object.getOwnPropertyDescriptor(a,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("./constants"));function m(){var a;return"function"!=typeof WeakMap?null:(m=function(){return a},a=new WeakMap)}function w(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var _,i=function(){function a(h,y){var p=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},y=Object.getOwnPropertyNames(a.prototype._registeredMethods);var C=!0,H=!1,B=void 0;try{for(var R,P=y[Symbol.iterator]();!(C=(R=P.next()).done);C=!0){var k=R.value;this._registeredMethods[k]=a.prototype._registeredMethods[k].slice()}}catch(G){H=!0,B=G}finally{try{C||null==P.return||P.return()}finally{if(H)throw B}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(G){var Y=this||a.prototype,le=this._isGlobal?window:this;if(Y._registeredMethods.hasOwnProperty(G)){Y=Y._registeredMethods[G];var Me=!0,K=void(G=!1);try{for(var O,oe=Y[Symbol.iterator]();!(Me=(O=oe.next()).done);Me=!0){var me=O.value;"function"==typeof me&&me.call(le)}}catch(Xe){G=!0,K=Xe}finally{try{Me||null==oe.return||oe.return()}finally{if(G)throw K}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var G=p._isGlobal?window:p;if(G.preload){p.callRegisteredHooksFor("beforePreload");var Y,le=document.getElementById(p._loadingScreenId),Me=(le||((le=document.createElement("div")).innerHTML="Loading...",le.style.position="absolute",le.id=p._loadingScreenId,(p._userNode||document.body).appendChild(le)),p._preloadMethods);for(Y in Me){Me[Y]=Me[Y]||a;var K=Me[Y];K!==a.prototype&&K!==a||(p._isGlobal&&(window[Y]=p._wrapPreload(p,Y)),K=p),p._registeredPreloadMethods[Y]=K[Y],K[Y]=p._wrapPreload(K,Y)}G.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var G,Y=this._isGlobal?window:this;0===Y._preloadCount&&((G=document.getElementById(Y._loadingScreenId))&&G.parentNode.removeChild(G),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||"function"!=typeof G.preload||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,Y){var le=this;return function(){le._incrementPreload();for(var Me=arguments.length,K=new Array(Me),O=0;O<Me;O++)K[O]=arguments[O];return le._registeredPreloadMethods[Y].apply(G,K)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var G=p._isGlobal?window:p;if("function"==typeof G.preload)for(var Y in p._preloadMethods)G[Y]=p._preloadMethods[Y][Y],G[Y]&&p&&(G[Y]=G[Y].bind(p));p._millisStart=window.performance.now(),G._preloadDone=!0,"function"==typeof G.setup&&G.setup();var le=document.getElementsByTagName("canvas"),Me=!0,K=!1,O=void 0;try{for(var oe,me=le[Symbol.iterator]();!(Me=(oe=me.next()).done);Me=!0){var Se=oe.value;"true"===Se.dataset.hidden&&(Se.style.visibility="",delete Se.dataset.hidden)}}catch(Ue){K=!0,O=Ue}finally{try{Me||null==me.return||me.return()}finally{if(K)throw O}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(Y){Y=Y||window.performance.now();var Me=1e3/p._targetFrameRate;(!p._loop||Me-5<=Y-p._lastTargetFrameTime)&&(p.deltaTime=Y-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+Me,Y),p._lastRealFrameTime=Y,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(G,Y){p[G]=Y,p._isGlobal&&(window[G]=Y)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(G=document.getElementById(p._loadingScreenId))&&(G.parentNode.removeChild(G),p._incrementPreload()),p._curElement){for(var Y in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(Y,p._events[Y]);var le=!0,G=!1,Me=void 0;try{for(var K,O=p._elements[Symbol.iterator]();!(le=(K=O.next()).done);le=!0){var oe,me=K.value;for(oe in me.elt&&me.elt.parentNode&&me.elt.parentNode.removeChild(me.elt),me._events)me.elt.removeEventListener(oe,me._events[oe])}}catch(ze){G=!0,Me=ze}finally{try{le||null==O.return||O.return()}finally{if(G)throw Me}}var Se=p;p._registeredMethods.remove.forEach(function(ze){void 0!==ze&&ze.call(Se)})}if(p._isGlobal){for(var Ue in a.prototype)try{delete window[Ue]}catch{window[Ue]=void 0}for(var Xe in p)if(p.hasOwnProperty(Xe))try{delete window[Xe]}catch{window[Xe]=void 0}a.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(G){void 0!==G&&G.call(this)},this),this._setupPromisePreloads();var T,N,j=this._createFriendlyGlobalFunctionBinder();if(h)h(this),a._checkForUserDefinedFunctions(this);else{for(var Z in this._isGlobal=!0,a.instance=this,a.prototype)"function"==typeof a.prototype[Z]?(T=Z.substring(2),this._events.hasOwnProperty(T)||(Math.hasOwnProperty(Z)&&Math[Z]===a.prototype[Z]?j(Z,a.prototype[Z]):j(Z,a.prototype[Z].bind(this)))):j(Z,a.prototype[Z]);for(var ee in this)this.hasOwnProperty(ee)&&j(ee,this[ee])}for(N in this._events){var z=this["_on".concat(N)];z&&(z=z.bind(this),window.addEventListener(N,z,{passive:!1}),this._events[N]=z)}function te(){p._setProperty("focused",!0)}function W(){p._setProperty("focused",!1)}window.addEventListener("focus",te),window.addEventListener("blur",W),this.registerMethod("remove",function(){window.removeEventListener("focus",te),window.removeEventListener("blur",W)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var l,u;return l=a,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=f.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(h,g){a.prototype._preloadMethods.hasOwnProperty(h)||(a.prototype._preloadMethods[h]=g)}},{key:"registerMethod",value:function(h,g){var p=this||a.prototype;p._registeredMethods.hasOwnProperty(h)||(p._registeredMethods[h]=[]),p._registeredMethods[h].push(g)}},{key:"unregisterMethod",value:function(h,g){var p=this||a.prototype;if(p._registeredMethods.hasOwnProperty(h)){for(var y=p._registeredMethods[h],C=[],H=0;H<y.length;H++)y[H]===g&&C.push(H);for(var B=C.length-1;0<=B;B--)y.splice(C[B],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=h.globalObject||window;return h.log||console.log.bind(console),function(p,y){g[p]=y}}}])&&w(l.prototype,u),a}();for(_ in i.instance=null,i.disableFriendlyErrors=!1,f)i.prototype[_]=f[_];i.VERSION=f.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},$.default=i},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(f,m){for(var w=0;w<m.length;w++){var _=m[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Element=function(){function f(i,a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var m,w,_;return m=f,_=[{key:"_adjustListener",value:function(i,a,l){return!1===a?v.default.Element._detachListener(i,l):v.default.Element._attachListener(i,a,l),this}},{key:"_attachListener",value:function(i,a,l){l._events[i]&&v.default.Element._detachListener(i,l),a=a.bind(l),l.elt.addEventListener(i,a,!1),l._events[i]=a}},{key:"_detachListener",value:function(i,a){a.elt.removeEventListener(i,a._events[i],!1),a._events[i]=null}}],(w=[{key:"parent",value:function(i){return void 0===i?this.elt.parentNode:("string"==typeof i?("#"===i[0]&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof v.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return void 0===i?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return void 0===i?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return v.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),i.call(this,a)},this),this}},{key:"doubleClicked",value:function(i){return v.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return v.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return v.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return v.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return v.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return v.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return v.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return v.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return v.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return v.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return v.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return v.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,a){this[i]=a}}])&&b(m.prototype,w),_&&b(m,_),f}(),$.default=o=v.default.Element},{"./main":283}],285:[function(o,ie,$){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function b(g){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(h=o("./main"))&&h.__esModule?h:{default:h},m=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==b(g)&&"function"!=typeof g)return{default:g};var p=w();if(p&&p.has(g))return p.get(g);var y,C={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var B;Object.prototype.hasOwnProperty.call(g,y)&&((B=H?Object.getOwnPropertyDescriptor(g,y):null)&&(B.get||B.set)?Object.defineProperty(C,y,B):C[y]=g[y])}return C.default=g,p&&p.set(g,C),C}(o("./constants"));function w(){var g;return"function"!=typeof WeakMap?null:(w=function(){return g},g=new WeakMap)}function _(g,p){for(var y=0;y<p.length;y++){var C=p[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function i(g,p){return(i=Object.setPrototypeOf||function(y,C){return y.__proto__=C,y})(g,p)}function l(g,p){return!p||"object"!==b(p)&&"function"!=typeof p?u(g):p}function u(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function d(g){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}f.default.Graphics=function(g){var p=H;if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&i(p,g);var C=function a(g){return function(){var p,y=d(g);return l(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=d(this).constructor,Reflect.construct(y,arguments,p)):y.apply(this,arguments))}}(H);function H(B,R,ee,k,T){var N;if(!(this instanceof H))throw new TypeError("Cannot call a class as a function");Z=T||document.createElement("canvas"),(N=C.call(this,Z,k)).canvas=Z;var j,Z=ee||m.P2D;for(j in ee=k._userNode||document.body,T||ee.appendChild(N.canvas),f.default.prototype)N[j]||(N[j]="function"==typeof f.default.prototype[j]?f.default.prototype[j].bind(u(N)):f.default.prototype[j]);return f.default.prototype._initializeInstanceVariables.apply(u(N)),N.width=B,N.height=R,N._pixelDensity=k._pixelDensity,Z===m.WEBGL?(N._renderer=new f.default.RendererGL(N.canvas,u(N),!1),B=(T=N._renderer._adjustDimensions(B,R)).adjustedWidth,R=T.adjustedHeight):N._renderer=new f.default.Renderer2D(N.canvas,u(N),!1),k._elements.push(u(N)),Object.defineProperty(u(N),"deltaTime",{get:function(){return this._pInst.deltaTime}}),N._renderer.resize(B,R),N._renderer._applyDefaults(),l(N,u(N))}return p=H,(g=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var B,R=this._pInst._elements.indexOf(this);for(B in-1!==R&&this._pInst._elements.splice(R,1),this._events)this.elt.removeEventListener(B,this._events[B]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(B){return new f.default.Framebuffer(this,B)}}])&&_(p.prototype,g),H}(f.default.Element);var h=f.default.Graphics;$.default=h},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,ie,$){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(d=o("./main"))&&d.__esModule?d:{default:d},f=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==w(g)&&"function"!=typeof g)return{default:g};var p=m();if(p&&p.has(g))return p.get(g);var y,C={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var B;Object.prototype.hasOwnProperty.call(g,y)&&((B=H?Object.getOwnPropertyDescriptor(g,y):null)&&(B.get||B.set)?Object.defineProperty(C,y,B):C[y]=g[y])}return C.default=g,p&&p.set(g,C),C}(o("../core/constants"));function m(){var g;return"function"!=typeof WeakMap?null:(m=function(){return g},g=new WeakMap)}function w(g){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(g)}function _(g,p){for(var y=0;y<p.length;y++){var C=p[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function i(g,p){return(i=Object.setPrototypeOf||function(y,C){return y.__proto__=C,y})(g,p)}function l(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(g){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}var d=function(g){var p=H;if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&i(p,g);var C=function a(g){return function(){var p,y,C=u(g);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(C,arguments,p)):C.apply(this,arguments),C=this,!(y=p)||"object"!==w(y)&&"function"!=typeof y?l(C):y}}(H);function H(B,R,P){var k;if(this instanceof H)return(k=C.call(this,B,R)).canvas=B,k._pixelsState=R,P?(k._isMainCanvas=!0,k._pInst._setProperty("_curElement",l(k)),k._pInst._setProperty("canvas",k.canvas),k._pInst._setProperty("width",k.width),k._pInst._setProperty("height",k.height)):(k.canvas.style.display="none",k._styles=[]),k._clipping=!1,k._clipInvert=!1,k._textSize=12,k._textLeading=15,k._textFont="sans-serif",k._textStyle=f.NORMAL,k._textAscent=null,k._textDescent=null,k._textAlign=f.LEFT,k._textBaseline=f.BASELINE,k._textWrap=f.WORD,k._rectMode=f.CORNER,k._ellipseMode=f.CENTER,k._curveTightness=0,k._imageMode=f.CORNER,k._tint=null,k._doStroke=!0,k._doFill=!0,k._strokeSet=!1,k._fillSet=!1,k._leadingSet=!1,k._pushPopDepth=0,k;throw new TypeError("Cannot call a class as a function")}return p=H,(g=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(B){this._pushPopDepth--,B.properties&&Object.assign(this,B.properties)}},{key:"beginClip",value:function(){var B=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=B.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(B,R){this.width=B,this.height=R,this.elt.width=B*this._pInst._pixelDensity,this.elt.height=R*this._pInst._pixelDensity,this.elt.style.width="".concat(B,"px"),this.elt.style.height="".concat(R,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(B,R,P,k){var T=this._pixelsState,N=T._pixelDensity,j=this.canvas;if(void 0===B&&void 0===R)B=R=0,P=T.width,k=T.height;else if(B*=N,R*=N,void 0===P&&void 0===k)return B<0||R<0||B>=j.width||R>=j.height?[0,0,0,0]:this._getPixel(B,R);return(T=new b.default.Image(P*N,k*N)).pixelDensity(N),T.canvas.getContext("2d").drawImage(j,B,R,P*N,k*N,0,0,P*N,k*N),T}},{key:"textLeading",value:function(B){return"number"==typeof B?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",B),this._pInst):this._textLeading}},{key:"textStyle",value:function(B){return B?(B!==f.NORMAL&&B!==f.ITALIC&&B!==f.BOLD&&B!==f.BOLDITALIC||this._setProperty("_textStyle",B),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(B,R){return void 0!==B?(this._setProperty("_textAlign",B),void 0!==R&&this._setProperty("_textBaseline",R),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(B){return this._setProperty("_textWrap",B),this._textWrap}},{key:"text",value:function(B,R,P,k,T){var N,j,Z,ee,z=this._pInst,te=this._textWrap,W=Number.MAX_VALUE,G=P;if((this._doFill||this._doStroke)&&void 0!==B){if(N=(B=(B="string"!=typeof B?B.toString():B).replace(/(\t)/g,"  ")).split("\n"),void 0!==k){switch(this._rectMode===f.CENTER&&(R-=k/2),this._textAlign){case f.CENTER:R+=k/2;break;case f.RIGHT:R+=k}if(void 0!==T){this._rectMode===f.CENTER&&(P-=T/2,G-=T/2),B=P;var Y=z.textAscent();switch(this._textBaseline){case f.BOTTOM:ee=P+T,P=Math.max(ee,P),G+=Y;break;case f.CENTER:ee=P+T/2,P=Math.max(ee,P),G+=Y/2}W=P+T-Y,this._textBaseline===f.CENTER&&(W=B+T-Y/2)}else this._textBaseline!==f.BOTTOM&&this._textBaseline!==f.CENTER||(G=P-(B=z.textSize()*this._textLeading)/2,W=P+B/2);if(te===f.WORD){for(var le=[],Me=0;Me<N.length;Me++){for(var K="",O=N[Me].split(" "),oe=0;oe<O.length;oe++)j="".concat(K+O[oe])+" ",K=k<(Z=this.textWidth(j))&&0<K.length?(le.push(K),"".concat(O[oe])+" "):j;le.push(K)}var me=0;this._textBaseline===f.CENTER?me=(le.length-1)*z.textLeading()/2:this._textBaseline===f.BOTTOM&&(me=(le.length-1)*z.textLeading());for(var Se=0;Se<N.length;Se++){K="",O=N[Se].split(" ");for(var Ue=0;Ue<O.length;Ue++)j="".concat(K+O[Ue])+" ",k<(Z=this.textWidth(j))&&0<K.length?(this._renderText(z,K.trim(),R,P-me,W,G),K="".concat(O[Ue])+" ",P+=z.textLeading()):K=j;this._renderText(z,K.trim(),R,P-me,W,G),P+=z.textLeading()}}else{for(var Xe=[],lt=0;lt<N.length;lt++)for(var ze=N[lt].split(K=""),st=0;st<ze.length;st++)j="".concat(K+ze[st]),(Z=this.textWidth(j))<=k?K+=ze[st]:k<Z&&0<K.length&&(Xe.push(K),K="".concat(ze[st]));Xe.push(K);var at=0;this._textBaseline===f.CENTER?at=(Xe.length-1)*z.textLeading()/2:this._textBaseline===f.BOTTOM&&(at=(Xe.length-1)*z.textLeading());for(var Fe=0;Fe<N.length;Fe++){ze=N[Fe].split(K="");for(var nt=0;nt<ze.length;nt++)j="".concat(K+ze[nt]),(Z=this.textWidth(j))<=k?K+=ze[nt]:k<Z&&0<K.length&&(this._renderText(z,K.trim(),R,P-at,W,G),P+=z.textLeading(),K="".concat(ze[nt]))}this._renderText(z,K.trim(),R,P-at,W,G),P+=z.textLeading()}}else{var Ye=0;this._textBaseline===f.CENTER?Ye=(N.length-1)*z.textLeading()/2:this._textBaseline===f.BOTTOM&&(Ye=(N.length-1)*z.textLeading());for(var ot=0;ot<N.length;ot++)this._renderText(z,N[ot],R,P-Ye,W,G-Ye),P+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var B=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===w(B)&&B.font&&B.font.supported}},{key:"_updateTextMetrics",value:function(){var B,R,P,k,T,N;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((B=document.createElement("span")).style.fontFamily=this._textFont,B.style.fontSize="".concat(this._textSize,"px"),B.innerHTML="ABCjgq|",(N=document.createElement("div")).style.display="inline-block",N.style.width="1px",N.style.height="0px",(R=document.createElement("div")).appendChild(B),R.appendChild(N),R.style.height="0px",R.style.overflow="hidden",document.body.appendChild(R),N.style.verticalAlign="baseline",k=h(N),T=h(B),P=k[1]-T[1],N.style.verticalAlign="bottom",k=h(N),T=h(B),N=k[1]-T[1]-P,document.body.removeChild(R),this._setProperty("_textAscent",P),this._setProperty("_textDescent",N)),this}}])&&_(p.prototype,g),H}(b.default.Element);function h(g){var p=0,y=0;if(g.offsetParent)for(;p+=g.offsetLeft,y+=g.offsetTop,g=g.offsetParent;);else p+=g.offsetLeft,y+=g.offsetTop;return[p,y]}d.prototype.textSize=function(g){return"number"==typeof g?(this._setProperty("_textSize",g),this._leadingSet||this._setProperty("_textLeading",g*f._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=d,$.default=o=b.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(g,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.concat"),g("core-js/modules/es.array.fill"),g("core-js/modules/es.array.for-each"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.function.name"),g("core-js/modules/es.number.to-fixed"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.get-prototype-of"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.reflect.construct"),g("core-js/modules/es.reflect.get"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.concat"),g("core-js/modules/es.array.fill"),g("core-js/modules/es.array.for-each"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.function.name"),g("core-js/modules/es.number.to-fixed"),g("core-js/modules/es.object.get-prototype-of"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(h=g("./main"))&&h.__esModule?h:{default:h},m=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var y=w();if(y&&y.has(p))return y.get(p);var C,H={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in p){var R;Object.prototype.hasOwnProperty.call(p,C)&&((R=B?Object.getOwnPropertyDescriptor(p,C):null)&&(R.get||R.set)?Object.defineProperty(H,C,R):H[C]=p[C])}return H.default=p,y&&y.set(p,H),H}(g("./constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function _(p,y){for(var C=0;C<y.length;C++){var H=y[C];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(p,H.key,H)}}function i(p,y,C){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(P,B,R){if(P=function(k,T){for(;!Object.prototype.hasOwnProperty.call(k,T)&&null!==(k=u(k)););return k}(P,B))return(P=Object.getOwnPropertyDescriptor(P,B)).get?P.get.call(R):P.value})(p,y,C||p)}function a(p,y){return(a=Object.setPrototypeOf||function(C,H){return C.__proto__=H,C})(p,y)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}g("./p5.Renderer");var d="rgba(0,0,0,0)",h=function(p){var y=B;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&a(y,p);var H=function l(p){return function(){var y,C=u(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=u(this).constructor,Reflect.construct(C,arguments,y)):C.apply(this,arguments),C=this,!y||"object"!==b(y)&&"function"!=typeof y){if(void 0!==C)return C;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(B);function B(R,P,k){if(this instanceof B)return(R=H.call(this,R,P,k)).drawingContext=R.canvas.getContext("2d"),R._pInst._setProperty("drawingContext",R.drawingContext),R;throw new TypeError("Cannot call a class as a function")}return y=B,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new f.default.Graphics(this.width,this.height,m.WEBGL,(this._pInst instanceof f.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=m.BLEND,this._setFill(m._DEFAULT_FILL),this._setStroke(m._DEFAULT_STROKE),this.drawingContext.lineCap=m.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(R,P){i(u(B.prototype),"resize",this).call(this,R,P),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var R,P;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof f.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(R=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(R,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(R=this._getFill(),P=(P=this._pInst).color.apply(P,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(P.levels),P=P.toString(),this._setFill(P),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(R),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var R=(R=this._pInst).color.apply(R,arguments);this._setFill(R.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",R.levels)}},{key:"stroke",value:function(){var R=(R=this._pInst).color.apply(R,arguments);this._setStroke(R.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",R.levels)}},{key:"erase",value:function(R,P){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,R=this._pInst.color(255,R).toString(),this.drawingContext.fillStyle=R,this._cachedStrokeStyle=this.drawingContext.strokeStyle,R=this._pInst.color(255,P).toString(),this.drawingContext.strokeStyle=R,P=this._cachedBlendMode,this.blendMode(m.REMOVE),this._cachedBlendMode=P,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(u(B.prototype),"beginClip",this).call(this,R),this._cachedFillStyle=this.drawingContext.fillStyle,R=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=R,this._cachedStrokeStyle=this.drawingContext.strokeStyle,R=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=R,R=this._cachedBlendMode,this.blendMode(m.BLEND),this._cachedBlendMode=R,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),i(u(B.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(R,P,k,T,N,j,Z,ee,z){R.gifProperties&&R._animateGif(this._pInst);try{f.default.MediaElement&&R instanceof f.default.MediaElement&&R._ensureCanvas();var te=(te=this._tint&&R.canvas?this._getTintedImageCanvas(R):te)||R.canvas||R.elt,W=1;R.width&&0<R.width&&(W=te.width/R.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(te,W*P,W*k,W*T,W*N,j,Z,ee,z),this._isErasing&&this._pInst.erase()}catch(G){if("NS_ERROR_NOT_AVAILABLE"!==G.name)throw G}}},{key:"_getTintedImageCanvas",value:function(R){if(!R.canvas)return R;R.tintCanvas||(R.tintCanvas=document.createElement("canvas")),R.tintCanvas.width!==R.canvas.width&&(R.tintCanvas.width=R.canvas.width),R.tintCanvas.height!==R.canvas.height&&(R.tintCanvas.height=R.canvas.height);var P=R.tintCanvas.getContext("2d");return P.save(),P.clearRect(0,0,R.canvas.width,R.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(P.drawImage(R.canvas,0,0),P.globalCompositeOperation="luminosity",P.drawImage(R.canvas,0,0),P.globalCompositeOperation="color",P.drawImage(R.canvas,0,0),P.globalCompositeOperation="multiply",P.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),P.fillRect(0,0,R.canvas.width,R.canvas.height),P.globalCompositeOperation="destination-in"),P.globalAlpha=this._tint[3]/255,P.drawImage(R.canvas,0,0),P.restore(),R.tintCanvas}},{key:"blendMode",value:function(R){if(R===m.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(R!==m.BLEND&&R!==m.REMOVE&&R!==m.DARKEST&&R!==m.LIGHTEST&&R!==m.DIFFERENCE&&R!==m.MULTIPLY&&R!==m.EXCLUSION&&R!==m.SCREEN&&R!==m.REPLACE&&R!==m.OVERLAY&&R!==m.HARD_LIGHT&&R!==m.SOFT_LIGHT&&R!==m.DODGE&&R!==m.BURN&&R!==m.ADD)throw new Error("Mode ".concat(R," not recognized."));this._cachedBlendMode=R,this.drawingContext.globalCompositeOperation=R}}},{key:"blend",value:function(){for(var R=this.drawingContext.globalCompositeOperation,P=arguments.length,k=new Array(P),T=0;T<P;T++)k[T]=arguments[T];var N=k[k.length-1],j=Array.prototype.slice.call(k,0,k.length-1);this.drawingContext.globalCompositeOperation=N,f.default.prototype.copy.apply(this,j),this.drawingContext.globalCompositeOperation=R}},{key:"_getPixel",value:function(R,P){return[(R=this.drawingContext.getImageData(R,P,1,1).data)[0],R[1],R[2],R[3]]}},{key:"loadPixels",value:function(){var P,R=this._pixelsState,k=this.drawingContext.getImageData(0,0,k=this.width*(P=R._pixelDensity),P*=this.height);R._setProperty("imageData",k),R._setProperty("pixels",k.data)}},{key:"set",value:function(R,P,k){R=Math.floor(R),P=Math.floor(P);var T=this._pixelsState;if(k instanceof f.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(T._pixelDensity,T._pixelDensity),this.drawingContext.clearRect(R,P,k.width,k.height),this.drawingContext.drawImage(k.canvas,R,P),this.drawingContext.restore();else{var N=0,j=0,Z=0,ee=0,z=4*(P*T._pixelDensity*(this.width*T._pixelDensity)+R*T._pixelDensity);if(T.imageData||T.loadPixels(),"number"==typeof k)z<T.pixels.length&&(Z=j=N=k,ee=255);else if(Array.isArray(k)){if(k.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<T.pixels.length&&(N=k[0],j=k[1],Z=k[2],ee=k[3])}else k instanceof f.default.Color&&z<T.pixels.length&&(N=k.levels[0],j=k.levels[1],Z=k.levels[2],ee=k.levels[3]);for(var te=0;te<T._pixelDensity;te++)for(var W=0;W<T._pixelDensity;W++)T.pixels[z=4*((P*T._pixelDensity+W)*this.width*T._pixelDensity+(R*T._pixelDensity+te))]=N,T.pixels[z+1]=j,T.pixels[z+2]=Z,T.pixels[z+3]=ee}}},{key:"updatePixels",value:function(R,P,k,T){var N=this._pixelsState,j=N._pixelDensity;void 0===R&&void 0===P&&void 0===k&&void 0===T&&(P=R=0,k=this.width,T=this.height),R*=j,P*=j,k*=j,T*=j,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=N.imageData),this.drawingContext.putImageData(N.imageData,R,P,0,0,k,T)}},{key:"_acuteArcToBezier",value:function(R,P){var j=P/2,k=Math.cos(j),ee=Math.sin(j),T=1/Math.tan(j),N=(j=R+j,Math.cos(j)),Z=(j=Math.sin(j),(4-k)/3);return ee+=(k-Z)*T,{ax:Math.cos(R).toFixed(7),ay:Math.sin(R).toFixed(7),bx:(Z*N+ee*j).toFixed(7),by:(Z*j-ee*N).toFixed(7),cx:(Z*N-ee*j).toFixed(7),cy:(Z*j+ee*N).toFixed(7),dx:Math.cos(R+P).toFixed(7),dy:Math.sin(R+P).toFixed(7)}}},{key:"arc",value:function(R,P,k,T,N,j,Z){var ee,z=this.drawingContext,te=k/2,W=T/2,G=[];for(R+=te,P+=W;1e-5<=j-N;)ee=Math.min(j-N,m.HALF_PI),G.push(this._acuteArcToBezier(N,ee)),N+=ee;return this._doFill&&(this._clipping||z.beginPath(),G.forEach(function(Y,le){0===le&&z.moveTo(R+Y.ax*te,P+Y.ay*W),z.bezierCurveTo(R+Y.bx*te,P+Y.by*W,R+Y.cx*te,P+Y.cy*W,R+Y.dx*te,P+Y.dy*W)}),Z!==m.PIE&&null!=Z||z.lineTo(R,P),z.closePath(),this._clipping||z.fill()),this._doStroke&&(this._clipping||z.beginPath(),G.forEach(function(Y,le){0===le&&z.moveTo(R+Y.ax*te,P+Y.ay*W),z.bezierCurveTo(R+Y.bx*te,P+Y.by*W,R+Y.cx*te,P+Y.cy*W,R+Y.dx*te,P+Y.dy*W)}),Z===m.PIE?(z.lineTo(R,P),z.closePath()):Z===m.CHORD&&z.closePath(),this._clipping||z.stroke()),this}},{key:"ellipse",value:function(ee){var P=this.drawingContext,k=this._doFill,T=this._doStroke,N=parseFloat(ee[0]),j=parseFloat(ee[1]),Z=parseFloat(ee[2]);if(ee=parseFloat(ee[3]),k&&!T){if(this._getFill()===d)return this}else if(!k&&T&&this._getStroke()===d)return this;N+=Z/2,j+=ee/2,Z/=2,ee/=2,this._clipping||P.beginPath(),P.ellipse(N,j,Z,ee,0,0,2*Math.PI),!this._clipping&&k&&P.fill(),!this._clipping&&T&&P.stroke()}},{key:"line",value:function(R,P,k,T){var N=this.drawingContext;return this._doStroke&&this._getStroke()!==d&&(this._clipping||N.beginPath(),N.moveTo(R,P),N.lineTo(k,T),N.stroke()),this}},{key:"point",value:function(R,P){var k,T,N=this.drawingContext;return this._doStroke&&this._getStroke()!==d?(k=this._getStroke(),T=this._getFill(),this._clipping||this._setFill(k),this._clipping||N.beginPath(),N.arc(R,P,N.lineWidth/2,0,m.TWO_PI,!1),void(this._clipping||(N.fill(),this._setFill(T)))):this}},{key:"quad",value:function(R,P,k,T,N,j,Z,ee){var z=this.drawingContext,te=this._doFill,W=this._doStroke;if(te&&!W){if(this._getFill()===d)return this}else if(!te&&W&&this._getStroke()===d)return this;return this._clipping||z.beginPath(),z.moveTo(R,P),z.lineTo(k,T),z.lineTo(N,j),z.lineTo(Z,ee),z.closePath(),!this._clipping&&te&&z.fill(),!this._clipping&&W&&z.stroke(),this}},{key:"rect",value:function(W){var P,k,T=W[0],N=W[1],j=W[2],Z=W[3],ee=W[4],z=W[5],te=W[6],G=(W=W[7],this.drawingContext),Y=this._doFill,le=this._doStroke;if(Y&&!le){if(this._getFill()===d)return this}else if(!Y&&le&&this._getStroke()===d)return this;return this._clipping||G.beginPath(),void 0===ee?G.rect(T,N,j,Z):(void 0===z&&(z=ee),void 0===te&&(te=z),void 0===W&&(W=te),le=(Y=Math.abs(j))/2,k=(P=Math.abs(Z))/2,P<2*(ee=Y<2*ee?le:ee)&&(ee=k),P<2*(z=Y<2*z?le:z)&&(z=k),P<2*(te=Y<2*te?le:te)&&(te=k),P<2*(W=Y<2*W?le:W)&&(W=k),this._clipping||G.beginPath(),G.moveTo(T+ee,N),G.arcTo(T+j,N,T+j,N+Z,z),G.arcTo(T+j,N+Z,T,N+Z,te),G.arcTo(T,N+Z,T,N,W),G.arcTo(T,N,T+j,N,ee),G.closePath()),!this._clipping&&this._doFill&&G.fill(),!this._clipping&&this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(te){var P=this.drawingContext,k=this._doFill,T=this._doStroke,N=te[0],j=te[1],Z=te[2],ee=te[3],z=te[4];if(te=te[5],k&&!T){if(this._getFill()===d)return this}else if(!k&&T&&this._getStroke()===d)return this;this._clipping||P.beginPath(),P.moveTo(N,j),P.lineTo(Z,ee),P.lineTo(z,te),P.closePath(),!this._clipping&&k&&P.fill(),!this._clipping&&T&&P.stroke()}},{key:"endShape",value:function(R,P,k,T,N,j,Z){if(0!==P.length&&(this._doStroke||this._doFill)){var ee,z,te,W=R===m.CLOSE,G=(W&&!j&&P.push(P[0]),P.length);if(k&&null===Z){if(3<G){var Y=[],le=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(P[1][0],P[1][1]),z=1;z+2<G;z++)Y[0]=[(ee=P[z])[0],ee[1]],Y[1]=[ee[0]+(le*P[z+1][0]-le*P[z-1][0])/6,ee[1]+(le*P[z+1][1]-le*P[z-1][1])/6],Y[2]=[P[z+1][0]+(le*P[z][0]-le*P[z+2][0])/6,P[z+1][1]+(le*P[z][1]-le*P[z+2][1])/6],Y[3]=[P[z+1][0],P[z+1][1]],this.drawingContext.bezierCurveTo(Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]);W&&this.drawingContext.lineTo(P[z+1][0],P[z+1][1]),this._doFillStrokeClose(W)}}else if(T&&null===Z){for(this._clipping||this.drawingContext.beginPath(),z=0;z<G;z++)P[z].isVert?P[z].moveTo?this.drawingContext.moveTo(P[z][0],P[z][1]):this.drawingContext.lineTo(P[z][0],P[z][1]):this.drawingContext.bezierCurveTo(P[z][0],P[z][1],P[z][2],P[z][3],P[z][4],P[z][5]);this._doFillStrokeClose(W)}else if(N&&null===Z){for(this._clipping||this.drawingContext.beginPath(),z=0;z<G;z++)P[z].isVert?P[z].moveTo?this.drawingContext.moveTo(P[z][0],P[z][1]):this.drawingContext.lineTo(P[z][0],P[z][1]):this.drawingContext.quadraticCurveTo(P[z][0],P[z][1],P[z][2],P[z][3]);this._doFillStrokeClose(W)}else if(Z===m.POINTS)for(z=0;z<G;z++)ee=P[z],this._doStroke&&this._pInst.stroke(ee[6]),this._pInst.point(ee[0],ee[1]);else if(Z===m.LINES)for(z=0;z+1<G;z+=2)ee=P[z],this._doStroke&&this._pInst.stroke(P[z+1][6]),this._pInst.line(ee[0],ee[1],P[z+1][0],P[z+1][1]);else if(Z===m.TRIANGLES)for(z=0;z+2<G;z+=3)ee=P[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ee[0],ee[1]),this.drawingContext.lineTo(P[z+1][0],P[z+1][1]),this.drawingContext.lineTo(P[z+2][0],P[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(P[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(P[z+2][6]),this.drawingContext.stroke());else if(Z===m.TRIANGLE_STRIP)for(z=0;z+1<G;z++)ee=P[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(P[z+1][0],P[z+1][1]),this.drawingContext.lineTo(ee[0],ee[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(P[z+1][5]),z+2<G&&(this.drawingContext.lineTo(P[z+2][0],P[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(P[z+2][5])),this._doFillStrokeClose(W);else if(Z===m.TRIANGLE_FAN){if(2<G){for(this._clipping||this.drawingContext.beginPath(),z=2;z<G;z++)ee=P[z],this.drawingContext.moveTo(P[0][0],P[0][1]),this.drawingContext.lineTo(P[z-1][0],P[z-1][1]),this.drawingContext.lineTo(ee[0],ee[1]),this.drawingContext.lineTo(P[0][0],P[0][1]),z<G-1&&(this._doFill&&ee[5]!==P[z+1][5]||this._doStroke&&ee[6]!==P[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(ee[5]),this.drawingContext.fill(),this._pInst.fill(P[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(ee[6]),this.drawingContext.stroke(),this._pInst.stroke(P[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(W)}}else if(Z===m.QUADS)for(z=0;z+3<G;z+=4){for(ee=P[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ee[0],ee[1]),te=1;te<4;te++)this.drawingContext.lineTo(P[z+te][0],P[z+te][1]);this.drawingContext.lineTo(ee[0],ee[1]),!this._clipping&&this._doFill&&this._pInst.fill(P[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[z+3][6]),this._doFillStrokeClose(W)}else if(Z===m.QUAD_STRIP){if(3<G)for(z=0;z+1<G;z+=2)ee=P[z],this._clipping||this.drawingContext.beginPath(),z+3<G?(this.drawingContext.moveTo(P[z+2][0],P[z+2][1]),this.drawingContext.lineTo(ee[0],ee[1]),this.drawingContext.lineTo(P[z+1][0],P[z+1][1]),this.drawingContext.lineTo(P[z+3][0],P[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(P[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[z+3][6])):(this.drawingContext.moveTo(ee[0],ee[1]),this.drawingContext.lineTo(P[z+1][0],P[z+1][1])),this._doFillStrokeClose(W)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(P[0][0],P[0][1]),z=1;z<G;z++)(ee=P[z]).isVert&&(ee.moveTo?(W&&this.drawingContext.closePath(),this.drawingContext.moveTo(ee[0],ee[1])):this.drawingContext.lineTo(ee[0],ee[1]));this._doFillStrokeClose(W)}j=N=T=k=!1,W&&P.pop()}return this}},{key:"strokeCap",value:function(R){return R!==m.ROUND&&R!==m.SQUARE&&R!==m.PROJECT||(this.drawingContext.lineCap=R),this}},{key:"strokeJoin",value:function(R){return R!==m.ROUND&&R!==m.BEVEL&&R!==m.MITER||(this.drawingContext.lineJoin=R),this}},{key:"strokeWeight",value:function(R){return this.drawingContext.lineWidth=void 0===R||0===R?1e-4:R,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(R){R!==this._cachedFillStyle&&(this.drawingContext.fillStyle=R,this._cachedFillStyle=R)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(R){R!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=R,this._cachedStrokeStyle=R)}},{key:"bezier",value:function(R,P,k,T,N,j,Z,ee){return this._pInst.beginShape(),this._pInst.vertex(R,P),this._pInst.bezierVertex(k,T,N,j,Z,ee),this._pInst.endShape(),this}},{key:"curve",value:function(R,P,k,T,N,j,Z,ee){return this._pInst.beginShape(),this._pInst.curveVertex(R,P),this._pInst.curveVertex(k,T),this._pInst.curveVertex(N,j),this._pInst.curveVertex(Z,ee),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(R){R&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(R,P,k,T,N,j){this.drawingContext.transform(R,P,k,T,N,j)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(R){this.drawingContext.rotate(R)}},{key:"scale",value:function(R,P){return this.drawingContext.scale(R,P),this}},{key:"translate",value:function(R,P){return R instanceof f.default.Vector&&(P=R.y,R=R.x),this.drawingContext.translate(R,P),this}},{key:"_renderText",value:function(R,P,k,T,N,j){if(!(T<j||N<=T))return R.push(),this._isOpenType()?this._textFont._renderPath(P,k,T,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(P,k,T),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(m._DEFAULT_TEXT_FILL),this.drawingContext.fillText(P,k,T))),R.pop(),R}},{key:"textWidth",value:function(R){return this._isOpenType()?this._textFont._textWidth(R,this._textSize):this.drawingContext.measureText(R).width}},{key:"_applyTextProperties",value:function(){var R=this._pInst,P=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),P=this._textFont,this._isOpenType()&&(P=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),P||"sans-serif");return/\s/.exec(P)&&(P='"'.concat(P,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(P),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===m.CENTER?m._CTX_MIDDLE:this._textBaseline,R}},{key:"push",value:function(){return this.drawingContext.save(),i(u(B.prototype),"push",this).call(this)}},{key:"pop",value:function(R){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(u(B.prototype),"pop",this).call(this,R)}}])&&_(y.prototype,p),B}(f.default.Renderer);h.prototype.text=function(p,y,C,P,B){var R;return void 0!==P&&this.drawingContext.textBaseline===m.BASELINE&&(R=!0,this.drawingContext.textBaseline=m.TOP),P=f.default.Renderer.prototype.text.apply(this,arguments),R&&(this.drawingContext.textBaseline=m.BASELINE),P},f.default.Renderer2D=h,$.default=g=f.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(){return{}}v.default.prototype._promisePreloads=[];var f=!(v.default.prototype.registerPromisePreload=function(m){v.default.prototype._promisePreloads.push(m)});v.default.prototype._setupPromisePreloads=function(){var m=!0,w=!1,_=void 0;try{for(var i,a=this._promisePreloads[Symbol.iterator]();!(m=(i=a.next()).done);m=!0){var l=i.value,u=this,d=l.method,h=l.addCallbacks,g=l.legacyPreloadSetup,p=l.target||this,y=p[d].bind(p);if(p===v.default.prototype){if(f)continue;u=null,y=p[d]}p[d]=this._wrapPromisePreload(u,y,h),g&&(p[g.method]=this._legacyPreloadGenerator(u,g,p[d]))}}catch(C){w=!0,_=C}finally{try{m||null==a.return||a.return()}finally{if(w)throw _}}f=!0},v.default.prototype._wrapPromisePreload=function(m,w,_){var i=function(){for(var a=this,l=(this._incrementPreload(),null),u=null,d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];if(_)for(var p=h.length-1;0<=p&&!u&&"function"==typeof h[p];p--)u=l,l=h.pop();var y=Promise.resolve(w.apply(this,h));return l&&y.then(l),u&&y.catch(u),y.then(function(){return a._decrementPreload()}),y};return m?i.bind(m):i},v.default.prototype._legacyPreloadGenerator=function(m,a,_){var i=a.createBaseObject||b;return a=function(){var l=this;this._incrementPreload();for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var g=i.apply(this,d);return _.apply(this,d).then(function(p){Object.assign(g,p),l._decrementPreload()}),g},m?a.bind(m):a}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(i=o("./main"))&&i.__esModule?i:{default:i},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==w(a)&&"function"!=typeof a)return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var g;Object.prototype.hasOwnProperty.call(a,u)&&((g=h?Object.getOwnPropertyDescriptor(a,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("./constants"));function m(){var a;return"function"!=typeof WeakMap?null:(m=function(){return a},a=new WeakMap)}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var _="defaultCanvas0",i=(b.default.prototype.createCanvas=function(a,l,u,d){var h,g,p;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=f.P2D,d=arguments[2]):h=u||f.P2D,d)(p=document.getElementById(_))&&p.parentNode.removeChild(p),p=d,this._defaultGraphicsCreated=!1;else{if(h===f.WEBGL)(p=document.getElementById(_))&&(p.parentNode.removeChild(p),g=this._renderer,this._elements=this._elements.filter(function(C){return C!==g})),(p=document.createElement("canvas")).id=_,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=d||document.createElement("canvas");for(var y=0;document.getElementById("defaultCanvas".concat(y));)y++;_="defaultCanvas".concat(y),p.id=_,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(p)}return h===f.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),a=(d=this._renderer._adjustDimensions(a,l)).adjustedWidth,l=d.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,l),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(a,l,u){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var d,h,g,p={};for(d in this.drawingContext){var y=this.drawingContext[d];"object"!==w(y)&&"function"!=typeof y&&(p[d]=y)}for(g in this._renderer instanceof b.default.RendererGL&&(a=(h=this._renderer._adjustDimensions(a,l)).adjustedWidth,l=h.adjustedHeight),this.width=a,this.height=l,this._renderer.resize(a,l),p)try{this.drawingContext[g]=p[g]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(a,l){for(var u=arguments.length,d=new Array(2<u?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];return d[0]instanceof HTMLCanvasElement&&(d[1]=d[0],d[0]=f.P2D),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(a,l,d[0],this,d[1])},b.default.prototype.createFramebuffer=function(a){return new b.default.Framebuffer(this,a)},b.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},b.default.prototype.blendMode=function(a){b.default._validateParameters("blendMode",arguments),a===f.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=f.BLEND),this._renderer.blendMode(a)},b.default);$.default=i},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=i(o("../main")),m=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=_();if(u&&u.has(l))return u.get(l);var d,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=g?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=l[d])}return h.default=l,u&&u.set(l,h),h}(o("../constants")),w=i(o("../helpers"));function _(){var l;return"function"!=typeof WeakMap?null:(_=function(){return l},l=new WeakMap)}function i(l){return l&&l.__esModule?l:{default:l}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),f.default.prototype._normalizeArcAngles=function(l,u,d,h,g){var p;return l-=m.TWO_PI*Math.floor(l/m.TWO_PI),u-=m.TWO_PI*Math.floor(u/m.TWO_PI),p=Math.min(Math.abs(l-u),m.TWO_PI-Math.abs(l-u)),g&&(l=l<=m.HALF_PI?Math.atan(d/h*Math.tan(l)):l>m.HALF_PI&&l<=3*m.HALF_PI?Math.atan(d/h*Math.tan(l))+m.PI:Math.atan(d/h*Math.tan(l))+m.TWO_PI,u=u<=m.HALF_PI?Math.atan(d/h*Math.tan(u)):u>m.HALF_PI&&u<=3*m.HALF_PI?Math.atan(d/h*Math.tan(u))+m.PI:Math.atan(d/h*Math.tan(u))+m.TWO_PI),u<l&&(u+=m.TWO_PI),{start:l,stop:u,correspondToSamePoint:p<1e-5}},f.default.prototype.arc=function(l,u,d,h,g,p,y,C){return f.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&g!==p&&(g=this._toRadians(g),p=this._toRadians(p),d=Math.abs(d),h=Math.abs(h),l=w.default.modeAdjust(l,u,d,h,this._renderer._ellipseMode),(u=this._normalizeArcAngles(g,p,l.w,l.h,!0)).correspondToSamePoint?this._renderer.ellipse([l.x,l.y,l.w,l.h,C]):(this._renderer.arc(l.x,l.y,l.w,l.h,u.start,u.stop,y,C),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[l.x,l.y,l.w,l.h,u.start,u.stop,y]))),this},f.default.prototype.ellipse=function(l,u,d,h,g){return f.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},f.default.prototype.circle=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];f.default._validateParameters("circle",u);var h=u.slice(0,2);return h.push(u[2],u[2]),this._renderEllipse.apply(this,function a(l){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(l)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(h))},f.default.prototype._renderEllipse=function(l,u,d,h,g){return(this._renderer._doStroke||this._renderer._doFill)&&(d<0&&(d=Math.abs(d)),void 0===h?h=d:h<0&&(h=Math.abs(h)),l=w.default.modeAdjust(l,u,d,h,this._renderer._ellipseMode),this._renderer.ellipse([l.x,l.y,l.w,l.h,g]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h])),this},f.default.prototype.line=function(){for(var l,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("line",d),this._renderer._doStroke&&(l=this._renderer).line.apply(l,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",d),this},f.default.prototype.point=function(){for(var l,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("point",d),this._renderer._doStroke&&(1===d.length&&d[0]instanceof f.default.Vector?this._renderer.point.call(this._renderer,d[0].x,d[0].y,d[0].z):((l=this._renderer).point.apply(l,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",d))),this},f.default.prototype.quad=function(){for(var l,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("quad",d),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&d.length<12?this._renderer.quad.call(this._renderer,d[0],d[1],0,d[2],d[3],0,d[4],d[5],0,d[6],d[7],0,d[8],d[9]):((l=this._renderer).quad.apply(l,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",d))),this},f.default.prototype.rect=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return f.default._validateParameters("rect",u),this._renderRect.apply(this,u)},f.default.prototype.square=function(l,u,d,h,g,p,y){return f.default._validateParameters("square",arguments),this._renderRect.call(this,l,u,d,d,h,g,p,y)},f.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var l=w.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[l.x,l.y,l.w,l.h],d=4;d<arguments.length;d++)u[d]=arguments[d];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[l.x,l.y,l.w,l.h])}return this},f.default.prototype.triangle=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return f.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},$.default=o=f.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../main"))&&_.__esModule?_:{default:_},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=w();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}f.default.prototype.ellipseMode=function(i){return f.default._validateParameters("ellipseMode",arguments),i!==m.CORNER&&i!==m.CORNERS&&i!==m.RADIUS&&i!==m.CENTER||(this._renderer._ellipseMode=i),this},f.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},f.default.prototype.rectMode=function(i){return f.default._validateParameters("rectMode",arguments),i!==m.CORNER&&i!==m.CORNERS&&i!==m.RADIUS&&i!==m.CENTER||(this._renderer._rectMode=i),this},f.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},f.default.prototype.strokeCap=function(i){return f.default._validateParameters("strokeCap",arguments),i!==m.ROUND&&i!==m.SQUARE&&i!==m.PROJECT||this._renderer.strokeCap(i),this},f.default.prototype.strokeJoin=function(i){return f.default._validateParameters("strokeJoin",arguments),i!==m.ROUND&&i!==m.BEVEL&&i!==m.MITER||this._renderer.strokeJoin(i),this},f.default.prototype.strokeWeight=function(i){return f.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var _=f.default;$.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(b=o("../main"))&&b.__esModule?b:{default:b};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var f,m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return v.default._validateParameters("bezier",w),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,w),this},v.default.prototype.bezierDetail=function(f){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},v.default.prototype.bezierPoint=function(f,m,w,_,i){v.default._validateParameters("bezierPoint",arguments);var a=1-i;return Math.pow(a,3)*f+3*Math.pow(a,2)*i*m+3*a*Math.pow(i,2)*w+Math.pow(i,3)*_},v.default.prototype.bezierTangent=function(f,m,w,_,i){v.default._validateParameters("bezierTangent",arguments);var a=1-i;return 3*_*Math.pow(i,2)-3*w*Math.pow(i,2)+6*w*a*i-6*m*a*i+3*m*Math.pow(a,2)-3*f*Math.pow(a,2)},v.default.prototype.curve=function(){for(var f,m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return v.default._validateParameters("curve",w),this._renderer._doStroke&&(f=this._renderer).curve.apply(f,w),this},v.default.prototype.curveDetail=function(f){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},v.default.prototype.curveTightness=function(f){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},v.default.prototype.curvePoint=function(f,m,w,_,i){v.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,l=i*i*i,u=i*i;return f*((a-1)/2*l+(1-a)*u+(a-1)/2*i)+m*((a+3)/2*l+(-5-a)/2*u+1)+w*((-3-a)/2*l+(a+2)*u+(1-a)/2*i)+_*((1-a)/2*l+(a-1)/2*u)},v.default.prototype.curveTangent=function(f,m,w,_,u){v.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,l=u*u*3;return f*((a-1)/2*l+(1-a)*(u*=2)+(a-1)/2)+m*((a+3)/2*l+(-5-a)/2*u)+w*((-3-a)/2*l+(a+2)*u+(1-a)/2)+_*((1-a)/2*l+(a-1)/2*u)};var b=v.default;$.default=b},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,ie,$){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(y)}function b(y){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(C){return v(C)}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":v(C)})(y)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(p=o("../main"))&&p.__esModule?p:{default:p},m=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==b(y)&&"function"!=typeof y)return{default:y};var C=w();if(C&&C.has(y))return C.get(y);var H,B={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in y){var P;Object.prototype.hasOwnProperty.call(y,H)&&((P=R?Object.getOwnPropertyDescriptor(y,H):null)&&(P.get||P.set)?Object.defineProperty(B,H,P):B[H]=y[H])}return B.default=y,C&&C.set(y,B),B}(o("../constants"));function w(){var y;return"function"!=typeof WeakMap?null:(w=function(){return y},y=new WeakMap)}var _=null,i=[],a=[],l=!1,u=!1,d=!1,h=!1,g=!0,p=(f.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],h=!0),this},f.default.prototype.beginShape=function(y){var C;return f.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(C=this._renderer).beginShape.apply(C,arguments):(_=y===m.POINTS||y===m.LINES||y===m.TRIANGLES||y===m.TRIANGLE_FAN||y===m.TRIANGLE_STRIP||y===m.QUADS||y===m.QUAD_STRIP?y:null,i=[],a=[]),this},f.default.prototype.bezierVertex=function(){for(var y,C=arguments.length,H=new Array(C),B=0;B<C;B++)H[B]=arguments[B];if(f.default._validateParameters("bezierVertex",H),this._renderer.isP3D)(y=this._renderer).bezierVertex.apply(y,H);else if(0===i.length)f.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{l=!0;for(var R=[],P=0;P<H.length;P++)R[P]=H[P];R.isVert=!1,(h?a:i).push(R)}return this},f.default.prototype.curveVertex=function(){for(var y,C=arguments.length,H=new Array(C),B=0;B<C;B++)H[B]=arguments[B];return f.default._validateParameters("curveVertex",H),this._renderer.isP3D?(y=this._renderer).curveVertex.apply(y,H):(u=!0,this.vertex(H[0],H[1])),this},f.default.prototype.endContour=function(){if(!this._renderer.isP3D){var y=a[0].slice();y.isVert=a[0].isVert,y.moveTo=!1,a.push(y),g&&(i.push(i[0]),g=!1);for(var C=0;C<a.length;C++)i.push(a[C])}return this},f.default.prototype.endShape=function(y){var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(f.default._validateParameters("endShape",arguments),C<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),C=1),this._renderer.isP3D)this._renderer.endShape(y,u,l,d,h,_,C);else{if(1!==C&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(C=y===m.CLOSE)&&!h&&i.push(i[0]),this._renderer.endShape(y,i,u,l,d,h,_),g=!(h=d=l=u=!1),C&&i.pop()}return this},f.default.prototype.quadraticVertex=function(){for(var y,C=arguments.length,H=new Array(C),B=0;B<C;B++)H[B]=arguments[B];if(f.default._validateParameters("quadraticVertex",H),this._renderer.isP3D)(y=this._renderer).quadraticVertex.apply(y,H);else{if(this._contourInited)return(y={}).x=H[0],y.y=H[1],y.x3=H[2],y.y3=H[3],y.type=m.QUADRATIC,this._contourVertices.push(y),this;if(0<i.length){d=!0;for(var R=[],P=0;P<H.length;P++)R[P]=H[P];R.isVert=!1,(h?a:i).push(R)}else f.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},f.default.prototype.vertex=function(y,C,H,B,R){var P;return this._renderer.isP3D?(P=this._renderer).vertex.apply(P,arguments):((P=[]).isVert=!0,P[0]=y,P[1]=C,P[2]=0,P[3]=0,P[4]=0,P[5]=this._renderer._getFill(),P[6]=this._renderer._getStroke(),H&&(P.moveTo=H),(h?(0===a.length&&(P.moveTo=!0),a):i).push(P)),this},f.default.prototype.normal=function(y,C,H){var B;return this._assert3d("normal"),f.default._validateParameters("normal",arguments),(B=this._renderer).normal.apply(B,arguments),this},f.default);$.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,ie,$){},{}],295:[function(o,ie,$){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var b=parseInt(v),f=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if("function"==typeof f.draw){void 0===f.setup&&f.scale(f._pixelDensity,f._pixelDensity);for(var m=0;m<b;m++){f.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),f._renderer.isP3D&&f._renderer._update(),f._setProperty("frameCount",f.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{f.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},$.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var f=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||f?(f=this._renderer).applyMatrix.apply(f,function b(f){return function(m){if(Array.isArray(m)){for(var w=0,_=new Array(m.length);w<m.length;w++)_[w]=m[w];return _}}(f)||function(m){if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m))return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(f=this._renderer).applyMatrix.apply(f,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(f,m){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(f),m),this},v.default.prototype.rotateX=function(f){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(f)),this},v.default.prototype.rotateY=function(f){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(f)),this},v.default.prototype.rotateZ=function(f){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(f)),this},v.default.prototype.scale=function(f,m,w){var _;return v.default._validateParameters("scale",arguments),f instanceof v.default.Vector?(f=(_=f).x,m=_.y,w=_.z):Array.isArray(f)&&(f=(_=f)[0],m=_[1],w=_[2]||1),isNaN(m)?m=w=f:isNaN(w)&&(w=1),this._renderer.scale(f,m,w),this},v.default.prototype.shearX=function(f){return v.default._validateParameters("shearX",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this},v.default.prototype.shearY=function(f){return v.default._validateParameters("shearY",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this},v.default.prototype.translate=function(f,m,w){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(f,m,w):this._renderer.translate(f,m),this},$.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,ie,$){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(w){return function(_){if(Array.isArray(_)){for(var i=0,a=new Array(_.length);i<_.length;i++)a[i]=_[i];return a}}(w)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(w){return(m="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(w)}b.default.prototype.storeItem=function(w,_){"string"!=typeof w&&console.log("The argument that you passed to storeItem() - ".concat(w," is not a string.")),w.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(w," must not end with 'p5TypeID'.")),void 0===_&&console.log("You cannot store undefined variables using storeItem().");var i=m(_);switch(i){case"number":case"boolean":_=_.toString();break;case"object":_ instanceof b.default.Color?i="p5.Color":_ instanceof b.default.Vector&&(i="p5.Vector",_=[_.x,_.y,_.z]),_=JSON.stringify(_)}localStorage.setItem(w,_),w="".concat(w,"p5TypeID"),localStorage.setItem(w,i)},b.default.prototype.getItem=function(w){var _=localStorage.getItem(w),i=localStorage.getItem("".concat(w,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(w,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==_)switch(i){case"number":_=parseFloat(_);break;case"boolean":_="true"===_;break;case"object":_=JSON.parse(_);break;case"p5.Color":_=JSON.parse(_),_=this.color.apply(this,f(_.levels));break;case"p5.Vector":_=JSON.parse(_),_=this.createVector.apply(this,f(_))}return _},b.default.prototype.clearStorage=function(){var w=this;Object.keys(localStorage).forEach(function(_){_.endsWith("p5TypeID")&&w.removeItem(_.replace("p5TypeID",""))})},b.default.prototype.removeItem=function(w){"string"!=typeof w&&console.log("The argument that you passed to removeItem() - ".concat(w," is not a string.")),localStorage.removeItem(w),localStorage.removeItem("".concat(w,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,ie,$){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function b(d){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(o=o("../core/main"))&&o.__esModule?o:{default:o};function m(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),h&&w(d,h)}function w(d,h){return(w=Object.setPrototypeOf||function(g,p){return g.__proto__=p,g})(d,h)}function _(d){return function(){var h,g=i(d);if(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=i(this).constructor,Reflect.construct(g,arguments,h)):g.apply(this,arguments),g=this,!h||"object"!==b(h)&&"function"!=typeof h){if(void 0!==g)return g;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function i(d){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(d)}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){for(var g=0;g<h.length;g++){var p=h[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function u(d,h,g){h&&l(d.prototype,h),g&&l(d,g)}f.default.prototype.createStringDict=function(d,h){return f.default._validateParameters("createStringDict",arguments),new f.default.StringDict(d,h)},f.default.prototype.createNumberDict=function(d,h){return f.default._validateParameters("createNumberDict",arguments),new f.default.NumberDict(d,h)},f.default.TypedDict=function(){function d(h,g){return a(this,d),h instanceof Object?this.data=h:(this.data={},this.data[h]=g),this}return u(d,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(h){return this.data.hasOwnProperty(h)}},{key:"get",value:function(h){if(this.data.hasOwnProperty(h))return this.data[h];console.log("".concat(h," does not exist in this Dictionary"))}},{key:"set",value:function(h,g){this._validate(g)?this.data[h]=g:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(h){for(var g in h)this.set(g,h[g])}},{key:"create",value:function(h,g){h instanceof Object&&void 0===g?this._addObj(h):void 0!==h?this.set(h,g):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(h){if(!this.data.hasOwnProperty(h))throw new Error("".concat(h," does not exist in this Dictionary"));delete this.data[h]}},{key:"print",value:function(){for(var h in this.data)console.log("key:".concat(h," value:").concat(this.data[h]))}},{key:"saveTable",value:function(h){var g,p="";for(g in this.data)p+="".concat(g,",").concat(this.data[g],"\n");var y=new Blob([p],{type:"text/csv"});f.default.prototype.downloadFile(y,h||"mycsv","csv")}},{key:"saveJSON",value:function(h,g){f.default.prototype.saveJSON(this.data,h,g)}},{key:"_validate",value:function(h){return!0}}]),d}(),f.default.StringDict=function(){m(h,f.default.TypedDict);var d=_(h);function h(){a(this,h);for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];return d.call.apply(d,[this].concat(p))}return u(h,[{key:"_validate",value:function(g){return"string"==typeof g}}]),h}(),f.default.NumberDict=function(){m(h,f.default.TypedDict);var d=_(h);function h(){a(this,h);for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];return d.call.apply(d,[this].concat(p))}return u(h,[{key:"_validate",value:function(g){return"number"==typeof g}},{key:"add",value:function(g,p){this.data.hasOwnProperty(g)?this.data[g]+=p:console.log("The key - ".concat(g," does not exist in this dictionary."))}},{key:"sub",value:function(g,p){this.add(g,-p)}},{key:"mult",value:function(g,p){this.data.hasOwnProperty(g)?this.data[g]*=p:console.log("The key - ".concat(g," does not exist in this dictionary."))}},{key:"div",value:function(g,p){this.data.hasOwnProperty(g)?this.data[g]/=p:console.log("The key - ".concat(g," does not exist in this dictionary."))}},{key:"_valueTest",value:function(g){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,y=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*g<y*g&&(y=this.data[p]);return y}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(g){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],y=1;y<Object.keys(this.data).length;y++)Object.keys(this.data)[y]*g<p*g&&(p=Object.keys(this.data)[y]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),h}(),$.default=o=f.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(p,y){for(var C=0;C<y.length;C++){var H=y[C];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(p,H.key,H)}}function m(p,y,C){y&&f(p.prototype,y),C&&f(p,C)}function w(p,y){return(w=Object.setPrototypeOf||function(C,H){return C.__proto__=H,C})(p,y)}function i(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p){return(u="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}function d(p,y,C){return(y._userNode||document.body).appendChild(p),C=new(C?b.default.MediaElement:b.default.Element)(p,y),y._elements.push(C),C}function h(p,P,C,H){var B=document.createElement(P),R=("string"==typeof(C=C||"")&&(C=[C]),!0),k=void(P=!1);try{for(var T,N=C[Symbol.iterator]();!(R=(T=N.next()).done);R=!0){var j=T.value,Z=document.createElement("source");Z.setAttribute("src",j),B.appendChild(Z)}}catch(z){P=!0,k=z}finally{try{R||null==N.return||N.return()}finally{if(P)throw k}}"function"==typeof H&&B.addEventListener("canplaythrough",function z(){H(),B.removeEventListener("canplaythrough",z)});var ee=d(B,p,!0);return ee.loadedmetadata=!1,B.addEventListener("loadedmetadata",function(){ee.width=B.videoWidth,ee.height=B.videoHeight,0===ee.elt.width&&(ee.elt.width=B.videoWidth),0===ee.elt.height&&(ee.elt.height=B.videoHeight),ee.presetPlaybackRate&&(ee.elt.playbackRate=ee.presetPlaybackRate,delete ee.presetPlaybackRate),ee.loadedmetadata=!0}),ee}function g(p,y,C,H){l(this,g),this.callback=p,this.time=y,this.id=C,this.val=H}b.default.prototype.select=function(p,y){return b.default._validateParameters("select",arguments),(y=this._getContainer(y).querySelector(p))?this._wrapElement(y):null},b.default.prototype.selectAll=function(p,y){b.default._validateParameters("selectAll",arguments);var C=[],H=this._getContainer(y).querySelectorAll(p);if(H)for(var B=0;B<H.length;B++){var R=this._wrapElement(H[B]);C.push(R)}return C},b.default.prototype._getContainer=function(p){var y=document;return"string"==typeof p?y=document.querySelector(p)||document:p instanceof b.default.Element?y=p.elt:p instanceof HTMLElement&&(y=p),y},b.default.prototype._wrapElement=function(p){var y,C=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((y=new b.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},y):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new b.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new b.default.Element(p,this)):0<C.length&&C.every(function(H){return"INPUT"===H.tagName||"LABEL"===H.tagName})&&("DIV"===p.tagName||"SPAN"===p.tagName)?this.createRadio(new b.default.Element(p,this)):new b.default.Element(p,this)},b.default.prototype.removeElements=function(p){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(y){return!(y.elt instanceof HTMLCanvasElement)}).map(function(y){return y.remove()})},b.default.Element.prototype.changed=function(p){return b.default.Element._adjustListener("change",p,this),this},b.default.Element.prototype.input=function(p){return b.default.Element._adjustListener("input",p,this),this},b.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("div");return y.innerHTML=p,d(y,this)},b.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("p");return y.innerHTML=p,d(y,this)},b.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("span");return y.innerHTML=p,d(y,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var p,y=document.createElement("img"),C=arguments;return 1<C.length&&"string"==typeof C[1]&&(y.alt=C[1]),2<C.length&&"string"==typeof C[2]&&(y.crossOrigin=C[2]),y.src=C[0],p=d(y,this),y.addEventListener("load",function(){p.width=y.offsetWidth||y.width,p.height=y.offsetHeight||y.height;var H=C[C.length-1];"function"==typeof H&&H(p)}),p},b.default.prototype.createA=function(p,y,C){b.default._validateParameters("createA",arguments);var H=document.createElement("a");return H.href=p,H.innerHTML=y,C&&(H.target=C),d(H,this)},b.default.prototype.createSlider=function(p,y,C,H){b.default._validateParameters("createSlider",arguments);var B=document.createElement("input");return B.type="range",B.min=p,B.max=y,0===H?B.step=1e-18:H&&(B.step=H),"number"==typeof C&&(B.value=C),d(B,this)},b.default.prototype.createButton=function(p,y){b.default._validateParameters("createButton",arguments);var C=document.createElement("button");return C.innerHTML=p,y&&(C.value=y),d(C,this)},b.default.prototype.createCheckbox=function(){for(var p=arguments.length,y=new Array(p),C=0;C<p;C++)y[C]=arguments[C];b.default._validateParameters("createCheckbox",y);var H=document.createElement("div"),B=document.createElement("input"),R=(B.type="checkbox",document.createElement("label")),P=(R.appendChild(B),H.appendChild(R),d(H,this));return P.checked=function(){var k=P.elt.firstElementChild.getElementsByTagName("input")[0];if(k){if(0===arguments.length)return k.checked;k.checked=!(arguments.length<=0||!arguments[0])}return P},this.value=function(k){return P.value=k,this},y[0]&&(P.value(y[0]),(H=document.createElement("span")).innerHTML=y[0],R.appendChild(H)),y[1]&&(B.checked=!0),P},b.default.prototype.createSelect=function(){for(var p,y=arguments.length,C=new Array(y),H=0;H<y;H++)C[H]=arguments[H];b.default._validateParameters("createSelect",C);var B,R=C[0];return R instanceof b.default.Element&&R.elt instanceof HTMLSelectElement?this.elt=(p=R).elt:R instanceof HTMLSelectElement?(p=d(R,this),this.elt=R):(B=document.createElement("select"),R&&"boolean"==typeof R&&B.setAttribute("multiple","true"),p=d(B,this),this.elt=B),p.option=function(P,k){var T;if(void 0!==P){for(var N,j=0;j<this.elt.length;j+=1)if(this.elt[j].textContent===P){T=j;break}void 0!==T?!1===k?this.elt.remove(T):this.elt[T].value=k:((N=document.createElement("option")).textContent=P,N.value=void 0===k?P:k,this.elt.appendChild(N),this._pInst._elements.push(N))}},p.selected=function(P){if(void 0!==P){for(var k=0;k<this.elt.length;k+=1)this.elt[k].value.toString()===P.toString()&&(this.elt.selectedIndex=k);return this}if(this.elt.getAttribute("multiple")){var T=[],N=!0,j=!1,Z=void 0;try{for(var ee,z=this.elt.selectedOptions[Symbol.iterator]();!(N=(ee=z.next()).done);N=!0)T.push(ee.value.value)}catch(W){j=!0,Z=W}finally{try{N||null==z.return||z.return()}finally{if(j)throw Z}}return T}return this.elt.value},p.disable=function(P){if("string"==typeof P)for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===P&&(this.elt[k].disabled=!0,this.elt[k].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(P){if("string"==typeof P)for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===P&&(this.elt[k].disabled=!1,this.elt[k].selected=!1);else{this.elt.disabled=!1;for(var T=0;T<this.elt.length;T++)this.elt[T].disabled=!1,this.elt[T].selected=!1}return this},p},b.default.prototype.createRadio=function(){function p(P){return P instanceof HTMLInputElement&&"radio"===P.type}function y(P){return P instanceof HTMLLabelElement}var C,H,B,R=arguments.length<=0?void 0:arguments[0];return R instanceof b.default.Element&&(R.elt instanceof HTMLDivElement||R.elt instanceof HTMLSpanElement)?(C=R,this.elt=R.elt):R instanceof HTMLDivElement||R instanceof HTMLSpanElement?(C=d(R,this),H=this.elt=R,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(B=arguments.length<=1?void 0:arguments[1])):("string"==typeof R&&(B=R),H=document.createElement("div"),C=d(H,this),this.elt=H),C._name=B||"radioOption",C._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(P){return p(P)||y(P)&&p(P.firstElementChild)}).map(function(P){return p(P)?P:P.firstElementChild})},C.option=function(P,k){var T,N,j,Z=!0,ee=!1,z=void 0;try{for(var te,W=C._getOptionsArray()[Symbol.iterator]();!(Z=(te=W.next()).done);Z=!0){var G=te.value;if(G.value===P){T=G;break}}}catch(Y){ee=!0,z=Y}finally{try{Z||null==W.return||W.return()}finally{if(ee)throw z}}return void 0===T&&((T=document.createElement("input")).setAttribute("type","radio"),T.setAttribute("value",P)),T.setAttribute("name",C._name),y(T.parentElement)?N=T.parentElement:(N=document.createElement("label")).insertAdjacentElement("afterbegin",T),N.lastElementChild instanceof HTMLSpanElement?j=N.lastElementChild:(j=document.createElement("span"),T.insertAdjacentElement("afterend",j)),j.innerHTML=void 0===k?P:k,this.elt.appendChild(N),T},C.remove=function(P){var k=!0,T=!1,N=void 0;try{for(var j,Z=C._getOptionsArray()[Symbol.iterator]();!(k=(j=Z.next()).done);k=!0){var ee=j.value;if(ee.value===P)return void(y(ee.parentElement)?ee.parentElement:ee).remove()}}catch(z){T=!0,N=z}finally{try{k||null==Z.return||Z.return()}finally{if(T)throw N}}},C.value=function(){var P="",k=!0,T=!1,N=void 0;try{for(var j,Z=C._getOptionsArray()[Symbol.iterator]();!(k=(j=Z.next()).done);k=!0){var ee=j.value;if(ee.checked){P=ee.value;break}}}catch(z){T=!0,N=z}finally{try{k||null==Z.return||Z.return()}finally{if(T)throw N}}return P},C.selected=function(P){var k=null;if(void 0===P){var T=!0,N=!1,j=void 0;try{for(var Z,ee=C._getOptionsArray()[Symbol.iterator]();!(T=(Z=ee.next()).done);T=!0){var z=Z.value;if(z.checked){k=z;break}}}catch(le){N=!0,j=le}finally{try{T||null==ee.return||ee.return()}finally{if(N)throw j}}}else{C._getOptionsArray().forEach(function(K){K.checked=!1,K.removeAttribute("checked")});var te=!0;N=!1,j=void 0;try{for(var W,G=C._getOptionsArray()[Symbol.iterator]();!(te=(W=G.next()).done);te=!0){var Y=W.value;Y.value===P&&(Y.setAttribute("checked",!0),Y.checked=!0,k=Y)}}catch(K){N=!0,j=K}finally{try{te||null==G.return||G.return()}finally{if(N)throw j}}}return k},C.disable=function(){var P=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],k=!0,T=!1,N=void 0;try{for(var j,Z=C._getOptionsArray()[Symbol.iterator]();!(k=(j=Z.next()).done);k=!0)j.value.setAttribute("disabled",P)}catch(ee){T=!0,N=ee}finally{try{k||null==Z.return||Z.return()}finally{if(T)throw N}}},C},b.default.prototype.createColorPicker=function(p){b.default._validateParameters("createColorPicker",arguments);var y=document.createElement("input");return y.type="color",p?p instanceof b.default.Color?y.value=p.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},y.value=b.default.prototype.color(p).toString("#rrggbb")):y.value="#000000",(y=d(y,this)).color=function(){return p&&(p.mode&&(b.default.prototype._colorMode=p.mode),p.maxes&&(b.default.prototype._colorMaxes=p.maxes)),b.default.prototype.color(this.elt.value)},y},b.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",C=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return C.setAttribute("value",p),C.setAttribute("type",y),d(C,this)},b.default.prototype.createFileInput=function(p){var y,C=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(y=document.createElement("input")).setAttribute("type","file"),C&&y.setAttribute("multiple",!0),y.addEventListener("change",function(H){var B=!0,R=!1,P=void 0;try{for(var k,T=H.target.files[Symbol.iterator]();!(B=(k=T.next()).done);B=!0)b.default.File._load(k.value,p)}catch(j){R=!0,P=j}finally{try{B||null==T.return||T.return()}finally{if(R)throw P}}},!1),d(y,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(p,y){return b.default._validateParameters("createVideo",arguments),h(this,"video",p,y)},b.default.prototype.createAudio=function(p,y){return b.default._validateParameters("createAudio",arguments),h(this,"audio",p,y)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var y=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return y?new Promise(function(C,H){y.call(navigator,p,C,H)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var p=arguments.length,y=new Array(p),C=0;C<p;C++)y[C]=arguments[C];if(b.default._validateParameters("createCapture",y),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var H,B=!0,R=!0,P=!1,k=0,T=y;k<T.length;k++){var N=T[k];N===b.default.prototype.VIDEO?R=!1:N===b.default.prototype.AUDIO?B=!1:"object"===u(N)?(void 0!==N.flipped&&(P=N.flipped,delete N.flipped),j=Object.assign({},j,N)):"function"==typeof N&&(H=N)}var j=Object.assign({},{video:B,audio:R},j),Z=document.createElement("video"),ee=(Z.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(j).then(function(z){try{"srcObject"in Z?Z.srcObject=z:Z.src=window.URL.createObjectURL(z)}catch{Z.src=z}}).catch(function(z){"NotFoundError"===z.name&&b.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===z.name&&b.default._friendlyError("Access to the camera was denied","createCapture"),console.error(z)}),d(Z,this,!0));return ee.loadedmetadata=!1,Z.addEventListener("loadedmetadata",function(){Z.play(),Z.width?(ee.width=Z.width,ee.height=Z.height,P&&(ee.elt.style.transform="scaleX(-1)")):(ee.width=ee.elt.width=Z.videoWidth,ee.height=ee.elt.height=Z.videoHeight),ee.loadedmetadata=!0,H&&H(Z.srcObject)}),ee.flipped=P,ee},b.default.prototype.createElement=function(p,y){return b.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==y&&(p.innerHTML=y),d(p,this)},b.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},b.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},b.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},b.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},b.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof b.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},b.default.Element.prototype.center=function(p){var y=this.elt.style.display,C="none"===this.elt.style.display,H="none"===this.parent().style.display,B={x:this.elt.offsetLeft,y:this.elt.offsetTop},R=(C&&this.show(),H&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),P=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(R/2+this.parent().offsetLeft,P/2+this.parent().offsetTop):"horizontal"===p?this.position(R/2+this.parent().offsetLeft,B.y):"vertical"===p&&this.position(B.x,P/2+this.parent().offsetTop),this.style("display",y),C&&this.hide(),H&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},b.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},b.default.Element.prototype.style=function(p,y){if(void 0===(y=y instanceof b.default.Color?"rgba("+y.levels[0]+","+y.levels[1]+","+y.levels[2]+","+y.levels[3]/255+")":y)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var C=p.split(";"),H=0;H<C.length;H++){var B=C[H].split(":");B[0]&&B[1]&&(this.elt.style[B[0].trim()]=B[1].trim())}}else this.elt.style[p]=y,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(y=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(y,10)));return this},b.default.Element.prototype.attribute=function(p,y){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===y?this.elt.getAttribute(p):(this.elt.setAttribute(p,y),this);if(void 0===y)return this.elt.firstChild.getAttribute(p);for(var C=0;C<this.elt.childNodes.length;C++)this.elt.childNodes[C].setAttribute(p,y)},b.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var y=0;y<this.elt.childNodes.length;y++)this.elt.childNodes[y].removeAttribute(p);return this.elt.removeAttribute(p),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(p,y){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var C=p,H=y,B=b.default.prototype.AUTO;if(C!==B||H!==B){if(C===B?C=y*this.width/this.height:H===B&&(H=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var R,P={},k=this.elt.getContext("2d");for(R in k)P[R]=k[R];for(R in this.elt.setAttribute("width",C*this._pInst._pixelDensity),this.elt.setAttribute("height",H*this._pInst._pixelDensity),this.elt.style.width=C+"px",this.elt.style.height=H+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),P)this.elt.getContext("2d")[R]=P[R]}else this.elt.style.width=C+"px",this.elt.style.height=H+"px",this.elt.width=C,this.elt.height=H;this.width=C,this.height=H,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",C),this._pInst._setProperty("height",H))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),null!==(y=this.elt.srcObject)&&y.getTracks().forEach(function(C){C.stop()}));var p,y=this._pInst._elements.indexOf(this);for(p in-1!==y&&this._pInst._elements.splice(y,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(p,y){var C;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",C=function(H){H.preventDefault()}),this.elt.addEventListener("dragleave",C)),b.default.Element._attachListener("drop",function(B){B.preventDefault(),"function"==typeof y&&y.call(this,B),B=B.dataTransfer.files;var R=!0,P=!1,k=void 0;try{for(var T,N=B[Symbol.iterator]();!(R=(T=N.next()).done);R=!0)b.default.File._load(T.value,p)}catch(Z){P=!0,k=Z}finally{try{R||null==N.return||N.return()}finally{if(P)throw k}}},this)):console.log("The File APIs are not fully supported in this browser."),this},b.default.Element.prototype.draggable=function(p){var y,C="ontouchstart"in window,H=0,B=0,R=0,P=0,k=C?"touchend":"mouseup",T=C?"touchmove":"mousemove";function N(Z){var ee;Z=Z||window.event,P=C?(ee=Z.changedTouches,H=R-parseInt(ee[0].clientX),B=P-parseInt(ee[0].clientY),R=parseInt(ee[0].clientX),parseInt(ee[0].clientY)):(H=R-parseInt(Z.clientX),B=P-parseInt(Z.clientY),R=parseInt(Z.clientX),parseInt(Z.clientY)),p.style.left=p.offsetLeft-H+"px",p.style.top=p.offsetTop-B+"px"}function j(){document.removeEventListener(k,j,!1),document.removeEventListener(T,N,!1)}return void 0===p?y=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,y=this.elt),y.addEventListener(C?"touchstart":"mousedown",function(Z){var ee;return Z=Z||window.event,P=C?(ee=Z.changedTouches,R=parseInt(ee[0].clientX),parseInt(ee[0].clientY)):(R=parseInt(Z.clientX),parseInt(Z.clientY)),document.addEventListener(k,j,!1),document.addEventListener(T,N,!1),!1},!1),y.style.cursor="move",this},o=function(p){var y=H;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&w(y,p);var C=function _(p){return function(){var y,C,H=a(p);return y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=a(this).constructor,Reflect.construct(H,arguments,y)):H.apply(this,arguments),H=this,!(C=y)||"object"!==u(C)&&"function"!=typeof C?i(H):C}}(H);function H(B,R){l(this,H);var P=i(R=C.call(this,B,R));return R.elt.crossOrigin="anonymous",R._prevTime=0,R._cueIDCounter=0,R._cues=[],R.pixels=[],R._pixelsState=i(R),R._pixelDensity=1,R._modified=!1,R._frameOnCanvas=-1,Object.defineProperty(P,"src",{get:function(){var k=P.elt.children[0].src,T=P.elt.src===window.location.href?"":P.elt.src;return k===window.location.href?T:k},set:function(k){for(var T=0;T<P.elt.children.length;T++)P.elt.removeChild(P.elt.children[T]);var N=document.createElement("source");N.src=k,B.appendChild(N),P.elt.src=k,P.modified=!0}}),P._onended=function(){},P.elt.onended=function(){P._onended(P)},R}return m(H,[{key:"play",value:function(){var B;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(B=this.elt.play())&&B.catch&&B.catch(function(R){"NotAllowedError"===R.name?console.error(R):console.error("Media play method encountered an unexpected error",R)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var B=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(B)},{passive:!0,once:!0})}},{key:"autoplay",value:function(B){var R=this,P=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",B),B&&!P&&(B=function(){return R._setupAutoplayFailDetection()},4===this.elt.readyState?B():this.elt.addEventListener("canplay",B,{passive:!0,once:!0})),this}},{key:"volume",value:function(B){if(void 0===B)return this.elt.volume;this.elt.volume=B}},{key:"speed",value:function(B){if(void 0===B)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=B:this.presetPlaybackRate=B}},{key:"time",value:function(B){return void 0===B?this.elt.currentTime:(this.elt.currentTime=B,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var B=arguments.length,R=new Array(B),P=0;P<B;P++)R[P]=arguments[P];return b.default.Renderer2D.prototype.loadPixels.apply(this,R)}},{key:"updatePixels",value:function(B,R,P,k){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,B,R,P,k)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var B=arguments.length,R=new Array(B),P=0;P<B;P++)R[P]=arguments[P];return b.default.Renderer2D.prototype.get.apply(this,R)}},{key:"_getPixel",value:function(){this.loadPixels();for(var B=arguments.length,R=new Array(B),P=0;P<B;P++)R[P]=arguments[P];return b.default.Renderer2D.prototype._getPixel.apply(this,R)}},{key:"set",value:function(B,R,P){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,B,R,P),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var B=arguments.length,R=new Array(B),P=0;P<B;P++)R[P]=arguments[P];b.default.prototype.copy.apply(this,R)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var B=arguments.length,R=new Array(B),P=0;P<B;P++)R[P]=arguments[P];b.default.Image.prototype.mask.apply(this,R)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(B){this._modified=B}},{key:"onended",value:function(B){return this._onended=B,this}},{key:"connect",value:function(B){var R,P;if("function"==typeof b.default.prototype.getAudioContext)R=b.default.prototype.getAudioContext(),P=b.default.soundOut.input;else try{P=(R=B.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=R.createMediaElementSource(this.elt),this.audioSourceNode.connect(P)),this.audioSourceNode.connect(B?B.input?B.input:B:P)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(B,T,P){var k=this._cueIDCounter++;return T=new g(T,B,k,P),this._cues.push(T),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),k}},{key:"removeCue",value:function(B){for(var R=0;R<this._cues.length;R++)this._cues[R].id===B&&(console.log(B),this._cues.splice(R,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var B=this.time(),R=0;R<this._cues.length;R++){var P=this._cues[R].time;this._prevTime<P&&P<=B&&this._cues[R].callback(this._cues[R].val)}this._prevTime=B}}]),H}(b.default.Element),b.default.MediaElement=o,o=function(){function p(y,C){l(this,p),this.file=y,this._pInst=C,C=y.type.split("/"),this.type=C[0],this.subtype=C[1],this.name=y.name,this.size=y.size,this.data=void 0}return m(p,null,[{key:"_createLoader",value:function(y,C){var H=new FileReader;return H.onload=function(B){var R,P=new b.default.File(y);"application/json"===P.file.type?P.data=JSON.parse(B.target.result):"text/xml"===P.file.type?(R=(new DOMParser).parseFromString(B.target.result,"text/xml"),P.data=new b.default.XML(R.documentElement)):P.data=B.target.result,C(P)},H}},{key:"_load",value:function(y,C){var H;/^text\//.test(y.type)||"application/json"===y.type?b.default.File._createLoader(y,C).readAsText(y):/^(video|audio)\//.test(y.type)?((H=new b.default.File(y)).data=URL.createObjectURL(y),C(H)):b.default.File._createLoader(y,C).readAsDataURL(y)}}]),p}(),b.default.File=o,$.default=o=b.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(u,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(u=u("../core/main"))&&u.__esModule?u:{default:u};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var b=v.default.prototype.pRotationZ=0,f=0,m=0,w="clockwise",_="clockwise",i="clockwise",a=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),l=30;v.default.prototype.setMoveThreshold=function(d){v.default._validateParameters("setMoveThreshold",arguments),a=d},v.default.prototype.setShakeThreshold=function(d){v.default._validateParameters("setShakeThreshold",arguments),l=d},v.default.prototype._ondeviceorientation=function(d){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(d.beta)),this._setProperty("rotationY",this._fromDegrees(d.gamma)),this._setProperty("rotationZ",this._fromDegrees(d.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(d){this._updatePAccelerations(),this._setProperty("accelerationX",2*d.acceleration.x),this._setProperty("accelerationY",2*d.acceleration.y),this._setProperty("accelerationZ",2*d.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var d,h,g,p,y,C=this._isGlobal?window:this;"function"==typeof C.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&C.deviceMoved(),"function"==typeof C.deviceTurned&&(h=this._toDegrees(this.rotationX)+180,g=this._toDegrees(this.pRotationX)+180,d=b+180,0<h-g&&h-g<270||h-g<-270?w="clockwise":(h-g<0||270<h-g)&&(w="counter-clockwise"),w!==this.pRotateDirectionX&&(d=h),90<Math.abs(h-d)&&Math.abs(h-d)<270&&(d=h,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=w,b=d-180,g=this._toDegrees(this.rotationY)+180,h=this._toDegrees(this.pRotationY)+180,d=f+180,0<g-h&&g-h<270||g-h<-270?_="clockwise":(g-h<0||270<g-this.pRotationY)&&(_="counter-clockwise"),_!==this.pRotateDirectionY&&(d=g),90<Math.abs(g-d)&&Math.abs(g-d)<270&&(d=g,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=_,f=d-180,0<(h=this._toDegrees(this.rotationZ))-(g=this._toDegrees(this.pRotationZ))&&h-g<270||h-g<-270?i="clockwise":(h-g<0||270<h-g)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(m=h),90<Math.abs(h-m)&&Math.abs(h-m)<270&&(m=h,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)),"function"==typeof C.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),y=Math.abs(this.accelerationY-this.pAccelerationY)),l<p+y&&C.deviceShaken())},$.default=u=v.default},{"../core/main":283}],301:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(b){var f;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"!=typeof(f=this._isGlobal?window:this).keyPressed||b.charCode||!1===f.keyPressed(b)&&b.preventDefault())},v.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var f=this._isGlobal?window:this;"function"==typeof f.keyReleased&&!1===f.keyReleased(b)&&b.preventDefault()},v.default.prototype._onkeypress=function(b){var f;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"==typeof(f=this._isGlobal?window:this).keyTyped&&!1===f.keyTyped(b)&&b.preventDefault())},v.default.prototype._onblur=function(b){this._downKeys={}},v.default.prototype.keyIsDown=function(b){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},v.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&!0===this._downKeys[b])return!0;return!1},$.default=o=v.default},{"../core/main":283}],302:[function(o,ie,$){"use strict";function v(_){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(_)}function b(_){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(i){return v(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(_)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(f=o("../core/main"))&&f.__esModule?f:{default:f},m=function(_){if(_&&_.__esModule)return _;if(null===_||"object"!==b(_)&&"function"!=typeof _)return{default:_};var i=w();if(i&&i.has(_))return i.get(_);var a,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in _){var d;Object.prototype.hasOwnProperty.call(_,a)&&((d=u?Object.getOwnPropertyDescriptor(_,a):null)&&(d.get||d.set)?Object.defineProperty(l,a,d):l[a]=_[a])}return l.default=_,i&&i.set(_,l),l}(o("../core/constants"));function w(){var _;return"function"!=typeof WeakMap?null:(w=function(){return _},_=new WeakMap)}f.default.prototype.movedX=0,f.default.prototype.movedY=0,f.default.prototype._hasMouseInteracted=!1,f.default.prototype.mouseX=0,f.default.prototype.mouseY=0,f.default.prototype.pmouseX=0,f.default.prototype.pmouseY=0,f.default.prototype.winMouseX=0,f.default.prototype.winMouseY=0,f.default.prototype.pwinMouseX=0,f.default.prototype.pwinMouseY=0,f.default.prototype.mouseButton=0,f.default.prototype.mouseIsPressed=!1,f.default.prototype._updateNextMouseCoords=function(_){var i,a,l,u,d;null!==this._curElement&&(!_.touches||0<_.touches.length)&&(a=this.width,l=this.height,(u=_)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),d=(i=this._curElement.elt).getBoundingClientRect(),l={x:(u.clientX-d.left)/(a=i.scrollWidth/a||1),y:(u.clientY-d.top)/(i=i.scrollHeight/l||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",_.movementX),this._setProperty("movedY",_.movementY),this._setProperty("mouseX",l.x),this._setProperty("mouseY",l.y),this._setProperty("winMouseX",l.winX),this._setProperty("winMouseY",l.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},f.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},f.default.prototype._setMouseButton=function(_){this._setProperty("mouseButton",1===_.button?m.CENTER:2===_.button?m.RIGHT:m.LEFT)},f.default.prototype._onmousemove=function(_){var i=this._isGlobal?window:this;this._updateNextMouseCoords(_),this.mouseIsPressed?"function"==typeof i.mouseDragged?!1===i.mouseDragged(_)&&_.preventDefault():"function"==typeof i.touchMoved&&!1===i.touchMoved(_)&&_.preventDefault():"function"==typeof i.mouseMoved&&!1===i.mouseMoved(_)&&_.preventDefault()},f.default.prototype._onmousedown=function(_){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(_),this._updateNextMouseCoords(_),this.touchstart||("function"==typeof i.mousePressed?!1===i.mousePressed(_)&&_.preventDefault():"function"==typeof i.touchStarted&&!1===i.touchStarted(_)&&_.preventDefault(),this.touchstart=!1)},f.default.prototype._onmouseup=function(_){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof i.mouseReleased?!1===i.mouseReleased(_)&&_.preventDefault():"function"==typeof i.touchEnded&&!1===i.touchEnded(_)&&_.preventDefault(),this.touchend=!1)},f.default.prototype._ondragend=f.default.prototype._onmouseup,f.default.prototype._ondragover=f.default.prototype._onmousemove,f.default.prototype._onclick=function(_){var i=this._isGlobal?window:this;"function"==typeof i.mouseClicked&&!1===i.mouseClicked(_)&&_.preventDefault()},f.default.prototype._ondblclick=function(_){var i=this._isGlobal?window:this;"function"==typeof i.doubleClicked&&!1===i.doubleClicked(_)&&_.preventDefault()},f.default.prototype._mouseWheelDeltaY=0,f.default.prototype._pmouseWheelDeltaY=0,f.default.prototype._onwheel=function(_){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",_.deltaY),"function"==typeof i.mouseWheel&&(_.delta=_.deltaY,!1===i.mouseWheel(_)&&_.preventDefault())},f.default.prototype.requestPointerLock=function(){var _=this._curElement.elt;return _.requestPointerLock=_.requestPointerLock||_.mozRequestPointerLock,_.requestPointerLock?(_.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},f.default.prototype.exitPointerLock=function(){document.exitPointerLock()},$.default=o=f.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var b=[],f=0;f<v.touches.length;f++)b[f]=function(d,u,h,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=d.getBoundingClientRect();return u=d.scrollWidth/u||1,d=d.scrollHeight/h||1,{x:((h=i.touches[a]||i.changedTouches[a]).clientX-l.left)/u,y:(h.clientY-l.top)/d,winX:h.clientX,winY:h.clientY,id:h.identifier}}(this._curElement.elt,this.width,this.height,v,f);this._setProperty("touches",b)}},o.default.prototype._ontouchstart=function(v){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof b.touchStarted&&(!1===b.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var b=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof b.touchMoved?!1===b.touchMoved(v)&&v.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var b=this._isGlobal?window:this;"function"==typeof b.touchEnded&&(!1===b.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},$.default=o=o.default},{"../core/main":283}],304:[function(o,ie,$){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v,b,f,m,w={_toPixels:function(_){var i,a;return _ instanceof ImageData?_.data:_.getContext("2d")?_.getContext("2d").getImageData(0,0,_.width,_.height).data:_.getContext("webgl")?(a=(i=_.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,a=new Uint8Array(a),i.readPixels(0,0,_.width,_.height,i.RGBA,i.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(_,i){return _[3+(i*=4)]<<24&4278190080|_[i]<<16&16711680|_[1+i]<<8&65280|255&_[2+i]},_setPixels:function(_,i){for(var a,l=0,u=_.length;l<u;l++)_[0+(a=4*l)]=(16711680&i[l])>>>16,_[1+a]=(65280&i[l])>>>8,_[2+a]=255&i[l],_[3+a]=(4278190080&i[l])>>>24},_toImageData:function(_){return _ instanceof ImageData?_:_.getContext("2d").getImageData(0,0,_.width,_.height)},_createImageData:function(_,i){return w._tmpCanvas=document.createElement("canvas"),w._tmpCtx=w._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(_,i)},apply:function(_,d,a){var l=_.getContext("2d"),u=l.getImageData(0,0,_.width,_.height);(d=d(u,a))instanceof ImageData?l.putImageData(d,0,0,0,0,_.width,_.height):l.putImageData(u,0,0,0,0,_.width,_.height)},threshold:function(_){for(var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,a=w._toPixels(_),l=Math.floor(255*i),u=0;u<a.length;u+=4)a[u]=a[u+1]=a[u+2]=l<=.2126*a[u]+.7152*a[u+1]+.0722*a[u+2]?255:0},gray:function(_){for(var i=w._toPixels(_),a=0;a<i.length;a+=4)i[a]=i[a+1]=i[a+2]=.2126*i[a]+.7152*i[a+1]+.0722*i[a+2]},opaque:function(_){for(var i=w._toPixels(_),a=0;a<i.length;a+=4)i[a+3]=255;return i},invert:function(_){for(var i=w._toPixels(_),a=0;a<i.length;a+=4)i[a]=255-i[a],i[a+1]=255-i[a+1],i[a+2]=255-i[a+2]},posterize:function(_){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,a=w._toPixels(_);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var l=i-1,u=0;u<a.length;u+=4){var h=a[u+1],g=a[u+2];a[u]=255*(a[u]*i>>8)/l,a[u+1]=255*(h*i>>8)/l,a[u+2]=255*(g*i>>8)/l}},dilate:function(_){for(var i,a,l,u,d,h,g,p,y,C=w._toPixels(_),H=0,B=C.length?C.length/4:0,R=new Int32Array(B);H<B;)for(a=(i=H)+_.width;H<a;)u=l=w._getARGB(C,H),(y=H-1)<i&&(y=H),a<=(p=H+1)&&(p=H),(d=H-_.width)<0&&(d=0),B<=(h=H+_.width)&&(h=H),d=w._getARGB(C,d),y=w._getARGB(C,y),h=w._getARGB(C,h),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(g=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(l=y,u=g),u<(g=77*((y=w._getARGB(C,p))>>16&255)+151*(y>>8&255)+28*(255&y))&&(l=y,u=g),u<(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(l=d,u=p),u<(y=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(l=h,u=y),R[H++]=l;w._setPixels(C,R)},erode:function(_){for(var i,a,l,u,d,h,g,p,y,C=w._toPixels(_),H=0,B=C.length?C.length/4:0,R=new Int32Array(B);H<B;)for(a=(i=H)+_.width;H<a;)u=l=w._getARGB(C,H),(y=H-1)<i&&(y=H),a<=(p=H+1)&&(p=H),(d=H-_.width)<0&&(d=0),B<=(h=H+_.width)&&(h=H),d=w._getARGB(C,d),y=w._getARGB(C,y),h=w._getARGB(C,h),(g=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(l=y,u=g),(g=77*((y=w._getARGB(C,p))>>16&255)+151*(y>>8&255)+28*(255&y))<u&&(l=y,u=g),(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<u&&(l=d,u=p),(y=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<u&&(l=h,u=y),R[H++]=l;w._setPixels(C,R)},blur:function(_,i){for(var a,l,u,d,h,g,p,y,C,H,B=w._toPixels(_),R=_.width,P=_.height,k=R*P,T=new Int32Array(k),N=0;N<k;N++)T[N]=w._getARGB(B,N);var j,Z,ee,z,te,W,G,Y,le=new Int32Array(k),Me=new Int32Array(k),K=new Int32Array(k),O=new Int32Array(k),oe=0,me=3.5*i|0;if(v!==(me=me<1?1:me<248?me:248)){b=1+(v=me)<<1,f=new Int32Array(b),m=new Array(b);for(var Se=0;Se<b;Se++)m[Se]=new Int32Array(256);for(var Ue=1,Xe=me-1;Ue<me;Ue++){f[me+Ue]=f[Xe]=W=Xe*Xe,G=m[me+Ue],Y=m[Xe--];for(var lt=0;lt<256;lt++)G[lt]=Y[lt]=W*lt}te=f[me]=me*me,G=m[me];for(var ze=0;ze<256;ze++)G[ze]=te*ze}for(Z=0;Z<P;Z++){for(j=0;j<R;j++){if(d=u=l=h=a=0,(g=j-v)<0)H=-g,g=0;else{if(R<=g)break;H=0}for(ee=H;ee<b&&!(R<=g);ee++){var st=T[g+oe];h+=(z=m[ee])[(-16777216&st)>>>24],l+=z[(16711680&st)>>16],u+=z[(65280&st)>>8],d+=z[255&st],a+=f[ee],g++}le[p=oe+j]=h/a,Me[p]=l/a,K[p]=u/a,O[p]=d/a}oe+=R}for(C=(y=-v)*R,Z=oe=0;Z<P;Z++){for(j=0;j<R;j++){if(d=u=l=h=a=0,y<0)H=p=-y,g=j;else{if(P<=y)break;H=0,p=y,g=j+C}for(ee=H;ee<b&&!(P<=p);ee++)h+=(z=m[ee])[le[g]],l+=z[Me[g]],u+=z[K[g]],d+=z[O[g]],a+=f[ee],p++,g+=R;T[j+oe]=h/a<<24|l/a<<16|u/a<<8|d/a}oe+=R,C+=R,y++}w._setPixels(B,T)}};$.default=w},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=f(o("../core/main")),b=f(o("omggif"));function f(w){return w&&w.__esModule?w:{default:w}}function m(w){return function(_){if(Array.isArray(_)){for(var i=0,a=new Array(_.length);i<_.length;i++)a[i]=_[i];return a}}(w)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(w,_){return v.default._validateParameters("createImage",arguments),new v.default.Image(w,_)},v.default.prototype.saveCanvas=function(){for(var w,_,i,a,l,u,d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];switch(v.default._validateParameters("saveCanvas",h),h[0]instanceof HTMLCanvasElement?(w=h[0],h.shift()):h[0]instanceof v.default.Element?(w=h[0].elt,h.shift()):h[0]instanceof v.default.Framebuffer?((l=this.createGraphics((a=h[0]).width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),l.loadPixels(),l.pixels.set(a.pixels),l.updatePixels(),w=l.elt,h.shift()):w=this._curElement&&this._curElement.elt,1<=h.length&&(_=h[0]),i=(i=2<=h.length?h[1]:i)||v.default.prototype._checkFileExtension(_,i)[1]||"png"){default:u="image/png";break;case"webp":u="image/webp";break;case"jpeg":case"jpg":u="image/jpeg"}w.toBlob(function(p){v.default.prototype.downloadFile(p,_,i),l&&l.remove()},u)},v.default.prototype.encodeAndDownloadGif=function(w,_){for(var i=w.gifProperties,l=(1===(a=i.loopLimit)?a=null:null===a&&(a=0),new Uint8Array(w.width*w.height*i.numFrames)),u=[],d={},h=0;h<i.numFrames;h++){for(var g=new Set,p=i.frames[h].image.data,y=p.length,C=new Uint32Array(w.width*w.height),H=0,B=0;H<y;H+=4,B++){var R=p[H+0]<<16|p[H+1]<<8|p[H+2];g.add(R),C[B]=R}var P=m(g).sort().toString();void 0===d[P]?d[P]={freq:1,frames:[h]}:(d[P].freq+=1,d[P].frames.push(h)),u.push(C)}for(var N=[],k=Object.keys(d).sort(function(K,O){return d[O].freq-d[K].freq}),T=k[0].split(",").map(function(K){return parseInt(K)}),j=(N=N.concat(d[T].frames),new Set(T)),Z=1;Z<k.length;Z++){var ee=k[Z].split(",").map(function(K){return parseInt(K)}).filter(function(K){return!j.has(K)});if(T.length+ee.length<=256){for(var z=0;z<ee.length;z++)T.push(ee[z]),j.add(ee[z]);N=N.concat(d[k[Z]].frames)}}N=new Set(N);for(var te={},W=0;W<T.length;W++)te[T[W]]||(te[T[W]]=W);for(var G=1;G<T.length;)G<<=1;T.length=G;for(var a={loop:a,palette:new Uint32Array(T)},Y=new b.default.GifWriter(l,w.width,w.height,a),le={},Me=0;Me<i.numFrames;Me++)!function(O){var oe=!N.has(O),me=oe?[]:T,Se=new Uint8Array(w.width*w.height),Ue={},Xe=new Set,lt=(u[O].forEach(function(nt,Ye){oe?(void 0===Ue[nt]&&(Ue[nt]=me.length,me.push(nt)),Se[Ye]=Ue[nt]):Se[Ye]=te[nt],0<O&&u[O-1][Ye]!==nt&&Xe.add(nt)}),{});if(0<(ze=me.filter(function(nt){return!Xe.has(nt)})).length){var ze,st=(oe?Ue:te)[ze=ze[0]];if(0<O){for(var at=0;at<u[O].length;at++)u[O-1][at]===u[O][at]&&(Se[at]=st);lt.transparent=st,le.frameOpts.disposal=1}}if(lt.delay=i.frames[O].delay/10,oe){for(var Fe=1;Fe<me.length;)Fe<<=1;me.length=Fe,lt.palette=new Uint32Array(me)}0<O&&Y.addFrame(0,0,w.width,w.height,le.pixelPaletteIndex,le.frameOpts),le={pixelPaletteIndex:Se,frameOpts:lt}}(Me);le.frameOpts.disposal=1,Y.addFrame(0,0,w.width,w.height,le.pixelPaletteIndex,le.frameOpts),a=new Blob([l.slice(0,Y.end())],{type:"image/gif"}),v.default.prototype.downloadFile(a,_,"gif")},v.default.prototype.saveFrames=function(w,_,i,u,l){v.default._validateParameters("saveFrames",arguments),i=v.default.prototype.constrain(i=i||3,0,15),i*=1e3,u=v.default.prototype.constrain(u||15,0,22);var d=0,h=v.default.prototype._makeFrame,g=this._curElement.elt,p=[],y=setInterval(function(){p.push(h(w+d,_,g)),d++},1e3/u);setTimeout(function(){if(clearInterval(y),l)l(p);else for(var C=0,H=p;C<H.length;C++){var B=H[C];v.default.prototype.downloadFile(B.imageData,B.filename,B.ext)}p=[]},.01+i)},v.default.prototype._makeFrame=function(w,_,l){var a;if(l=this?this._curElement.elt:l,_)switch(_.toLowerCase()){case"png":default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}else _="png",a="image/png";l=(l=l.toDataURL(a)).replace(a,"image/octet-stream");var u={};return u.imageData=l,u.filename=w,u.ext=_,u},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,ie,$){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function b(g){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("regenerator-runtime/runtime");var f=l(o("../core/main")),m=l(o("../core/helpers")),w=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==b(g)&&"function"!=typeof g)return{default:g};var p=a();if(p&&p.has(g))return p.get(g);var y,C={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var B;Object.prototype.hasOwnProperty.call(g,y)&&((B=H?Object.getOwnPropertyDescriptor(g,y):null)&&(B.get||B.set)?Object.defineProperty(C,y,B):C[y]=g[y])}return C.default=g,p&&p.set(g,C),C}(o("../core/constants")),_=l(o("omggif")),i=o("gifenc");function a(){var g;return"function"!=typeof WeakMap?null:(a=function(){return g},g=new WeakMap)}function l(g){return g&&g.__esModule?g:{default:g}}function u(g,p,y,C,H,B,R){try{var P=g[B](R),k=P.value}catch(T){return void y(T)}P.done?p(k):Promise.resolve(k).then(C,H)}function h(g,p){return 0<g&&g<p?g:p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.loadImage=function(g,p,y){f.default._validateParameters("loadImage",arguments);var C=new f.default.Image(1,1,this),H=this,B=new Request(g,{method:"GET",mode:"cors"});return fetch(g,B).then(function(R){var P,k=R.headers.get("content-type");null===k&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),k&&k.includes("image/gif")?R.arrayBuffer().then(function(T){if(T){T=new Uint8Array(T);for(var N=C,j=p,Z=y,ee=function(oe){H._decrementPreload()}.bind(H),z=new _.default.GifReader(T),te=(N.width=N.canvas.width=z.width,N.height=N.canvas.height=z.height,[]),W=z.numFrames(),G=new Uint8ClampedArray(N.width*N.height*4),Y=0;Y<W;Y++){var le=z.frameInfo(Y),Me=N.drawingContext.getImageData(0,0,N.width,N.height),K=(G=Me.data.slice(),function(oe,me){try{me.decodeAndBlitFrameRGBA(oe,G)}catch(Se){f.default._friendlyFileLoadError(8,N.src),"function"==typeof Z?Z(Se):console.error(Se)}}(Y,z),new ImageData(G,N.width,N.height));0===(N.drawingContext.putImageData(K,0,0),K=le.delay)&&(K=10),te.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*K}),2===le.disposal?N.drawingContext.clearRect(le.x,le.y,le.width,le.height):3===le.disposal&&N.drawingContext.putImageData(Me,0,0,le.x,le.y,le.width,le.height)}null===(T=z.loopCount())?T=1:0===T&&(T=null),N.drawingContext.putImageData(te[0].image,0,0),1<te.length&&(N.gifProperties={displayIndex:0,loopLimit:T,loopCount:0,frames:te,numFrames:W,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof j&&j(N),ee()}},function(T){"function"==typeof y?(y(T),H._decrementPreload()):console.error(T)}):((P=new Image).onload=function(){C.width=C.canvas.width=P.width,C.height=C.canvas.height=P.height,C.drawingContext.drawImage(P,0,0),C.modified=!0,"function"==typeof p&&p(C),H._decrementPreload()},P.onerror=function(T){f.default._friendlyFileLoadError(0,P.src),"function"==typeof y?(y(T),H._decrementPreload()):console.error(T)},0!==g.indexOf("data:image/")&&(P.crossOrigin="Anonymous"),P.src=g),C.modified=!0}).catch(function(R){f.default._friendlyFileLoadError(0,g),"function"==typeof y?(y(R),H._decrementPreload()):console.error(R)}),C},f.default.prototype.saveGif=function(){g=M.mark(function y(C,H){var B,R,P,k,T,N,j,Z,ee,z,te,W,G,Y,le,Me,K,O,oe,me,Se,Ue,Xe,lt,ze,st,at=arguments;return M.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(B=2<at.length&&void 0!==at[2]?at[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof C)throw TypeError("fileName parameter must be a string");Fe.next=3;break;case 3:if("number"!=typeof H)throw TypeError("Duration parameter must be a number");Fe.next=5;break;case 5:if(P=B&&B.units||"seconds",k=B&&B.silent||!1,T=B&&B.notificationDuration||0,N=B&&B.notificationID||"progressBar","number"!=typeof(R=B&&B.delay||0))throw TypeError("Delay parameter must be a number");Fe.next=12;break;case 12:if("seconds"!==P&&"frames"!==P)throw TypeError('Units parameter must be either "frames" or "seconds"');Fe.next=14;break;case 14:if("boolean"!=typeof k)throw TypeError("Silent parameter must be a boolean");Fe.next=16;break;case 16:if("number"!=typeof T)throw TypeError("Notification duration parameter must be a number");Fe.next=18;break;case 18:if("string"!=typeof N)throw TypeError("Notification ID parameter must be a string");Fe.next=20;break;case 20:return this._recording=!0,j=(j=1/(z=(z=this._targetFrameRate)!==1/0&&void 0!==z&&0!==z?z:60)*1e3)<20?20:j,ee=(Z="seconds"===P?H*z:H)+(z="seconds"===P?R*z:R),this.frameCount=z,te=this._pixelDensity,this.pixelDensity(1),W=[],null!==document.getElementById(N)&&document.getElementById(N).remove(),k||((G=this.createP("")).id(N),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof f.default.RendererGL&&(le=this.drawingContext,Y=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4)),this.noLoop(),Fe.next=39,Promise.resolve();case 39:if(z<ee)return this.redraw(),lt=void 0,lt=this._renderer instanceof f.default.RendererGL?(Y=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4),le.readPixels(0,0,le.drawingBufferWidth,le.drawingBufferHeight,le.RGBA,le.UNSIGNED_BYTE,Y),function(nt,Ye,ot){for(var Ze=parseInt(ot/2),pt=4*Ye,kt=new Uint8Array(4*Ye),ar=0;ar<Ze;++ar){var Vt=ar*pt,cr=(ot-ar-1)*pt;kt.set(nt.subarray(Vt,Vt+pt)),nt.copyWithin(Vt,cr,cr+pt),nt.set(kt,cr)}return nt}(Y,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,W.push(lt),z++,k||G.html("Saved frame <b>"+W.length.toString()+"</b> out of "+Z.toString()),Fe.next=48,new Promise(function(nt){return setTimeout(nt,0)});Fe.next=50;break;case 48:Fe.next=39;break;case 50:k||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(te),Me=(0,i.GIFEncoder)(),K=function(nt){for(var Ye=new Uint8Array(nt.length*nt[0].length),ot=0;ot<nt.length;ot++)Ye.set(nt[ot],ot*nt[0].length);var Ze=(0,i.quantize)(Ye,256,{format:"rgba4444",oneBitAlpha:!0});return 256===Ze.length?Ze[Ze.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ze.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ze}(W),O={},oe=function(nt){for(var Ye=nt.length/4,ot=new Uint8Array(Ye),Ze=0;Ze<Ye;Ze++){var pt=nt[4*Ze]<<24|nt[4*Ze+1]<<16|nt[4*Ze+2]<<8|nt[4*Ze+3];void 0===O[pt]&&(O[pt]=(0,i.nearestColorIndex)(K,nt.slice(4*Ze,4*(Ze+1)))),ot[Ze]=O[pt]}return ot},me=K.length-1,Se=[],Ue=0;case 60:if(!(Ue<W.length)){Fe.next=71;break}if(Xe=oe(W[Ue]),lt=Xe.slice(),0===Ue)Me.writeFrame(Xe,this.width,this.height,{palette:K,delay:j,dispose:1});else{for(ze=0;ze<Xe.length;ze++)Xe[ze]===Se[ze]&&(Xe[ze]=me);Me.writeFrame(Xe,this.width,this.height,{delay:j,transparent:!0,transparentIndex:me,dispose:1})}return Se=lt,k||G.html("Rendered frame <b>"+Ue.toString()+"</b> out of "+Z.toString()),Fe.next=68,new Promise(function(nt){return setTimeout(nt,0)});case 68:Ue++,Fe.next=60;break;case 71:Me.finish(),st=Me.bytesView(),st=new Blob([st],{type:"image/gif"}),W=[],this._recording=!1,this.loop(),k||(G.html("Done. Downloading your gif!\u{1f338}"),0<T&&setTimeout(function(){return G.remove()},1e3*T)),f.default.prototype.downloadFile(st,C,"gif");case 80:case"end":return Fe.stop()}},y,this)});var g,p=function(){var y=this,C=arguments;return new Promise(function(H,B){var R=g.apply(y,C);function P(T){u(R,H,B,P,k,"next",T)}function k(T){u(R,H,B,P,k,"throw",T)}P(void 0)})};return function(y,C){return p.apply(this,arguments)}}(),f.default.prototype.image=function(g,p,y,C,z,te,W,G,le,T,N,j){f.default._validateParameters("image",arguments);var Y=g.width,Z=g.height,ee=(j=j||w.CENTER,N=N||w.CENTER,g.elt&&(Y=void 0!==Y?Y:g.elt.width,Z=void 0!==Z?Z:g.elt.height),g.elt&&g.elt.videoWidth&&!g.canvas&&(Y=void 0!==Y?Y:g.elt.videoWidth,Z=void 0!==Z?Z:g.elt.videoHeight),C||Y);z=z||Z,te=te||0,W=W||0,G=h(void 0!==G?G:Y,Y),Y=h(void 0!==le?le:Z,Z),le=1,g.elt&&!g.canvas&&g.elt.style.width&&(le=g.elt.videoWidth&&!C?g.elt.videoWidth:g.elt.width,le/=parseInt(g.elt.style.width,10)),te*=le,W*=le,Y*=le,G*=le,Z=function d(g,p,y,C,H,B,R,P,k,T,N){var j,Z,ee,z,te,W,G,Y,le;return g===w.COVER&&(j=p,ee=y,G=B,Y=R,W=P,le=k,Z=T,z=N,G/=te=Math.max(G/Z,Y/z),Y/=te,te=W,W=le,j===w.CENTER?te+=(Z-G)/2:j===w.RIGHT&&(te+=Z-G),ee===w.CENTER?W+=(z-Y)/2:ee===w.BOTTOM&&(W+=z-Y),P=(le={x:te,y:W,w:G,h:Y}).x,k=le.y,T=le.w,N=le.h),g===w.CONTAIN&&(j=p,Z=y,ee=C,z=H,te=B,W=R,G=T,Y=N,G/=le=Math.max(G/te,Y/W),Y/=le,le=ee,ee=z,j===w.CENTER?le+=(te-G)/2:j===w.RIGHT&&(le+=te-G),Z===w.CENTER?ee+=(W-Y)/2:Z===w.BOTTOM&&(ee+=W-Y),C=(g={x:le,y:ee,w:G,h:Y}).x,H=g.y,B=g.w,R=g.h),{sx:P,sy:k,sw:T,sh:N,dx:C,dy:H,dw:B,dh:R}}(T,N,j,(Z=m.default.modeAdjust(p,y,ee,z,this._renderer._imageMode)).x,Z.y,Z.w,Z.h,te,W,G,Y),this._renderer.image(g,Z.sx,Z.sy,Z.sw,Z.sh,Z.dx,Z.dy,Z.dw,Z.dh)},f.default.prototype.tint=function(){for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];f.default._validateParameters("tint",p);var C=this.color.apply(this,p);this._renderer._tint=C.levels},f.default.prototype.noTint=function(){this._renderer._tint=null},f.default.prototype._getTintedImageCanvas=f.default.Renderer2D.prototype._getTintedImageCanvas,f.default.prototype.imageMode=function(g){f.default._validateParameters("imageMode",arguments),g!==w.CORNER&&g!==w.CORNERS&&g!==w.CENTER||(this._renderer._imageMode=g)},$.default=o=f.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=f(o("../core/main")),b=f(o("./filters"));function f(w){return w&&w.__esModule?w:{default:w}}function m(w,_){for(var i=0;i<_.length;i++){var a=_[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(w,a.key,a)}}v.default.Image=function(){function w(l,u){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.width=l,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var _,i;return _=w,(i=[{key:"pixelDensity",value:function(l){return void 0!==l?(l<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),l=1),this._pixelDensity=l,this.width/=l,this.height/=l,this):this._pixelDensity}},{key:"_animateGif",value:function(h){var u,d=this.gifProperties;h=h._lastRealFrameTime||window.performance.now(),0===d.lastChangeTime&&(d.lastChangeTime=h),d.playing&&(d.timeDisplayed=h-d.lastChangeTime,d.timeDisplayed>=(u=d.frames[d.displayIndex].delay)&&(u=Math.floor(d.timeDisplayed/u),d.timeDisplayed=0,d.lastChangeTime=h,d.displayIndex+=u,d.loopCount=Math.floor(d.displayIndex/d.numFrames),null!==d.loopLimit&&d.loopCount>=d.loopLimit?d.playing=!1:(this.drawingContext.putImageData(d.frames[h=d.displayIndex%d.numFrames].image,0,0),d.displayIndex=h,this.setModified(!0))))}},{key:"_setProperty",value:function(l,u){this[l]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(l,u,d,h){v.default.Renderer2D.prototype.updatePixels.call(this,l,u,d,h),this.setModified(!0)}},{key:"get",value:function(l,u,d,h){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return v.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(l,u,d){v.default.Renderer2D.prototype.set.call(this,l,u,d),this.setModified(!0)}},{key:"resize",value:function(l,u){0===l&&0===u?(l=this.canvas.width,u=this.canvas.height):0===l?l=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*l/this.canvas.width),l=Math.floor(l),u=Math.floor(u);var d=document.createElement("canvas");if(d.width=l,d.height=u,this.gifProperties)for(var h=this.gifProperties,g=0;g<h.numFrames;g++){for(var p=this.drawingContext.createImageData(l,u),y=(P=P=R=B=H=void 0,h.frames[g].image),C=p,H=0,B=0;B<C.height;B++)for(var R=0;R<C.width;R++){var P=Math.floor(R*y.width/C.width);P=4*(Math.floor(B*y.height/C.height)*y.width+P),C.data[H++]=y.data[P++],C.data[H++]=y.data[P++],C.data[H++]=y.data[P++],C.data[H++]=y.data[+P]}h.frames[g].image=p}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height),this.canvas.width=this.width=l,this.canvas.height=this.height=u,this.drawingContext.drawImage(d,0,0,l,u,0,0,l,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];v.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(l){var u=this.drawingContext.globalCompositeOperation,d=this._pixelDensity,h=1,g=[l=void 0===l?this:l,0,0,(h=l instanceof v.default.Renderer?l._pInst._pixelDensity:h)*l.width,h*l.height,0,0,d*this.width,d*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var p=0;p<this.gifProperties.frames.length;p++)this.drawingContext.putImageData(this.gifProperties.frames[p].image,0,0),this.copy.apply(this,g),this.gifProperties.frames[p].image=this.drawingContext.getImageData(0,0,d*this.width,d*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,g);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(l,u){b.default.apply(this.canvas,b.default[l],u),this.setModified(!0)}},{key:"blend",value:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(l){this._modified=l}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(l,u){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,l):v.default.prototype.saveCanvas(this.canvas,l,u)}},{key:"reset",value:function(){var l;this.gifProperties&&((l=this.gifProperties).playing=!0,l.timeSinceStart=0,l.timeDisplayed=0,l.lastChangeTime=0,l.loopCount=0,l.displayIndex=0,this.drawingContext.putImageData(l.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var l;if(this.gifProperties)return(l=this.gifProperties).displayIndex%l.numFrames}},{key:"setFrame",value:function(l){var u;this.gifProperties&&(l<(u=this.gifProperties).numFrames&&0<=l?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=l,this.drawingContext.putImageData(u.frames[l].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(l,u){if(this.gifProperties){var d=this.gifProperties;if(u<d.numFrames&&0<=u)d.frames[u].delay=l;else{var h=!0,g=void(u=!1);try{for(var p,y=d.frames[Symbol.iterator]();!(h=(p=y.next()).done);h=!0)p.value.delay=l}catch(H){u=!0,g=H}finally{try{h||null==y.return||y.return()}finally{if(u)throw g}}}}}}])&&m(_.prototype,i),w}(),$.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,ie,$){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=f(o("../core/main")),b=f(o("./filters"));function f(m){return m&&m.__esModule?m:{default:m}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var m,w=arguments.length,_=new Array(w),i=0;i<w;i++)_[i]=arguments[i];v.default._validateParameters("blend",_),this._renderer?(m=this._renderer).blend.apply(m,_):v.default.Renderer2D.prototype.blend.apply(this,_)},v.default.prototype.copy=function(){for(var m,w,_,i,a,l,u,d,h,g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];if(v.default._validateParameters("copy",p),9===p.length)m=p[0],w=p[1],_=p[2],i=p[3],a=p[4],l=p[5],u=p[6],d=p[7],h=p[8];else{if(8!==p.length)throw new Error("Signature not supported");m=this,w=p[0],_=p[1],i=p[2],a=p[3],l=p[4],u=p[5],d=p[6],h=p[7]}v.default.prototype._copyHelper(this,m,w,_,i,a,l,u,d,h)},v.default.prototype._copyHelper=function(m,w,_,i,a,l,u,d,h,g){var p=w.canvas.width/w.width,y=0,C=0;w._renderer&&w._renderer.isP3D&&(y=w.width/2,C=w.height/2),m._renderer&&m._renderer.isP3D?(m.push(),m.resetMatrix(),m.noLights(),m.blendMode(m.BLEND),m.imageMode(m.CORNER),v.default.RendererGL.prototype.image.call(m._renderer,w,_+y,i+C,a,l,u,d,h,g),m.pop()):m.drawingContext.drawImage(w.canvas,p*(_+y),p*(i+C),p*a,p*l,u,d,h,g)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];v.default._validateParameters("filter",w);var u=function(){var d,h={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?h.shader=arguments.length<=0?void 0:arguments[0]:(h.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(h.value=arguments.length<=1?void 0:arguments[1]),!1===((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])&&(h.useWebGL=!1)),h}.apply(void 0,w),i=u.shader,a=u.operation,l=u.value;u=u.useWebGL,this._renderer.isP3D&&i?v.default.RendererGL.prototype.filter.call(this._renderer,i):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,a,l):((i=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),i.filter.apply(i,w),this.copy(i._renderer,0,0,this.width,this.height,0,0,this.width,this.height),i.clear())):b.default.apply(void 0!==this.canvas?this.canvas:this.elt,b.default[a],l)},v.default.prototype.get=function(m,w,_,i){var a;return v.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},v.default.prototype.loadPixels=function(){for(var m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];v.default._validateParameters("loadPixels",w),this._renderer.loadPixels()},v.default.prototype.set=function(m,w,_){this._renderer.set(m,w,_)},v.default.prototype.updatePixels=function(m,w,_,i){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(m,w,_,i)},$.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=w(o("../core/main")),f=(o("whatwg-fetch"),o("es6-promise/auto"),w(o("fetch-jsonp"))),m=w(o("file-saver"));function w(l){return l&&l.__esModule?l:{default:l}}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}function i(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(l,u){u&&!0!==u&&"true"!==u||(u="");var d="";return(l=l||"untitled")&&l.includes(".")&&(d=l.split(".").pop()),u&&d!==u&&(d=u,l="".concat(l,".").concat(d)),[l,d]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];b.default._validateParameters("loadJSON",u);for(var h,g,p,y=u[0],C={},H="json",B=1;B<u.length;B++){var R=u[B];"string"==typeof R?"jsonp"!==R&&"json"!==R||(H=R):"function"==typeof R?h?g=R:h=R:"object"===_(R)&&(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))&&(H="jsonp",p=R)}var P=this;return this.httpDo(y,"GET",p,H,function(k){for(var T in k)C[T]=k[T];void 0!==h&&h(k),P._decrementPreload()},function(k){if(b.default._friendlyFileLoadError(5,y),!g)throw k;g(k)}),C},b.default.prototype.loadStrings=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];b.default._validateParameters("loadStrings",u);for(var h,g,p=[],y=1;y<u.length;y++){var C=u[y];"function"==typeof C&&(void 0===h?h=C:void 0===g&&(g=C))}var H=this;return b.default.prototype.httpDo.call(this,u[0],"GET","text",function(B){for(var R=B.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),P=0,k=R.length;P<k;P+=32768)Array.prototype.push.apply(p,R.slice(P,Math.min(P+32768,k)));void 0!==h&&h(p),H._decrementPreload()},function(B){if(b.default._friendlyFileLoadError(3,B),!g)throw B;g(B)}),p},b.default.prototype.loadTable=function(l){var u,d,h,g=[],p=!1,y=l.substring(l.lastIndexOf(".")+1,l.length);"csv"===y?h=",":"ssv"===y?h=";":"tsv"===y&&(h="\t");for(var C=1;C<arguments.length;C++)"function"==typeof arguments[C]?void 0===u?u=arguments[C]:void 0===d&&(d=arguments[C]):"string"==typeof arguments[C]&&(g.push(arguments[C]),"header"===arguments[C]&&(p=!0),"csv"===arguments[C]?h=",":"ssv"===arguments[C]?h=";":"tsv"===arguments[C]&&(h="\t"));var H=new b.default.Table,B=this;return this.httpDo(l,"GET","table",function(R){for(var P,k,T={},j=[],Z=0,ee=null,z=function(){T.currentState=0,T.token=""},te=function(){ee.push(T.token),z()},W=function(){T.currentState=4,j.push(ee),ee=null};;){if(null==(P=R[Z++])){if(T.escaped)throw new Error("Unclosed quote in file.");if(ee){te(),W();break}}if(null===ee&&(T.escaped=!1,ee=[],z()),0===T.currentState){if('"'===P){T.escaped=!0,T.currentState=1;continue}T.currentState=1}if(1===T.currentState&&T.escaped)if('"'===P)'"'===R[Z]?(T.token+='"',Z++):(T.escaped=!1,T.currentState=2);else{if("\r"===P)continue;T.token+=P}else"\r"===P?("\n"===R[Z]&&Z++,te(),W()):"\n"===P?(te(),W()):P===h?te():1===T.currentState&&(T.token+=P)}if(p)H.columns=j.shift();else for(var G=0;G<j[0].length;G++)H.columns[G]="null";for(var Y=0;Y<j.length;Y++)(1!==j[Y].length||"undefined"!==j[Y][0]&&""!==j[Y][0])&&((k=new b.default.TableRow).arr=j[Y],k.obj=function(le,Me){if(void 0===(Me=Me||[]))for(var K=0;K<le.length;K++)Me[K.toString()]=K;return Object.fromEntries(Me.map(function(O,oe){return[O,le[oe]]}))}(j[Y],H.columns),H.addRow(k));"function"==typeof u&&u(H),B._decrementPreload()},function(R){b.default._friendlyFileLoadError(2,l),d?d(R):console.error(R)}),H},b.default.prototype.loadXML=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];for(var h,g,p=new b.default.XML,y=1;y<u.length;y++){var C=u[y];"function"==typeof C&&(void 0===h?h=C:void 0===g&&(g=C))}var H=this;return this.httpDo(u[0],"GET","xml",function(B){for(var R in B)p[R]=B[R];void 0!==h&&h(p),H._decrementPreload()},function(B){if(b.default._friendlyFileLoadError(1,B),!g)throw B;g(B)}),p},b.default.prototype.loadBytes=function(l,u,d){var h={},g=this;return this.httpDo(l,"GET","arrayBuffer",function(p){h.bytes=new Uint8Array(p),"function"==typeof u&&u(h),g._decrementPreload()},function(p){if(b.default._friendlyFileLoadError(6,l),!d)throw p;d(p)}),h},b.default.prototype.httpGet=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return b.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,u)},b.default.prototype.httpPost=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return b.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,u)},b.default.prototype.httpDo=function(){for(var l,u,d,h={},g=0,p="text/plain",y=arguments.length-1;0<y&&"function"==typeof(y<0||arguments.length<=y?void 0:arguments[y]);y--)g++;var H=arguments.length<=0?void 0:arguments[0];if(2==(C=arguments.length-g)&&"string"==typeof H&&"object"===_(arguments.length<=1?void 0:arguments[1]))N=new Request(H,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3];else{for(var B,R="GET",P=1;P<arguments.length;P++){var k=P<0||arguments.length<=P?void 0:arguments[P];if("string"==typeof k)"GET"===k||"POST"===k||"PUT"===k||"DELETE"===k?R=k:"json"===k||"jsonp"===k||"binary"===k||"arrayBuffer"===k||"xml"===k||"text"===k||"table"===k?l=k:B=k;else if("number"==typeof k)B=k.toString();else if("object"===_(k))if(k.hasOwnProperty("jsonpCallback")||k.hasOwnProperty("jsonpCallbackFunction"))for(var T in k)h[T]=k[T];else p=k instanceof b.default.XML?(B=k.serialize(),"application/xml"):(B=JSON.stringify(k),"application/json");else"function"==typeof k&&(u?d=k:u=k)}var C="GET"===R?new Headers:new Headers({"Content-Type":p}),N=new Request(H,{method:R,mode:"cors",body:B,headers:C})}return(C=(C="jsonp"===(l=l||(H.includes("json")?"json":H.includes("xml")?"xml":"text"))?(0,f.default)(H,h):fetch(N)).then(function(j){if(!j.ok)throw(Z=new Error(j.body)).status=j.status,Z.ok=!1,Z;var Z=0;switch((Z="jsonp"!==l?j.headers.get("content-length"):Z)&&64e6<Z&&b.default._friendlyFileLoadError(7,H),l){case"json":case"jsonp":return j.json();case"binary":return j.blob();case"arrayBuffer":return j.arrayBuffer();case"xml":return j.text().then(function(ee){return ee=(new DOMParser).parseFromString(ee,"text/xml"),new b.default.XML(ee.documentElement)});default:return j.text()}})).then(u||function(){}),C.catch(d||console.error),C},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(l,u){var d,h;for(h in b.default.prototype._pWriters)if(b.default.prototype._pWriters[h].name===l)return d=new b.default.PrintWriter(l+this.millis(),u),b.default.prototype._pWriters.push(d),d;return d=new b.default.PrintWriter(l,u),b.default.prototype._pWriters.push(d),d},b.default.PrintWriter=function(l,u){var d=this;this.name=l,this.content="",this.write=function(h){this.content+=h},this.print=function(h){this.content+="".concat(h,"\n")},this.clear=function(){this.content=""},this.close=function(){var h,g=[];for(h in g.push(this.content),b.default.prototype.writeFile(g,l,u),b.default.prototype._pWriters)b.default.prototype._pWriters[h].name===this.name&&b.default.prototype._pWriters.splice(h,1);d.clear(),d={}}},b.default.prototype.save=function(l,u,d){var h=arguments,g=(this._curElement||this).elt;if(0===h.length)b.default.prototype.saveCanvas(g);else if(h[0]instanceof b.default.Renderer||h[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(h[0].elt,h[1],h[2]);else if(1===h.length&&"string"==typeof h[0])b.default.prototype.saveCanvas(g,h[0]);else switch(a(h[1],h[2])[1]){case"json":return void b.default.prototype.saveJSON(h[0],h[1],h[2]);case"txt":return void b.default.prototype.saveStrings(h[0],h[1],h[2]);default:h[0]instanceof Array?b.default.prototype.saveStrings(h[0],h[1],h[2]):h[0]instanceof b.default.Table?b.default.prototype.saveTable(h[0],h[1],h[2]):h[0]instanceof b.default.Image?b.default.prototype.saveCanvas(h[0].canvas,h[1]):h[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(h[0],h[1],h[2],h[3])}},b.default.prototype.saveJSON=function(l,u,d){b.default._validateParameters("saveJSON",arguments),d=d?JSON.stringify(l):JSON.stringify(l,void 0,2),this.saveStrings(d.split("\n"),u,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(l,u,d,h){b.default._validateParameters("saveStrings",arguments);for(var g=this.createWriter(u,d||"txt"),p=0;p<l.length;p++)g.write(h?l[p]+"\r\n":l[p]+"\n");g.close(),g.clear()},b.default.prototype.saveTable=function(l,u,d){b.default._validateParameters("saveTable",arguments),h=void 0===d?u.substring(u.lastIndexOf(".")+1,u.length):d;var h,g=this.createWriter(u,h),p=l.columns,y="tsv"===h?"\t":",";if("html"!==h){if("0"!==p[0]){for(var C=0;C<p.length;C++)g.write(C<p.length-1?p[C]+y:p[C]);g.write("\n")}for(var H=0;H<l.rows.length;H++){var B=void 0;for(B=0;B<l.rows[H].arr.length;B++)B<l.rows[H].arr.length-1?"csv"===h&&String(l.rows[H].arr[B]).includes(",")?g.write('"'+l.rows[H].arr[B]+'"'+y):g.write(l.rows[H].arr[B]+y):"csv"===h&&String(l.rows[H].arr[B]).includes(",")?g.write('"'+l.rows[H].arr[B]+'"'):g.write(l.rows[H].arr[B]);g.write("\n")}}else{if(g.print("<html>"),g.print("<head>"),g.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),g.print("</head>"),g.print("<body>"),g.print("  <table>"),"0"!==p[0]){g.print("    <tr>");for(var R=0;R<p.length;R++){var P=i(p[R]);g.print("      <td>".concat(P)),g.print("      </td>")}g.print("    </tr>")}for(var k=0;k<l.rows.length;k++){g.print("    <tr>");for(var T=0;T<l.columns.length;T++){var N=i(l.rows[k].getString(T));g.print("      <td>".concat(N)),g.print("      </td>")}g.print("    </tr>")}g.print("  </table>"),g.print("</body>"),g.print("</html>")}g.close(),g.clear()},b.default.prototype.writeFile=function(g,u,d){var h="application/octet-stream";b.default.prototype._isSafari()&&(h="text/plain"),g=new Blob(g,{type:h}),b.default.prototype.downloadFile(g,u,d)},b.default.prototype.downloadFile=function(l,g,p){var h;p=(g=a(g,p))[0],l instanceof Blob?m.default.saveAs(l,p):((h=document.createElement("a")).href=l,h.download=p,h.onclick=function(y){document.body.removeChild(y.target),y.stopPropagation()},h.style.display="none",document.body.appendChild(h),b.default.prototype._isSafari()&&(l=(l='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(g[1],'"'),alert(l)),h.click())},b.default.prototype._checkFileExtension=a,b.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},$.default=o=b.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,m){for(var w=0;w<m.length;w++){var _=m[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Table=function(){function f(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=i}var m,w;return m=f,(w=[{key:"addRow",value:function(i){if(void 0===(i=i||new v.default.TableRow).arr||void 0===i.obj)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i}},{key:"removeRow",value:function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)}},{key:"getRow",value:function(i){return this.rows[i]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(i,a){if("string"==typeof a){for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[a]===i)return this.rows[l]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[a]===i)return this.rows[u];return null}},{key:"findRows",value:function(i,a){var l=[];if("string"==typeof a)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[a]===i&&l.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].arr[a]===i&&l.push(this.rows[d]);return l}},{key:"matchRow",value:function(i,a){if("number"==typeof a){for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[a].match(i))return this.rows[l]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[a].match(i))return this.rows[u];return null}},{key:"matchRows",value:function(i,a){var l=[];if("number"==typeof a)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[a].match(i)&&l.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].obj[a].match(i)&&l.push(this.rows[d]);return l}},{key:"getColumn",value:function(i){var a=[];if("string"==typeof i)for(var l=0;l<this.rows.length;l++)a.push(this.rows[l].obj[i]);else for(var u=0;u<this.rows.length;u++)a.push(this.rows[u].arr[i]);return a}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(i){this.columns.push(i||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(i,a){for(var l=[],u=0;u<i.length;u++)l.push(i.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var d=new RegExp(l.join("|"),"g");if(void 0===a)for(var h=0;h<this.columns.length;h++)for(var g=0;g<this.rows.length;g++){var p=(p=this.rows[g].arr[h]).replace(d,"");this.rows[g].arr[h]=p,this.rows[g].obj[this.columns[h]]=p}else if("string"==typeof a)for(var y=0;y<this.rows.length;y++){var C=(C=this.rows[y].obj[a]).replace(d,""),H=(this.rows[y].obj[a]=C,this.columns.indexOf(a));this.rows[y].arr[H]=C}else for(var B=0;B<this.rows.length;B++){var R=(R=this.rows[B].arr[a]).replace(d,"");this.rows[B].arr[a]=R,this.rows[B].obj[this.columns[a]]=R}}},{key:"trim",value:function(i){var a=new RegExp(" ","g");if(void 0===i)for(var l=0;l<this.columns.length;l++)for(var u=0;u<this.rows.length;u++){var d=(d=this.rows[u].arr[l]).replace(a,"");this.rows[u].arr[l]=d,this.rows[u].obj[this.columns[l]]=d}else if("string"==typeof i)for(var h=0;h<this.rows.length;h++){var g=(g=this.rows[h].obj[i]).replace(a,""),p=(this.rows[h].obj[i]=g,this.columns.indexOf(i));this.rows[h].arr[p]=g}else for(var y=0;y<this.rows.length;y++){var C=(C=this.rows[y].arr[i]).replace(a,"");this.rows[y].arr[i]=C,this.rows[y].obj[this.columns[i]]=C}}},{key:"removeColumn",value:function(u){var a,l;"string"==typeof u?l=this.columns.indexOf(a=u):a=this.columns[l=u],u=this.columns.splice(l+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var d=0;d<this.rows.length;d++){var h=this.rows[d].arr,g=h.splice(l+1,h.length);h.pop(),this.rows[d].arr=h.concat(g),delete this.rows[d].obj[a]}}},{key:"set",value:function(i,a,l){this.rows[i].set(a,l)}},{key:"setNum",value:function(i,a,l){this.rows[i].setNum(a,l)}},{key:"setString",value:function(i,a,l){this.rows[i].setString(a,l)}},{key:"get",value:function(i,a){return this.rows[i].get(a)}},{key:"getNum",value:function(i,a){return this.rows[i].getNum(a)}},{key:"getString",value:function(i,a){return this.rows[i].getString(a)}},{key:"getObject",value:function(i){for(var a,l={},u=0;u<this.rows.length;u++)if(a=this.rows[u].obj,"string"==typeof i){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));l[a[i]]=a}else l[u]=this.rows[u].obj;return l}},{key:"getArray",value:function(){for(var i=[],a=0;a<this.rows.length;a++)i.push(this.rows[a].arr);return i}}])&&b(m.prototype,w),f}(),$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,ie,$){"use strict";function v(b,f){for(var m=0;m<f.length;m++){var w=f[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function b(_,i){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=[];_&&(a=_.split(i=i||",")),this.arr=a,this.obj=Object.fromEntries(a.entries()),this.table=null}var f,m;return f=b,(m=[{key:"set",value:function(_,i){if("string"==typeof _){var a=this.table.columns.indexOf(_);if(!(0<=a))throw new Error('This table has no column named "'.concat(_,'"'));this.obj[_]=i,this.arr[a]=i}else{if(!(_<this.table.columns.length))throw new Error("Column #".concat(_," is out of the range of this table"));this.arr[_]=i,this.obj[a=this.table.columns[_]]=i}}},{key:"setNum",value:function(_,i){i=parseFloat(i),this.set(_,i)}},{key:"setString",value:function(_,i){i=i.toString(),this.set(_,i)}},{key:"get",value:function(_){return("string"==typeof _?this.obj:this.arr)[_]}},{key:"getNum",value:function(_){var i=parseFloat("string"==typeof _?this.obj[_]:this.arr[_]);if("NaN"===i.toString())throw"Error: ".concat(this.obj[_]," is NaN (Not a Number)");return i}},{key:"getString",value:function(_){return("string"==typeof _?this.obj:this.arr)[_].toString()}}])&&v(f.prototype,m),b}(),$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(m,w){for(var _=0;_<w.length;_++){var i=w[_];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}v.default.XML=function(){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a?this.DOM=a:(a=document.implementation.createDocument(null,"doc"),this.DOM=a.createElement("root"))}var w,_;return w=m,(_=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(a){var l=this.DOM.innerHTML,u=this.DOM.attributes,d=document.implementation.createDocument(null,"default").createElement(a);d.innerHTML=l;for(var h=0;h<u.length;h++)d.setAttribute(u[h].nodeName,u[h].nodeValue);this.DOM=d}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var a=[],l=0;l<this.DOM.childNodes.length;l++)a.push(this.DOM.childNodes[l].nodeName);return a}},{key:"getChildren",value:function(a){return function f(m){for(var w=[],_=0;_<m.length;_++)w.push(new v.default.XML(m[_]));return w}(a?this.DOM.getElementsByTagName(a):this.DOM.children)}},{key:"getChild",value:function(a){if("string"!=typeof a)return new v.default.XML(this.DOM.children[a]);var l=!0,u=!1,d=void 0;try{for(var h,g=this.DOM.children[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var p=h.value;if(p.tagName===a)return new v.default.XML(p)}}catch(y){u=!0,d=y}finally{try{l||null==g.return||g.return()}finally{if(u)throw d}}}},{key:"addChild",value:function(a){a instanceof v.default.XML&&this.DOM.appendChild(a.DOM)}},{key:"removeChild",value:function(a){var l=-1;if("string"==typeof a){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===a){l=u;break}}else l=a;-1!==l&&this.DOM.removeChild(this.DOM.children[l])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var a=[],l=!0,u=!1,d=void 0;try{for(var h,g=this.DOM.attributes[Symbol.iterator]();!(l=(h=g.next()).done);l=!0)a.push(h.value.nodeName)}catch(y){u=!0,d=y}finally{try{l||null==g.return||g.return()}finally{if(u)throw d}}return a}},{key:"hasAttribute",value:function(a){var l={},u=!0,d=!1,h=void 0;try{for(var g,p=this.DOM.attributes[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var y=g.value;l[y.nodeName]=y.nodeValue}}catch(C){d=!0,h=C}finally{try{u||null==p.return||p.return()}finally{if(d)throw h}}return!!l[a]}},{key:"getNum",value:function(a,l){var u={},d=!0,h=!1,g=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var C=p.value;u[C.nodeName]=C.nodeValue}}catch(H){h=!0,g=H}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}return Number(u[a])||l||0}},{key:"getString",value:function(a,l){var u={},d=!0,h=!1,g=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var C=p.value;u[C.nodeName]=C.nodeValue}}catch(H){h=!0,g=H}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}return u[a]?String(u[a]):l||null}},{key:"setAttribute",value:function(a,l){this.DOM.setAttribute(a,l)}},{key:"getContent",value:function(a){var l=this.DOM.textContent;return(l=l.replace(/\s\s+/g,","))||a||null}},{key:"setContent",value:function(a){this.DOM.children.length||(this.DOM.textContent=a)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&b(w.prototype,_),m}(),$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f){return function(m){if(Array.isArray(m)){for(var w=0,_=new Array(m.length);w<m.length;w++)_[w]=m[w];return _}}(f)||function(m){if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m))return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(f,m,w){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(f,w),m)},v.default.prototype.dist=function(){for(var f=arguments.length,m=new Array(f),w=0;w<f;w++)m[w]=arguments[w];return v.default._validateParameters("dist",m),4===m.length?Math.hypot(m[2]-m[0],m[3]-m[1]):6===m.length?Math.hypot(m[3]-m[0],m[4]-m[1],m[5]-m[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(f,m,w){return v.default._validateParameters("lerp",arguments),w*(m-f)+f},v.default.prototype.log=Math.log,v.default.prototype.mag=function(f,m){return v.default._validateParameters("mag",arguments),Math.hypot(f,m)},v.default.prototype.map=function(f,m,w,_,i,a){return v.default._validateParameters("map",arguments),f=(f-m)/(w-m)*(i-_)+_,a?_<i?this.constrain(f,_,i):this.constrain(f,i,_):f},v.default.prototype.max=function(){for(var f=function(i){return Math.max.apply(Math,b(i))},m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return Array.isArray(w[0])?f(w[0]):f(w)},v.default.prototype.min=function(){for(var f=function(i){return Math.min.apply(Math,b(i))},m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return Array.isArray(w[0])?f(w[0]):f(w)},v.default.prototype.norm=function(f,m,w){return v.default._validateParameters("norm",arguments),this.map(f,m,w,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(f,m){return m?(m=Math.pow(10,m),Math.round(f*m)/m):Math.round(f)},v.default.prototype.sq=function(f){return f*f},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(_){v.default._validateParameters("fract",arguments);var m,w=0;return _=Number(_),isNaN(_)||Math.abs(_)===1/0?_:(_<0&&(_=-_,w=1),String(_).includes(".")&&!String(_).includes("e")?(m=+("0"+(m=String(_)).slice(m.indexOf("."))),Math.abs(w-m)):_<1?Math.abs(w-_):0)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(m,w,_){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,a,l){var u=[null];return u.push.apply(u,a),a=new(Function.bind.apply(i,u)),l&&f(a,l.prototype),a}).apply(null,arguments)}function f(m,w){return(f=Object.setPrototypeOf||function(_,i){return _.__proto__=i,_})(m,w)}v.default.prototype.createVector=function(m,w,_){return this instanceof v.default?b(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(m,w,_)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(_,ie,$){"use strict";function v(i){return.5*(1-Math.cos(i*Math.PI))}Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,_=(_=_("../core/main"))&&_.__esModule?_:{default:_};var b,f=4095,m=4,w=.5;_.default.prototype.noise=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==b){b=new Array(4096);for(var u=0;u<4096;u++)b[u]=Math.random()}i<0&&(i=-i),a<0&&(a=-a),l<0&&(l=-l);for(var d,h,g=Math.floor(i),p=Math.floor(a),y=Math.floor(l),C=i-g,H=a-p,B=l-y,R=0,P=.5,k=0;k<m;k++){var T=g+(p<<4)+(y<<8),N=v(C),j=v(H),Z=b[T&f];Z+=N*(b[T+1&f]-Z),d=b[T+16&f],Z+=j*((d+=N*(b[T+16+1&f]-d))-Z),d=b[(T+=256)&f],d+=N*(b[T+1&f]-d),h=b[T+16&f],d+=j*((h+=N*(b[T+16+1&f]-h))-d),R+=(Z+=v(B)*(d-Z))*P,P*=w,g<<=1,p<<=1,y<<=1,1<=(C*=2)&&(g++,C--),1<=(H*=2)&&(p++,H--),1<=(B*=2)&&(y++,B--)}return R},_.default.prototype.noiseDetail=function(i,a){0<i&&(m=i),0<a&&(w=a)},_.default.prototype.noiseSeed=function(i){u=4294967296;var l,u,d_rand=function(){return(l=(1664525*l+1013904223)%u)/u};(function(g){l=(null==g?Math.random()*u:g)>>>0})(i),b=new Array(4096);for(var h=0;h<4096;h++)b[h]=d_rand()},$.default=_=_.default},{"../core/main":283}],316:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(i=o("../core/main"))&&i.__esModule?i:{default:i},m=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var l=w();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var g;Object.prototype.hasOwnProperty.call(a,u)&&((g=h?Object.getOwnPropertyDescriptor(a,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("../core/constants"));function w(){var a;return"function"!=typeof WeakMap?null:(w=function(){return a},a=new WeakMap)}function _(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}f.default.Vector=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var g,p,y="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],g=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(g=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=g,this.y=p,this.z=y}var l,u,d;return l=a,d=[{key:"fromAngle",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new f.default.Vector(g*Math.cos(h),g*Math.sin(h),0)}},{key:"fromAngles",value:function(B,C){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,y=Math.cos(C),H=(C=Math.sin(C),Math.cos(B));return B=Math.sin(B),new f.default.Vector(p*B*C,-p*H,p*B*y)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*m.TWO_PI)}},{key:"random3D",value:function(){var h=Math.random()*m.TWO_PI,g=2*Math.random()-1,p=(y=Math.sqrt(1-g*g))*Math.cos(h),y=y*Math.sin(h);return new f.default.Vector(p,y,g)}},{key:"copy",value:function(h){return h.copy(h)}},{key:"add",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return H?H.set(y):(H=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),H.add(C),H}},{key:"rem",value:function(h,g){if(h instanceof f.default.Vector&&g instanceof f.default.Vector)return(h=h.copy()).rem(g),h}},{key:"sub",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return H?H.set(y):(H=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),H.sub(C),H}},{key:"mult",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return H?H.set(y):(H=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),H.mult(C),H}},{key:"rotate",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return 2===g.length?H=y.copy():(H instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),H.set(y)),H.rotate(C),H}},{key:"div",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return H?H.set(y):(H=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),H.div(C),H}},{key:"dot",value:function(h,g){return h.dot(g)}},{key:"cross",value:function(h,g){return h.cross(g)}},{key:"dist",value:function(h,g){return h.dist(g)}},{key:"lerp",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2],B=g[3];return B?B.set(y):(B=y.copy(),4===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),B.lerp(C,H),B}},{key:"slerp",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2],B=g[3];return B?B.set(y):(B=y.copy(),4===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),B.slerp(C,H),B}},{key:"mag",value:function(h){return h.mag()}},{key:"magSq",value:function(h){return h.magSq()}},{key:"normalize",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1];return g.length<2?C=y.copy():(C instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),C.set(y)),C.normalize()}},{key:"limit",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return g.length<3?H=y.copy():(H instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),H.set(y)),H.limit(C)}},{key:"setMag",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return g.length<3?H=y.copy():(H instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),H.set(y)),H.setMag(C)}},{key:"heading",value:function(h){return h.heading()}},{key:"angleBetween",value:function(h,g){return h.angleBetween(g)}},{key:"reflect",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];return g.length<3?H=y.copy():(H instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),H.set(y)),H.reflect(C)}},{key:"array",value:function(h){return h.array()}},{key:"equals",value:function(h,g){var p;return h instanceof f.default.Vector?p=h:Array.isArray(h)?p=(new f.default.Vector).set(h):f.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(g)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(h,g,p){return h instanceof f.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):Array.isArray(h)?(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=g||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new f.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(h,g,p){return h instanceof f.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):Array.isArray(h)?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=g||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(h,g){return 0!==h&&(this.x=this.x%h),0!==g&&(this.y=this.y%g),this}},{key:"calculateRemainder3D",value:function(h,g,p){return 0!==h&&(this.x=this.x%h),0!==g&&(this.y=this.y%g),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y,C,H,B=g[0],R=g[1],P=g[2];if(B instanceof f.default.Vector){if([B.x,B.y,B.z].every(Number.isFinite))return y=parseFloat(B.x),C=parseFloat(B.y),H=parseFloat(B.z),this.calculateRemainder3D(y,C,H)}else if(Array.isArray(B)){if(B.every(Number.isFinite))return 2===B.length?this.calculateRemainder2D(B[0],B[1]):3===B.length?this.calculateRemainder3D(B[0],B[1],B[2]):void 0}else if(1===g.length){if(Number.isFinite(B)&&0!==B)return this.x=this.x%B,this.y=this.y%B,this.z=this.z%B,this}else if(2===g.length){if(g.every(Number.isFinite))return this.calculateRemainder2D(B,R)}else if(3===g.length&&g.every(Number.isFinite))return this.calculateRemainder3D(B,R,P)}},{key:"sub",value:function(h,g,p){return h instanceof f.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):Array.isArray(h)?(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=g||0,this.z-=p||0),this}},{key:"mult",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y,C=g[0],H=g[1],B=g[2];return C instanceof f.default.Vector?Number.isFinite(C.x)&&Number.isFinite(C.y)&&Number.isFinite(C.z)&&"number"==typeof C.x&&"number"==typeof C.y&&"number"==typeof C.z?(this.x*=C.x,this.y*=C.y,this.z*=C.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(C)?C.every(function(R){return Number.isFinite(R)})&&C.every(function(R){return"number"==typeof R})?1===C.length?(this.x*=C[0],this.y*=C[0],this.z*=C[0]):2===C.length?(this.x*=C[0],this.y*=C[1]):3===C.length&&(this.x*=C[0],this.y*=C[1],this.z*=C[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=g).every(function(R){return Number.isFinite(R)})&&y.every(function(R){return"number"==typeof R})?(1===g.length&&(this.x*=C,this.y*=C,this.z*=C),2===g.length&&(this.x*=C,this.y*=H),3===g.length&&(this.x*=C,this.y*=H,this.z*=B)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],C=g[1],H=g[2];if(y instanceof f.default.Vector)if(Number.isFinite(y.x)&&Number.isFinite(y.y)&&Number.isFinite(y.z)&&"number"==typeof y.x&&"number"==typeof y.y&&"number"==typeof y.z){var B=0===y.z&&0===this.z;if(0===y.x||0===y.y||!B&&0===y.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=y.x,this.y/=y.y,B||(this.z/=y.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(y))if(y.every(Number.isFinite)&&y.every(function(R){return"number"==typeof R})){if(y.some(function(R){return 0===R}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===y.length?(this.x/=y[0],this.y/=y[0],this.z/=y[0]):2===y.length?(this.x/=y[0],this.y/=y[1]):3===y.length&&(this.x/=y[0],this.y/=y[1],this.z/=y[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(g.every(Number.isFinite)&&g.every(function(R){return"number"==typeof R})){if(g.some(function(R){return 0===R}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===g.length&&(this.x/=y,this.y/=y,this.z/=y),2===g.length&&(this.x/=y,this.y/=C),3===g.length&&(this.x/=y,this.y/=C,this.z/=H)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var h=this.x,g=this.y,p=this.z;return h*h+g*g+p*p}},{key:"dot",value:function(h,g,p){return h instanceof f.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(g||0)+this.z*(p||0)}},{key:"cross",value:function(y){var g=this.y*y.z-this.z*y.y,p=this.z*y.x-this.x*y.z;return y=this.x*y.y-this.y*y.x,this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,g,p,y):new f.default.Vector(g,p,y)}},{key:"dist",value:function(h){return h.copy().sub(this).mag()}},{key:"normalize",value:function(){var h=this.mag();return 0!==h&&this.mult(1/h),this}},{key:"limit",value:function(h){var g=this.magSq();return h*h<g&&this.div(Math.sqrt(g)).mult(h),this}},{key:"setMag",value:function(h){return this.normalize().mult(h)}},{key:"heading",value:function(){var h=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(h):h}},{key:"setHeading",value:function(h){this.isPInst&&(h=this._toRadians(h));var g=this.mag();return this.x=g*Math.cos(h),this.y=g*Math.sin(h),this}},{key:"rotate",value:function(g){g=this.heading()+g;var p=(this.isPInst&&(g=this._toRadians(g)),this.mag());return this.x=Math.cos(g)*p,this.y=Math.sin(g)*p,this}},{key:"angleBetween",value:function(h){var g;return this.magSq()*h.magSq()==0?NaN:(g=this.cross(h),h=Math.atan2(g.mag(),this.dot(h))*Math.sign(g.z||1),this.isPInst?this._fromRadians(h):h)}},{key:"lerp",value:function(h,g,p,y){return h instanceof f.default.Vector?this.lerp(h.x,h.y,h.z,g):(this.x+=(h-this.x)*y||0,this.y+=(g-this.y)*y||0,this.z+=(p-this.z)*y||0,this)}},{key:"slerp",value:function(h,g){if(0!==g){if(1===g)return this.set(h);var p=this.mag(),y=h.mag();if(p*y==0)this.mult(1-g).add(h.x*g,h.y*g,h.z*g);else{var C=this.cross(h),H=C.mag(),B=Math.atan2(H,this.dot(h));if(0<H)C.x/=H,C.y/=H,C.z/=H;else{if(B<.5*Math.PI)return this.mult(1-g).add(h.x*g,h.y*g,h.z*g),this;0===this.z&&0===h.z?C.set(0,0,1):0!==this.x?C.set(this.y,-this.x,0).normalize():C.set(1,0,0)}H=C.cross(this),C=(h=1-g+g*y/p)*Math.cos(g*B),y=h*Math.sin(g*B),this.x=this.x*C+H.x*y,this.y=this.y*C+H.y*y,this.z=this.z*C+H.z*y}}return this}},{key:"reflect",value:function(h){return h=f.default.Vector.normalize(h),this.sub(h.mult(2*this.dot(h)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(H,g,p){var y,C;return H=H instanceof f.default.Vector?(y=H.x||0,C=H.y||0,H.z||0):Array.isArray(H)?(y=H[0]||0,C=H[1]||0,H[2]||0):(y=H||0,C=g||0,p||0),this.x===y&&this.y===C&&this.z===H}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(h){return Math.abs(+(h||0))<=Number.EPSILON?0:h}}])&&_(l.prototype,u),d&&_(l,d),a}();var i=f.default.Vector;$.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(w,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(w=w("../core/main"))&&w.__esModule?w:{default:w},b="_lcg_random_state",f=4294967296,m=0;v.default.prototype._lcg=function(_){return this[_]=(1664525*this[_]+1013904223)%f,this[_]/f},v.default.prototype._lcgSetSeed=function(_,i){this[_]=(null==i?Math.random()*f:i)>>>0},v.default.prototype.randomSeed=function(_){this._lcgSetSeed(b,_),this._gaussian_previous=!1},v.default.prototype.random=function(_,i){var a,l;return v.default._validateParameters("random",arguments),a=null!=this[b]?this._lcg(b):Math.random(),void 0===_?a:void 0===i?Array.isArray(_)?_[Math.floor(a*_.length)]:a*_:(i<_&&(l=_,_=i,i=l),a*(i-_)+_)},v.default.prototype.randomGaussian=function(_){var i,a,l,u,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)i=m,this._gaussian_previous=!1;else{for(;1<=(u=(a=this.random(2)-1)*a+(l=this.random(2)-1)*l););i=a*(u=Math.sqrt(-2*Math.log(u)/u)),m=l*u,this._gaussian_previous=!0}return i*d+(_||0)},$.default=w=v.default},{"../core/main":283}],318:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=w();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}f.default.prototype._angleMode=m.RADIANS,f.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},f.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},f.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},f.default.prototype.atan2=function(i,a){return this._fromRadians(Math.atan2(i,a))},f.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},f.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},f.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},f.default.prototype.degrees=function(i){return i*m.RAD_TO_DEG},f.default.prototype.radians=function(i){return i*m.DEG_TO_RAD},f.default.prototype.angleMode=function(i){if(f.default._validateParameters("angleMode",arguments),void 0===i)return this._angleMode;i!==m.DEGREES&&i!==m.RADIANS||i!==this._angleMode&&(i===m.RADIANS?(this._setProperty("pRotationX",this.pRotationX*m.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*m.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*m.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*m.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*m.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*m.RAD_TO_DEG)),this._angleMode=i)},f.default.prototype._toRadians=function(i){return this._angleMode===m.DEGREES?i*m.DEG_TO_RAD:i},f.default.prototype._toDegrees=function(i){return this._angleMode===m.RADIANS?i*m.RAD_TO_DEG:i},f.default.prototype._fromRadians=function(i){return this._angleMode===m.DEGREES?i*m.RAD_TO_DEG:i},f.default.prototype._fromDegrees=function(i){return this._angleMode===m.RADIANS?i*m.DEG_TO_RAD:i};var _=f.default;$.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,ie,$){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(b,f){var m;return v.default._validateParameters("textAlign",arguments),(m=this._renderer).textAlign.apply(m,arguments)},v.default.prototype.textLeading=function(b){var f;return v.default._validateParameters("textLeading",arguments),(f=this._renderer).textLeading.apply(f,arguments)},v.default.prototype.textSize=function(b){var f;return v.default._validateParameters("textSize",arguments),(f=this._renderer).textSize.apply(f,arguments)},v.default.prototype.textStyle=function(b){var f;return v.default._validateParameters("textStyle",arguments),(f=this._renderer).textStyle.apply(f,arguments)},v.default.prototype.textWidth=function(){for(var b=arguments.length,f=new Array(b),m=0;m<b;m++)f[m]=arguments[m];if(f[0]+="",v.default._validateParameters("textWidth",f),0===f[0].length)return 0;for(var w=f[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),_=[],i=0;i<w.length;i++)_.push(this._renderer.textWidth(w[i]));return Math.max.apply(Math,_)},v.default.prototype.textAscent=function(){for(var b=arguments.length,f=new Array(b),m=0;m<b;m++)f[m]=arguments[m];return v.default._validateParameters("textAscent",f),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var b=arguments.length,f=new Array(b),m=0;m<b;m++)f[m]=arguments[m];return v.default._validateParameters("textDescent",f),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(b){return v.default._validateParameters("textWrap",[b]),this._renderer.textWrap(b)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=i(o("../core/constants")),w=i(o("opentype.js"));function _(){var l;return"function"!=typeof WeakMap?null:(_=function(){return l},l=new WeakMap)}function i(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=_();if(u&&u.has(l))return u.get(l);var d,h,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l)Object.prototype.hasOwnProperty.call(l,d)&&((h=p?Object.getOwnPropertyDescriptor(l,d):null)&&(h.get||h.set)?Object.defineProperty(g,d,h):g[d]=l[d]);return g.default=l,u&&u.set(l,g),g}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.loadFont=function(l,u,d){f.default._validateParameters("loadFont",arguments);var h=new f.default.Font(this),g=this;return w.load(l,function(C,H){if(C)return f.default._friendlyFileLoadError(4,l),void 0!==d?d(C):void console.error(C,l);h.font=H,void 0!==u&&u(h),g._decrementPreload();var B=(H=(C=l.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:C.slice(H+1);["ttf","otf","woff","woff2"].includes(B)&&(B=C.slice(0,-1!==H?H:0),(C=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(B,";\nsrc: url(").concat(l,");\n}\n"))),document.head.appendChild(C))}),h},f.default.prototype.text=function(l,u,d,h,g){var p;return f.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},f.default.prototype.textFont=function(l,u){if(f.default._validateParameters("textFont",arguments),arguments.length){if(l)return this._renderer._setProperty("_textFont",l),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*m._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=f.default;$.default=a},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,ie,$){"use strict";function v(R){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(R)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(b=o("../core/main"))&&b.__esModule?b:{default:b},f=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==w(R)&&"function"!=typeof R)return{default:R};var P=m();if(P&&P.has(R))return P.get(R);var k,T={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in R){var j;Object.prototype.hasOwnProperty.call(R,k)&&((j=N?Object.getOwnPropertyDescriptor(R,k):null)&&(j.get||j.set)?Object.defineProperty(T,k,j):T[k]=R[k])}return T.default=R,P&&P.set(R,T),T}(o("../core/constants"));function m(){var R;return"function"!=typeof WeakMap?null:(m=function(){return R},R=new WeakMap)}function w(R){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(P){return v(P)}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":v(P)})(R)}function _(R,P){for(var k=0;k<P.length;k++){var T=P[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}function i(R,P){var k=R.length;return R[P<0?P%k+k:P%k]}function a(R,P,k,T){var N,j,Z;return T?(void 0===a.tmpPoint1&&(a.tmpPoint1=[],a.tmpPoint2=[]),Z=a.tmpPoint2,(j=a.tmpPoint1).x=P.x-R.x,j.y=P.y-R.y,Z.x=k.x-P.x,Z.y=k.y-P.y,N=j.x*Z.x+j.y*Z.y,j=Math.sqrt(j.x*j.x+j.y*j.y),Z=Math.sqrt(Z.x*Z.x+Z.y*Z.y),Math.acos(N/(j*Z))<T):(P[0]-R[0])*(k[1]-R[1])-(k[0]-R[0])*(P[1]-R[1])==0}function l(O,me,oe,Se,Ue,j,Z,ee,z){var te=1-z,W=(G=Math.pow(te,3))*O+3*(Y=Math.pow(te,2))*z*oe+3*te*z*z*Ue+(le=(K=z*z)*z)*Z,G=G*me+3*Y*z*Se+3*te*z*z*j+le*ee,Y=O+2*z*(oe-O)+K*(Ue-2*oe+O),le=me+2*z*(Se-me)+K*(j-2*Se+me),Me=oe+2*z*(Ue-oe)+K*(Z-2*Ue+oe),K=Se+2*z*(j-Se)+K*(ee-2*j+Se);return O=te*O+z*oe,oe=te*me+z*Se,me=te*Ue+z*Z,Se=te*j+z*ee,Ue=90-180*Math.atan2(Y-Me,le-K)/Math.PI,(Me<Y||le<K)&&(Ue+=180),{x:W,y:G,m:{x:Y,y:le},n:{x:Me,y:K},start:{x:O,y:oe},end:{x:me,y:Se},alpha:Ue}}function u(R,P,k,T,N,j,Z,ee,z){return null==z?H(R,P,k,T,N,j,Z,ee):l(R,P,k,T,N,j,Z,ee,function(te,W,G,Y,le,Me,K,O,oe){if(!(oe<0||H(te,W,G,Y,le,Me,K,O)<oe)){var me,Se=.5,Ue=1-Se;for(me=H(te,W,G,Y,le,Me,K,O,Ue);.01<Math.abs(me-oe);)me=H(te,W,G,Y,le,Me,K,O,Ue+=(me<oe?1:-1)*(Se/=2));return Ue}}(R,P,k,T,N,j,Z,ee,z))}function d(R,P,k){for(var T,N,j,Z,ee,z=0,te=0,W=(R=function(G,Y){function le(Ze,pt,kt){var ar,Vt;if(!Ze)return["C",pt.x,pt.y,pt.x,pt.y,pt.x,pt.y];switch(Ze[0]in{T:1,Q:1}||(pt.qx=pt.qy=null),Ze[0]){case"M":pt.X=Ze[1],pt.Y=Ze[2];break;case"A":Ze=["C"].concat(g.apply(0,[pt.x,pt.y].concat(Ze.slice(1))));break;case"S":Vt="C"===kt||"S"===kt?(ar=2*pt.x-pt.bx,2*pt.y-pt.by):(ar=pt.x,pt.y),Ze=["C",ar,Vt].concat(Ze.slice(1));break;case"T":"Q"===kt||"T"===kt?(pt.qx=2*pt.x-pt.qx,pt.qy=2*pt.y-pt.qy):(pt.qx=pt.x,pt.qy=pt.y),Ze=["C"].concat(C(pt.x,pt.y,pt.qx,pt.qy,Ze[1],Ze[2]));break;case"Q":pt.qx=Ze[1],pt.qy=Ze[2],Ze=["C"].concat(C(pt.x,pt.y,Ze[1],Ze[2],Ze[3],Ze[4]));break;case"L":Ze=["C"].concat(y(pt.x,pt.y,Ze[1],Ze[2]));break;case"H":Ze=["C"].concat(y(pt.x,pt.y,Ze[1],pt.y));break;case"V":Ze=["C"].concat(y(pt.x,pt.y,pt.x,Ze[1]));break;case"Z":Ze=["C"].concat(y(pt.x,pt.y,pt.X,pt.Y))}return Ze}function Me(Ze,pt){if(7<Ze[pt].length){Ze[pt].shift();for(var kt=Ze[pt];kt.length;)Xe[pt]="A",me&&(lt[pt]="A"),Ze.splice(pt++,0,["C"].concat(kt.splice(0,6)));Ze.splice(pt,1),O=Math.max(oe.length,me&&me.length||0)}}function K(Ze,pt,kt,ar,Vt){Ze&&pt&&"M"===Ze[Vt][0]&&"M"!==pt[Vt][0]&&(pt.splice(Vt,0,["M",ar.x,ar.y]),kt.bx=0,kt.by=0,kt.x=Ze[Vt][1],kt.y=Ze[Vt][2],O=Math.max(oe.length,me&&me.length||0))}var O,oe=h(G),me=Y,Se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ue={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Xe=[],lt=[],ze="",st="";O=Math.max(oe.length,me&&me.length||0);for(var at=0;at<O;at++){"C"!==(ze=oe[at]?oe[at][0]:ze)&&(Xe[at]=ze,at&&(st=Xe[at-1])),oe[at]=le(oe[at],Se,st),"A"!==Xe[at]&&"C"===ze&&(Xe[at]="C"),Me(oe,at),me&&("C"!==(ze=me[at]?me[at][0]:ze)&&(lt[at]=ze,at&&(st=lt[at-1])),me[at]=le(me[at],Ue,st),"A"!==lt[at]&&"C"===ze&&(lt[at]="C"),Me(me,at)),K(oe,me,Se,Ue,at),K(me,oe,Ue,Se,at);var Fe=oe[at],nt=me&&me[at],Ye=Fe.length,ot=me&&nt.length;Se.x=Fe[Ye-2],Se.y=Fe[Ye-1],Se.bx=parseFloat(Fe[Ye-4])||Se.x,Se.by=parseFloat(Fe[Ye-3])||Se.y,Ue.bx=me&&(parseFloat(nt[ot-4])||Ue.x),Ue.by=me&&(parseFloat(nt[ot-3])||Ue.y),Ue.x=me&&nt[ot-2],Ue.y=me&&nt[ot-1]}return me?[oe,me]:oe}(R)).length;te<W;te++){if("M"===(j=R[te])[0])T=+j[1],N=+j[2];else{if(P<z+(Z=u(T,N,j[1],j[2],j[3],j[4],j[5],j[6]))&&!k)return{x:(ee=u(T,N,j[1],j[2],j[3],j[4],j[5],j[6],P-z)).x,y:ee.y,alpha:ee.alpha};z+=Z,T=+j[5],N=+j[6]}j.shift()}return(ee=k?z:l(T,N,j[0],j[1],j[2],j[3],j[4],j[5],1)).alpha?{x:ee.x,y:ee.y,alpha:ee.alpha}:ee}function h(R){var P=[],k=0,T=0,N=0,j=0,Z=0;if(R){"M"===R[0][0]&&(N=k=+R[0][1],j=T=+R[0][2],Z++,P[0]=["M",k,T]);for(var ee,z,te=3===R.length&&"M"===R[0][0]&&"R"===R[1][0].toUpperCase()&&"Z"===R[2][0].toUpperCase(),W=Z,G=R.length;W<G;W++){if(P.push(ee=[]),(z=R[W])[0]!==z[0].toUpperCase())switch(ee[0]=z[0].toUpperCase(),ee[0]){case"A":ee[1]=z[1],ee[2]=z[2],ee[3]=z[3],ee[4]=z[4],ee[5]=z[5],ee[6]=+(z[6]+k),ee[7]=+(z[7]+T);break;case"V":ee[1]=+z[1]+T;break;case"H":ee[1]=+z[1]+k;break;case"R":for(var Y,le=2,Me=(Y=[k,T].concat(z.slice(1))).length;le<Me;le++)Y[le]=+Y[le]+k,Y[++le]=+Y[le]+T;P.pop(),P=P.concat(p(Y,te));break;case"M":N=+z[1]+k,j=+z[2]+T;break;default:for(var K=1,O=z.length;K<O;K++)ee[K]=+z[K]+(K%2?k:T)}else if("R"===z[0])Y=[k,T].concat(z.slice(1)),P.pop(),P=P.concat(p(Y,te)),ee=["R"].concat(z.slice(-2));else for(var oe=0,me=z.length;oe<me;oe++)ee[oe]=z[oe];switch(ee[0]){case"Z":k=N,T=j;break;case"H":k=ee[1];break;case"V":T=ee[1];break;case"M":N=ee[ee.length-2],j=ee[ee.length-1];break;default:k=ee[ee.length-2],T=ee[ee.length-1]}}}return P}function g(R,P,k,T,me,Xe,Se,ee,z,te){function W(ot,Ze,pt){return{x:ot*Math.cos(pt)-Ze*Math.sin(pt),y:ot*Math.sin(pt)+Ze*Math.cos(pt)}}var G,oe=120*(O=Math.PI)/180,Y=O/180*(+me||0),le=[],Me=(te?(at=te[0],G=te[1],ze=te[2],st=te[3]):(R=(Ue=W(R,P,-Y)).x,P=Ue.y,1<(Me=(K=(R-(ee=(Ue=W(ee,z,-Y)).x))/2)*K/(k*k)+(Ue=(P-(z=Ue.y))/2)*Ue/(T*T))&&(k*=Me=Math.sqrt(Me),T*=Me),Me=k*k,lt=T*T,ze=(Xe=(Xe===Se?-1:1)*Math.sqrt(Math.abs((Me*lt-Me*Ue*Ue-lt*K*K)/(Me*Ue*Ue+lt*K*K))))*k*Ue/T+(R+ee)/2,st=Xe*-T*K/k+(P+z)/2,at=Math.asin(((P-st)/T).toFixed(9)),G=Math.asin(((z-st)/T).toFixed(9)),(at=R<ze?O-at:at)<0&&(at=2*O+at),(G=ee<ze?O-G:G)<0&&(G=2*O+G),Se&&G<at&&(at-=2*O),!Se&&at<G&&(G-=2*O)),G-at),K=(Math.abs(Me)>oe&&(lt=G,Ue=ee,Xe=z,G=at+oe*(Se&&at<G?1:-1),le=g(ee=ze+k*Math.cos(G),z=st+T*Math.sin(G),k,T,me,0,Se,Ue,Xe,[G,lt,ze,st])),Me=G-at,Math.cos(at)),O=Math.sin(at),Ue=(oe=Math.cos(G),me=Math.sin(G),4/3*k*(Se=Math.tan(Me/4))),lt=[R,P],ze=[R+Ue*O,P-(Xe=4/3*T*Se)*K],st=[ee+Ue*me,z-Xe*oe],at=[ee,z];if(ze[0]=2*lt[0]-ze[0],ze[1]=2*lt[1]-ze[1],te)return[ze,st,at].concat(le);for(var Fe=[],nt=0,Ye=(le=[ze,st,at].concat(le).join().split(",")).length;nt<Ye;nt++)Fe[nt]=nt%2?W(le[nt-1],le[nt],Y).y:W(le[nt],le[nt+1],Y).x;return Fe}function p(R,P){for(var k=[],T=0,N=R.length;T<N-2*!P;T+=2){var j=[{x:+R[T-2],y:+R[T-1]},{x:+R[T],y:+R[T+1]},{x:+R[T+2],y:+R[T+3]},{x:+R[T+4],y:+R[T+5]}];P?T?N-4===T?j[3]={x:+R[0],y:+R[1]}:N-2===T&&(j[2]={x:+R[0],y:+R[1]},j[3]={x:+R[2],y:+R[3]}):j[0]={x:+R[N-2],y:+R[N-1]}:N-4===T?j[3]=j[2]:T||(j[0]={x:+R[T],y:+R[T+1]}),k.push(["C",(6*j[1].x-j[0].x+j[2].x)/6,(6*j[1].y-j[0].y+j[2].y)/6,(j[1].x+6*j[2].x-j[3].x)/6,(j[1].y+6*j[2].y-j[3].y)/6,j[2].x,j[2].y])}return k}function y(R,P,k,T){return[R,P,k,T,k,T]}function C(R,P,k,T,N,j){return[1/3*R+2/3*k,1/3*P+2/3*T,1/3*N+2/3*k,1/3*j+2/3*T,N,j]}function H(R,P,k,T,N,j,Z,ee,z){for(var te=(z=1<(z=null==z?1:z)?1:z<0?0:z)/2,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var Me=B(K=te*W[le]+te,R,k,N,Z),K=B(K,P,T,j,ee);G+=Y[le]*Math.sqrt(Me*Me+K*K)}return te*G}function B(R,P,k,T,N){return R*(R*(-3*P+9*k-9*T+3*N)+6*P-12*k+6*T)-3*P+3*k}b.default.Font=function(){function R(N){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");this.parent=N,this.cache={},this.font=void 0}var P,k;return P=R,(k=[{key:"textBounds",value:function(N){var j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,ee=4<arguments.length?arguments[4]:void 0,z=ee&&ee.renderer&&ee.renderer._pInst||this.parent,te=z._renderer.drawingContext,W=(W=3<arguments.length?arguments[3]:void 0)||z._renderer._textSize;if(!Xe){for(var G=[],Y=[],le=[],Me=(le[0]=[],[]),K=this._scale(W),O=z._renderer.textLeading(),oe=0,me=(this.font.forEachGlyph(N,j,Z,W,ee,function(st,at,Fe,nt){var Ye=st.getMetrics();0===st.index?le[oe+=1]=[]:(le[oe].push(at+Ye.xMin*K),le[oe].push(at+Ye.xMax*K),Me.push(Fe+oe*O+-Ye.yMin*K),Me.push(Fe+oe*O+-Ye.yMax*K))}),0<le[oe].length&&(G[oe]=Math.min.apply(null,le[oe]),Y[oe]=Math.max.apply(null,le[oe])),0),Se=0;Se<=oe;Se++){G[Se]=Math.min.apply(null,le[Se]),Y[Se]=Math.max.apply(null,le[Se]);var Ue=Y[Se]-G[Se];me<Ue&&(me=Ue)}var Xe={x:te=Math.min.apply(null,G),y:Z=Math.min.apply(null,Me),h:Math.max.apply(null,Me)-Z,w:me,advance:te-j};W=this._handleAlignment(z._renderer,N,Xe.x,Xe.y,Xe.w+Xe.advance),Xe.x=W.x,Xe.y=W.y}return Xe}},{key:"textToPoints",value:function(N,j,Z,ee,z){var te=j,W=[],G=N.split(/\r?\n|\r|\n/g);ee=ee||this.parent._renderer._textSize;for(var Y,le,Me,K=0;K<G.length;K++){var O=0;j=te;for(var oe=(oe=G[K]).replace("\t","  "),me=this._getGlyphs(oe),Se=0;Se<me.length;Se++){if(le=oe,!((Me=me)[Y=Se].name&&"space"===Me[Y].name||le.length===Me.length&&" "===le[Y]))for(var Ue=function(st){for(var at,Fe=[],nt=0;nt<st.length;nt++)"M"===st[nt].type&&(at&&Fe.push(at),at=[]),at.push((ot=void 0,ot=[(Ye=st[nt]).type],"M"===Ye.type||"L"===Ye.type?ot.push(Ye.x,Ye.y):"C"===Ye.type?ot.push(Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y):"Q"===Ye.type&&ot.push(Ye.x1,Ye.y1,Ye.x,Ye.y),ot));var Ye,ot;return Fe.push(at),Fe}(me[Se].getPath(j,Z,ee).commands),Xe=0;Xe<Ue.length;Xe++)for(var lt=function(st,at){at=function(pt,kt){if("object"!==w(pt))pt=kt;else for(var ar in kt)void 0===pt[ar]&&(pt[ar]=kt[ar]);return pt}(at,{sampleFactor:.1,simplifyThreshold:0});for(var Fe=d(st,0,1),nt=Fe/(Fe*at.sampleFactor),Ye=[],ot=0;ot<Fe;ot+=nt)Ye.push(d(st,ot));return at.simplifyThreshold&&function(Ze){for(var pt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,ar=Ze.length-1;3<Ze.length&&0<=ar;--ar)a(i(Ze,ar-1),i(Ze,ar),i(Ze,ar+1),pt)&&Ze.splice(ar%Ze.length,1)}(Ye,at.simplifyThreshold),Ye}(Ue[Xe],z),ze=0;ze<lt.length;ze++)lt[ze].x+=O,W.push(lt[ze]);O+=me[Se].advanceWidth*this._scale(ee)}Z+=this.parent._renderer._textLeading}return W}},{key:"_getGlyphs",value:function(N){return this.font.stringToGlyphs(N)}},{key:"_getPath",value:function(N,te,Z,ee){var z=(ee&&ee.renderer&&ee.renderer._pInst||this.parent)._renderer;return te=this._handleAlignment(z,N,te,Z),this.font.getPath(N,te.x,te.y,z._textSize,ee)}},{key:"_getPathData",value:function(N,j,Z,ee){var z=3;return"string"==typeof N&&2<arguments.length?N=this._getPath(N,j,Z,ee):"object"===w(j)&&(ee=j),ee&&"number"==typeof ee.decimals&&(z=ee.decimals),N.toPathData(z)}},{key:"_getSVG",value:function(N,j,Z,ee){var z=3;return"string"==typeof N&&2<arguments.length?N=this._getPath(N,j,Z,ee):"object"===w(j)&&(ee=j),ee&&("number"==typeof ee.decimals&&(z=ee.decimals),"number"==typeof ee.strokeWidth&&(N.strokeWidth=ee.strokeWidth),void 0!==ee.fill&&(N.fill=ee.fill),void 0!==ee.stroke&&(N.stroke=ee.stroke)),N.toSVG(z)}},{key:"_renderPath",value:function(W,Y,le,ee){var z=ee&&ee.renderer||this.parent._renderer,te=z.drawingContext,G=(W=("object"===w(W)&&W.commands?W:this._getPath(W,Y,le,ee)).commands,z._clipping||te.beginPath(),!0);Y=!1,le=void 0;try{for(var Me,K=W[Symbol.iterator]();!(G=(Me=K.next()).done);G=!0){var O=Me.value;"M"===O.type?te.moveTo(O.x,O.y):"L"===O.type?te.lineTo(O.x,O.y):"C"===O.type?te.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y):"Q"===O.type?te.quadraticCurveTo(O.x1,O.y1,O.x,O.y):"Z"===O.type&&te.closePath()}}catch(oe){Y=!0,le=oe}finally{try{G||null==K.return||K.return()}finally{if(Y)throw le}}return z._doStroke&&z._strokeSet&&!z._clipping&&te.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(f._DEFAULT_TEXT_FILL),te.fill()),this}},{key:"_textWidth",value:function(N,j){return this.font.getAdvanceWidth(N,j)}},{key:"_textAscent",value:function(N){return this.font.ascender*this._scale(N)}},{key:"_textDescent",value:function(N){return-this.font.descender*this._scale(N)}},{key:"_scale",value:function(N){return 1/this.font.unitsPerEm*(N||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(N,j,Z,ee,z){var te=N._textSize;switch(void 0===z&&(z=this._textWidth(j,te)),N._textAlign){case f.CENTER:Z-=z/2;break;case f.RIGHT:Z-=z}switch(N._textBaseline){case f.TOP:ee+=this._textAscent(te);break;case f.CENTER:ee+=this._textAscent(te)/2;break;case f.BOTTOM:ee-=this._textDescent(te)}return{x:Z,y:ee}}}])&&_(P.prototype,k),R}(),$.default=o=b.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,b){return v.push(b),v},o.default.prototype.arrayCopy=function(v,b,f,m,w){var _,i;v=void 0!==w?(i=Math.min(w,v.length),_=m,v.slice(b,i+b)):(i=void 0!==f?(i=f,Math.min(i,v.length)):v.length,f=b,v.slice(_=0,i)),Array.prototype.splice.apply(f,[_,i].concat(v))},o.default.prototype.concat=function(v,b){return v.concat(b)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,b){for(var f,m,w=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),_=(v=b||w?v:v.slice()).length;1<_;)f=this.random(0,1)*_|0,m=v[--_],v[_]=v[f],v[f]=m;return v},o.default.prototype.sort=function(v,m){var f=m?v.slice(0,Math.min(m,v.length)):v;return m=m?v.slice(Math.min(m,v.length)):[],(f="string"==typeof f[0]?f.sort():f.sort(function(w,_){return w-_})).concat(m)},o.default.prototype.splice=function(v,b,f){return Array.prototype.splice.apply(v,[f,0].concat(b)),v},o.default.prototype.subset=function(v,b,f){return v.slice(b,void 0!==f?b+f:v.length)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,ie,$){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},v.default.prototype.int=function(b){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return b===1/0||"Infinity"===b?1/0:b===-1/0||"-Infinity"===b?-1/0:"string"==typeof b?parseInt(b,f):"number"==typeof b?0|b:"boolean"==typeof b?b?1:0:b instanceof Array?b.map(function(m){return v.default.prototype.int(m,f)}):void 0},v.default.prototype.str=function(b){return b instanceof Array?b.map(v.default.prototype.str):String(b)},v.default.prototype.boolean=function(b){return"number"==typeof b?0!==b:"string"==typeof b?"true"===b.toLowerCase():"boolean"==typeof b?b:b instanceof Array?b.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(b){return"number"==typeof(b=v.default.prototype.int(b,10))?(b+128)%256-128:b instanceof Array?b.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(b){return"number"!=typeof b||isNaN(b)?b instanceof Array?b.map(v.default.prototype.char):"string"==typeof b?v.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},v.default.prototype.unchar=function(b){return"string"==typeof b&&1===b.length?b.charCodeAt(0):b instanceof Array?b.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(b,f){if(f=null==f?8:f,b instanceof Array)return b.map(function(w){return v.default.prototype.hex(w,f)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(f);if("number"==typeof b){b<0&&(b=4294967295+b+1);for(var m=Number(b).toString(16).toUpperCase();m.length<f;)m="0".concat(m);return m.length>=f?m.substring(m.length-f,m.length):m}},v.default.prototype.unhex=function(b){return b instanceof Array?b.map(v.default.prototype.unhex):parseInt("0x".concat(b),16)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(i=o("../core/main"))&&i.__esModule?i:{default:i};function b(a,l){return function(u){if(Array.isArray(u))return u}(a)||function(u,d){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var h=[],g=!0,p=!1,y=void 0;try{for(var C,H=u[Symbol.iterator]();!(g=(C=H.next()).done)&&(h.push(C.value),!d||h.length!==d);g=!0);}catch(B){p=!0,y=B}finally{try{g||null==H.return||H.return()}finally{if(p)throw y}}return h}}(a,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(a,l,u){var d=(h=b(a.toString().split("."),2))[0],h=h[1];return void 0===u?(d=d.padStart(l,"0"),h?d+"."+h:d):(d=(a=b(a.toFixed(u).toString().split("."),2))[0],h=a[1],d=d.padStart(l,"0"),void 0===h?d:d+"."+h)}function m(h,l){var u=(h=h.toString()).indexOf("."),d=-1!==u?h.substring(u):"";if(h=(h=-1!==u?h.substring(0,u):h).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===l)d="";else if(void 0!==l)if(l>d.length)for(var g=l-(d+=-1===u?".":"").length+1,p=0;p<g;p++)d+="0";else d=d.substring(0,l+1);return h+d}function w(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function _(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(a,l){return v.default._validateParameters("join",arguments),a.join(l)},v.default.prototype.match=function(a,l){return v.default._validateParameters("match",arguments),a.match(l)},v.default.prototype.matchAll=function(a,l){v.default._validateParameters("matchAll",arguments);for(var u=new RegExp(l,"g"),d=u.exec(a),h=[];null!==d;)h.push(d),d=u.exec(a);return h},v.default.prototype.nf=function(a,l,u){return v.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(d){return f(d,l,u)}):"[object Arguments]"===Object.prototype.toString.call(a)?3===a.length?this.nf(a[0],a[1],a[2]):2===a.length?this.nf(a[0],a[1]):this.nf(a[0]):f(a,l,u)},v.default.prototype.nfc=function(a,l){return v.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(u){return m(u,l)}):m(a,l)},v.default.prototype.nfp=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];v.default._validateParameters("nfp",l);var d=v.default.prototype.nf.apply(this,l);return d instanceof Array?d.map(w):w(d)},v.default.prototype.nfs=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];v.default._validateParameters("nfs",l);var d=v.default.prototype.nf.apply(this,l);return d instanceof Array?d.map(_):_(d)},v.default.prototype.split=function(a,l){return v.default._validateParameters("split",arguments),a.split(l)},v.default.prototype.splitTokens=function(a,l){var u,d;return v.default._validateParameters("splitTokens",arguments),d=void 0!==l?(d=/\]/g.exec(l),(u=/\[/g.exec(l))&&d?(l=l.slice(0,d.index)+l.slice(d.index+1),u=/\[/g.exec(l),l=l.slice(0,u.index)+l.slice(u.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):d?(l=l.slice(0,d.index)+l.slice(d.index+1),new RegExp("[".concat(l,"\\]]"),"g")):u?(l=l.slice(0,u.index)+l.slice(u.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")):/\s/g,a.split(d).filter(function(h){return h})},v.default.prototype.trim=function(a){return v.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var i=v.default;$.default=i},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},$.default=o=o.default},{"../core/main":283}],326:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(i=o("../core/main"))&&i.__esModule?i:{default:i},m=(o("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var l=w();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var g;Object.prototype.hasOwnProperty.call(a,u)&&((g=h?Object.getOwnPropertyDescriptor(a,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("../core/constants")));function w(){var a;return"function"!=typeof WeakMap?null:(w=function(){return a},a=new WeakMap)}function _(a,l,u,d,h,g,p){a=a<=0?1:a,l=l<0?0:l,u=u<=0?a:u,d=d<3?3:d;for(var y,C,H=(g=void 0===g||g)?-2:0,B=(h=h<1?1:h)+((p=void 0===p?0!==l:p)?2:0),R=Math.atan2(a-l,u),P=Math.sin(R),k=Math.cos(R),T=H;T<=B;++T){var N=T/h,j=u*N,Z=void 0;for(Z=T<0?(N=j=0,a):h<T?(j=u,N=1,l):a+(l-a)*N,-2!==T&&T!==h+2||(Z=0),j-=u/2,y=0;y<d;++y){var ee=y/(d-1),te=2*Math.PI*ee,z=Math.sin(te),W=(te=Math.cos(te),this.vertices.push(new f.default.Vector(z*Z,j,te*Z)));W=T<0?new f.default.Vector(0,-1,0):h<T&&l?new f.default.Vector(0,1,0):new f.default.Vector(z*k,P,te*k),this.vertexNormals.push(W),this.uvs.push(ee,N)}}var G=0;if(g){for(C=0;C<d;++C)this.faces.push([G+C,G+d+(C+1)%d,G+d+C]);G+=2*d}for(T=0;T<h;++T){for(y=0;y<d;++y){var Y=(y+1)%d;this.faces.push([G+y,G+Y,G+d+Y]),this.faces.push([G+y,G+d+Y,G+d+y])}G+=d}if(p)for(G+=d,y=0;y<d;++y)this.faces.push([G+y,G+(y+1)%d,G+d])}f.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},f.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},f.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},f.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},f.default.prototype.plane=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=(this._assert3d("plane"),f.default._validateParameters("plane",arguments),"plane|".concat(d,"|").concat(h));return this._renderer.geometryInHash(g)||((a=new f.default.Geometry(d,h,function(){for(var p,y,C=0;C<=this.detailY;C++)for(var H=C/this.detailY,B=0;B<=this.detailX;B++)y=new f.default.Vector((p=B/this.detailX)-.5,H-.5,0),this.vertices.push(y),this.uvs.push(p,H)})).computeFaces().computeNormals(),d<=1&&h<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(g,a)),this._renderer.drawBuffersScaled(g,l,u,1),this},f.default.prototype.box=function(a,l,u,d,h){this._assert3d("box"),f.default._validateParameters("box",arguments),void 0===a&&(a=50),void 0===l&&(l=a),void 0===u&&(u=l);var g,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===h&&(h=p?1:4),p="box|".concat(d=void 0===d?p?1:4:d,"|").concat(h),this._renderer.geometryInHash(p)||((g=new f.default.Geometry(d,h,function(){var y=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(C,H){H*=4;for(var B=0;B<4;B++){var R=new f.default.Vector((2*(1&(R=C[B]))-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);y.vertices.push(R),y.uvs.push(1&B,(2&B)/2)}y.faces.push([H,1+H,2+H]),y.faces.push([2+H,1+H,3+H])})})).computeNormals(),d<=4&&h<=4?g._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,g)),this._renderer.drawBuffersScaled(p,a,l,u),this},f.default.prototype.sphere=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),f.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,l,u),this},f.default.prototype.cylinder=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],y=(this._assert3d("cylinder"),f.default._validateParameters("cylinder",arguments),"cylinder|".concat(d,"|").concat(h,"|").concat(g,"|").concat(p));return this._renderer.geometryInHash(y)||(a=new f.default.Geometry(d,h),_.call(a,1,1,1,d,h,g,p),d<=24&&h<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(y,a)),this._renderer.drawBuffersScaled(y,l,u,l),this},f.default.prototype.cone=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),f.default._validateParameters("cone",arguments),"cone|".concat(d,"|").concat(h,"|").concat(g));return this._renderer.geometryInHash(p)||(a=new f.default.Geometry(d,h),_.call(a,1,0,1,d,h,g,!1),d<=24&&h<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,a)),this._renderer.drawBuffersScaled(p,l,u,l),this},f.default.prototype.ellipsoid=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),f.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(h,"|").concat(g));return this._renderer.geometryInHash(p)||((a=new f.default.Geometry(h,g,function(){for(var y=0;y<=this.detailY;y++)for(var C=y/this.detailY,H=Math.PI*C-Math.PI/2,B=Math.cos(H),R=Math.sin(H),P=0;P<=this.detailX;P++){var k=P/this.detailX,N=2*Math.PI*k,T=Math.cos(N);N=Math.sin(N),N=new f.default.Vector(B*N,R,B*T),this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push(k,C)}})).computeFaces(),h<=24&&g<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,a)),this._renderer.drawBuffersScaled(p,l,u,d),this},f.default.prototype.torus=function(a,p,u,d){if(this._assert3d("torus"),f.default._validateParameters("torus",arguments),void 0===a)a=50;else if(!a)return;if(void 0===p)p=10;else if(!p)return;void 0===u&&(u=24),void 0===d&&(d=16);var h,g=(p/a).toPrecision(4);return p="torus|".concat(g,"|").concat(u,"|").concat(d),this._renderer.geometryInHash(p)||((h=new f.default.Geometry(u,d,function(){for(var y=0;y<=this.detailY;y++)for(var C=y/this.detailY,H=2*Math.PI*C,B=Math.cos(H),R=Math.sin(H),P=1+g*B,k=0;k<=this.detailX;k++){var T=k/this.detailX,N=2*Math.PI*T,Z=Math.cos(N),j=(N=Math.sin(N),new f.default.Vector(P*Z,P*N,g*R));Z=new f.default.Vector(B*Z,B*N,R),this.vertices.push(j),this.vertexNormals.push(Z),this.uvs.push(T,C)}})).computeFaces(),u<=24&&d<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,h)),this._renderer.drawBuffersScaled(p,a,a,a),this},f.default.RendererGL.prototype.point=function(a,l){var u=[];return u.push(new f.default.Vector(a,l,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},f.default.RendererGL.prototype.triangle=function(p){var l=p[0],u=p[1],d=p[2],h=p[3],g=p[4],y=(p=p[5],this.geometryInHash("tri")||((y=new f.default.Geometry(1,1,function(){var B=[];B.push(new f.default.Vector(0,0,0)),B.push(new f.default.Vector(1,0,0)),B.push(new f.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=B,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),y.computeNormals(),this.createBuffers("tri",y)),this.uModelMatrix.copy());try{var C=Math.sign(l*h-d*u+d*p-g*h+g*u-l*p),H=new f.default.Matrix([d-l,h-u,0,0,g-l,p-u,0,0,0,0,C,0,l,u,0,1]).mult(this.uModelMatrix);this.uModelMatrix=H,this.drawBuffers("tri")}finally{this.uModelMatrix=y}return this},f.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,m.TWO_PI,m.OPEN,a[4])},f.default.RendererGL.prototype.arc=function(){var a,l=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],d=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3],g=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],y=arguments.length<=6?void 0:arguments[6],C=(arguments.length<=7?void 0:arguments[7])||25,H=(Math.abs(p-g)>=m.TWO_PI?"".concat(B="ellipse","|"):"".concat(B="arc","|").concat(g,"|").concat(p,"|").concat(y,"|")).concat(C,"|"),B=(this.geometryInHash(H)||((a=new f.default.Geometry(C,1,function(){if(g.toFixed(10)!==p.toFixed(10)){y!==m.PIE&&void 0!==y||(this.vertices.push(new f.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=C;R++){var k=R/C*(p-g)+g,P=.5+Math.cos(k)/2;k=.5+Math.sin(k)/2,this.vertices.push(new f.default.Vector(P,k,0)),this.uvs.push([P,k]),R<C-1&&(this.faces.push([0,R+1,R+2]),this.edges.push([R+1,R+2]))}switch(y){case m.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case m.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case m.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),C<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(B," with more than 50 detail")),this.createBuffers(H,a)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([l,u,0]),this.uModelMatrix.scale(d,h,1),this.drawBuffers(H)}finally{this.uModelMatrix=B}return this},f.default.RendererGL.prototype.rect=function(a){var l=a[0],u=a[1],d=a[2],h=a[3];if(void 0===a[4]){var y=this._pInst._glAttributes.perPixelLighting,g=a[4]||(y?1:24),p=a[5]||(y?1:16),C=(y="rect|".concat(g,"|").concat(p),this.geometryInHash(y)||((C=new f.default.Geometry(g,p,function(){for(var W=0;W<=this.detailY;W++)for(var G=W/this.detailY,Y=0;Y<=this.detailX;Y++){var le=Y/this.detailX,Me=new f.default.Vector(le,G,0);this.vertices.push(Me),this.uvs.push(le,G)}0<g&&0<p&&(this.edges=[[0,g],[g,(g+1)*(p+1)-1],[(g+1)*(p+1)-1,(g+1)*p],[(g+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(y,C)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([l,u,0]),this.uModelMatrix.scale(d,h,1),this.drawBuffers(y)}finally{this.uModelMatrix=C}}else{y=a[4],C=void 0===a[5]?y:a[5];var H=void 0===a[6]?C:a[6],N=(a=void 0===a[7]?H:a[7],d),B=h,R=((N+=l)<l&&(k=l,l=N,N=k),(B+=u)<u&&(k=u,u=B,B=k),(k=Math.min((N-l)/2,(B-u)/2))<y&&(y=k),k<C&&(C=k),k<H&&(H=k),k<a&&(a=k),l),P=u,k=N,T=(l=B,this.beginShape(),0!==C?(this.vertex(k-C,P),this.quadraticVertex(k,P,k,P+C)):this.vertex(k,P),0!==H?(this.vertex(k,l-H),this.quadraticVertex(k,l,k-H,l)):this.vertex(k,l),0!==a?(this.vertex(R+a,l),this.quadraticVertex(R,l,R,l-a)):this.vertex(R,l),0!==y?(this.vertex(R,P+y),this.quadraticVertex(R,P,R+y,P)):this.vertex(R,P),!(this.immediateMode.geometry.uvs.length=0));u=!1,N=void 0;try{for(var j,Z=this.immediateMode.geometry.vertices[Symbol.iterator]();!(T=(j=Z.next()).done);T=!0){var ee=j.value;this.immediateMode.geometry.uvs.push((ee.x-R)/d,(ee.y-P)/h)}}catch(K){u=!0,N=K}finally{try{T||null==Z.return||Z.return()}finally{if(u)throw N}}this.endShape(m.CLOSE)}return this},f.default.RendererGL.prototype.quad=function(a,l,u,d,h,g,p,y,C,H,B,R){var P=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,k=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,T="quad|".concat(a,"|").concat(l,"|").concat(u,"|").concat(d,"|").concat(h,"|").concat(g,"|").concat(p,"|").concat(y,"|").concat(C,"|").concat(H,"|").concat(B,"|").concat(R,"|").concat(P,"|").concat(k);if(!this.geometryInHash(T)){var N=new f.default.Geometry(P,k,function(){for(var Y=1/(this.detailX-1),le=1/(this.detailY-1),Me=0;Me<this.detailY;Me++)for(var K=0;K<this.detailX;K++){var O=K*Y,oe=Me*le;this.vertices.push(new f.default.Vector((1-O)*((1-oe)*a+oe*H)+O*((1-oe)*d+oe*p),(1-O)*((1-oe)*l+oe*B)+O*((1-oe)*h+oe*y),(1-O)*((1-oe)*u+oe*R)+O*((1-oe)*g+oe*C))),this.uvs.push([O,oe])}});N.faces=[];for(var j=0;j<k-1;j++)for(var Z=0;Z<P-1;Z++){var ee=Z+j*P,z=Z+1+(j+1)*P,te=Z+(j+1)*P;N.faces.push([ee,Z+1+j*P,z]),N.faces.push([ee,z,te])}N.computeNormals();for(var W=[N.edges.length=0,2,3,1],G=0;G<W.length;G++)N.edges.push([W[G],W[(G+1)%W.length]]);N._edgesToVertices(),this.createBuffers(T,N)}return this.drawBuffers(T),this},f.default.RendererGL.prototype.bezier=function(a,l,u,d,h,g,p,y,C,H,B,R){8===arguments.length&&(B=y,H=p,y=g,p=h,h=d,d=u,u=g=C=R=0);var P=this._pInst._bezierDetail||20;this.beginShape();for(var k=0;k<=P;k++){var T=Math.pow(1-k/P,3),N=k/P*3*Math.pow(1-k/P,2),j=3*Math.pow(k/P,2)*(1-k/P),Z=Math.pow(k/P,3);this.vertex(a*T+d*N+p*j+H*Z,l*T+h*N+y*j+B*Z,u*T+g*N+C*j+R*Z)}return this.endShape(),this},f.default.RendererGL.prototype.curve=function(a,l,u,d,h,g,p,y,C,H,B,R){8===arguments.length&&(H=p,B=y,p=h,y=d,h=d=u,u=g=C=R=0);var P=this._pInst._curveDetail;this.beginShape();for(var k=0;k<=P;k++){var T=.5*Math.pow(k/P,3),N=.5*Math.pow(k/P,2),j=k/P*.5;this.vertex(T*(3*d-a-3*p+H)+N*(2*a-5*d+4*p-H)+j*(-a+p)+2*d*.5,T*(3*h-l-3*y+B)+N*(2*l-5*h+4*y-B)+j*(-l+y)+2*h*.5,T*(3*g-u-3*C+R)+N*(2*u-5*g+4*C-R)+j*(-u+C)+2*g*.5)}return this.endShape(),this},f.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(m.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(m.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},f.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var a,l,u,d,h,g,p=[],y=[],C=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var H=1/this._lutBezierDetail,B=0,R=1,P=0;B<1;){if(g=parseFloat(B.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(g),R.toFixed(6)===H.toFixed(6)){g=parseFloat(R.toFixed(6))+parseFloat(B.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(g);break}B+=H,R-=H,++P}}for(var k=this._lookUpTableBezier.length,T=[],N=0;N<4;N++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[3]=this.curFillColor.slice();var j=[];for(N=0;N<4;N++)j.push([]);if(j[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),j[3]=this.curStrokeColor.slice(),6===C){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var Z=Math.hypot(p[0]-p[1],y[0]-y[1]),z=Math.hypot(p[1]-p[2],y[1]-y[2]),ee=Math.hypot(p[2]-p[3],y[2]-y[3]);for(Z/=z=Z+z+ee,ee/=z,h=0;h<4;h++)T[1].push(T[0][h]*(1-Z)+T[3][h]*Z),T[2].push(T[0][h]*ee+T[3][h]*(1-ee)),j[1].push(j[0][h]*(1-Z)+j[3][h]*Z),j[2].push(j[0][h]*ee+j[3][h]*(1-ee));for(d=0;d<k;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=a=l=0;N<4;N++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[d][N]*T[N][h],this.curStrokeColor[h]+=this._lookUpTableBezier[d][N]*j[N][h];a+=p[N]*this._lookUpTableBezier[d][N],l+=y[N]*this._lookUpTableBezier[d][N]}this.vertex(a,l)}this.curFillColor=T[3],this.curStrokeColor=j[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===C){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var te=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],W=Math.hypot(p[0]-p[1],y[0]-y[1],te[0]-te[1]),G=(z=Math.hypot(p[1]-p[2],y[1]-y[2],te[1]-te[2]),Math.hypot(p[2]-p[3],y[2]-y[3],te[2]-te[3]));for(W/=C=W+z+G,G/=C,h=0;h<4;h++)T[1].push(T[0][h]*(1-W)+T[3][h]*W),T[2].push(T[0][h]*G+T[3][h]*(1-G)),j[1].push(j[0][h]*(1-W)+j[3][h]*W),j[2].push(j[0][h]*G+j[3][h]*(1-G));for(d=0;d<k;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=a=l=u=0;N<4;N++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[d][N]*T[N][h],this.curStrokeColor[h]+=this._lookUpTableBezier[d][N]*j[N][h];a+=p[N]*this._lookUpTableBezier[d][N],l+=y[N]*this._lookUpTableBezier[d][N],u+=te[N]*this._lookUpTableBezier[d][N]}this.vertex(a,l,u)}this.curFillColor=T[3],this.curStrokeColor=j[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},f.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var a,l,u,d,h,g,p=[],y=[],C=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var H=1/this._lutQuadraticDetail,B=0,R=1,P=0;B<1;){if(g=parseFloat(B.toFixed(6)),this._lookUpTableQuadratic[P]=this._quadraticCoefficients(g),R.toFixed(6)===H.toFixed(6)){g=parseFloat(R.toFixed(6))+parseFloat(B.toFixed(6)),++P,this._lookUpTableQuadratic[P]=this._quadraticCoefficients(g);break}B+=H,R-=H,++P}}for(var k=this._lookUpTableQuadratic.length,T=[],N=0;N<3;N++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[2]=this.curFillColor.slice();var j=[];for(N=0;N<3;N++)j.push([]);if(j[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),j[2]=this.curStrokeColor.slice(),4===C){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var Z=Math.hypot(p[0]-p[1],y[0]-y[1]);for(Z/=Z+Math.hypot(p[1]-p[2],y[1]-y[2]),h=0;h<4;h++)T[1].push(T[0][h]*(1-Z)+T[2][h]*Z),j[1].push(j[0][h]*(1-Z)+j[2][h]*Z);for(d=0;d<k;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=a=l=0;N<3;N++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[d][N]*T[N][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[d][N]*j[N][h];a+=p[N]*this._lookUpTableQuadratic[d][N],l+=y[N]*this._lookUpTableQuadratic[d][N]}this.vertex(a,l)}this.curFillColor=T[2],this.curStrokeColor=j[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===C){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var ee=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(p[0]-p[1],y[0]-y[1],ee[0]-ee[1]);for(z/=z+Math.hypot(p[1]-p[2],y[1]-y[2],ee[1]-ee[2]),h=0;h<4;h++)T[1].push(T[0][h]*(1-z)+T[2][h]*z),j[1].push(j[0][h]*(1-z)+j[2][h]*z);for(d=0;d<k;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=a=l=u=0;N<3;N++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[d][N]*T[N][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[d][N]*j[N][h];a+=p[N]*this._lookUpTableQuadratic[d][N],l+=y[N]*this._lookUpTableQuadratic[d][N],u+=ee[N]*this._lookUpTableQuadratic[d][N]}this.vertex(a,l,u)}this.curFillColor=T[2],this.curStrokeColor=j[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},f.default.RendererGL.prototype.curveVertex=function(){var a,h,g,p=[],y=[],C=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var H=1/this._lutBezierDetail,B=0,R=1,P=0;B<1;){if(g=parseFloat(B.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(g),R.toFixed(6)===H.toFixed(6)){g=parseFloat(R.toFixed(6))+parseFloat(B.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(g);break}B+=H,R-=H,++P}}var k=this._lookUpTableBezier.length;if(2===C){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),h=0;h<k;h++)this.vertex(p[0]*this._lookUpTableBezier[h][0]+p[1]*this._lookUpTableBezier[h][1]+p[2]*this._lookUpTableBezier[h][2]+p[3]*this._lookUpTableBezier[h][3],y[0]*this._lookUpTableBezier[h][0]+y[1]*this._lookUpTableBezier[h][1]+y[2]*this._lookUpTableBezier[h][2]+y[3]*this._lookUpTableBezier[h][3]);for(h=0;h<C;h++)this.immediateMode._curveVertex.shift()}}else if(3===C&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),h=0;h<k;h++)this.vertex(p[0]*this._lookUpTableBezier[h][0]+p[1]*this._lookUpTableBezier[h][1]+p[2]*this._lookUpTableBezier[h][2]+p[3]*this._lookUpTableBezier[h][3],y[0]*this._lookUpTableBezier[h][0]+y[1]*this._lookUpTableBezier[h][1]+y[2]*this._lookUpTableBezier[h][2]+y[3]*this._lookUpTableBezier[h][3],a[0]*this._lookUpTableBezier[h][0]+a[1]*this._lookUpTableBezier[h][1]+a[2]*this._lookUpTableBezier[h][2]+a[3]*this._lookUpTableBezier[h][3]);for(h=0;h<C;h++)this.immediateMode._curveVertex.shift()}},f.default.RendererGL.prototype.image=function(a,R,u,P,h,g,p,y,C){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(m.NORMAL);var H=0,B=(R<=a.width&&(H=R/a.width),1);R+P<=a.width&&(B=(R+P)/a.width),R=0,u<=a.height&&(R=u/a.height),P=1,u+h<=a.height&&(P=(u+h)/a.height),this.beginShape(),this.vertex(g,p,0,H,R),this.vertex(g+y,p,0,B,R),this.vertex(g+y,p+C,0,B,P),this.vertex(g,p+C,0,H,P),this.endShape(m.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(m.REMOVE)};var i=f.default;$.default=i},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=w();if(u&&u.has(l))return u.get(l);var d,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=g?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=l[d])}return h.default=l,u&&u.set(l,h),h}(o("../core/constants"));function w(){var l;return"function"!=typeof WeakMap?null:(w=function(){return l},l=new WeakMap)}function _(l){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(l)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(l,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var a=function(){function l(g){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");(this.renderer=g)._pInst.push(),this.identityMatrix=new f.default.Matrix,g.uModelMatrix=new f.default.Matrix,this.geometry=new f.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(l.nextGeometryId),l.nextGeometryId++,this.hasTransform=!1}var u,d;return u=l,(d=[{key:"transformVertices",value:function(g){var p=this;return this.hasTransform?g.map(function(y){return p.renderer.uModelMatrix.multiplyPoint(y)}):g}},{key:"transformNormals",value:function(g){var p=this;return this.hasTransform?g.map(function(y){return p.renderer.uNMatrix.multiplyVec3(y)}):g}},{key:"addGeometry",value:function(g){for(var p,y=this,C=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(B,R){return B===y.identityMatrix.mat4[R]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),H=((p=this.geometry.vertices).push.apply(p,_(this.transformVertices(g.vertices))),(p=this.geometry.vertexNormals).push.apply(p,_(this.transformNormals(g.vertexNormals))),(p=this.geometry.uvs).push.apply(p,_(g.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,_(g.faces.map(function(B){return B.map(function(R){return R+C})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,_(g.edges.map(function(B){return B.map(function(R){return R+C})}))),_(g.vertexColors));H.length<4*g.vertices.length;)H.push.apply(H,_(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,_(H))}},{key:"addImmediate",value:function(){var g=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,y=[];if(this.renderer._doFill)if(p===m.TRIANGLE_STRIP||p===m.QUAD_STRIP)for(var C=2;C<g.vertices.length;C++)y.push(C%2==0?[C,C-1,C-2]:[C,C-2,C-1]);else if(p===m.TRIANGLE_FAN)for(var H=2;H<g.vertices.length;H++)y.push([0,H-1,H]);else for(var B=0;B<g.vertices.length;B+=3)y.push([B,B+1,B+2]);this.addGeometry(Object.assign({},g,{faces:y}))}},{key:"addRetained",value:function(g){this.addGeometry(g.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&i(u.prototype,d),l}();a.nextGeometryId=0,$.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(_=o("../core/main"))&&_.__esModule?_:{default:_},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==w(i)&&"function"!=typeof i)return{default:i};var a=m();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function m(){var i;return"function"!=typeof WeakMap?null:(m=function(){return i},i=new WeakMap)}function w(i){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}b.default.prototype.orbitControl=function(i,a,l,C){var d=this,h=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===i&&(i=1),void 0===a&&(a=i),void 0===l&&(l=1),"object"!==w(C)&&(C={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var B=C.disableTouchActions;!0===this.touchActionsDisabled||void 0!==B&&!B||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),C=void 0!==(B=C.freeRotation)&&B;var g,p,y,H=[],R=(this.touches.forEach(function(Z){d._renderer.prevTouches.forEach(function(ee){Z.id===ee.id&&H.push(ee={x:Z.x,y:Z.y,px:ee.x,py:ee.y})})}),this._renderer.prevTouches=this.touches,B=0,0),P=0,k=0,T=0,N=this.height<this.width?this.height:this.width,j=!1;return 0<H.length?(j=0<H[0].x&&H[0].x<this.width&&0<H[0].y&&H[0].y<this.height,1===H.length?(R=-i*((g=H[0]).x-g.px)/N,P=a*(g.y-g.py)/N):(g=H[0],p=H[1],B=-(Math.hypot(g.x-p.x,g.y-p.y)-Math.hypot(g.px-p.px,g.py-p.py))*l*4e-4,k=.5*(g.x+p.x)-.5*(g.px+p.px),T=.5*(g.y+p.y)-.5*(g.py+p.py)),0<this.touches.length?j&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(j=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(B=Math.sign(this._mouseWheelDeltaY)*l,B*=.01,this._mouseWheelDeltaY=0,j&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(R=-i*this.movedX/N,P=a*this.movedY/N):this.mouseButton===this.RIGHT&&(k=this.movedX,T=this.movedY*h.yScale),j&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==B&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=B),.001<Math.abs(this._renderer.zoomVelocity)?(C?h._orbitFree(0,0,this._renderer.zoomVelocity):h._orbit(0,0,this._renderer.zoomVelocity),0!==h.projMatrix.mat4[15]&&(h.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),h.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=h.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=h.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===R&&0===P||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*R,.6*P),1e-6<this._renderer.rotateVelocity.magSq()?(C?h._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):h._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===k&&0===T||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(g=2*k/this.width),.15*(p=2*-T/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(l=h._getLocalAxes(),i=h.eyeX-h.centerX,a=h.eyeY-h.centerY,N=h.eyeZ-h.centerZ,j=Math.sqrt(i*i+a*a+N*N),B=new b.default.Vector(h.centerX,h.centerY,h.centerZ),B=h.cameraMatrix.multiplyPoint(B),(B=this._renderer.uPMatrix.multiplyAndNormalizePoint(B)).x-=this._renderer.moveVelocity.x,B.y-=this._renderer.moveVelocity.y,P=0===(R=this._renderer.uPMatrix.mat4)[15]?(y=(R[8]+B.x)/R[0]*j,(R[9]+B.y)/R[5]*j):(y=(B.x-R[12])/R[0],(B.y-R[13])/R[5]),h.setPosition(h.eyeX+y*l.x[0]+P*l.y[0],h.eyeY+y*l.x[1]+P*l.y[1],h.eyeZ+y*l.x[2]+P*l.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];b.default._validateParameters("debugMode",a);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);a[0]===f.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===f.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},b.default.prototype._grid=function(i,a,l,u,d){void 0===i&&(i=this.width/2),void 0===a&&(a=Math.round(i/30)<4?4:Math.round(i/30)),void 0===l&&(l=0),void 0===u&&(u=0),void 0===d&&(d=0);var h=i/a,g=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var p=0;p<=a;p++)this.beginShape(this.LINES),this.vertex(-g+l,u,p*h-g+d),this.vertex(g+l,u,p*h-g+d),this.endShape();for(var y=0;y<=a;y++)this.beginShape(this.LINES),this.vertex(y*h-g+l,u,-g+d),this.vertex(y*h-g+l,u,g+d),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(i,a,l,u){return void 0===i&&(i=40<this.width/20?this.width/20:40),void 0===a&&(a=-this.width/4),void 0===l&&(l=a),void 0===u&&(u=a),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,l,u),this.vertex(a+i,l,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,l,u),this.vertex(a,l+i,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,l,u),this.vertex(a,l,u+i),this.endShape(),this.pop()}};var _=b.default;$.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,ie,$){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(b,f,m,w){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var _=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(_._array[0],_._array[1],_._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(b,f,m){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var w=this.color.apply(this,arguments);return this._renderer.specularColors=[w._array[0],w._array[1],w._array[2]],this},v.default.prototype.directionalLight=function(b,d,u,w,_,i){var a,l;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),b=b instanceof v.default.Color?b:this.color(b,d,u),u="number"==typeof(d=arguments[arguments.length-1])?(a=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(a=d.x,l=d.y,d.z),d=Math.sqrt(a*a+l*l+u*u),this._renderer.directionalLightDirections.push(a/d,l/d,u/d),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(b,u,d,w,_,i){var a,l;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),b=b instanceof v.default.Color?b:this.color(b,u,d),d="number"==typeof(u=arguments[arguments.length-1])?(a=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(a=u.x,l=u.y,u.z),this._renderer.pointLightPositions.push(a,l,d),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(b){this._renderer.activeImageLight=b,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(b){this.filter(this._renderer._getSphereMapping(b))},v.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},v.default.prototype.lightFalloff=function(b,f,m){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),m<0&&(m=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===b&&0===f&&0===m&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=f,this._renderer.quadraticAttenuation=m,this},v.default.prototype.spotLight=function(b,f,m,w,_,i,a,l,u,d,h){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var g,p,y,C=arguments.length;switch(C){case 11:case 10:g=this.color(b,f,m),p=new v.default.Vector(w,_,i),y=new v.default.Vector(a,l,u);break;case 9:b instanceof v.default.Color?(g=b,p=new v.default.Vector(f,m,w),y=new v.default.Vector(_,i,a),d=l,h=u):w instanceof v.default.Vector?(g=this.color(b,f,m),p=w,y=new v.default.Vector(_,i,a),d=l,h=u):a instanceof v.default.Vector?(g=this.color(b,f,m),p=new v.default.Vector(w,_,i),y=a,d=l,h=u):(g=this.color(b,f,m),p=new v.default.Vector(w,_,i),y=new v.default.Vector(a,l,u));break;case 8:y=b instanceof v.default.Color?(g=b,p=new v.default.Vector(f,m,w),new v.default.Vector(_,i,a)):w instanceof v.default.Vector?(g=this.color(b,f,m),p=w,new v.default.Vector(_,i,a)):(g=this.color(b,f,m),p=new v.default.Vector(w,_,i),a),d=l;break;case 7:b instanceof v.default.Color&&f instanceof v.default.Vector?(g=b,p=f,y=new v.default.Vector(m,w,_),d=i,h=a):b instanceof v.default.Color&&_ instanceof v.default.Vector?(g=b,p=new v.default.Vector(f,m,w),y=_,d=i,h=a):w instanceof v.default.Vector&&_ instanceof v.default.Vector?(g=this.color(b,f,m),p=w,y=_,d=i,h=a):y=b instanceof v.default.Color?(g=b,p=new v.default.Vector(f,m,w),new v.default.Vector(_,i,a)):w instanceof v.default.Vector?(g=this.color(b,f,m),p=w,new v.default.Vector(_,i,a)):(g=this.color(b,f,m),p=new v.default.Vector(w,_,i),a);break;case 6:w instanceof v.default.Vector&&_ instanceof v.default.Vector?(g=this.color(b,f,m),p=w,y=_,d=i):b instanceof v.default.Color&&_ instanceof v.default.Vector?(g=b,p=new v.default.Vector(f,m,w),y=_,d=i):b instanceof v.default.Color&&f instanceof v.default.Vector&&(g=b,p=f,y=new v.default.Vector(m,w,_),d=i);break;case 5:b instanceof v.default.Color&&f instanceof v.default.Vector&&m instanceof v.default.Vector?(g=b,p=f,y=m,d=w,h=_):w instanceof v.default.Vector&&_ instanceof v.default.Vector?(g=this.color(b,f,m),p=w,y=_):b instanceof v.default.Color&&_ instanceof v.default.Vector?(g=b,p=new v.default.Vector(f,m,w),y=_):b instanceof v.default.Color&&f instanceof v.default.Vector&&(g=b,p=f,y=new v.default.Vector(m,w,_));break;case 4:g=b,p=f,y=m,d=w;break;case 3:g=b,p=f,y=m;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(C<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(g._array[0],g._array[1],g._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),y.normalize(),this._renderer.spotLightDirections.push(y.x,y.y,y.z),void 0===d&&(d=Math.PI/3),void 0!==h&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===h&&(h=100),d=this._renderer._pInst._toRadians(d),this._renderer.spotLightAngle.push(Math.cos(d)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,f=new Array(b),m=0;m<b;m++)f[m]=arguments[m];return v.default._validateParameters("noLights",f),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("regenerator-runtime/runtime");var b=(i=o("../core/main"))&&i.__esModule?i:{default:i};function f(a){return function(l){if(Array.isArray(l)){for(var u=0,d=new Array(l.length);u<l.length;u++)d[u]=l[u];return d}}(a)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(a,l,u,d,h,g,p){try{var y=a[g](p),C=y.value}catch(H){return void u(H)}y.done?l(C):Promise.resolve(C).then(d,h)}function w(a){return function(){var l=this,u=arguments;return new Promise(function(d,h){var g=a.apply(l,u);function p(C){m(g,d,h,p,y,"next",C)}function y(C){m(g,d,h,p,y,"throw",C)}p(void 0)})}}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("./p5.Geometry"),b.default.prototype.loadModel=function(a,l){b.default._validateParameters("loadModel",arguments);var u,d,P,h=!1,g=!1,p=!1,y=a.slice(-4),C=(l&&"object"===_(l)?(h=l.normalize||!1,u=l.successCallback,d=l.failureCallback,y=l.fileType||y,g=l.flipU||!1,p=l.flipV||!1):"boolean"==typeof l?(h=l,u=arguments[2],d=arguments[3],void 0!==arguments[4]&&(y=arguments[4])):(u="function"==typeof l?l:void 0,d=arguments[2],void 0!==arguments[3]&&(y=arguments[3])),new b.default.Geometry),H=(C.gid="".concat(a,"|").concat(h),this);function B(){return(B=w(M.mark(function P(k){var T,N,j,Z;return M.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:for(T=[],N=0;N<k.length;N++)(j=k[N].match(/^mtllib (.+)/))&&function(){var z,te=j[1],W=a.split("/");z=1<W.length?(W.pop(),W.join("/")+"/"+te):te,T.push(function(){return R.apply(this,arguments)}(z).then(function(G){return G?(Y=H,le=z,new Promise(function(Me,K){var O=null,oe={};Y.loadStrings(le,function(me){for(var Se=0;Se<me.length;++Se){var Xe=me[Se].trim().split(/\s+/);"newmtl"===Xe[0]?oe[O=Xe[1]]={}:"Kd"===Xe[0]?oe[O].diffuseColor=[parseFloat(Xe[1]),parseFloat(Xe[2]),parseFloat(Xe[3])]:"Ka"===Xe[0]?oe[O].ambientColor=[parseFloat(Xe[1]),parseFloat(Xe[2]),parseFloat(Xe[3])]:"Ks"===Xe[0]?oe[O].specularColor=[parseFloat(Xe[1]),parseFloat(Xe[2]),parseFloat(Xe[3])]:"map_Kd"===Xe[0]&&(oe[O].texturePath=Xe[1])}Me(oe)},K)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(z)),{});var Y,le}).catch(function(G){return console.warn("Error loading MTL file: ".concat(z),G),{}}))}();return ee.prev=2,ee.next=5,Promise.all(T);case 5:return Z=ee.sent,Z=Object.assign.apply(Object,[{}].concat(f(Z))),ee.abrupt("return",Z);case 10:return ee.prev=10,ee.t0=ee.catch(2),ee.abrupt("return",{});case 13:case"end":return ee.stop()}},P,null,[[2,10]])}))).apply(this,arguments)}function R(){return(R=w(M.mark(function P(k){return M.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,fetch(k,{method:"HEAD"});case 3:return N.abrupt("return",N.sent.ok);case 7:return N.prev=7,N.t0=N.catch(0),N.abrupt("return",!1);case 10:case"end":return N.stop()}},P,null,[[0,7]])}))).apply(this,arguments)}return y.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(P){(function(k,T){if(function(N){for(var j=new DataView(N),Z=[115,111,108,105,100],ee=0;ee<5;ee++)if(function(z,te,W){for(var G=0,Y=z.length;G<Y;G++)if(z[G]!==te.getUint8(W+G,!1))return;return 1}(Z,j,ee))return;return 1}(T))!function(N,j){for(var Z,ee,z,te,W,G,Y,le=new DataView(j),Me=le.getUint32(80,!0),K=!1,O=0;O<70;O++)1129270351===le.getUint32(O,!1)&&82===le.getUint8(O+4)&&61===le.getUint8(O+5)&&(K=!0,te=[],W=le.getUint8(O+6)/255,G=le.getUint8(O+7)/255,Y=le.getUint8(O+8)/255);for(var oe=0;oe<Me;oe++){for(var me,Se=84+50*oe,Ue=le.getFloat32(Se,!0),Xe=le.getFloat32(4+Se,!0),lt=le.getFloat32(8+Se,!0),ze=(K&&(z=32768&(me=le.getUint16(48+Se,!0))?(Z=W,ee=G,Y):(Z=(31&me)/31,ee=(me>>5&31)/31,(me>>10&31)/31)),new b.default.Vector(Ue,Xe,lt)),st=1;st<=3;st++){var at=new b.default.Vector(le.getFloat32(at=Se+12*st,!0),le.getFloat32(4+at,!0),le.getFloat32(8+at,!0));N.vertices.push(at),N.vertexNormals.push(ze),K&&te.push(Z,ee,z)}N.faces.push([3*oe,3*oe+1,3*oe+2]),N.uvs.push([0,0],[0,0],[0,0])}}(k,T);else{if(T=new DataView(T),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(N,j){for(var Z,ee,z="",te=[],W=0;W<j.length;++W){for(var G=j[W].trim(),Y=G.split(" "),le=0;le<Y.length;++le)""===Y[le]&&Y.splice(le,1);if(0!==Y.length)switch(z){case"":if("solid"!==Y[0])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "solid"'));z="solid";break;case"solid":if("facet"!==Y[0]||"normal"!==Y[1])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "facet normal"'));Z=new b.default.Vector(parseFloat(Y[2]),parseFloat(Y[3]),parseFloat(Y[4])),N.vertexNormals.push(Z,Z,Z),z="facet normal";break;case"facet normal":if("outer"!==Y[0]||"loop"!==Y[1])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "outer loop"'));z="vertex";break;case"vertex":if("vertex"===Y[0])ee=new b.default.Vector(parseFloat(Y[1]),parseFloat(Y[2]),parseFloat(Y[3])),N.vertices.push(ee),N.uvs.push([0,0]),te.push(N.vertices.indexOf(ee));else{if("endloop"!==Y[0])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "vertex" or "endloop"'));N.faces.push(te),te=[],z="endloop"}break;case"endloop":if("endfacet"!==Y[0])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "endfacet"'));z="endfacet";break;case"endfacet":if("endsolid"!==Y[0]){if("facet"!==Y[0]||"normal"!==Y[1])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "endsolid" or "facet normal"'));Z=new b.default.Vector(parseFloat(Y[2]),parseFloat(Y[3]),parseFloat(Y[4])),N.vertexNormals.push(Z,Z,Z),z="facet normal"}break;default:console.error('Invalid state "'.concat(z,'"'))}}}(k,T=new TextDecoder("utf-8").decode(T).split("\n"))}})(C,P),h&&C.normalize(),g&&C.flipU(),p&&C.flipV(),H._decrementPreload(),"function"==typeof u&&u(C)},d):y.match(/\.obj$/i)?this.loadStrings(a,(P=w(M.mark(function k(T){return M.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,function(){return B.apply(this,arguments)}(T);case 3:(function(Z,ee){for(var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},te={v:[],vt:[],vn:[]},W={},G=null,Y=new Set,le=!1,Me=!1,K=0;K<ee.length;++K){var O=ee[K].trim().split(/\b\s+/);if(0<O.length)if("usemtl"===O[0])G=O[1];else if("v"===O[0]||"vn"===O[0]){var oe=new b.default.Vector(parseFloat(O[1]),parseFloat(O[2]),parseFloat(O[3]));te[O[0]].push(oe)}else if("vt"===O[0])oe=[parseFloat(O[1]),1-parseFloat(O[2])],te[O[0]].push(oe);else if("f"===O[0])for(var me=3;me<O.length;++me){for(var Se=[],Ue=[1,me-1,me],Xe=0;Xe<Ue.length;++Xe){for(var lt,ze=O[Ue[Xe]],st=ze.split("/"),at=0;at<st.length;at++)st[at]=parseInt(st[at])-1;W[ze]||(W[ze]={}),void 0===W[ze][G]?(lt=Z.vertices.length,Z.vertices.push(te.v[st[0]].copy()),Z.uvs.push(te.vt[st[1]]?te.vt[st[1]].slice():[0,0]),Z.vertexNormals.push(te.vn[st[2]]?te.vn[st[2]].copy():new b.default.Vector),W[ze][G]=lt,Se.push(lt),G&&z[G]&&z[G].diffuseColor&&Y.add(te.v[st[0]])):Se.push(W[ze][G])}if(Se[0]!==Se[1]&&Se[0]!==Se[2]&&Se[1]!==Se[2])if(Z.faces.push(Se),G&&z[G]&&z[G].diffuseColor){le=le=!0;for(var Fe=z[G].diffuseColor,nt=0;nt<Se.length;nt++)Z.vertexColors.push(Fe[0]),Z.vertexColors.push(Fe[1]),Z.vertexColors.push(Fe[2])}else Me=!0}}if(0===Z.vertexNormals.length&&Z.computeNormals(),le===Me)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(C,T,j.sent),j.next=11;break;case 7:return j.prev=7,j.t0=j.catch(0),d?d(j.t0):b.default._friendlyError("Error during parsing: "+j.t0.message),j.abrupt("return");case 11:return j.prev=11,h&&C.normalize(),g&&C.flipU(),p&&C.flipV(),H._decrementPreload(),"function"==typeof u&&u(C),j.finish(11);case 18:case"end":return j.stop()}},k,null,[[0,7,11,18]])})),function(k){return P.apply(this,arguments)}),d):(b.default._friendlyFileLoadError(3,a),d?d():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),C},b.default.prototype.model=function(a){this._assert3d("model"),b.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(0===a.edges.length&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var i=b.default;$.default=i},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=w();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}o("./p5.Texture"),f.default.prototype.loadShader=function(i,a,l,u){function d(){g._decrementPreload(),l&&l(h)}f.default._validateParameters("loadShader",arguments),u=u||console.error;var h=new f.default.Shader,g=this,p=!1,y=!1;return this.loadStrings(i,function(C){h._vertSrc=C.join("\n"),y=!0,p&&d()},u),this.loadStrings(a,function(C){h._fragSrc=C.join("\n"),p=!0,y&&d()},u),h},f.default.prototype.createShader=function(i,a){return f.default._validateParameters("createShader",arguments),new f.default.Shader(this._renderer,i,a)},f.default.prototype.createFilterShader=function(i){f.default._validateParameters("createFilterShader",arguments);var a=i.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(a=new f.default.Shader(this._renderer,a,i)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),a},f.default.prototype.shader=function(i){return this._assert3d("shader"),f.default._validateParameters("shader",arguments),i.ensureCompiledOnContext(this),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},f.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},f.default.prototype.texture=function(i){return this._assert3d("texture"),f.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=m.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.textureMode=function(i){i!==m.IMAGE&&i!==m.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},f.default.prototype.textureWrap=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,l=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=a,!0),u=!1,d=void 0;try{for(var h,g=this._renderer.textures.values()[Symbol.iterator]();!(l=(h=g.next()).done);l=!0)h.value.setWrapMode(i,a)}catch(p){u=!0,d=p}finally{try{l||null==g.return||g.return()}finally{if(u)throw d}}},f.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return f.default._validateParameters("normalMaterial",a),this._renderer.drawMode=m.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},f.default.prototype.ambientMaterial=function(i,a,l){this._assert3d("ambientMaterial"),f.default._validateParameters("ambientMaterial",arguments);var u=f.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.emissiveMaterial=function(i,a,l,u){this._assert3d("emissiveMaterial"),f.default._validateParameters("emissiveMaterial",arguments);var d=f.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=d._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.specularMaterial=function(i,a,l,u){this._assert3d("specularMaterial"),f.default._validateParameters("specularMaterial",arguments);var d=f.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.shininess=function(i){return this._assert3d("shininess"),f.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},f.default.prototype.metalness=function(i){return this._assert3d("metalness"),i=1-Math.exp(-i/100),this._renderer._useMetalness=i,this},f.default.RendererGL.prototype._applyColorBlend=function(i,d){var l=this.GL;return(d=d||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===m.TEXTURE||this.curBlendMode!==m.BLEND||i[i.length-1]<1||this._isErasing)!==this._isBlending&&(d||this.curBlendMode!==m.BLEND&&this.curBlendMode!==m.ADD?l.enable(l.BLEND):l.disable(l.BLEND),l.depthMask(!0),this._isBlending=d),this._applyBlendMode(),i},f.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case m.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case m.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case m.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case m.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case m.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case m.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case m.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case m.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case m.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case m.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var _=f.default;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,ie,$){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,m){for(var w=0;w<m.length;w++){var _=m[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.prototype.camera=function(){var f;this._assert3d("camera");for(var m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return v.default._validateParameters("camera",w),(f=this._renderer._curCamera).camera.apply(f,w),this},v.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return v.default._validateParameters("perspective",w),(f=this._renderer._curCamera).perspective.apply(f,w),this},v.default.prototype.linePerspective=function(f){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===f)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=f},v.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return v.default._validateParameters("ortho",w),(f=this._renderer._curCamera).ortho.apply(f,w),this},v.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];return v.default._validateParameters("frustum",w),(f=this._renderer._curCamera).frustum.apply(f,w),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new v.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},v.default.Camera=function(){function f(i){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=i,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var m,w;return m=f,(w=[{key:"perspective",value:function(d,a,l,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===d?d=this.defaultCameraFOV:this._renderer._pInst._toRadians(d),void 0===a&&(a=this.defaultAspectRatio),void 0===l&&(l=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),l<=1e-4&&(l=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<l&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=a,this.cameraNear=l,this.cameraFar=u,this.projMatrix=v.default.Matrix.identity(),d=1/Math.tan(this.cameraFOV/2);var h=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(d/a,0,0,0,0,-d*this.yScale,0,0,0,0,(u+l)*h,-1,0,0,2*u*l*h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(R,B,l,u,d,h){var P=this.fbo||this._renderer,g=(void 0===R&&(R=-P.width/2),void 0===B&&(B=+P.width/2),void 0===l&&(l=-P.height/2),void 0===u&&(u=+P.height/2),void 0===d&&(d=0),void 0===h&&(h=Math.max(P.width,P.height)+800),this.cameraNear=d,P=B-R,u-l),p=(this.cameraFar=h)-d,y=2/P,C=2/g*this.yScale,H=-2/p;B=-(B+R)/P,R=-(u+l)/g,P=-(h+d)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-C,0,0,0,0,H,0,B,R,P,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(R,B,l,u,d,h){void 0===R&&(R=.05*-this._renderer.width),void 0===B&&(B=.05*+this._renderer.width),void 0===l&&(l=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===d&&(d=this.defaultCameraNear),void 0===h&&(h=this.defaultCameraFar),this.cameraNear=d;var P=B-R,g=u-l,p=(this.cameraFar=h)-d,y=2*d/P,C=2*d/g*this.yScale,H=-2*h*d/p;B=(B+R)/P,R=(u+l)/g,P=-(h+d)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-C,0,0,B,R,P,-1,0,0,H,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(y,a,l,u){var d=this.centerX,h=this.centerY,g=this.centerZ,p=(d-=this.eyeX,h-=this.eyeY,g-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(y),a,l,u),y=[d*p.mat4[0]+h*p.mat4[4]+g*p.mat4[8],d*p.mat4[1]+h*p.mat4[5]+g*p.mat4[9],d*p.mat4[2]+h*p.mat4[6]+g*p.mat4[10]])[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(l){var a=this._getLocalAxes();l=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(l),a.z[0],a.z[1],a.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"pan",value:function(i){var a=this._getLocalAxes();this._rotateView(i,a.y[0],a.y[1],a.y[2])}},{key:"tilt",value:function(i){var a=this._getLocalAxes();this._rotateView(i,a.x[0],a.x[1],a.x[2])}},{key:"lookAt",value:function(i,a,l){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,a,l,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(i,a,l,u,d,h,g,p,y){return void 0===i&&(l=this.defaultEyeZ,u=i=this.defaultEyeX,d=a=this.defaultEyeY,p=1,y=g=h=0),this.eyeX=i,this.eyeY=a,this.eyeZ=l,void 0!==u&&(this.centerX=u,this.centerY=d,this.centerZ=h),void 0!==g&&(this.upX=g,this.upY=p,this.upZ=y),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([d=-i,-a,-l]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,d,l){var h=this._getLocalAxes();this.camera(this.eyeX+(u=[h.x[0]*u,h.x[1]*u,h.x[2]*u])[0]+(d=[h.y[0]*d,h.y[1]*d,h.y[2]*d])[0]+(h=[h.z[0]*l,h.z[1]*l,h.z[2]*l])[0],this.eyeY+u[1]+d[1]+h[1],this.eyeZ+u[2]+d[2]+h[2],this.centerX+u[0]+d[0]+h[0],this.centerY+u[1]+d[1]+h[1],this.centerZ+u[2]+d[2]+h[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(i,a,l){this.camera(i,a,l,this.centerX+(i-this.eyeX),this.centerY+(a-this.eyeY),this.centerZ+(l-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(i){for(var a=0,l=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];a<l.length;a++){var u=l[a];this[u]=i[u]}this.cameraMatrix=i.cameraMatrix.copy(),this.projMatrix=i.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(i,a,l){var u,d,h,g,p,y,C,H,B,R,P,k,T,N,j,Z,ee,z;0===l?this.set(i):1===l?this.set(a):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=i.projMatrix.mat4[0]*Math.pow(a.projMatrix.mat4[0]/i.projMatrix.mat4[0],l),this.projMatrix.mat4[5]=i.projMatrix.mat4[5]*Math.pow(a.projMatrix.mat4[5]/i.projMatrix.mat4[5],l),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),g=new v.default.Vector(i.eyeX,i.eyeY,i.eyeZ),p=new v.default.Vector(a.eyeX,a.eyeY,a.eyeZ),Z=new v.default.Vector(i.centerX,i.centerY,i.centerZ),z=new v.default.Vector(a.centerX,a.centerY,a.centerZ),h=v.default.Vector.dist(g,Z),u=v.default.Vector.dist(p,z),u=h*Math.pow(u/h,l),h=v.default.Vector.sub(g,p),d=1,1e-6<(ee=(N=g.copy().sub(p).sub(Z).add(z)).magSq())&&(d=v.default.Vector.dot(h,N)/ee,d=Math.max(0,Math.min(d,1))),h=v.default.Vector.lerp(v.default.Vector.lerp(g,Z,d),v.default.Vector.lerp(p,z,d),l),N=i.cameraMatrix.createSubMatrix3x3(),ee=a.cameraMatrix.createSubMatrix3x3(),g=N.row(2),Z=ee.row(2),p=N.row(1),z=ee.row(1),i=new v.default.Vector,a=new v.default.Vector,y=new v.default.Vector,C=new v.default.Vector,1-(H=.5*((N=(ee=ee.mult3x3(N.copy().transpose3x3())).diagonal())[0]+N[1]+N[2]-1))<1e-7?(i.set(v.default.Vector.lerp(g,Z,l)).normalize(),y.set(i).mult(d*u).add(h),C.set(i).mult((d-1)*u).add(h),a.set(v.default.Vector.lerp(p,z,l)).normalize()):(Z=1/(1-H),z=Math.max(N[0],N[1],N[2]),k=ee.mat3[1]+ee.mat3[3],T=ee.mat3[2]+ee.mat3[6],j=ee.mat3[5]+ee.mat3[7],z=z===N[0]?(R=.5*k*(Z/=B=Math.sqrt((N[0]-H)*Z)),P=.5*T*Z,.5*(ee.mat3[7]-ee.mat3[5])/B):z===N[1]?(P=.5*j*(Z/=R=Math.sqrt((N[1]-H)*Z)),B=.5*k*Z,.5*(ee.mat3[2]-ee.mat3[6])/R):(B=.5*T*(Z/=P=Math.sqrt((N[2]-H)*Z)),R=.5*j*Z,.5*(ee.mat3[3]-ee.mat3[1])/P),k=l*Math.atan2(z,H),T=Math.cos(k),N=Math.sin(k),(z=new v.default.Matrix("mat3",[T+(j=1-T)*B*B,j*(Z=B*R)+N*P,j*(ee=P*B)-N*R,j*Z-N*P,T+j*R*R,j*(l=R*P)+N*B,j*ee+N*R,j*l-N*B,T+j*P*P])).multiplyVec3(g,i),y.set(i).mult(d*u).add(h),C.set(i).mult((d-1)*u).add(h),z.multiplyVec3(p,a)),this.camera(y.x,y.y,y.z,C.x,C.y,C.z,a.x,a.y,a.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var i=new v.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.upX=this.upX,i.upY=this.upY,i.upZ=this.upZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i.yScale=this.yScale,i}},{key:"_getLocalAxes",value:function(){var C,i=this.eyeX-this.centerX,a=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,g=(0!==(g=Math.sqrt(i*i+a*a+l*l))&&(i/=g,a/=g,l/=g),this.upX),u=(p=this.upY)*l-(y=this.upZ)*a,d=-g*l+y*i,h=g*a-p*i,p=(g=a*h-l*d,-i*h+l*u),y=i*d-a*u;return 0!==(0!==(C=Math.sqrt(u*u+d*d+h*h))&&(u/=C,d/=C,h/=C),C=Math.sqrt(g*g+p*p+y*y))&&(g/=C,p/=C,y/=C),{x:[u,d,h],y:[g,p,y],z:[i,a,l]}}},{key:"_orbit",value:function(i,C,y){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,u=Math.hypot(d,h,g),p=(d=new v.default.Vector(d,h,g).normalize(),h=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),g=v.default.Vector.cross(h,d).normalize(),v.default.Vector.cross(g,h));(u=(u*=Math.pow(10,y))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(d,h))))+C,C=i,(y<=0||y>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(y)),p.mult(Math.cos(C)*Math.sin(y)),g.mult(Math.sin(C)*Math.sin(y)),d.set(h).add(p).add(g),this.eyeX=u*d.x+this.centerX,this.eyeY=u*d.y+this.centerY,this.eyeZ=u*d.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(y,C,B){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,u=Math.hypot(d,h,g),p=(d=new v.default.Vector(d,h,g).normalize(),h=new v.default.Vector(this.upX,this.upY,this.upZ),g=v.default.Vector.cross(h,d).normalize(),v.default.Vector.cross(d,g)),R=Math.atan2(C,y),H=(p.mult(Math.sin(R)),g.mult(Math.cos(R)).add(p),R=Math.sqrt(y*y+C*C),p=v.default.Vector.cross(d,g),(u=(u*=Math.pow(10,B))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.cos(R),C=Math.sin(R),(B=h.dot(d))*y+(R=h.dot(g))*C);B=-B*C+R*y,R=h.dot(p),h.x=H*d.x+B*g.x+R*p.x,h.y=H*d.y+B*g.y+R*p.y,h.z=H*d.z+B*g.z+R*p.z,g.mult(-C),d.mult(y).add(g).mult(u),this.camera(d.x+this.centerX,d.y+this.centerY,d.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(m.prototype,w),f}(),v.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix),this._renderer.uViewMatrix.set(f.cameraMatrix)},$.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,ie,$){"use strict";function v(b,f){for(var m=0;m<f.length;m++){var w=f[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function b(){var _=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(_),this.initialLength=_}var f,m;return f=b,(m=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var _;this.length<this.data.length/2&&(_=1<<Math.ceil(Math.log2(this.length)),(_=new Float32Array(_)).set(this.data.subarray(0,this.length),0),this.data=_)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var _=arguments.length,i=new Array(_),a=0;a<_;a++)i[a]=arguments[a];this.ensureLength(this.length+i.length),this.data.set(i,this.length),this.length+=i.length}},{key:"slice",value:function(_,i){return this.data.slice(_,Math.min(i,this.length))}},{key:"subArray",value:function(_,i){return this.data.subarray(_,Math.min(i,this.length))}},{key:"ensureLength",value:function(_){for(;this.data.length<_;){var i=new Float32Array(2*this.data.length);i.set(this.data,0),this.data=i}}}])&&v(f.prototype,m),b}(),$.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(P,ie,$){"use strict";function v(k){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function b(k){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(T){return v(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":v(T)})(k)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint8-clamped-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint8-clamped-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(R=P("../core/main"))&&R.__esModule?R:{default:R},m=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==b(k)&&"function"!=typeof k)return{default:k};var T=i();if(T&&T.has(k))return T.get(k);var N,j={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in k){var ee;Object.prototype.hasOwnProperty.call(k,N)&&((ee=Z?Object.getOwnPropertyDescriptor(k,N):null)&&(ee.get||ee.set)?Object.defineProperty(j,N,ee):j[N]=k[N])}return j.default=k,T&&T.set(k,j),j}(P("../core/constants")),w=P("./p5.Texture"),_=P("./p5.RendererGL");function i(){var k;return"function"!=typeof WeakMap?null:(i=function(){return k},k=new WeakMap)}function a(k,T){return function(N){if(Array.isArray(N))return N}(k)||function(N,j){if(Symbol.iterator in Object(N)||"[object Arguments]"===Object.prototype.toString.call(N)){var Z=[],ee=!0,z=!1,te=void 0;try{for(var W,G=N[Symbol.iterator]();!(ee=(W=G.next()).done)&&(Z.push(W.value),!j||Z.length!==j);ee=!0);}catch(Y){z=!0,te=Y}finally{try{ee||null==G.return||G.return()}finally{if(z)throw te}}return Z}}(k,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(k,T,N){return T in k?Object.defineProperty(k,T,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[T]=N,k}function u(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function d(k,T){for(var N=0;N<T.length;N++){var j=T[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}function h(k,T,N){T&&d(k.prototype,T),N&&d(k,N)}function g(k,T,N){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,Z,ee){if(z=function(te,W){for(;!Object.prototype.hasOwnProperty.call(te,W)&&null!==(te=C(te)););return te}(z,Z))return(z=Object.getOwnPropertyDescriptor(z,Z)).get?z.get.call(ee):z.value})(k,T,N||k)}function p(k,T){return(p=Object.setPrototypeOf||function(N,j){return N.__proto__=j,N})(k,T)}function C(k){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(k)}var H=function(k){var T=j;if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),k&&p(T,k);var N=function y(k){return function(){var T,N=C(k);if(T=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(T=C(this).constructor,Reflect.construct(N,arguments,T)):N.apply(this,arguments),N=this,!T||"object"!==b(T)&&"function"!=typeof T){if(void 0!==N)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return T}}(j);function j(Z){var ee;return u(this,j),(ee=N.call(this,Z.target._renderer)).fbo=Z,ee.yScale=-1,ee}return h(j,[{key:"_computeCameraDefaultSettings",value:function(){g(C(j.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),j}(f.default.Camera),B=(f.default.FramebufferCamera=H,function(){function k(T,N){u(this,k),this.framebuffer=T,this.property=N}return h(k,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),k}()),R=(f.default.FramebufferTexture=B,function(){function k(T){var N=this,j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Z=(u(this,k),this.target=T,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=j.format||m.UNSIGNED_BYTE,this.channels=j.channels||(T._renderer._pInst._glAttributes.alpha?m.RGBA:m.RGB),this.useDepth=void 0===j.depth||j.depth,this.depthFormat=j.depthFormat||m.FLOAT,this.textureFiltering=j.textureFiltering||m.LINEAR,this.antialiasSamples=void 0===j.antialias?T._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof j.antialias?j.antialias:j.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&T.webglVersion!==m.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=j.density||T.pixelDensity(),T._renderer.GL);if(this.gl=Z,j.width&&j.height?(ee=T._renderer._adjustDimensions(j.width,j.height),this.width=ee.adjustedWidth,this.height=ee.adjustedHeight,this._autoSized=!1):(void 0===j.width!=(void 0===j.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=T.width,this.height=T.height,this._autoSized=!0),this._checkIfFormatsAvailable(),j.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===j.stencil||j.stencil),this.framebuffer=Z.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=Z.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var ee=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=ee,this.draw(function(){return N.target.clear()})}return h(k,[{key:"resize",value:function(T,N){this._autoSized=!1;var j=this.target._renderer._adjustDimensions(T,N);N=j.adjustedHeight,this.width=T=j.adjustedWidth,this.height=N,this._handleResize()}},{key:"pixelDensity",value:function(T){if(!T)return this.density;this._autoSized=!1,this.density=T,this._handleResize()}},{key:"autoSized",value:function(T){if(void 0===T)return this._autoSized;this._autoSized=T,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var T=this.gl;(this.useDepth&&this.target.webglVersion===m.WEBGL&&!T.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===m.WEBGL&&this.depthFormat===m.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=m.UNSIGNED_INT),[m.UNSIGNED_BYTE,m.FLOAT,m.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.useDepth&&![m.UNSIGNED_INT,m.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=m.FLOAT),T=(0,w.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==m.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.useDepth&&!T.float&&this.depthFormat===m.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=m.UNSIGNED_INT),T.halfFloat||this.format!==m.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.channels===m.RGB&&[m.FLOAT,m.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=m.RGBA)}},{key:"_recreateTextures",value:function(){var T=this.gl,N=(this._updateSize(),T.getParameter(T.TEXTURE_BINDING_2D)),j=T.getParameter(T.FRAMEBUFFER_BINDING);if(!(Z=T.createTexture()))throw new Error("Unable to create color texture");T.bindTexture(T.TEXTURE_2D,Z);var ee=this._glColorFormat();if(T.texImage2D(T.TEXTURE_2D,0,ee.internalFormat,this.width*this.density,this.height*this.density,0,ee.format,ee.type,null),this.colorTexture=Z,T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,Z,0),this.useDepth){var Z;if(!(Z=T.createTexture()))throw new Error("Unable to create depth texture");var z=this._glDepthFormat();T.bindTexture(T.TEXTURE_2D,Z),T.texImage2D(T.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),T.framebufferTexture2D(T.FRAMEBUFFER,this.useStencil?T.DEPTH_STENCIL_ATTACHMENT:T.DEPTH_ATTACHMENT,T.TEXTURE_2D,Z,0),this.depthTexture=Z}this.antialias&&(this.colorRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.colorRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),ee.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.depthRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),T.bindFramebuffer(T.FRAMEBUFFER,this.aaFramebuffer),T.framebufferRenderbuffer(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&T.framebufferRenderbuffer(T.FRAMEBUFFER,this.useStencil?T.DEPTH_STENCIL_ATTACHMENT:T.DEPTH_ATTACHMENT,T.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new B(this,"depthTexture"),this.depthP5Texture=new f.default.Texture(this.target._renderer,this.depth,{minFilter:Z=T.NEAREST,magFilter:Z}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new B(this,"colorTexture"),this.colorP5Texture=new f.default.Texture(this.target._renderer,this.color,{minFilter:ee=this.textureFiltering===m.LINEAR?T.LINEAR:T.NEAREST,magFilter:ee}),this.target._renderer.textures.set(this.color,this.colorP5Texture),T.bindTexture(T.TEXTURE_2D,N),T.bindFramebuffer(T.FRAMEBUFFER,j)}},{key:"_glColorFormat",value:function(){var T,N,j=this.gl,Z=this.format===m.FLOAT?j.FLOAT:this.format===m.HALF_FLOAT?this.target.webglVersion===m.WEBGL2?j.HALF_FLOAT:j.getExtension("OES_texture_half_float").HALF_FLOAT_OES:j.UNSIGNED_BYTE,ee=this.channels===m.RGBA?j.RGBA:j.RGB;return{internalFormat:this.target.webglVersion===m.WEBGL2?(l(N={},j.FLOAT,l({},j.RGBA,j.RGBA32F)),l(N,j.HALF_FLOAT,l({},j.RGBA,j.RGBA16F)),l(N,j.UNSIGNED_BYTE,(l(T={},j.RGBA,j.RGBA8),l(T,j.RGB,j.RGB8),T)),N[Z][ee]):this.format===m.HALF_FLOAT?j.RGBA:ee,format:ee,type:Z}}},{key:"_glDepthFormat",value:function(){var j=this.gl,T=this.useStencil?this.depthFormat===m.FLOAT?j.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===m.WEBGL2?j.UNSIGNED_INT_24_8:j.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===m.FLOAT?j.FLOAT:j.UNSIGNED_INT,N=this.useStencil?j.DEPTH_STENCIL:j.DEPTH_COMPONENT;return{internalFormat:j=this.useStencil?this.depthFormat===m.FLOAT?j.DEPTH32F_STENCIL8:this.target.webglVersion===m.WEBGL2?j.DEPTH24_STENCIL8:j.DEPTH_STENCIL:this.target.webglVersion===m.WEBGL2?this.depthFormat===m.FLOAT?j.DEPTH_COMPONENT32F:j.DEPTH_COMPONENT24:j.DEPTH_COMPONENT,format:N,type:T}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var T=this.depth,N=this.colorRenderbuffer,j=this.depthRenderbuffer,Z=(this._deleteTexture(Z=this.color),T&&this._deleteTexture(T),this.gl);N&&Z.deleteRenderbuffer(N),j&&Z.deleteRenderbuffer(j),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var T=new H(this);return T._computeCameraDefaultSettings(),T._setDefaultCamera(),this.target._renderer._curCamera=T}},{key:"_deleteTexture",value:function(T){this.gl.deleteTexture(T.rawTexture()),this.target._renderer.textures.delete(T)}},{key:"remove",value:function(){var T=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),T.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&T.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&T.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&T.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var T=this.gl,N=(T.bindFramebuffer(T.READ_FRAMEBUFFER,this.aaFramebuffer),T.bindFramebuffer(T.DRAW_FRAMEBUFFER,this.framebuffer),[[T.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&N.push([T.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var j=0,Z=N;j<Z.length;j++){var z=a(Z[j],2);T.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z[0],z=z[1])}}}},{key:"end",value:function(){var T=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(T.bindFramebuffer(T.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(T){this.begin(),T(),this.end()}},{key:"loadPixels",value:function(){var T=this.gl,N=this.target._renderer.activeFramebuffer(),j=(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,_.readPixelsWebGL)(this.pixels,T,this.framebuffer,0,0,this.width*this.density,this.height*this.density,j.format,j.type),T.bindFramebuffer(T.FRAMEBUFFER,N?N._framebufferToBind():null)}},{key:"get",value:function(T,N,j,Z){f.default._validateParameters("p5.Framebuffer.get",arguments);var ee=this._glColorFormat();if(void 0===T&&void 0===N)N=T=0,j=this.width,Z=this.height;else if(void 0===j&&void 0===Z)return(T<0||N<0||T>=this.width||N>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),T=this.target.constrain(T,0,this.width-1),N=this.target.constrain(N,0,this.height-1)),(0,_.readPixelWebGL)(this.gl,this.framebuffer,T*this.density,N*this.density,ee.format,ee.type);T=this.target.constrain(T,0,this.width-1),N=this.target.constrain(N,0,this.height-1),j=this.target.constrain(j,1,this.width-T),Z=this.target.constrain(Z,1,this.height-N);for(var z=(0,_.readPixelsWebGL)(void 0,this.gl,this.framebuffer,T*this.density,N*this.density,j*this.density,Z*this.density,ee.format,ee.type),te=new Uint8ClampedArray(j*Z*this.density*this.density*4),W=(te.fill(255),ee.type===this.gl.RGB?3:4),G=0;G<Z*this.density;G++)for(var Y=0;Y<j*this.density;Y++)for(var le=0;le<4;le++){var K=4*(G*j*this.density+Y)+le;le<W&&(te[K]=z[4==W?K:(G*j*this.density+Y)*W+le])}return(T=new f.default.Image(j*this.density,Z*this.density)).imageData=T.canvas.getContext("2d").createImageData(T.width,T.height),T.imageData.data.set(te),T.pixels=T.imageData.data,T.updatePixels(),1!==this.density&&T.resize(j,Z),T}},{key:"updatePixels",value:function(){var T=this.gl,N=(this.colorP5Texture.bindTexture(),this._glColorFormat()),j=this.width*this.height*this.density*this.density*(j=N.format===T.RGBA?4:3),Z=N.type===T.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof Z)||this.pixels.length!==j)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");T.texImage2D(T.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,this.pixels),this.colorP5Texture.unbindTexture(),Z=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),this.end()):(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),T.bindFramebuffer(T.FRAMEBUFFER,Z?Z._framebufferToBind():null))}}]),k}());P=f.default.Framebuffer=R,$.default=P},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,ie,$){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function b(u){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(l=o("../core/main"))&&l.__esModule?l:{default:l},m=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==b(u)&&"function"!=typeof u)return{default:u};var d=w();if(d&&d.has(u))return d.get(u);var h,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var y;Object.prototype.hasOwnProperty.call(u,h)&&((y=p?Object.getOwnPropertyDescriptor(u,h):null)&&(y.get||y.set)?Object.defineProperty(g,h,y):g[h]=u[h])}return g.default=u,d&&d.set(u,g),g}(o("../core/constants"));function w(){var u;return"function"!=typeof WeakMap?null:(w=function(){return u},u=new WeakMap)}function _(u){return function(d){if(Array.isArray(d)){for(var h=0,g=new Array(d.length);h<d.length;h++)g[h]=d[h];return g}}(u)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(u,d){return function(h){if(Array.isArray(h))return h}(u)||function(h,g){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h)){var p=[],y=!0,C=!1,H=void 0;try{for(var B,R=h[Symbol.iterator]();!(y=(B=R.next()).done)&&(p.push(B.value),!g||p.length!==g);y=!0);}catch(P){C=!0,H=P}finally{try{y||null==R.return||R.return()}finally{if(C)throw H}}return p}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(u,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}f.default.Geometry=function(){function u(p,y,C){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new f.default.DataArray,this.lineTangentsIn=new f.default.DataArray,this.lineTangentsOut=new f.default.DataArray,this.lineSides=new f.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new f.default.DataArray,this.detailX=void 0!==p?p:1,this.detailY=void 0!==y?y:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,C instanceof Function&&C.call(this)}var d,h;return d=u,(h=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var p=new f.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),y=new f.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),C=0;C<this.vertices.length;C++){var H=this.vertices[C];p.x=Math.min(p.x,H.x),p.y=Math.min(p.y,H.y),p.z=Math.min(p.z,H.z),y.x=Math.max(y.x,H.x),y.y=Math.max(y.y,H.y),y.z=Math.max(y.z,H.z)}var B=new f.default.Vector(y.x-p.x,y.y-p.y,y.z-p.z),R=new f.default.Vector((p.x+y.x)/2,(p.y+y.y)/2,(p.z+y.z)/2);this.boundingBoxCache={min:p,max:y,size:B,offset:R}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var p=0;p<this.vertexColors.length;p+=4)if(this.vertexColors[p+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var p=0;p<this.lineVertexColors.length;p+=4)if(this.lineVertexColors[p+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var p=this,y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",C="";if(this.vertices.forEach(function(R){C+="v ".concat(R.x," ").concat(R.y," ").concat(R.z,"\n")}),this.uvs&&0<this.uvs.length)for(var H=0;H<this.uvs.length;H+=2)C+="vt ".concat(this.uvs[H]," ").concat(this.uvs[H+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(R){C+="vn ".concat(R.x," ").concat(R.y," ").concat(R.z,"\n")}),this.faces.forEach(function(R){var P="f";R.forEach(function(k){P=P+" "+(k+1),(0<p.vertexNormals.length||0<p.uvs.length)&&(P+="/",0<p.uvs.length&&(P+=k+1),P+="/",0<p.vertexNormals.length&&(P+=k+1))}),C+=P+"\n"});var B=new Blob([C],{type:"text/plain"});f.default.prototype.downloadFile(B,y,"obj")}},{key:"saveStl",value:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",y=void 0!==(y=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&y,C=p.substring(0,p.lastIndexOf(".")),H=[],B=!0,R=!1,P=void 0;try{for(var k,T=this.faces[Symbol.iterator]();!(B=(k=T.next()).done);B=!0){var N=k.value,j=f.default.Vector.sub(this.vertices[N[1]],this.vertices[N[0]]),Z=f.default.Vector.sub(this.vertices[N[2]],this.vertices[N[0]]);H.push(new f.default.Vector(j.y*Z.z-j.z*Z.y,j.z*Z.x-j.x*Z.z,j.x*Z.y-j.y*Z.x).normalize())}}catch(kt){R=!0,P=kt}finally{try{B||null==T.return||T.return()}finally{if(R)throw P}}if(y){var W,G=80;R=2*this.faces.length+3*this.faces.length*4*4+80+4,P=new ArrayBuffer(R),(W=new DataView(P)).setUint32(G,this.faces.length,!0),G+=4;for(var Y=0,le=Object.entries(this.faces);Y<le.length;Y++){var O=(Me=i(le[Y],2))[0],Me=Me[1],K=(W.setFloat32(G,(O=H[O]).x,!0),W.setFloat32(G+=4,O.y,!0),W.setFloat32(G+=4,O.z,!0),G+=4,!0),oe=void(O=!1);try{for(var me,Se=Me[Symbol.iterator]();!(K=(me=Se.next()).done);K=!0){var Xe=this.vertices[me.value];W.setFloat32(G,Xe.x,!0),W.setFloat32(G+=4,Xe.y,!0),W.setFloat32(G+=4,Xe.z,!0),G+=4}}catch(Vt){O=!0,oe=Vt}finally{try{K||null==Se.return||Se.return()}finally{if(O)throw oe}}W.setUint16(G,0,!0),G+=2}}else{W="solid "+C+"\n";for(var lt=0,ze=Object.entries(this.faces);lt<ze.length;lt++){var Fe=(st=i(ze[lt],2))[0],st=st[1],at=(W=W+" facet norm "+(Fe=H[Fe]).x+" "+Fe.y+" "+Fe.z+"\n  outer loop\n",!0),nt=void(Fe=!1);try{for(var Ye,ot=st[Symbol.iterator]();!(at=(Ye=ot.next()).done);at=!0){var pt=this.vertices[Ye.value];W+="   vertex "+pt.x+" "+pt.y+" "+pt.z+"\n"}}catch(kt){Fe=!0,nt=kt}finally{try{at||null==ot.return||ot.return()}finally{if(Fe)throw nt}}W+="  endloop\n endfacet\n"}W+="endsolid "+C+"\n"}y=new Blob([W],{type:"text/plain"}),f.default.prototype.downloadFile(y,p,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(p,y){return y%2==0?1-p:p})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(p,y){return y%2==0?p:1-p})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var p,y,C,H=this.detailX+1,B=0;B<this.detailY;B++)for(var R=0;R<this.detailX;R++)y=(B+1)*H+R+1,this.faces.push([B*H+R,p=B*H+R+1,C=(B+1)*H+R]),this.faces.push([C,p,y]);return this}},{key:"_getFaceNormal",value:function(y){var C=this.vertices[(y=this.faces[y])[0]],B=this.vertices[y[1]],H=(y=this.vertices[y[2]],B=f.default.Vector.sub(B,C),y=f.default.Vector.sub(y,C),C=f.default.Vector.cross(B,y),f.default.Vector.mag(C));return 0==(B=H/(f.default.Vector.mag(B)*f.default.Vector.mag(y)))||isNaN(B)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),C):(1<B&&(B=1),C.mult(Math.asin(B)/H))}},{key:"computeNormals",value:function(){var p,y=this,H=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,B=this.vertexNormals,R=this.vertices,P=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:m.FLAT)===m.SMOOTH){for(var k={},T=[],N=Math.pow(10,void 0===H?3:H),j=function(W){return Math.round(W*N)/N},Z=function(W){return"".concat(j(W.x),",").concat(j(W.y),",").concat(j(W.z))},ee=0;ee<R.length;ee++){var z=R[ee],te=Z(z);void 0===k[te]&&(k[te]=T.length,T.push(z))}P.forEach(function(W){for(var G=0;G<3;++G){var Y=Z(Y=R[Y=W[G]]);W[G]=k[Y]}}),this.edges.forEach(function(W){for(var G=0;G<2;++G){var Y=Z(Y=R[Y=W[G]]);W[G]=k[Y]}}),this.vertices=R=T}for(p=B.length=0;p<R.length;++p)B.push(new f.default.Vector);for(P.forEach(function(W,G){for(var Y=y._getFaceNormal(G),le=0;le<3;++le)B[W[le]].add(Y)}),p=0;p<R.length;++p)B[p].normalize();return this}},{key:"averageNormals",value:function(){for(var p=0;p<=this.detailY;p++){var y=this.detailX+1,C=f.default.Vector.add(this.vertexNormals[p*y],this.vertexNormals[p*y+this.detailX]);C=f.default.Vector.div(C,2),this.vertexNormals[p*y]=C,this.vertexNormals[p*y+this.detailX]=C}return this}},{key:"averagePoleNormals",value:function(){for(var p=new f.default.Vector(0,0,0),y=0;y<this.detailX;y++)p.add(this.vertexNormals[y]);p=f.default.Vector.div(p,this.detailX);for(var C=0;C<this.detailX;C++)this.vertexNormals[C]=p;p=new f.default.Vector(0,0,0);for(var H=this.vertices.length-1;H>this.vertices.length-1-this.detailX;H--)p.add(this.vertexNormals[H]);p=f.default.Vector.div(p,this.detailX);for(var B=this.vertices.length-1;B>this.vertices.length-1-this.detailX;B--)this.vertexNormals[B]=p;return this}},{key:"_makeTriangleEdges",value:function(){for(var p=this.edges.length=0;p<this.faces.length;p++)this.edges.push([this.faces[p][0],this.faces[p][1]]),this.edges.push([this.faces[p][1],this.faces[p][2]]),this.edges.push([this.faces[p][2],this.faces[p][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var p,y=new Map,C=new Set,H=0;H<this.edges.length;H++){var B,R=this.edges[H-1],P=this.edges[H],k=this.vertices[P[0]],T=this.vertices[P[1]],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*P[0],4*(P[0]+1)):[0,0,0,0],j=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*P[1],4*(P[1]+1)):[0,0,0,0],Z=T.copy().sub(k).normalize(),ee=0<Z.magSq();ee&&this._addSegment(k,T,N,j,Z),0<H&&R[1]===P[0]?C.has(P[0])||(C.add(P[0]),y.delete(P[0]),p&&ee&&Z.dot(p)<1-1e-8&&this._addJoin(k,p,Z,N)):(ee&&!C.has(P[0])&&((B=y.get(P[0]))?(this._addJoin(k,B.dir,Z,N),y.delete(P[0]),C.add(P[0])):y.set(P[0],{point:k,dir:Z.copy().mult(-1),color:N})),p&&!C.has(R[1])&&((B=y.get(R[1]))?(this._addJoin(this.vertices[R[1]],p,B.dir.copy().mult(-1),N),y.delete(R[1]),C.add(R[1])):y.set(R[1],{point:this.vertices[R[1]],dir:p,color:N}),p=void 0)),H!==this.edges.length-1||C.has(P[1])||((k=y.get(P[1]))?(this._addJoin(T,Z,k.dir.copy().mult(-1),j),y.delete(P[1]),C.add(P[1])):y.set(P[1],{point:T,dir:Z,color:j})),ee&&(p=Z)}var z=!0,te=!1,W=void 0;try{for(var G,Y=y.values()[Symbol.iterator]();!(z=(G=Y.next()).done);z=!0){var le=G.value;this._addCap(le.point,le.dir,le.color)}}catch(oe){te=!0,W=oe}finally{try{z||null==Y.return||Y.return()}finally{if(te)throw W}}return this}},{key:"_addSegment",value:function(R,P,C,H,B){R=R.array(),P=P.array();var k=B.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var T=0,N=[this.lineTangentsIn,this.lineTangentsOut];T<N.length;T++)for(var j=N[T],Z=0;Z<6;Z++)j.push.apply(j,_(k));return(B=this.lineVertices).push.apply(B,_(R).concat(_(P),_(R),_(P),_(P),_(R))),(B=this.lineVertexColors).push.apply(B,_(C).concat(_(H),_(C),_(H),_(H),_(C))),this}},{key:"_addCap",value:function(p,y,C){for(var H,B=p.array(),R=y.array(),P=[0,0,0],k=0;k<6;k++)(H=this.lineVertices).push.apply(H,_(B)),(H=this.lineTangentsIn).push.apply(H,_(R)),(H=this.lineTangentsOut).push.apply(H,P),(H=this.lineVertexColors).push.apply(H,_(C));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(p,y,C,H){for(var B,R=p.array(),P=y.array(),k=C.array(),T=0;T<12;T++)(B=this.lineVertices).push.apply(B,_(R)),(B=this.lineTangentsIn).push.apply(B,_(P)),(B=this.lineTangentsOut).push.apply(B,_(k)),(B=this.lineVertexColors).push.apply(B,_(H));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var p=this.vertices[0].copy(),y=this.vertices[0].copy(),C=0;C<this.vertices.length;C++)p.x=Math.max(p.x,this.vertices[C].x),y.x=Math.min(y.x,this.vertices[C].x),p.y=Math.max(p.y,this.vertices[C].y),y.y=Math.min(y.y,this.vertices[C].y),p.z=Math.max(p.z,this.vertices[C].z),y.z=Math.min(y.z,this.vertices[C].z);for(var H=f.default.Vector.lerp(p,y,.5),B=f.default.Vector.sub(p,y),R=200/Math.max(Math.max(B.x,B.y),B.z),P=0;P<this.vertices.length;P++)this.vertices[P].sub(H),this.vertices[P].mult(R)}return this}}])&&a(d.prototype,h),u}();var l=f.default.Geometry;$.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(w,ie,$){"use strict";w("core-js/modules/es.array.iterator"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(w=w("../core/main"))&&w.__esModule?w:{default:w};function b(_,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(_,l.key,l)}}var f=Array,m=function(_){return Array.isArray(_)};typeof Float32Array<"u"&&(f=Float32Array,m=function(_){return Array.isArray(_)||_ instanceof Float32Array}),v.default.Matrix=function(){function _(){var u=this,d=_;if(u instanceof d)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof v.default&&(this.p5=(d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new f([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,a,l;return i=_,l=[{key:"identity",value:function(u){return new v.default.Matrix(u)}}],(a=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(u){var d=arguments;if(u instanceof v.default.Matrix?d=u.mat4:m(u)&&(d=u),16!==d.length)v.default._friendlyError("Expected 16 values but received ".concat(d.length,"."),"p5.Matrix.set");else for(var h=0;h<16;h++)this.mat4[h]=d[h];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var d,h,g,p,y,C;return u instanceof v.default.Matrix?(d=u.mat4[1],h=u.mat4[2],g=u.mat4[3],p=u.mat4[6],y=u.mat4[7],C=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=d,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=h,this.mat4[9]=p,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=g,this.mat4[13]=y,this.mat4[14]=C,this.mat4[15]=u.mat4[15]):m(u)&&(d=u[1],h=u[2],g=u[3],p=u[6],y=u[7],C=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=d,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=h,this.mat4[9]=p,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=g,this.mat4[13]=y,this.mat4[14]=C,this.mat4[15]=u[15]),this}},{key:"invert",value:function(z){z instanceof v.default.Matrix?(d=z.mat4[0],h=z.mat4[1],g=z.mat4[2],p=z.mat4[3],y=z.mat4[4],C=z.mat4[5],H=z.mat4[6],B=z.mat4[7],R=z.mat4[8],P=z.mat4[9],k=z.mat4[10],T=z.mat4[11],N=z.mat4[12],j=z.mat4[13],Z=z.mat4[14],ee=z.mat4[15]):m(z)&&(d=z[0],h=z[1],g=z[2],p=z[3],y=z[4],C=z[5],H=z[6],B=z[7],R=z[8],P=z[9],k=z[10],T=z[11],N=z[12],j=z[13],Z=z[14],ee=z[15]);var d,h,g,p,y,C,H,B,R,P,k,T,N,j,Z,ee,te=d*H-g*y,W=d*B-p*y,G=h*H-g*C,Y=h*B-p*C,le=g*B-p*H,Me=R*j-P*N,K=R*Z-k*N,O=R*ee-T*N,oe=P*Z-k*j,me=P*ee-T*j,Se=k*ee-T*Z,Ue=(z=d*C-h*y)*Se-te*me+W*oe+G*O-Y*K+le*Me;return Ue?(this.mat4[0]=(C*Se-H*me+B*oe)*(Ue=1/Ue),this.mat4[1]=(g*me-h*Se-p*oe)*Ue,this.mat4[2]=(j*le-Z*Y+ee*G)*Ue,this.mat4[3]=(k*Y-P*le-T*G)*Ue,this.mat4[4]=(H*O-y*Se-B*K)*Ue,this.mat4[5]=(d*Se-g*O+p*K)*Ue,this.mat4[6]=(Z*W-N*le-ee*te)*Ue,this.mat4[7]=(R*le-k*W+T*te)*Ue,this.mat4[8]=(y*me-C*O+B*Me)*Ue,this.mat4[9]=(h*O-d*me-p*Me)*Ue,this.mat4[10]=(N*Y-j*W+ee*z)*Ue,this.mat4[11]=(P*W-R*Y-T*z)*Ue,this.mat4[12]=(C*K-y*oe-H*Me)*Ue,this.mat4[13]=(d*oe-h*K+g*Me)*Ue,this.mat4[14]=(j*te-N*G-Z*z)*Ue,this.mat4[15]=(R*G-P*te+k*z)*Ue,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],d=this.mat3[1],h=this.mat3[2],g=this.mat3[3],p=this.mat3[4],y=this.mat3[5],C=this.mat3[6],H=this.mat3[7],B=this.mat3[8],R=B*p-y*H,P=-B*g+y*C,k=H*g-p*C,T=u*R+d*P+h*k;return T?(this.mat3[0]=R*(T=1/T),this.mat3[1]=(-B*d+h*H)*T,this.mat3[2]=(y*d-h*p)*T,this.mat3[3]=P*T,this.mat3[4]=(B*u-h*C)*T,this.mat3[5]=(-y*u+h*g)*T,this.mat3[6]=k*T,this.mat3[7]=(-H*u+d*C)*T,this.mat3[8]=(p*u-d*g)*T,this):null}},{key:"transpose3x3",value:function(u){var d=(u=void 0===u?this.mat3:u)[1],h=u[2],g=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=d,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=h,this.mat3[7]=g,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var d=0;d<9;d++)this.mat3[d]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(h){var d;if(h===this||h===this.mat4)d=this.copy().mat4;else if(h instanceof v.default.Matrix)d=h.mat4;else if(m(h))d=h;else{if(16!==arguments.length)return;d=arguments}var g=this.mat4[1],p=this.mat4[2],y=this.mat4[3];return this.mat4[0]=(h=this.mat4[0])*d[0]+g*d[4]+p*d[8]+y*d[12],this.mat4[1]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[2]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[3]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this.mat4[4]=(h=this.mat4[4])*d[0]+(g=this.mat4[5])*d[4]+(p=this.mat4[6])*d[8]+(y=this.mat4[7])*d[12],this.mat4[5]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[6]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[7]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this.mat4[8]=(h=this.mat4[8])*d[0]+(g=this.mat4[9])*d[4]+(p=this.mat4[10])*d[8]+(y=this.mat4[11])*d[12],this.mat4[9]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[10]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[11]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this.mat4[12]=(h=this.mat4[12])*d[0]+(g=this.mat4[13])*d[4]+(p=this.mat4[14])*d[8]+(y=this.mat4[15])*d[12],this.mat4[13]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[14]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[15]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this}},{key:"apply",value:function(h){var d;if(h===this||h===this.mat4)d=this.copy().mat4;else if(h instanceof v.default.Matrix)d=h.mat4;else if(m(h))d=h;else{if(16!==arguments.length)return;d=arguments}var p,y,C,g=((h=this.mat4)[0]=d[0]*(g=h[0])+d[1]*(p=h[4])+d[2]*(y=h[8])+d[3]*(C=h[12]),h[4]=d[4]*g+d[5]*p+d[6]*y+d[7]*C,h[8]=d[8]*g+d[9]*p+d[10]*y+d[11]*C,h[12]=d[12]*g+d[13]*p+d[14]*y+d[15]*C,h[1]);return h[1]=d[0]*g+d[1]*(p=h[5])+d[2]*(y=h[9])+d[3]*(C=h[13]),h[5]=d[4]*g+d[5]*p+d[6]*y+d[7]*C,h[9]=d[8]*g+d[9]*p+d[10]*y+d[11]*C,h[13]=d[12]*g+d[13]*p+d[14]*y+d[15]*C,h[2]=d[0]*(g=h[2])+d[1]*(p=h[6])+d[2]*(y=h[10])+d[3]*(C=h[14]),h[6]=d[4]*g+d[5]*p+d[6]*y+d[7]*C,h[10]=d[8]*g+d[9]*p+d[10]*y+d[11]*C,h[14]=d[12]*g+d[13]*p+d[14]*y+d[15]*C,h[3]=d[0]*(g=h[3])+d[1]*(p=h[7])+d[2]*(y=h[11])+d[3]*(C=h[15]),h[7]=d[4]*g+d[5]*p+d[6]*y+d[7]*C,h[11]=d[8]*g+d[9]*p+d[10]*y+d[11]*C,h[15]=d[12]*g+d[13]*p+d[14]*y+d[15]*C,this}},{key:"scale",value:function(u,d,h){return u instanceof v.default.Vector?(d=u.y,h=u.z,u=u.x):u instanceof Array&&(d=u[1],h=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=d,this.mat4[7]*=d,this.mat4[8]*=h,this.mat4[9]*=h,this.mat4[10]*=h,this.mat4[11]*=h,this}},{key:"rotate",value:function(z,me,oe,g){me instanceof v.default.Vector?(oe=me.y,g=me.z,me=me.x):me instanceof Array&&(oe=me[1],g=me[2],me=me[0]);var p=(me*=1/(p=Math.sqrt(me*me+oe*oe+g*g)),oe*=1/p,g*=1/p,this.mat4[0]),y=this.mat4[1],C=this.mat4[2],H=this.mat4[3],B=this.mat4[4],R=this.mat4[5],P=this.mat4[6],k=this.mat4[7],T=this.mat4[8],N=this.mat4[9],j=this.mat4[10],Z=this.mat4[11],ee=Math.sin(z),te=1-(z=Math.cos(z)),W=me*me*te+z,G=oe*me*te+g*ee,Y=g*me*te-oe*ee,le=me*oe*te-g*ee,Me=oe*oe*te+z,K=g*oe*te+me*ee,O=me*g*te+oe*ee;return oe=oe*g*te-me*ee,me=g*g*te+z,this.mat4[0]=p*W+B*G+T*Y,this.mat4[1]=y*W+R*G+N*Y,this.mat4[2]=C*W+P*G+j*Y,this.mat4[3]=H*W+k*G+Z*Y,this.mat4[4]=p*le+B*Me+T*K,this.mat4[5]=y*le+R*Me+N*K,this.mat4[6]=C*le+P*Me+j*K,this.mat4[7]=H*le+k*Me+Z*K,this.mat4[8]=p*O+B*oe+T*me,this.mat4[9]=y*O+R*oe+N*me,this.mat4[10]=C*O+P*oe+j*me,this.mat4[11]=H*O+k*oe+Z*me,this}},{key:"translate",value:function(g){var d=g[0],h=g[1];this.mat4[12]+=this.mat4[0]*d+this.mat4[4]*h+this.mat4[8]*(g=g[2]||0),this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*h+this.mat4[9]*g,this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*h+this.mat4[10]*g,this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*h+this.mat4[11]*g}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(p,d,h,g){p=1/Math.tan(p/2);var y=1/(h-g);return this.mat4[0]=p/d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(g+h)*y,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*g*h*y,this.mat4[15]=0,this}},{key:"ortho",value:function(u,d,h,g,p,y){var C=1/(u-d),H=1/(h-g),B=1/(p-y);return this.mat4[0]=-2*C,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*H,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*B,this.mat4[11]=0,this.mat4[12]=(u+d)*C,this.mat4[13]=(g+h)*H,this.mat4[14]=(y+p)*B,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,d,h,g){var p=new Array(4),y=this.mat4;return p[0]=y[0]*u+y[4]*d+y[8]*h+y[12]*g,p[1]=y[1]*u+y[5]*d+y[9]*h+y[13]*g,p[2]=y[2]*u+y[6]*d+y[10]*h+y[14]*g,p[3]=y[3]*u+y[7]*d+y[11]*h+y[15]*g,p}},{key:"multiplyPoint",value:function(h){var g=this.multiplyVec4(g=h.x,h.y,h=h.z,1);return new v.default.Vector(g[0],g[1],g[2])}},{key:"multiplyAndNormalizePoint",value:function(h){var g;return(g=this.multiplyVec4(g=h.x,h.y,h=h.z,1))[0]/=g[3],g[1]/=g[3],g[2]/=g[3],new v.default.Vector(g[0],g[1],g[2])}},{key:"multiplyDirection",value:function(h){var g=this.multiplyVec4(g=h.x,h.y,h=h.z,0);return new v.default.Vector(g[0],g[1],g[2])}},{key:"mult3x3",value:function(h){var d;if(h===this||h===this.mat3)d=this.copy().mat3;else if(h instanceof v.default.Matrix)d=h.mat3;else if(m(h))d=h;else{if(9!==arguments.length)return;d=arguments}var g=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(h=this.mat3[0])*d[0]+g*d[3]+p*d[6],this.mat3[1]=h*d[1]+g*d[4]+p*d[7],this.mat3[2]=h*d[2]+g*d[5]+p*d[8],this.mat3[3]=(h=this.mat3[3])*d[0]+(g=this.mat3[4])*d[3]+(p=this.mat3[5])*d[6],this.mat3[4]=h*d[1]+g*d[4]+p*d[7],this.mat3[5]=h*d[2]+g*d[5]+p*d[8],this.mat3[6]=(h=this.mat3[6])*d[0]+(g=this.mat3[7])*d[3]+(p=this.mat3[8])*d[6],this.mat3[7]=h*d[1]+g*d[4]+p*d[7],this.mat3[8]=h*d[2]+g*d[5]+p*d[8],this}},{key:"column",value:function(u){return new v.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new v.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,d){return(d=void 0===d?u.copy():d).x=this.row(0).dot(u),d.y=this.row(1).dot(u),d.z=this.row(2).dot(u),d}},{key:"createSubMatrix3x3",value:function(){var u=new v.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&b(i.prototype,a),l&&b(i,l),_}(),$.default=w=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,m){for(var w=0;w<m.length;w++){var _=m[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Quat=function(){function f(i,a,l,u){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.w=i,this.vec=new v.default.Vector(a,l,u)}var m,w,_;return m=f,_=[{key:"fromAxisAngle",value:function(i,h,l,u){var d=Math.cos(i/2);return h=new v.default.Vector(h,l,u).normalize().mult(Math.sin(i/2)),new v.default.Quat(d,h.x,h.y,h.z)}}],(w=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(i){return new v.default.Quat(this.w*i.w-this.vec.x*i.vec.x-this.vec.y*i.vec.y-this.vec.z-i.vec.z,this.w*i.vec.x+this.vec.x*i.w+this.vec.y*i.vec.z-this.vec.z*i.vec.y,this.w*i.vec.y-this.vec.x*i.vec.z+this.vec.y*i.w+this.vec.z*i.vec.x,this.w*i.vec.z+this.vec.x*i.vec.y-this.vec.y*i.vec.x+this.vec.z*i.w)}},{key:"rotateVector",value:function(i){return new v.default.Vector.mult(i,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*i.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(i)).clampToZero()}},{key:"rotateBy",value:function(i){return i.multiply(this).multiply(i.conjugate()).vec.clampToZero()}}])&&b(m.prototype,w),_&&b(m,_),f}(),$.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,ie,$){"use strict";function v(b,f){for(var m=0;m<f.length;m++){var w=f[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function b(_,i,a,l,u,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=_,this.src=i,this.dst=a,this.attr=l,this._renderer=u,this.map=d}var f,m;return f=b,(m=[{key:"_prepareBuffer",value:function(_,i){var a,l,u,g,d=this._renderer.GL,h=_.model||_;(g=(g=i.attributes)[this.attr])&&(a=_[this.dst],0<(l=h[this.src]).length?((u=!a)&&(_[this.dst]=a=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,a),!u&&!1===h.dirtyFlags[this.src]||(u=(_=this.map)?_(l):l,this._renderer._bindBuffer(a,d.ARRAY_BUFFER,u),h.dirtyFlags[this.src]=!1),i.enableAttrib(g,this.size)):-1!==(_=g.location)&&this._renderer.registerEnabled.has(_)&&(d.disableVertexAttribArray(_),this._renderer.registerEnabled.delete(_)))}}])&&v(f.prototype,m),b}(),$.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=w();if(u&&u.has(l))return u.get(l);var d,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=g?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=l[d])}return h.default=l,u&&u.set(l,h),h}(o("../core/constants"));function w(){var l;return"function"!=typeof WeakMap?null:(w=function(){return l},l=new WeakMap)}function _(l){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(l)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),f.default.RendererGL.prototype.beginShape=function(l){return this.immediateMode.shapeMode=void 0!==l?l:m.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(f.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==m.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},f.default.RendererGL.prototype.vertex=function(l,u){if(this.immediateMode.shapeMode===m.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var d in i){var h=i[d];(d=this.immediateMode.geometry[d]).push.apply(d,_(d.slice(d.length-3*h,d.length-2*h)).concat(_(d.slice(d.length-h,d.length))))}var g,p,y=g=p=0,C=(3===arguments.length?y=arguments[2]:4===arguments.length?(g=arguments[2],p=arguments[3]):5===arguments.length&&(y=arguments[2],g=arguments[3],p=arguments[4]),new f.default.Vector(l,u,y));return this.immediateMode.geometry.vertices.push(C),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((C=this.curFillColor||[.5,.5,.5,1])[0],C[1],C[2],C[3]),this.immediateMode.geometry.vertexStrokeColors.push((C=this.curStrokeColor||[.5,.5,.5,1])[0],C[1],C[2],C[3]),this.textureMode!==m.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(g/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(g,p),this.immediateMode._bezierVertex[0]=l,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=y,this.immediateMode._quadraticVertex[0]=l,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=y,this},f.default.RendererGL.prototype.normal=function(l,u,d){return this._currentNormal=l instanceof f.default.Vector?l:new f.default.Vector(l,u,d),this},f.default.RendererGL.prototype.endShape=function(l,u,d,h,g,p){var y,C=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===m.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),y=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==m.LINE_STRIP&&this.immediateMode.shapeMode!==m.LINES||(this.immediateMode.shapeMode=m.TRIANGLE_FAN,y=!0),this.immediateMode.shapeMode===m.QUADS?this.immediateMode.shapeMode=m.TRIANGLES:this.immediateMode.shapeMode===m.QUAD_STRIP&&(this.immediateMode.shapeMode=m.TRIANGLE_STRIP),this._doFill&&!y&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(C),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},f.default.RendererGL.prototype._processVertices=function(l){var u;0!==this.immediateMode.geometry.vertices.length&&(l=l===m.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,l),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===m.TESS,l=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||l)&&this.immediateMode.shapeMode!==m.LINES&&this._tesselateShape())},f.default.RendererGL.prototype._calculateEdges=function(l,u,d){var h=[],g=0,p=this.immediateMode.contourIndices.slice(),y=0;switch(l){case m.TRIANGLE_STRIP:for(g=0;g<u.length-2;g++)h.push([g,g+1]),h.push([g,g+2]);h.push([g,g+1]);break;case m.TRIANGLE_FAN:for(g=1;g<u.length-1;g++)h.push([0,g]),h.push([g,g+1]);h.push([0,u.length-1]);break;case m.TRIANGLES:for(g=0;g<u.length-2;g+=3)h.push([g,g+1]),h.push([g+1,g+2]),h.push([g+2,g]);break;case m.LINES:for(g=0;g<u.length-1;g+=2)h.push([g,g+1]);break;case m.QUADS:for(g=0;g<u.length-5;g+=6)h.push([g,g+1]),h.push([g+1,g+2]),h.push([g+3,g+5]),h.push([g+4,g+5]);break;case m.QUAD_STRIP:for(g=0;g<u.length-2;g+=2)h.push([g,g+1]),h.push([g,g+2]),h.push([g+1,g+3]);h.push([g,g+1]);break;default:for(g=0;g<u.length;g++)g+1<u.length&&g+1!==p[0]?h.push([g,g+1]):((d||y)&&h.push([g,y]),0<p.length&&(y=p.shift()))}return l!==m.TESS&&d&&h.push([u.length-1,0]),h},f.default.RendererGL.prototype._tesselateShape=function(){for(var l=this,u=(this.immediateMode.shapeMode=m.TRIANGLES,[[]]),d=0;d<this.immediateMode.geometry.vertices.length;d++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===d&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[d].x,this.immediateMode.geometry.vertices[d].y,this.immediateMode.geometry.vertices[d].z,this.immediateMode.geometry.uvs[2*d],this.immediateMode.geometry.uvs[2*d+1],this.immediateMode.geometry.vertexColors[4*d],this.immediateMode.geometry.vertexColors[4*d+1],this.immediateMode.geometry.vertexColors[4*d+2],this.immediateMode.geometry.vertexColors[4*d+3],this.immediateMode.geometry.vertexNormals[d].x,this.immediateMode.geometry.vertexNormals[d].y,this.immediateMode.geometry.vertexNormals[d].z);for(var h,g=this._triangulate(u),p=this.immediateMode.geometry.vertices,y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),C=0,H=g.length;C<H;C+=f.default.RendererGL.prototype.tessyVertexSize)y.push.apply(y,_(g.slice(C+5,C+9))),this.normal.apply(this,_(g.slice(C+9,C+12))),this.vertex.apply(this,_(g.slice(C,C+5)));this.geometryBuilder&&(h=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(B){return B.map(function(R){if(!h.has(R)){var P=p[R],k=l.immediateMode.geometry.vertices.findIndex(function(te){return P.x===te.x&&P.y===te.y&&P.z===te.z});if(-1===k){for(var T=1/0,N=0,j=0;j<l.immediateMode.geometry.vertices.length;j++){var ee,z,Z=P.y-(ee=l.immediateMode.geometry.vertices[j]).y;(z=(z=P.x-ee.x)*z+Z*Z+(ee=P.z-ee.z)*ee)<T&&(T=z,N=j)}k=N}h.set(R,k)}return h.get(R)})})),this.immediateMode.geometry.vertexColors=y},f.default.RendererGL.prototype._drawImmediateFill=function(){var l,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,d=this.GL,h=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,l=this._getImmediateFillShader(),this._setFillUniforms(l),!0),g=!1,p=void 0;try{for(var y,C=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(y=C.next()).done);h=!0)y.value._prepareBuffer(this.immediateMode.geometry,l)}catch(H){g=!0,p=H}finally{try{h||null==C.return||C.return()}finally{if(g)throw p}}if(l.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)d.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{d.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}l.unbindShader()},f.default.RendererGL.prototype._drawImmediateStroke=function(){var l=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),d=(this._setStrokeUniforms(u),!0),h=!1,g=void 0;try{for(var p,y=this.immediateMode.buffers.stroke[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)p.value._prepareBuffer(this.immediateMode.geometry,u)}catch(C){h=!0,g=C}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),l.drawArrays(l.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},f.default.RendererGL);$.default=a},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,ie,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},m=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=w();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants")));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}f.default.RendererGL.prototype.freeGeometry=function(i){i.gid?this._freeBuffers(i.gid):console.warn("The model you passed to freeGeometry does not have an id!")},f.default.RendererGL.prototype._initBufferDefaults=function(i){var a;return this._freeBuffers(i),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[i]={}},f.default.RendererGL.prototype._freeBuffers=function(i){var a,l=this.retainedMode.geometry[i];function u(d){var h=!0,g=!1,p=void 0;try{for(var y,C=d[Symbol.iterator]();!(h=(y=C.next()).done);h=!0){var H=y.value;l[H.dst]&&(a.deleteBuffer(l[H.dst]),l[H.dst]=null)}}catch(B){g=!0,p=B}finally{try{h||null==C.return||C.return()}finally{if(g)throw p}}}l&&(delete this.retainedMode.geometry[i],a=this.GL,l.indexBuffer&&a.deleteBuffer(l.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(g,a){var l,u,d,h=this.GL,p=((g=this._initBufferDefaults(g)).model=a,g.indexBuffer);return a.faces.length?(p=p||(g.indexBuffer=h.createBuffer()),d=(u=(l=f.default.RendererGL.prototype._flatten(a.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(p,h.ELEMENT_ARRAY_BUFFER,l,d),g.indexBufferType=u?h.UNSIGNED_INT:h.UNSIGNED_SHORT,g.vertexCount=3*a.faces.length):(p&&(h.deleteBuffer(p),g.indexBuffer=null),g.vertexCount=a.vertices?a.vertices.length:0),g.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,g},f.default.RendererGL.prototype.drawBuffers=function(i){var a=this.GL,l=this.retainedMode.geometry[i];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[i].vertexCount){this._useVertexColor=0<l.model.vertexColors.length;var u=this._getRetainedFillShader(),d=(this._setFillUniforms(u),!0),h=!1,g=void 0;try{for(var p,y=this.retainedMode.buffers.fill[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)p.value._prepareBuffer(l,u)}catch(P){h=!0,g=P}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}u.disableRemainingAttributes(),l.indexBuffer&&this._bindBuffer(l.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,l.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,i),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<l.lineVertexCount){this._useLineColor=0<l.model.vertexStrokeColors.length;var C=this._getRetainedStrokeShader(),H=(this._setStrokeUniforms(C),!0);h=!1,g=void 0;try{for(var B,R=this.retainedMode.buffers.stroke[Symbol.iterator]();!(H=(B=R.next()).done);H=!0)B.value._prepareBuffer(l,C)}catch(T){h=!0,g=T}finally{try{H||null==R.return||R.return()}finally{if(h)throw g}}C.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,l.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,i),C.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(l),this},f.default.RendererGL.prototype.drawBuffersScaled=function(i,a,l,u){var d=this.uModelMatrix.copy();try{this.uModelMatrix.scale(a,l,u),this.drawBuffers(i)}finally{this.uModelMatrix=d}},f.default.RendererGL.prototype._drawArrays=function(i,a){return this.GL.drawArrays(i,0,this.retainedMode.geometry[a].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(i,l){var u=this.GL;if((l=this.retainedMode.geometry[l]).indexBuffer){if(this._pInst.webglVersion!==m.WEBGL2&&l.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,l.vertexCount,l.indexBufferType,0)}else u.drawArrays(i||u.TRIANGLES,0,l.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(i,a){var l=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(a,l.ARRAY_BUFFER,this._vToNArray(i),Float32Array,l.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),l.drawArrays(l.Points,0,i.length),u.unbindShader()};var _=f.default.RendererGL;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(j,ie,$){"use strict";function v(G){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(G)}function b(G){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(Y){return v(Y)}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":v(Y)})(G)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.copy-within"),j("core-js/modules/es.array.every"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.flat"),j("core-js/modules/es.array.flat-map"),j("core-js/modules/es.array.from"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.map"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.array.some"),j("core-js/modules/es.array.unscopables.flat"),j("core-js/modules/es.array.unscopables.flat-map"),j("core-js/modules/es.map"),j("core-js/modules/es.object.assign"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.reflect.construct"),j("core-js/modules/es.reflect.get"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.set"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.float64-array"),j("core-js/modules/es.typed-array.int16-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint16-array"),j("core-js/modules/es.typed-array.uint32-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.copy-within"),j("core-js/modules/es.array.every"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.flat"),j("core-js/modules/es.array.flat-map"),j("core-js/modules/es.array.from"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.map"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.array.some"),j("core-js/modules/es.array.unscopables.flat"),j("core-js/modules/es.array.unscopables.flat-map"),j("core-js/modules/es.map"),j("core-js/modules/es.object.assign"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.set"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.float64-array"),j("core-js/modules/es.typed-array.int16-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint16-array"),j("core-js/modules/es.typed-array.uint32-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.readPixelsWebGL=te,$.readPixelWebGL=W,$.default=void 0;var f=l(j("../core/main")),m=function(G){if(G&&G.__esModule)return G;if(null===G||"object"!==b(G)&&"function"!=typeof G)return{default:G};var Y=a();if(Y&&Y.has(G))return Y.get(G);var le,Me={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(le in G){var O;Object.prototype.hasOwnProperty.call(G,le)&&((O=K?Object.getOwnPropertyDescriptor(G,le):null)&&(O.get||O.set)?Object.defineProperty(Me,le,O):Me[le]=G[le])}return Me.default=G,Y&&Y.set(G,Me),Me}(j("../core/constants")),w=l(j("./GeometryBuilder")),_=l(j("libtess")),i=(j("./p5.Shader"),j("./p5.Camera"),j("../core/p5.Renderer"),j("./p5.Matrix"),j("./p5.Framebuffer"),j("path"),j("./p5.Texture"));function a(){var G;return"function"!=typeof WeakMap?null:(a=function(){return G},G=new WeakMap)}function l(G){return G&&G.__esModule?G:{default:G}}function u(G){return function(Y){if(Array.isArray(Y)){for(var le=0,Me=new Array(Y.length);le<Y.length;le++)Me[le]=Y[le];return Me}}(G)||function(Y){if(Symbol.iterator in Object(Y)||"[object Arguments]"===Object.prototype.toString.call(Y))return Array.from(Y)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(G,Y){for(var le=0;le<Y.length;le++){var Me=Y[le];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(G,Me.key,Me)}}function h(G,Y,le){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(oe,K,O){if(oe=function(me,Se){for(;!Object.prototype.hasOwnProperty.call(me,Se)&&null!==(me=C(me)););return me}(oe,K))return(oe=Object.getOwnPropertyDescriptor(oe,K)).get?oe.get.call(O):oe.value})(G,Y,le||G)}function g(G,Y){return(g=Object.setPrototypeOf||function(le,Me){return le.__proto__=Me,le})(G,Y)}function y(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function C(G){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(G)}function H(G,Y,le){Y in G?Object.defineProperty(G,Y,{value:le,enumerable:!0,configurable:!0,writable:!0}):G[Y]=le}function B(G,Y){N+="#define STROKE_CAP_".concat(G," ").concat(Y,"\n"),k[m[G]]=Y}function R(G,Y){N+="#define STROKE_JOIN_".concat(G," ").concat(Y,"\n"),T[m[G]]=Y}var P,k={},T={},N="",Z={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(B("ROUND",0),B("PROJECT",1),B("SQUARE",2),R("ROUND",0),R("MITER",1),R("BEVEL",2),(j='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:j+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:N+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:N+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},ee=Z.sphereMappingFrag;for(P in Z)Z[P]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+Z[P];H(j={},m.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),H(j,m.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),H(j,m.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),H(j,m.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),H(j,m.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),H(j,m.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),H(j,m.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),H(j,m.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var z=j;function te(G,Y,lt,Me,K,O,oe,me,Se,Ue){var Xe=Y.getParameter(Y.FRAMEBUFFER_BINDING),ze=O*oe*(Y.bindFramebuffer(Y.FRAMEBUFFER,lt),lt=me===Y.RGBA?4:3),st=Se===Y.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof st&&G.length===ze||(G=new st(ze)),Y.readPixels(Me,Ue?Ue-K-oe:K,O,oe,me,Se,G),Y.bindFramebuffer(Y.FRAMEBUFFER,Xe),Ue)for(var at=Math.floor(oe/2),Fe=new st(O*lt),nt=0;nt<at;nt++){var Ye=nt*O*4,ot=(oe-nt-1)*O*4;Fe.set(G.subarray(Ye,Ye+4*O)),G.copyWithin(Ye,ot,ot+4*O),G.set(Fe,ot)}return G}function W(G,Se,le,Me,K,O,oe){var me=G.getParameter(G.FRAMEBUFFER_BINDING);return G.bindFramebuffer(G.FRAMEBUFFER,Se),Se=K===G.RGBA?4:3,Se=new(O===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(Se),G.readPixels(le,oe?oe-Me-1:Me,1,1,K,O,Se),G.bindFramebuffer(G.FRAMEBUFFER,me),Array.from(Se)}f.default.prototype.setAttributes=function(G,Y){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var le=!0;if(void 0!==Y?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[G]!==Y&&(this._glAttributes[G]=Y,le=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,le=!1),this._renderer.isP3D&&!le){if(!this._setupDone)for(var Me in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Me))return void f.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},f.default.RendererGL=function(G){var Y=K;if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),G&&g(Y,G);var Me=function p(G){return function(){var Y,le,Me=C(G);return Y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Y=C(this).constructor,Reflect.construct(Me,arguments,Y)):Me.apply(this,arguments),Me=this,!(le=Y)||"object"!==b(le)&&"function"!=typeof le?y(Me):le}}(K);function K(O,oe,me,Se){if(this instanceof K)return(O=Me.call(this,O,oe,me))._setAttributeDefaults(oe),O._initContext(),O.isP3D=!0,O.geometryBuilder=void 0,O.GL=O.drawingContext,O._pInst._setProperty("drawingContext",O.drawingContext),O._isErasing=!1,O._clipDepths=[],O._isClipApplied=!1,O._stencilTestOn=!1,O._enableLighting=!1,O.ambientLightColors=[],O.mixedAmbientLight=[],O.mixedSpecularColor=[],O.specularColors=[1,1,1],O.directionalLightDirections=[],O.directionalLightDiffuseColors=[],O.directionalLightSpecularColors=[],O.pointLightPositions=[],O.pointLightDiffuseColors=[],O.pointLightSpecularColors=[],O.spotLightPositions=[],O.spotLightDirections=[],O.spotLightDiffuseColors=[],O.spotLightSpecularColors=[],O.spotLightAngle=[],O.spotLightConc=[],O.activeImageLight=null,O.diffusedTextures=new Map,O.specularTextures=new Map,O.drawMode=m.FILL,O.curFillColor=O._cachedFillStyle=[1,1,1,1],O.curAmbientColor=O._cachedFillStyle=[1,1,1,1],O.curSpecularColor=O._cachedFillStyle=[0,0,0,0],O.curEmissiveColor=O._cachedFillStyle=[0,0,0,0],O.curStrokeColor=O._cachedStrokeStyle=[0,0,0,1],O.curBlendMode=m.BLEND,O.preEraseBlend=void 0,O._cachedBlendMode=void 0,O.blendExt=O.webglVersion===m.WEBGL2?O.GL:O.GL.getExtension("EXT_blend_minmax"),O._isBlending=!1,O._hasSetAmbient=!1,O._useSpecularMaterial=!1,O._useEmissiveMaterial=!1,O._useNormalMaterial=!1,O._useShininess=1,O._useMetalness=0,O._useLineColor=!1,O._useVertexColor=!1,O.registerEnabled=new Set,O._tint=[255,255,255,255],O.constantAttenuation=1,O.linearAttenuation=0,O.quadraticAttenuation=0,O.uModelMatrix=new f.default.Matrix,O.uViewMatrix=new f.default.Matrix,O.uMVMatrix=new f.default.Matrix,O.uPMatrix=new f.default.Matrix,O.uNMatrix=new f.default.Matrix("mat3"),O.curMatrix=new f.default.Matrix("mat3"),O._currentNormal=new f.default.Vector(0,0,1),O._curCamera=new f.default.Camera(y(O)),O._curCamera._computeCameraDefaultSettings(),O._curCamera._setDefaultCamera(),O.filterCamera=new f.default.Camera(y(O)),O.filterCamera._computeCameraDefaultSettings(),O.filterCamera._setDefaultCamera(),O.prevTouches=[],O.zoomVelocity=0,O.rotateVelocity=new f.default.Vector(0,0),O.moveVelocity=new f.default.Vector(0,0),O.executeZoom=!1,O.executeRotateAndMove=!1,O.specularShader=void 0,O.sphereMapping=void 0,O.diffusedShader=void 0,O._defaultLightShader=void 0,O._defaultImmediateModeShader=void 0,O._defaultNormalShader=void 0,O._defaultColorShader=void 0,O._defaultPointShader=void 0,O.userFillShader=void 0,O.userStrokeShader=void 0,O.userPointShader=void 0,O.retainedMode={geometry:{},buffers:{stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(O)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(O)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(O)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(O)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(O))],fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(O),O._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(O),O._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(O)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(O)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(O),O._flatten)],text:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(O),O._vToNArray),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(O),O._flatten)]}},O.immediateMode={geometry:new f.default.Geometry,shapeMode:m.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(O),O._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(O),O._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(O)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(O)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(O),O._flatten)],stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(O)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(O)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(O)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(O)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(O))],point:O.GL.createBuffer()}},O.pointSize=5,O.curStrokeWeight=1,O.curStrokeCap=m.ROUND,O.curStrokeJoin=m.ROUND,O.textures=new Map,O.framebuffers=new Set,O.activeFramebuffers=[],O.filterShader=void 0,O.filterLayer=void 0,O.filterLayerTemp=void 0,O.defaultFilterShaders={},O.textureMode=m.IMAGE,O.textureWrapX=m.CLAMP,O.textureWrapY=m.CLAMP,O._tex=null,O._curveTightness=6,O._lookUpTableBezier=[],O._lookUpTableQuadratic=[],O._lutBezierDetail=0,O._lutQuadraticDetail=0,O.isProcessingVertices=!1,O._tessy=O._initTessy(),O.fontInfos={},O._curShader=void 0,O;throw new TypeError("Cannot call a class as a function")}return Y=K,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new w.default(this)}},{key:"endGeometry",value:function(){var O;if(this.geometryBuilder)return O=this.geometryBuilder.finish(),this.geometryBuilder=void 0,O;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(O){return this.beginGeometry(),O(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(O){var oe={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};O._glAttributes=null===O._glAttributes?oe:Object.assign(oe,O._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?m.WEBGL2:m.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var O=this.drawingContext;O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL),O.viewport(0,0,O.drawingBufferWidth,O.drawingBufferHeight),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var O=this.drawingContext;return O.getParameter(O.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(O,oe){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Se=this._maxTextureSize,me=(Se=Math.floor(Se/this.pixelDensity()),Math.min(O,Se));return Se=Math.min(oe,Se),me===O&&Se===oe||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(me,", height: ").concat(Se,".")),{adjustedWidth:me,adjustedHeight:Se}}},{key:"_resetContext",value:function(O,oe){var me,Se=this.width,Ue=this.height,lt=this.canvas.id,Xe=this._pInst instanceof f.default.Graphics;Xe?((me=this._pInst).canvas.parentNode.removeChild(me.canvas),me.canvas=document.createElement("canvas"),(me._pInst._userNode||document.body).appendChild(me.canvas),f.default.Element.call(me,me.canvas,me._pInst),me.width=Se,me.height=Ue):((me=this.canvas)&&me.parentNode.removeChild(me),(me=document.createElement("canvas")).id=lt,(this._pInst._userNode||document.body).appendChild(me),this._pInst.canvas=me,this.canvas=me),lt=new f.default.RendererGL(this._pInst.canvas,this._pInst,!Xe),this._pInst._setProperty("_renderer",lt),lt.resize(Se,Ue),lt._applyDefaults(),Xe||this._pInst._elements.push(lt),"function"==typeof oe&&setTimeout(function(){oe.apply(window._renderer,O)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Se=(Se=this._pInst).color.apply(Se,arguments);this.clear(Se.levels[0]/255,Se.levels[1]/255,Se.levels[2]/255,Se=Se.levels[3]/255)}},{key:"fill",value:function(O,oe,me,Se){var Ue=f.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Ue._array,this.drawMode=m.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(O,oe,me,Se){var Ue=f.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Ue._array}},{key:"strokeCap",value:function(O){this.curStrokeCap=O}},{key:"strokeJoin",value:function(O){this.curStrokeJoin=O}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(O,oe){O.width===oe.width&&O.height===oe.height||O.resize(oe.width,oe.height),O.pixelDensity()!==oe.pixelDensity()&&O.pixelDensity(oe.pixelDensity())}},{key:"filter",value:function(){var O,oe,me=this,Se=this.getFilterLayer(),Ue=void 0,Xe=void 0,lt=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Xe=arguments.length<=0?void 0:arguments[0],H(O={},m.BLUR,3),H(O,m.POSTERIZE,4),H(O,m.THRESHOLD,.5),Ue=Xe in O&&void 0===(arguments.length<=1?void 0:arguments[1])?O[Xe]:arguments.length<=1?void 0:arguments[1],Xe in this.defaultFilterShaders||(this.defaultFilterShaders[Xe]=new f.default.Shader(Se._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",z[Xe])),this.filterShader=this.defaultFilterShaders[Xe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ze=(this.matchSize(Se,lt),Se.draw(function(){return me._pInst.clear()}),[1/(lt.width*lt.pixelDensity()),1/(lt.height*lt.pixelDensity())]);Xe===m.BLUR?(oe=this.getFilterLayerTemp(),this.matchSize(oe,lt),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(m.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ze),this.filterShader.setUniform("canvasSize",[lt.width,lt.height]),this.filterShader.setUniform("radius",Math.max(1,Ue)),oe.draw(function(){me.filterShader.setUniform("direction",[1,0]),me.filterShader.setUniform("tex0",lt),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(lt.width,lt.height)}),Se.draw(function(){me.filterShader.setUniform("direction",[0,1]),me.filterShader.setUniform("tex0",oe),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(lt.width,lt.height)}),this._pInst.pop()):Se.draw(function(){me._pInst.noStroke(),me._pInst.blendMode(m.BLEND),me._pInst.shader(me.filterShader),me.filterShader.setUniform("tex0",lt),me.filterShader.setUniform("texelSize",ze),me.filterShader.setUniform("canvasSize",[lt.width,lt.height]),me.filterShader.setUniform("filterParameter",Ue),me._pInst.noLights(),me._pInst.plane(lt.width,lt.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(m.CORNER),this._pInst.blendMode(m.BLEND),lt.filterCamera._resize(),this._pInst.setCamera(lt.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Se,-lt.width/2,-lt.height/2,lt.width,lt.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(O){return O?this._pInst.pixelDensity(O):this._pInst.pixelDensity()}},{key:"blendMode",value:function(O){O===m.DARKEST||O===m.LIGHTEST||O===m.ADD||O===m.BLEND||O===m.SUBTRACT||O===m.SCREEN||O===m.EXCLUSION||O===m.REPLACE||O===m.MULTIPLY||O===m.REMOVE?this.curBlendMode=O:O!==m.BURN&&O!==m.OVERLAY&&O!==m.HARD_LIGHT&&O!==m.SOFT_LIGHT&&O!==m.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(O,oe){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(m.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,O/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,oe/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(h(C(K.prototype),"beginClip",this).call(this,O),this.drawTarget()._isClipApplied=!0,O=this.GL).clearStencil(0),O.clear(O.STENCIL_BUFFER_BIT),O.enable(O.STENCIL_TEST),this._stencilTestOn=!0,O.stencilFunc(O.ALWAYS,1,255),O.stencilOp(O.KEEP,O.KEEP,O.REPLACE),O.disable(O.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var O=this.GL;O.stencilOp(O.KEEP,O.KEEP,O.KEEP),O.stencilFunc(this._clipInvert?O.EQUAL:O.NOTEQUAL,0,255),O.enable(O.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),h(C(K.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(O){this.curStrokeWeight!==O&&(this.pointSize=O,this.curStrokeWeight=O)}},{key:"_getPixel",value:function(O,oe){var me=this.GL;return W(me,null,O,oe,me.RGBA,me.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var O,oe,me=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):me._setProperty("pixels",te(me.pixels,oe=this.GL,null,0,0,this.width*(O=this._pInst._pixelDensity),this.height*O,oe.RGBA,oe.UNSIGNED_BYTE,this.height*O))}},{key:"updatePixels",value:function(){var O=this._getTempFramebuffer();O.pixels=this._pixelsState.pixels,O.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(m.CENTER),this._pInst.image(O,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:m.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:m.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(O){return void 0!==this.retainedMode.geometry[O]}},{key:"viewport",value:function(O,oe){this._viewport=[0,0,O,oe],this.GL.viewport(0,0,O,oe)}},{key:"resize",value:function(Ue,Se){f.default.Renderer.prototype.resize.call(this,Ue,Se),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var me=(void 0!==(Ue=this._pixelsState).pixels&&Ue._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Se=!1,Ue=void 0;try{for(var Xe,lt=this.framebuffers[Symbol.iterator]();!(me=(Xe=lt.next()).done);me=!0)Xe.value._canvasSizeChanged()}catch(ze){Se=!0,Ue=ze}finally{try{me||null==lt.return||lt.return()}finally{if(Se)throw Ue}}}},{key:"clear",value:function(){var O=(arguments.length<=0?void 0:arguments[0])||0,oe=(arguments.length<=1?void 0:arguments[1])||0,me=(arguments.length<=2?void 0:arguments[2])||0,Se=(arguments.length<=3?void 0:arguments[3])||0,Ue=this.activeFramebuffer();Ue&&Ue.format===m.UNSIGNED_BYTE&&!Ue.antialias&&0===Se&&(Se=1e-10),this.GL.clearColor(O*Se,oe*Se,me*Se,Se),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(O,oe,me,Se,Ue,Xe){16===arguments.length?f.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([O,oe,0,0,me,Se,0,0,0,0,1,0,Ue,Xe,0,1])}},{key:"translate",value:function(O,oe,me){return O instanceof f.default.Vector&&(me=O.z,oe=O.y,O=O.x),this.uModelMatrix.translate([O,oe,me]),this}},{key:"scale",value:function(O,oe,me){return this.uModelMatrix.scale(O,oe,me),this}},{key:"rotate",value:function(O,oe){return void 0===oe?this.rotateZ(O):(f.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(O){return this.rotate(O,1,0,0),this}},{key:"rotateY",value:function(O){return this.rotate(O,0,1,0),this}},{key:"rotateZ",value:function(O){return this.rotate(O,0,0,1),this}},{key:"push",value:function(){var O=f.default.Renderer.prototype.push.apply(this),oe=O.properties;return oe.uModelMatrix=this.uModelMatrix.copy(),oe.uViewMatrix=this.uViewMatrix.copy(),oe.uPMatrix=this.uPMatrix.copy(),oe._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),oe.ambientLightColors=this.ambientLightColors.slice(),oe.specularColors=this.specularColors.slice(),oe.directionalLightDirections=this.directionalLightDirections.slice(),oe.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),oe.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),oe.pointLightPositions=this.pointLightPositions.slice(),oe.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),oe.pointLightSpecularColors=this.pointLightSpecularColors.slice(),oe.spotLightPositions=this.spotLightPositions.slice(),oe.spotLightDirections=this.spotLightDirections.slice(),oe.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),oe.spotLightSpecularColors=this.spotLightSpecularColors.slice(),oe.spotLightAngle=this.spotLightAngle.slice(),oe.spotLightConc=this.spotLightConc.slice(),oe.userFillShader=this.userFillShader,oe.userStrokeShader=this.userStrokeShader,oe.userPointShader=this.userPointShader,oe.pointSize=this.pointSize,oe.curStrokeWeight=this.curStrokeWeight,oe.curStrokeColor=this.curStrokeColor,oe.curFillColor=this.curFillColor,oe.curAmbientColor=this.curAmbientColor,oe.curSpecularColor=this.curSpecularColor,oe.curEmissiveColor=this.curEmissiveColor,oe._hasSetAmbient=this._hasSetAmbient,oe._useSpecularMaterial=this._useSpecularMaterial,oe._useEmissiveMaterial=this._useEmissiveMaterial,oe._useShininess=this._useShininess,oe._useMetalness=this._useMetalness,oe.constantAttenuation=this.constantAttenuation,oe.linearAttenuation=this.linearAttenuation,oe.quadraticAttenuation=this.quadraticAttenuation,oe._enableLighting=this._enableLighting,oe._useNormalMaterial=this._useNormalMaterial,oe._tex=this._tex,oe.drawMode=this.drawMode,oe._currentNormal=this._currentNormal,oe.curBlendMode=this.curBlendMode,oe.activeImageLight=this.activeImageLight,O}},{key:"pop",value:function(){var O;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var oe=arguments.length,me=new Array(oe),Se=0;Se<oe;Se++)me[Se]=arguments[Se];(O=h(C(K.prototype),"pop",this)).call.apply(O,[this].concat(me)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var O=this.drawTarget();O._isClipApplied!==this._stencilTestOn&&(O._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var O=this.userStrokeShader;return O&&O.isStrokeShader()?O:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(O){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(ee)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",O),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var O=this.userFillShader;if(this._useNormalMaterial&&(!O||!O.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!O||!O.isLightShader())return this._getLightShader()}else if(this._tex){if(!O||!O.isTextureShader())return this._getLightShader()}else if(!O)return this._getImmediateModeShader();return O}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var O=this.userFillShader;if(this._enableLighting){if(!O||!O.isLightShader())return this._getLightShader()}else if(this._tex){if(!O||!O.isTextureShader())return this._getLightShader()}else if(!O)return this._getColorShader();return O}},{key:"_getImmediatePointShader",value:function(){var O=this.userPointShader;return O&&O.isPointShader()?O:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Z.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Z.phongFrag):new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Z.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Z.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===m.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(O,oe){var me="";return this.webglVersion===m.WEBGL2&&(me+="#version 300 es\n#define WEBGL2\n"),"vert"===O?me+="#define VERTEX_SHADER\n":"frag"===O&&(me+="#define FRAGMENT_SHADER\n"),oe&&(me+="precision ".concat(oe," float;\n")),me}},{key:"_getEmptyTexture",value:function(){var O;return this._emptyTexture||((O=new f.default.Image(1,1)).set(0,0,255),this._emptyTexture=new f.default.Texture(this,O)),this._emptyTexture}},{key:"getTexture",value:function(O){O instanceof f.default.Framebuffer&&(O=O.color);var oe=this.textures.get(O);return oe||(oe=new f.default.Texture(this,O),this.textures.set(O,oe),oe)}},{key:"getDiffusedTexture",value:function(O){var oe,me,Se=this;return null!=this.diffusedTextures.get(O)?this.diffusedTextures.get(O):(oe=Math.floor(O.height/O.width*200),me=this._pInst.createFramebuffer({width:200,height:oe,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Z.imageLightVert,Z.imageLightDiffusedFrag)),me.draw(function(){Se._pInst.shader(Se.diffusedShader),Se.diffusedShader.setUniform("environmentMap",O),Se._pInst.noStroke(),Se._pInst.rectMode(m.CENTER),Se._pInst.noLights(),Se._pInst.rect(0,0,200,oe)}),this.diffusedTextures.set(O,me),me)}},{key:"getSpecularTexture",value:function(O){var oe=this;if(null!=this.specularTextures.get(O))return this.specularTextures.get(O);for(var me,Se=[],Ue=this._pInst.createFramebuffer({width:512,height:512,density:1}),Xe=Math.log(512)/Math.log(2),lt=(this.specularShader||(this.specularShader=this._pInst.createShader(Z.imageLightVert,Z.imageLightSpecularFrag)),512);1<=lt;lt/=2)!function(ze){Ue.resize(ze,ze);var st=1-Math.log(ze)/Math.log(2)/Xe;Ue.draw(function(){oe._pInst.shader(oe.specularShader),oe._pInst.clear(),oe.specularShader.setUniform("environmentMap",O),oe.specularShader.setUniform("roughness",st),oe._pInst.noStroke(),oe._pInst.noLights(),oe._pInst.plane(ze,ze)}),Se.push(Ue.get().drawingContext.getImageData(0,0,ze,ze))}(lt);return Ue.remove(),me=new i.MipmapTexture(this,Se,{}),this.specularTextures.set(O,me),me}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(O){return new f.default.Framebuffer(this,O)}},{key:"_setStrokeUniforms",value:function(O){O.bindShader(),O.setUniform("uUseLineColor",this._useLineColor),O.setUniform("uMaterialColor",this.curStrokeColor),O.setUniform("uStrokeWeight",this.curStrokeWeight),O.setUniform("uStrokeCap",k[this.curStrokeCap]),O.setUniform("uStrokeJoin",T[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(O){var oe=this,me=(O.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Se,Ue){return oe.curFillColor[Ue]*oe._useMetalness+Se*(1-oe._useMetalness)})),O.setUniform("uUseVertexColor",this._useVertexColor),O.setUniform("uMaterialColor",this.curFillColor),O.setUniform("isTexture",!!this._tex),this._tex&&O.setUniform("uSampler",this._tex),O.setUniform("uTint",this._tint),O.setUniform("uHasSetAmbient",this._hasSetAmbient),O.setUniform("uAmbientMatColor",this.curAmbientColor),O.setUniform("uSpecularMatColor",this.mixedSpecularColor),O.setUniform("uEmissiveMatColor",this.curEmissiveColor),O.setUniform("uSpecular",this._useSpecularMaterial),O.setUniform("uEmissive",this._useEmissiveMaterial),O.setUniform("uShininess",this._useShininess),O.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(O),O.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);O.setUniform("uPointLightCount",me),O.setUniform("uPointLightLocation",this.pointLightPositions),O.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),O.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),O.setUniform("uDirectionalLightCount",me=this.directionalLightDiffuseColors.length/3),O.setUniform("uLightingDirection",this.directionalLightDirections),O.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),O.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),me=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Se){return Math.max(0,Se-=oe._useMetalness)})),O.setUniform("uAmbientLightCount",me),O.setUniform("uAmbientColor",this.mixedAmbientLight),O.setUniform("uSpotLightCount",me=this.spotLightDiffuseColors.length/3),O.setUniform("uSpotLightAngle",this.spotLightAngle),O.setUniform("uSpotLightConc",this.spotLightConc),O.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),O.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),O.setUniform("uSpotLightLocation",this.spotLightPositions),O.setUniform("uSpotLightDirection",this.spotLightDirections),O.setUniform("uConstantAttenuation",this.constantAttenuation),O.setUniform("uLinearAttenuation",this.linearAttenuation),O.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),O.bindTextures()}},{key:"_setImageLightUniforms",value:function(O){var oe;O.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(oe=this.getDiffusedTexture(this.activeImageLight),O.setUniform("environmentMapDiffused",oe),oe=this.getSpecularTexture(this.activeImageLight),O.setUniform("levelOfDetail",20/this._useShininess*8),O.setUniform("environmentMapSpecular",oe))}},{key:"_setPointUniforms",value:function(O){O.bindShader(),O.setUniform("uMaterialColor",this.curStrokeColor),O.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(O,oe,me,Se,Ue){this.GL.bindBuffer(oe=oe||this.GL.ARRAY_BUFFER,O),void 0!==me&&((O=me)instanceof f.default.DataArray?O=me.dataArray():O instanceof(Se||Float32Array)||(O=new(Se||Float32Array)(O)),this.GL.bufferData(oe,O,Ue||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(O,oe){return O.length===oe.length&&O.every(function(me,Se){return me===oe[Se]})}},{key:"_isTypedArray",value:function(O){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(oe){return O instanceof oe})}},{key:"_flatten",value:function(O){return O.flat()}},{key:"_vToNArray",value:function(O){return O.flatMap(function(oe){return[oe.x,oe.y,oe.z]})}},{key:"_bezierCoefficients",value:function(O){var oe=O*O,me=1-O,Se=me*me;return[Se*me,3*Se*O,3*me*oe,oe*O]}},{key:"_quadraticCoefficients",value:function(O){var oe=1-O;return[oe*oe,2*oe*O,O*O]}},{key:"_bezierToCatmull",value:function(O){return[O[1],O[1]+(O[2]-O[0])/this._curveTightness,O[2]-(O[3]-O[1])/this._curveTightness,O[2]]}},{key:"_initTessy",value:function(){var O=new _.default.GluTesselator;return O.gluTessCallback(_.default.gluEnum.GLU_TESS_VERTEX_DATA,function(oe,me){var Se=!0,Ue=!1,Xe=void 0;try{for(var lt,ze=oe[Symbol.iterator]();!(Se=(lt=ze.next()).done);Se=!0)me.push(lt.value)}catch(at){Ue=!0,Xe=at}finally{try{Se||null==ze.return||ze.return()}finally{if(Ue)throw Xe}}}),O.gluTessCallback(_.default.gluEnum.GLU_TESS_BEGIN,function(oe){oe!==_.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(oe))}),O.gluTessCallback(_.default.gluEnum.GLU_TESS_ERROR,function(oe){console.log("error callback"),console.log("error number: ".concat(oe))}),O.gluTessCallback(_.default.gluEnum.GLU_TESS_COMBINE,function(oe,me,Se){for(var Ue=new Array(f.default.RendererGL.prototype.tessyVertexSize).fill(0),Xe=0;Xe<Se.length;Xe++)for(var lt=0;lt<Ue.length;lt++)0!==Se[Xe]&&me[Xe]&&(Ue[lt]+=me[Xe][lt]*Se[Xe]);return Ue}),O.gluTessCallback(_.default.gluEnum.GLU_TESS_EDGE_FLAG,function(oe){}),O.gluTessProperty(_.default.gluEnum.GLU_TESS_WINDING_RULE,_.default.windingRule.GLU_TESS_WINDING_NONZERO),O}},{key:"_triangulate",value:function(O){var oe=O[0]?O[0][2]:void 0,me=!0,Se=!0,st=!1,Fe=void 0;try{for(var Ue,Xe=O[Symbol.iterator]();!(Se=(Ue=Xe.next()).done);Se=!0)for(var lt=Ue.value,ze=0;ze<lt.length;ze+=f.default.RendererGL.prototype.tessyVertexSize)if(lt[ze+2]!==oe){me=!1;break}}catch(ar){st=!0,Fe=ar}finally{try{Se||null==Xe.return||Xe.return()}finally{if(st)throw Fe}}this._tessy.gluTessNormal(0,0,me?1:0);var at=(this._tessy.gluTessBeginPolygon(st=[]),!0),nt=void(Fe=!1);try{for(var Ye,ot=O[Symbol.iterator]();!(at=(Ye=ot.next()).done);at=!0){var Ze=Ye.value;this._tessy.gluTessBeginContour();for(var pt=0;pt<Ze.length;pt+=f.default.RendererGL.prototype.tessyVertexSize){var kt=Ze.slice(pt,pt+f.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(kt,kt)}this._tessy.gluTessEndContour()}}catch(ar){Fe=!0,nt=ar}finally{try{at||null==ot.return||ot.return()}finally{if(Fe)throw nt}}return this._tessy.gluTessEndPolygon(),st}}])&&d(Y.prototype,G),K}(f.default.Renderer),f.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},f.default.RendererGL.prototype.tessyVertexSize=12,$.default=j=f.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,m){for(var w=0;w<m.length;w++){var _=m[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Shader=function(){function f(i,a,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=a,this._fragSrc=l,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var m,w;return m=f,(w=[{key:"init",value:function(){if(0===this._glProgram){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(i){var a=new v.default.Shader(i._renderer,this._vertSrc,this._fragSrc);return a.ensureCompiledOnContext(i),a}},{key:"ensureCompiledOnContext",value:function(i){if(0!==this._glProgram&&this._renderer!==i._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=i._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,a=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),l=0;l<a;++l){var u=i.getActiveAttrib(this._glProgram,l),d=u.name,h=i.getAttribLocation(this._glProgram,d),g={};g.name=d,g.location=h,g.index=l,g.type=u.type,g.size=u.size,this.attributes[d]=g}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,a=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),l=0,u=0;u<a;++u){var d=i.getActiveUniform(this._glProgram,u),h={},g=(h.location=i.getUniformLocation(this._glProgram,d.name),h.size=d.size,d.name);1<d.size&&(g=g.substring(0,g.indexOf("[0]"))),h.name=g,h.type=d.type,h._cachedData=void 0,h.type===i.SAMPLER_2D&&(h.samplerIndex=l,l++,this.samplers.push(h)),h.isArray=1<d.size||h.type===i.FLOAT_MAT3||h.type===i.FLOAT_MAT4||h.type===i.FLOAT_VEC2||h.type===i.FLOAT_VEC3||h.type===i.FLOAT_VEC4||h.type===i.INT_VEC2||h.type===i.INT_VEC4||h.type===i.INT_VEC3,this.uniforms[g]=h}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,a=!0,l=!1,u=void 0;try{for(var d,h=this.samplers[Symbol.iterator]();!(a=(d=h.next()).done);a=!0){var g=d.value,p=g.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+g.samplerIndex),p.bindTexture(),p.update(),i.uniform1i(g.location,g.samplerIndex)}}catch(y){l=!0,u=y}finally{try{a||null==h.return||h.return()}finally{if(l)throw u}}}},{key:"updateTextures",value:function(){var i=!0,a=!1,l=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var h=u.value.texture;h&&h.update()}}catch(g){a=!0,l=g}finally{try{i||null==d.return||d.return()}finally{if(a)throw l}}}},{key:"unbindTextures",value:function(){var i=!0,a=!1,l=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(i=(u=d.next()).done);i=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(g){a=!0,l=g}finally{try{i||null==d.return||d.return()}finally{if(a)throw l}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer.uModelMatrix,a=this._renderer.uViewMatrix,l=this._renderer.uPMatrix,u=i.copy().mult(a),d=(this._renderer.uMVMatrix=u).copy();d.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelMatrix",i.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",d.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,a){var l=this.uniforms[i];if(l){var u=this._renderer.GL;if(l.isArray){if(l._cachedData&&this._renderer._arraysEqual(l._cachedData,a))return;l._cachedData=a.slice(0)}else{if(l._cachedData&&l._cachedData===a)return;l._cachedData=Array.isArray(a)?a.slice(0):a}var d=l.location;switch(this.useProgram(),l.type){case u.BOOL:u.uniform1i(d,!0===a?1:0);break;case u.INT:1<l.size?a.length&&u.uniform1iv(d,a):u.uniform1i(d,a);break;case u.FLOAT:1<l.size?a.length&&u.uniform1fv(d,a):u.uniform1f(d,a);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(d,!1,a);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(d,!1,a);break;case u.FLOAT_VEC2:1<l.size?a.length&&u.uniform2fv(d,a):u.uniform2f(d,a[0],a[1]);break;case u.FLOAT_VEC3:1<l.size?a.length&&u.uniform3fv(d,a):u.uniform3f(d,a[0],a[1],a[2]);break;case u.FLOAT_VEC4:1<l.size?a.length&&u.uniform4fv(d,a):u.uniform4f(d,a[0],a[1],a[2],a[3]);break;case u.INT_VEC2:1<l.size?a.length&&u.uniform2iv(d,a):u.uniform2i(d,a[0],a[1]);break;case u.INT_VEC3:1<l.size?a.length&&u.uniform3iv(d,a):u.uniform3i(d,a[0],a[1],a[2]);break;case u.INT_VEC4:1<l.size?a.length&&u.uniform4iv(d,a):u.uniform4i(d,a[0],a[1],a[2],a[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+l.samplerIndex),l.texture=a instanceof v.default.Texture?a:this._renderer.getTexture(a),u.uniform1i(d,l.samplerIndex),l.texture.src.gifProperties&&l.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(i){return void 0!==i})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(i,a,l,u,d,h){var g;return i&&-1!==(i=i.location)&&(g=this._renderer.GL,this._renderer.registerEnabled.has(i)||(g.enableVertexAttribArray(i),this._renderer.registerEnabled.add(i)),this._renderer.GL.vertexAttribPointer(i,a,l||g.FLOAT,u||!1,d||0,h||0)),this}},{key:"disableRemainingAttributes",value:function(){var i=this,a=!0,l=!1,u=void 0;try{for(var d,h=this._renderer.registerEnabled.values()[Symbol.iterator]();!(a=(d=h.next()).done);a=!0)!function(){var g=d.value;Object.keys(i.attributes).some(function(p){return i.attributes[p].location===g})||(i._renderer.GL.disableVertexAttribArray(g),i._renderer.registerEnabled.delete(g))}()}catch(g){l=!0,u=g}finally{try{a||null==h.return||h.return()}finally{if(l)throw u}}}}])&&b(m.prototype,w),f}(),$.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.checkWebGLCapabilities=g,$.default=$.MipmapTexture=void 0;var f=(h=o("../core/main"))&&h.__esModule?h:{default:h},m=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var y=w();if(y&&y.has(p))return y.get(p);var C,H={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in p){var R;Object.prototype.hasOwnProperty.call(p,C)&&((R=B?Object.getOwnPropertyDescriptor(p,C):null)&&(R.get||R.set)?Object.defineProperty(H,C,R):H[C]=p[C])}return H.default=p,y&&y.set(p,H),H}(o("../core/constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function _(p,y){return(_=Object.setPrototypeOf||function(C,H){return C.__proto__=H,C})(p,y)}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p,y){for(var C=0;C<y.length;C++){var H=y[C];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(p,H.key,H)}}function d(p,y,C){y&&u(p.prototype,y),C&&u(p,C)}f.default.Texture=function(){function p(P,C,R){l(this,p),this._renderer=P;var B=this._renderer.GL;return R=R||{},this.src=C,this.glTex=void 0,this.glTarget=B.TEXTURE_2D,this.glFormat=R.format||B.RGBA,this.mipmaps=!1,this.glMinFilter=R.minFilter||B.LINEAR,this.glMagFilter=R.magFilter||B.LINEAR,this.glWrapS=R.wrapS||B.CLAMP_TO_EDGE,this.glWrapT=R.wrapT||B.CLAMP_TO_EDGE,this.glDataType=R.dataType||B.UNSIGNED_BYTE,R=g(P),this.glFormat!==B.HALF_FLOAT||R.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=B.FLOAT),this.glFormat!==B.HALF_FLOAT||this.glMinFilter!==B.LINEAR&&this.glMagFilter!==B.LINEAR||R.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===B.LINEAR&&(this.glMinFilter=B.NEAREST),this.glMagFilter===B.LINEAR&&(this.glMagFilter=B.NEAREST)),this.glFormat!==B.FLOAT||R.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=B.UNSIGNED_BYTE),this.glFormat!==B.FLOAT||this.glMinFilter!==B.LINEAR&&this.glMagFilter!==B.LINEAR||R.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===B.LINEAR&&(this.glMinFilter=B.NEAREST),this.glMagFilter===B.LINEAR&&(this.glMagFilter=B.NEAREST)),this.isSrcMediaElement=void 0!==f.default.MediaElement&&C instanceof f.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==f.default.Element&&C instanceof f.default.Element&&!(C instanceof f.default.Graphics)&&!(C instanceof f.default.Renderer),this.isSrcP5Image=C instanceof f.default.Image,this.isSrcP5Graphics=C instanceof f.default.Graphics,this.isSrcP5Renderer=C instanceof f.default.Renderer,this.isImageData=typeof ImageData<"u"&&C instanceof ImageData,this.isFramebufferTexture=C instanceof f.default.FramebufferTexture,P=this._getTextureDataFromSource(),this.width=P.width,this.height=P.height,this.init(P),this}return d(p,[{key:"_getTextureDataFromSource",value:function(){var y;return this.isFramebufferTexture?y=this.src.rawTexture():this.isSrcP5Image?y=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?y=this.src.elt:this.isImageData&&(y=this.src),y}},{key:"init",value:function(y){var C,H=this._renderer.GL;this.isFramebufferTexture||(this.glTex=H.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,this.glMagFilter),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(C=new Uint8Array([1,1,1,1]),H.texImage2D(this.glTarget,0,H.RGBA,1,1,0,this.glFormat,this.glDataType,C)):H.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y))}},{key:"update",value:function(){var y,C,H,B=this.src;return 0!==B.width&&0!==B.height&&!this.isFramebufferTexture&&(y=this._getTextureDataFromSource(),C=!1,H=this._renderer.GL,y.width!==this.width||y.height!==this.height?(C=!0,this.width=y.width||B.width,this.height=y.height||B.height,this.isSrcP5Image?B.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&B.setModified(!0)):this.isSrcP5Image?B.isModified()&&B.setModified(!(C=!0)):this.isSrcMediaElement?B.isModified()?B.setModified(!(C=!0)):B.loadedmetadata&&this._videoPrevUpdateTime!==B.time()&&(this._videoPrevUpdateTime=B.time(),C=!0):this.isImageData?B._dirty&&(C=!(B._dirty=!1)):C=!0,C&&(this.bindTexture(),H.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y)),C)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(y,C){var H=this._renderer.GL;this.glMinFilter=this.glFilter(y),this.glMagFilter=this.glFilter(C),this.bindTexture(),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,this.glMinFilter),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(y){var C=this._renderer.GL;return y===m.NEAREST?C.NEAREST:C.LINEAR}},{key:"setWrapMode",value:function(y,C){function H(k){return!(k&k-1)}var B=this._renderer.GL,P=(P=this._getTextureDataFromSource()).naturalWidth&&P.naturalHeight?(R=P.naturalWidth,P.naturalHeight):(R=this.width,this.height),R=H(R);P=H(P),y===m.REPEAT?this._renderer.webglVersion===m.WEBGL2||R&&P?this.glWrapS=B.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=B.CLAMP_TO_EDGE):y===m.MIRROR?this._renderer.webglVersion===m.WEBGL2||R&&P?this.glWrapS=B.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=B.CLAMP_TO_EDGE):this.glWrapS=B.CLAMP_TO_EDGE,C===m.REPEAT?this._renderer.webglVersion===m.WEBGL2||R&&P?this.glWrapT=B.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=B.CLAMP_TO_EDGE):C===m.MIRROR?this._renderer.webglVersion===m.WEBGL2||R&&P?this.glWrapT=B.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=B.CLAMP_TO_EDGE):this.glWrapT=B.CLAMP_TO_EDGE,this.bindTexture(),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,this.glWrapS),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var h=function(p){var y=H;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&_(y,p);var C=function i(p){return function(){var y,C=a(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=a(this).constructor,Reflect.construct(C,arguments,y)):C.apply(this,arguments),C=this,!y||"object"!==b(y)&&"function"!=typeof y){if(void 0!==C)return C;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(H);function H(B,R,P){return l(this,H),R=(B=C.call(this,B,R,P))._renderer.GL,B.glMinFilter===R.LINEAR&&(B.glMinFilter=R.LINEAR_MIPMAP_LINEAR),B}return d(H,[{key:"glFilter",value:function(B){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(B){var R=this._renderer.GL;this.glTex=R.createTexture(),this.bindTexture();for(var P=0;P<B.length;P++)R.texImage2D(this.glTarget,P,this.glFormat,this.glFormat,this.glDataType,B[P]);this.glMinFilter=R.LINEAR_MIPMAP_LINEAR,R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,this.glMagFilter),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),H}(f.default.Texture);function g(B){var y=B.GL,C=(B=B.webglVersion)===m.WEBGL2?y.getExtension("EXT_color_buffer_float")&&y.getExtension("EXT_float_blend"):y.getExtension("OES_texture_float");return{float:C,floatLinear:C&&y.getExtension("OES_texture_float_linear"),halfFloat:B=y.getExtension(B===m.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:B&&y.getExtension("OES_texture_half_float_linear")}}$.MipmapTexture=h,$.default=o=f.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var f,m=(f=o("../core/main"))&&f.__esModule?f:{default:f},w=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var y=_();if(y&&y.has(p))return y.get(p);var C,H={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in p){var R;Object.prototype.hasOwnProperty.call(p,C)&&((R=B?Object.getOwnPropertyDescriptor(p,C):null)&&(R.get||R.set)?Object.defineProperty(H,C,R):H[C]=p[C])}return H.default=p,y&&y.set(p,H),H}(o("../core/constants"));function _(){var p;return"function"!=typeof WeakMap?null:(_=function(){return p},p=new WeakMap)}function i(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function a(p,y){for(var C=0;C<y.length;C++){var H=y[C];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(p,H.key,H)}}function l(p,y,C){y&&a(p.prototype,y),C&&a(p,C)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),m.default.RendererGL.prototype._applyTextProperties=function(){},m.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var u=function(){function p(y,C){i(this,p),this.width=y,this.height=C,this.infos=[]}return l(p,[{key:"findImage",value:function(y){var C,H,B=this.width*this.height;if(B<y)throw new Error("font is too complex to render in 3D");for(var R=this.infos.length-1;0<=R;--R){var P=this.infos[R];if(P.index+y<B){H=(C=P).imageData;break}}if(!C){try{H=new ImageData(this.width,this.height)}catch{var k=document.getElementsByTagName("canvas")[0],T=!k,N=(k||((k=document.createElement("canvas")).style.display="none",document.body.appendChild(k)),k.getContext("2d"));N&&(H=N.createImageData(this.width,this.height)),T&&document.body.removeChild(k)}this.infos.push(C={index:0,imageData:H})}return N=C.index,C.index+=y,H._dirty=!0,{imageData:H,index:N}}}]),p}();function d(P,y,C,H,B){var R=P.imageData.data;P=4*P.index++,R[P++]=y,R[P++]=C,R[P++]=H,R[+P]=B}var h=Math.sqrt(3),g=function(){function p(y){i(this,p),this.font=y,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return l(p,[{key:"getGlyphInfo",value:function(y){var C=this.glyphInfos[y.index];if(!C){var H=y.getBoundingBox(),B=H.x1,R=H.y1,P=H.x2-B,k=H.y2-R,T=y.path.commands;if(0==P||0==k||!T.length)return this.glyphInfos[y.index]={};for(var N=[],j=[],Z=[],ee=8;0<=ee;--ee)Z.push([]);for(ee=8;0<=ee;--ee)j.push([]);var z,te,W,G,Y=function(){function It(br,Qt,fr,Ct){i(this,It),this.p0=br,this.c0=Qt,this.c1=fr,this.p1=Ct}return l(It,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return m.default.Vector.sub(m.default.Vector.sub(this.p1,this.p0),m.default.Vector.mult(m.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(ir){var Qt=m.default.Vector.lerp(this.p0,this.c0,ir),Ct=m.default.Vector.lerp(this.c0,this.c1,ir),fr=m.default.Vector.lerp(Qt,Ct,ir);return this.c1=m.default.Vector.lerp(this.c1,this.p1,ir),this.c0=m.default.Vector.lerp(Ct,this.c1,ir),Ct=m.default.Vector.lerp(fr,this.c0,ir),ir=new It(this.p0,Qt,fr,Ct),this.p0=Ct,ir}},{key:"splitInflections",value:function(){var br=m.default.Vector.sub(this.c0,this.p0),Qt=m.default.Vector.sub(m.default.Vector.sub(this.c1,this.c0),br),fr=m.default.Vector.sub(m.default.Vector.sub(m.default.Vector.sub(this.p1,this.c1),br),m.default.Vector.mult(Qt,2)),Ct=[],ir=Qt.x*fr.y-Qt.y*fr.x;return 0!==ir&&0<=(br=(fr=br.x*fr.y-br.y*fr.x)*fr-4*ir*(br.x*Qt.y-br.y*Qt.x))&&(ir<0&&(ir=-ir,fr=-fr),br=(-fr+(Qt=Math.sqrt(br)))/(2*ir),0<(fr=(-fr-Qt)/(2*ir))&&fr<1&&(Ct.push(this.split(fr)),br=1-(1-br)/(1-fr)),0<br&&br<1&&Ct.push(this.split(br))),Ct.push(this),Ct}}]),It}(),le=!0,Me=!1,K=void 0;try{for(var O,oe=T[Symbol.iterator]();!(le=(O=oe.next()).done);le=!0){var me=O.value,Se=(me.x-B)/P,Ue=(me.y-R)/k;if(!Vt(z,te,Se,Ue)){switch(me.type){case"M":W=Se,G=Ue;break;case"L":ar(z,te,Se,Ue);break;case"Q":var Xe=(me.x1-B)/P,lt=(me.y1-R)/k;pt([z,Se,Xe],[te,Ue,lt],{x:z,y:te,cx:Xe,cy:lt});break;case"Z":Vt(z,te,W,G)?N.push({x:z,y:te}):(ar(z,te,W,G),N.push({x:W,y:G}));break;case"C":for(var ze=function(We,zt,$t,fr,Ct,ir,Gt,$e){We=new Y(new m.default.Vector(We,zt),new m.default.Vector($t,fr),new m.default.Vector(Ct,ir),new m.default.Vector(Gt,$e)).splitInflections();var Pe=[],Je=30/h,Ot=!0;zt=!1,$t=void 0;try{for(var _t,Mt=We[Symbol.iterator]();!(Ot=(_t=Mt.next()).done);Ot=!0){for(var Xt=_t.value,tr=[],Rt=void 0;!(.125<=(Rt=Je/Xt.quadError()));){var vt=Math.pow(Rt,.3333333333333333),Ut=Xt.split(vt),yt=Xt.split(1-vt/(1-vt));Pe.push(Ut),tr.push(Xt),Xt=yt}Rt<1&&Pe.push(Xt.split(.5)),Pe.push(Xt),Array.prototype.push.apply(Pe,tr.reverse())}}catch(Nt){zt=!0,$t=Nt}finally{try{Ot||null==Mt.return||Mt.return()}finally{if(zt)throw $t}}return Pe}(z,te,(me.x1-B)/P,(me.y1-R)/k,(me.x2-B)/P,(me.y2-R)/k,Se,Ue),st=0;st<ze.length;st++){var at=ze[st].toQuadratic();pt([at.x,at.x1,at.cx],[at.y,at.y1,at.cy],at)}break;default:throw new Error("unknown command type: ".concat(me.type))}z=Se,te=Ue}}}catch(It){Me=!0,K=It}finally{try{le||null==oe.return||oe.return()}finally{if(Me)throw K}}for(var Fe=N.length,nt=this.strokeImageInfos.findImage(Fe),Ye=nt.index,ot=0;ot<Fe;++ot){var Ze=N[ot];d(nt,kt(Ze.x),kt(Ze.y),kt(Ze.cx),kt(Ze.cy))}(C=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[H.x1,-H.y1,H.x2,-H.y2],strokeImageInfo:nt,strokes:N,colInfo:cr(Z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:cr(j,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[C.colInfo.dimOffset,C.rowInfo.dimOffset]}return C;function pt(It,br,Qt){var fr=N.length;function Ct(Pe,Je,Ot){for(var zt=Pe.length;0<zt--;){var $t=Pe[zt];$t<Je&&(Je=$t),Ot<$t&&(Ot=$t)}return{min:Je,max:Ot}}N.push(Qt),Qt=Ct(It,1,0),It=Math.max(Math.floor(9*Qt.min-.5),0);for(var ir=Math.min(Math.ceil(9*Qt.max+.5),9),Gt=It;Gt<ir;++Gt)Z[Gt].push(fr);Qt=Ct(br,1,0),It=Math.max(Math.floor(9*Qt.min-.5),0);for(var $e=Math.min(Math.ceil(9*Qt.max+.5),9),We=It;We<$e;++We)j[We].push(fr)}function kt(It){return(It=255*It)<0?0:255<It?255:It}function ar(It,br,Qt,fr){pt([It,Qt],[br,fr],{x:It,y:br,cx:(It+Qt)/2,cy:(br+fr)/2})}function Vt(It,br,Qt,fr){return Math.abs(Qt-It)<1e-5&&Math.abs(fr-br)<1e-5}function cr(It,br,Qt){for(var fr=It.length,Ct=br.findImage(fr),ir=(br=Ct.index,0),Gt=0;Gt<fr;++Gt)ir+=It[Gt].length;for(var $e=Qt.findImage(ir),We=0;We<fr;++We){var Pe=It[We],Je=Pe.length,Ot=$e.index;d(Ct,Ot>>7,127&Ot,Je>>7,127&Je);for(var zt=0;zt<Je;++zt){var $t=Pe[zt]+Ye;d($e,$t>>7,127&$t,0,0)}}return{cellImageInfo:$e,dimOffset:br,dimImageInfo:Ct}}}}]),p}();m.default.RendererGL.prototype._renderText=function(p,y,C,H,B){if(this._textFont&&"string"!=typeof this._textFont){if(!(B<=H)&&this._doFill){if(this._isOpenType()){p.push(),B=this._doStroke;var R=this.drawMode,P=(this._doStroke=!1,this.drawMode=w.TEXTURE,this._textFont.font),k=(k=this._textFont._fontInfo)||(this._textFont._fontInfo=new g(P)),T=(C=this._textFont._handleAlignment(this,y,C,H),H=this._textSize/P.unitsPerEm,this.translate(C.x,C.y,0),this.scale(H,H,1),this.GL),N=(C=!this._defaultFontShader,this._getFontShader()),j=(N.init(),N.bindShader(),C&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),Z=(j||((H=this._textGeom=new m.default.Geometry(1,1,function(){for(var st=0;st<=1;st++)for(var at=0;at<=1;at++)this.vertices.push(new m.default.Vector(at,st,0)),this.uvs.push(at,st)})).computeFaces().computeNormals(),j=this.createBuffers("glyph",H)),!0);C=!1,H=void 0;try{for(var ee,z=this.retainedMode.buffers.text[Symbol.iterator]();!(Z=(ee=z.next()).done);Z=!0)ee.value._prepareBuffer(j,N)}catch(st){C=!0,H=st}finally{try{Z||null==z.return||z.return()}finally{if(C)throw H}}this._bindBuffer(j.indexBuffer,T.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var te=0,W=null,G=P.stringToGlyphs(y),Y=!0,le=!1,Me=void 0;try{for(var K,O=G[Symbol.iterator]();!(Y=(K=O.next()).done);Y=!0){var oe,me,Se=K.value,Ue=(W&&(te+=P.getKerningValue(W,Se)),k.getGlyphInfo(Se));Ue.uGlyphRect&&(oe=Ue.rowInfo,me=Ue.colInfo,N.setUniform("uSamplerStrokes",Ue.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",oe.cellImageInfo.imageData),N.setUniform("uSamplerRows",oe.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",me.cellImageInfo.imageData),N.setUniform("uSamplerCols",me.dimImageInfo.imageData),N.setUniform("uGridOffset",Ue.uGridOffset),N.setUniform("uGlyphRect",Ue.uGlyphRect),N.setUniform("uGlyphOffset",te),N.bindTextures(),T.drawElements(T.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),te+=Se.advanceWidth,W=Se}}catch(st){le=!0,Me=st}finally{try{Y||null==O.return||O.return()}finally{if(le)throw Me}}}finally{N.unbindShader(),this._doStroke=B,this.drawMode=R,T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(Dr,rr,_e)=>{function M(i){this.mode=et.MODE_8BIT_BYTE,this.data=i,this.parsedData=[];for(var a=0,l=this.data.length;a<l;a++){var u=[],d=this.data.charCodeAt(a);d>65536?(u[0]=240|(1835008&d)>>>18,u[1]=128|(258048&d)>>>12,u[2]=128|(4032&d)>>>6,u[3]=128|63&d):d>2048?(u[0]=224|(61440&d)>>>12,u[1]=128|(4032&d)>>>6,u[2]=128|63&d):d>128?(u[0]=192|(1984&d)>>>6,u[1]=128|63&d):u[0]=d,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function A(i,a){this.typeNumber=i,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}M.prototype={getLength:function(i){return this.parsedData.length},write:function(i){for(var a=0,l=this.parsedData.length;a<l;a++)i.put(this.parsedData[a],8)}},A.prototype={addData:function(i){var a=new M(i);this.dataList.push(a),this.dataCache=null},isDark:function(i,a){if(i<0||this.moduleCount<=i||a<0||this.moduleCount<=a)throw new Error(i+","+a);return this.modules[i][a]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(i,a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var l=0;l<this.moduleCount;l++){this.modules[l]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[l][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,a),this.typeNumber>=7&&this.setupTypeNumber(i),null==this.dataCache&&(this.dataCache=A.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(i,a){for(var l=-1;l<=7;l++)if(!(i+l<=-1||this.moduleCount<=i+l))for(var u=-1;u<=7;u++)a+u<=-1||this.moduleCount<=a+u||(this.modules[i+l][a+u]=0<=l&&l<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==l||6==l)||2<=l&&l<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var i=0,a=0,l=0;l<8;l++){this.makeImpl(!0,l);var u=ie.getLostPoint(this);(0==l||i>u)&&(i=u,a=l)}return a},createMovieClip:function(i,a,l){var u=i.createEmptyMovieClip(a,l);this.make();for(var h=0;h<this.modules.length;h++)for(var g=1*h,p=0;p<this.modules[h].length;p++){var y=1*p;this.modules[h][p]&&(u.beginFill(0,100),u.moveTo(y,g),u.lineTo(y+1,g),u.lineTo(y+1,g+1),u.lineTo(y,g+1),u.endFill())}return u},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++)null==this.modules[i][6]&&(this.modules[i][6]=i%2==0);for(var a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var i=ie.getPatternPosition(this.typeNumber),a=0;a<i.length;a++)for(var l=0;l<i.length;l++){var u=i[a],d=i[l];if(null==this.modules[u][d])for(var h=-2;h<=2;h++)for(var g=-2;g<=2;g++)this.modules[u+h][d+g]=-2==h||2==h||-2==g||2==g||0==h&&0==g}},setupTypeNumber:function(i){for(var a=ie.getBCHTypeNumber(this.typeNumber),l=0;l<18;l++){var u=!i&&1==(a>>l&1);this.modules[Math.floor(l/3)][l%3+this.moduleCount-8-3]=u}for(l=0;l<18;l++)u=!i&&1==(a>>l&1),this.modules[l%3+this.moduleCount-8-3][Math.floor(l/3)]=u},setupTypeInfo:function(i,a){for(var u=ie.getBCHTypeInfo(this.errorCorrectLevel<<3|a),d=0;d<15;d++){var h=!i&&1==(u>>d&1);d<6?this.modules[d][8]=h:d<8?this.modules[d+1][8]=h:this.modules[this.moduleCount-15+d][8]=h}for(d=0;d<15;d++)h=!i&&1==(u>>d&1),d<8?this.modules[8][this.moduleCount-d-1]=h:d<9?this.modules[8][15-d-1+1]=h:this.modules[8][15-d-1]=h;this.modules[this.moduleCount-8][8]=!i},mapData:function(i,a){for(var l=-1,u=this.moduleCount-1,d=7,h=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var p=0;p<2;p++)if(null==this.modules[u][g-p]){var y=!1;h<i.length&&(y=1==(i[h]>>>d&1)),ie.getMask(a,u,g-p)&&(y=!y),this.modules[u][g-p]=y,-1==--d&&(h++,d=7)}if((u+=l)<0||this.moduleCount<=u){u-=l,l=-l;break}}}},A.PAD0=236,A.PAD1=17,A.createData=function(i,a,l){for(var u=f.getRSBlocks(i,a),d=new m,h=0;h<l.length;h++){var g=l[h];d.put(g.mode,4),d.put(g.getLength(),ie.getLengthInBits(g.mode,i)),g.write(d)}var p=0;for(h=0;h<u.length;h++)p+=u[h].dataCount;if(d.getLengthInBits()>8*p)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+8*p+")");for(d.getLengthInBits()+4<=8*p&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*p||(d.put(A.PAD0,8),d.getLengthInBits()>=8*p));)d.put(A.PAD1,8);return A.createBytes(d,u)},A.createBytes=function(i,a){for(var l=0,u=0,d=0,h=new Array(a.length),g=new Array(a.length),p=0;p<a.length;p++){var y=a[p].dataCount,C=a[p].totalCount-y;u=Math.max(u,y),d=Math.max(d,C),h[p]=new Array(y);for(var H=0;H<h[p].length;H++)h[p][H]=255&i.buffer[H+l];l+=y;var B=ie.getErrorCorrectPolynomial(C),P=new b(h[p],B.getLength()-1).mod(B);for(g[p]=new Array(B.getLength()-1),H=0;H<g[p].length;H++){var k=H+P.getLength()-g[p].length;g[p][H]=k>=0?P.get(k):0}}var T=0;for(H=0;H<a.length;H++)T+=a[H].totalCount;var N=new Array(T),j=0;for(H=0;H<u;H++)for(p=0;p<a.length;p++)H<h[p].length&&(N[j++]=h[p][H]);for(H=0;H<d;H++)for(p=0;p<a.length;p++)H<g[p].length&&(N[j++]=g[p][H]);return N};for(var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Et={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ie={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var a=i<<10;ie.getBCHDigit(a)-ie.getBCHDigit(ie.G15)>=0;)a^=ie.G15<<ie.getBCHDigit(a)-ie.getBCHDigit(ie.G15);return(i<<10|a)^ie.G15_MASK},getBCHTypeNumber:function(i){for(var a=i<<12;ie.getBCHDigit(a)-ie.getBCHDigit(ie.G18)>=0;)a^=ie.G18<<ie.getBCHDigit(a)-ie.getBCHDigit(ie.G18);return i<<12|a},getBCHDigit:function(i){for(var a=0;0!=i;)a++,i>>>=1;return a},getPatternPosition:function(i){return ie.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,a,l){switch(i){case o.PATTERN000:return(a+l)%2==0;case o.PATTERN001:return a%2==0;case o.PATTERN010:return l%3==0;case o.PATTERN011:return(a+l)%3==0;case o.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2==0;case o.PATTERN101:return a*l%2+a*l%3==0;case o.PATTERN110:return(a*l%2+a*l%3)%2==0;case o.PATTERN111:return(a*l%3+(a+l)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var a=new b([1],0),l=0;l<i;l++)a=a.multiply(new b([1,$.gexp(l)],0));return a},getLengthInBits:function(i,a){if(1<=a&&a<10)switch(i){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:case et.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(a<27)switch(i){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else{if(!(a<41))throw new Error("type:"+a);switch(i){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}}},getLostPoint:function(i){for(var a=i.getModuleCount(),l=0,u=0;u<a;u++)for(var d=0;d<a;d++){for(var h=0,g=i.isDark(u,d),p=-1;p<=1;p++)if(!(u+p<0||a<=u+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||0==p&&0==y||g==i.isDark(u+p,d+y)&&h++;h>5&&(l+=3+h-5)}for(u=0;u<a-1;u++)for(d=0;d<a-1;d++){var C=0;i.isDark(u,d)&&C++,i.isDark(u+1,d)&&C++,i.isDark(u,d+1)&&C++,i.isDark(u+1,d+1)&&C++,(0==C||4==C)&&(l+=3)}for(u=0;u<a;u++)for(d=0;d<a-6;d++)i.isDark(u,d)&&!i.isDark(u,d+1)&&i.isDark(u,d+2)&&i.isDark(u,d+3)&&i.isDark(u,d+4)&&!i.isDark(u,d+5)&&i.isDark(u,d+6)&&(l+=40);for(d=0;d<a;d++)for(u=0;u<a-6;u++)i.isDark(u,d)&&!i.isDark(u+1,d)&&i.isDark(u+2,d)&&i.isDark(u+3,d)&&i.isDark(u+4,d)&&!i.isDark(u+5,d)&&i.isDark(u+6,d)&&(l+=40);var H=0;for(d=0;d<a;d++)for(u=0;u<a;u++)i.isDark(u,d)&&H++;return l+Math.abs(100*H/a/a-50)/5*10}},$={glog:function(i){if(i<1)throw new Error("glog("+i+")");return $.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return $.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)$.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)$.EXP_TABLE[v]=$.EXP_TABLE[v-4]^$.EXP_TABLE[v-5]^$.EXP_TABLE[v-6]^$.EXP_TABLE[v-8];for(v=0;v<255;v++)$.LOG_TABLE[$.EXP_TABLE[v]]=v;function b(i,a){if(null==i.length)throw new Error(i.length+"/"+a);for(var l=0;l<i.length&&0==i[l];)l++;this.num=new Array(i.length-l+a);for(var u=0;u<i.length-l;u++)this.num[u]=i[u+l]}function f(i,a){this.totalCount=i,this.dataCount=a}function m(){this.buffer=[],this.length=0}b.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var a=new Array(this.getLength()+i.getLength()-1),l=0;l<this.getLength();l++)for(var u=0;u<i.getLength();u++)a[l+u]^=$.gexp($.glog(this.get(l))+$.glog(i.get(u)));return new b(a,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var a=$.glog(this.get(0))-$.glog(i.get(0)),l=new Array(this.getLength()),u=0;u<this.getLength();u++)l[u]=this.get(u);for(u=0;u<i.getLength();u++)l[u]^=$.gexp($.glog(i.get(u))+a);return new b(l,0).mod(i)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(i,a){var l=f.getRsBlockTable(i,a);if(null==l)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+a);for(var u=l.length/3,d=[],h=0;h<u;h++)for(var g=l[3*h+0],p=l[3*h+1],y=l[3*h+2],C=0;C<g;C++)d.push(new f(p,y));return d},f.getRsBlockTable=function(i,a){switch(a){case Et.L:return f.RS_BLOCK_TABLE[4*(i-1)+0];case Et.M:return f.RS_BLOCK_TABLE[4*(i-1)+1];case Et.Q:return f.RS_BLOCK_TABLE[4*(i-1)+2];case Et.H:return f.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},m.prototype={get:function(i){var a=Math.floor(i/8);return 1==(this.buffer[a]>>>7-i%8&1)},put:function(i,a){for(var l=0;l<a;l++)this.putBit(1==(i>>>a-l-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),i&&(this.buffer[a]|=128>>>this.length%8),this.length++}};var w=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(i){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof i&&(i={content:i}),i)for(var l in i)this.options[l]=i[l];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var g=this.options.content,p=function d(C,H){for(var B=function h(C){var H=encodeURI(C).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return H.length+(H.length!=C?3:0)}(C),R=1,P=0,k=0,T=w.length;k<=T;k++){var N=w[k];if(!N)throw new Error("Content too long: expected "+P+" but got "+B);switch(H){case"L":P=N[0];break;case"M":P=N[1];break;case"Q":P=N[2];break;case"H":P=N[3];break;default:throw new Error("Unknwon error correction level: "+H)}if(B<=P)break;R++}if(R>w.length)throw new Error("Content too long");return R}(g,this.options.ecl),y=function u(C){switch(C){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new Error("Unknwon error correction level: "+C)}}(this.options.ecl);this.qrcode=new A(p,y),this.qrcode.addData(g),this.qrcode.make()}_.prototype.svg=function(i){var a=this.options||{},l=this.qrcode.modules;typeof i>"u"&&(i={container:a.container||"svg"});for(var u=!(typeof a.pretty<"u"&&!a.pretty),d=u?"  ":"",h=u?"\r\n":"",g=a.width,p=a.height,y=l.length,C=g/(y+2*a.padding),H=p/(y+2*a.padding),B=typeof a.join<"u"&&!!a.join,R=typeof a.swap<"u"&&!!a.swap,P=!(typeof a.xmlDeclaration<"u"&&!a.xmlDeclaration),k=typeof a.predefined<"u"&&!!a.predefined,T=k?d+'<defs><path id="qrmodule" d="M0 0 h'+H+" v"+C+' H0 z" style="fill:'+a.color+';shape-rendering:crispEdges;" /></defs>'+h:"",N=d+'<rect x="0" y="0" width="'+g+'" height="'+p+'" style="fill:'+a.background+';shape-rendering:crispEdges;"/>'+h,j="",Z="",ee=0;ee<y;ee++)for(var z=0;z<y;z++)if(l[z][ee]){var W=z*C+a.padding*C,G=ee*H+a.padding*H;if(R){var Y=W;W=G,G=Y}if(B){var le=C+W,Me=H+G;W=Number.isInteger(W)?Number(W):W.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),Z+="M"+W+","+G+" V"+(Me=Number.isInteger(Me)?Number(Me):Me.toFixed(2))+" H"+le+" V"+G+" H"+W+" Z "}else j+=k?d+'<use x="'+W.toString()+'" y="'+G.toString()+'" href="#qrmodule" />'+h:d+'<rect x="'+W.toString()+'" y="'+G.toString()+'" width="'+C+'" height="'+H+'" style="fill:'+a.color+';shape-rendering:crispEdges;"/>'+h}B&&(j=d+'<path x="0" y="0" style="fill:'+a.color+';shape-rendering:crispEdges;" d="'+Z+'" />');var K="";switch(i.container){case"svg":P&&(K+='<?xml version="1.0" standalone="yes"?>'+h),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+g+'" height="'+p+'">'+h,K+=T+N+j,K+="</svg>";break;case"svg-viewbox":P&&(K+='<?xml version="1.0" standalone="yes"?>'+h),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+g+" "+p+'">'+h,K+=T+N+j,K+="</svg>";break;case"g":K+='<g width="'+g+'" height="'+p+'">'+h,K+=T+N+j,K+="</g>";break;default:K+=(T+N+j).replace(/^\s+/,"")}return K},_.prototype.save=function(i,a){var l=this.svg();"function"!=typeof a&&(a=function(d,h){});try{_e(Object(function(){var h=new Error("Cannot find module 'fs'");throw h.code="MODULE_NOT_FOUND",h}())).writeFile(i,l,a)}catch(d){a(d)}},Dr.exports=_},4412:(Dr,rr,_e)=>{"use strict";_e.d(rr,{t:()=>A});var M=_e(1413);class A extends M.B{constructor(Et){super(),this._value=Et}get value(){return this.getValue()}_subscribe(Et){const o=super._subscribe(Et);return!o.closed&&Et.next(this._value),o}getValue(){const{hasError:Et,thrownError:o,_value:ie}=this;if(Et)throw o;return this._throwIfClosed(),ie}next(Et){super.next(this._value=Et)}}},1985:(Dr,rr,_e)=>{"use strict";_e.d(rr,{c:()=>v});var M=_e(7707),A=_e(8359),et=_e(3494),Et=_e(1203),o=_e(1026),ie=_e(8071),$=_e(9786);let v=(()=>{class w{constructor(i){i&&(this._subscribe=i)}lift(i){const a=new w;return a.source=this,a.operator=i,a}subscribe(i,a,l){const u=function m(w){return w&&w instanceof M.vU||function f(w){return w&&(0,ie.T)(w.next)&&(0,ie.T)(w.error)&&(0,ie.T)(w.complete)}(w)&&(0,A.Uv)(w)}(i)?i:new M.Ms(i,a,l);return(0,$.Y)(()=>{const{operator:d,source:h}=this;u.add(d?d.call(u,h):h?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(i){try{return this._subscribe(i)}catch(a){i.error(a)}}forEach(i,a){return new(a=b(a))((l,u)=>{const d=new M.Ms({next:h=>{try{i(h)}catch(g){u(g),d.unsubscribe()}},error:u,complete:l});this.subscribe(d)})}_subscribe(i){var a;return null===(a=this.source)||void 0===a?void 0:a.subscribe(i)}[et.s](){return this}pipe(...i){return(0,Et.m)(i)(this)}toPromise(i){return new(i=b(i))((a,l)=>{let u;this.subscribe(d=>u=d,d=>l(d),()=>a(u))})}}return w.create=_=>new w(_),w})();function b(w){var _;return null!==(_=null!=w?w:o.$.Promise)&&void 0!==_?_:Promise}},1413:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>$});var M=_e(1985),A=_e(8359);const Et=(0,_e(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=_e(7908),ie=_e(9786);let $=(()=>{class b extends M.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(m){const w=new v(this,this);return w.operator=m,w}_throwIfClosed(){if(this.closed)throw new Et}next(m){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const w of this.currentObservers)w.next(m)}})}error(m){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=m;const{observers:w}=this;for(;w.length;)w.shift().error(m)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:m}=this;for(;m.length;)m.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var m;return(null===(m=this.observers)||void 0===m?void 0:m.length)>0}_trySubscribe(m){return this._throwIfClosed(),super._trySubscribe(m)}_subscribe(m){return this._throwIfClosed(),this._checkFinalizedStatuses(m),this._innerSubscribe(m)}_innerSubscribe(m){const{hasError:w,isStopped:_,observers:i}=this;return w||_?A.Kn:(this.currentObservers=null,i.push(m),new A.yU(()=>{this.currentObservers=null,(0,o.o)(i,m)}))}_checkFinalizedStatuses(m){const{hasError:w,thrownError:_,isStopped:i}=this;w?m.error(_):i&&m.complete()}asObservable(){const m=new M.c;return m.source=this,m}}return b.create=(f,m)=>new v(f,m),b})();class v extends ${constructor(f,m){super(),this.destination=f,this.source=m}next(f){var m,w;null===(w=null===(m=this.destination)||void 0===m?void 0:m.next)||void 0===w||w.call(m,f)}error(f){var m,w;null===(w=null===(m=this.destination)||void 0===m?void 0:m.error)||void 0===w||w.call(m,f)}complete(){var f,m;null===(m=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===m||m.call(f)}_subscribe(f){var m,w;return null!==(w=null===(m=this.source)||void 0===m?void 0:m.subscribe(f))&&void 0!==w?w:A.Kn}}},7707:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Ms:()=>l,vU:()=>w});var M=_e(8071),A=_e(8359),et=_e(1026),Et=_e(5334),o=_e(5343);const ie=b("C",void 0,void 0);function b(p,y,C){return{kind:p,value:y,error:C}}var f=_e(9270),m=_e(9786);class w extends A.yU{constructor(y){super(),this.isStopped=!1,y?(this.destination=y,(0,A.Uv)(y)&&y.add(this)):this.destination=g}static create(y,C,H){return new l(y,C,H)}next(y){this.isStopped?h(function v(p){return b("N",p,void 0)}(y),this):this._next(y)}error(y){this.isStopped?h(function $(p){return b("E",void 0,p)}(y),this):(this.isStopped=!0,this._error(y))}complete(){this.isStopped?h(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(y){this.destination.next(y)}_error(y){try{this.destination.error(y)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function i(p,y){return _.call(p,y)}class a{constructor(y){this.partialObserver=y}next(y){const{partialObserver:C}=this;if(C.next)try{C.next(y)}catch(H){u(H)}}error(y){const{partialObserver:C}=this;if(C.error)try{C.error(y)}catch(H){u(H)}else u(y)}complete(){const{partialObserver:y}=this;if(y.complete)try{y.complete()}catch(C){u(C)}}}class l extends w{constructor(y,C,H){let B;if(super(),(0,M.T)(y)||!y)B={next:null!=y?y:void 0,error:null!=C?C:void 0,complete:null!=H?H:void 0};else{let R;this&&et.$.useDeprecatedNextContext?(R=Object.create(y),R.unsubscribe=()=>this.unsubscribe(),B={next:y.next&&i(y.next,R),error:y.error&&i(y.error,R),complete:y.complete&&i(y.complete,R)}):B=y}this.destination=new a(B)}}function u(p){et.$.useDeprecatedSynchronousErrorHandling?(0,m.l)(p):(0,Et.m)(p)}function h(p,y){const{onStoppedNotification:C}=et.$;C&&f.f.setTimeout(()=>C(p,y))}const g={closed:!0,next:o.l,error:function d(p){throw p},complete:o.l}},8359:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Kn:()=>ie,yU:()=>o,Uv:()=>$});var M=_e(8071);const et=(0,_e(1853).L)(b=>function(m){b(this),this.message=m?`${m.length} errors occurred during unsubscription:\n${m.map((w,_)=>`${_+1}) ${w.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=m});var Et=_e(7908);class o{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:m}=this;if(m)if(this._parentage=null,Array.isArray(m))for(const i of m)i.remove(this);else m.remove(this);const{initialTeardown:w}=this;if((0,M.T)(w))try{w()}catch(i){f=i instanceof et?i.errors:[i]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const i of _)try{v(i)}catch(a){f=null!=f?f:[],a instanceof et?f=[...f,...a.errors]:f.push(a)}}if(f)throw new et(f)}}add(f){var m;if(f&&f!==this)if(this.closed)v(f);else{if(f instanceof o){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(m=this._finalizers)&&void 0!==m?m:[]).push(f)}}_hasParent(f){const{_parentage:m}=this;return m===f||Array.isArray(m)&&m.includes(f)}_addParent(f){const{_parentage:m}=this;this._parentage=Array.isArray(m)?(m.push(f),m):m?[m,f]:f}_removeParent(f){const{_parentage:m}=this;m===f?this._parentage=null:Array.isArray(m)&&(0,Et.o)(m,f)}remove(f){const{_finalizers:m}=this;m&&(0,Et.o)(m,f),f instanceof o&&f._removeParent(this)}}o.EMPTY=(()=>{const b=new o;return b.closed=!0,b})();const ie=o.EMPTY;function $(b){return b instanceof o||b&&"closed"in b&&(0,M.T)(b.remove)&&(0,M.T)(b.add)&&(0,M.T)(b.unsubscribe)}function v(b){(0,M.T)(b)?b():b.unsubscribe()}},1026:(Dr,rr,_e)=>{"use strict";_e.d(rr,{$:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Dr,rr,_e)=>{"use strict";_e.d(rr,{G:()=>ie});var M=_e(1985),A=_e(8359),et=_e(9898),Et=_e(4360),o=_e(9974);class ie extends M.c{constructor(v,b){super(),this.source=v,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new A.yU;const b=this.getSubject();v.add(this.source.subscribe((0,Et._)(b,void 0,()=>{this._teardown(),b.complete()},f=>{this._teardown(),b.error(f)},()=>this._teardown()))),v.closed&&(this._connection=null,v=A.yU.EMPTY)}return v}refCount(){return(0,et.B)()(this)}}},4572:(Dr,rr,_e)=>{"use strict";_e.d(rr,{z:()=>f});var M=_e(1985),A=_e(3073),et=_e(6648),Et=_e(3669),o=_e(6450),ie=_e(9326),$=_e(8496),v=_e(4360),b=_e(5225);function f(..._){const i=(0,ie.lI)(_),a=(0,ie.ms)(_),{args:l,keys:u}=(0,A.D)(_);if(0===l.length)return(0,et.H)([],i);const d=new M.c(function m(_,i,a=Et.D){return l=>{w(i,()=>{const{length:u}=_,d=new Array(u);let h=u,g=u;for(let p=0;p<u;p++)w(i,()=>{const y=(0,et.H)(_[p],i);let C=!1;y.subscribe((0,v._)(l,H=>{d[p]=H,C||(C=!0,g--),g||l.next(a(d.slice()))},()=>{--h||l.complete()}))},l)},l)}}(l,i,u?h=>(0,$.e)(u,h):Et.D));return a?d.pipe((0,o.I)(a)):d}function w(_,i,a){_?(0,b.N)(a,_,i):i()}},8793:(Dr,rr,_e)=>{"use strict";_e.d(rr,{x:()=>o});var M=_e(6365),et=_e(9326),Et=_e(6648);function o(...ie){return function A(){return(0,M.U)(1)}()((0,Et.H)(ie,(0,et.lI)(ie)))}},9030:(Dr,rr,_e)=>{"use strict";_e.d(rr,{v:()=>et});var M=_e(1985),A=_e(8750);function et(Et){return new M.c(o=>{(0,A.Tg)(Et()).subscribe(o)})}},983:(Dr,rr,_e)=>{"use strict";_e.d(rr,{w:()=>A});const A=new(_e(1985).c)(o=>o.complete())},6648:(Dr,rr,_e)=>{"use strict";_e.d(rr,{H:()=>H});var M=_e(8750),A=_e(5225),et=_e(9974),Et=_e(4360);function o(B,R=0){return(0,et.N)((P,k)=>{P.subscribe((0,Et._)(k,T=>(0,A.N)(k,B,()=>k.next(T),R),()=>(0,A.N)(k,B,()=>k.complete(),R),T=>(0,A.N)(k,B,()=>k.error(T),R)))})}function ie(B,R=0){return(0,et.N)((P,k)=>{k.add(B.schedule(()=>P.subscribe(k),R))})}var b=_e(1985),m=_e(4761),w=_e(8071);function i(B,R){if(!B)throw new Error("Iterable cannot be null");return new b.c(P=>{(0,A.N)(P,R,()=>{const k=B[Symbol.asyncIterator]();(0,A.N)(P,R,()=>{k.next().then(T=>{T.done?P.complete():P.next(T.value)})},0,!0)})})}var a=_e(5055),l=_e(7477),u=_e(7441),d=_e(5397),h=_e(7953),g=_e(591),p=_e(5196);function H(B,R){return R?function C(B,R){if(null!=B){if((0,a.l)(B))return function $(B,R){return(0,M.Tg)(B).pipe(ie(R),o(R))}(B,R);if((0,u.X)(B))return function f(B,R){return new b.c(P=>{let k=0;return R.schedule(function(){k===B.length?P.complete():(P.next(B[k++]),P.closed||this.schedule())})})}(B,R);if((0,l.y)(B))return function v(B,R){return(0,M.Tg)(B).pipe(ie(R),o(R))}(B,R);if((0,h.T)(B))return i(B,R);if((0,d.x)(B))return function _(B,R){return new b.c(P=>{let k;return(0,A.N)(P,R,()=>{k=B[m.l](),(0,A.N)(P,R,()=>{let T,N;try{({value:T,done:N}=k.next())}catch(j){return void P.error(j)}N?P.complete():P.next(T)},0,!0)}),()=>(0,w.T)(null==k?void 0:k.return)&&k.return()})}(B,R);if((0,p.U)(B))return function y(B,R){return i((0,p.C)(B),R)}(B,R)}throw(0,g.L)(B)}(B,R):(0,M.Tg)(B)}},3726:(Dr,rr,_e)=>{"use strict";_e.d(rr,{R:()=>f});var M=_e(8750),A=_e(1985),et=_e(1397),Et=_e(7441),o=_e(8071),ie=_e(6450);const $=["addListener","removeListener"],v=["addEventListener","removeEventListener"],b=["on","off"];function f(a,l,u,d){if((0,o.T)(u)&&(d=u,u=void 0),d)return f(a,l,u).pipe((0,ie.I)(d));const[h,g]=function i(a){return(0,o.T)(a.addEventListener)&&(0,o.T)(a.removeEventListener)}(a)?v.map(p=>y=>a[p](l,y,u)):function w(a){return(0,o.T)(a.addListener)&&(0,o.T)(a.removeListener)}(a)?$.map(m(a,l)):function _(a){return(0,o.T)(a.on)&&(0,o.T)(a.off)}(a)?b.map(m(a,l)):[];if(!h&&(0,Et.X)(a))return(0,et.Z)(p=>f(p,l,u))((0,M.Tg)(a));if(!h)throw new TypeError("Invalid event target");return new A.c(p=>{const y=(...C)=>p.next(1<C.length?C:C[0]);return h(y),()=>g(y)})}function m(a,l){return u=>d=>a[u](l,d)}},8750:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Tg:()=>_});var M=_e(1635),A=_e(7441),et=_e(7477),Et=_e(1985),o=_e(5055),ie=_e(7953),$=_e(591),v=_e(5397),b=_e(5196),f=_e(8071),m=_e(5334),w=_e(3494);function _(p){if(p instanceof Et.c)return p;if(null!=p){if((0,o.l)(p))return function i(p){return new Et.c(y=>{const C=p[w.s]();if((0,f.T)(C.subscribe))return C.subscribe(y);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,A.X)(p))return function a(p){return new Et.c(y=>{for(let C=0;C<p.length&&!y.closed;C++)y.next(p[C]);y.complete()})}(p);if((0,et.y)(p))return function l(p){return new Et.c(y=>{p.then(C=>{y.closed||(y.next(C),y.complete())},C=>y.error(C)).then(null,m.m)})}(p);if((0,ie.T)(p))return d(p);if((0,v.x)(p))return function u(p){return new Et.c(y=>{for(const C of p)if(y.next(C),y.closed)return;y.complete()})}(p);if((0,b.U)(p))return function h(p){return d((0,b.C)(p))}(p)}throw(0,$.L)(p)}function d(p){return new Et.c(y=>{(function g(p,y){var C,H,B,R;return(0,M.sH)(this,void 0,void 0,function*(){try{for(C=(0,M.xN)(p);!(H=yield C.next()).done;)if(y.next(H.value),y.closed)return}catch(P){B={error:P}}finally{try{H&&!H.done&&(R=C.return)&&(yield R.call(C))}finally{if(B)throw B.error}}y.complete()})})(p,y).catch(C=>y.error(C))})}},7673:(Dr,rr,_e)=>{"use strict";_e.d(rr,{of:()=>et});var M=_e(9326),A=_e(6648);function et(...Et){const o=(0,M.lI)(Et);return(0,A.H)(Et,o)}},8810:(Dr,rr,_e)=>{"use strict";_e.d(rr,{$:()=>et});var M=_e(1985),A=_e(8071);function et(Et,o){const ie=(0,A.T)(Et)?Et:()=>Et,$=v=>v.error(ie());return new M.c(o?v=>o.schedule($,0,v):$)}},4360:(Dr,rr,_e)=>{"use strict";_e.d(rr,{_:()=>A});var M=_e(7707);function A(Et,o,ie,$,v){return new et(Et,o,ie,$,v)}class et extends M.vU{constructor(o,ie,$,v,b,f){super(o),this.onFinalize=b,this.shouldUnsubscribe=f,this._next=ie?function(m){try{ie(m)}catch(w){o.error(w)}}:super._next,this._error=v?function(m){try{v(m)}catch(w){o.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=$?function(){try{$()}catch(m){o.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(Dr,rr,_e)=>{"use strict";_e.d(rr,{p:()=>et});var M=_e(9974),A=_e(4360);function et(Et,o){return(0,M.N)((ie,$)=>{let v=0;ie.subscribe((0,A._)($,b=>Et.call(o,b,v++)&&$.next(b)))})}},6354:(Dr,rr,_e)=>{"use strict";_e.d(rr,{T:()=>et});var M=_e(9974),A=_e(4360);function et(Et,o){return(0,M.N)((ie,$)=>{let v=0;ie.subscribe((0,A._)($,b=>{$.next(Et.call(o,b,v++))}))})}},3703:(Dr,rr,_e)=>{"use strict";_e.d(rr,{u:()=>A});var M=_e(6354);function A(et){return(0,M.T)(()=>et)}},6365:(Dr,rr,_e)=>{"use strict";_e.d(rr,{U:()=>et});var M=_e(1397),A=_e(3669);function et(Et=1/0){return(0,M.Z)(A.D,Et)}},1397:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Z:()=>v});var M=_e(6354),A=_e(8750),et=_e(9974),Et=_e(5225),o=_e(4360),$=_e(8071);function v(b,f,m=1/0){return(0,$.T)(f)?v((w,_)=>(0,M.T)((i,a)=>f(w,i,_,a))((0,A.Tg)(b(w,_))),m):("number"==typeof f&&(m=f),(0,et.N)((w,_)=>function ie(b,f,m,w,_,i,a,l){const u=[];let d=0,h=0,g=!1;const p=()=>{g&&!u.length&&!d&&f.complete()},y=H=>d<w?C(H):u.push(H),C=H=>{i&&f.next(H),d++;let B=!1;(0,A.Tg)(m(H,h++)).subscribe((0,o._)(f,R=>{null==_||_(R),i?y(R):f.next(R)},()=>{B=!0},void 0,()=>{if(B)try{for(d--;u.length&&d<w;){const R=u.shift();a?(0,Et.N)(f,a,()=>C(R)):C(R)}p()}catch(R){f.error(R)}}))};return b.subscribe((0,o._)(f,y,()=>{g=!0,p()})),()=>{null==l||l()}}(w,_,b,m)))}},9898:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>et});var M=_e(9974),A=_e(4360);function et(){return(0,M.N)((Et,o)=>{let ie=null;Et._refCount++;const $=(0,A._)(o,void 0,void 0,void 0,()=>{if(!Et||Et._refCount<=0||0<--Et._refCount)return void(ie=null);const v=Et._connection,b=ie;ie=null,v&&(!b||v===b)&&v.unsubscribe(),o.unsubscribe()});Et.subscribe($),$.closed||(ie=Et.connect())})}},5558:(Dr,rr,_e)=>{"use strict";_e.d(rr,{n:()=>Et});var M=_e(8750),A=_e(9974),et=_e(4360);function Et(o,ie){return(0,A.N)(($,v)=>{let b=null,f=0,m=!1;const w=()=>m&&!b&&v.complete();$.subscribe((0,et._)(v,_=>{null==b||b.unsubscribe();let i=0;const a=f++;(0,M.Tg)(o(_,a)).subscribe(b=(0,et._)(v,l=>v.next(ie?ie(_,l,a,i++):l),()=>{b=null,w()}))},()=>{m=!0,w()}))})}},6697:(Dr,rr,_e)=>{"use strict";_e.d(rr,{s:()=>Et});var M=_e(983),A=_e(9974),et=_e(4360);function Et(o){return o<=0?()=>M.w:(0,A.N)((ie,$)=>{let v=0;ie.subscribe((0,et._)($,b=>{++v<=o&&($.next(b),o<=v&&$.complete())}))})}},8141:(Dr,rr,_e)=>{"use strict";_e.d(rr,{M:()=>o});var M=_e(8071),A=_e(9974),et=_e(4360),Et=_e(3669);function o(ie,$,v){const b=(0,M.T)(ie)||$||v?{next:ie,error:$,complete:v}:ie;return b?(0,A.N)((f,m)=>{var w;null===(w=b.subscribe)||void 0===w||w.call(b);let _=!0;f.subscribe((0,et._)(m,i=>{var a;null===(a=b.next)||void 0===a||a.call(b,i),m.next(i)},()=>{var i;_=!1,null===(i=b.complete)||void 0===i||i.call(b),m.complete()},i=>{var a;_=!1,null===(a=b.error)||void 0===a||a.call(b,i),m.error(i)},()=>{var i,a;_&&(null===(i=b.unsubscribe)||void 0===i||i.call(b)),null===(a=b.finalize)||void 0===a||a.call(b)}))}):Et.D}},9270:(Dr,rr,_e)=>{"use strict";_e.d(rr,{f:()=>M});const M={setTimeout(A,et,...Et){const{delegate:o}=M;return null!=o&&o.setTimeout?o.setTimeout(A,et,...Et):setTimeout(A,et,...Et)},clearTimeout(A){const{delegate:et}=M;return((null==et?void 0:et.clearTimeout)||clearTimeout)(A)},delegate:void 0}},4761:(Dr,rr,_e)=>{"use strict";_e.d(rr,{l:()=>A});const A=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Dr,rr,_e)=>{"use strict";_e.d(rr,{s:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Dr,rr,_e)=>{"use strict";_e.d(rr,{R0:()=>ie,lI:()=>o,ms:()=>Et});var M=_e(8071),A=_e(9470);function et($){return $[$.length-1]}function Et($){return(0,M.T)(et($))?$.pop():void 0}function o($){return(0,A.m)(et($))?$.pop():void 0}function ie($,v){return"number"==typeof et($)?$.pop():v}},3073:(Dr,rr,_e)=>{"use strict";_e.d(rr,{D:()=>o});const{isArray:M}=Array,{getPrototypeOf:A,prototype:et,keys:Et}=Object;function o($){if(1===$.length){const v=$[0];if(M(v))return{args:v,keys:null};if(function ie($){return $&&"object"==typeof $&&A($)===et}(v)){const b=Et(v);return{args:b.map(f=>v[f]),keys:b}}}return{args:$,keys:null}}},7908:(Dr,rr,_e)=>{"use strict";function M(A,et){if(A){const Et=A.indexOf(et);0<=Et&&A.splice(Et,1)}}_e.d(rr,{o:()=>M})},1853:(Dr,rr,_e)=>{"use strict";function M(A){const Et=A(o=>{Error.call(o),o.stack=(new Error).stack});return Et.prototype=Object.create(Error.prototype),Et.prototype.constructor=Et,Et}_e.d(rr,{L:()=>M})},8496:(Dr,rr,_e)=>{"use strict";function M(A,et){return A.reduce((Et,o,ie)=>(Et[o]=et[ie],Et),{})}_e.d(rr,{e:()=>M})},9786:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Y:()=>et,l:()=>Et});var M=_e(1026);let A=null;function et(o){if(M.$.useDeprecatedSynchronousErrorHandling){const ie=!A;if(ie&&(A={errorThrown:!1,error:null}),o(),ie){const{errorThrown:$,error:v}=A;if(A=null,$)throw v}}else o()}function Et(o){M.$.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=o)}},5225:(Dr,rr,_e)=>{"use strict";function M(A,et,Et,o=0,ie=!1){const $=et.schedule(function(){Et(),ie?A.add(this.schedule(null,o)):this.unsubscribe()},o);if(A.add($),!ie)return $}_e.d(rr,{N:()=>M})},3669:(Dr,rr,_e)=>{"use strict";function M(A){return A}_e.d(rr,{D:()=>M})},7441:(Dr,rr,_e)=>{"use strict";_e.d(rr,{X:()=>M});const M=A=>A&&"number"==typeof A.length&&"function"!=typeof A},7953:(Dr,rr,_e)=>{"use strict";_e.d(rr,{T:()=>A});var M=_e(8071);function A(et){return Symbol.asyncIterator&&(0,M.T)(null==et?void 0:et[Symbol.asyncIterator])}},8071:(Dr,rr,_e)=>{"use strict";function M(A){return"function"==typeof A}_e.d(rr,{T:()=>M})},5055:(Dr,rr,_e)=>{"use strict";_e.d(rr,{l:()=>et});var M=_e(3494),A=_e(8071);function et(Et){return(0,A.T)(Et[M.s])}},5397:(Dr,rr,_e)=>{"use strict";_e.d(rr,{x:()=>et});var M=_e(4761),A=_e(8071);function et(Et){return(0,A.T)(null==Et?void 0:Et[M.l])}},7477:(Dr,rr,_e)=>{"use strict";_e.d(rr,{y:()=>A});var M=_e(8071);function A(et){return(0,M.T)(null==et?void 0:et.then)}},5196:(Dr,rr,_e)=>{"use strict";_e.d(rr,{C:()=>et,U:()=>Et});var M=_e(1635),A=_e(8071);function et(o){return(0,M.AQ)(this,arguments,function*(){const $=o.getReader();try{for(;;){const{value:v,done:b}=yield(0,M.N3)($.read());if(b)return yield(0,M.N3)(void 0);yield yield(0,M.N3)(v)}}finally{$.releaseLock()}})}function Et(o){return(0,A.T)(null==o?void 0:o.getReader)}},9470:(Dr,rr,_e)=>{"use strict";_e.d(rr,{m:()=>A});var M=_e(8071);function A(et){return et&&(0,M.T)(et.schedule)}},9974:(Dr,rr,_e)=>{"use strict";_e.d(rr,{N:()=>et,S:()=>A});var M=_e(8071);function A(Et){return(0,M.T)(null==Et?void 0:Et.lift)}function et(Et){return o=>{if(A(o))return o.lift(function(ie){try{return Et(ie,this)}catch($){this.error($)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Dr,rr,_e)=>{"use strict";_e.d(rr,{I:()=>Et});var M=_e(6354);const{isArray:A}=Array;function Et(o){return(0,M.T)(ie=>function et(o,ie){return A(ie)?o(...ie):o(ie)}(o,ie))}},5343:(Dr,rr,_e)=>{"use strict";function M(){}_e.d(rr,{l:()=>M})},1203:(Dr,rr,_e)=>{"use strict";_e.d(rr,{F:()=>A,m:()=>et});var M=_e(3669);function A(...Et){return et(Et)}function et(Et){return 0===Et.length?M.D:1===Et.length?Et[0]:function(ie){return Et.reduce(($,v)=>v($),ie)}}},5334:(Dr,rr,_e)=>{"use strict";_e.d(rr,{m:()=>et});var M=_e(1026),A=_e(9270);function et(Et){A.f.setTimeout(()=>{const{onUnhandledError:o}=M.$;if(!o)throw Et;o(Et)})}},591:(Dr,rr,_e)=>{"use strict";function M(A){return new TypeError(`You provided ${null!==A&&"object"==typeof A?"an invalid object":`'${A}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_e.d(rr,{L:()=>M})},8996:(Dr,rr,_e)=>{var M={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function A(et){if(!_e.o(M,et))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+et+"'");throw ie.code="MODULE_NOT_FOUND",ie});var Et=M[et],o=Et[0];return Promise.all(Et.slice(1).map(_e.e)).then(()=>_e(o))}A.keys=()=>Object.keys(M),A.id=8996,Dr.exports=A},5235:(Dr,rr,_e)=>{var M={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function A(et){if(!_e.o(M,et))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+et+"'");throw ie.code="MODULE_NOT_FOUND",ie});var Et=M[et],o=Et[0];return _e.e(Et[1]).then(()=>_e(o))}A.keys=()=>Object.keys(M),A.id=5235,Dr.exports=A},4633:(Dr,rr,_e)=>{var M=_e(3738).default;function A(){"use strict";Dr.exports=A=function(){return Et},Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports;var et,Et={},o=Object.prototype,ie=o.hasOwnProperty,$=Object.defineProperty||function(te,W,G){te[W]=G.value},v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",f=v.asyncIterator||"@@asyncIterator",m=v.toStringTag||"@@toStringTag";function w(te,W,G){return Object.defineProperty(te,W,{value:G,enumerable:!0,configurable:!0,writable:!0}),te[W]}try{w({},"")}catch{w=function(G,Y,le){return G[Y]=le}}function _(te,W,G,Y){var Me=Object.create((W&&W.prototype instanceof g?W:g).prototype),K=new ee(Y||[]);return $(Me,"_invoke",{value:T(te,G,K)}),Me}function i(te,W,G){try{return{type:"normal",arg:te.call(W,G)}}catch(Y){return{type:"throw",arg:Y}}}Et.wrap=_;var a="suspendedStart",l="suspendedYield",u="executing",d="completed",h={};function g(){}function p(){}function y(){}var C={};w(C,b,function(){return this});var H=Object.getPrototypeOf,B=H&&H(H(z([])));B&&B!==o&&ie.call(B,b)&&(C=B);var R=y.prototype=g.prototype=Object.create(C);function P(te){["next","throw","return"].forEach(function(W){w(te,W,function(G){return this._invoke(W,G)})})}function k(te,W){function G(le,Me,K,O){var oe=i(te[le],te,Me);if("throw"!==oe.type){var me=oe.arg,Se=me.value;return Se&&"object"==M(Se)&&ie.call(Se,"__await")?W.resolve(Se.__await).then(function(Ue){G("next",Ue,K,O)},function(Ue){G("throw",Ue,K,O)}):W.resolve(Se).then(function(Ue){me.value=Ue,K(me)},function(Ue){return G("throw",Ue,K,O)})}O(oe.arg)}var Y;$(this,"_invoke",{value:function(Me,K){function O(){return new W(function(oe,me){G(Me,K,oe,me)})}return Y=Y?Y.then(O,O):O()}})}function T(te,W,G){var Y=a;return function(le,Me){if(Y===u)throw Error("Generator is already running");if(Y===d){if("throw"===le)throw Me;return{value:et,done:!0}}for(G.method=le,G.arg=Me;;){var K=G.delegate;if(K){var O=N(K,G);if(O){if(O===h)continue;return O}}if("next"===G.method)G.sent=G._sent=G.arg;else if("throw"===G.method){if(Y===a)throw Y=d,G.arg;G.dispatchException(G.arg)}else"return"===G.method&&G.abrupt("return",G.arg);Y=u;var oe=i(te,W,G);if("normal"===oe.type){if(Y=G.done?d:l,oe.arg===h)continue;return{value:oe.arg,done:G.done}}"throw"===oe.type&&(Y=d,G.method="throw",G.arg=oe.arg)}}}function N(te,W){var G=W.method,Y=te.iterator[G];if(Y===et)return W.delegate=null,"throw"===G&&te.iterator.return&&(W.method="return",W.arg=et,N(te,W),"throw"===W.method)||"return"!==G&&(W.method="throw",W.arg=new TypeError("The iterator does not provide a '"+G+"' method")),h;var le=i(Y,te.iterator,W.arg);if("throw"===le.type)return W.method="throw",W.arg=le.arg,W.delegate=null,h;var Me=le.arg;return Me?Me.done?(W[te.resultName]=Me.value,W.next=te.nextLoc,"return"!==W.method&&(W.method="next",W.arg=et),W.delegate=null,h):Me:(W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,h)}function j(te){var W={tryLoc:te[0]};1 in te&&(W.catchLoc=te[1]),2 in te&&(W.finallyLoc=te[2],W.afterLoc=te[3]),this.tryEntries.push(W)}function Z(te){var W=te.completion||{};W.type="normal",delete W.arg,te.completion=W}function ee(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(j,this),this.reset(!0)}function z(te){if(te||""===te){var W=te[b];if(W)return W.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length)){var G=-1,Y=function le(){for(;++G<te.length;)if(ie.call(te,G))return le.value=te[G],le.done=!1,le;return le.value=et,le.done=!0,le};return Y.next=Y}}throw new TypeError(M(te)+" is not iterable")}return p.prototype=y,$(R,"constructor",{value:y,configurable:!0}),$(y,"constructor",{value:p,configurable:!0}),p.displayName=w(y,m,"GeneratorFunction"),Et.isGeneratorFunction=function(te){var W="function"==typeof te&&te.constructor;return!!W&&(W===p||"GeneratorFunction"===(W.displayName||W.name))},Et.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,y):(te.__proto__=y,w(te,m,"GeneratorFunction")),te.prototype=Object.create(R),te},Et.awrap=function(te){return{__await:te}},P(k.prototype),w(k.prototype,f,function(){return this}),Et.AsyncIterator=k,Et.async=function(te,W,G,Y,le){void 0===le&&(le=Promise);var Me=new k(_(te,W,G,Y),le);return Et.isGeneratorFunction(W)?Me:Me.next().then(function(K){return K.done?K.value:Me.next()})},P(R),w(R,m,"Generator"),w(R,b,function(){return this}),w(R,"toString",function(){return"[object Generator]"}),Et.keys=function(te){var W=Object(te),G=[];for(var Y in W)G.push(Y);return G.reverse(),function le(){for(;G.length;){var Me=G.pop();if(Me in W)return le.value=Me,le.done=!1,le}return le.done=!0,le}},Et.values=z,ee.prototype={constructor:ee,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=et,this.done=!1,this.delegate=null,this.method="next",this.arg=et,this.tryEntries.forEach(Z),!W)for(var G in this)"t"===G.charAt(0)&&ie.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=et)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if("throw"===W.type)throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var G=this;function Y(me,Se){return K.type="throw",K.arg=W,G.next=me,Se&&(G.method="next",G.arg=et),!!Se}for(var le=this.tryEntries.length-1;le>=0;--le){var Me=this.tryEntries[le],K=Me.completion;if("root"===Me.tryLoc)return Y("end");if(Me.tryLoc<=this.prev){var O=ie.call(Me,"catchLoc"),oe=ie.call(Me,"finallyLoc");if(O&&oe){if(this.prev<Me.catchLoc)return Y(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return Y(Me.finallyLoc)}else if(O){if(this.prev<Me.catchLoc)return Y(Me.catchLoc,!0)}else{if(!oe)throw Error("try statement without catch or finally");if(this.prev<Me.finallyLoc)return Y(Me.finallyLoc)}}}},abrupt:function(W,G){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var le=this.tryEntries[Y];if(le.tryLoc<=this.prev&&ie.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var Me=le;break}}Me&&("break"===W||"continue"===W)&&Me.tryLoc<=G&&G<=Me.finallyLoc&&(Me=null);var K=Me?Me.completion:{};return K.type=W,K.arg=G,Me?(this.method="next",this.next=Me.finallyLoc,h):this.complete(K)},complete:function(W,G){if("throw"===W.type)throw W.arg;return"break"===W.type||"continue"===W.type?this.next=W.arg:"return"===W.type?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):"normal"===W.type&&G&&(this.next=G),h},finish:function(W){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.finallyLoc===W)return this.complete(Y.completion,Y.afterLoc),Z(Y),h}},catch:function(W){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.tryLoc===W){var le=Y.completion;if("throw"===le.type){var Me=le.arg;Z(Y)}return Me}}throw Error("illegal catch attempt")},delegateYield:function(W,G,Y){return this.delegate={iterator:z(W),resultName:G,nextLoc:Y},"next"===this.method&&(this.arg=et),h}},Et}Dr.exports=A,Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports},3738:Dr=>{function rr(_e){return Dr.exports=rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports,rr(_e)}Dr.exports=rr,Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports},4756:(Dr,rr,_e)=>{var M=_e(4633)();Dr.exports=M;try{regeneratorRuntime=M}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=M:Function("r","regeneratorRuntime = r")(M)}},177:(Dr,rr,_e)=>{"use strict";_e.d(rr,{AJ:()=>Kt,MD:()=>Zt,N0:()=>pn,QT:()=>et,Sm:()=>l,Sq:()=>vr,T3:()=>No,UE:()=>Er,VF:()=>o,Vy:()=>Cr,Xr:()=>Ur,ZD:()=>Et,_b:()=>je,aZ:()=>d,bT:()=>nn,fw:()=>u,hb:()=>i,hj:()=>b,qQ:()=>$});var M=_e(3953);let A=null;function et(){return A}function Et(ce){var Oe;null!==(Oe=A)&&void 0!==Oe||(A=ce)}class o{}const $=new M.nKC("");let v=(()=>{var ce;class Oe{historyGo(Ae){throw new Error("")}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>(0,M.WQX)(f),providedIn:"platform"}),Oe})();const b=new M.nKC("");let f=(()=>{var ce;class Oe extends v{constructor(){super(),this._doc=(0,M.WQX)($),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return et().getBaseHref(this._doc)}onPopState(Ae){const it=et().getGlobalEventTarget(this._doc,"window");return it.addEventListener("popstate",Ae,!1),()=>it.removeEventListener("popstate",Ae)}onHashChange(Ae){const it=et().getGlobalEventTarget(this._doc,"window");return it.addEventListener("hashchange",Ae,!1),()=>it.removeEventListener("hashchange",Ae)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ae){this._location.pathname=Ae}pushState(Ae,it,At){this._history.pushState(Ae,it,At)}replaceState(Ae,it,At){this._history.replaceState(Ae,it,At)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ae=0){this._history.go(Ae)}getState(){return this._history.state}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>new ce,providedIn:"platform"}),Oe})();function m(ce,Oe){if(0==ce.length)return Oe;if(0==Oe.length)return ce;let wt=0;return ce.endsWith("/")&&wt++,Oe.startsWith("/")&&wt++,2==wt?ce+Oe.substring(1):1==wt?ce+Oe:ce+"/"+Oe}function w(ce){const Oe=ce.match(/#|\?|$/),wt=Oe&&Oe.index||ce.length;return ce.slice(0,wt-("/"===ce[wt-1]?1:0))+ce.slice(wt)}function _(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let i=(()=>{var ce;class Oe{historyGo(Ae){throw new Error("")}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>(0,M.WQX)(l),providedIn:"root"}),Oe})();const a=new M.nKC("");let l=(()=>{var ce;class Oe extends i{constructor(Ae,it){var At,pr,Ir;super(),this._platformLocation=Ae,this._removeListenerFns=[],this._baseHref=null!==(At=null!==(pr=null!=it?it:this._platformLocation.getBaseHrefFromDOM())&&void 0!==pr?pr:null===(Ir=(0,M.WQX)($).location)||void 0===Ir?void 0:Ir.origin)&&void 0!==At?At:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ae){return m(this._baseHref,Ae)}path(Ae=!1){const it=this._platformLocation.pathname+_(this._platformLocation.search),At=this._platformLocation.hash;return At&&Ae?`${it}${At}`:it}pushState(Ae,it,At,pr){const Ir=this.prepareExternalUrl(At+_(pr));this._platformLocation.pushState(Ae,it,Ir)}replaceState(Ae,it,At,pr){const Ir=this.prepareExternalUrl(At+_(pr));this._platformLocation.replaceState(Ae,it,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){var it,At;null===(it=(At=this._platformLocation).historyGo)||void 0===it||it.call(At,Ae)}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)(M.KVO(v),M.KVO(a,8))},ce.\u0275prov=M.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Oe})(),u=(()=>{var ce;class Oe extends i{constructor(Ae,it){super(),this._platformLocation=Ae,this._baseHref="",this._removeListenerFns=[],null!=it&&(this._baseHref=it)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}path(Ae=!1){var it;const At=null!==(it=this._platformLocation.hash)&&void 0!==it?it:"#";return At.length>0?At.substring(1):At}prepareExternalUrl(Ae){const it=m(this._baseHref,Ae);return it.length>0?"#"+it:it}pushState(Ae,it,At,pr){let Ir=this.prepareExternalUrl(At+_(pr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.pushState(Ae,it,Ir)}replaceState(Ae,it,At,pr){let Ir=this.prepareExternalUrl(At+_(pr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.replaceState(Ae,it,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){var it,At;null===(it=(At=this._platformLocation).historyGo)||void 0===it||it.call(At,Ae)}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)(M.KVO(v),M.KVO(a,8))},ce.\u0275prov=M.jDH({token:ce,factory:ce.\u0275fac}),Oe})(),d=(()=>{var ce;class Oe{constructor(Ae){this._subject=new M.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ae;const it=this._locationStrategy.getBaseHref();this._basePath=function y(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,wt]=ce.split(/\/\/[^\/]+/);return wt}return ce}(w(p(it))),this._locationStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}ngOnDestroy(){var Ae;null===(Ae=this._urlChangeSubscription)||void 0===Ae||Ae.unsubscribe(),this._urlChangeListeners=[]}path(Ae=!1){return this.normalize(this._locationStrategy.path(Ae))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ae,it=""){return this.path()==this.normalize(Ae+_(it))}normalize(Ae){return Oe.stripTrailingSlash(function g(ce,Oe){if(!ce||!Oe.startsWith(ce))return Oe;const wt=Oe.substring(ce.length);return""===wt||["/",";","?","#"].includes(wt[0])?wt:Oe}(this._basePath,p(Ae)))}prepareExternalUrl(Ae){return Ae&&"/"!==Ae[0]&&(Ae="/"+Ae),this._locationStrategy.prepareExternalUrl(Ae)}go(Ae,it="",At=null){this._locationStrategy.pushState(At,"",Ae,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+_(it)),At)}replaceState(Ae,it="",At=null){this._locationStrategy.replaceState(At,"",Ae,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+_(it)),At)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ae=0){var it,At;null===(it=(At=this._locationStrategy).historyGo)||void 0===it||it.call(At,Ae)}onUrlChange(Ae){var it;return this._urlChangeListeners.push(Ae),null!==(it=this._urlChangeSubscription)&&void 0!==it||(this._urlChangeSubscription=this.subscribe(At=>{this._notifyUrlChangeListeners(At.url,At.state)})),()=>{const At=this._urlChangeListeners.indexOf(Ae);var pr;this._urlChangeListeners.splice(At,1),0===this._urlChangeListeners.length&&(null===(pr=this._urlChangeSubscription)||void 0===pr||pr.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ae="",it){this._urlChangeListeners.forEach(At=>At(Ae,it))}subscribe(Ae,it,At){return this._subject.subscribe({next:Ae,error:it,complete:At})}}return(ce=Oe).normalizeQueryParams=_,ce.joinWithSlash=m,ce.stripTrailingSlash=w,ce.\u0275fac=function(Ae){return new(Ae||ce)(M.KVO(i))},ce.\u0275prov=M.jDH({token:ce,factory:()=>function h(){return new d((0,M.KVO)(i))}(),providedIn:"root"}),Oe})();function p(ce){return ce.replace(/\/index.html$/,"")}function je(ce,Oe){Oe=encodeURIComponent(Oe);for(const wt of ce.split(";")){const Ae=wt.indexOf("="),[it,At]=-1==Ae?[wt,""]:[wt.slice(0,Ae),wt.slice(Ae+1)];if(it.trim()===Oe)return decodeURIComponent(At)}return null}class ur{constructor(Oe,wt,Ae,it){this.$implicit=Oe,this.ngForOf=wt,this.index=Ae,this.count=it}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{var ce;class Oe{set ngForOf(Ae){this._ngForOf=Ae,this._ngForOfDirty=!0}set ngForTrackBy(Ae){this._trackByFn=Ae}get ngForTrackBy(){return this._trackByFn}constructor(Ae,it,At){this._viewContainer=Ae,this._template=it,this._differs=At,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ae){Ae&&(this._template=Ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ae=this._ngForOf;!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create(this.ngForTrackBy))}if(this._differ){const Ae=this._differ.diff(this._ngForOf);Ae&&this._applyChanges(Ae)}}_applyChanges(Ae){const it=this._viewContainer;Ae.forEachOperation((At,pr,Ir)=>{if(null==At.previousIndex)it.createEmbeddedView(this._template,new ur(At.item,this._ngForOf,-1,-1),null===Ir?void 0:Ir);else if(null==Ir)it.remove(null===pr?void 0:pr);else if(null!==pr){const on=it.get(pr);it.move(on,Ir),Pr(on,At)}});for(let At=0,pr=it.length;At<pr;At++){const on=it.get(At).context;on.index=At,on.count=pr,on.ngForOf=this._ngForOf}Ae.forEachIdentityChange(At=>{Pr(it.get(At.currentIndex),At)})}static ngTemplateContextGuard(Ae,it){return!0}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)(M.rXU(M.c1b),M.rXU(M.C4Q),M.rXU(M._q3))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Oe})();function Pr(ce,Oe){ce.context.$implicit=Oe.item}let nn=(()=>{var ce;class Oe{constructor(Ae,it){this._viewContainer=Ae,this._context=new Nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=it}set ngIf(Ae){this._context.$implicit=this._context.ngIf=Ae,this._updateView()}set ngIfThen(Ae){Dn("ngIfThen",Ae),this._thenTemplateRef=Ae,this._thenViewRef=null,this._updateView()}set ngIfElse(Ae){Dn("ngIfElse",Ae),this._elseTemplateRef=Ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ae,it){return!0}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)(M.rXU(M.c1b),M.rXU(M.C4Q))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Oe})();class Nn{constructor(){this.$implicit=null,this.ngIf=null}}function Dn(ce,Oe){if(Oe&&!Oe.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,M.Tbb)(Oe)}'.`)}let No=(()=>{var ce;class Oe{constructor(Ae){this._viewContainerRef=Ae,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ae){if(this._shouldRecreateView(Ae)){var it;const At=this._viewContainerRef;if(this._viewRef&&At.remove(At.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pr=this._createContextForwardProxy();this._viewRef=At.createEmbeddedView(this.ngTemplateOutlet,pr,{injector:null!==(it=this.ngTemplateOutletInjector)&&void 0!==it?it:void 0})}}_shouldRecreateView(Ae){return!!Ae.ngTemplateOutlet||!!Ae.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ae,it,At)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,it,At),get:(Ae,it,At)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,it,At)}})}}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)(M.rXU(M.c1b))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M.OA$]}),Oe})(),Zt=(()=>{var ce;class Oe{}return(ce=Oe).\u0275fac=function(Ae){return new(Ae||ce)},ce.\u0275mod=M.$C({type:ce}),ce.\u0275inj=M.G2t({}),Oe})();const Kt="browser",mr="server";function Er(ce){return ce===Kt}function Cr(ce){return ce===mr}let Ur=(()=>{var ce;class Oe{}return(ce=Oe).\u0275prov=(0,M.jDH)({token:ce,providedIn:"root",factory:()=>Er((0,M.WQX)(M.Agw))?new Fr((0,M.WQX)($),window):new qr}),Oe})();class Fr{constructor(Oe,wt){this.document=Oe,this.window=wt,this.offset=()=>[0,0]}setOffset(Oe){this.offset=Array.isArray(Oe)?()=>Oe:Oe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Oe){this.window.scrollTo(Oe[0],Oe[1])}scrollToAnchor(Oe){const wt=function Gr(ce,Oe){const wt=ce.getElementById(Oe)||ce.getElementsByName(Oe)[0];if(wt)return wt;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Ae=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let it=Ae.currentNode;for(;it;){const At=it.shadowRoot;if(At){const pr=At.getElementById(Oe)||At.querySelector(`[name="${Oe}"]`);if(pr)return pr}it=Ae.nextNode()}}return null}(this.document,Oe);wt&&(this.scrollToElement(wt),wt.focus())}setHistoryScrollRestoration(Oe){this.window.history.scrollRestoration=Oe}scrollToElement(Oe){const wt=Oe.getBoundingClientRect(),Ae=wt.left+this.window.pageXOffset,it=wt.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(Ae-At[0],it-At[1])}}class qr{setOffset(Oe){}getScrollPosition(){return[0,0]}scrollToPosition(Oe){}scrollToAnchor(Oe){}setHistoryScrollRestoration(Oe){}}class pn{}},3953:(Dr,rr,_e)=>{"use strict";function M(t,r){return Object.is(t,r)}_e.d(rr,{iLQ:()=>Ad,sZ2:()=>Cc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ti,BIS:()=>aS,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Ss,aKT:()=>Hl,uvJ:()=>Us,zcH:()=>fi,bkB:()=>hi,$GK:()=>mn,nKC:()=>$r,zZn:()=>Bo,_q3:()=>om,MKu:()=>sm,xe9:()=>Id,Co$:()=>S0,Vns:()=>fa,SKi:()=>no,Xx1:()=>co,Agw:()=>Lh,PLl:()=>Xg,sFG:()=>nD,_9s:()=>Nf,czy:()=>Fc,WPN:()=>ia,kdw:()=>Ca,C4Q:()=>au,NYb:()=>sI,giA:()=>p1,RxE:()=>a1,c1b:()=>nd,gXe:()=>wi,mal:()=>Fv,L39:()=>bj,EWP:()=>wj,a0P:()=>Aj,Ol2:()=>Qf,w6W:()=>ZD,oH4:()=>D1,SmG:()=>SI,Rfq:()=>Gs,WQX:()=>kr,QuC:()=>fn,EmA:()=>si,fpN:()=>LI,HJs:()=>Mj,N4e:()=>bm,vPA:()=>o0,O8t:()=>Ej,H3F:()=>l1,zAP:()=>rw,H8p:()=>Jd,KH2:()=>_l,TgB:()=>oa,wOt:()=>Rr,WHO:()=>h1,e01:()=>f1,lNU:()=>kn,h9k:()=>gy,$MX:()=>Rc,ZF7:()=>Xa,Kcf:()=>TS,e5t:()=>jS,UyX:()=>MS,cWb:()=>AS,osQ:()=>IS,H5H:()=>Cp,mq5:()=>Cb,JZv:()=>zn,LfX:()=>vn,plB:()=>Ni,jNT:()=>Xp,zjR:()=>m1,TL$:()=>sS,Tbb:()=>Xn,rcV:()=>Ti,Vt3:()=>Yf,GFd:()=>E0,OA$:()=>ih,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>hp,AVh:()=>vp,wni:()=>u_,VBU:()=>we,FsC:()=>or,jDH:()=>Lr,G2t:()=>Wr,$C:()=>tt,EJ8:()=>_r,rXU:()=>Ya,nrm:()=>Sp,eu8:()=>xp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Eb,xGo:()=>hg,KVO:()=>Yr,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Ap,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Qb,NAR:()=>Zb,Y8G:()=>gp,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Zh,n$t:()=>vy,Aen:()=>Zs,DNE:()=>tp,EFF:()=>S_,JRh:()=>Op,SpI:()=>Sd,Lme:()=>Pp,DH7:()=>O_,mxI:()=>kp,R50:()=>Rp,GBs:()=>c_});let A=null,et=!1,Et=1;const o=Symbol("SIGNAL");function ie(t){const r=A;return A=t,r}const f={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function m(t){if(et)throw new Error("");if(null===A)return;A.consumerOnSignalRead(t);const r=A.nextProducerIndex++;H(A),r<A.producerNode.length&&A.producerNode[r]!==t&&C(A)&&y(A.producerNode[r],A.producerIndexOfThis[r]),A.producerNode[r]!==t&&(A.producerNode[r]=t,A.producerIndexOfThis[r]=C(A)?p(t,A,r):0),A.producerLastReadVersion[r]=t.version}function _(t){if((!C(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Et)){if(!t.producerMustRecompute(t)&&!h(t))return t.dirty=!1,void(t.lastCleanEpoch=Et);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Et}}function i(t){if(void 0===t.liveConsumerNode)return;const r=et;et=!0;try{for(const n of t.liveConsumerNode)n.dirty||l(n)}finally{et=r}}function a(){var t;return!1!==(null===(t=A)||void 0===t?void 0:t.consumerAllowSignalWrites)}function l(t){var r;t.dirty=!0,i(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function u(t){return t&&(t.nextProducerIndex=0),ie(t)}function d(t,r){if(ie(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(C(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)y(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function h(t){H(t);for(let r=0;r<t.producerNode.length;r++){const n=t.producerNode[r],s=t.producerLastReadVersion[r];if(s!==n.version||(_(n),s!==n.version))return!0}return!1}function g(t){if(H(t),C(t))for(let r=0;r<t.producerNode.length;r++)y(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function p(t,r,n){if(B(t),0===t.liveConsumerNode.length&&R(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=p(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(r)-1}function y(t,r){if(B(t),1===t.liveConsumerNode.length&&R(t))for(let s=0;s<t.producerNode.length;s++)y(t.producerNode[s],t.producerIndexOfThis[s]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];H(c),c.producerIndexOfThis[s]=r}}function C(t){var r,n;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}function H(t){var r,n,s;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}function B(t){var r,n;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}function R(t){return void 0!==t.producerNode}const k=Symbol("UNSET"),T=Symbol("COMPUTING"),N=Symbol("ERRORED"),j={...f,value:k,dirty:!0,error:null,equal:M,producerMustRecompute:t=>t.value===k||t.value===T,producerRecomputeValue(t){if(t.value===T)throw new Error("Detected cycle in computations.");const r=t.value;t.value=T;const n=u(t);let s;try{s=t.computation()}catch(c){s=N,t.error=c}finally{d(t,n)}r!==k&&r!==N&&s!==N&&t.equal(r,s)?t.value=r:(t.value=s,t.version++)}};let ee=function Z(){throw new Error};function z(){ee()}let W=null;function Me(t,r){a()||z(),t.equal(t.value,r)||(t.value=r,function me(t){var r;t.version++,function w(){Et++}(),i(t),null===(r=W)||void 0===r||r()}(t))}const oe={...f,equal:M,value:void 0};var _n,ze=_e(4412),st=_e(1413),at=_e(8359),Fe=_e(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const kn="https://g.co/ng/security#xss";class Rr extends Error{constructor(r,n){super(function go(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,n)),this.code=r}}function Bn(t){return{toString:t}.toString()}const Go="__parameters__";function bs(t,r,n){return Bn(()=>{const s=function Ps(t){return function(...n){if(t){const s=t(...n);for(const c in s)this[c]=s[c]}}}(r);function c(...x){if(this instanceof c)return s.apply(this,x),this;const L=new c(...x);return Q.annotation=L,Q;function Q(ue,xe,ke){const Ke=ue.hasOwnProperty(Go)?ue[Go]:Object.defineProperty(ue,Go,{value:[]})[Go];for(;Ke.length<=ke;)Ke.push(null);return(Ke[ke]=Ke[ke]||[]).push(L),ue}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const zn=globalThis;function En(t){for(let r in t)if(t[r]===En)return r;throw Error("Could not find renamed property on target object.")}function Rs(t,r){for(const n in r)r.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=r[n])}function Xn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function ks(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ws=En({__forward_ref__:En});function Gs(t){return t.__forward_ref__=Gs,t.toString=function(){return Xn(this())},t}function Hr(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(ws)&&t.__forward_ref__===Gs}function Lr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qr(t){return qn(t,Kn)||qn(t,Tn)}function vn(t){return null!==Qr(t)}function qn(t,r){return t.hasOwnProperty(r)?t[r]:null}function so(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Mn))?t[fo]:null}const Kn=En({\u0275prov:En}),fo=En({\u0275inj:En}),Tn=En({ngInjectableDef:En}),Mn=En({ngInjectorDef:En});class $r{constructor(r,n){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Lr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $i(t){return t&&!!t.\u0275providers}const vi=En({\u0275cmp:En}),wa=En({\u0275dir:En}),Vi=En({\u0275pipe:En}),Ea=En({\u0275mod:En}),Ns=En({\u0275fac:En}),oi=En({__NG_ELEMENT_ID__:En}),Sa=En({__NG_ENV_ID__:En});function an(t){return"string"==typeof t?t:null==t?"":String(t)}function Gi(t,r){throw new Rr(-201,!1)}var mn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mn||{});let Hs;function bi(){return Hs}function Io(t){const r=Hs;return Hs=t,r}function ds(t,r,n){const s=Qr(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&mn.Optional?null:void 0!==r?r:void Gi()}const ce={},Oe="__NG_DI_FLAG__",wt="ngTempTokenPath",it=/\n/gm,pr="__source";let Ir;function rn(t){const r=Ir;return Ir=t,r}function Cn(t,r=mn.Default){if(void 0===Ir)throw new Rr(-203,!1);return null===Ir?ds(t,void 0,r):Ir.get(t,r&mn.Optional?null:void 0,r)}function Yr(t,r=mn.Default){return(bi()||Cn)(Hr(t),r)}function kr(t,r=mn.Default){return Yr(t,Jn(r))}function Jn(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hs(t){const r=[];for(let n=0;n<t.length;n++){const s=Hr(t[n]);if(Array.isArray(s)){if(0===s.length)throw new Rr(900,!1);let c,x=mn.Default;for(let L=0;L<s.length;L++){const Q=s[L],ue=zs(Q);"number"==typeof ue?-1===ue?c=Q.token:x|=ue:c=Q}r.push(Yr(c,x))}else r.push(Yr(s))}return r}function po(t,r){return t[Oe]=r,t.prototype[Oe]=r,t}function zs(t){return t[Oe]}const co=po(bs("Optional"),8),Ca=po(bs("SkipSelf"),4);function _i(t,r){return t.hasOwnProperty(Ns)?t[Ns]:null}function ji(t,r){t.forEach(n=>Array.isArray(n)?ji(n,r):r(n))}function Gd(t,r,n){r>=t.length?t.push(n):t.splice(r,0,n)}function Ta(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ns(t,r,n){let s=zi(t,r);return s>=0?t[1|s]=n:(s=~s,function Cl(t,r,n,s){let c=t.length;if(c==r)t.push(n,s);else if(1===c)t.push(s,t[0]),t[0]=n;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=n,t[r+1]=s}}(t,s,r,n)),s}function zu(t,r){const n=zi(t,r);if(n>=0)return t[1|n]}function zi(t,r){return function Dl(t,r,n){let s=0,c=t.length>>n;for(;c!==s;){const x=s+(c-s>>1),L=t[x<<n];if(r===L)return x<<n;L>r?c=x:s=x+1}return~(c<<n)}(t,r,1)}const Es={},Sn=[],Ss=new $r(""),Wu=new $r("",-1),Xu=new $r("");class Wi{get(r,n=ce){if(n===ce){const s=new Error(`NullInjectorError: No provider for ${Xn(r)}!`);throw s.name="NullInjectorError",s}return n}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{}),Ei=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ei||{});function cm(t,r,n){let s=t.length;for(;;){const c=t.indexOf(r,n);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const x=r.length;if(c+x===s||t.charCodeAt(c+x)<=32)return c}n=c+1}}function Tl(t,r,n){let s=0;for(;s<n.length;){const c=n[s];if("number"==typeof c){if(0!==c)break;s++;const x=n[s++],L=n[s++],Q=n[s++];t.setAttribute(r,L,Q,x)}else{const x=c,L=n[++s];Hd(x)?t.setProperty(r,x,L):t.setAttribute(r,x,L),s++}}return s}function qu(t){return 3===t||4===t||6===t}function Hd(t){return 64===t.charCodeAt(0)}function Pi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let n=-1;for(let s=0;s<r.length;s++){const c=r[s];"number"==typeof c?n=c:0===n||Ku(t,n,c,null,-1===n||2===n?r[++s]:null)}}return t}function Ku(t,r,n,s,c){let x=0,L=t.length;if(-1===r)L=-1;else for(;x<t.length;){const Q=t[x++];if("number"==typeof Q){if(Q===r){L=-1;break}if(Q>r){L=x-1;break}}}for(;x<t.length;){const Q=t[x];if("number"==typeof Q)break;if(Q===n){if(null===s)return void(null!==c&&(t[x+1]=c));if(s===t[x+1])return void(t[x+2]=c)}x++,null!==s&&x++,null!==c&&x++}-1!==L&&(t.splice(L,0,r),x=L+1),t.splice(x++,0,n),null!==s&&t.splice(x++,0,s),null!==c&&t.splice(x++,0,c)}const Yu="ng-template";function zd(t,r,n,s){let c=0;if(s){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==cm(r[c+1].toLowerCase(),n,0))return!0}else if(Al(t))return!1;if(c=r.indexOf(1,c),c>-1){let x;for(;++c<r.length&&"string"==typeof(x=r[c]);)if(x.toLowerCase()===n)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Wd(t,r,n){return r===(4!==t.type||n?t.value:Yu)}function Xd(t,r,n){let s=4;const c=t.attrs,x=null!==c?function hm(t){for(let r=0;r<t.length;r++)if(qu(t[r]))return r;return t.length}(c):0;let L=!1;for(let Q=0;Q<r.length;Q++){const ue=r[Q];if("number"!=typeof ue){if(!L)if(4&s){if(s=2|1&s,""!==ue&&!Wd(t,ue,n)||""===ue&&1===r.length){if(xs(s))return!1;L=!0}}else if(8&s){if(null===c||!zd(t,c,ue,n)){if(xs(s))return!1;L=!0}}else{const xe=r[++Q],ke=Ju(ue,c,Al(t),n);if(-1===ke){if(xs(s))return!1;L=!0;continue}if(""!==xe){let Ke;if(Ke=ke>x?"":c[ke+1].toLowerCase(),2&s&&xe!==Ke){if(xs(s))return!1;L=!0}}}}else{if(!L&&!xs(s)&&!xs(ue))return!1;if(L&&xs(ue))continue;L=!1,s=ue|1&s}}return xs(s)||L}function xs(t){return!(1&t)}function Ju(t,r,n,s){if(null===r)return-1;let c=0;if(s||!n){let x=!1;for(;c<r.length;){const L=r[c];if(L===t)return c;if(3===L||6===L)x=!0;else{if(1===L||2===L){let Q=r[++c];for(;"string"==typeof Q;)Q=r[++c];continue}if(4===L)break;if(0===L){c+=4;continue}}c+=x?1:2}return-1}return function fm(t,r){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===r)return n;n++}return-1}(r,t)}function Zu(t,r,n=!1){for(let s=0;s<r.length;s++)if(Xd(t,r[s],n))return!0;return!1}function pm(t,r){e:for(let n=0;n<r.length;n++){const s=r[n];if(t.length===s.length){for(let c=0;c<t.length;c++)if(t[c]!==s[c])continue e;return!0}}return!1}function qd(t,r){return t?":not("+r.trim()+")":r}function mm(t){let r=t[0],n=1,s=2,c="",x=!1;for(;n<t.length;){let L=t[n];if("string"==typeof L)if(2&s){const Q=t[++n];c+="["+L+(Q.length>0?'="'+Q+'"':"")+"]"}else 8&s?c+="."+L:4&s&&(c+=" "+L);else""!==c&&!xs(L)&&(r+=qd(x,c),c=""),s=L,x=x||!xs(s);n++}return""!==c&&(r+=qd(x,c)),r}function we(t){return Bn(()=>{var r;const n=ro(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||Sn,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(s);const c=t.dependencies;return s.directiveDefs=Fo(c,!1),s.pipeDefs=Fo(c,!0),s.id=function fs(t){let r=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of n)r=Math.imul(31,r)+c.charCodeAt(0)|0;return r+=2147483648,"c"+r}(s),s})}function de(t){return qt(t)||Or(t)}function Ce(t){return null!==t}function tt(t){return Bn(()=>({type:t.type,bootstrap:t.bootstrap||Sn,declarations:t.declarations||Sn,imports:t.imports||Sn,exports:t.exports||Sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ut(t,r){if(null==t)return Es;const n={};for(const c in t)if(t.hasOwnProperty(c)){const x=t[c];let L,Q,ue=Ei.None;var s;Array.isArray(x)?(ue=x[0],L=x[1],Q=null!==(s=x[2])&&void 0!==s?s:L):(L=x,Q=x),r?(n[L]=ue!==Ei.None?[c,ue]:c,r[L]=Q):n[L]=c}return n}function or(t){return Bn(()=>{const r=ro(t);return Wo(r),r})}function _r(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qt(t){return t[vi]||null}function Or(t){return t[wa]||null}function Xr(t){return t[Vi]||null}function fn(t){const r=qt(t)||Or(t)||Xr(t);return null!==r&&r.standalone}function Jr(t,r){const n=t[Ea]||null;if(!n&&!0===r)throw new Error(`Type ${Xn(t)} does not have '\u0275mod' property.`);return n}function ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Es,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ut(t.inputs,r),outputs:ut(t.outputs),debugInfo:null}}function Wo(t){var r;null===(r=t.features)||void 0===r||r.forEach(n=>n(t))}function Fo(t,r){if(!t)return null;const n=r?Xr:de;return()=>("function"==typeof t?t():t).map(s=>n(s)).filter(Ce)}function si(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:qi(0,t),\u0275fromNgModule:!0}}function qi(t,...r){const n=[],s=new Set;let c;const x=L=>{n.push(L)};return ji(r,L=>{const Q=L;Si(Q,x,[],s)&&(c||(c=[]),c.push(Q))}),void 0!==c&&Qu(c,x),n}function Qu(t,r){for(let n=0;n<t.length;n++){const{ngModule:s,providers:c}=t[n];Kd(c,x=>{r(x,s)})}}function Si(t,r,n,s){if(!(t=Hr(t)))return!1;let c=null,x=so(t);const L=!x&&qt(t);if(x||L){if(L&&!L.standalone)return!1;c=t}else{const ue=t.ngModule;if(x=so(ue),!x)return!1;c=ue}const Q=s.has(c);if(L){if(Q)return!1;if(s.add(c),L.dependencies){const ue="function"==typeof L.dependencies?L.dependencies():L.dependencies;for(const xe of ue)Si(xe,r,n,s)}}else{if(!x)return!1;{if(null!=x.imports&&!Q){let xe;s.add(c);try{ji(x.imports,ke=>{Si(ke,r,n,s)&&(xe||(xe=[]),xe.push(ke))})}finally{}void 0!==xe&&Qu(xe,r)}if(!Q){const xe=_i(c)||(()=>new c);r({provide:c,useFactory:xe,deps:Sn},c),r({provide:Xu,useValue:c,multi:!0},c),r({provide:Ss,useValue:()=>Yr(c),multi:!0},c)}const ue=x.providers;if(null!=ue&&!Q){const xe=t;Kd(ue,ke=>{r(ke,xe)})}}}return c!==t&&void 0!==t.providers}function Kd(t,r){for(let n of t)$i(n)&&(n=n.\u0275providers),Array.isArray(n)?Kd(n,r):r(n)}const pw=En({provide:String,useValue:En});function Yd(t){return null!==t&&"object"==typeof t&&pw in t}function Ki(t){return"function"==typeof t}const Jd=new $r(""),ec={},gw={};let Zd;function tc(){return void 0===Zd&&(Zd=new Wi),Zd}class Us{}class Ia extends Us{get destroyed(){return this._destroyed}constructor(r,n,s,c){super(),this.parent=n,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eh(r,L=>this.processProvider(L)),this.records.set(Wu,ja(void 0,this)),c.has("environment")&&this.records.set(Us,ja(void 0,this));const x=this.records.get(Jd);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(Xu,Sn,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=ie(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const n=rn(this),s=Io(void 0);try{return r()}finally{rn(n),Io(s)}}get(r,n=ce,s=mn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Sa))return r[Sa](this);s=Jn(s);const x=rn(this),L=Io(void 0);try{if(!(s&mn.SkipSelf)){let ue=this.records.get(r);if(void 0===ue){const xe=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof $r}(r)&&Qr(r);ue=xe&&this.injectableDefInScope(xe)?ja(Qd(r),ec):null,this.records.set(r,ue)}if(null!=ue)return this.hydrate(r,ue)}return(s&mn.Self?tc():this.parent).get(r,n=s&mn.Optional&&n===ce?null:n)}catch(Q){if("NullInjectorError"===Q.name){if((Q[wt]=Q[wt]||[]).unshift(Xn(r)),x)throw Q;return function Ls(t,r,n,s){const c=t[wt];throw r[pr]&&c.unshift(r[pr]),t.message=function Ws(t,r,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Xn(r);if(Array.isArray(r))c=r.map(Xn).join(" -> ");else if("object"==typeof r){let x=[];for(let L in r)if(r.hasOwnProperty(L)){let Q=r[L];x.push(L+":"+("string"==typeof Q?JSON.stringify(Q):Xn(Q)))}c=`{${x.join(", ")}}`}return`${n}${s?"("+s+")":""}[${c}]: ${t.replace(it,"\n  ")}`}("\n"+t.message,c,n,s),t.ngTokenPath=c,t[wt]=null,t}(Q,r,"R3InjectorError",this.source)}throw Q}finally{Io(L),rn(x)}}resolveInjectorInitializers(){const r=ie(null),n=rn(this),s=Io(void 0);try{const x=this.get(Ss,Sn,mn.Self);for(const L of x)L()}finally{rn(n),Io(s),ie(r)}}toString(){const r=[],n=this.records;for(const s of n.keys())r.push(Xn(s));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Rr(205,!1)}processProvider(r){let n=Ki(r=Hr(r))?r:Hr(r&&r.provide);const s=function vw(t){return Yd(t)?ja(void 0,t.useValue):ja(vm(t),ec)}(r);if(!Ki(r)&&!0===r.multi){let c=this.records.get(n);c||(c=ja(void 0,ec,!0),c.factory=()=>hs(c.multi),this.records.set(n,c)),n=r,c.multi.push(r)}this.records.set(n,s)}hydrate(r,n){const s=ie(null);try{return n.value===ec&&(n.value=gw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(s)}}injectableDefInScope(r){if(!r.providedIn)return!1;const n=Hr(r.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(r){const n=this._onDestroyHooks.indexOf(r);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qd(t){const r=Qr(t),n=null!==r?r.factory:_i(t);if(null!==n)return n;if(t instanceof $r)throw new Rr(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new Rr(204,!1);const n=function to(t){return t&&(t[Kn]||t[Tn])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Rr(204,!1)}function vm(t,r,n){let s;if(Ki(t)){const c=Hr(t);return _i(c)||Qd(c)}if(Yd(t))s=()=>Hr(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...hs(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))s=()=>Yr(Hr(t.useExisting));else{const c=Hr(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _i(c)||Qd(c);s=()=>new c(...hs(t.deps))}return s}function ja(t,r,n=!1){return{factory:t,value:r,multi:n?[]:void 0}}function eh(t,r){for(const n of t)Array.isArray(n)?eh(n,r):n&&$i(n)?eh(n.\u0275providers,r):r(n)}function bm(t,r){t instanceof Ia&&t.assertNotDestroyed();const s=rn(t),c=Io(void 0);try{return r()}finally{rn(s),Io(c)}}function _m(){return void 0!==bi()||null!=function on(){return Ir}()}const io=0,Nr=1,en=2,Co=3,qs=4,Xo=5,os=6,Yi=7,Zn=8,Do=9,ii=10,ln=11,jl=12,Em=13,Pa=14,ao=15,Ji=16,Ra=17,ai=18,ka=19,Sm=20,Ri=21,Ol=22,Bs=23,Zr=25,rh=1,li=7,Na=9,yo=10;var sc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sc||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[rh]}function Zo(t){return Array.isArray(t)&&!0===t[rh]}function nh(t){return!!(4&t.flags)}function Zi(t){return t.componentOffset>-1}function ic(t){return!(1&~t.flags)}function Ks(t){return!!t.template}function Rl(t){return!!(512&t[en])}class Rw{constructor(r,n,s){this.previousValue=r,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function Tm(t,r,n,s){null!==r?r.applyValueToInputSignal(r,s):t[n]=s}function ih(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),kw}function kw(){const t=Im(this),r=null==t?void 0:t.current;if(r){const n=t.previous;if(n===Es)t.previous=r;else for(let s in r)n[s]=r[s];t.current=null,this.ngOnChanges(r)}}function Nw(t,r,n,s,c){const x=this.declaredInputs[s],L=Im(t)||function Lw(t,r){return t[Mm]=r}(t,{previous:Es,current:null}),Q=L.current||(L.current={}),ue=L.previous,xe=ue[x];Q[x]=new Rw(xe&&xe.currentValue,n,ue===Es),Tm(t,r,c,n)}ih.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const ui=function(t,r,n){};function jn(t){for(;Array.isArray(t);)t=t[io];return t}function kl(t,r){return jn(r[t])}function ss(t,r){return jn(r[t.index])}function Nl(t,r){return t.data[r]}function Cs(t,r){const n=r[t];return Uo(n)?n:n[io]}function uh(t){return!(128&~t[en])}function $s(t,r){return null==r?null:t[r]}function Pm(t){t[Ra]=0}function Rm(t){1024&t[en]||(t[en]|=1024,uh(t)&&ac(t))}function Ll(t){var r;return!!(9216&t[en]||null!==(r=t[Bs])&&void 0!==r&&r.dirty)}function ch(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(7),64&t[en]&&(t[en]|=1024),Ll(t)&&ac(t)}function ac(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(0);let n=xi(t);for(;null!==n&&!(8192&n[en])&&(n[en]|=8192,uh(n));)n=xi(n)}function lc(t,r){if(!(256&~t[en]))throw new Rr(911,!1);null===t[Ri]&&(t[Ri]=[]),t[Ri].push(r)}function xi(t){const r=t[Co];return Zo(r)?r[Co]:r}const un={lFrame:Km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return un.bindingsEnabled}function ea(){return null!==un.skipHydrationRootTNode}function Sr(){return un.lFrame.lView}function gn(){return un.lFrame.tView}function Fm(t){return un.lFrame.contextLView=t,t[Zn]}function Um(t){return un.lFrame.contextLView=null,t}function Hn(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return un.lFrame.currentTNode}function Ys(t,r){const n=un.lFrame;n.currentTNode=t,n.isParent=r}function fh(){return un.lFrame.isParent}function ph(){un.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Js(){return un.lFrame.bindingIndex++}function Di(t){const r=un.lFrame,n=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,n}function Jw(t,r){const n=un.lFrame;n.bindingIndex=n.bindingRootIndex=t,mh(r)}function mh(t){un.lFrame.currentDirectiveIndex=t}function yh(){return un.lFrame.currentQueryIndex}function cc(t){un.lFrame.currentQueryIndex=t}function Qw(t){const r=t[Nr];return 2===r.type?r.declTNode:1===r.type?t[Xo]:null}function Xm(t,r,n){if(n&mn.SkipSelf){let c=r,x=t;for(;!(c=c.parent,null!==c||n&mn.Host||(c=Qw(x),null===c||(x=x[Pa],10&c.type))););if(null===c)return!1;r=c,t=x}const s=un.lFrame=qm();return s.currentTNode=r,s.lView=t,!0}function vh(t){const r=qm(),n=t[Nr];un.lFrame=r,r.currentTNode=n.firstChild,r.lView=t,r.tView=n,r.contextLView=t,r.bindingIndex=n.bindingStartIndex,r.inI18n=!1}function qm(){const t=un.lFrame,r=null===t?null:t.child;return null===r?Km(t):r}function Km(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ym(){const t=un.lFrame;return un.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function bh(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qo(){return un.lFrame.selectedIndex}function ta(t){un.lFrame.selectedIndex=t}function Qn(){const t=un.lFrame;return Nl(t.tView,t.selectedIndex)}let Qm=!0;function Ul(){return Qm}function ci(t){Qm=t}function dc(t,r){for(let xe=r.directiveStart,ke=r.directiveEnd;xe<ke;xe++){const xt=t.data[xe].type.prototype,{ngAfterContentInit:Pt,ngAfterContentChecked:jt,ngAfterViewInit:hr,ngAfterViewChecked:Ar,ngOnDestroy:jr}=xt;var n,s,c,x,L,Q,ue;Pt&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-xe,Pt),jt&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(xe,jt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(xe,jt)),hr&&(null!==(x=t.viewHooks)&&void 0!==x?x:t.viewHooks=[]).push(-xe,hr),Ar&&((null!==(L=t.viewHooks)&&void 0!==L?L:t.viewHooks=[]).push(xe,Ar),(null!==(Q=t.viewCheckHooks)&&void 0!==Q?Q:t.viewCheckHooks=[]).push(xe,Ar)),null!=jr&&(null!==(ue=t.destroyHooks)&&void 0!==ue?ue:t.destroyHooks=[]).push(xe,jr)}}function hc(t,r,n){eg(t,r,3,n)}function fc(t,r,n,s){(3&t[en])===n&&eg(t,r,n,s)}function _h(t,r){let n=t[en];(3&n)===r&&(n&=16383,n+=1,t[en]=n)}function eg(t,r,n,s){const x=null!=s?s:-1,L=r.length-1;let Q=0;for(let ue=void 0!==s?65535&t[Ra]:0;ue<L;ue++)if("number"==typeof r[ue+1]){if(Q=r[ue],null!=s&&Q>=s)break}else r[ue]<0&&(t[Ra]+=65536),(Q<x||-1==x)&&(iE(t,n,r,ue),t[Ra]=(4294901760&t[Ra])+ue+2),ue++}function tg(t,r){ui(4,t,r);const n=ie(null);try{r.call(t)}finally{ie(n),ui(5,t,r)}}function iE(t,r,n,s){const c=n[s]<0,x=n[s+1],Q=t[c?-n[s]:n[s]];c?t[en]>>14<t[Ra]>>16&&(3&t[en])===r&&(t[en]+=16384,tg(Q,x)):tg(Q,x)}const La=-1;class Bl{constructor(r,n,s){this.factory=r,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}const Eh={};class ra{constructor(r,n){this.injector=r,this.parentInjector=n}get(r,n,s){s=Jn(s);const c=this.injector.get(r,Eh,s);return c!==Eh||n===Eh?c:this.parentInjector.get(r,n,s)}}function Sh(t){return t!==La}function $l(t){return 32767&t}function Vl(t,r){let n=function cE(t){return t>>16}(t),s=r;for(;n>0;)s=s[Pa],n--;return s}let xh=!0;function pc(t){const r=xh;return xh=t,r}const ng=255,og=5;let hE=0;const di={};function mc(t,r){const n=sg(t,r);if(-1!==n)return n;const s=r[Nr];s.firstCreatePass&&(t.injectorIndex=r.length,Ch(s.data,t),Ch(r,null),Ch(s.blueprint,null));const c=gc(t,r),x=t.injectorIndex;if(Sh(c)){const L=$l(c),Q=Vl(c,r),ue=Q[Nr].data;for(let xe=0;xe<8;xe++)r[x+xe]=Q[L+xe]|ue[L+xe]}return r[x+8]=c,x}function Ch(t,r){t.push(0,0,0,0,0,0,0,0,r)}function sg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,s=null,c=r;for(;null!==c;){if(s=fg(c),null===s)return La;if(n++,c=c[Pa],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return La}function Dh(t,r,n){!function fE(t,r,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(oi)&&(s=n[oi]),null==s&&(s=n[oi]=hE++);const c=s&ng;r.data[t+(c>>og)]|=1<<c}(t,r,n)}function ig(t,r,n){if(n&mn.Optional||void 0!==t)return t;Gi()}function ag(t,r,n,s){if(n&mn.Optional&&void 0===s&&(s=null),!(n&(mn.Self|mn.Host))){const c=t[Do],x=Io(void 0);try{return c?c.get(r,s,n&mn.Optional):ds(r,s,n&mn.Optional)}finally{Io(x)}}return ig(s,0,n)}function lg(t,r,n,s=mn.Default,c){if(null!==t){if(2048&r[en]&&!(s&mn.Self)){const L=function vE(t,r,n,s,c){let x=t,L=r;for(;null!==x&&null!==L&&2048&L[en]&&!(512&L[en]);){const Q=ug(x,L,n,s|mn.Self,di);if(Q!==di)return Q;let ue=x.parent;if(!ue){const xe=L[Sm];if(xe){const ke=xe.get(n,di,s);if(ke!==di)return ke}ue=fg(L),L=L[Pa]}x=ue}return c}(t,r,n,s,di);if(L!==di)return L}const x=ug(t,r,n,s,di);if(x!==di)return x}return ag(r,n,s,c)}function ug(t,r,n,s,c){const x=function gE(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oi)?t[oi]:void 0;return"number"==typeof r?r>=0?r&ng:yE:r}(n);if("function"==typeof x){if(!Xm(r,t,s))return s&mn.Host?ig(c,0,s):ag(r,n,s,c);try{let L;if(L=x(s),null!=L||s&mn.Optional)return L;Gi()}finally{Jm()}}else if("number"==typeof x){let L=null,Q=sg(t,r),ue=La,xe=s&mn.Host?r[ao][Xo]:null;for((-1===Q||s&mn.SkipSelf)&&(ue=-1===Q?gc(t,r):r[Q+8],ue!==La&&dg(s,!1)?(L=r[Nr],Q=$l(ue),r=Vl(ue,r)):Q=-1);-1!==Q;){const ke=r[Nr];if(cg(x,Q,ke.data)){const Ke=mE(Q,r,n,L,s,xe);if(Ke!==di)return Ke}ue=r[Q+8],ue!==La&&dg(s,r[Nr].data[Q+8]===xe)&&cg(x,Q,r)?(L=ke,Q=$l(ue),r=Vl(ue,r)):Q=-1}}return c}function mE(t,r,n,s,c,x){const L=r[Nr],Q=L.data[t+8],ke=yc(Q,L,n,null==s?Zi(Q)&&xh:s!=L&&!!(3&Q.type),c&mn.Host&&x===Q);return null!==ke?na(r,L,ke,Q):di}function yc(t,r,n,s,c){const x=t.providerIndexes,L=r.data,Q=1048575&x,ue=t.directiveStart,ke=x>>20,xt=c?Q+ke:t.directiveEnd;for(let Pt=s?Q:Q+ke;Pt<xt;Pt++){const jt=L[Pt];if(Pt<ue&&n===jt||Pt>=ue&&jt.type===n)return Pt}if(c){const Pt=L[ue];if(Pt&&Ks(Pt)&&Pt.type===n)return ue}return null}function na(t,r,n,s){let c=t[n];const x=r.data;if(function aE(t){return t instanceof Bl}(c)){const L=c;L.resolving&&function Hu(t,r){throw r&&r.join(" > "),new Rr(-200,t)}(function An(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():an(t)}(x[n]));const Q=pc(L.canSeeViewProviders);L.resolving=!0;const xe=L.injectImpl?Io(L.injectImpl):null;Xm(t,s,mn.Default);try{c=t[n]=L.factory(void 0,x,t,s),r.firstCreatePass&&n>=s.directiveStart&&function sE(t,r,n){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:x}=r.type.prototype;if(s){var L,Q;const Ke=Am(r);(null!==(L=n.preOrderHooks)&&void 0!==L?L:n.preOrderHooks=[]).push(t,Ke),(null!==(Q=n.preOrderCheckHooks)&&void 0!==Q?Q:n.preOrderCheckHooks=[]).push(t,Ke)}var ue,xe,ke;c&&(null!==(ue=n.preOrderHooks)&&void 0!==ue?ue:n.preOrderHooks=[]).push(0-t,c),x&&((null!==(xe=n.preOrderHooks)&&void 0!==xe?xe:n.preOrderHooks=[]).push(t,x),(null!==(ke=n.preOrderCheckHooks)&&void 0!==ke?ke:n.preOrderCheckHooks=[]).push(t,x))}(n,x[n],r)}finally{null!==xe&&Io(xe),pc(Q),L.resolving=!1,Jm()}}return c}function cg(t,r,n){return!!(n[r+(t>>og)]&1<<t)}function dg(t,r){return!(t&mn.Self||t&mn.Host&&r)}class Oo{constructor(r,n){this._tNode=r,this._lView=n}get(r,n,s){return lg(this._tNode,this._lView,r,Jn(s),n)}}function yE(){return new Oo(Hn(),Sr())}function hg(t){return Bn(()=>{const r=t.prototype.constructor,n=r[Ns]||Th(r),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const x=c[Ns]||Th(c);if(x&&x!==n)return x;c=Object.getPrototypeOf(c)}return x=>new x})}function Th(t){return Ho(t)?()=>{const r=Th(Hr(t));return r&&r()}:_i(t)}function fg(t){const r=t[Nr],n=r.type;return 2===n?r.declTNode:1===n?t[Xo]:null}function vc(t){return function pE(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const n=t.attrs;if(n){const s=n.length;let c=0;for(;c<s;){const x=n[c];if(qu(x))break;if(0===x)c+=2;else if("number"==typeof x)for(c++;c<s&&"string"==typeof n[c];)c++;else{if(x===r)return n[c+1];c+=2}}}return null}(Hn(),t)}function vg(t,r=null,n=null,s){const c=bg(t,r,n,s);return c.resolveInjectorInitializers(),c}function bg(t,r=null,n=null,s,c=new Set){const x=[n||Sn,Ml(t)];return s=s||("object"==typeof t?void 0:Xn(t)),new Ia(x,r||tc(),s||null,c)}class Bo{static create(r,n){if(Array.isArray(r))return vg({name:""},n,r,"");{var s;const c=null!==(s=r.name)&&void 0!==s?s:"";return vg({name:c},r.parent,r.providers,c)}}}(_n=Bo).THROW_IF_NOT_FOUND=ce,_n.NULL=new Wi,_n.\u0275prov=Lr({token:_n,providedIn:"any",factory:()=>Yr(Wu)}),_n.__NG_ELEMENT_ID__=-1,new $r("").__NG_ELEMENT_ID__=t=>{const r=Hn();if(null===r)throw new Rr(204,!1);if(2&r.type)return r.value;if(t&mn.Optional)return null;throw new Rr(204,!1)};function Mh(t){return t.ngOriginalError}let Gl=(()=>{var t;class r{}return(t=r).__NG_ELEMENT_ID__=AE,t.__NG_ENV_ID__=n=>n,r})();class TE extends Gl{constructor(r){super(),this._lView=r}onDestroy(r){return lc(this._lView,r),()=>function dh(t,r){if(null===t[Ri])return;const n=t[Ri].indexOf(r);-1!==n&&t[Ri].splice(n,1)}(this._lView,r)}}function AE(){return new TE(Sr())}let oa=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();const hi=class ME extends st.B{constructor(r=!1){var n,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,_m()&&(this.destroyRef=null!==(n=kr(Gl,{optional:!0}))&&void 0!==n?n:void 0,this.pendingTasks=null!==(s=kr(oa,{optional:!0}))&&void 0!==s?s:void 0)}emit(r){const n=ie(null);try{super.next(r)}finally{ie(n)}}subscribe(r,n,s){let c=r,x=n||(()=>null),L=s;if(r&&"object"==typeof r){var Q,ue,xe;const Ke=r;c=null===(Q=Ke.next)||void 0===Q?void 0:Q.bind(Ke),x=null===(ue=Ke.error)||void 0===ue?void 0:ue.bind(Ke),L=null===(xe=Ke.complete)||void 0===xe?void 0:xe.bind(Ke)}this.__isAsync&&(x=this.wrapInTimeout(x),c&&(c=this.wrapInTimeout(c)),L&&(L=this.wrapInTimeout(L)));const ke=super.subscribe({next:c,error:x,complete:L});return r instanceof at.yU&&r.add(ke),ke}wrapInTimeout(r){return n=>{var s;const c=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var x;r(n),void 0!==c&&(null===(x=this.pendingTasks)||void 0===x||x.remove(c))})}}};function _c(...t){}function wg(t){let r,n;function s(){t=_c;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),s()})),()=>s()}function Eg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class no{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),typeof Zone>"u")throw new Rr(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&n,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,function OE(t){const r=()=>{!function jE(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,Ih(t),t.isCheckStableRunning=!1})}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,c,x,L,Q)=>{if(function PE(t){return Cg(t,"__ignore_ng_zone__")}(Q))return n.invokeTask(c,x,L,Q);try{return Sg(t),n.invokeTask(c,x,L,Q)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||t.shouldCoalesceRunChangeDetection)&&r(),xg(t)}},onInvoke:(n,s,c,x,L,Q,ue)=>{try{return Sg(t),n.invoke(c,x,L,Q,ue)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function RE(t){return Cg(t,"__scheduler_tick__")}(Q)&&r(),xg(t)}},onHasTask:(n,s,c,x)=>{n.hasTask(c,x),s===c&&("microTask"==x.change?(t._hasPendingMicrotasks=x.microTask,jh(t),Ih(t)):"macroTask"==x.change&&(t.hasPendingMacrotasks=x.macroTask))},onHandleError:(n,s,c,x)=>(n.handleError(c,x),t.runOutsideAngular(()=>t.onError.emit(x)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Rr(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Rr(909,!1)}run(r,n,s){return this._inner.run(r,n,s)}runTask(r,n,s,c){const x=this._inner,L=x.scheduleEventTask("NgZoneEvent: "+c,r,IE,_c,_c);try{return x.runTask(L,n,s)}finally{x.cancelTask(L)}}runGuarded(r,n,s){return this._inner.runGuarded(r,n,s)}runOutsideAngular(r){return this._outer.run(r)}}const IE={};function Ih(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Sg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xg(t){t._nesting--,Ih(t)}class Oh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(r,n,s){return r.apply(n,s)}runGuarded(r,n,s){return r.apply(n,s)}runOutsideAngular(r){return r()}runTask(r,n,s,c){return r.apply(n,s)}}function Cg(t,r){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0])||void 0===n||null===(n=n.data)||void 0===n?void 0:n[r])}class fi{constructor(){this._console=console}handleError(r){const n=this._findOriginalError(r);this._console.error("ERROR",r),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(r){let n=r&&Mh(r);for(;n&&Mh(n);)n=Mh(n);return n||null}}const NE=new $r("",{providedIn:"root",factory:()=>{const t=kr(no),r=kr(fi);return n=>t.runOutsideAngular(()=>r.handleError(n))}});function LE(){return Ba(Hn(),Sr())}function Ba(t,r){return new Hl(ss(t,r))}let Hl=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=LE,r})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FE(){return this._results[Symbol.iterator]()}class Ph{get changes(){var r;return null!==(r=this._changes)&&void 0!==r?r:this._changes=new hi}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Ph.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=FE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,n){return this._results.reduce(r,n)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,n){this.dirty=!1;const s=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Vd(t,r,n){if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],x=r[s];if(n&&(c=n(c),x=n(x)),x!==c)return!1}return!0}(this._results,s,n))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){var r;this.dirty=!0,null===(r=this._onDirty)||void 0===r||r.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const Rh=new Map;let BE=0;const Sc="__ngContext__";function Qo(t,r){Uo(r)?(t[Sc]=r[ka],function VE(t){Rh.set(t[ka],t)}(r)):t[Sc]=r}function Lg(t){return Ug(t[jl])}function Fg(t){return Ug(t[qs])}function Ug(t){for(;null!==t&&!Zo(t);)t=t[qs];return t}let Nh;function sS(t){Nh=t}const Cc=new $r("",{providedIn:"root",factory:()=>iS}),iS="ng",Xg=new $r(""),Lh=new $r("",{providedIn:"platform",factory:()=>"unknown"}),aS=new $r("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ki(){if(void 0!==Nh)return Nh;if(typeof document<"u")return document;throw new Rr(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let qg=()=>null;function Vh(t,r,n=!1){return qg(t,r,n)}const ry=new $r("",{providedIn:"root",factory:()=>!1});let Oc,Pc;function Wa(t){var r;return(null===(r=function Xh(){if(void 0===Oc&&(Oc=null,zn.trustedTypes))try{Oc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oc}())||void 0===r?void 0:r.createHTML(t))||t}function ay(t){var r;return(null===(r=function qh(){if(void 0===Pc&&(Pc=null,zn.trustedTypes))try{Pc=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===r?void 0:r.createScriptURL(t))||t}class sa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kn})`}}class wS extends sa{getTypeName(){return"HTML"}}class ES extends sa{getTypeName(){return"Style"}}class SS extends sa{getTypeName(){return"Script"}}class xS extends sa{getTypeName(){return"URL"}}class CS extends sa{getTypeName(){return"ResourceURL"}}function Ti(t){return t instanceof sa?t.changingThisBreaksApplicationSecurity:t}function Xa(t,r){const n=function DS(t){return t instanceof sa&&t.getTypeName()||null}(t);if(null!=n&&n!==r){if("ResourceURL"===n&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${n} (see ${kn})`)}return n===r}function TS(t){return new wS(t)}function AS(t){return new ES(t)}function MS(t){return new SS(t)}function IS(t){return new xS(t)}function jS(t){return new CS(t)}class OS{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const n=(new window.DOMParser).parseFromString(Wa(r),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(r):(n.removeChild(n.firstChild),n)}catch{return null}}}class PS{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const n=this.inertDocument.createElement("template");return n.innerHTML=Wa(r),n}}const kS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(kS)?t:"unsafe:"+t}function Ai(t){const r={};for(const n of t.split(","))r[n]=!0;return r}function Ql(...t){const r={};for(const n of t)for(const s in n)n.hasOwnProperty(s)&&(r[s]=!0);return r}const uy=Ai("area,br,col,hr,img,wbr"),cy=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=Ai("rp,rt"),Kh=Ql(uy,Ql(cy,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(dy,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(dy,cy)),Yh=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Ql(Yh,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NS=Ai("script,style,template");class LS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let n=r.firstChild,s=!0,c=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)c.push(n),n=BS(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let x=US(n);if(x){n=x;break}n=c.pop()}return this.buf.join("")}startElement(r){const n=fy(r).toLowerCase();if(!Kh.hasOwnProperty(n))return this.sanitizedSomething=!0,!NS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=r.attributes;for(let c=0;c<s.length;c++){const x=s.item(c),L=x.name,Q=L.toLowerCase();if(!hy.hasOwnProperty(Q)){this.sanitizedSomething=!0;continue}let ue=x.value;Yh[Q]&&(ue=Rc(ue)),this.buf.push(" ",L,'="',my(ue),'"')}return this.buf.push(">"),!0}endElement(r){const n=fy(r).toLowerCase();Kh.hasOwnProperty(n)&&!uy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(r){this.buf.push(my(r))}}function US(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw py(r);return r}function BS(t){const r=t.firstChild;if(r&&function FS(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw py(r);return r}function fy(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VS=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($S,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(VS,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kc;function gy(t,r){let n=null;try{kc=kc||function ly(t){const r=new PS(t);return function RS(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new OS(r):r}(t);let s=r?String(r):"";n=kc.getInertBodyElement(s);let c=5,x=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=x,x=n.innerHTML,n=kc.getInertBodyElement(s)}while(s!==x);return Wa((new LS).sanitizeChildren(Jh(n)||n))}finally{if(n){const s=Jh(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Jh(t){return"content"in t&&function GS(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ia=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ia||{});function Zh(t){const r=eu();return r?r.sanitize(ia.URL,t)||"":Xa(t,"URL")?Ti(t):Rc(an(t))}function yy(t){const r=eu();if(r)return ay(r.sanitize(ia.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ti(t));throw new Rr(904,!1)}function vy(t,r,n){return function KS(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?yy:Zh}(r,n)(t)}function eu(){const t=Sr();return t&&t[ii].sanitizer}const YS=/^>|^->|<!--|-->|--!>|<!-$/g,JS=/(<|>)/g,ZS="\u200b$1\u200b";function Ds(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let tf;function rf(t,r){return tf(t,r)}function Ka(t,r,n,s,c){if(null!=s){let x,L=!1;Zo(s)?x=s:Uo(s)&&(L=!0,s=s[io]);const Q=jn(s);0===t&&null!==n?null==c?jy(r,n,Q):aa(r,n,Q,c||null,!0):1===t&&null!==n?aa(r,n,Q,c||null,!0):2===t?function ru(t,r,n){const s=$c(t,r);s&&function gx(t,r,n,s){t.removeChild(r,n,s)}(t,s,r,n)}(r,Q,L):3===t&&r.destroyNode(Q),null!=x&&function bx(t,r,n,s,c){const x=n[li];x!==jn(n)&&Ka(r,t,s,x,c);for(let Q=yo;Q<n.length;Q++){const ue=n[Q];Gc(ue[Nr],ue,t,r,s,x)}}(r,t,x,n,c)}}function sf(t,r){return t.createComment(function by(t){return t.replace(YS,r=>r.replace(JS,ZS))}(r))}function Uc(t,r,n){return t.createElement(r,n)}function Ay(t,r){var n;null===(n=r[ii].changeDetectionScheduler)||void 0===n||n.notify(8),Gc(t,r,r[ln],2,null,null)}function My(t,r){const n=t[Na],s=r[Co];(Uo(s)||r[ao]!==s[Co][ao])&&(t[en]|=sc.HasTransplantedViews),null===n?t[Na]=[r]:n.push(r)}function af(t,r){const n=t[Na],s=n.indexOf(r);n.splice(s,1)}function tu(t,r){if(t.length<=yo)return;const n=yo+r,s=t[n];if(s){const c=s[Ji];null!==c&&c!==t&&af(c,s),r>0&&(t[n-1][qs]=s[qs]);const x=Ta(t,yo+r);!function cx(t,r){Ay(t,r),r[io]=null,r[Xo]=null}(s[Nr],s);const L=x[ai];null!==L&&L.detachView(x[Nr]),s[Co]=null,s[qs]=null,s[en]&=-129}return s}function Bc(t,r){if(!(256&r[en])){const n=r[ln];n.destroyNode&&Gc(t,r,n,3,null,null),function hx(t){let r=t[jl];if(!r)return lf(t[Nr],t);for(;r;){let n=null;if(Uo(r))n=r[jl];else{const s=r[yo];s&&(n=s)}if(!n){for(;r&&!r[qs]&&r!==t;)Uo(r)&&lf(r[Nr],r),r=r[Co];null===r&&(r=t),Uo(r)&&lf(r[Nr],r),n=r&&r[qs]}r=n}}(r)}}function lf(t,r){if(256&r[en])return;const n=ie(null);try{r[en]&=-129,r[en]|=256,r[Bs]&&g(r[Bs]),function mx(t,r){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const c=r[n[s]];if(!(c instanceof Bl)){const x=n[s+1];if(Array.isArray(x))for(let L=0;L<x.length;L+=2){const Q=c[x[L]],ue=x[L+1];ui(4,Q,ue);try{ue.call(Q)}finally{ui(5,Q,ue)}}else{ui(4,c,x);try{x.call(c)}finally{ui(5,c,x)}}}}}(t,r),function px(t,r){const n=t.cleanup,s=r[Yi];if(null!==n)for(let x=0;x<n.length-1;x+=2)if("string"==typeof n[x]){const L=n[x+3];L>=0?s[L]():s[-L].unsubscribe(),x+=2}else n[x].call(s[n[x+1]]);null!==s&&(r[Yi]=null);const c=r[Ri];if(null!==c){r[Ri]=null;for(let x=0;x<c.length;x++)(0,c[x])()}}(t,r),1===r[Nr].type&&r[ln].destroy();const s=r[Ji];if(null!==s&&Zo(r[Co])){s!==r[Co]&&af(s,r);const c=r[ai];null!==c&&c.detachView(t)}!function GE(t){Rh.delete(t[ka])}(r)}finally{ie(n)}}function uf(t,r,n){return function Iy(t,r,n){let s=r;for(;null!==s&&168&s.type;)s=(r=s).parent;if(null===s)return n[io];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:x}=t.data[s.directiveStart+c];if(x===wi.None||x===wi.Emulated)return null}return ss(s,n)}}(t,r.parent,n)}function aa(t,r,n,s,c){t.insertBefore(r,n,s,c)}function jy(t,r,n){t.appendChild(r,n)}function Oy(t,r,n,s,c){null!==s?aa(t,r,n,s,c):jy(t,r,n)}function $c(t,r){return t.parentNode(r)}function Py(t,r,n){return ky(t,r,n)}let cf,ky=function Ry(t,r,n){return 40&t.type?ss(t,n):null};function Vc(t,r,n,s){const c=uf(t,s,r),x=r[ln],Q=Py(s.parent||r[Xo],s,r);if(null!=c)if(Array.isArray(n))for(let ue=0;ue<n.length;ue++)Oy(x,c,n[ue],Q,!1);else Oy(x,c,n,Q,!1);void 0!==cf&&cf(x,s,r,n,c)}function la(t,r){if(null!==r){const n=r.type;if(3&n)return ss(r,t);if(4&n)return df(-1,t[r.index]);if(8&n){const s=r.child;if(null!==s)return la(t,s);{const c=t[r.index];return Zo(c)?df(-1,c):jn(c)}}if(128&n)return la(t,r.next);if(32&n)return rf(r,t)()||jn(t[r.index]);{const s=Ly(t,r);return null!==s?Array.isArray(s)?s[0]:la(xi(t[ao]),s):la(t,r.next)}}return null}function Ly(t,r){return null!==r?t[ao][Xo].projection[r.projection]:null}function df(t,r){const n=yo+t+1;if(n<r.length){const s=r[n],c=s[Nr].firstChild;if(null!==c)return la(s,c)}return r[li]}function hf(t,r,n,s,c,x,L){for(;null!=n;){if(128===n.type){n=n.next;continue}const Q=s[n.index],ue=n.type;if(L&&0===r&&(Q&&Qo(jn(Q),s),n.flags|=2),32&~n.flags)if(8&ue)hf(t,r,n.child,s,c,x,!1),Ka(r,t,c,Q,x);else if(32&ue){const xe=rf(n,s);let ke;for(;ke=xe();)Ka(r,t,c,ke,x);Ka(r,t,c,Q,x)}else 16&ue?Uy(t,r,s,n,c,x):Ka(r,t,c,Q,x);n=L?n.projectionNext:n.next}}function Gc(t,r,n,s,c,x){hf(n,s,t.firstChild,r,c,x,!1)}function Uy(t,r,n,s,c,x){const L=n[ao],ue=L[Xo].projection[s.projection];if(Array.isArray(ue))for(let xe=0;xe<ue.length;xe++)Ka(r,t,c,ue[xe],x);else{let xe=ue;const ke=L[Co];wc(s)&&(xe.flags|=128),hf(t,r,xe,ke,c,x,!0)}}function By(t,r,n){""===n?t.removeAttribute(r,"class"):t.setAttribute(r,"class",n)}function $y(t,r,n){const{mergedAttrs:s,classes:c,styles:x}=n;null!==s&&Tl(t,r,s),null!==c&&By(t,r,c),null!==x&&function wx(t,r,n){t.setAttribute(r,"style",n)}(t,r,x)}const cn={};function Vy(t=1){Gy(gn(),Sr(),qo()+t,!1)}function Gy(t,r,n,s){if(!s)if(3&~r[en]){const x=t.preOrderHooks;null!==x&&fc(r,x,0,n)}else{const x=t.preOrderCheckHooks;null!==x&&hc(r,x,n)}ta(n)}function Ya(t,r=mn.Default){const n=Sr();return null===n?Yr(t,r):lg(Hn(),n,Hr(t),r)}function Hy(){throw new Error("invalid")}function zy(t,r,n,s,c,x){const L=ie(null);try{let Q=null;c&Ei.SignalBased&&(Q=r[s][o]),null!==Q&&void 0!==Q.transformFn&&(x=Q.transformFn(x)),c&Ei.HasDecoratorInputTransform&&(x=t.inputTransforms[s].call(r,x)),null!==t.setInput?t.setInput(r,Q,x,n,s):Tm(r,Q,s,x)}finally{ie(L)}}function Hc(t,r,n,s,c,x,L,Q,ue,xe,ke){const Ke=r.blueprint.slice();return Ke[io]=c,Ke[en]=204|s,(null!==xe||t&&2048&t[en])&&(Ke[en]|=2048),Pm(Ke),Ke[Co]=Ke[Pa]=t,Ke[Zn]=n,Ke[ii]=L||t&&t[ii],Ke[ln]=Q||t&&t[ln],Ke[Do]=ue||t&&t[Do]||null,Ke[Xo]=x,Ke[ka]=function $E(){return BE++}(),Ke[os]=ke,Ke[Sm]=xe,Ke[ao]=2==r.type?t[ao]:Ke,Ke}function ua(t,r,n,s,c){let x=t.data[r];if(null===x)x=function ff(t,r,n,s,c){const x=Bm(),L=fh(),ue=t.data[r]=function Mx(t,r,n,s,c,x){let L=r?r.injectorIndex:-1,Q=0;return ea()&&(Q|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:L,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Q,providerIndexes:0,value:c,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,L?x:x&&x.parent,n,r,s,c);return null===t.firstChild&&(t.firstChild=ue),null!==x&&(L?null==x.child&&null!==ue.parent&&(x.child=ue):null===x.next&&(x.next=ue,ue.prev=x)),ue}(t,r,n,s,c),function Yw(){return un.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=n,x.value=s,x.attrs=c;const L=function Fl(){const t=un.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();x.injectorIndex=null===L?-1:L.injectorIndex}return Ys(x,!0),x}function nu(t,r,n,s){if(0===n)return-1;const c=r.length;for(let x=0;x<n;x++)r.push(s),t.blueprint.push(s),t.data.push(null);return c}function Wy(t,r,n,s,c){const x=qo(),L=2&s;try{ta(-1),L&&r.length>Zr&&Gy(t,r,Zr,!1),ui(L?2:0,c),n(s,c)}finally{ta(x),ui(L?3:1,c)}}function pf(t,r,n){if(nh(r)){const s=ie(null);try{const x=r.directiveEnd;for(let L=r.directiveStart;L<x;L++){const Q=t.data[L];Q.contentQueries&&Q.contentQueries(1,n[L],L)}}finally{ie(s)}}}function mf(t,r,n){Lm()&&(function Nx(t,r,n,s){const c=n.directiveStart,x=n.directiveEnd;Zi(n)&&function Gx(t,r,n){const s=ss(r,t),c=Xy(n);let L=16;n.signals?L=4096:n.onPush&&(L=64);const Q=zc(t,Hc(t,c,null,L,s,r,null,t[ii].rendererFactory.createRenderer(s,n),null,null,null));t[r.index]=Q}(r,n,t.data[c+n.componentOffset]),t.firstCreatePass||mc(n,r),Qo(s,r);const L=n.initialInputs;for(let Q=c;Q<x;Q++){const ue=t.data[Q],xe=na(r,t,Q,n);Qo(xe,r),null!==L&&Hx(0,Q-c,xe,ue,0,L),Ks(ue)&&(Cs(n.index,r)[Zn]=na(r,t,Q,n))}}(t,r,n,ss(n,r)),!(64&~n.flags)&&Zy(t,r,n))}function gf(t,r,n=ss){const s=r.localNames;if(null!==s){let c=r.index+1;for(let x=0;x<s.length;x+=2){const L=s[x+1],Q=-1===L?n(r,t):t[L];t[c++]=Q}}}function Xy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=yf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function yf(t,r,n,s,c,x,L,Q,ue,xe,ke){const Ke=Zr+s,xt=Ke+c,Pt=function Sx(t,r){const n=[];for(let s=0;s<r;s++)n.push(s<t?null:cn);return n}(Ke,xt),jt="function"==typeof xe?xe():xe;return Pt[Nr]={type:t,blueprint:Pt,template:n,queries:null,viewQuery:Q,declTNode:r,data:Pt.slice().fill(null,Ke),bindingStartIndex:Ke,expandoStartIndex:xt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof L?L():L,firstChild:null,schemas:ue,consts:jt,incompleteFirstPass:!1,ssrId:ke}}let qy=()=>null;function Ky(t,r,n,s,c){for(let L in r){var x;if(!r.hasOwnProperty(L))continue;const Q=r[L];if(void 0===Q)continue;null!==(x=s)&&void 0!==x||(s={});let ue,xe=Ei.None;Array.isArray(Q)?(ue=Q[0],xe=Q[1]):ue=Q;let ke=L;if(null!==c){if(!c.hasOwnProperty(L))continue;ke=c[L]}0===t?Yy(s,n,ke,ue,xe):Yy(s,n,ke,ue)}return s}function Yy(t,r,n,s,c){let x;t.hasOwnProperty(n)?(x=t[n]).push(r,s):x=t[n]=[r,s],void 0!==c&&x.push(c)}function gs(t,r,n,s,c,x,L,Q){const ue=ss(r,n);let ke,xe=r.inputs;!Q&&null!=xe&&(ke=xe[s])?(Ef(t,n,ke,s,c),Zi(r)&&function Ox(t,r){const n=Cs(r,t);16&n[en]||(n[en]|=64)}(n,r.index)):3&r.type&&(s=function jx(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=L?L(c,r.value||"",s):c,x.setProperty(ue,s,c))}function vf(t,r,n,s){if(Lm()){const c=null===s?null:{"":-1},x=function Fx(t,r){const n=t.directiveRegistry;let s=null,c=null;if(n)for(let L=0;L<n.length;L++){const Q=n[L];if(Zu(r,Q.selectors,!1))if(s||(s=[]),Ks(Q))if(null!==Q.findHostDirectiveDefs){const ue=[];c=c||new Map,Q.findHostDirectiveDefs(Q,ue,c),s.unshift(...ue,Q),bf(t,r,ue.length)}else s.unshift(Q),bf(t,r,0);else{var x;c=c||new Map,null===(x=Q.findHostDirectiveDefs)||void 0===x||x.call(Q,Q,s,c),s.push(Q)}}return null===s?null:[s,c]}(t,n);let L,Q;null===x?L=Q=null:[L,Q]=x,null!==L&&Jy(t,r,n,L,c,Q),c&&function Ux(t,r,n){if(r){const s=t.localNames=[];for(let c=0;c<r.length;c+=2){const x=n[r[c+1]];if(null==x)throw new Rr(-301,!1);s.push(r[c],x)}}}(n,s,c)}n.mergedAttrs=Pi(n.mergedAttrs,n.attrs)}function Jy(t,r,n,s,c,x){for(let Ke=0;Ke<s.length;Ke++)Dh(mc(n,r),t,s[Ke].type);!function $x(t,r,n){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+n,t.providerIndexes=r}(n,t.data.length,s.length);for(let Ke=0;Ke<s.length;Ke++){const xt=s[Ke];xt.providersResolver&&xt.providersResolver(xt)}let L=!1,Q=!1,ue=nu(t,r,s.length,null);for(let Ke=0;Ke<s.length;Ke++){const xt=s[Ke];n.mergedAttrs=Pi(n.mergedAttrs,xt.hostAttrs),Vx(t,n,r,ue,xt),Bx(ue,xt,c),null!==xt.contentQueries&&(n.flags|=4),(null!==xt.hostBindings||null!==xt.hostAttrs||0!==xt.hostVars)&&(n.flags|=64);const Pt=xt.type.prototype;var xe,ke;!L&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((null!==(xe=t.preOrderHooks)&&void 0!==xe?xe:t.preOrderHooks=[]).push(n.index),L=!0),Q||!Pt.ngOnChanges&&!Pt.ngDoCheck||((null!==(ke=t.preOrderCheckHooks)&&void 0!==ke?ke:t.preOrderCheckHooks=[]).push(n.index),Q=!0),ue++}!function Ix(t,r,n){const c=r.directiveEnd,x=t.data,L=r.attrs,Q=[];let ue=null,xe=null;for(let ke=r.directiveStart;ke<c;ke++){const Ke=x[ke],xt=n?n.get(Ke):null,jt=xt?xt.outputs:null;ue=Ky(0,Ke.inputs,ke,ue,xt?xt.inputs:null),xe=Ky(1,Ke.outputs,ke,xe,jt);const hr=null===ue||null===L||Al(r)?null:zx(ue,ke,L);Q.push(hr)}null!==ue&&(ue.hasOwnProperty("class")&&(r.flags|=8),ue.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=Q,r.inputs=ue,r.outputs=xe}(t,n,x)}function Zy(t,r,n){const s=n.directiveStart,c=n.directiveEnd,x=n.index,L=function Zw(){return un.lFrame.currentDirectiveIndex}();try{ta(x);for(let Q=s;Q<c;Q++){const ue=t.data[Q],xe=r[Q];mh(Q),(null!==ue.hostBindings||0!==ue.hostVars||null!==ue.hostAttrs)&&Lx(ue,xe)}}finally{ta(-1),mh(L)}}function Lx(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function bf(t,r,n){var s;r.componentOffset=n,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(r.index)}function Bx(t,r,n){if(n){if(r.exportAs)for(let s=0;s<r.exportAs.length;s++)n[r.exportAs[s]]=t;Ks(r)&&(n[""]=t)}}function Vx(t,r,n,s,c){t.data[s]=c;const x=c.factory||(c.factory=_i(c.type)),L=new Bl(x,Ks(c),Ya);t.blueprint[s]=L,n[s]=L,function Rx(t,r,n,s,c){const x=c.hostBindings;if(x){let L=t.hostBindingOpCodes;null===L&&(L=t.hostBindingOpCodes=[]);const Q=~r.index;(function kx(t){let r=t.length;for(;r>0;){const n=t[--r];if("number"==typeof n&&n<0)return n}return 0})(L)!=Q&&L.push(Q),L.push(n,s,x)}}(t,r,s,nu(t,n,c.hostVars,cn),c)}function pi(t,r,n,s,c,x){const L=ss(t,r);!function _f(t,r,n,s,c,x,L){if(null==x)t.removeAttribute(r,c,n);else{const Q=null==L?an(x):L(x,s||"",c);t.setAttribute(r,c,Q,n)}}(r[ln],L,x,t.value,n,s,c)}function Hx(t,r,n,s,c,x){const L=x[r];if(null!==L)for(let Q=0;Q<L.length;)zy(s,n,L[Q++],L[Q++],L[Q++],L[Q++])}function zx(t,r,n){let s=null,c=0;for(;c<n.length;){const x=n[c];if(0!==x)if(5!==x){if("number"==typeof x)break;if(t.hasOwnProperty(x)){null===s&&(s=[]);const L=t[x];for(let Q=0;Q<L.length;Q+=3)if(L[Q]===r){s.push(x,L[Q+1],L[Q+2],n[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function Qy(t,r,n,s){return[t,!0,0,r,null,s,null,n,null,null]}function ev(t,r){const n=t.contentQueries;if(null!==n){const s=ie(null);try{for(let c=0;c<n.length;c+=2){const L=n[c+1];if(-1!==L){const Q=t.data[L];cc(n[c]),Q.contentQueries(2,r[L],L)}}}finally{ie(s)}}}function zc(t,r){return t[jl]?t[Em][qs]=r:t[jl]=r,t[Em]=r,r}function wf(t,r,n){cc(0);const s=ie(null);try{r(t,n)}finally{ie(s)}}function tv(t){var r;return null!==(r=t[Yi])&&void 0!==r?r:t[Yi]=[]}function rv(t){var r;return null!==(r=t.cleanup)&&void 0!==r?r:t.cleanup=[]}function Wc(t,r){const n=t[Do],s=n?n.get(fi,null):null;s&&s.handleError(r)}function Ef(t,r,n,s,c){for(let x=0;x<n.length;){const L=n[x++],Q=n[x++],ue=n[x++];zy(t.data[L],r[L],s,Q,ue,c)}}function Mi(t,r,n){const s=kl(r,t);!function Ty(t,r,n){t.setValue(r,n)}(t[ln],s,n)}function Wx(t,r){const n=Cs(r,t),s=n[Nr];!function Xx(t,r){for(let n=r.length;n<t.blueprint.length;n++)r.push(t.blueprint[n])}(s,n);const c=n[io];null!==c&&null===n[os]&&(n[os]=Vh(c,n[Do])),Sf(s,n,n[Zn])}function Sf(t,r,n){vh(r);try{var s;const c=t.viewQuery;null!==c&&wf(1,c,n);const x=t.template;null!==x&&Wy(t,r,x,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=r[ai])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&ev(t,r),t.staticViewQueries&&wf(2,t.viewQuery,n);const L=t.components;null!==L&&function qx(t,r){for(let n=0;n<r.length;n++)Wx(t,r[n])}(r,L)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[en]&=-5,bh()}}function Ja(t,r,n,s){const c=ie(null);try{var x,L,Q;const ue=r.tView,Ke=Hc(t,ue,n,4096&t[en]?4096:16,null,r,null,null,null!==(x=null==s?void 0:s.injector)&&void 0!==x?x:null,null!==(L=null==s?void 0:s.embeddedViewInjector)&&void 0!==L?L:null,null!==(Q=null==s?void 0:s.dehydratedView)&&void 0!==Q?Q:null);Ke[Ji]=t[r.index];const Pt=t[ai];return null!==Pt&&(Ke[ai]=Pt.createEmbeddedView(ue)),Sf(ue,Ke,n),Ke}finally{ie(c)}}function ca(t,r){return!r||null===r.firstChild||wc(t)}function Za(t,r,n,s=!0){const c=r[Nr];if(function fx(t,r,n,s){const c=yo+s,x=n.length;s>0&&(n[c-1][qs]=r),s<x-yo?(r[qs]=n[c],Gd(n,yo+s,r)):(n.push(r),r[qs]=null),r[Co]=n;const L=r[Ji];null!==L&&n!==L&&My(L,r);const Q=r[ai];null!==Q&&Q.insertView(t),ch(r),r[en]|=128}(c,r,t,n),s){const L=df(n,t),Q=r[ln],ue=$c(Q,t[li]);null!==ue&&function dx(t,r,n,s,c,x){s[io]=c,s[Xo]=r,Gc(t,s,n,1,c,x)}(c,t[Xo],Q,r,ue,L)}const x=r[os];null!==x&&null!==x.firstChild&&(x.firstChild=null)}function ou(t,r,n,s,c=!1){for(;null!==n;){if(128===n.type){n=c?n.projectionNext:n.next;continue}const x=r[n.index];null!==x&&s.push(jn(x)),Zo(x)&&sv(x,s);const L=n.type;if(8&L)ou(t,r,n.child,s);else if(32&L){const Q=rf(n,r);let ue;for(;ue=Q();)s.push(ue)}else if(16&L){const Q=Ly(r,n);if(Array.isArray(Q))s.push(...Q);else{const ue=xi(r[ao]);ou(ue[Nr],ue,Q,s,!0)}}n=c?n.projectionNext:n.next}return s}function sv(t,r){for(let n=yo;n<t.length;n++){const s=t[n],c=s[Nr].firstChild;null!==c&&ou(s[Nr],s,c,r)}t[li]!==t[io]&&r.push(t[li])}let iv=[];const Zx={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Bs]=this}},eC={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let r=xi(t.lView);for(;r&&!av(r[Nr]);)r=xi(r);r&&Rm(r)},consumerOnSignalRead(){this.lView[Bs]=this}};function av(t){return 2!==t.type}const tC=100;function Xc(t,r=!0,n=0){const s=t[ii],c=s.rendererFactory;var L;null===(L=c.begin)||void 0===L||L.call(c);try{!function rC(t,r){const n=Gm();try{Hm(!0),Cf(t,r);let s=0;for(;Ll(t);){if(s===tC)throw new Rr(103,!1);s++,Cf(t,1)}}finally{Hm(n)}}(t,n)}catch(xe){throw r&&Wc(t,xe),xe}finally{var Q,ue;null===(Q=c.end)||void 0===Q||Q.call(c),null===(ue=s.inlineEffectRunner)||void 0===ue||ue.flush()}}function nC(t,r,n,s){var c;const x=r[en];if(!(256&~x))return;null===(c=r[ii].inlineEffectRunner)||void 0===c||c.flush(),vh(r);let ue=!0,xe=null,ke=null;av(t)?(ke=function Kx(t){var r;return null!==(r=t[Bs])&&void 0!==r?r:function Yx(t){var r;const n=null!==(r=iv.pop())&&void 0!==r?r:Object.create(Zx);return n.lView=t,n}(t)}(r),xe=u(ke)):null===function $(){return A}()?(ue=!1,ke=function Qx(t){var r;const n=null!==(r=t[Bs])&&void 0!==r?r:Object.create(eC);return n.lView=t,n}(r),xe=u(ke)):r[Bs]&&(g(r[Bs]),r[Bs]=null);try{Pm(r),function zm(t){return un.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Wy(t,r,n,2,s);const Ke=!(3&~x);if(Ke){const jt=t.preOrderCheckHooks;null!==jt&&hc(r,jt,null)}else{const jt=t.preOrderHooks;null!==jt&&fc(r,jt,0,null),_h(r,0)}if(function oC(t){for(let r=Lg(t);null!==r;r=Fg(r)){if(!(r[en]&sc.HasTransplantedViews))continue;const n=r[Na];for(let s=0;s<n.length;s++)Rm(n[s])}}(r),uv(r,0),null!==t.contentQueries&&ev(t,r),Ke){const jt=t.contentCheckHooks;null!==jt&&hc(r,jt)}else{const jt=t.contentHooks;null!==jt&&fc(r,jt,1),_h(r,1)}!function Ex(t,r){const n=t.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const c=n[s];if(c<0)ta(~c);else{const x=c,L=n[++s],Q=n[++s];Jw(L,x),Q(2,r[x])}}}finally{ta(-1)}}(t,r);const xt=t.components;null!==xt&&dv(r,xt,0);const Pt=t.viewQuery;if(null!==Pt&&wf(2,Pt,s),Ke){const jt=t.viewCheckHooks;null!==jt&&hc(r,jt)}else{const jt=t.viewHooks;null!==jt&&fc(r,jt,2),_h(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Ol]){for(const jt of r[Ol])jt();r[Ol]=null}r[en]&=-73}catch(Ke){throw ac(r),Ke}finally{null!==ke&&(d(ke,xe),ue&&function Jx(t){t.lView[Bs]!==t&&(t.lView=null,iv.push(t))}(ke)),bh()}}function uv(t,r){for(let n=Lg(t);null!==n;n=Fg(n))for(let s=yo;s<n.length;s++)cv(n[s],r)}function sC(t,r,n){cv(Cs(r,t),n)}function cv(t,r){uh(t)&&Cf(t,r)}function Cf(t,r){const s=t[Nr],c=t[en],x=t[Bs];let L=!!(0===r&&16&c);if(L||(L=!!(64&c&&0===r)),L||(L=!!(1024&c)),L||(L=!(null==x||!x.dirty||!h(x))),L||(L=!1),x&&(x.dirty=!1),t[en]&=-9217,L)nC(s,t,s.template,t[Zn]);else if(8192&c){uv(t,1);const Q=s.components;null!==Q&&dv(t,Q,1)}}function dv(t,r,n){for(let s=0;s<r.length;s++)sC(t,r[s],n)}function su(t,r){var n;const s=Gm()?64:1088;for(null===(n=t[ii].changeDetectionScheduler)||void 0===n||n.notify(r);t;){t[en]|=s;const c=xi(t);if(Rl(t)&&!c)return t;t=c}return null}class iu{get rootNodes(){const r=this._lView,n=r[Nr];return ou(n,r,n.firstChild,[])}constructor(r,n,s=!0){this._lView=r,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(r){this._lView[Zn]=r}get destroyed(){return!(256&~this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Co];if(Zo(r)){const n=r[8],s=n?n.indexOf(this):-1;s>-1&&(tu(r,s),Ta(n,s))}this._attachedToViewContainer=!1}Bc(this._lView[Nr],this._lView)}onDestroy(r){lc(this._lView,r)}markForCheck(){su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[en]&=-129}reattach(){ch(this._lView),this._lView[en]|=128}detectChanges(){this._lView[en]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Rr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=Rl(this._lView),n=this._lView[Ji];null!==n&&!r&&af(n,this._lView),Ay(this._lView[Nr],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Rr(902,!1);this._appRef=r;const n=Rl(this._lView),s=this._lView[Ji];null!==s&&!n&&My(s,this._lView),ch(this._lView)}}let au=(()=>{class r{}return r.__NG_ELEMENT_ID__=lC,r})();const iC=au,aC=class extends iC{constructor(r,n,s){super(),this._declarationLView=r,this._declarationTContainer=n,this.elementRef=s}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,n){return this.createEmbeddedViewImpl(r,n)}createEmbeddedViewImpl(r,n,s){const c=Ja(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:n,dehydratedView:s});return new iu(c)}};function lC(){return qc(Hn(),Sr())}function qc(t,r){return 4&t.type?new aC(r,t,Ba(t,r)):null}let Ov=()=>null;function ha(t,r){return Ov(t,r)}class el{}const mu=new $r("",{providedIn:"root",factory:()=>!1}),Pv=new $r("");class eD{}class Rv{}class rD{resolveComponentFactory(r){throw function tD(t){const r=Error(`No component factory found for ${Xn(t)}.`);return r.ngComponent=t,r}(r)}}class gu{}gu.NULL=new rD;class Nf{}let nD=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function oD(){const t=Sr(),n=Cs(Hn().index,t);return(Uo(n)?n:t)[ln]}(),r})(),sD=(()=>{var t;class r{}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>null}),r})();const Nv=new Set;function as(t){var r,n;Nv.has(t)||(Nv.add(t),null===(r=performance)||void 0===r||null===(n=r.mark)||void 0===n||n.call(r,"mark_feature_usage",{detail:{feature:t}}))}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{});const Lv={destroy(){}};function Fv(t,r){var n,s;!r&&function rc(t){if(!_m())throw new Rr(-203,!1)}();const c=null!==(n=null==r?void 0:r.injector)&&void 0!==n?n:kr(Bo);return function ms(t){return"browser"===(null!=t?t:kr(Bo)).get(Lh)}(c)?(as("NgAfterNextRender"),function Uv(t,r,n,s){var c;const x=function aD(t,r){if(t instanceof Function)switch(r){case ls.EarlyRead:return{earlyRead:t};case ls.Write:return{write:t};case ls.MixedReadWrite:return{mixedReadWrite:t};case ls.Read:return{read:t}}return t}(t,s),L=r.get(ed),Q=null!==(c=L.handler)&&void 0!==c?c:L.handler=new uD,ue=[],xe=[],ke=()=>{for(const jt of xe)Q.unregister(jt);Ke()},Ke=r.get(Gl).onDestroy(ke);let xt=0;const Pt=(jt,hr)=>{if(!hr)return;const Ar=n?(...gr)=>(xt--,xt<1&&ke(),hr(...gr)):hr,jr=bm(r,()=>new lD(jt,ue,Ar));Q.register(jr),xe.push(jr),xt++};return Pt(ls.EarlyRead,x.earlyRead),Pt(ls.Write,x.write),Pt(ls.MixedReadWrite,x.mixedReadWrite),Pt(ls.Read,x.read),{destroy:ke}}(t,c,!0,null!==(s=null==r?void 0:r.phase)&&void 0!==s?s:ls.MixedReadWrite)):Lv}class lD{constructor(r,n,s){var c;this.phase=r,this.pipelinedArgs=n,this.callbackFn=s,this.zone=kr(no),this.errorHandler=kr(fi,{optional:!0}),null===(c=kr(el,{optional:!0}))||void 0===c||c.notify(6)}invoke(){try{const n=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,n)}catch(n){var r;null===(r=this.errorHandler)||void 0===r||r.handleError(n)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[ls.EarlyRead]:new Set,[ls.Write]:new Set,[ls.MixedReadWrite]:new Set,[ls.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const n of r)n.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var s;this.executeInternalCallbacks(),null===(s=this.handler)||void 0===s||s.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of s)c()}ngOnDestroy(){var s;null===(s=this.handler)||void 0===s||s.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();function Ni(t){return!!Jr(t)}function rd(t,r,n){let s=n?t.styles:null,c=n?t.classes:null,x=0;if(null!==r)for(let L=0;L<r.length;L++){const Q=r[L];"number"==typeof Q?x=Q:1==x?c=ks(c,Q):2==x&&(s=ks(s,Q+": "+r[++L]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=c:t.classesWithoutHost=c}class Vv extends gu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const n=qt(r);return new bu(n,this.ngModule)}}function Gv(t,r){const n=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const c=t[s];if(void 0===c)continue;const x=Array.isArray(c),L=x?c[0]:c;n.push(r?{propName:L,templateName:s,isSignal:!!((x?c[1]:Ei.None)&Ei.SignalBased)}:{propName:L,templateName:s})}return n}class bu extends Rv{get inputs(){const r=this.componentDef,n=r.inputTransforms,s=Gv(r.inputs,!0);if(null!==n)for(const c of s)n.hasOwnProperty(c.propName)&&(c.transform=n[c.propName]);return s}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(r,n){super(),this.componentDef=r,this.ngModule=n,this.componentType=r.type,this.selector=function se(t){return t.map(mm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!n}create(r,n,s,c){const x=ie(null);try{var Q;let ue=(c=c||this.ngModule)instanceof Us?c:null===(Q=c)||void 0===Q?void 0:Q.injector;ue&&null!==this.componentDef.getStandaloneInjector&&(ue=this.componentDef.getStandaloneInjector(ue)||ue);const xe=ue?new ra(r,ue):r,ke=xe.get(Nf,null);if(null===ke)throw new Rr(407,!1);const Ke=xe.get(sD,null),jt={rendererFactory:ke,sanitizer:Ke,inlineEffectRunner:null,afterRenderEventManager:xe.get(ed,null),changeDetectionScheduler:xe.get(el,null)},hr=ke.createRenderer(null,this.componentDef),Ar=this.componentDef.selectors[0][0]||"div",jr=s?function xx(t,r,n,s){const x=s.get(ry,!1)||n===wi.ShadowDom,L=t.selectRootElement(r,x);return function Cx(t){qy(t)}(L),L}(hr,s,this.componentDef.encapsulation,xe):Uc(hr,Ar,function hD(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ar));let gr=512;this.componentDef.signals?gr|=4096:this.componentDef.onPush||(gr|=16);let tn=null;null!==jr&&(tn=Vh(jr,xe,!0));const dn=yf(0,null,null,1,0,null,null,null,null,null,null),On=Hc(null,dn,null,gr,null,null,jt,hr,xe,null,tn);let Ko,es;vh(On);try{const ri=this.componentDef;let ba,um=null;ri.findHostDirectiveDefs?(ba=[],um=new Map,ri.findHostDirectiveDefs(ri,ba,um),ba.push(ri)):ba=[ri];const Ij=function pD(t,r){const n=t[Nr],s=Zr;return t[s]=r,ua(n,s,2,"#host",null)}(On,jr),jj=function mD(t,r,n,s,c,x,L){const Q=c[Nr];!function gD(t,r,n,s){for(const c of t)r.mergedAttrs=Pi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(rd(r,r.mergedAttrs,!0),null!==n&&$y(s,n,r))}(s,t,r,L);let ue=null;null!==r&&(ue=Vh(r,c[Do]));const xe=x.rendererFactory.createRenderer(r,n);let ke=16;n.signals?ke=4096:n.onPush&&(ke=64);const Ke=Hc(c,Xy(n),null,ke,c[t.index],t,x,xe,null,null,ue);return Q.firstCreatePass&&bf(Q,t,s.length-1),zc(c,Ke),c[t.index]=Ke}(Ij,jr,ri,ba,On,jt,hr);es=Nl(dn,Zr),jr&&function vD(t,r,n,s){if(s)Tl(t,n,["ng-version","18.1.3"]);else{const{attrs:c,classes:x}=function he(t){const r=[],n=[];let s=1,c=2;for(;s<t.length;){let x=t[s];if("string"==typeof x)2===c?""!==x&&r.push(x,t[++s]):8===c&&n.push(x);else{if(!xs(c))break;c=x}s++}return{attrs:r,classes:n}}(r.selectors[0]);c&&Tl(t,n,c),x&&x.length>0&&By(t,n,x.join(" "))}}(hr,ri,jr,s),void 0!==n&&function bD(t,r,n){const s=t.projection=[];for(let c=0;c<r.length;c++){const x=n[c];s.push(null!=x?Array.from(x):null)}}(es,this.ngContentSelectors,n),Ko=function yD(t,r,n,s,c,x){const L=Hn(),Q=c[Nr],ue=ss(L,c);Jy(Q,c,L,n,null,s);for(let ke=0;ke<n.length;ke++)Qo(na(c,Q,L.directiveStart+ke,L),c);Zy(Q,c,L),ue&&Qo(ue,c);const xe=na(c,Q,L.directiveStart+L.componentOffset,L);if(t[Zn]=c[Zn]=xe,null!==x)for(const ke of x)ke(xe,r);return pf(Q,L,c),xe}(jj,ri,ba,um,On,[_D]),Sf(dn,On,null)}finally{bh()}return new fD(this.componentType,Ko,Ba(es,On),On,es)}finally{ie(x)}}}class fD extends eD{constructor(r,n,s,c,x){super(),this.location=s,this._rootLView=c,this._tNode=x,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new iu(c,void 0,!1),this.componentType=r}setInput(r,n){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[r])){var x;if(null!==(x=this.previousInputValues)&&void 0!==x||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),n))return;const L=this._rootLView;Ef(L[Nr],L,c,r,n),this.previousInputValues.set(r,n),su(Cs(this._tNode.index,L),1)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function _D(){const t=Hn();dc(Sr()[Nr],t)}let nd=(()=>{class r{}return r.__NG_ELEMENT_ID__=wD,r})();function wD(){return Wv(Hn(),Sr())}const ED=nd,Hv=class extends ED{constructor(r,n,s){super(),this._lContainer=r,this._hostTNode=n,this._hostLView=s}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const r=gc(this._hostTNode,this._hostLView);if(Sh(r)){const n=Vl(r,this._hostLView),s=$l(r);return new Oo(n[Nr].data[s+8],n)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const n=zv(this._lContainer);return null!==n&&n[r]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(r,n,s){let c,x;"number"==typeof s?c=s:null!=s&&(c=s.index,x=s.injector);const L=ha(this._lContainer,r.ssrId),Q=r.createEmbeddedViewImpl(n||{},x,L);return this.insertImpl(Q,c,ca(this._hostTNode,L)),Q}createComponent(r,n,s,c,x){var L,Q,ue;const xe=r&&!function Il(t){return"function"==typeof t}(r);let ke;if(xe)ke=n;else{const jr=n||{};ke=jr.index,s=jr.injector,c=jr.projectableNodes,x=jr.environmentInjector||jr.ngModuleRef}const Ke=xe?r:new bu(qt(r)),xt=s||this.parentInjector;if(!x&&null==Ke.ngModule){const gr=(xe?xt:this.parentInjector).get(Us,null);gr&&(x=gr)}const Pt=qt(null!==(L=Ke.componentType)&&void 0!==L?L:{}),jt=ha(this._lContainer,null!==(Q=null==Pt?void 0:Pt.id)&&void 0!==Q?Q:null),hr=null!==(ue=null==jt?void 0:jt.firstChild)&&void 0!==ue?ue:null,Ar=Ke.create(xt,c,hr,x);return this.insertImpl(Ar.hostView,ke,ca(this._hostTNode,jt)),Ar}insert(r,n){return this.insertImpl(r,n,!0)}insertImpl(r,n,s){const c=r._lView;if(function $w(t){return Zo(t[Co])}(c)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ue=c[Co],xe=new Hv(ue,ue[Xo],ue[Co]);xe.detach(xe.indexOf(r))}}const x=this._adjustIndex(n),L=this._lContainer;return Za(L,c,x,s),r.attachToViewContainerRef(),Gd(Bf(L),x,r),r}move(r,n){return this.insert(r,n)}indexOf(r){const n=zv(this._lContainer);return null!==n?n.indexOf(r):-1}remove(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);s&&(Ta(Bf(this._lContainer),n),Bc(s[Nr],s))}detach(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);return s&&null!=Ta(Bf(this._lContainer),n)?new iu(s):null}_adjustIndex(r,n=0){return null==r?this.length+n:r}};function zv(t){return t[8]}function Bf(t){return t[8]||(t[8]=[])}function Wv(t,r){let n;const s=r[t.index];return Zo(s)?n=s:(n=Qy(s,r,null,t),r[t.index]=n,zc(r,n)),Xv(n,r,t,s),new Hv(n,t,r)}let Xv=function Kv(t,r,n,s){if(t[li])return;let c;c=8&n.type?jn(s):function SD(t,r){const n=t[ln],s=n.createComment(""),c=ss(r,t);return aa(n,$c(n,c),s,function yx(t,r){return t.nextSibling(r)}(n,c),!1),s}(r,n),t[li]=c},$f=()=>!1;class Vf{constructor(r){this.queryList=r,this.matches=null}clone(){return new Vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const n=r.queries;if(null!==n){const s=null!==r.contentQueries?r.contentQueries[0]:n.length,c=[];for(let x=0;x<s;x++){const L=n.getByIndex(x);c.push(this.queries[L.indexInDeclarationView].clone())}return new Gf(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let n=0;n<this.queries.length;n++)null!==qf(r,n).matches&&this.queries[n].setDirty()}}class Yv{constructor(r,n,s=null){this.flags=n,this.read=s,this.predicate="string"==typeof r?function jD(t){return t.split(",").map(r=>r.trim())}(r):r}}class Hf{constructor(r=[]){this.queries=r}elementStart(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(r,n)}elementEnd(r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(r)}embeddedTView(r){let n=null;for(let s=0;s<this.length;s++){const c=null!==n?n.length:0,x=this.getByIndex(s).embeddedTView(r,c);x&&(x.indexInDeclarationView=s,null!==n?n.push(x):n=[x])}return null!==n?new Hf(n):null}template(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(r,n)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class zf{constructor(r,n=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(r,n){this.isApplyingToNode(n)&&this.matchTNode(r,n)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,n){this.elementStart(r,n)}embeddedTView(r,n){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,n),new zf(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let s=r.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(r,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const x=s[c];this.matchTNodeWithReadOption(r,n,TD(n,x)),this.matchTNodeWithReadOption(r,n,yc(n,r,x,!1,!1))}else s===au?4&n.type&&this.matchTNodeWithReadOption(r,n,-1):this.matchTNodeWithReadOption(r,n,yc(n,r,s,!1,!1))}matchTNodeWithReadOption(r,n,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Hl||c===nd||c===au&&4&n.type)this.addMatch(n.index,-2);else{const x=yc(n,r,c,!1,!1);null!==x&&this.addMatch(n.index,x)}else this.addMatch(n.index,s)}}addMatch(r,n){null===this.matches?this.matches=[r,n]:this.matches.push(r,n)}}function TD(t,r){const n=t.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===r)return n[s+1];return null}function MD(t,r,n,s){return-1===n?function AD(t,r){return 11&t.type?Ba(t,r):4&t.type?qc(t,r):null}(r,t):-2===n?function ID(t,r,n){return n===Hl?Ba(r,t):n===au?qc(r,t):n===nd?Wv(r,t):void 0}(t,r,s):na(t,t[Nr],n,r)}function Jv(t,r,n,s){const c=r[ai].queries[s];if(null===c.matches){const x=t.data,L=n.matches,Q=[];for(let ue=0;null!==L&&ue<L.length;ue+=2){const xe=L[ue];Q.push(xe<0?null:MD(r,x[xe],L[ue+1],n.metadata.read))}c.matches=Q}return c.matches}function Wf(t,r,n,s){const c=t.queries.getByIndex(n),x=c.matches;if(null!==x){const L=Jv(t,r,c,n);for(let Q=0;Q<x.length;Q+=2){const ue=x[Q];if(ue>0)s.push(L[Q/2]);else{const xe=x[Q+1],ke=r[-ue];for(let Ke=yo;Ke<ke.length;Ke++){const xt=ke[Ke];xt[Ji]===xt[Co]&&Wf(xt[Nr],xt,xe,s)}if(null!==ke[Na]){const Ke=ke[Na];for(let xt=0;xt<Ke.length;xt++){const Pt=Ke[xt];Wf(Pt[Nr],Pt,xe,s)}}}}}return s}function Zv(t,r,n){var s;const c=new Ph(!(4&~n));return function Ax(t,r,n,s){const c=tv(r);c.push(n),t.firstCreatePass&&rv(t).push(s,c.length-1)}(t,r,c,c.destroy),(null!==(s=r[ai])&&void 0!==s?s:r[ai]=new Gf).queries.push(new Vf(c))-1}function t0(t,r,n){null===t.queries&&(t.queries=new Hf),t.queries.track(new zf(r,n))}function qf(t,r){return t.queries.getByIndex(r)}function r0(t,r){const n=t[Nr],s=qf(n,r);return s.crossesNgTemplate?Wf(n,t,r,[]):Jv(n,t,s,r)}function o0(t,r){as("NgSignals");const n=function G(t){const r=Object.create(oe);r.value=t;const n=()=>(m(r),r.value);return n[o]=r,n}(t),s=n[o];return null!=r&&r.equal&&(s.equal=r.equal),n.set=c=>Me(s,c),n.update=c=>function K(t,r){a()||z(),Me(t,r(t.value))}(s,c),n.asReadonly=s0.bind(n),n}function s0(){const t=this[o];if(void 0===t.readonlyFn){const r=()=>this();r[o]=t,t.readonlyFn=r}return t.readonlyFn}function a0(t){return function n0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Yf(t){let r=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const s=[t];for(;r;){let c;if(Ks(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Rr(903,!1);c=r.\u0275dir}if(c){if(n){s.push(c);const L=t;L.inputs=sd(t.inputs),L.inputTransforms=sd(t.inputTransforms),L.declaredInputs=sd(t.declaredInputs),L.outputs=sd(t.outputs);const Q=c.hostBindings;Q&&WD(t,Q);const ue=c.viewQuery,xe=c.contentQueries;if(ue&&HD(t,ue),xe&&zD(t,xe),VD(t,c),Rs(t.outputs,c.outputs),Ks(c)&&c.data.animation){const ke=t.data;ke.animation=(ke.animation||[]).concat(c.data.animation)}}const x=c.features;if(x)for(let L=0;L<x.length;L++){const Q=x[L];Q&&Q.ngInherit&&Q(t),Q===Yf&&(n=!1)}}r=Object.getPrototypeOf(r)}!function GD(t){let r=0,n=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=r+=c.hostVars,c.hostAttrs=Pi(c.hostAttrs,n=Pi(n,c.hostAttrs))}}(s)}function VD(t,r){for(const s in r.inputs){if(!r.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const c=r.inputs[s];if(void 0!==c&&(t.inputs[s]=c,t.declaredInputs[s]=r.declaredInputs[s],null!==r.inputTransforms)){var n;const x=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(x))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[x]=r.inputTransforms[x]}}}function sd(t){return t===Es?{}:t===Sn?[]:t}function HD(t,r){const n=t.viewQuery;t.viewQuery=n?(s,c)=>{r(s,c),n(s,c)}:r}function zD(t,r){const n=t.contentQueries;t.contentQueries=n?(s,c,x)=>{r(s,c,x),n(s,c,x)}:r}function WD(t,r){const n=t.hostBindings;t.hostBindings=n?(s,c)=>{r(s,c),n(s,c)}:r}function E0(t){const r=t.inputConfig,n={};for(const s in r)if(r.hasOwnProperty(s)){const c=r[s];Array.isArray(c)&&c[3]&&(n[s]=c[3])}t.inputTransforms=n}class fa{}class S0{}function ZD(t,r){return new Jf(t,null!=r?r:null,[])}class Jf extends fa{constructor(r,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const c=Jr(r);this._bootstrapComponents=Ds(c.bootstrap),this._r3Injector=bg(r,n,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...s],Xn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Zf extends S0{constructor(r){super(),this.moduleType=r}create(r){return new Jf(this.moduleType,r,[])}}class x0 extends fa{constructor(r){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const n=new Ia([...r.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],r.parent||tc(),r.debugName,new Set(["environment"]));this.injector=n,r.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qf(t,r,n=null){return new x0({providers:t,parent:r,debugName:n,runEnvironmentInitializers:!0}).injector}function id(t){return!!ep(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ep(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,r,n){return!Object.is(t[r],n)&&(t[r]=n,!0)}function Eu(t,r,n,s,c,x,L,Q,ue,xe){const ke=n+Zr,Ke=r.firstCreatePass?function oT(t,r,n,s,c,x,L,Q,ue){const xe=r.consts,ke=ua(r,t,4,L||null,Q||null);vf(r,n,ke,$s(xe,ue)),dc(r,ke);const Ke=ke.tView=yf(2,ke,s,c,x,r.directiveRegistry,r.pipeRegistry,null,r.schemas,xe,null);return null!==r.queries&&(r.queries.template(r,ke),Ke.queries=r.queries.embeddedTView(ke)),ke}(ke,r,t,s,c,x,L,Q,ue):r.data[ke];Ys(Ke,!1);const xt=C0(r,t,Ke,n);Ul()&&Vc(r,t,xt,Ke),Qo(xt,t);const Pt=Qy(xt,t,xt,Ke);return t[ke]=Pt,zc(t,Pt),function qv(t,r,n){return $f(t,r,n)}(Pt,Ke,t),ic(Ke)&&mf(r,t,Ke),null!=ue&&gf(t,Ke,xe),Ke}function tp(t,r,n,s,c,x,L,Q){const ue=Sr(),xe=gn();return Eu(ue,xe,t,r,n,s,c,$s(xe.consts,x),L,Q),tp}let C0=function D0(t,r,n,s){return ci(!0),r[ln].createComment("")};function hp(t,r,n,s){const c=Sr();return vo(c,Js(),r)&&(gn(),pi(Qn(),c,t,r,n,s)),hp}function dl(t,r,n,s,c,x){const Q=function pa(t,r,n,s){const c=vo(t,r,n);return vo(t,r+1,s)||c}(t,function Ci(){return un.lFrame.bindingIndex}(),n,c);return Di(2),Q?r+an(n)+s+an(c)+x:cn}function fd(t,r){return t<<17|r<<2}function Ui(t){return t>>17&32767}function fp(t){return 2|t}function ga(t){return(131068&t)>>2}function pp(t,r){return-131069&t|r<<2}function mp(t){return 1|t}function nb(t,r,n,s){const c=t[n+1],x=null===r;let L=s?Ui(c):ga(c),Q=!1;for(;0!==L&&(!1===Q||x);){const xe=t[L+1];GT(t[L],r)&&(Q=!0,t[L+1]=s?mp(xe):fp(xe)),L=s?Ui(xe):ga(xe)}Q&&(t[n+1]=s?fp(c):mp(c))}function GT(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&zi(t,r)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function ib(t,r){const n=Po.textEnd;let s=Po.key=vl(t,r,n);return n===s?-1:(s=Po.keyEnd=function qT(t,r,n){let s;for(;r<n&&(45===(s=t.charCodeAt(r))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)r++;return r}(t,s,n),s=lb(t,s,n),s=Po.value=vl(t,s,n),s=Po.valueEnd=function KT(t,r,n){let s=-1,c=-1,x=-1,L=r,Q=L;for(;L<n;){const ue=t.charCodeAt(L++);if(59===ue)return Q;34===ue||39===ue?Q=L=ub(t,ue,L,n):r===L-4&&85===x&&82===c&&76===s&&40===ue?Q=L=ub(t,41,L,n):ue>32&&(Q=L),x=c,c=s,s=-33&ue}return Q}(t,s,n),lb(t,s,n))}function vl(t,r,n){for(;r<n&&t.charCodeAt(r)<=32;)r++;return r}function lb(t,r,n,s){return(r=vl(t,r,n))<n&&r++,r}function ub(t,r,n,s){let c=-1,x=n;for(;x<s;){const L=t.charCodeAt(x++);if(L==r&&92!==c)return x;c=92==L&&92===c?0:L}throw new Error}function gp(t,r,n){const s=Sr();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),gp}function yp(t,r,n,s,c){const L=c?"class":"style";Ef(t,n,r.inputs[L],L,s)}function vp(t,r){return function Qs(t,r,n,s){const c=Sr(),x=gn(),L=Di(2);x.firstUpdatePass&&hb(x,t,L,s),r!==cn&&vo(c,L,r)&&pb(x,x.data[qo()],c,c[ln],t,c[L+1]=function sA(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Xn(Ti(t)))),t}(r,n),s,L)}(t,r,null,!0),vp}function Zs(t){!function ei(t,r,n,s){const c=gn(),x=Di(2);c.firstUpdatePass&&hb(c,null,x,s);const L=Sr();if(n!==cn&&vo(L,x,n)){const Q=c.data[qo()];if(gb(Q,s)&&!db(c,x)){let ue=s?Q.classesWithoutHost:Q.stylesWithoutHost;null!==ue&&(n=ks(ue,n||"")),yp(c,Q,L,n,s)}else!function oA(t,r,n,s,c,x,L,Q){c===cn&&(c=Sn);let ue=0,xe=0,ke=0<c.length?c[0]:null,Ke=0<x.length?x[0]:null;for(;null!==ke||null!==Ke;){const xt=ue<c.length?c[ue+1]:void 0,Pt=xe<x.length?x[xe+1]:void 0;let hr,jt=null;ke===Ke?(ue+=2,xe+=2,xt!==Pt&&(jt=Ke,hr=Pt)):null===Ke||null!==ke&&ke<Ke?(ue+=2,jt=ke):(xe+=2,jt=Ke,hr=Pt),null!==jt&&pb(t,r,n,s,jt,hr,L,Q),ke=ue<c.length?c[ue]:null,Ke=xe<x.length?x[xe]:null}}(c,Q,L,L[ln],L[x+1],L[x+1]=function rA(t,r,n){if(null==n||""===n)return Sn;const s=[],c=Ti(n);if(Array.isArray(c))for(let x=0;x<c.length;x++)t(s,c[x],!0);else if("object"==typeof c)for(const x in c)c.hasOwnProperty(x)&&t(s,x,c[x]);else"string"==typeof c&&r(s,c);return s}(t,r,n),s,x)}}(fb,YT,t,!1)}function YT(t,r){for(let n=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),ib(t,vl(t,0,Po.textEnd))}(r);n>=0;n=ib(r,n))fb(t,ob(r),HT(r))}function db(t,r){return r>=t.expandoStartIndex}function hb(t,r,n,s){const c=t.data;if(null===c[n+1]){const x=c[qo()],L=db(t,n);gb(x,s)&&null===r&&!L&&(r=!1),r=function ZT(t,r,n,s){const c=function gh(t){const r=un.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let x=s?r.residualClasses:r.residualStyles;if(null===c)0===(s?r.classBindings:r.styleBindings)&&(n=Du(n=bp(null,t,r,n,s),r.attrs,s),x=null);else{const L=r.directiveStylingLast;if(-1===L||t[L]!==c)if(n=bp(c,t,r,n,s),null===x){let ue=function QT(t,r,n){const s=n?r.classBindings:r.styleBindings;if(0!==ga(s))return t[Ui(s)]}(t,r,s);void 0!==ue&&Array.isArray(ue)&&(ue=bp(null,t,r,ue[1],s),ue=Du(ue,r.attrs,s),function eA(t,r,n,s){t[Ui(n?r.classBindings:r.styleBindings)]=s}(t,r,s,ue))}else x=function tA(t,r,n){let s;const c=r.directiveEnd;for(let x=1+r.directiveStylingLast;x<c;x++)s=Du(s,t[x].hostAttrs,n);return Du(s,r.attrs,n)}(t,r,s)}return void 0!==x&&(s?r.residualClasses=x:r.residualStyles=x),n}(c,x,r,s),function $T(t,r,n,s,c,x){let L=x?r.classBindings:r.styleBindings,Q=Ui(L),ue=ga(L);t[s]=n;let ke,xe=!1;if(Array.isArray(n)?(ke=n[1],(null===ke||zi(n,ke)>0)&&(xe=!0)):ke=n,c)if(0!==ue){const xt=Ui(t[Q+1]);t[s+1]=fd(xt,Q),0!==xt&&(t[xt+1]=pp(t[xt+1],s)),t[Q+1]=function UT(t,r){return 131071&t|r<<17}(t[Q+1],s)}else t[s+1]=fd(Q,0),0!==Q&&(t[Q+1]=pp(t[Q+1],s)),Q=s;else t[s+1]=fd(ue,0),0===Q?Q=s:t[ue+1]=pp(t[ue+1],s),ue=s;xe&&(t[s+1]=fp(t[s+1])),nb(t,ke,s,!0),nb(t,ke,s,!1),function VT(t,r,n,s,c){const x=c?t.residualClasses:t.residualStyles;null!=x&&"string"==typeof r&&zi(x,r)>=0&&(n[s+1]=mp(n[s+1]))}(r,ke,t,s,x),L=fd(Q,ue),x?r.classBindings=L:r.styleBindings=L}(c,x,r,n,L,s)}}function bp(t,r,n,s,c){let x=null;const L=n.directiveEnd;let Q=n.directiveStylingLast;for(-1===Q?Q=n.directiveStart:Q++;Q<L&&(x=r[Q],s=Du(s,x.hostAttrs,c),x!==t);)Q++;return null!==t&&(n.directiveStylingLast=Q),s}function Du(t,r,n){const s=n?1:2;let c=-1;if(null!==r)for(let x=0;x<r.length;x++){const L=r[x];"number"==typeof L?c=L:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ns(t,L,!!n||r[++x]))}return void 0===t?null:t}function fb(t,r,n){ns(t,r,Ti(n))}function pb(t,r,n,s,c,x,L,Q){if(!(3&r.type))return;const ue=t.data,xe=ue[Q+1],ke=function BT(t){return!(1&~t)}(xe)?mb(ue,r,n,c,ga(xe),L):void 0;pd(ke)||(pd(x)||function FT(t){return!(2&~t)}(xe)&&(x=mb(ue,null,n,c,Q,L)),function _x(t,r,n,s,c){if(r)c?t.addClass(n,s):t.removeClass(n,s);else{let x=-1===s.indexOf("-")?void 0:Fc.DashCase;null==c?t.removeStyle(n,s,x):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),x|=Fc.Important),t.setStyle(n,s,c,x))}}(s,L,kl(qo(),n),c,x))}function mb(t,r,n,s,c,x){const L=null===r;let Q;for(;c>0;){const ue=t[c],xe=Array.isArray(ue),ke=xe?ue[1]:ue,Ke=null===ke;let xt=n[c+1];xt===cn&&(xt=Ke?Sn:void 0);let Pt=Ke?zu(xt,s):ke===s?xt:void 0;if(xe&&!pd(Pt)&&(Pt=zu(ue,s)),pd(Pt)&&(Q=Pt,L))return Q;const jt=t[c+1];c=L?Ui(jt):ga(jt)}if(null!==r){let ue=x?r.residualClasses:r.residualStyles;null!=ue&&(Q=zu(ue,s))}return Q}function pd(t){return void 0!==t}function gb(t,r){return!!(t.flags&(r?8:16))}function gd(t,r,n,s){const c=Sr(),x=gn(),L=Zr+t,Q=c[ln],ue=x.firstCreatePass?function AA(t,r,n,s,c,x){const L=r.consts,ue=ua(r,t,2,s,$s(L,c));return vf(r,n,ue,$s(L,x)),null!==ue.attrs&&rd(ue,ue.attrs,!1),null!==ue.mergedAttrs&&rd(ue,ue.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ue),ue}(L,x,c,r,n,s):x.data[L],xe=_b(x,c,ue,Q,r,t);c[L]=xe;const ke=ic(ue);return Ys(ue,!0),$y(Q,xe,ue),!function rl(t){return!(32&~t.flags)}(ue)&&Ul()&&Vc(x,c,xe,ue),0===function Vw(){return un.lFrame.elementDepthCount}()&&Qo(xe,c),function Gw(){un.lFrame.elementDepthCount++}(),ke&&(mf(x,c,ue),pf(x,ue,c)),null!==s&&gf(c,ue),gd}function yd(){let t=Hn();fh()?ph():(t=t.parent,Ys(t,!1));const r=t;(function zw(t){return un.skipHydrationRootTNode===t})(r)&&function Kw(){un.skipHydrationRootTNode=null}(),function Hw(){un.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(dc(n,t),nh(t)&&n.queries.elementEnd(t)),null!=r.classesWithoutHost&&function lE(t){return!!(8&t.flags)}(r)&&yp(n,r,Sr(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function uE(t){return!!(16&t.flags)}(r)&&yp(n,r,Sr(),r.stylesWithoutHost,!1),yd}function Sp(t,r,n,s){return gd(t,r,n,s),yd(),Sp}let _b=(t,r,n,s,c,x)=>(ci(!0),Uc(s,c,function Zm(){return un.lFrame.currentNamespace}()));function vd(t,r,n){const s=Sr(),c=gn(),x=t+Zr,L=c.firstCreatePass?function jA(t,r,n,s,c){const x=r.consts,L=$s(x,s),Q=ua(r,t,8,"ng-container",L);return null!==L&&rd(Q,L,!0),vf(r,n,Q,$s(x,c)),null!==r.queries&&r.queries.elementStart(r,Q),Q}(x,c,s,r,n):c.data[x];Ys(L,!0);const Q=wb(c,s,L,t);return s[x]=Q,Ul()&&Vc(c,s,Q,L),Qo(Q,s),ic(L)&&(mf(c,s,L),pf(c,L,s)),null!=n&&gf(s,L),vd}function bd(){let t=Hn();const r=gn();return fh()?ph():(t=t.parent,Ys(t,!1)),r.firstCreatePass&&(dc(r,t),nh(t)&&r.queries.elementEnd(t)),bd}function xp(t,r,n){return vd(t,r,n),bd(),xp}let wb=(t,r,n,s)=>(ci(!0),sf(r[ln],""));function Eb(){return Sr()}const ya=void 0;var kA=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RA(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let bl={};function Cp(t){const r=function NA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Db(r);if(n)return n;const s=r.split("-")[0];if(n=Db(s),n)return n;if("en"===s)return kA;throw new Rr(701,!1)}function Cb(t){return Cp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,r,n)=>{};function Ap(t,r,n,s){const c=Sr(),x=gn(),L=Hn();return Mp(x,c,c[ln],L,t,r,s),Ap}function Mp(t,r,n,s,c,x,L){const Q=ic(s),xe=t.firstCreatePass&&rv(t),ke=r[Zn],Ke=tv(r);let xt=!0;if(3&s.type||L){const hr=ss(s,r),Ar=L?L(hr):hr,jr=Ke.length,gr=L?dn=>L(jn(dn[s.index])):s.index;let tn=null;if(!L&&Q&&(tn=function S2(t,r,n,s){const c=t.cleanup;if(null!=c)for(let x=0;x<c.length-1;x+=2){const L=c[x];if(L===n&&c[x+1]===s){const Q=r[Yi],ue=c[x+2];return Q.length>ue?Q[ue]:null}"string"==typeof L&&(x+=2)}return null}(t,r,c,s.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=x,tn.__ngLastListenerFn__=x,xt=!1;else{x=Yb(s,r,ke,x),Wb(hr,c,x);const dn=n.listen(Ar,c,x);Ke.push(x,dn),xe&&xe.push(c,gr,jr,jr+1)}}else x=Yb(s,r,ke,x);const Pt=s.outputs;let jt;if(xt&&null!==Pt&&(jt=Pt[c])){const hr=jt.length;if(hr)for(let Ar=0;Ar<hr;Ar+=2){const On=r[jt[Ar]][jt[Ar+1]].subscribe(x),Ko=Ke.length;Ke.push(x,On),xe&&xe.push(c,s.index,Ko,-(Ko+1))}}}function Kb(t,r,n,s){const c=ie(null);try{return ui(6,r,n),!1!==n(s)}catch(x){return Wc(t,x),!1}finally{ui(7,r,n),ie(c)}}function Yb(t,r,n,s){return function c(x){if(x===Function)return s;su(t.componentOffset>-1?Cs(t.index,r):r,5);let Q=Kb(r,n,s,x),ue=c.__ngNextListenerFn__;for(;ue;)Q=Kb(r,n,ue,x)&&Q,ue=ue.__ngNextListenerFn__;return Q}}function Jb(t=1){return function eE(t){return(un.lFrame.contextLView=function km(t,r){for(;t>0;)r=r[Pa],t--;return r}(t,un.lFrame.contextLView))[Zn]}(t)}function x2(t,r){let n=null;const s=function dm(t){const r=t.attrs;if(null!=r){const n=r.indexOf(5);if(!(1&n))return r[n+1]}return null}(t);for(let c=0;c<r.length;c++){const x=r[c];if("*"!==x){if(null===s?Zu(t,x,!0):pm(s,x))return c}else n=c}return n}function Zb(t){const r=Sr()[ao][Xo];if(!r.projection){const s=r.projection=function Oi(t,r){const n=[];for(let s=0;s<t;s++)n.push(r);return n}(t?t.length:1,null),c=s.slice();let x=r.child;for(;null!==x;){if(128!==x.type){const L=t?x2(x,t):0;null!==L&&(c[L]?c[L].projectionNext=x:s[L]=x,c[L]=x)}x=x.next}}}function Qb(t,r=0,n,s,c,x){const L=Sr(),Q=gn(),ue=s?t+1:null;null!==ue&&Eu(L,Q,ue,s,c,x,null,n);const xe=ua(Q,Zr+t,16,null,n||null);null===xe.projection&&(xe.projection=r),ph();const Ke=!L[os]||ea();null===L[ao][Xo].projection[xe.projection]&&null!==ue?function C2(t,r,n){const s=Zr+n,c=r.data[s],x=t[s],L=ha(x,c.tView.ssrId);Za(x,Ja(t,c,void 0,{dehydratedView:L}),0,ca(c,L))}(L,Q,ue):Ke&&32&~xe.flags&&function vx(t,r,n){Uy(r[ln],0,r,n,uf(t,n,r),Py(n.parent||r[Xo],n,r))}(Q,L,xe)}function u_(t,r,n,s){!function e0(t,r,n,s){const c=gn();if(c.firstCreatePass){const x=Hn();t0(c,new Yv(r,n,s),x.index),function OD(t,r){const n=t.contentQueries||(t.contentQueries=[]);r!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,r)}(c,t),!(2&~n)&&(c.staticContentQueries=!0)}return Zv(c,Sr(),n)}(t,r,n,s)}function c_(t,r,n){!function Qv(t,r,n){const s=gn();return s.firstCreatePass&&(t0(s,new Yv(t,r,n),-1),!(2&~r)&&(s.staticViewQueries=!0)),Zv(s,Sr(),r)}(t,r,n)}function d_(t){const r=Sr(),n=gn(),s=yh();cc(s+1);const c=qf(n,s);if(t.dirty&&function Bw(t){return!(4&~t[en])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const x=r0(r,s);t.reset(x,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function Xf(t,r){return t[ai].queries[r].queryList}(Sr(),yh())}function f_(t){return function Qi(t,r){return t[r]}(function $m(){return un.lFrame.contextLView}(),Zr+t)}function S_(t,r=""){const n=Sr(),s=gn(),c=t+Zr,x=s.firstCreatePass?ua(s,c,1,r,null):s.data[c],L=x_(s,n,x,r,t);n[c]=L,Ul()&&Vc(s,n,L,x),Ys(x,!1)}let x_=(t,r,n,s,c)=>(ci(!0),function nf(t,r){return t.createText(r)}(r[ln],s));function Op(t){return Sd("",t,""),Op}function Sd(t,r,n){const s=Sr(),c=function cl(t,r,n,s){return vo(t,Js(),n)?r+an(n)+s:cn}(s,t,r,n);return c!==cn&&Mi(s,qo(),c),Sd}function Pp(t,r,n,s,c){const x=Sr(),L=dl(x,t,r,n,s,c);return L!==cn&&Mi(x,qo(),L),Pp}function Rp(t,r,n){a0(r)&&(r=r());const s=Sr();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),Rp}function O_(t,r){const n=a0(t);return n&&t.set(r),n}function kp(t,r){const n=Sr(),s=gn(),c=Hn();return Mp(s,n,n[ln],c,t,r),kp}function Np(t,r,n,s,c){if(t=Hr(t),Array.isArray(t))for(let x=0;x<t.length;x++)Np(t[x],r,n,s,c);else{const x=gn(),L=Sr(),Q=Hn();let ue=Ki(t)?t:Hr(t.provide);const xe=vm(t),ke=1048575&Q.providerIndexes,Ke=Q.directiveStart,xt=Q.providerIndexes>>20;if(Ki(t)||!t.multi){const Pt=new Bl(xe,c,Ya),jt=Fp(ue,r,c?ke:ke+xt,Ke);-1===jt?(Dh(mc(Q,L),x,ue),Lp(x,t,r.length),r.push(ue),Q.directiveStart++,Q.directiveEnd++,c&&(Q.providerIndexes+=1048576),n.push(Pt),L.push(Pt)):(n[jt]=Pt,L[jt]=Pt)}else{const Pt=Fp(ue,r,ke+xt,Ke),jt=Fp(ue,r,ke,ke+xt),Ar=jt>=0&&n[jt];if(c&&!Ar||!c&&!(Pt>=0&&n[Pt])){Dh(mc(Q,L),x,ue);const jr=function z2(t,r,n,s,c){const x=new Bl(t,n,Ya);return x.multi=[],x.index=r,x.componentProviders=0,k_(x,c,s&&!n),x}(c?H2:G2,n.length,c,s,xe);!c&&Ar&&(n[jt].providerFactory=jr),Lp(x,t,r.length,0),r.push(ue),Q.directiveStart++,Q.directiveEnd++,c&&(Q.providerIndexes+=1048576),n.push(jr),L.push(jr)}else Lp(x,t,Pt>-1?Pt:jt,k_(n[c?jt:Pt],xe,!c&&s));!c&&s&&Ar&&n[jt].componentProviders++}}}function Lp(t,r,n,s){const c=Ki(r),x=function mw(t){return!!t.useClass}(r);if(c||x){const ue=(x?Hr(r.useClass):r).prototype.ngOnDestroy;if(ue){const xe=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const ke=xe.indexOf(n);-1===ke?xe.push(n,[s,ue]):xe[ke+1].push(s,ue)}else xe.push(n,ue)}}}function k_(t,r,n){return n&&t.componentProviders++,t.multi.push(r)-1}function Fp(t,r,n,s){for(let c=n;c<s;c++)if(r[c]===t)return c;return-1}function G2(t,r,n,s){return Up(this.multi,[])}function H2(t,r,n,s){const c=this.multi;let x;if(this.providerFactory){const L=this.providerFactory.componentProviders,Q=na(n,n[Nr],this.providerFactory.index,s);x=Q.slice(0,L),Up(c,x);for(let ue=L;ue<Q.length;ue++)x.push(Q[ue])}else x=[],Up(c,x);return x}function Up(t,r){for(let n=0;n<t.length;n++)r.push((0,t[n])());return r}function N_(t,r=[]){return n=>{n.providersResolver=(s,c)=>function V2(t,r,n){const s=gn();if(s.firstCreatePass){const c=Ks(t);Np(n,s.data,s.blueprint,c,!0),Np(r,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,r)}}let W2=(()=>{var t;class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=qi(0,s.type),x=c.length>0?Qf([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,x)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Lr({token:t,providedIn:"environment",factory:()=>new t(Yr(Us))}),r})();function L_(t){as("NgStandalone"),t.getStandaloneInjector=r=>r.get(W2).getOrCreateStandaloneInjector(t)}function B_(t,r,n){const s=function is(){const t=un.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=Sr();return c[s]===cn?function mi(t,r,n){return t[r]=n}(c,s,n?r.call(n):r()):function wu(t,r){return t[r]}(c,s)}class a1{constructor(r){this.full=r;const n=r.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let l1=(()=>{var t;class r{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const h1=new $r(""),f1=new $r("");let Wp,sI=(()=>{var t;class r{constructor(s,c,x){this._ngZone=s,this.registry=c,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function iI(t){Wp=t}(x),x.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,x){let L=-1;c&&c>0&&(L=setTimeout(()=>{this._callbacks=this._callbacks.filter(Q=>Q.timeoutId!==L),s()},c)),this._callbacks.push({doneCb:s,timeoutId:L,updateCb:x})}whenStable(s,c,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,x),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,x){return[]}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(no),Yr(p1),Yr(f1))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac}),r})(),p1=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){var x,L;return null!==(x=null===(L=Wp)||void 0===L?void 0:L.findTestabilityInTree(this,s,c))&&void 0!==x?x:null}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new $r("");let qp=(()=>{var t;class r{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,x)=>{this.resolve=c,this.reject=x}),this.appInits=null!==(s=kr(g1,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const x of this.appInits){const L=x();if(Xp(L))s.push(L);else if(m1(L)){const Q=new Promise((ue,xe)=>{L.subscribe({complete:ue,error:xe})});s.push(Q)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(x=>{this.reject(x)}),0===s.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Ad=new $r("");function b1(t,r){return Array.isArray(r)?r.reduce(b1,t):{...t,...r}}let ti=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kr(NE),this.afterRenderEffectManager=kr(ed),this.zonelessEnabled=kr(mu),this.externalTestViews=new Set,this.beforeRender=new st.B,this.afterTick=new st.B,this.componentTypes=[],this.components=[],this.isStable=kr(oa).hasPendingTasks.pipe((0,Fe.T)(s=>!s)),this._injector=kr(Us)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const x=s instanceof Rv;if(!this._injector.get(qp).done)throw!x&&fn(s),new Rr(405,!1);let Q;Q=x?s:this._injector.get(gu).resolveComponentFactory(s),this.componentTypes.push(Q.componentType);const ue=function aI(t){return t.isBoundToModule}(Q)?void 0:this._injector.get(fa),ke=Q.create(Bo.NULL,[],c||Q.selector,ue),Ke=ke.location.nativeElement,xt=ke.injector.get(h1,null);return null==xt||xt.registerApplication(Ke),ke.onDestroy(()=>{this.detachView(ke.hostView),Md(this.components,ke),null==xt||xt.unregisterApplication(Ke)}),this._loadComponent(ke),ke}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new Rr(101,!1);const c=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(x){this.internalErrorHandler(x)}finally{this._runningTick=!1,ie(c),this.afterTick.next()}}detectChangesInAttachedViews(s){let c=null;this._injector.destroyed||(c=this._injector.get(Nf,null,{optional:!0}));let x=0;const L=this.afterRenderEffectManager;for(;x<10;){const Pt=0===x;if(s||!Pt){this.beforeRender.next(Pt);for(let{_lView:jt,notifyErrorHandler:hr}of this._views)uI(jt,hr,Pt,this.zonelessEnabled)}else{var Q,ue,xe,ke,Ke,xt;null===(Q=c)||void 0===Q||null===(ue=(xe=Q).begin)||void 0===ue||ue.call(xe),null===(ke=c)||void 0===ke||null===(Ke=(xt=ke).end)||void 0===Ke||Ke.call(xt)}if(x++,L.executeInternalCallbacks(),!this.allViews.some(({_lView:jt})=>Ll(jt))&&(L.execute(),!this.allViews.some(({_lView:jt})=>Ll(jt))))break}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;Md(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Ad,[]);[...this._bootstrapListeners,...c].forEach(x=>x(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Md(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Rr(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Md(t,r){const n=t.indexOf(r);n>-1&&t.splice(n,1)}function uI(t,r,n,s){(n||Ll(t))&&Xc(t,r,n&&!s?0:1)}class cI{constructor(r,n){this.ngModuleFactory=r,this.componentFactories=n}}let dI=(()=>{var t;class r{compileModuleSync(s){return new Zf(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),L=Ds(Jr(s).declarations).reduce((Q,ue)=>{const xe=qt(ue);return xe&&Q.push(new bu(xe)),Q},[]);return new cI(c,L)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),pI=(()=>{var t;class r{constructor(){this.zone=kr(no),this.changeDetectionScheduler=kr(el),this.applicationRef=kr(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Kp({ngZoneFactory:t,ignoreChangesOutsideZone:r}){var n;return null!==(n=t)&&void 0!==n||(t=()=>new no(Yp())),[{provide:no,useFactory:t},{provide:Ss,multi:!0,useFactory:()=>{const s=kr(pI,{optional:!0});return()=>s.initialize()}},{provide:Ss,multi:!0,useFactory:()=>{const s=kr(gI);return()=>{s.initialize()}}},!0===r?{provide:Pv,useValue:!0}:[]]}function Yp(t){var r,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}let gI=(()=>{var t;class r{constructor(){this.subscription=new at.yU,this.initialized=!1,this.zone=kr(no),this.pendingTasks=kr(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;no.assertInAngularZone(),null!==(c=s)&&void 0!==c||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),Lu=(()=>{var t;class r{constructor(){var s;this.appRef=kr(ti),this.taskService=kr(oa),this.ngZone=kr(no),this.zonelessEnabled=kr(mu),this.disableScheduling=null!==(s=kr(Pv,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Oh||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const c=this.useMicrotaskScheduler?Eg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&no.isInAngularZone())}tick(s){if(this.runningTick||this.appRef.destroyed)return;const c=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(s)},void 0,this.schedulerTickApplyArgs)}catch(x){throw this.taskService.remove(c),x}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Eg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(c)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const c=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(c)}}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Id=new $r("",{providedIn:"root",factory:()=>kr(Id,mn.Optional|mn.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new $r("",{providedIn:"root",factory:()=>"USD"}),Zp=new $r("");let x1=(()=>{var t;class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const x=function kE(t="zone.js",r){return"noop"===t?new Oh:"zone.js"===t?new no(r):t}(null==c?void 0:c.ngZone,Yp({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return x.run(()=>{const Q=function QD(t,r,n){return new Jf(t,r,n)}(s.moduleType,this.injector,[...Kp({ngZoneFactory:()=>x,ignoreChangesOutsideZone:null==c?void 0:c.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),ue=Q.injector.get(fi,null);return x.runOutsideAngular(()=>{const xe=x.onError.subscribe({next:ke=>{ue.handleError(ke)}});Q.onDestroy(()=>{Md(this._modules,Q),xe.unsubscribe()})}),function v1(t,r,n){try{const s=n();return Xp(s)?s.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw r.runOutsideAngular(()=>t.handleError(s)),s}}(ue,x,()=>{const xe=Q.injector.get(qp);return xe.runInitializers(),xe.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(Id,wl)||wl),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(s,c=[]){const x=b1({},c);return function fI(t,r,n){const s=new Zf(n);return Promise.resolve(s)}(0,0,s).then(L=>this.bootstrapModuleFactory(L,x))}_moduleDoBootstrap(s){const c=s.injector.get(ti);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(x=>c.bootstrap(x));else{if(!s.instance.ngDoBootstrap)throw new Rr(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rr(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(Zp,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(Bo))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Bi=null;const C1=new $r("");function D1(t,r,n=[]){const s=`Platform: ${r}`,c=new $r(s);return(x=[])=>{let L=Qp();if(!L||L.injector.get(C1,!1)){const Q=[...n,...x,{provide:c,useValue:!0}];t?t(Q):function _I(t){if(Bi&&!Bi.get(C1,!1))throw new Rr(400,!1);(function y1(){!function te(t){ee=t}(()=>{throw new Rr(600,!1)})})(),Bi=t;const r=t.get(x1);(function A1(t){const r=t.get(Xg,null);null==r||r.forEach(n=>n())})(t)}(function T1(t=[],r){return Bo.create({name:r,providers:[{provide:Jd,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Bi=null])},...t]})}(Q,s))}return function wI(t){const r=Qp();if(!r)throw new Rr(401,!1);return r}()}}function Qp(){var t,r;return null!==(t=null===(r=Bi)||void 0===r?void 0:r.get(x1))&&void 0!==t?t:null}function SI(){}let I1=(()=>{class r{}return r.__NG_ELEMENT_ID__=xI,r})();function xI(t){return function CI(t,r,n){if(Zi(t)&&!n){const s=Cs(t.index,r);return new iu(s,s)}return 175&t.type?new iu(r[ao],r):null}(Hn(),Sr(),!(16&~t))}class R1{constructor(){}supports(r){return id(r)}create(r){return new II(r)}}const MI=(t,r)=>r;class II{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||MI}forEachItem(r){let n;for(n=this._itHead;null!==n;n=n._next)r(n)}forEachOperation(r){let n=this._itHead,s=this._removalsHead,c=0,x=null;for(;n||s;){const L=!s||n&&n.currentIndex<N1(s,c,x)?n:s,Q=N1(L,c,x),ue=L.currentIndex;if(L===s)c--,s=s._nextRemoved;else if(n=n._next,null==L.previousIndex)c++;else{x||(x=[]);const xe=Q-c,ke=ue-c;if(xe!=ke){for(let xt=0;xt<xe;xt++){const Pt=xt<x.length?x[xt]:x[xt]=0,jt=Pt+xt;ke<=jt&&jt<xe&&(x[xt]=Pt+1)}x[L.previousIndex]=ke-xe}}Q!==ue&&r(L,Q,ue)}}forEachPreviousItem(r){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachMovedItem(r){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}forEachIdentityChange(r){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)r(n)}diff(r){if(null==r&&(r=[]),!id(r))throw new Rr(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,x,L,n=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(let Q=0;Q<this.length;Q++)x=r[Q],L=this._trackByFn(Q,x),null!==n&&Object.is(n.trackById,L)?(s&&(n=this._verifyReinsertion(n,x,L,Q)),Object.is(n.item,x)||this._addIdentityChange(n,x)):(n=this._mismatch(n,x,L,Q),s=!0),n=n._next}else c=0,function rT(t,r){if(Array.isArray(t))for(let n=0;n<t.length;n++)r(t[n]);else{const n=t[Symbol.iterator]();let s;for(;!(s=n.next()).done;)r(s.value)}}(r,Q=>{L=this._trackByFn(c,Q),null!==n&&Object.is(n.trackById,L)?(s&&(n=this._verifyReinsertion(n,Q,L,c)),Object.is(n.item,Q)||this._addIdentityChange(n,Q)):(n=this._mismatch(n,Q,L,c),s=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,n,s,c){let x;return null===r?x=this._itTail:(x=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._reinsertAfter(r,x,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._moveAfter(r,x,c)):r=this._addAfter(new jI(n,s),x,c),r}_verifyReinsertion(r,n,s,c){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==x?r=this._reinsertAfter(x,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const n=r._next;this._addToRemovals(this._unlink(r)),r=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,x=r._nextRemoved;return null===c?this._removalsHead=x:c._nextRemoved=x,null===x?this._removalsTail=c:x._prevRemoved=c,this._insertAfter(r,n,s),this._addToMoves(r,s),r}_moveAfter(r,n,s){return this._unlink(r),this._insertAfter(r,n,s),this._addToMoves(r,s),r}_addAfter(r,n,s){return this._insertAfter(r,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,n,s){const c=null===n?this._itHead:n._next;return r._next=c,r._prev=n,null===c?this._itTail=r:c._prev=r,null===n?this._itHead=r:n._next=r,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(r),r.currentIndex=s,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const n=r._prev,s=r._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,r}_addToMoves(r,n){return r.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,n){return r.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class jI{constructor(r,n){this.item=r,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,r))return s;return null}remove(r){const n=r._prevDup,s=r._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class k1{constructor(){this.map=new Map}put(r){const n=r.trackById;let s=this.map.get(n);s||(s=new OI,this.map.set(n,s)),s.add(r)}get(r,n){const c=this.map.get(r);return c?c.get(r,n):null}remove(r){const n=r.trackById;return this.map.get(n).remove(r)&&this.map.delete(n),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,r,n){const s=t.previousIndex;if(null===s)return s;let c=0;return n&&s<n.length&&(c=n[s]),s+r+c}class L1{constructor(){}supports(r){return r instanceof Map||ep(r)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let n;for(n=this._mapHead;null!==n;n=n._next)r(n)}forEachPreviousItem(r){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)r(n)}forEachChangedItem(r){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}diff(r){if(r){if(!(r instanceof Map||ep(r)))throw new Rr(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(r,(s,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const x=this._getOrCreateRecordForKey(c,s);n=this._insertBeforeOrAppend(n,x)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,n){if(r){const s=r._prev;return n._next=r,n._prev=s,r._prev=n,s&&(s._next=n),r===this._mapHead&&(this._mapHead=n),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(r,n){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,n);const x=c._prev,L=c._next;return x&&(x._next=L),L&&(L._prev=x),c._next=null,c._prev=null,c}const s=new RI(r);return this._records.set(r,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,n){Object.is(n,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=n,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,n){r instanceof Map?r.forEach(n):Object.keys(r).forEach(s=>n(r[s],s))}}class RI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new R1])}let om=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(null!=c){const x=c.factories.slice();s=s.concat(x)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||F1()),deps:[[r,new Ca,new co]]}}find(s){const c=this.factories.find(x=>x.supports(s));if(null!=c)return c;throw new Rr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:F1}),r})();function U1(){return new sm([new L1])}let sm=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(c){const x=c.factories.slice();s=s.concat(x)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||U1()),deps:[[r,new Ca,new co]]}}find(s){const c=this.factories.find(x=>x.supports(s));if(c)return c;throw new Rr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:U1}),r})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class r{constructor(s){}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(ti))},t.\u0275mod=tt({type:t}),t.\u0275inj=Wr({}),r})();const rw=new $r("");function bj(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wj(t,r){as("NgSignals");const n=function P(t){const r=Object.create(j);r.computation=t;const n=()=>{if(_(r),m(r),r.value===N)throw r.error;return r.value};return n[o]=r,n}(t);return null!=r&&r.equal&&(n[o].equal=r.equal),n}function Ej(t){const r=ie(null);try{return t()}finally{ie(r)}}function Aj(t,r){const n=qt(t),s=r.elementInjector||tc();return new bu(n).create(s,r.projectableNodes,r.hostElement,r.environmentInjector)}function Mj(t){const r=qt(t);if(!r)return null;const n=new bu(r);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4341:(Dr,rr,_e)=>{"use strict";_e.d(rr,{me:()=>y,YN:()=>gt,zX:()=>Go,VZ:()=>xo,cz:()=>B,kq:()=>l,vO:()=>pt,BC:()=>cr,vS:()=>Yo,Q0:()=>Is});var M=_e(3953),A=_e(177),et=_e(6648),Et=_e(1985),o=_e(3073),ie=_e(8750),$=_e(9326),v=_e(4360),b=_e(6450),f=_e(8496),w=_e(1413),_=_e(6354);let i=(()=>{var ve;class ae{constructor(ge,Be){this._renderer=ge,this._elementRef=Be,this.onChange=Ft=>{},this.onTouched=()=>{}}setProperty(ge,Be){this._renderer.setProperty(this._elementRef.nativeElement,ge,Be)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(M.sFG),M.rXU(M.aKT))},ve.\u0275dir=M.FsC({type:ve}),ae})(),a=(()=>{var ve;class ae extends i{}return(ve=ae).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,features:[M.Vt3]}),ae})();const l=new M.nKC(""),h={provide:l,useExisting:(0,M.Rfq)(()=>y),multi:!0},p=new M.nKC("");let y=(()=>{var ve;class ae extends i{constructor(ge,Be,Ft){super(ge,Be),this._compositionMode=Ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g(){const ve=(0,A.QT)()?(0,A.QT)().getUserAgent():"";return/android (\d+)/.test(ve.toLowerCase())}())}writeValue(ge){this.setProperty("value",null==ge?"":ge)}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(p,8))},ve.\u0275dir=M.FsC({type:ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,Be){1&ge&&M.bIt("input",function(Ht){return Be._handleInput(Ht.target.value)})("blur",function(){return Be.onTouched()})("compositionstart",function(){return Be._compositionStart()})("compositionend",function(Ht){return Be._compositionEnd(Ht.target.value)})},features:[M.Jv_([h]),M.Vt3]}),ae})();function C(ve){return null==ve||("string"==typeof ve||Array.isArray(ve))&&0===ve.length}const B=new M.nKC(""),R=new M.nKC("");function G(ve){return null}function Y(ve){return null!=ve}function le(ve){return(0,M.jNT)(ve)?(0,et.H)(ve):ve}function Me(ve){let ae={};return ve.forEach(be=>{ae=null!=be?{...ae,...be}:ae}),0===Object.keys(ae).length?null:ae}function K(ve,ae){return ae.map(be=>be(ve))}function oe(ve){return ve.map(ae=>function O(ve){return!ve.validate}(ae)?ae:be=>ae.validate(be))}function Se(ve){return null!=ve?function me(ve){if(!ve)return null;const ae=ve.filter(Y);return 0==ae.length?null:function(be){return Me(K(be,ae))}}(oe(ve)):null}function Xe(ve){return null!=ve?function Ue(ve){if(!ve)return null;const ae=ve.filter(Y);return 0==ae.length?null:function(be){return function m(...ve){const ae=(0,$.ms)(ve),{args:be,keys:ge}=(0,o.D)(ve),Be=new Et.c(Ft=>{const{length:Ht}=be;if(!Ht)return void Ft.complete();const nr=new Array(Ht);let Br=Ht,Lr=Ht;for(let zr=0;zr<Ht;zr++){let Wr=!1;(0,ie.Tg)(be[zr]).subscribe((0,v._)(Ft,Qr=>{Wr||(Wr=!0,Lr--),nr[zr]=Qr},()=>Br--,void 0,()=>{(!Br||!Wr)&&(Lr||Ft.next(ge?(0,f.e)(ge,nr):nr),Ft.complete())}))}});return ae?Be.pipe((0,b.I)(ae)):Be}(K(be,ae).map(le)).pipe((0,_.T)(Me))}}(oe(ve)):null}function lt(ve,ae){return null===ve?[ae]:Array.isArray(ve)?[...ve,ae]:[ve,ae]}function at(ve){return ve?Array.isArray(ve)?ve:[ve]:[]}function Fe(ve,ae){return Array.isArray(ve)?ve.includes(ae):ve===ae}function nt(ve,ae){const be=at(ae);return at(ve).forEach(Be=>{Fe(be,Be)||be.push(Be)}),be}function Ye(ve,ae){return at(ae).filter(be=>!Fe(ve,be))}class ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae=void 0){this.control&&this.control.reset(ae)}hasError(ae,be){return!!this.control&&this.control.hasError(ae,be)}getError(ae,be){return this.control?this.control.getError(ae,be):null}}class Ze extends ot{get formDirective(){return null}get path(){return null}}class pt extends ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kt{constructor(ae){this._cd=ae}get isTouched(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._touched)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.touched)}get isUntouched(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.untouched)}get isPristine(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._pristine)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.pristine)}get isDirty(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.dirty)}get isValid(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._status)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.valid)}get isInvalid(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.invalid)}get isPending(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.pending)}get isSubmitted(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(be=ae._submitted)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||!ge.submitted)}}let cr=(()=>{var ve;class ae extends kt{constructor(ge){super(ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(pt,2))},ve.\u0275dir=M.FsC({type:ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,Be){2&ge&&M.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)},features:[M.Vt3]}),ae})();const vt="VALID",Ut="INVALID",yt="PENDING",Nt="DISABLED";class dr{}class ft extends dr{constructor(ae,be){super(),this.value=ae,this.source=be}}class Dt extends dr{constructor(ae,be){super(),this.pristine=ae,this.source=be}}class er extends dr{constructor(ae,be){super(),this.touched=ae,this.source=be}}class Yt extends dr{constructor(ae,be){super(),this.status=ae,this.source=be}}function pe(ve){return null!=ve&&!Array.isArray(ve)&&"object"==typeof ve}class I{constructor(ae,be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,M.EWP)(()=>this.statusReactive()),this.statusReactive=(0,M.vPA)(void 0),this._pristine=(0,M.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,M.vPA)(!0),this._touched=(0,M.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,M.vPA)(!1),this._events=new w.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ae),this._assignAsyncValidators(be)}get validator(){return this._composedValidatorFn}set validator(ae){this._rawValidators=this._composedValidatorFn=ae}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ae){this._rawAsyncValidators=this._composedAsyncValidatorFn=ae}get parent(){return this._parent}get status(){return(0,M.O8t)(this.statusReactive)}set status(ae){(0,M.O8t)(()=>this.statusReactive.set(ae))}get valid(){return this.status===vt}get invalid(){return this.status===Ut}get pending(){return this.status==yt}get disabled(){return this.status===Nt}get enabled(){return this.status!==Nt}get pristine(){return(0,M.O8t)(this.pristineReactive)}set pristine(ae){(0,M.O8t)(()=>this.pristineReactive.set(ae))}get dirty(){return!this.pristine}get touched(){return(0,M.O8t)(this.touchedReactive)}set touched(ae){(0,M.O8t)(()=>this.touchedReactive.set(ae))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ae){this._assignValidators(ae)}setAsyncValidators(ae){this._assignAsyncValidators(ae)}addValidators(ae){this.setValidators(nt(ae,this._rawValidators))}addAsyncValidators(ae){this.setAsyncValidators(nt(ae,this._rawAsyncValidators))}removeValidators(ae){this.setValidators(Ye(ae,this._rawValidators))}removeAsyncValidators(ae){this.setAsyncValidators(Ye(ae,this._rawAsyncValidators))}hasValidator(ae){return Fe(this._rawValidators,ae)}hasAsyncValidator(ae){return Fe(this._rawAsyncValidators,ae)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ae={}){var be;const ge=!1===this.touched;this.touched=!0;const Be=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._parent&&!ae.onlySelf&&this._parent.markAsTouched({...ae,sourceControl:Be}),ge&&!1!==ae.emitEvent&&this._events.next(new er(!0,Be))}markAllAsTouched(ae={}){this.markAsTouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:this}),this._forEachChild(be=>be.markAllAsTouched(ae))}markAsUntouched(ae={}){var be;const ge=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Be=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._forEachChild(Ft=>{Ft.markAsUntouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:Be})}),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,Be),ge&&!1!==ae.emitEvent&&this._events.next(new er(!1,Be))}markAsDirty(ae={}){var be;const ge=!0===this.pristine;this.pristine=!1;const Be=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._parent&&!ae.onlySelf&&this._parent.markAsDirty({...ae,sourceControl:Be}),ge&&!1!==ae.emitEvent&&this._events.next(new Dt(!1,Be))}markAsPristine(ae={}){var be;const ge=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Be=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._forEachChild(Ft=>{Ft.markAsPristine({onlySelf:!0,emitEvent:ae.emitEvent})}),this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,Be),ge&&!1!==ae.emitEvent&&this._events.next(new Dt(!0,Be))}markAsPending(ae={}){var be;this.status=yt;const ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new Yt(this.status,ge)),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.markAsPending({...ae,sourceControl:ge})}disable(ae={}){var be;const ge=this._parentMarkedDirty(ae.onlySelf);this.status=Nt,this.errors=null,this._forEachChild(Ft=>{Ft.disable({...ae,onlySelf:!0})}),this._updateValue();const Be=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new ft(this.value,Be)),this._events.next(new Yt(this.status,Be)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ae,skipPristineCheck:ge},this),this._onDisabledChange.forEach(Ft=>Ft(!0))}enable(ae={}){const be=this._parentMarkedDirty(ae.onlySelf);this.status=vt,this._forEachChild(ge=>{ge.enable({...ae,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent}),this._updateAncestors({...ae,skipPristineCheck:be},this),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ae,be){this._parent&&!ae.onlySelf&&(this._parent.updateValueAndValidity(ae),ae.skipPristineCheck||this._parent._updatePristine({},be),this._parent._updateTouched({},be))}setParent(ae){this._parent=ae}getRawValue(){return this.value}updateValueAndValidity(ae={}){var be;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Be=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===yt)&&this._runAsyncValidator(Be,ae.emitEvent)}const ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new ft(this.value,ge)),this._events.next(new Yt(this.status,ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.updateValueAndValidity({...ae,sourceControl:ge})}_updateTreeValidity(ae={emitEvent:!0}){this._forEachChild(be=>be._updateTreeValidity(ae)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nt:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ae,be){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==be};const ge=le(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(Be=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Be,{emitEvent:be,shouldHaveEmitted:ae})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ae,be;this._asyncValidationSubscription.unsubscribe();const ge=null!==(ae=null===(be=this._hasOwnPendingAsyncValidator)||void 0===be?void 0:be.emitEvent)&&void 0!==ae&&ae;return this._hasOwnPendingAsyncValidator=null,ge}return!1}setErrors(ae,be={}){this.errors=ae,this._updateControlsErrors(!1!==be.emitEvent,this,be.shouldHaveEmitted)}get(ae){let be=ae;return null==be||(Array.isArray(be)||(be=be.split(".")),0===be.length)?null:be.reduce((ge,Be)=>ge&&ge._find(Be),this)}getError(ae,be){const ge=be?this.get(be):this;return ge&&ge.errors?ge.errors[ae]:null}hasError(ae,be){return!!this.getError(ae,be)}get root(){let ae=this;for(;ae._parent;)ae=ae._parent;return ae}_updateControlsErrors(ae,be,ge){this.status=this._calculateStatus(),ae&&this.statusChanges.emit(this.status),(ae||ge)&&this._events.next(new Yt(this.status,be)),this._parent&&this._parent._updateControlsErrors(ae,be,ge)}_initObservables(){this.valueChanges=new M.bkB,this.statusChanges=new M.bkB}_calculateStatus(){return this._allControlsDisabled()?Nt:this.errors?Ut:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(Ut)?Ut:vt}_anyControlsHaveStatus(ae){return this._anyControls(be=>be.status===ae)}_anyControlsDirty(){return this._anyControls(ae=>ae.dirty)}_anyControlsTouched(){return this._anyControls(ae=>ae.touched)}_updatePristine(ae,be){const ge=!this._anyControlsDirty(),Be=this.pristine!==ge;this.pristine=ge,this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,be),Be&&this._events.next(new Dt(this.pristine,be))}_updateTouched(ae={},be){this.touched=this._anyControlsTouched(),this._events.next(new er(this.touched,be)),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,be)}_registerOnCollectionChange(ae){this._onCollectionChange=ae}_setUpdateStrategy(ae){pe(ae)&&null!=ae.updateOn&&(this._updateOn=ae.updateOn)}_parentMarkedDirty(ae){return!ae&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ae){return null}_assignValidators(ae){this._rawValidators=Array.isArray(ae)?ae.slice():ae,this._composedValidatorFn=function xr(ve){return Array.isArray(ve)?Se(ve):ve||null}(this._rawValidators)}_assignAsyncValidators(ae){this._rawAsyncValidators=Array.isArray(ae)?ae.slice():ae,this._composedAsyncValidatorFn=function X(ve){return Array.isArray(ve)?Xe(ve):ve||null}(this._rawAsyncValidators)}}const De=new M.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>qe}),qe="always";function sr(ve,ae,be=qe){var ge,Be;(function Ge(ve,ae){const be=function ze(ve){return ve._rawValidators}(ve);null!==ae.validator?ve.setValidators(lt(be,ae.validator)):"function"==typeof be&&ve.setValidators([be]);const ge=function st(ve){return ve._rawAsyncValidators}(ve);null!==ae.asyncValidator?ve.setAsyncValidators(lt(ge,ae.asyncValidator)):"function"==typeof ge&&ve.setAsyncValidators([ge]);const Be=()=>ve.updateValueAndValidity();Ve(ae._rawValidators,Be),Ve(ae._rawAsyncValidators,Be)})(ve,ae),ae.valueAccessor.writeValue(ve.value),(ve.disabled||"always"===be)&&(null===(ge=(Be=ae.valueAccessor).setDisabledState)||void 0===ge||ge.call(Be,ve.disabled)),function Bt(ve,ae){ae.valueAccessor.registerOnChange(be=>{ve._pendingValue=be,ve._pendingChange=!0,ve._pendingDirty=!0,"change"===ve.updateOn&&vr(ve,ae)})}(ve,ae),function Pr(ve,ae){const be=(ge,Be)=>{ae.valueAccessor.writeValue(ge),Be&&ae.viewToModelUpdate(ge)};ve.registerOnChange(be),ae._registerOnDestroy(()=>{ve._unregisterOnChange(be)})}(ve,ae),function ur(ve,ae){ae.valueAccessor.registerOnTouched(()=>{ve._pendingTouched=!0,"blur"===ve.updateOn&&ve._pendingChange&&vr(ve,ae),"submit"!==ve.updateOn&&ve.markAsTouched()})}(ve,ae),function ht(ve,ae){if(ae.valueAccessor.setDisabledState){const be=ge=>{ae.valueAccessor.setDisabledState(ge)};ve.registerOnDisabledChange(be),ae._registerOnDestroy(()=>{ve._unregisterOnDisabledChange(be)})}}(ve,ae)}function Ve(ve,ae){ve.forEach(be=>{be.registerOnValidatorChange&&be.registerOnValidatorChange(ae)})}function vr(ve,ae){ve._pendingDirty&&ve.markAsDirty(),ve.setValue(ve._pendingValue,{emitModelToViewChange:!1}),ae.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1}function Vo(ve,ae){const be=ve.indexOf(ae);be>-1&&ve.splice(be,1)}function oo(ve){return"object"==typeof ve&&null!==ve&&2===Object.keys(ve).length&&"value"in ve&&"disabled"in ve}Promise.resolve();const cs=class extends I{constructor(ae=null,be,ge){super(function wr(ve){return(pe(ve)?ve.validators:ve)||null}(be),function Mr(ve,ae){return(pe(ae)?ae.asyncValidators:ve)||null}(ge,be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ae),this._setUpdateStrategy(be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pe(be)&&(be.nonNullable||be.initialValueIsDefault)&&(this.defaultValue=oo(ae)?ae.value:ae)}setValue(ae,be={}){this.value=this._pendingValue=ae,this._onChange.length&&!1!==be.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==be.emitViewToModelChange)),this.updateValueAndValidity(be)}patchValue(ae,be={}){this.setValue(ae,be)}reset(ae=this.defaultValue,be={}){this._applyFormState(ae),this.markAsPristine(be),this.markAsUntouched(be),this.setValue(this.value,be),this._pendingChange=!1}_updateValue(){}_anyControls(ae){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ae){this._onChange.push(ae)}_unregisterOnChange(ae){Vo(this._onChange,ae)}registerOnDisabledChange(ae){this._onDisabledChange.push(ae)}_unregisterOnDisabledChange(ae){Vo(this._onDisabledChange,ae)}_forEachChild(ae){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ae){oo(ae)?(this.value=this._pendingValue=ae.value,ae.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ae}},mo={provide:pt,useExisting:(0,M.Rfq)(()=>Yo)},ts=Promise.resolve();let Yo=(()=>{var ve;class ae extends pt{constructor(ge,Be,Ft,Ht,nr,Br){super(),this._changeDetectorRef=nr,this.callSetDisabledState=Br,this.control=new cs,this._registered=!1,this.name="",this.update=new M.bkB,this._parent=ge,this._setValidators(Be),this._setAsyncValidators(Ft),this.valueAccessor=function eo(ve,ae){if(!ae)return null;let be,ge,Be;return Array.isArray(ae),ae.forEach(Ft=>{Ft.constructor===y?be=Ft:function Ln(ve){return Object.getPrototypeOf(ve.constructor)===a}(Ft)?ge=Ft:Be=Ft}),Be||ge||be||null}(0,Ht)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const Be=ge.name.previousValue;this.formDirective.removeControl({name:Be,path:this._getPath(Be)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),function bn(ve,ae){if(!ve.hasOwnProperty("model"))return!1;const be=ve.model;return!!be.isFirstChange()||!Object.is(ae,be.currentValue)}(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){ts.then(()=>{var Be;this.control.setValue(ge,{emitViewToModelChange:!1}),null===(Be=this._changeDetectorRef)||void 0===Be||Be.markForCheck()})}_updateDisabled(ge){const Be=ge.isDisabled.currentValue,Ft=0!==Be&&(0,M.L39)(Be);ts.then(()=>{var Ht;Ft&&!this.control.disabled?this.control.disable():!Ft&&this.control.disabled&&this.control.enable(),null===(Ht=this._changeDetectorRef)||void 0===Ht||Ht.markForCheck()})}_getPath(ge){return this._parent?function St(ve,ae){return[...ae.path,ve]}(ge,this._parent):[ge]}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(Ze,9),M.rXU(B,10),M.rXU(R,10),M.rXU(l,10),M.rXU(M.gRc,8),M.rXU(De,8))},ve.\u0275dir=M.FsC({type:ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[M.Jv_([mo]),M.Vt3,M.OA$]}),ae})();const Ms={provide:l,useExisting:(0,M.Rfq)(()=>Is),multi:!0};let Is=(()=>{var ve;class ae extends a{writeValue(ge){this.setProperty("value",null==ge?"":ge)}registerOnChange(ge){this.onChange=Be=>{ge(""==Be?null:parseFloat(Be))}}}return(ve=ae).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ge,Be){1&ge&&M.bIt("input",function(Ht){return Be.onChange(Ht.target.value)})("blur",function(){return Be.onTouched()})},features:[M.Jv_([Ms]),M.Vt3]}),ae})();function ho(ve){return"number"==typeof ve?ve:parseFloat(ve)}let Bn=(()=>{var ve;class ae{constructor(){this._validator=G}ngOnChanges(ge){if(this.inputName in ge){const Be=this.normalizeInput(ge[this.inputName].currentValue);this._enabled=this.enabled(Be),this._validator=this._enabled?this.createValidator(Be):G,this._onChange&&this._onChange()}}validate(ge){return this._validator(ge)}registerOnValidatorChange(ge){this._onChange=ge}enabled(ge){return null!=ge}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275dir=M.FsC({type:ve,features:[M.OA$]}),ae})();const Vr={provide:B,useExisting:(0,M.Rfq)(()=>Go),multi:!0};let Go=(()=>{var ve;class ae extends Bn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function N(ve){return ae=>{if(C(ae.value)||C(ve))return null;const be=parseFloat(ae.value);return!isNaN(be)&&be>ve?{max:{max:ve,actual:ae.value}}:null}}(ge)}}return(ve=ae).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ge,Be){2&ge&&M.BMQ("max",Be._enabled?Be.max:null)},inputs:{max:"max"},features:[M.Jv_([Vr]),M.Vt3]}),ae})();const Jo={provide:B,useExisting:(0,M.Rfq)(()=>xo),multi:!0};let xo=(()=>{var ve;class ae extends Bn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function T(ve){return ae=>{if(C(ae.value)||C(ve))return null;const be=parseFloat(ae.value);return!isNaN(be)&&be<ve?{min:{min:ve,actual:ae.value}}:null}}(ge)}}return(ve=ae).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ge,Be){2&ge&&M.BMQ("min",Be._enabled?Be.min:null)},inputs:{min:"min"},features:[M.Jv_([Jo]),M.Vt3]}),ae})(),S=(()=>{var ve;class ae{}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=M.$C({type:ve}),ve.\u0275inj=M.G2t({}),ae})(),gt=(()=>{var ve;class ae{static withConfig(ge){var Be;return{ngModule:ae,providers:[{provide:De,useValue:null!==(Be=ge.callSetDisabledState)&&void 0!==Be?Be:qe}]}}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=M.$C({type:ve}),ve.\u0275inj=M.G2t({imports:[S]}),ae})()},345:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Bb:()=>at,hE:()=>Ye,sG:()=>Xe,up:()=>$e});var M=_e(177),A=_e(3953);class et extends M.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Et extends et{static makeCurrent(){(0,M.ZD)(new Et)}onAndCancel(vt,Ut,yt){return vt.addEventListener(Ut,yt),()=>{vt.removeEventListener(Ut,yt)}}dispatchEvent(vt,Ut){vt.dispatchEvent(Ut)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,Ut){return(Ut=Ut||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,Ut){return"window"===Ut?window:"document"===Ut?vt:"body"===Ut?vt.body:null}getBaseHref(vt){const Ut=function ie(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==Ut?null:function $(Rt){return new URL(Rt,document.baseURI).pathname}(Ut)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,M._b)(document.cookie,vt)}}let o=null,b=(()=>{var Rt;class vt{build(){return new XMLHttpRequest}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const f=new A.nKC("");let m=(()=>{var Rt;class vt{constructor(yt,Nt){this._zone=Nt,this._eventNameToPlugin=new Map,yt.forEach(dr=>{dr.manager=this}),this._plugins=yt.slice().reverse()}addEventListener(yt,Nt,dr){return this._findPluginFor(Nt).addEventListener(yt,Nt,dr)}getZone(){return this._zone}_findPluginFor(yt){let Nt=this._eventNameToPlugin.get(yt);if(Nt)return Nt;if(Nt=this._plugins.find(ft=>ft.supports(yt)),!Nt)throw new A.wOt(5101,!1);return this._eventNameToPlugin.set(yt,Nt),Nt}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(f),A.KVO(A.SKi))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();class w{constructor(vt){this._doc=vt}}const _="ng-app-id";let i=(()=>{var Rt;class vt{constructor(yt,Nt,dr,ft={}){this.doc=yt,this.appId=Nt,this.nonce=dr,this.platformId=ft,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,M.Vy)(ft),this.resetHostNodes()}addStyles(yt){for(const Nt of yt)1===this.changeUsageCount(Nt,1)&&this.onStyleAdded(Nt)}removeStyles(yt){for(const Nt of yt)this.changeUsageCount(Nt,-1)<=0&&this.onStyleRemoved(Nt)}ngOnDestroy(){const yt=this.styleNodesInDOM;yt&&(yt.forEach(Nt=>Nt.remove()),yt.clear());for(const Nt of this.getAllStyles())this.onStyleRemoved(Nt);this.resetHostNodes()}addHost(yt){this.hostNodes.add(yt);for(const Nt of this.getAllStyles())this.addStyleToHost(yt,Nt)}removeHost(yt){this.hostNodes.delete(yt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(yt){for(const Nt of this.hostNodes)this.addStyleToHost(Nt,yt)}onStyleRemoved(yt){var Nt;const dr=this.styleRef;null===(Nt=dr.get(yt))||void 0===Nt||null===(Nt=Nt.elements)||void 0===Nt||Nt.forEach(ft=>ft.remove()),dr.delete(yt)}collectServerRenderedStyles(){var yt;const Nt=null===(yt=this.doc.head)||void 0===yt?void 0:yt.querySelectorAll(`style[${_}="${this.appId}"]`);if(null!=Nt&&Nt.length){const dr=new Map;return Nt.forEach(ft=>{null!=ft.textContent&&dr.set(ft.textContent,ft)}),dr}return null}changeUsageCount(yt,Nt){const dr=this.styleRef;if(dr.has(yt)){const ft=dr.get(yt);return ft.usage+=Nt,ft.usage}return dr.set(yt,{usage:Nt,elements:[]}),Nt}getStyleElement(yt,Nt){const dr=this.styleNodesInDOM,ft=null==dr?void 0:dr.get(Nt);if((null==ft?void 0:ft.parentNode)===yt)return dr.delete(Nt),ft.removeAttribute(_),ft;{const Dt=this.doc.createElement("style");return this.nonce&&Dt.setAttribute("nonce",this.nonce),Dt.textContent=Nt,this.platformIsServer&&Dt.setAttribute(_,this.appId),yt.appendChild(Dt),Dt}}addStyleToHost(yt,Nt){var dr;const ft=this.getStyleElement(yt,Nt),Dt=this.styleRef,er=null===(dr=Dt.get(Nt))||void 0===dr?void 0:dr.elements;er?er.push(ft):Dt.set(Nt,{elements:[ft],usage:1})}resetHostNodes(){const yt=this.hostNodes;yt.clear(),yt.add(this.doc.head)}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(M.qQ),A.KVO(A.sZ2),A.KVO(A.BIS,8),A.KVO(A.Agw))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l=/%COMP%/g,u="%COMP%",d=`_nghost-${u}`,h=`_ngcontent-${u}`,p=new A.nKC("",{providedIn:"root",factory:()=>!0});function H(Rt,vt){return vt.map(Ut=>Ut.replace(l,Rt))}let B=(()=>{var Rt;class vt{constructor(yt,Nt,dr,ft,Dt,er,Yt,lr=null){this.eventManager=yt,this.sharedStylesHost=Nt,this.appId=dr,this.removeStylesOnCompDestroy=ft,this.doc=Dt,this.platformId=er,this.ngZone=Yt,this.nonce=lr,this.rendererByCompId=new Map,this.platformIsServer=(0,M.Vy)(er),this.defaultRenderer=new R(yt,Dt,Yt,this.platformIsServer)}createRenderer(yt,Nt){if(!yt||!Nt)return this.defaultRenderer;this.platformIsServer&&Nt.encapsulation===A.gXe.ShadowDom&&(Nt={...Nt,encapsulation:A.gXe.Emulated});const dr=this.getOrCreateRenderer(yt,Nt);return dr instanceof Z?dr.applyToHost(yt):dr instanceof j&&dr.applyStyles(),dr}getOrCreateRenderer(yt,Nt){const dr=this.rendererByCompId;let ft=dr.get(Nt.id);if(!ft){const Dt=this.doc,er=this.ngZone,Yt=this.eventManager,lr=this.sharedStylesHost,yr=this.removeStylesOnCompDestroy,wr=this.platformIsServer;switch(Nt.encapsulation){case A.gXe.Emulated:ft=new Z(Yt,lr,Nt,this.appId,yr,Dt,er,wr);break;case A.gXe.ShadowDom:return new N(Yt,lr,yt,Nt,Dt,er,this.nonce,wr);default:ft=new j(Yt,lr,Nt,yr,Dt,er,wr)}dr.set(Nt.id,ft)}return ft}ngOnDestroy(){this.rendererByCompId.clear()}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(m),A.KVO(i),A.KVO(A.sZ2),A.KVO(p),A.KVO(M.qQ),A.KVO(A.Agw),A.KVO(A.SKi),A.KVO(A.BIS))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();class R{constructor(vt,Ut,yt,Nt){this.eventManager=vt,this.doc=Ut,this.ngZone=yt,this.platformIsServer=Nt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(vt,Ut){return Ut?this.doc.createElementNS(a[Ut]||Ut,vt):this.doc.createElement(vt)}createComment(vt){return this.doc.createComment(vt)}createText(vt){return this.doc.createTextNode(vt)}appendChild(vt,Ut){(T(vt)?vt.content:vt).appendChild(Ut)}insertBefore(vt,Ut,yt){vt&&(T(vt)?vt.content:vt).insertBefore(Ut,yt)}removeChild(vt,Ut){vt&&vt.removeChild(Ut)}selectRootElement(vt,Ut){let yt="string"==typeof vt?this.doc.querySelector(vt):vt;if(!yt)throw new A.wOt(-5104,!1);return Ut||(yt.textContent=""),yt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,Ut,yt,Nt){if(Nt){Ut=Nt+":"+Ut;const dr=a[Nt];dr?vt.setAttributeNS(dr,Ut,yt):vt.setAttribute(Ut,yt)}else vt.setAttribute(Ut,yt)}removeAttribute(vt,Ut,yt){if(yt){const Nt=a[yt];Nt?vt.removeAttributeNS(Nt,Ut):vt.removeAttribute(`${yt}:${Ut}`)}else vt.removeAttribute(Ut)}addClass(vt,Ut){vt.classList.add(Ut)}removeClass(vt,Ut){vt.classList.remove(Ut)}setStyle(vt,Ut,yt,Nt){Nt&(A.czy.DashCase|A.czy.Important)?vt.style.setProperty(Ut,yt,Nt&A.czy.Important?"important":""):vt.style[Ut]=yt}removeStyle(vt,Ut,yt){yt&A.czy.DashCase?vt.style.removeProperty(Ut):vt.style[Ut]=""}setProperty(vt,Ut,yt){null!=vt&&(vt[Ut]=yt)}setValue(vt,Ut){vt.nodeValue=Ut}listen(vt,Ut,yt){if("string"==typeof vt&&!(vt=(0,M.QT)().getGlobalEventTarget(this.doc,vt)))throw new Error(`Unsupported event target ${vt} for event ${Ut}`);return this.eventManager.addEventListener(vt,Ut,this.decoratePreventDefault(yt))}decoratePreventDefault(vt){return Ut=>{if("__ngUnwrap__"===Ut)return vt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>vt(Ut)):vt(Ut))&&Ut.preventDefault()}}}function T(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class N extends R{constructor(vt,Ut,yt,Nt,dr,ft,Dt,er){super(vt,dr,ft,er),this.sharedStylesHost=Ut,this.hostEl=yt,this.shadowRoot=yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=H(Nt.id,Nt.styles);for(const lr of Yt){const yr=document.createElement("style");Dt&&yr.setAttribute("nonce",Dt),yr.textContent=lr,this.shadowRoot.appendChild(yr)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}appendChild(vt,Ut){return super.appendChild(this.nodeOrShadowRoot(vt),Ut)}insertBefore(vt,Ut,yt){return super.insertBefore(this.nodeOrShadowRoot(vt),Ut,yt)}removeChild(vt,Ut){return super.removeChild(this.nodeOrShadowRoot(vt),Ut)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class j extends R{constructor(vt,Ut,yt,Nt,dr,ft,Dt,er){super(vt,dr,ft,Dt),this.sharedStylesHost=Ut,this.removeStylesOnCompDestroy=Nt,this.styles=er?H(er,yt.styles):yt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Z extends j{constructor(vt,Ut,yt,Nt,dr,ft,Dt,er){const Yt=Nt+"-"+yt.id;super(vt,Ut,yt,dr,ft,Dt,er,Yt),this.contentAttr=function y(Rt){return h.replace(l,Rt)}(Yt),this.hostAttr=function C(Rt){return d.replace(l,Rt)}(Yt)}applyToHost(vt){this.applyStyles(),this.setAttribute(vt,this.hostAttr,"")}createElement(vt,Ut){const yt=super.createElement(vt,Ut);return super.setAttribute(yt,this.contentAttr,""),yt}}let ee=(()=>{var Rt;class vt extends w{constructor(yt){super(yt)}supports(yt){return!0}addEventListener(yt,Nt,dr){return yt.addEventListener(Nt,dr,!1),()=>this.removeEventListener(yt,Nt,dr)}removeEventListener(yt,Nt,dr){return yt.removeEventListener(Nt,dr)}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(M.qQ))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})(),z=(()=>{var Rt;class vt extends w{constructor(yt){super(yt),this.delegate=(0,A.WQX)(A.zAP,{optional:!0})}supports(yt){return!!this.delegate&&this.delegate.supports(yt)}addEventListener(yt,Nt,dr){return this.delegate.addEventListener(yt,Nt,dr)}removeEventListener(yt,Nt,dr){return this.delegate.removeEventListener(yt,Nt,dr)}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(M.qQ))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const te=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let Y=(()=>{var Rt;class vt extends w{constructor(yt){super(yt)}supports(yt){return null!=vt.parseEventName(yt)}addEventListener(yt,Nt,dr){const ft=vt.parseEventName(Nt),Dt=vt.eventCallback(ft.fullKey,dr,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.QT)().onAndCancel(yt,ft.domEventName,Dt))}static parseEventName(yt){const Nt=yt.toLowerCase().split("."),dr=Nt.shift();if(0===Nt.length||"keydown"!==dr&&"keyup"!==dr)return null;const ft=vt._normalizeKey(Nt.pop());let Dt="",er=Nt.indexOf("code");if(er>-1&&(Nt.splice(er,1),Dt="code."),te.forEach(lr=>{const yr=Nt.indexOf(lr);yr>-1&&(Nt.splice(yr,1),Dt+=lr+".")}),Dt+=ft,0!=Nt.length||0===ft.length)return null;const Yt={};return Yt.domEventName=dr,Yt.fullKey=Dt,Yt}static matchEventFullKeyCode(yt,Nt){let dr=W[yt.key]||yt.key,ft="";return Nt.indexOf("code.")>-1&&(dr=yt.code,ft="code."),!(null==dr||!dr)&&(dr=dr.toLowerCase()," "===dr?dr="space":"."===dr&&(dr="dot"),te.forEach(Dt=>{Dt!==dr&&(0,G[Dt])(yt)&&(ft+=Dt+".")}),ft+=dr,ft===Nt)}static eventCallback(yt,Nt,dr){return ft=>{vt.matchEventFullKeyCode(ft,yt)&&dr.runGuarded(()=>Nt(ft))}}static _normalizeKey(yt){return"esc"===yt?"escape":yt}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(M.qQ))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const Xe=(0,A.oH4)(A.fpN,"browser",[{provide:A.Agw,useValue:M.AJ},{provide:A.PLl,useValue:function oe(){Et.makeCurrent()},multi:!0},{provide:M.qQ,useFactory:function Se(){return(0,A.TL$)(document),document},deps:[]}]),lt=new A.nKC(""),ze=[{provide:A.e01,useClass:class v{addToWindow(vt){A.JZv.getAngularTestability=(yt,Nt=!0)=>{const dr=vt.findTestabilityInTree(yt,Nt);if(null==dr)throw new A.wOt(5103,!1);return dr},A.JZv.getAllAngularTestabilities=()=>vt.getAllTestabilities(),A.JZv.getAllAngularRootElements=()=>vt.getAllRootElements(),A.JZv.frameworkStabilizers||(A.JZv.frameworkStabilizers=[]),A.JZv.frameworkStabilizers.push(yt=>{const Nt=A.JZv.getAllAngularTestabilities();let dr=Nt.length;const ft=function(){dr--,0==dr&&yt()};Nt.forEach(Dt=>{Dt.whenStable(ft)})})}findTestabilityInTree(vt,Ut,yt){if(null==Ut)return null;const Nt=vt.getTestability(Ut);return null!=Nt?Nt:yt?(0,M.QT)().isShadowRoot(Ut)?this.findTestabilityInTree(vt,Ut.host,!0):this.findTestabilityInTree(vt,Ut.parentElement,!0):null}},deps:[]},{provide:A.WHO,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]},{provide:A.NYb,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]}],st=[{provide:A.H8p,useValue:"root"},{provide:A.zcH,useFactory:function me(){return new A.zcH},deps:[]},{provide:f,useClass:ee,multi:!0,deps:[M.qQ,A.SKi,A.Agw]},{provide:f,useClass:Y,multi:!0,deps:[M.qQ]},{provide:f,useClass:z,multi:!0},B,i,m,{provide:A._9s,useExisting:B},{provide:M.N0,useClass:b,deps:[]},[]];let at=(()=>{var Rt;class vt{constructor(yt){}static withServerTransition(yt){return{ngModule:vt,providers:[{provide:A.sZ2,useValue:yt.appId}]}}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(lt,12))},Rt.\u0275mod=A.$C({type:Rt}),Rt.\u0275inj=A.G2t({providers:[...st,...ze],imports:[M.MD,A.Hbi]}),vt})(),Ye=(()=>{var Rt;class vt{constructor(yt){this._doc=yt}getTitle(){return this._doc.title}setTitle(yt){this._doc.title=yt||""}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(M.qQ))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),vt})(),$e=(()=>{var Rt;class vt{}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)},Rt.\u0275prov=A.jDH({token:Rt,factory:function(yt){let Nt=null;return Nt=yt?new(yt||Rt):A.KVO(We),Nt},providedIn:"root"}),vt})(),We=(()=>{var Rt;class vt extends $e{constructor(yt){super(),this._doc=yt}sanitize(yt,Nt){if(null==Nt)return null;switch(yt){case A.WPN.NONE:return Nt;case A.WPN.HTML:return(0,A.ZF7)(Nt,"HTML")?(0,A.rcV)(Nt):(0,A.h9k)(this._doc,String(Nt)).toString();case A.WPN.STYLE:return(0,A.ZF7)(Nt,"Style")?(0,A.rcV)(Nt):Nt;case A.WPN.SCRIPT:if((0,A.ZF7)(Nt,"Script"))return(0,A.rcV)(Nt);throw new A.wOt(5200,!1);case A.WPN.URL:return(0,A.ZF7)(Nt,"URL")?(0,A.rcV)(Nt):(0,A.$MX)(String(Nt));case A.WPN.RESOURCE_URL:if((0,A.ZF7)(Nt,"ResourceURL"))return(0,A.rcV)(Nt);throw new A.wOt(5201,!1);default:throw new A.wOt(5202,!1)}}bypassSecurityTrustHtml(yt){return(0,A.Kcf)(yt)}bypassSecurityTrustStyle(yt){return(0,A.cWb)(yt)}bypassSecurityTrustScript(yt){return(0,A.UyX)(yt)}bypassSecurityTrustUrl(yt){return(0,A.osQ)(yt)}bypassSecurityTrustResourceUrl(yt){return(0,A.e5t)(yt)}}return(Rt=vt).\u0275fac=function(yt){return new(yt||Rt)(A.KVO(M.qQ))},Rt.\u0275prov=A.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),vt})()},9858:(Dr,rr,_e)=>{"use strict";_e.d(rr,{nX:()=>Fr,Zp:()=>Tt,Z:()=>Gn,Xk:()=>ze,Kp:()=>ji,b:()=>Yr,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>$t});var M=_e(3953),A=_e(1985),et=_e(8071),o=_e(6648),ie=_e(7673),$=_e(4412),v=_e(4572);const f=(0,_e(1853).L)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"});var m=_e(8793),w=_e(9030),_=_e(1203),i=_e(8810),a=_e(983),l=_e(17),u=_e(1413),d=_e(8359),h=_e(177),g=_e(6354),p=_e(5558),y=_e(6697),C=_e(9326),H=_e(9974),R=_e(5964),P=_e(1397),k=_e(4360);function T(se){return(0,H.N)((he,we)=>{let de=!1;he.subscribe((0,k._)(we,Ce=>{de=!0,we.next(Ce)},()=>{de||we.next(se),we.complete()}))})}function N(se=j){return(0,H.N)((he,we)=>{let de=!1;he.subscribe((0,k._)(we,Ce=>{de=!0,we.next(Ce)},()=>de?we.complete():we.error(se())))})}function j(){return new f}var Z=_e(3669);function ee(se,he){const we=arguments.length>=2;return de=>de.pipe(se?(0,R.p)((Ce,tt)=>se(Ce,tt,de)):Z.D,(0,y.s)(1),we?T(he):N(()=>new f))}function z(se,he){return(0,et.T)(he)?(0,P.Z)(se,he,1):(0,P.Z)(se,1)}var te=_e(8141),W=_e(8750);function G(se){return(0,H.N)((he,we)=>{let tt,de=null,Ce=!1;de=he.subscribe((0,k._)(we,void 0,void 0,ut=>{tt=(0,W.Tg)(se(ut,G(se)(he))),de?(de.unsubscribe(),de=null,tt.subscribe(we)):Ce=!0})),Ce&&(de.unsubscribe(),de=null,tt.subscribe(we))})}function Me(se){return se<=0?()=>a.w:(0,H.N)((he,we)=>{let de=[];he.subscribe((0,k._)(we,Ce=>{de.push(Ce),se<de.length&&de.shift()},()=>{for(const Ce of de)we.next(Ce);we.complete()},void 0,()=>{de=null}))})}var O=_e(3703);function oe(se){return(0,H.N)((he,we)=>{try{he.subscribe(we)}finally{we.add(se)}})}var me=_e(9898),Se=_e(5343),Xe=_e(6365),lt=_e(345);const ze="primary",st=Symbol("RouteTitle");class at{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const we=this.params[he];return Array.isArray(we)?we[0]:we}return null}getAll(he){if(this.has(he)){const we=this.params[he];return Array.isArray(we)?we:[we]}return[]}get keys(){return Object.keys(this.params)}}function Fe(se){return new at(se)}function nt(se,he,we){const de=we.path.split("/");if(de.length>se.length||"full"===we.pathMatch&&(he.hasChildren()||de.length<se.length))return null;const Ce={};for(let tt=0;tt<de.length;tt++){const ut=de[tt],or=se[tt];if(":"===ut[0])Ce[ut.substring(1)]=or;else if(ut!==or.path)return null}return{consumed:se.slice(0,de.length),posParams:Ce}}function ot(se,he){const we=se?Ze(se):void 0,de=he?Ze(he):void 0;if(!we||!de||we.length!=de.length)return!1;let Ce;for(let tt=0;tt<we.length;tt++)if(Ce=we[tt],!pt(se[Ce],he[Ce]))return!1;return!0}function Ze(se){return[...Object.keys(se),...Object.getOwnPropertySymbols(se)]}function pt(se,he){if(Array.isArray(se)&&Array.isArray(he)){if(se.length!==he.length)return!1;const we=[...se].sort(),de=[...he].sort();return we.every((Ce,tt)=>de[tt]===Ce)}return se===he}function kt(se){return se.length>0?se[se.length-1]:null}function ar(se){return function Et(se){return!!se&&(se instanceof A.c||(0,et.T)(se.lift)&&(0,et.T)(se.subscribe))}(se)?se:(0,M.jNT)(se)?(0,o.H)(Promise.resolve(se)):(0,ie.of)(se)}const Vt={exact:function Qt(se,he,we){if(!Ot(se.segments,he.segments)||!Gt(se.segments,he.segments,we)||se.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!se.children[de]||!Qt(se.children[de],he.children[de],we))return!1;return!0},subset:Ct},cr={exact:function br(se,he){return ot(se,he)},subset:function fr(se,he){return Object.keys(he).length<=Object.keys(se).length&&Object.keys(he).every(we=>pt(se[we],he[we]))},ignored:()=>!0};function It(se,he,we){return Vt[we.paths](se.root,he.root,we.matrixParams)&&cr[we.queryParams](se.queryParams,he.queryParams)&&!("exact"===we.fragment&&se.fragment!==he.fragment)}function Ct(se,he,we){return ir(se,he,he.segments,we)}function ir(se,he,we,de){if(se.segments.length>we.length){const Ce=se.segments.slice(0,we.length);return!(!Ot(Ce,we)||he.hasChildren()||!Gt(Ce,we,de))}if(se.segments.length===we.length){if(!Ot(se.segments,we)||!Gt(se.segments,we,de))return!1;for(const Ce in he.children)if(!se.children[Ce]||!Ct(se.children[Ce],he.children[Ce],de))return!1;return!0}{const Ce=we.slice(0,se.segments.length),tt=we.slice(se.segments.length);return!!(Ot(se.segments,Ce)&&Gt(se.segments,Ce,de)&&se.children[ze])&&ir(se.children[ze],he,tt,de)}}function Gt(se,he,we){return he.every((de,Ce)=>cr[we](se[Ce].parameters,de.parameters))}class $e{constructor(he=new We([],{}),we={},de=null){this.root=he,this.queryParams=we,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class We{constructor(he,we){this.segments=he,this.children=we,this.parent=null,Object.values(we).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xt(this)}}class Pe{constructor(he,we){this.path=he,this.parameters=we}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return ft(this)}}function Ot(se,he){return se.length===he.length&&se.every((we,de)=>we.path===he[de].path)}let $t=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:()=>new _t,providedIn:"root"}),he})();class _t{parse(he){const we=new Ie(he);return new $e(we.parseRootSegment(),we.parseQueryParams(),we.parseFragment())}serialize(he){const we=`/${tr(he.root,!0)}`,de=function er(se){const he=Object.entries(se).map(([we,de])=>Array.isArray(de)?de.map(Ce=>`${vt(we)}=${vt(Ce)}`).join("&"):`${vt(we)}=${vt(de)}`).filter(we=>we);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${we}${de}${"string"==typeof he.fragment?`#${function Ut(se){return encodeURI(se)}(he.fragment)}`:""}`}}const Mt=new _t;function Xt(se){return se.segments.map(he=>ft(he)).join("/")}function tr(se,he){if(!se.hasChildren())return Xt(se);if(he){const we=se.children[ze]?tr(se.children[ze],!1):"",de=[];return Object.entries(se.children).forEach(([Ce,tt])=>{Ce!==ze&&de.push(`${Ce}:${tr(tt,!1)}`)}),de.length>0?`${we}(${de.join("//")})`:we}{const we=function zt(se,he){let we=[];return Object.entries(se.children).forEach(([de,Ce])=>{de===ze&&(we=we.concat(he(Ce,de)))}),Object.entries(se.children).forEach(([de,Ce])=>{de!==ze&&(we=we.concat(he(Ce,de)))}),we}(se,(de,Ce)=>Ce===ze?[tr(se.children[ze],!1)]:[`${Ce}:${tr(de,!1)}`]);return 1===Object.keys(se.children).length&&null!=se.children[ze]?`${Xt(se)}/${we[0]}`:`${Xt(se)}/(${we.join("//")})`}}function Rt(se){return encodeURIComponent(se).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vt(se){return Rt(se).replace(/%3B/gi,";")}function yt(se){return Rt(se).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nt(se){return decodeURIComponent(se)}function dr(se){return Nt(se.replace(/\+/g,"%20"))}function ft(se){return`${yt(se.path)}${function Dt(se){return Object.entries(se).map(([he,we])=>`;${yt(he)}=${yt(we)}`).join("")}(se.parameters)}`}const Yt=/^[^\/()?;#]+/;function lr(se){const he=se.match(Yt);return he?he[0]:""}const yr=/^[^\/()?;=#]+/,xr=/^[^=?&#]+/,X=/^[^&#]+/;class Ie{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let we={};this.peekStartsWith("/(")&&(this.capture("/"),we=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(we).length>0)&&(de[ze]=new We(he,we)),de}parseSegment(){const he=lr(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new M.wOt(4009,!1);return this.capture(he),new Pe(Nt(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const we=function wr(se){const he=se.match(yr);return he?he[0]:""}(this.remaining);if(!we)return;this.capture(we);let de="";if(this.consumeOptional("=")){const Ce=lr(this.remaining);Ce&&(de=Ce,this.capture(de))}he[Nt(we)]=Nt(de)}parseQueryParam(he){const we=function Mr(se){const he=se.match(xr);return he?he[0]:""}(this.remaining);if(!we)return;this.capture(we);let de="";if(this.consumeOptional("=")){const ut=function pe(se){const he=se.match(X);return he?he[0]:""}(this.remaining);ut&&(de=ut,this.capture(de))}const Ce=dr(we),tt=dr(de);if(he.hasOwnProperty(Ce)){let ut=he[Ce];Array.isArray(ut)||(ut=[ut],he[Ce]=ut),ut.push(tt)}else he[Ce]=tt}parseParens(he){const we={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=lr(this.remaining),Ce=this.remaining[de.length];if("/"!==Ce&&")"!==Ce&&";"!==Ce)throw new M.wOt(4010,!1);let tt;de.indexOf(":")>-1?(tt=de.slice(0,de.indexOf(":")),this.capture(tt),this.capture(":")):he&&(tt=ze);const ut=this.parseChildren();we[tt]=1===Object.keys(ut).length?ut[ze]:new We([],ut),this.consumeOptional("//")}return we}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new M.wOt(4011,!1)}}function E(se){return se.segments.length>0?new We([],{[ze]:se}):se}function I(se){const he={};for(const[de,Ce]of Object.entries(se.children)){const tt=I(Ce);if(de===ze&&0===tt.segments.length&&tt.hasChildren())for(const[ut,or]of Object.entries(tt.children))he[ut]=or;else(tt.segments.length>0||tt.hasChildren())&&(he[de]=tt)}return function U(se){if(1===se.numberOfChildren&&se.children[ze]){const he=se.children[ze];return new We(se.segments.concat(he.segments),he.children)}return se}(new We(se.segments,he))}function D(se){return se instanceof $e}function V(se){var he;let we;const tt=E(function de(ut){const or={};for(const qt of ut.children){const Or=de(qt);or[qt.outlet]=Or}const _r=new We(ut.url,or);return ut===se&&(we=_r),_r}(se.root));return null!==(he=we)&&void 0!==he?he:tt}function ne(se,he,we,de){let Ce=se;for(;Ce.parent;)Ce=Ce.parent;if(0===he.length)return qe(Ce,Ce,Ce,we,de);const tt=function je(se){if("string"==typeof se[0]&&1===se.length&&"/"===se[0])return new sr(!0,0,se);let he=0,we=!1;const de=se.reduce((Ce,tt,ut)=>{if("object"==typeof tt&&null!=tt){if(tt.outlets){const or={};return Object.entries(tt.outlets).forEach(([_r,qt])=>{or[_r]="string"==typeof qt?qt.split("/"):qt}),[...Ce,{outlets:or}]}if(tt.segmentPath)return[...Ce,tt.segmentPath]}return"string"!=typeof tt?[...Ce,tt]:0===ut?(tt.split("/").forEach((or,_r)=>{0==_r&&"."===or||(0==_r&&""===or?we=!0:".."===or?he++:""!=or&&Ce.push(or))}),Ce):[...Ce,tt]},[]);return new sr(we,he,de)}(he);if(tt.toRoot())return qe(Ce,Ce,new We([],{}),we,de);const ut=function ht(se,he,we){if(se.isAbsolute)return new Ve(he,!0,0);if(!we)return new Ve(he,!1,NaN);if(null===we.parent)return new Ve(we,!0,0);const de=Ne(se.commands[0])?0:1;return function Ge(se,he,we){let de=se,Ce=he,tt=we;for(;tt>Ce;){if(tt-=Ce,de=de.parent,!de)throw new M.wOt(4005,!1);Ce=de.segments.length}return new Ve(de,!1,Ce-tt)}(we,we.segments.length-1+de,se.numberOfDoubleDots)}(tt,Ce,se),or=ut.processChildren?ur(ut.segmentGroup,ut.index,tt.commands):Bt(ut.segmentGroup,ut.index,tt.commands);return qe(Ce,ut.segmentGroup,or,we,de)}function Ne(se){return"object"==typeof se&&null!=se&&!se.outlets&&!se.segmentPath}function De(se){return"object"==typeof se&&null!=se&&se.outlets}function qe(se,he,we,de,Ce){let ut,tt={};de&&Object.entries(de).forEach(([_r,qt])=>{tt[_r]=Array.isArray(qt)?qt.map(Or=>`${Or}`):`${qt}`}),ut=se===he?we:St(se,he,we);const or=E(I(ut));return new $e(or,tt,Ce)}function St(se,he,we){const de={};return Object.entries(se.children).forEach(([Ce,tt])=>{de[Ce]=tt===he?we:St(tt,he,we)}),new We(se.segments,de)}class sr{constructor(he,we,de){if(this.isAbsolute=he,this.numberOfDoubleDots=we,this.commands=de,he&&de.length>0&&Ne(de[0]))throw new M.wOt(4003,!1);const Ce=de.find(De);if(Ce&&Ce!==kt(de))throw new M.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ve{constructor(he,we,de){this.segmentGroup=he,this.processChildren=we,this.index=de}}function Bt(se,he,we){var de;if(null!==(de=se)&&void 0!==de||(se=new We([],{})),0===se.segments.length&&se.hasChildren())return ur(se,he,we);const Ce=function vr(se,he,we){let de=0,Ce=he;const tt={match:!1,pathIndex:0,commandIndex:0};for(;Ce<se.segments.length;){if(de>=we.length)return tt;const ut=se.segments[Ce],or=we[de];if(De(or))break;const _r=`${or}`,qt=de<we.length-1?we[de+1]:null;if(Ce>0&&void 0===_r)break;if(_r&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!Nn(_r,qt,ut))return tt;de+=2}else{if(!Nn(_r,{},ut))return tt;de++}Ce++}return{match:!0,pathIndex:Ce,commandIndex:de}}(se,he,we),tt=we.slice(Ce.commandIndex);if(Ce.match&&Ce.pathIndex<se.segments.length){const ut=new We(se.segments.slice(0,Ce.pathIndex),{});return ut.children[ze]=new We(se.segments.slice(Ce.pathIndex),se.children),ur(ut,0,tt)}return Ce.match&&0===tt.length?new We(se.segments,{}):Ce.match&&!se.hasChildren()?Pr(se,he,we):Ce.match?ur(se,0,tt):Pr(se,he,we)}function ur(se,he,we){if(0===we.length)return new We(se.segments,{});{const de=function dt(se){return De(se[0])?se[0].outlets:{[ze]:se}}(we),Ce={};if(Object.keys(de).some(tt=>tt!==ze)&&se.children[ze]&&1===se.numberOfChildren&&0===se.children[ze].segments.length){const tt=ur(se.children[ze],he,we);return new We(se.segments,tt.children)}return Object.entries(de).forEach(([tt,ut])=>{"string"==typeof ut&&(ut=[ut]),null!==ut&&(Ce[tt]=Bt(se.children[tt],he,ut))}),Object.entries(se.children).forEach(([tt,ut])=>{void 0===de[tt]&&(Ce[tt]=ut)}),new We(se.segments,Ce)}}function Pr(se,he,we){const de=se.segments.slice(0,he);let Ce=0;for(;Ce<we.length;){const tt=we[Ce];if(De(tt)){const _r=sn(tt.outlets);return new We(de,_r)}if(0===Ce&&Ne(we[0])){de.push(new Pe(se.segments[he].path,nn(we[0]))),Ce++;continue}const ut=De(tt)?tt.outlets[ze]:`${tt}`,or=Ce<we.length-1?we[Ce+1]:null;ut&&or&&Ne(or)?(de.push(new Pe(ut,nn(or))),Ce+=2):(de.push(new Pe(ut,{})),Ce++)}return new We(de,{})}function sn(se){const he={};return Object.entries(se).forEach(([we,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[we]=Pr(new We([],{}),0,de))}),he}function nn(se){const he={};return Object.entries(se).forEach(([we,de])=>he[we]=`${de}`),he}function Nn(se,he,we){return se==we.path&&ot(he,we.parameters)}const Dn="imperative";var Kr=function(se){return se[se.NavigationStart=0]="NavigationStart",se[se.NavigationEnd=1]="NavigationEnd",se[se.NavigationCancel=2]="NavigationCancel",se[se.NavigationError=3]="NavigationError",se[se.RoutesRecognized=4]="RoutesRecognized",se[se.ResolveStart=5]="ResolveStart",se[se.ResolveEnd=6]="ResolveEnd",se[se.GuardsCheckStart=7]="GuardsCheckStart",se[se.GuardsCheckEnd=8]="GuardsCheckEnd",se[se.RouteConfigLoadStart=9]="RouteConfigLoadStart",se[se.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",se[se.ChildActivationStart=11]="ChildActivationStart",se[se.ChildActivationEnd=12]="ChildActivationEnd",se[se.ActivationStart=13]="ActivationStart",se[se.ActivationEnd=14]="ActivationEnd",se[se.Scroll=15]="Scroll",se[se.NavigationSkipped=16]="NavigationSkipped",se}(Kr||{});class yn{constructor(he,we){this.id=he,this.url=we}}class Gn extends yn{constructor(he,we,de="imperative",Ce=null){super(he,we),this.type=Kr.NavigationStart,this.navigationTrigger=de,this.restoredState=Ce}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bn extends yn{constructor(he,we,de){super(he,we),this.urlAfterRedirects=de,this.type=Kr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(se){return se[se.Redirect=0]="Redirect",se[se.SupersededByNewNavigation=1]="SupersededByNewNavigation",se[se.NoDataFromResolver=2]="NoDataFromResolver",se[se.GuardRejected=3]="GuardRejected",se}(Ln||{}),To=function(se){return se[se.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",se[se.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",se}(To||{});class eo extends yn{constructor(he,we,de,Ce){super(he,we),this.reason=de,this.code=Ce,this.type=Kr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends yn{constructor(he,we,de,Ce){super(he,we),this.reason=de,this.code=Ce,this.type=Kr.NavigationSkipped}}class ko extends yn{constructor(he,we,de,Ce){super(he,we),this.error=de,this.target=Ce,this.type=Kr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends yn{constructor(he,we,de,Ce){super(he,we),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends yn{constructor(he,we,de,Ce){super(he,we),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends yn{constructor(he,we,de,Ce,tt){super(he,we),this.urlAfterRedirects=de,this.state=Ce,this.shouldActivate=tt,this.type=Kr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends yn{constructor(he,we,de,Ce){super(he,we),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends yn{constructor(he,we,de,Ce){super(he,we),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ye{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(he){this.snapshot=he,this.type=Kr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(he){this.snapshot=he,this.type=Kr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(he,we,de){this.routerEvent=he,this.position=we,this.anchor=de,this.type=Kr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jt{}class hn{constructor(he,we){this.url=he,this.navigationBehaviorOptions=we}}function Yn(se){return se.outlet||ze}function Le(se){var he;if(!se)return null;if(null!==(he=se.routeConfig)&&void 0!==he&&he._injector)return se.routeConfig._injector;for(let we=se.parent;we;we=we.parent){const de=we.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class rt{get injector(){var he,we;return null!==(he=Le(null===(we=this.route)||void 0===we?void 0:we.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new Tt(this.rootInjector),this.attachRef=null}}let Tt=(()=>{var se;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Ce){const tt=this.getOrCreateContext(de);tt.outlet=Ce,this.contexts.set(de,tt)}onChildOutletDestroyed(de){const Ce=this.getContext(de);Ce&&(Ce.outlet=null,Ce.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Ce=this.getContext(de);return Ce||(Ce=new rt(this.rootInjector),this.contexts.set(de,Ce)),Ce}getContext(de){return this.contexts.get(de)||null}}return(se=he).\u0275fac=function(de){return new(de||se)(M.KVO(M.uvJ))},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();class Lt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const we=this.pathFromRoot(he);return we.length>1?we[we.length-2]:null}children(he){const we=Zt(he,this._root);return we?we.children.map(de=>de.value):[]}firstChild(he){const we=Zt(he,this._root);return we&&we.children.length>0?we.children[0].value:null}siblings(he){const we=Kt(he,this._root);return we.length<2?[]:we[we.length-2].children.map(Ce=>Ce.value).filter(Ce=>Ce!==he)}pathFromRoot(he){return Kt(he,this._root).map(we=>we.value)}}function Zt(se,he){if(se===he.value)return he;for(const we of he.children){const de=Zt(se,we);if(de)return de}return null}function Kt(se,he){if(se===he.value)return[he];for(const we of he.children){const de=Kt(se,we);if(de.length)return de.unshift(he),de}return[]}class mr{constructor(he,we){this.value=he,this.children=we}toString(){return`TreeNode(${this.value})`}}function Er(se){const he={};return se&&se.children.forEach(we=>he[we.value.outlet]=we),he}class Cr extends Lt{constructor(he,we){super(he),this.snapshot=we,_n(this,he)}toString(){return this.snapshot.toString()}}function Tr(se){const he=function Ur(se){const tt=new qr([],{},{},"",{},ze,se,null,{});return new pn("",new mr(tt,[]))}(se),we=new $.t([new Pe("",{})]),de=new $.t({}),Ce=new $.t({}),tt=new $.t({}),ut=new $.t(""),or=new Fr(we,de,tt,ut,Ce,ze,se,he.root);return or.snapshot=he.root,new Cr(new mr(or,[]),he)}class Fr{constructor(he,we,de,Ce,tt,ut,or,_r){var qt,Or;this.urlSubject=he,this.paramsSubject=we,this.queryParamsSubject=de,this.fragmentSubject=Ce,this.dataSubject=tt,this.outlet=ut,this.component=or,this._futureSnapshot=_r,this.title=null!==(qt=null===(Or=this.dataSubject)||void 0===Or?void 0:Or.pipe((0,g.T)(Xr=>Xr[st])))&&void 0!==qt?qt:(0,ie.of)(void 0),this.url=he,this.params=we,this.queryParams=de,this.fragment=Ce,this.data=tt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,g.T)(we=>Fe(we)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,g.T)(we=>Fe(we)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(se,he,we="emptyOnly"){var de;let Ce;const{routeConfig:tt}=se;var ut;return Ce=null===he||"always"!==we&&""!==(null==tt?void 0:tt.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...se.params},data:{...se.data},resolve:{...se.data,...null!==(ut=se._resolvedData)&&void 0!==ut?ut:{}}}:{params:{...he.params,...se.params},data:{...he.data,...se.data},resolve:{...se.data,...he.data,...null==tt?void 0:tt.data,...se._resolvedData}},tt&&Rr(tt)&&(Ce.resolve[st]=tt.title),Ce}class qr{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[st]}constructor(he,we,de,Ce,tt,ut,or,_r,qt){this.url=he,this.params=we,this.queryParams=de,this.fragment=Ce,this.data=tt,this.outlet=ut,this.component=or,this.routeConfig=_r,this._resolve=qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pn extends Lt{constructor(he,we){super(we),this.url=he,_n(this,we)}toString(){return wn(this._root)}}function _n(se,he){he.value._routerState=se,he.children.forEach(we=>_n(se,we))}function wn(se){const he=se.children.length>0?` { ${se.children.map(wn).join(", ")} } `:"";return`${se.value}${he}`}function Un(se){if(se.snapshot){const he=se.snapshot,we=se._futureSnapshot;se.snapshot=we,ot(he.queryParams,we.queryParams)||se.queryParamsSubject.next(we.queryParams),he.fragment!==we.fragment&&se.fragmentSubject.next(we.fragment),ot(he.params,we.params)||se.paramsSubject.next(we.params),function Ye(se,he){if(se.length!==he.length)return!1;for(let we=0;we<se.length;++we)if(!ot(se[we],he[we]))return!1;return!0}(he.url,we.url)||se.urlSubject.next(we.url),ot(he.data,we.data)||se.dataSubject.next(we.data)}else se.snapshot=se._futureSnapshot,se.dataSubject.next(se._futureSnapshot.data)}function kn(se,he){const we=ot(se.params,he.params)&&function Je(se,he){return Ot(se,he)&&se.every((we,de)=>ot(we.parameters,he[de].parameters))}(se.url,he.url);return we&&!(!se.parent!=!he.parent)&&(!se.parent||kn(se.parent,he.parent))}function Rr(se){return"string"==typeof se.title||null===se.title}let go=(()=>{var se;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new M.bkB,this.deactivateEvents=new M.bkB,this.attachEvents=new M.bkB,this.detachEvents=new M.bkB,this.parentContexts=(0,M.WQX)(Tt),this.location=(0,M.WQX)(M.c1b),this.changeDetector=(0,M.WQX)(M.gRc),this.inputBinder=(0,M.WQX)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Ce,previousValue:tt}=de.name;if(Ce)return;this.isTrackedInParentContexts(tt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(tt)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var Ce;return(null===(Ce=this.parentContexts.getContext(de))||void 0===Ce?void 0:Ce.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Ce){var tt;this.activated=de,this._activatedRoute=Ce,this.location.insert(de.hostView),null===(tt=this.inputBinder)||void 0===tt||tt.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Ce){var tt;if(this.isActivated)throw new M.wOt(4013,!1);this._activatedRoute=de;const ut=this.location,_r=de.snapshot.component,qt=this.parentContexts.getOrCreateContext(this.name).children,Or=new Lo(de,qt,ut.injector);this.activated=ut.createComponent(_r,{index:ut.length,injector:Or,environmentInjector:Ce}),this.changeDetector.markForCheck(),null===(tt=this.inputBinder)||void 0===tt||tt.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275dir=M.FsC({type:se,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,we,de){this.route=he,this.childContexts=we,this.parent=de}get(he,we){return he===Fr?this.route:he===Tt?this.childContexts:this.parent.get(he,we)}}const Pn=new M.nKC("");let Os=(()=>{var se;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var Ce;null===(Ce=this.outletDataSubscriptions.get(de))||void 0===Ce||Ce.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Ce}=de,tt=(0,v.z)([Ce.queryParams,Ce.params,Ce.data]).pipe((0,p.n)(([ut,or,_r],qt)=>(_r={...ut,...or,..._r},0===qt?(0,ie.of)(_r):Promise.resolve(_r)))).subscribe(ut=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Ce||null===Ce.component)return void this.unsubscribeFromRouteData(de);const or=(0,M.HJs)(Ce.component);if(or)for(const{templateName:_r}of or.inputs)de.activatedComponentRef.setInput(_r,ut[_r]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,tt)}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac}),he})();function ho(se,he,we){if(we&&se.shouldReuseRoute(he.value,we.value.snapshot)){const de=we.value;de._futureSnapshot=he.value;const Ce=function Bn(se,he,we){return he.children.map(de=>{for(const Ce of we.children)if(se.shouldReuseRoute(de.value,Ce.value.snapshot))return ho(se,de,Ce);return ho(se,de)})}(se,he,we);return new mr(de,Ce)}{if(se.shouldAttach(he.value)){const tt=se.retrieve(he.value);if(null!==tt){const ut=tt.route;return ut.value._futureSnapshot=he.value,ut.children=he.children.map(or=>ho(se,or)),ut}}const de=function Vr(se){return new Fr(new $.t(se.url),new $.t(se.params),new $.t(se.queryParams),new $.t(se.fragment),new $.t(se.data),se.outlet,se.component,se)}(he.value),Ce=he.children.map(tt=>ho(se,tt));return new mr(de,Ce)}}class Go{constructor(he,we){this.redirectTo=he,this.navigationBehaviorOptions=we}}const Jo="ngNavigationCancelingError";function xo(se,he){const{redirectTo:we,navigationBehaviorOptions:de}=D(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,Ce=Ps(!1,Ln.Redirect);return Ce.url=we,Ce.navigationBehaviorOptions=de,Ce}function Ps(se,he){const we=new Error(`NavigationCancelingError: ${se||""}`);return we[Jo]=!0,we.cancellationCode=he,we}function xn(se){return!!se&&se[Jo]}class Mo{constructor(he,we,de,Ce,tt){this.routeReuseStrategy=he,this.futureState=we,this.currState=de,this.forwardEvent=Ce,this.inputBindingEnabled=tt}activate(he){const we=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(we,de,he),Un(this.futureState.root),this.activateChildRoutes(we,de,he)}deactivateChildRoutes(he,we,de){const Ce=Er(we);he.children.forEach(tt=>{const ut=tt.value.outlet;this.deactivateRoutes(tt,Ce[ut],de),delete Ce[ut]}),Object.values(Ce).forEach(tt=>{this.deactivateRouteAndItsChildren(tt,de)})}deactivateRoutes(he,we,de){const Ce=he.value,tt=we?we.value:null;if(Ce===tt)if(Ce.component){const ut=de.getContext(Ce.outlet);ut&&this.deactivateChildRoutes(he,we,ut.children)}else this.deactivateChildRoutes(he,we,de);else tt&&this.deactivateRouteAndItsChildren(we,de)}deactivateRouteAndItsChildren(he,we){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,we):this.deactivateRouteAndOutlet(he,we)}detachAndStoreRouteSubtree(he,we){const de=we.getContext(he.value.outlet),Ce=de&&he.value.component?de.children:we,tt=Er(he);for(const ut of Object.values(tt))this.deactivateRouteAndItsChildren(ut,Ce);if(de&&de.outlet){const ut=de.outlet.detach(),or=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:ut,route:he,contexts:or})}}deactivateRouteAndOutlet(he,we){const de=we.getContext(he.value.outlet),Ce=de&&he.value.component?de.children:we,tt=Er(he);for(const ut of Object.values(tt))this.deactivateRouteAndItsChildren(ut,Ce);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,we,de){const Ce=Er(we);he.children.forEach(tt=>{this.activateRoutes(tt,Ce[tt.value.outlet],de),this.forwardEvent(new Ee(tt.value.snapshot))}),he.children.length&&this.forwardEvent(new He(he.value.snapshot))}activateRoutes(he,we,de){const Ce=he.value,tt=we?we.value:null;if(Un(Ce),Ce===tt)if(Ce.component){const ut=de.getOrCreateContext(Ce.outlet);this.activateChildRoutes(he,we,ut.children)}else this.activateChildRoutes(he,we,de);else if(Ce.component){const ut=de.getOrCreateContext(Ce.outlet);if(this.routeReuseStrategy.shouldAttach(Ce.snapshot)){const or=this.routeReuseStrategy.retrieve(Ce.snapshot);this.routeReuseStrategy.store(Ce.snapshot,null),ut.children.onOutletReAttached(or.contexts),ut.attachRef=or.componentRef,ut.route=or.route.value,ut.outlet&&ut.outlet.attach(or.componentRef,or.route.value),Un(or.route.value),this.activateChildRoutes(he,null,ut.children)}else ut.attachRef=null,ut.route=Ce,ut.outlet&&ut.outlet.activateWith(Ce,ut.injector),this.activateChildRoutes(he,null,ut.children)}else this.activateChildRoutes(he,null,de)}}class En{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class Rs{constructor(he,we){this.component=he,this.route=we}}function Xn(se,he,we){const de=se._root;return ws(de,he?he._root:null,we,[de.value])}function _s(se,he){const we=Symbol(),de=he.get(se,we);return de===we?"function"!=typeof se||(0,M.LfX)(se)?he.get(se):se:de}function ws(se,he,we,de,Ce={canDeactivateChecks:[],canActivateChecks:[]}){const tt=Er(he);return se.children.forEach(ut=>{(function Gs(se,he,we,de,Ce={canDeactivateChecks:[],canActivateChecks:[]}){const tt=se.value,ut=he?he.value:null,or=we?we.getContext(se.value.outlet):null;if(ut&&tt.routeConfig===ut.routeConfig){const _r=function Hr(se,he,we){if("function"==typeof we)return we(se,he);switch(we){case"pathParamsChange":return!Ot(se.url,he.url);case"pathParamsOrQueryParamsChange":return!Ot(se.url,he.url)||!ot(se.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kn(se,he)||!ot(se.queryParams,he.queryParams);default:return!kn(se,he)}}(ut,tt,tt.routeConfig.runGuardsAndResolvers);_r?Ce.canActivateChecks.push(new En(de)):(tt.data=ut.data,tt._resolvedData=ut._resolvedData),ws(se,he,tt.component?or?or.children:null:we,de,Ce),_r&&or&&or.outlet&&or.outlet.isActivated&&Ce.canDeactivateChecks.push(new Rs(or.outlet.component,ut))}else ut&&Ho(he,or,Ce),Ce.canActivateChecks.push(new En(de)),ws(se,null,tt.component?or?or.children:null:we,de,Ce)})(ut,tt[ut.value.outlet],we,de.concat([ut.value]),Ce),delete tt[ut.value.outlet]}),Object.entries(tt).forEach(([ut,or])=>Ho(or,we.getContext(ut),Ce)),Ce}function Ho(se,he,we){const de=Er(se),Ce=se.value;Object.entries(de).forEach(([tt,ut])=>{Ho(ut,Ce.component?he?he.children.getContext(tt):null:he,we)}),we.canDeactivateChecks.push(new Rs(Ce.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,Ce))}function S(se){return"function"==typeof se}function Qe(se){return se instanceof f||"EmptyError"===(null==se?void 0:se.name)}const bt=Symbol("INITIAL_VALUE");function gt(){return(0,p.n)(se=>(0,v.z)(se.map(he=>he.pipe((0,y.s)(1),function B(...se){const he=(0,C.lI)(se);return(0,H.N)((we,de)=>{(he?(0,m.x)(se,we,he):(0,m.x)(se,we)).subscribe(de)})}(bt)))).pipe((0,g.T)(he=>{for(const we of he)if(!0!==we){if(we===bt)return bt;if(!1===we||Wt(we))return we}return!0}),(0,R.p)(he=>he!==bt),(0,y.s)(1)))}function Wt(se){return D(se)||se instanceof Go}function Lr(se){return(0,_.F)((0,te.M)(he=>{if("boolean"!=typeof he)throw xo(0,he)}),(0,g.T)(he=>!0===he))}class Wr{constructor(he){this.segmentGroup=he||null}}class Qr extends Error{constructor(he){super(),this.urlTree=he}}function vn(se){return(0,i.$)(new Wr(se))}class Kn{constructor(he,we){this.urlSerializer=he,this.urlTree=we}lineralizeSegments(he,we){let de=[],Ce=we.root;for(;;){if(de=de.concat(Ce.segments),0===Ce.numberOfChildren)return(0,ie.of)(de);if(Ce.numberOfChildren>1||!Ce.children[ze])return(0,i.$)(new M.wOt(4e3,!1));Ce=Ce.children[ze]}}applyRedirectCommands(he,we,de,Ce,tt){if("string"!=typeof we){const or=we,{queryParams:_r,fragment:qt,routeConfig:Or,url:Xr,outlet:fn,params:Jr,data:ro,title:Wo}=Ce,Fo=(0,M.N4e)(tt,()=>or({params:Jr,data:ro,queryParams:_r,fragment:qt,routeConfig:Or,url:Xr,outlet:fn,title:Wo}));if(Fo instanceof $e)throw new Qr(Fo);we=Fo}const ut=this.applyRedirectCreateUrlTree(we,this.urlSerializer.parse(we),he,de);if("/"===we[0])throw new Qr(ut);return ut}applyRedirectCreateUrlTree(he,we,de,Ce){const tt=this.createSegmentGroup(he,we.root,de,Ce);return new $e(tt,this.createQueryParams(we.queryParams,this.urlTree.queryParams),we.fragment)}createQueryParams(he,we){const de={};return Object.entries(he).forEach(([Ce,tt])=>{if("string"==typeof tt&&":"===tt[0]){const or=tt.substring(1);de[Ce]=we[or]}else de[Ce]=tt}),de}createSegmentGroup(he,we,de,Ce){const tt=this.createSegments(he,we.segments,de,Ce);let ut={};return Object.entries(we.children).forEach(([or,_r])=>{ut[or]=this.createSegmentGroup(he,_r,de,Ce)}),new We(tt,ut)}createSegments(he,we,de,Ce){return we.map(tt=>":"===tt.path[0]?this.findPosParam(he,tt,Ce):this.findOrReturn(tt,de))}findPosParam(he,we,de){const Ce=de[we.path.substring(1)];if(!Ce)throw new M.wOt(4001,!1);return Ce}findOrReturn(he,we){let de=0;for(const Ce of we){if(Ce.path===he.path)return we.splice(de),Ce;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tn(se,he,we,de,Ce){const tt=Mn(se,he,we);return tt.matched?(de=function mo(se,he){var we;return se.providers&&!se._injector&&(se._injector=(0,M.Ol2)(se.providers,he,`Route: ${se.path}`)),null!==(we=se._injector)&&void 0!==we?we:he}(he,de),function zr(se,he,we,de){const Ce=he.canMatch;if(!Ce||0===Ce.length)return(0,ie.of)(!0);const tt=Ce.map(ut=>{const or=_s(ut,se);return ar(function Re(se){return se&&S(se.canMatch)}(or)?or.canMatch(he,we):(0,M.N4e)(se,()=>or(he,we)))});return(0,ie.of)(tt).pipe(gt(),Lr())}(de,he,we).pipe((0,g.T)(ut=>!0===ut?tt:{...fo}))):(0,ie.of)(tt)}function Mn(se,he,we){var de,Ce;if("**"===he.path)return function $r(se){return{matched:!0,parameters:se.length>0?kt(se).parameters:{},consumedSegments:se,remainingSegments:[],positionalParamSegments:{}}}(we);if(""===he.path)return"full"===he.pathMatch&&(se.hasChildren()||we.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:we,parameters:{},positionalParamSegments:{}};const ut=(he.matcher||nt)(we,se,he);if(!ut)return{...fo};const or={};Object.entries(null!==(de=ut.posParams)&&void 0!==de?de:{}).forEach(([qt,Or])=>{or[qt]=Or.path});const _r=ut.consumed.length>0?{...or,...ut.consumed[ut.consumed.length-1].parameters}:or;return{matched:!0,consumedSegments:ut.consumed,remainingSegments:we.slice(ut.consumed.length),parameters:_r,positionalParamSegments:null!==(Ce=ut.posParams)&&void 0!==Ce?Ce:{}}}function $n(se,he,we,de){return we.length>0&&function Rn(se,he,we){return we.some(de=>rs(se,he,de)&&Yn(de)!==ze)}(se,we,de)?{segmentGroup:new We(he,lo(de,new We(we,se.children))),slicedSegments:[]}:0===we.length&&function uo(se,he,we){return we.some(de=>rs(se,he,de))}(se,we,de)?{segmentGroup:new We(se.segments,Vn(se,we,de,se.children)),slicedSegments:we}:{segmentGroup:new We(se.segments,se.children),slicedSegments:we}}function Vn(se,he,we,de){const Ce={};for(const tt of we)if(rs(se,he,tt)&&!de[Yn(tt)]){const ut=new We([],{});Ce[Yn(tt)]=ut}return{...de,...Ce}}function lo(se,he){const we={};we[ze]=he;for(const de of se)if(""===de.path&&Yn(de)!==ze){const Ce=new We([],{});we[Yn(de)]=Ce}return we}function rs(se,he,we){return(!(se.hasChildren()||he.length>0)||"full"!==we.pathMatch)&&""===we.path}class Ud{}class vi{constructor(he,we,de,Ce,tt,ut,or){this.injector=he,this.configLoader=we,this.rootComponentType=de,this.config=Ce,this.urlTree=tt,this.paramsInheritanceStrategy=ut,this.urlSerializer=or,this.applyRedirects=new Kn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new M.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=$n(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,g.T)(({children:we,rootSnapshot:de})=>{const Ce=new mr(de,we),tt=new pn("",Ce),ut=function J(se,he,we=null,de=null){return ne(V(se),he,we,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return ut.queryParams=this.urlTree.queryParams,tt.url=this.urlSerializer.serialize(ut),{state:tt,tree:ut}}))}match(he){const we=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ze,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,ze,we).pipe((0,g.T)(de=>({children:de,rootSnapshot:we})),G(de=>{if(de instanceof Qr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Wr?this.noMatchError(de):de}))}processSegmentGroup(he,we,de,Ce,tt){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,we,de,tt):this.processSegment(he,we,de,de.segments,Ce,!0,tt).pipe((0,g.T)(ut=>ut instanceof mr?[ut]:[]))}processChildren(he,we,de,Ce){const tt=[];for(const ut of Object.keys(de.children))"primary"===ut?tt.unshift(ut):tt.push(ut);return(0,o.H)(tt).pipe(z(ut=>{const or=de.children[ut],_r=function So(se,he){const we=se.filter(de=>Yn(de)===he);return we.push(...se.filter(de=>Yn(de)!==he)),we}(we,ut);return this.processSegmentGroup(he,_r,or,ut,Ce)}),function le(se,he){return(0,H.N)(function Y(se,he,we,de,Ce){return(tt,ut)=>{let or=we,_r=he,qt=0;tt.subscribe((0,k._)(ut,Or=>{const Xr=qt++;_r=or?se(_r,Or,Xr):(or=!0,Or),de&&ut.next(_r)},Ce&&(()=>{or&&ut.next(_r),ut.complete()})))}}(se,he,arguments.length>=2,!0))}((ut,or)=>(ut.push(...or),ut)),T(null),function K(se,he){const we=arguments.length>=2;return de=>de.pipe(se?(0,R.p)((Ce,tt)=>se(Ce,tt,de)):Z.D,Me(1),we?T(he):N(()=>new f))}(),(0,P.Z)(ut=>{if(null===ut)return vn(de);const or=Ea(ut);return function wa(se){se.sort((he,we)=>he.value.outlet===ze?-1:we.value.outlet===ze?1:he.value.outlet.localeCompare(we.value.outlet))}(or),(0,ie.of)(or)}))}processSegment(he,we,de,Ce,tt,ut,or){return(0,o.H)(we).pipe(z(_r=>{var qt;return this.processSegmentAgainstRoute(null!==(qt=_r._injector)&&void 0!==qt?qt:he,we,_r,de,Ce,tt,ut,or).pipe(G(Or=>{if(Or instanceof Wr)return(0,ie.of)(null);throw Or}))}),ee(_r=>!!_r),G(_r=>{if(Qe(_r))return function _a(se,he,we){return 0===he.length&&!se.children[we]}(de,Ce,tt)?(0,ie.of)(new Ud):vn(de);throw _r}))}processSegmentAgainstRoute(he,we,de,Ce,tt,ut,or,_r){return function ni(se,he,we,de){return!!(Yn(se)===de||de!==ze&&rs(he,we,se))&&Mn(he,se,we).matched}(de,Ce,tt,ut)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,Ce,de,tt,ut,_r):this.allowRedirects&&or?this.expandSegmentAgainstRouteUsingRedirect(he,Ce,we,de,tt,ut,_r):vn(Ce):vn(Ce)}expandSegmentAgainstRouteUsingRedirect(he,we,de,Ce,tt,ut,or){var _r,qt;const{matched:Or,parameters:Xr,consumedSegments:fn,positionalParamSegments:Jr,remainingSegments:ro}=Mn(we,Ce,tt);if(!Or)return vn(we);"string"==typeof Ce.redirectTo&&"/"===Ce.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new qr(tt,Xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(Ce),Yn(Ce),null!==(_r=null!==(qt=Ce.component)&&void 0!==qt?qt:Ce._loadedComponent)&&void 0!==_r?_r:null,Ce,Sa(Ce)),Fo=Gr(Wo,or,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xi=this.applyRedirects.applyRedirectCommands(fn,Ce.redirectTo,Jr,Wo,he);return this.applyRedirects.lineralizeSegments(Ce,Xi).pipe((0,P.Z)(fs=>this.processSegment(he,de,we,fs.concat(ro),ut,!1,or)))}matchSegmentAgainstRoute(he,we,de,Ce,tt,ut){const or=Tn(we,de,Ce,he);return"**"===de.path&&(we.children={}),or.pipe((0,p.n)(_r=>{var qt;return _r.matched?(he=null!==(qt=de._injector)&&void 0!==qt?qt:he,this.getChildConfig(he,de,Ce).pipe((0,p.n)(({routes:Or})=>{var Xr,fn,Jr;const ro=null!==(Xr=de._loadedInjector)&&void 0!==Xr?Xr:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xi}=_r,fs=new qr(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(de),Yn(de),null!==(fn=null!==(Jr=de.component)&&void 0!==Jr?Jr:de._loadedComponent)&&void 0!==fn?fn:null,de,Sa(de)),si=Gr(fs,ut,this.paramsInheritanceStrategy);fs.params=Object.freeze(si.params),fs.data=Object.freeze(si.data);const{segmentGroup:Ml,slicedSegments:qi}=$n(we,Fo,Xi,Or);if(0===qi.length&&Ml.hasChildren())return this.processChildren(ro,Or,Ml,fs).pipe((0,g.T)(Si=>new mr(fs,Si)));if(0===Or.length&&0===qi.length)return(0,ie.of)(new mr(fs,[]));const Qu=Yn(de)===tt;return this.processSegment(ro,Or,Ml,qi,Qu?ze:tt,!0,fs).pipe((0,g.T)(Si=>new mr(fs,Si instanceof mr?[Si]:[])))}))):vn(we)}))}getChildConfig(he,we,de){return we.children?(0,ie.of)({routes:we.children,injector:he}):we.loadChildren?void 0!==we._loadedRoutes?(0,ie.of)({routes:we._loadedRoutes,injector:we._loadedInjector}):function Br(se,he,we,de){const Ce=he.canLoad;if(void 0===Ce||0===Ce.length)return(0,ie.of)(!0);const tt=Ce.map(ut=>{const or=_s(ut,se);return ar(function q(se){return se&&S(se.canLoad)}(or)?or.canLoad(he,we):(0,M.N4e)(se,()=>or(he,we)))});return(0,ie.of)(tt).pipe(gt(),Lr())}(he,we,de).pipe((0,P.Z)(Ce=>Ce?this.configLoader.loadChildren(he,we).pipe((0,te.M)(tt=>{we._loadedRoutes=tt.routes,we._loadedInjector=tt.injector})):function so(se){return(0,i.$)(Ps(!1,Ln.GuardRejected))}())):(0,ie.of)({routes:[],injector:he})}}function Vi(se){const he=se.value.routeConfig;return he&&""===he.path}function Ea(se){const he=[],we=new Set;for(const de of se){if(!Vi(de)){he.push(de);continue}const Ce=he.find(tt=>de.value.routeConfig===tt.value.routeConfig);void 0!==Ce?(Ce.children.push(...de.children),we.add(Ce)):he.push(de)}for(const de of we){const Ce=Ea(de.children);he.push(new mr(de.value,Ce))}return he.filter(de=>!we.has(de))}function oi(se){return se.data||{}}function Sa(se){return se.resolve||{}}function Vu(se){const he=se.children.map(we=>Vu(we)).flat();return[se,...he]}function xa(se){return(0,p.n)(he=>{const we=se(he);return we?(0,o.H)(we).pipe((0,g.T)(()=>he)):(0,ie.of)(he)})}let Gi=(()=>{var se;class he{buildTitle(de){let Ce,tt=de.root;for(;void 0!==tt;){var ut;Ce=null!==(ut=this.getResolvedTitleForRoute(tt))&&void 0!==ut?ut:Ce,tt=tt.children.find(or=>or.outlet===ze)}return Ce}getResolvedTitleForRoute(de){return de.data[st]}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:()=>(0,M.WQX)(mn),providedIn:"root"}),he})(),mn=(()=>{var se;class he extends Gi{constructor(de){super(),this.title=de}updateTitle(de){const Ce=this.buildTitle(de);void 0!==Ce&&this.title.setTitle(Ce)}}return(se=he).\u0275fac=function(de){return new(de||se)(M.KVO(lt.hE))},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();const Hs=new M.nKC("",{providedIn:"root",factory:()=>({})});let bi=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275cmp=M.VBU({type:se,selectors:[["ng-component"]],standalone:!0,features:[M.aNF],decls:1,vars:0,template:function(de,Ce){1&de&&M.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(se){const he=se.children&&se.children.map(Io),we=he?{...se,children:he}:{...se};return!we.component&&!we.loadComponent&&(he||we.loadChildren)&&we.outlet&&we.outlet!==ze&&(we.component=bi),we}const ds=new M.nKC("");let xl=(()=>{var se;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.WQX)(M.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,ie.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Ce=ar(de.loadComponent()).pipe((0,g.T)(Oe),(0,te.M)(ut=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=ut}),oe(()=>{this.componentLoaders.delete(de)})),tt=new l.G(Ce,()=>new u.B).pipe((0,me.B)());return this.componentLoaders.set(de,tt),tt}loadChildren(de,Ce){if(this.childrenLoaders.get(Ce))return this.childrenLoaders.get(Ce);if(Ce._loadedRoutes)return(0,ie.of)({routes:Ce._loadedRoutes,injector:Ce._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ce);const ut=function $d(se,he,we,de){return ar(se.loadChildren()).pipe((0,g.T)(Oe),(0,P.Z)(Ce=>Ce instanceof M.Co$||Array.isArray(Ce)?(0,ie.of)(Ce):(0,o.H)(he.compileModuleAsync(Ce))),(0,g.T)(Ce=>{de&&de(se);let tt,ut,or=!1;return Array.isArray(Ce)?(ut=Ce,!0):(tt=Ce.create(we).injector,ut=tt.get(ds,[],{optional:!0,self:!0}).flat()),{routes:ut.map(Io),injector:tt}}))}(Ce,this.compiler,de,this.onLoadEndListener).pipe(oe(()=>{this.childrenLoaders.delete(Ce)})),or=new l.G(ut,()=>new u.B).pipe((0,me.B)());return this.childrenLoaders.set(Ce,or),or}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();function Oe(se){return function ce(se){return se&&"object"==typeof se&&"default"in se}(se)?se.default:se}let wt=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:()=>(0,M.WQX)(Ae),providedIn:"root"}),he})(),Ae=(()=>{var se;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Ce){return de}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();const it=new M.nKC(""),At=new M.nKC("");function pr(se,he,we){const de=se.get(At),Ce=se.get(h.qQ);return se.get(M.SKi).runOutsideAngular(()=>{if(!Ce.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(qt=>setTimeout(qt));let tt;const ut=new Promise(qt=>{tt=qt}),or=Ce.startViewTransition(()=>(tt(),function Ir(se){return new Promise(he=>{(0,M.mal)({read:()=>setTimeout(he)},{injector:se})})}(se))),{onViewTransitionCreated:_r}=de;return _r&&(0,M.N4e)(se,()=>_r({transition:or,from:he,to:we})),ut})}const on=new M.nKC("");let rn=(()=>{var se;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.B,this.transitionAbortSubject=new u.B,this.configLoader=(0,M.WQX)(xl),this.environmentInjector=(0,M.WQX)(M.uvJ),this.urlSerializer=(0,M.WQX)($t),this.rootContexts=(0,M.WQX)(Tt),this.location=(0,M.WQX)(h.aZ),this.inputBindingEnabled=null!==(0,M.WQX)(Pn,{optional:!0}),this.titleStrategy=(0,M.WQX)(Gi),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,M.WQX)(wt),this.createViewTransition=(0,M.WQX)(it,{optional:!0}),this.navigationErrorHandler=(0,M.WQX)(on,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=tt=>this.events.next(new vs(tt)),this.configLoader.onLoadStartListener=tt=>this.events.next(new cs(tt))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var Ce;const tt=++this.navigationId;null===(Ce=this.transitions)||void 0===Ce||Ce.next({...this.transitions.value,...de,id:tt})}setupNavigations(de,Ce,tt){return this.transitions=new $.t({id:0,currentUrlTree:Ce,currentRawUrl:Ce,extractedUrl:this.urlHandlingStrategy.extract(Ce),urlAfterRedirects:this.urlHandlingStrategy.extract(Ce),rawUrl:Ce,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dn,restoredState:null,currentSnapshot:tt.snapshot,targetSnapshot:null,currentRouterState:tt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,R.p)(ut=>0!==ut.id),(0,g.T)(ut=>({...ut,extractedUrl:this.urlHandlingStrategy.extract(ut.rawUrl)})),(0,p.n)(ut=>{let or=!1,_r=!1;return(0,ie.of)(ut).pipe((0,p.n)(qt=>{var Or;if(this.navigationId>ut.id)return this.cancelNavigationTransition(ut,"",Ln.SupersededByNewNavigation),a.w;this.currentTransition=ut,this.currentNavigation={id:qt.id,initialUrl:qt.rawUrl,extractedUrl:qt.extractedUrl,targetBrowserUrl:"string"==typeof qt.extras.browserUrl?this.urlSerializer.parse(qt.extras.browserUrl):qt.extras.browserUrl,trigger:qt.source,extras:qt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Xr=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),fn=null!==(Or=qt.extras.onSameUrlNavigation)&&void 0!==Or?Or:de.onSameUrlNavigation;if(!Xr&&"reload"!==fn){const Jr="";return this.events.next(new wo(qt.id,this.urlSerializer.serialize(qt.rawUrl),Jr,To.IgnoredSameUrlNavigation)),qt.resolve(!1),a.w}if(this.urlHandlingStrategy.shouldProcessUrl(qt.rawUrl))return(0,ie.of)(qt).pipe((0,p.n)(Jr=>{var ro,Wo;const Fo=null===(ro=this.transitions)||void 0===ro?void 0:ro.getValue();return this.events.next(new Gn(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),Jr.source,Jr.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?a.w:Promise.resolve(Jr)}),function an(se,he,we,de,Ce,tt){return(0,P.Z)(ut=>function $u(se,he,we,de,Ce,tt,ut="emptyOnly"){return new vi(se,he,we,de,Ce,ut,tt).recognize()}(se,he,we,de,ut.extractedUrl,Ce,tt).pipe((0,g.T)(({state:or,tree:_r})=>({...ut,targetSnapshot:or,urlAfterRedirects:_r}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,te.M)(Jr=>{ut.targetSnapshot=Jr.targetSnapshot,ut.urlAfterRedirects=Jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jr.urlAfterRedirects};const ro=new No(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),this.urlSerializer.serialize(Jr.urlAfterRedirects),Jr.targetSnapshot);this.events.next(ro)}));if(Xr&&this.urlHandlingStrategy.shouldProcessUrl(qt.currentRawUrl)){const{id:Jr,extractedUrl:ro,source:Wo,restoredState:Fo,extras:Xi}=qt,fs=new Gn(Jr,this.urlSerializer.serialize(ro),Wo,Fo);this.events.next(fs);const si=Tr(this.rootComponentType).snapshot;return this.currentTransition=ut={...qt,targetSnapshot:si,urlAfterRedirects:ro,extras:{...Xi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ro,(0,ie.of)(ut)}{const Jr="";return this.events.next(new wo(qt.id,this.urlSerializer.serialize(qt.extractedUrl),Jr,To.IgnoredByUrlHandlingStrategy)),qt.resolve(!1),a.w}}),(0,te.M)(qt=>{const Or=new $o(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(Or)}),(0,g.T)(qt=>(this.currentTransition=ut={...qt,guards:Xn(qt.targetSnapshot,qt.currentSnapshot,this.rootContexts)},ut)),function ve(se,he){return(0,P.Z)(we=>{const{targetSnapshot:de,currentSnapshot:Ce,guards:{canActivateChecks:tt,canDeactivateChecks:ut}}=we;return 0===ut.length&&0===tt.length?(0,ie.of)({...we,guardsResult:!0}):function ae(se,he,we,de){return(0,o.H)(se).pipe((0,P.Z)(Ce=>function nr(se,he,we,de,Ce){const tt=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!tt||0===tt.length)return(0,ie.of)(!0);const ut=tt.map(or=>{var _r;const qt=null!==(_r=Le(he))&&void 0!==_r?_r:Ce,Or=_s(or,qt);return ar(function Te(se){return se&&S(se.canDeactivate)}(Or)?Or.canDeactivate(se,he,we,de):(0,M.N4e)(qt,()=>Or(se,he,we,de))).pipe(ee())});return(0,ie.of)(ut).pipe(gt())}(Ce.component,Ce.route,we,he,de)),ee(Ce=>!0!==Ce,!0))}(ut,de,Ce,se).pipe((0,P.Z)(or=>or&&function F(se){return"boolean"==typeof se}(or)?function be(se,he,we,de){return(0,o.H)(he).pipe(z(Ce=>(0,m.x)(function Be(se,he){return null!==se&&he&&he(new ye(se)),(0,ie.of)(!0)}(Ce.route.parent,de),function ge(se,he){return null!==se&&he&&he(new ct(se)),(0,ie.of)(!0)}(Ce.route,de),function Ht(se,he,we){const de=he[he.length-1],tt=he.slice(0,he.length-1).reverse().map(ut=>function ks(se){const he=se.routeConfig?se.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:se,guards:he}:null}(ut)).filter(ut=>null!==ut).map(ut=>(0,w.v)(()=>{const or=ut.guards.map(_r=>{var qt;const Or=null!==(qt=Le(ut.node))&&void 0!==qt?qt:we,Xr=_s(_r,Or);return ar(function fe(se){return se&&S(se.canActivateChild)}(Xr)?Xr.canActivateChild(de,se):(0,M.N4e)(Or,()=>Xr(de,se))).pipe(ee())});return(0,ie.of)(or).pipe(gt())}));return(0,ie.of)(tt).pipe(gt())}(se,Ce.path,we),function Ft(se,he,we){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,ie.of)(!0);const Ce=de.map(tt=>(0,w.v)(()=>{var ut;const or=null!==(ut=Le(he))&&void 0!==ut?ut:we,_r=_s(tt,or);return ar(function re(se){return se&&S(se.canActivate)}(_r)?_r.canActivate(he,se):(0,M.N4e)(or,()=>_r(he,se))).pipe(ee())}));return(0,ie.of)(Ce).pipe(gt())}(se,Ce.route,we))),ee(Ce=>!0!==Ce,!0))}(de,tt,se,he):(0,ie.of)(or)),(0,g.T)(or=>({...we,guardsResult:or})))})}(this.environmentInjector,qt=>this.events.next(qt)),(0,te.M)(qt=>{if(ut.guardsResult=qt.guardsResult,qt.guardsResult&&"boolean"!=typeof qt.guardsResult)throw xo(0,qt.guardsResult);const Or=new Wn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot,!!qt.guardsResult);this.events.next(Or)}),(0,R.p)(qt=>!!qt.guardsResult||(this.cancelNavigationTransition(qt,"",Ln.GuardRejected),!1)),xa(qt=>{if(qt.guards.canActivateChecks.length)return(0,ie.of)(qt).pipe((0,te.M)(Or=>{const Xr=new Vo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}),(0,p.n)(Or=>{let Xr=!1;return(0,ie.of)(Or).pipe(function An(se,he){return(0,P.Z)(we=>{const{targetSnapshot:de,guards:{canActivateChecks:Ce}}=we;if(!Ce.length)return(0,ie.of)(we);const tt=new Set(Ce.map(_r=>_r.route)),ut=new Set;for(const _r of tt)if(!ut.has(_r))for(const qt of Vu(_r))ut.add(qt);let or=0;return(0,o.H)(ut).pipe(z(_r=>tt.has(_r)?function Gu(se,he,we,de){const Ce=se.routeConfig,tt=se._resolve;return void 0!==(null==Ce?void 0:Ce.title)&&!Rr(Ce)&&(tt[st]=Ce.title),function Hu(se,he,we,de){const Ce=Ze(se);if(0===Ce.length)return(0,ie.of)({});const tt={};return(0,o.H)(Ce).pipe((0,P.Z)(ut=>function Bd(se,he,we,de){var Ce;const tt=null!==(Ce=Le(he))&&void 0!==Ce?Ce:de,ut=_s(se,tt);return ar(ut.resolve?ut.resolve(he,we):(0,M.N4e)(tt,()=>ut(he,we)))}(se[ut],he,we,de).pipe(ee(),(0,te.M)(or=>{if(or instanceof Go)throw xo(new _t,or);tt[ut]=or}))),Me(1),(0,O.u)(tt),G(ut=>Qe(ut)?a.w:(0,i.$)(ut)))}(tt,se,he,de).pipe((0,g.T)(ut=>(se._resolvedData=ut,se.data=Gr(se,se.parent,we).resolve,null)))}(_r,de,se,he):(_r.data=Gr(_r,_r.parent,se).resolve,(0,ie.of)(void 0))),(0,te.M)(()=>or++),Me(1),(0,P.Z)(_r=>or===ut.size?(0,ie.of)(we):a.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,te.M)({next:()=>Xr=!0,complete:()=>{Xr||this.cancelNavigationTransition(Or,"",Ln.NoDataFromResolver)}}))}),(0,te.M)(Or=>{const Xr=new oo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}))}),xa(qt=>{const Or=Xr=>{var fn;const Jr=[];null!==(fn=Xr.routeConfig)&&void 0!==fn&&fn.loadComponent&&!Xr.routeConfig._loadedComponent&&Jr.push(this.configLoader.loadComponent(Xr.routeConfig).pipe((0,te.M)(ro=>{Xr.component=ro}),(0,g.T)(()=>{})));for(const ro of Xr.children)Jr.push(...Or(ro));return Jr};return(0,v.z)(Or(qt.targetSnapshot.root)).pipe(T(null),(0,y.s)(1))}),xa(()=>this.afterPreactivation()),(0,p.n)(()=>{var qt;const{currentSnapshot:Or,targetSnapshot:Xr}=ut,fn=null===(qt=this.createViewTransition)||void 0===qt?void 0:qt.call(this,this.environmentInjector,Or.root,Xr.root);return fn?(0,o.H)(fn).pipe((0,g.T)(()=>ut)):(0,ie.of)(ut)}),(0,g.T)(qt=>{const Or=function yi(se,he,we){const de=ho(se,he._root,we?we._root:void 0);return new Cr(de,he)}(de.routeReuseStrategy,qt.targetSnapshot,qt.currentRouterState);return this.currentTransition=ut={...qt,targetRouterState:Or},this.currentNavigation.targetRouterState=Or,ut}),(0,te.M)(()=>{this.events.next(new Jt)}),((se,he,we,de)=>(0,g.T)(Ce=>(new Mo(he,Ce.targetRouterState,Ce.currentRouterState,we,de).activate(se),Ce)))(this.rootContexts,de.routeReuseStrategy,qt=>this.events.next(qt),this.inputBindingEnabled),(0,y.s)(1),(0,te.M)({next:qt=>{var Or;or=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects))),null===(Or=this.titleStrategy)||void 0===Or||Or.updateTitle(qt.targetRouterState.snapshot),qt.resolve(!0)},complete:()=>{or=!0}}),function Ue(se){return(0,H.N)((he,we)=>{(0,W.Tg)(se).subscribe((0,k._)(we,()=>we.complete(),Se.l)),!we.closed&&he.subscribe(we)})}(this.transitionAbortSubject.pipe((0,te.M)(qt=>{throw qt}))),oe(()=>{var qt;!or&&!_r&&this.cancelNavigationTransition(ut,"",Ln.SupersededByNewNavigation),(null===(qt=this.currentTransition)||void 0===qt?void 0:qt.id)===ut.id&&(this.currentNavigation=null,this.currentTransition=null)}),G(qt=>{if(_r=!0,xn(qt))this.events.next(new eo(ut.id,this.urlSerializer.serialize(ut.extractedUrl),qt.message,qt.cancellationCode)),function bs(se){return xn(se)&&D(se.url)}(qt)?this.events.next(new hn(qt.url,qt.navigationBehaviorOptions)):ut.resolve(!1);else{var Or;const Xr=new ko(ut.id,this.urlSerializer.serialize(ut.extractedUrl),qt,null!==(Or=ut.targetSnapshot)&&void 0!==Or?Or:void 0);try{const fn=(0,M.N4e)(this.environmentInjector,()=>{var Jr;return null===(Jr=this.navigationErrorHandler)||void 0===Jr?void 0:Jr.call(this,Xr)});if(fn instanceof Go){const{message:Jr,cancellationCode:ro}=xo(0,fn);this.events.next(new eo(ut.id,this.urlSerializer.serialize(ut.extractedUrl),Jr,ro)),this.events.next(new hn(fn.redirectTo,fn.navigationBehaviorOptions))}else{this.events.next(Xr);const Jr=de.errorHandler(qt);ut.resolve(!!Jr)}}catch(fn){this.options.resolveNavigationPromiseOnError?ut.resolve(!1):ut.reject(fn)}}return a.w}))}))}cancelNavigationTransition(de,Ce,tt){const ut=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),Ce,tt);this.events.next(ut),de.resolve(!1)}isUpdatingInternalState(){var de,Ce;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(Ce=this.currentTransition)||void 0===Ce?void 0:Ce.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,Ce,tt,ut;const or=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),_r=null!==(de=null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.targetBrowserUrl)&&void 0!==de?de:null===(tt=this.currentNavigation)||void 0===tt?void 0:tt.extractedUrl;return or.toString()!==(null==_r?void 0:_r.toString())&&!(null!==(ut=this.currentNavigation)&&void 0!==ut&&ut.extras.skipLocationChange)}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();function Cn(se){return se!==Dn}let Yr=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:()=>(0,M.WQX)(kr),providedIn:"root"}),he})();class In{shouldDetach(he){return!1}store(he,we){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,we){return he.routeConfig===we.routeConfig}}let kr=(()=>{var se;class he extends In{}return(se=he).\u0275fac=(()=>{let we;return function(Ce){return(we||(we=M.xGo(se)))(Ce||se)}})(),se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})(),Jn=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:()=>(0,M.WQX)(hs),providedIn:"root"}),he})(),hs=(()=>{var se;class he extends Jn{constructor(){super(...arguments),this.location=(0,M.WQX)(h.aZ),this.urlSerializer=(0,M.WQX)($t),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,M.WQX)(wt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $e,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,Ce;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(Ce=this.restoredState())||void 0===Ce?void 0:Ce.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Ce=>{"popstate"===Ce.type&&de(Ce.url,Ce.state)})}handleRouterEvent(de,Ce){if(de instanceof Gn)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=Ce.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!Ce.extras.skipLocationChange){var tt;const or=this.urlHandlingStrategy.merge(Ce.finalUrl,Ce.initialUrl);this.setBrowserUrl(null!==(tt=Ce.targetBrowserUrl)&&void 0!==tt?tt:or,Ce)}}else if(de instanceof Jt){var ut;this.currentUrlTree=Ce.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.finalUrl,Ce.initialUrl),this.routerState=Ce.targetRouterState,"deferred"!==this.urlUpdateStrategy||Ce.extras.skipLocationChange||this.setBrowserUrl(null!==(ut=Ce.targetBrowserUrl)&&void 0!==ut?ut:this.rawUrlTree,Ce)}else de instanceof eo&&(de.code===Ln.GuardRejected||de.code===Ln.NoDataFromResolver)?this.restoreHistory(Ce):de instanceof ko?this.restoreHistory(Ce,!0):de instanceof bn&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Ce){const tt=de instanceof $e?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(tt)||Ce.extras.replaceUrl){const or={...Ce.extras.state,...this.generateNgRouterState(Ce.id,this.browserPageId)};this.location.replaceState(tt,"",or)}else{const ut={...Ce.extras.state,...this.generateNgRouterState(Ce.id,this.browserPageId+1)};this.location.go(tt,"",ut)}}restoreHistory(de,Ce=!1){if("computed"===this.canceledNavigationResolution){const ut=this.currentPageId-this.browserPageId;0!==ut?this.location.historyGo(ut):this.currentUrlTree===de.finalUrl&&0===ut&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ce&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var Ce;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Ce=de.finalUrl)&&void 0!==Ce?Ce:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Ce){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Ce}:{navigationId:de}}}return(se=he).\u0275fac=(()=>{let we;return function(Ce){return(we||(we=M.xGo(se)))(Ce||se)}})(),se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();var po=function(se){return se[se.COMPLETE=0]="COMPLETE",se[se.FAILED=1]="FAILED",se[se.REDIRECTING=2]="REDIRECTING",se}(po||{});function zs(se,he){se.events.pipe((0,R.p)(we=>we instanceof bn||we instanceof eo||we instanceof ko||we instanceof wo),(0,g.T)(we=>we instanceof bn||we instanceof wo?po.COMPLETE:we instanceof eo&&(we.code===Ln.Redirect||we.code===Ln.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,R.p)(we=>we!==po.REDIRECTING),(0,y.s)(1)).subscribe(()=>{he()})}function Ls(se){throw se}const Ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var se;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,Ce;this.disposed=!1,this.console=(0,M.WQX)(M.H3F),this.stateManager=(0,M.WQX)(Jn),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.pendingTasks=(0,M.WQX)(M.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,M.WQX)(rn),this.urlSerializer=(0,M.WQX)($t),this.location=(0,M.WQX)(h.aZ),this.urlHandlingStrategy=(0,M.WQX)(wt),this._events=new u.B,this.errorHandler=this.options.errorHandler||Ls,this.navigated=!1,this.routeReuseStrategy=(0,M.WQX)(Yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(Ce=(0,M.WQX)(ds,{optional:!0}))||void 0===Ce?void 0:Ce.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,M.WQX)(Pn,{optional:!0}),this.eventsSubscription=new d.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:tt=>{this.console.warn(tt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Ce=>{try{const tt=this.navigationTransitions.currentTransition,ut=this.navigationTransitions.currentNavigation;if(null!==tt&&null!==ut)if(this.stateManager.handleRouterEvent(Ce,ut),Ce instanceof eo&&Ce.code!==Ln.Redirect&&Ce.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(Ce instanceof bn)this.navigated=!0;else if(Ce instanceof hn){const or=Ce.navigationBehaviorOptions,_r=this.urlHandlingStrategy.merge(Ce.url,tt.currentRawUrl),qt={browserUrl:tt.extras.browserUrl,info:tt.extras.info,skipLocationChange:tt.extras.skipLocationChange,replaceUrl:tt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Cn(tt.source),...or};this.scheduleNavigation(_r,Dn,null,qt,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}(function Ca(se){return!(se instanceof Jt||se instanceof hn)})(Ce)&&this._events.next(Ce)}catch(tt){this.navigationTransitions.transitionAbortSubject.next(tt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ce,tt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ce,"popstate",tt)},0)}))}navigateToSyncWithBrowser(de,Ce,tt){const ut={replaceUrl:!0},or=null!=tt&&tt.navigationId?tt:null;if(tt){const qt={...tt};delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(ut.state=qt)}const _r=this.parseUrl(de);this.scheduleNavigation(_r,Ce,or,ut)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Ce={}){const{relativeTo:tt,queryParams:ut,fragment:or,queryParamsHandling:_r,preserveFragment:qt}=Ce,Or=qt?this.currentUrlTree.fragment:or;let fn,Xr=null;switch(_r){case"merge":Xr={...this.currentUrlTree.queryParams,...ut};break;case"preserve":Xr=this.currentUrlTree.queryParams;break;default:Xr=ut||null}null!==Xr&&(Xr=this.removeEmptyProps(Xr));try{fn=V(tt?tt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),fn=this.currentUrlTree.root}return ne(fn,de,Xr,null!=Or?Or:null)}navigateByUrl(de,Ce={skipLocationChange:!1}){const tt=D(de)?de:this.parseUrl(de),ut=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(ut,Dn,null,Ce)}navigate(de,Ce={skipLocationChange:!1}){return function Hi(se){for(let he=0;he<se.length;he++)if(null==se[he])throw new M.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Ce),Ce)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Ce){let tt;if(tt=!0===Ce?{...Ws}:!1===Ce?{...Fs}:Ce,D(de))return It(this.currentUrlTree,de,tt);const ut=this.parseUrl(de);return It(this.currentUrlTree,ut,tt)}removeEmptyProps(de){return Object.entries(de).reduce((Ce,[tt,ut])=>(null!=ut&&(Ce[tt]=ut),Ce),{})}scheduleNavigation(de,Ce,tt,ut,or){if(this.disposed)return Promise.resolve(!1);let _r,qt,Or;or?(_r=or.resolve,qt=or.reject,Or=or.promise):Or=new Promise((fn,Jr)=>{_r=fn,qt=Jr});const Xr=this.pendingTasks.add();return zs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xr))}),this.navigationTransitions.handleNavigationRequest({source:Ce,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:ut,resolve:_r,reject:qt,promise:Or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Or.catch(fn=>Promise.reject(fn))}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var se;class he{constructor(de,Ce,tt,ut,or,_r){var qt;this.router=de,this.route=Ce,this.tabIndexAttribute=tt,this.renderer=ut,this.el=or,this.locationStrategy=_r,this.href=null,this.onChanges=new u.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Or=null===(qt=or.nativeElement.tagName)||void 0===qt?void 0:qt.toLowerCase();this.isAnchorElement="a"===Or||"area"===Or,this.isAnchorElement?this.subscription=de.events.subscribe(Xr=>{Xr instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=D(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Ce,tt,ut,or){const _r=this.urlTree;return!!(null===_r||this.isAnchorElement&&(0!==de||Ce||tt||ut||or||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_r,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const Ce=this.urlTree;this.href=null!==Ce&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(Ce)):null;const tt=null===this.href?null:(0,M.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",tt)}applyAttributeValue(de,Ce){const tt=this.renderer,ut=this.el.nativeElement;null!==Ce?tt.setAttribute(ut,de,Ce):tt.removeAttribute(ut,de)}get urlTree(){return null===this.routerLinkInput?null:D(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(se=he).\u0275fac=function(de){return new(de||se)(M.rXU(co),M.rXU(Fr),M.kS0("tabindex"),M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(h.hb))},se.\u0275dir=M.FsC({type:se,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,Ce){1&de&&M.bIt("click",function(ut){return Ce.onClick(ut.button,ut.ctrlKey,ut.shiftKey,ut.altKey,ut.metaKey)}),2&de&&M.BMQ("target",Ce.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",M.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",M.L39],replaceUrl:[2,"replaceUrl","replaceUrl",M.L39],routerLink:"routerLink"},standalone:!0,features:[M.GFd,M.OA$]}),he})();class zo{}let ji=(()=>{var se;class he{preload(de,Ce){return Ce().pipe(G(()=>(0,ie.of)(null)))}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var se;class he{constructor(de,Ce,tt,ut,or){this.router=de,this.injector=tt,this.preloadingStrategy=ut,this.loader=or}setUpPreloading(){this.subscription=this.router.events.pipe((0,R.p)(de=>de instanceof bn),z(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Ce){const tt=[];for(const qt of Ce){var ut,or;qt.providers&&!qt._injector&&(qt._injector=(0,M.Ol2)(qt.providers,de,`Route: ${qt.path}`));const Or=null!==(ut=qt._injector)&&void 0!==ut?ut:de,Xr=null!==(or=qt._loadedInjector)&&void 0!==or?or:Or;var _r;(qt.loadChildren&&!qt._loadedRoutes&&void 0===qt.canLoad||qt.loadComponent&&!qt._loadedComponent)&&tt.push(this.preloadConfig(Or,qt)),(qt.children||qt._loadedRoutes)&&tt.push(this.processRoutes(Xr,null!==(_r=qt.children)&&void 0!==_r?_r:qt._loadedRoutes))}return(0,o.H)(tt).pipe((0,Xe.U)())}preloadConfig(de,Ce){return this.preloadingStrategy.preload(Ce,()=>{let tt;tt=Ce.loadChildren&&void 0===Ce.canLoad?this.loader.loadChildren(de,Ce):(0,ie.of)(null);const ut=tt.pipe((0,P.Z)(or=>{var _r;return null===or?(0,ie.of)(void 0):(Ce._loadedRoutes=or.routes,Ce._loadedInjector=or.injector,this.processRoutes(null!==(_r=or.injector)&&void 0!==_r?_r:de,or.routes))}));if(Ce.loadComponent&&!Ce._loadedComponent){const or=this.loader.loadComponent(Ce);return(0,o.H)([ut,or]).pipe((0,Xe.U)())}return ut})}}return(se=he).\u0275fac=function(de){return new(de||se)(M.KVO(co),M.KVO(M.Ql9),M.KVO(M.uvJ),M.KVO(zo),M.KVO(xl))},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();const Oi=new M.nKC("");let Aa=(()=>{var se;class he{constructor(de,Ce,tt,ut,or={}){this.urlSerializer=de,this.transitions=Ce,this.viewportScroller=tt,this.zone=ut,this.options=or,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},or.scrollPositionRestoration||(or.scrollPositionRestoration="disabled"),or.anchorScrolling||(or.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Gn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof bn?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof mt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Ce){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ce))})},0)})}ngOnDestroy(){var de,Ce;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(Ce=this.scrollEventsSubscription)||void 0===Ce||Ce.unsubscribe()}}return(se=he).\u0275fac=function(de){M.QTQ()},se.\u0275prov=M.jDH({token:se,factory:se.\u0275fac}),he})();function Xs(se,he){return{\u0275kind:se,\u0275providers:he}}function Dl(){const se=(0,M.WQX)(M.zZn);return he=>{var we,de;const Ce=se.get(M.o8S);if(he!==Ce.components[0])return;const tt=se.get(co),ut=se.get(Es);1===se.get(Sn)&&tt.initialNavigation(),null===(we=se.get(Wi,null,M.$GK.Optional))||void 0===we||we.setUpPreloading(),null===(de=se.get(Oi,null,M.$GK.Optional))||void 0===de||de.init(),tt.resetRootComponentType(Ce.componentTypes[0]),ut.closed||(ut.next(),ut.complete(),ut.unsubscribe())}}const Es=new M.nKC("",{factory:()=>new u.B}),Sn=new M.nKC("",{providedIn:"root",factory:()=>1}),Wi=new M.nKC("");function Ma(se){return Xs(0,[{provide:Wi,useExisting:Ta},{provide:zo,useExisting:se}])}function qu(se){return Xs(9,[{provide:it,useValue:pr},{provide:At,useValue:{skipNextTransition:!(null==se||!se.skipInitialTransition),...se}}])}const Pi=new M.nKC("ROUTER_FORROOT_GUARD"),Ku=[h.aZ,{provide:$t,useClass:_t},co,Tt,{provide:Fr,useFactory:function Cl(se){return se.routerState.root},deps:[co]},xl,[]];let Yu=(()=>{var se;class he{constructor(de){}static forRoot(de,Ce){return{ngModule:he,providers:[Ku,[],{provide:ds,multi:!0,useValue:de},{provide:Pi,useFactory:Xd,deps:[[co,new M.Xx1,new M.kdw]]},{provide:Hs,useValue:Ce||{}},null!=Ce&&Ce.useHash?{provide:h.hb,useClass:h.fw}:{provide:h.hb,useClass:h.Sm},{provide:Oi,useFactory:()=>{const se=(0,M.WQX)(h.Xr),he=(0,M.WQX)(M.SKi),we=(0,M.WQX)(Hs),de=(0,M.WQX)(rn),Ce=(0,M.WQX)($t);return we.scrollOffset&&se.setOffset(we.scrollOffset),new Aa(Ce,de,se,he,we)}},null!=Ce&&Ce.preloadingStrategy?Ma(Ce.preloadingStrategy).\u0275providers:[],null!=Ce&&Ce.initialNavigation?xs(Ce):[],null!=Ce&&Ce.bindToComponentInputs?Xs(8,[Os,{provide:Pn,useExisting:Os}]).\u0275providers:[],null!=Ce&&Ce.enableViewTransitions?qu().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:M.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:ds,multi:!0,useValue:de}]}}}return(se=he).\u0275fac=function(de){return new(de||se)(M.KVO(Pi,8))},se.\u0275mod=M.$C({type:se}),se.\u0275inj=M.G2t({}),he})();function Xd(se){return"guarded"}function xs(se){return["disabled"===se.initialNavigation?Xs(3,[{provide:M.hnV,multi:!0,useFactory:()=>{const he=(0,M.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:Sn,useValue:2}]).\u0275providers:[],"enabledBlocking"===se.initialNavigation?Xs(2,[{provide:Sn,useValue:0},{provide:M.hnV,multi:!0,deps:[M.zZn],useFactory:he=>{const we=he.get(h.hj,Promise.resolve());return()=>we.then(()=>new Promise(de=>{const Ce=he.get(co),tt=he.get(Es);zs(Ce,()=>{de(!0)}),he.get(rn).afterPreactivation=()=>(de(!0),tt.closed?(0,ie.of)(void 0):tt),Ce.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new M.nKC("")},3656:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Yq:()=>kt,TS:()=>Ye,sR:()=>ot,el:()=>X,Sb:()=>$t,QE:()=>U,CF:()=>Je,Rg:()=>er,p4:()=>D,jM:()=>St,q9:()=>st,y8:()=>pt,Kb:()=>sr,OD:()=>Xe,CE:()=>pe,pF:()=>Ie,fL:()=>V,YV:()=>wr,er:()=>J,z3:()=>ne});var M=_e(467),A=_e(9842),et=_e(3953),Et=_e(9858),o=_e(177),ie=_e(5531),$=_e(4442);var T=_e(1413),N=_e(3726),j=_e(4412),Z=_e(4572),ee=_e(7673),z=_e(1635),te=_e(5964),W=_e(5558),G=_e(3669),Y=_e(9974),le=_e(4360);function K(je,Ve){return je===Ve}var O=_e(4341);const oe=["tabsInner"];let Xe=(()=>{var je;class Ve{constructor(Ge,dt){(0,A.A)(this,"doc",void 0),(0,A.A)(this,"_readyPromise",void 0),(0,A.A)(this,"win",void 0),(0,A.A)(this,"backButton",new T.B),(0,A.A)(this,"keyboardDidShow",new T.B),(0,A.A)(this,"keyboardDidHide",new T.B),(0,A.A)(this,"pause",new T.B),(0,A.A)(this,"resume",new T.B),(0,A.A)(this,"resize",new T.B),this.doc=Ge,dt.run(()=>{var Bt;let ur;this.win=Ge.defaultView,this.backButton.subscribeWithPriority=function(vr,Pr){return this.subscribe(sn=>sn.register(vr,nn=>dt.run(()=>Pr(nn))))},ze(this.pause,Ge,"pause",dt),ze(this.resume,Ge,"resume",dt),ze(this.backButton,Ge,"ionBackButton",dt),ze(this.resize,this.win,"resize",dt),ze(this.keyboardDidShow,this.win,"ionKeyboardDidShow",dt),ze(this.keyboardDidHide,this.win,"ionKeyboardDidHide",dt),this._readyPromise=new Promise(vr=>{ur=vr}),null!==(Bt=this.win)&&void 0!==Bt&&Bt.cordova?Ge.addEventListener("deviceready",()=>{ur("cordova")},{once:!0}):ur("dom")})}is(Ge){return(0,ie.a)(this.win,Ge)}platforms(){return(0,ie.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Ge){return lt(this.win.location.href,Ge)}isLandscape(){return!this.isPortrait()}isPortrait(){var Ge,dt;return null===(Ge=(dt=this.win).matchMedia)||void 0===Ge?void 0:Ge.call(dt,"(orientation: portrait)").matches}testUserAgent(Ge){const dt=this.win.navigator;return!!(null!=dt&&dt.userAgent&&dt.userAgent.indexOf(Ge)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.KVO(o.qQ),et.KVO(et.SKi))}),(0,A.A)(Ve,"\u0275prov",et.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})),Ve})();const lt=(je,Ve)=>{Ve=Ve.replace(/[[\]\\]/g,"\\$&");const Ge=new RegExp("[\\?&]"+Ve+"=([^&#]*)").exec(je);return Ge?decodeURIComponent(Ge[1].replace(/\+/g," ")):null},ze=(je,Ve,ht,Ge)=>{Ve&&Ve.addEventListener(ht,dt=>{Ge.run(()=>{je.next(null!=dt?dt.detail:void 0)})})};let st=(()=>{var je;class Ve{constructor(Ge,dt,Bt,ur){(0,A.A)(this,"location",void 0),(0,A.A)(this,"serializer",void 0),(0,A.A)(this,"router",void 0),(0,A.A)(this,"topOutlet",void 0),(0,A.A)(this,"direction",Fe),(0,A.A)(this,"animated",nt),(0,A.A)(this,"animationBuilder",void 0),(0,A.A)(this,"guessDirection","forward"),(0,A.A)(this,"guessAnimation",void 0),(0,A.A)(this,"lastNavId",-1),this.location=dt,this.serializer=Bt,this.router=ur,ur&&ur.events.subscribe(vr=>{if(vr instanceof Et.Z){const Pr=vr.restoredState?vr.restoredState.navigationId:vr.id;this.guessDirection=this.guessAnimation=Pr<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?vr.id:Pr}}),Ge.backButton.subscribeWithPriority(0,vr=>{this.pop(),vr()})}navigateForward(Ge,dt={}){return this.setDirection("forward",dt.animated,dt.animationDirection,dt.animation),this.navigate(Ge,dt)}navigateBack(Ge,dt={}){return this.setDirection("back",dt.animated,dt.animationDirection,dt.animation),this.navigate(Ge,dt)}navigateRoot(Ge,dt={}){return this.setDirection("root",dt.animated,dt.animationDirection,dt.animation),this.navigate(Ge,dt)}back(Ge={animated:!0,animationDirection:"back"}){return this.setDirection("back",Ge.animated,Ge.animationDirection,Ge.animation),this.location.back()}pop(){var Ge=this;return(0,M.A)(function*(){let dt=Ge.topOutlet;for(;dt;){if(yield dt.pop())return!0;dt=dt.parentOutlet}return!1})()}setDirection(Ge,dt,Bt,ur){this.direction=Ge,this.animated=at(Ge,dt,Bt),this.animationBuilder=ur}setTopOutlet(Ge){this.topOutlet=Ge}consumeTransition(){let dt,Ge="root";const Bt=this.animationBuilder;return"auto"===this.direction?(Ge=this.guessDirection,dt=this.guessAnimation):(dt=this.animated,Ge=this.direction),this.direction=Fe,this.animated=nt,this.animationBuilder=void 0,{direction:Ge,animation:dt,animationBuilder:Bt}}navigate(Ge,dt){if(Array.isArray(Ge))return this.router.navigate(Ge,dt);{const Bt=this.serializer.parse(Ge.toString());return void 0!==dt.queryParams&&(Bt.queryParams={...dt.queryParams}),void 0!==dt.fragment&&(Bt.fragment=dt.fragment),this.router.navigateByUrl(Bt,dt)}}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.KVO(Xe),et.KVO(o.aZ),et.KVO(Et.Sd),et.KVO(Et.Ix,8))}),(0,A.A)(Ve,"\u0275prov",et.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})),Ve})();const at=(je,Ve,ht)=>{if(!1!==Ve){if(void 0!==ht)return ht;if("forward"===je||"back"===je)return je;if("root"===je&&!0===Ve)return"forward"}},Fe="auto",nt=void 0;let Ye=(()=>{var je;class Ve{get(Ge,dt){const Bt=Ze();return Bt?Bt.get(Ge,dt):null}getBoolean(Ge,dt){const Bt=Ze();return!!Bt&&Bt.getBoolean(Ge,dt)}getNumber(Ge,dt){const Bt=Ze();return Bt?Bt.getNumber(Ge,dt):0}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)}),(0,A.A)(Ve,"\u0275prov",et.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})),Ve})();const ot=new et.nKC("USERCONFIG"),Ze=()=>{if(typeof window<"u"){const je=window.Ionic;if(null!=je&&je.config)return je.config}return null};class pt{constructor(Ve={}){(0,A.A)(this,"data",void 0),this.data=Ve,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Ve){return this.data[Ve]}}let kt=(()=>{var je;class Ve{constructor(){(0,A.A)(this,"zone",(0,et.WQX)(et.SKi)),(0,A.A)(this,"applicationRef",(0,et.WQX)(et.o8S)),(0,A.A)(this,"config",(0,et.WQX)(ot))}create(Ge,dt,Bt){var ur;return new ar(Ge,dt,this.applicationRef,this.zone,Bt,null!==(ur=this.config.useSetInputAPI)&&void 0!==ur&&ur)}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)}),(0,A.A)(Ve,"\u0275prov",et.jDH({token:je,factory:je.\u0275fac})),Ve})();class ar{constructor(Ve,ht,Ge,dt,Bt,ur){(0,A.A)(this,"environmentInjector",void 0),(0,A.A)(this,"injector",void 0),(0,A.A)(this,"applicationRef",void 0),(0,A.A)(this,"zone",void 0),(0,A.A)(this,"elementReferenceKey",void 0),(0,A.A)(this,"enableSignalsSupport",void 0),(0,A.A)(this,"elRefMap",new WeakMap),(0,A.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Ve,this.injector=ht,this.applicationRef=Ge,this.zone=dt,this.elementReferenceKey=Bt,this.enableSignalsSupport=ur}attachViewToDom(Ve,ht,Ge,dt){return this.zone.run(()=>new Promise(Bt=>{const ur={...Ge};void 0!==this.elementReferenceKey&&(ur[this.elementReferenceKey]=Ve),Bt(Vt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ve,ht,ur,dt,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Ve,ht){return this.zone.run(()=>new Promise(Ge=>{const dt=this.elRefMap.get(ht);if(dt){dt.destroy(),this.elRefMap.delete(ht);const Bt=this.elEventsMap.get(ht);Bt&&(Bt(),this.elEventsMap.delete(ht))}Ge()}))}}const Vt=(je,Ve,ht,Ge,dt,Bt,ur,vr,Pr,sn,nn,Nn)=>{const Dn=et.zZn.create({providers:Qt(Pr),parent:ht}),Kr=(0,et.a0P)(vr,{environmentInjector:Ve,elementInjector:Dn}),yn=Kr.instance,Gn=Kr.location.nativeElement;if(Pr)if(nn&&void 0!==yn[nn]&&console.error(`[Ionic Error]: ${nn} is a reserved property when using ${ur.tagName.toLowerCase()}. Rename or remove the "${nn}" property from ${vr.name}.`),!0===Nn&&void 0!==Kr.setInput){const{modal:Ln,popover:To,...eo}=Pr;for(const wo in eo)Kr.setInput(wo,eo[wo]);void 0!==Ln&&Object.assign(yn,{modal:Ln}),void 0!==To&&Object.assign(yn,{popover:To})}else Object.assign(yn,Pr);if(sn)for(const Ln of sn)Gn.classList.add(Ln);const bn=It(je,yn,Gn);return ur.appendChild(Gn),Ge.attachView(Kr.hostView),dt.set(Gn,Kr),Bt.set(Gn,bn),Gn},cr=[$.L,$.a,$.b,$.c,$.d],It=(je,Ve,ht)=>je.run(()=>{const Ge=cr.filter(dt=>"function"==typeof Ve[dt]).map(dt=>{const Bt=ur=>Ve[dt](ur.detail);return ht.addEventListener(dt,Bt),()=>ht.removeEventListener(dt,Bt)});return()=>Ge.forEach(dt=>dt())}),br=new et.nKC("NavParamsToken"),Qt=je=>[{provide:br,useValue:je},{provide:pt,useFactory:fr,deps:[br]}],fr=je=>new pt(je),Ct=(je,Ve)=>{const ht=je.prototype;Ve.forEach(Ge=>{Object.defineProperty(ht,Ge,{get(){return this.el[Ge]},set(dt){this.z.runOutsideAngular(()=>this.el[Ge]=dt)}})})},ir=(je,Ve)=>{const ht=je.prototype;Ve.forEach(Ge=>{ht[Ge]=function(){const dt=arguments;return this.z.runOutsideAngular(()=>this.el[Ge].apply(this.el,dt))}})},Gt=(je,Ve,ht)=>{ht.forEach(Ge=>je[Ge]=(0,N.R)(Ve,Ge))};function $e(je){return function(ht){const{defineCustomElementFn:Ge,inputs:dt,methods:Bt}=je;return void 0!==Ge&&Ge(),dt&&Ct(ht,dt),Bt&&ir(ht,Bt),ht}}const We=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Pe=["present","dismiss","onDidDismiss","onWillDismiss"];let Je=(()=>{var je;let Ve=((0,A.A)(je=class{constructor(Ge,dt,Bt){(0,A.A)(this,"z",void 0),(0,A.A)(this,"template",void 0),(0,A.A)(this,"isCmpOpen",!1),(0,A.A)(this,"el",void 0),this.z=Bt,this.el=dt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ge.detectChanges()}),Gt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(et.gRc),et.rXU(et.aKT),et.rXU(et.SKi))}),(0,A.A)(je,"\u0275dir",et.FsC({type:je,selectors:[["ion-popover"]],contentQueries:function(Ge,dt,Bt){if(1&Ge&&et.wni(Bt,et.C4Q,5),2&Ge){let ur;et.mGM(ur=et.lsd())&&(dt.template=ur.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),je);return Ve=(0,z.Cg)([$e({inputs:We,methods:Pe})],Ve),Ve})();const Ot=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],zt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let $t=(()=>{var je;let Ve=((0,A.A)(je=class{constructor(Ge,dt,Bt){(0,A.A)(this,"z",void 0),(0,A.A)(this,"template",void 0),(0,A.A)(this,"isCmpOpen",!1),(0,A.A)(this,"el",void 0),this.z=Bt,this.el=dt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ge.detectChanges()}),Gt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(et.gRc),et.rXU(et.aKT),et.rXU(et.SKi))}),(0,A.A)(je,"\u0275dir",et.FsC({type:je,selectors:[["ion-modal"]],contentQueries:function(Ge,dt,Bt){if(1&Ge&&et.wni(Bt,et.C4Q,5),2&Ge){let ur;et.mGM(ur=et.lsd())&&(dt.template=ur.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),je);return Ve=(0,z.Cg)([$e({inputs:Ot,methods:zt})],Ve),Ve})();const Mt=(je,Ve)=>((je=je.filter(ht=>ht.stackId!==Ve.stackId)).push(Ve),je),Rt=(je,Ve)=>{const ht=je.createUrlTree(["."],{relativeTo:Ve});return je.serializeUrl(ht)},vt=(je,Ve)=>!Ve||je.stackId!==Ve.stackId,Ut=(je,Ve)=>{if(!je)return;const ht=yt(Ve);for(let Ge=0;Ge<ht.length;Ge++){if(Ge>=je.length)return ht[Ge];if(ht[Ge]!==je[Ge])return}},yt=je=>je.split("/").map(Ve=>Ve.trim()).filter(Ve=>""!==Ve),Nt=je=>{je&&(je.ref.destroy(),je.unlistenEvents())};class dr{constructor(Ve,ht,Ge,dt,Bt,ur){(0,A.A)(this,"containerEl",void 0),(0,A.A)(this,"router",void 0),(0,A.A)(this,"navCtrl",void 0),(0,A.A)(this,"zone",void 0),(0,A.A)(this,"location",void 0),(0,A.A)(this,"views",[]),(0,A.A)(this,"runningTask",void 0),(0,A.A)(this,"skipTransition",!1),(0,A.A)(this,"tabsPrefix",void 0),(0,A.A)(this,"activeView",void 0),(0,A.A)(this,"nextId",0),this.containerEl=ht,this.router=Ge,this.navCtrl=dt,this.zone=Bt,this.location=ur,this.tabsPrefix=void 0!==Ve?yt(Ve):void 0}createView(Ve,ht){var Ge;const dt=Rt(this.router,ht),Bt=null==Ve||null===(Ge=Ve.location)||void 0===Ge?void 0:Ge.nativeElement,ur=It(this.zone,Ve.instance,Bt);return{id:this.nextId++,stackId:Ut(this.tabsPrefix,dt),unlistenEvents:ur,element:Bt,ref:Ve,url:dt}}getExistingView(Ve){const ht=Rt(this.router,Ve),Ge=this.views.find(dt=>dt.url===ht);return Ge&&Ge.ref.changeDetectorRef.reattach(),Ge}setActive(Ve){var ht,Ge;const dt=this.navCtrl.consumeTransition();let{direction:Bt,animation:ur,animationBuilder:vr}=dt;const Pr=this.activeView,sn=vt(Ve,Pr);sn&&(Bt="back",ur=void 0);const nn=this.views.slice();let Nn;const Dn=this.router;Dn.getCurrentNavigation?Nn=Dn.getCurrentNavigation():null!==(ht=Dn.navigations)&&void 0!==ht&&ht.value&&(Nn=Dn.navigations.value),null!==(Ge=Nn)&&void 0!==Ge&&null!==(Ge=Ge.extras)&&void 0!==Ge&&Ge.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Kr=this.views.includes(Ve),yn=this.insertView(Ve,Bt);Kr||Ve.ref.changeDetectorRef.detectChanges();const Gn=Ve.animationBuilder;return void 0===vr&&"back"===Bt&&!sn&&void 0!==Gn&&(vr=Gn),Pr&&(Pr.animationBuilder=vr),this.zone.runOutsideAngular(()=>this.wait(()=>(Pr&&Pr.ref.changeDetectorRef.detach(),Ve.ref.changeDetectorRef.reattach(),this.transition(Ve,Pr,ur,this.canGoBack(1),!1,vr).then(()=>ft(Ve,yn,nn,this.location,this.zone)).then(()=>({enteringView:Ve,direction:Bt,animation:ur,tabSwitch:sn})))))}canGoBack(Ve,ht=this.getActiveStackId()){return this.getStack(ht).length>Ve}pop(Ve,ht=this.getActiveStackId()){return this.zone.run(()=>{const Ge=this.getStack(ht);if(Ge.length<=Ve)return Promise.resolve(!1);const dt=Ge[Ge.length-Ve-1];let Bt=dt.url;const ur=dt.savedData;if(ur){var vr;const sn=ur.get("primary");null!=sn&&null!==(vr=sn.route)&&void 0!==vr&&null!==(vr=vr._routerState)&&void 0!==vr&&vr.snapshot.url&&(Bt=sn.route._routerState.snapshot.url)}const{animationBuilder:Pr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Bt,{...dt.savedExtras,animation:Pr}).then(()=>!0)})}startBackTransition(){const Ve=this.activeView;if(Ve){const ht=this.getStack(Ve.stackId),Ge=ht[ht.length-2],dt=Ge.animationBuilder;return this.wait(()=>this.transition(Ge,Ve,"back",this.canGoBack(2),!0,dt))}return Promise.resolve()}endBackTransition(Ve){Ve?(this.skipTransition=!0,this.pop(1)):this.activeView&&Dt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ve){const ht=this.getStack(Ve);return ht.length>0?ht[ht.length-1]:void 0}getRootUrl(Ve){const ht=this.getStack(Ve);return ht.length>0?ht[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Nt),this.activeView=void 0,this.views=[]}getStack(Ve){return this.views.filter(ht=>ht.stackId===Ve)}insertView(Ve,ht){return this.activeView=Ve,this.views=((je,Ve,ht)=>"root"===ht?Mt(je,Ve):"forward"===ht?((je,Ve)=>(je.indexOf(Ve)>=0?je=je.filter(Ge=>Ge.stackId!==Ve.stackId||Ge.id<=Ve.id):je.push(Ve),je))(je,Ve):((je,Ve)=>je.indexOf(Ve)>=0?je.filter(Ge=>Ge.stackId!==Ve.stackId||Ge.id<=Ve.id):Mt(je,Ve))(je,Ve))(this.views,Ve,ht),this.views.slice()}transition(Ve,ht,Ge,dt,Bt,ur){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ht===Ve)return Promise.resolve(!1);const vr=Ve?Ve.element:void 0,Pr=ht?ht.element:void 0,sn=this.containerEl;return vr&&vr!==Pr&&(vr.classList.add("ion-page"),vr.classList.add("ion-page-invisible"),sn.commit)?sn.commit(vr,Pr,{duration:void 0===Ge?0:void 0,direction:Ge,showGoBack:dt,progressAnimation:Bt,animationBuilder:ur}):Promise.resolve(!1)}wait(Ve){var ht=this;return(0,M.A)(function*(){void 0!==ht.runningTask&&(yield ht.runningTask,ht.runningTask=void 0);const Ge=ht.runningTask=Ve();return Ge.finally(()=>ht.runningTask=void 0),Ge})()}}const ft=(je,Ve,ht,Ge,dt)=>"function"==typeof requestAnimationFrame?new Promise(Bt=>{requestAnimationFrame(()=>{Dt(je,Ve,ht,Ge,dt),Bt()})}):Promise.resolve(),Dt=(je,Ve,ht,Ge,dt)=>{dt.run(()=>ht.filter(Bt=>!Ve.includes(Bt)).forEach(Nt)),Ve.forEach(Bt=>{const vr=Ge.path().split("?")[0].split("#")[0];if(Bt!==je&&Bt.url!==vr){const Pr=Bt.element;Pr.setAttribute("aria-hidden","true"),Pr.classList.add("ion-page-hidden"),Bt.ref.changeDetectorRef.detach()}})};let er=(()=>{var je;class Ve{get activatedComponentRef(){return this.activated}set animation(Ge){this.nativeEl.animation=Ge}set animated(Ge){this.nativeEl.animated=Ge}set swipeGesture(Ge){this._swipeGesture=Ge,this.nativeEl.swipeHandler=Ge?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:dt=>this.stackCtrl.endBackTransition(dt)}:void 0}constructor(Ge,dt,Bt,ur,vr,Pr,sn,nn){(0,A.A)(this,"parentOutlet",void 0),(0,A.A)(this,"nativeEl",void 0),(0,A.A)(this,"activatedView",null),(0,A.A)(this,"tabsPrefix",void 0),(0,A.A)(this,"_swipeGesture",void 0),(0,A.A)(this,"stackCtrl",void 0),(0,A.A)(this,"proxyMap",new WeakMap),(0,A.A)(this,"currentActivatedRoute$",new j.t(null)),(0,A.A)(this,"activated",null),(0,A.A)(this,"_activatedRoute",null),(0,A.A)(this,"name",Et.Xk),(0,A.A)(this,"stackWillChange",new et.bkB),(0,A.A)(this,"stackDidChange",new et.bkB),(0,A.A)(this,"activateEvents",new et.bkB),(0,A.A)(this,"deactivateEvents",new et.bkB),(0,A.A)(this,"parentContexts",(0,et.WQX)(Et.Zp)),(0,A.A)(this,"location",(0,et.WQX)(et.c1b)),(0,A.A)(this,"environmentInjector",(0,et.WQX)(et.uvJ)),(0,A.A)(this,"inputBinder",(0,et.WQX)(lr,{optional:!0})),(0,A.A)(this,"supportsBindingToComponentInputs",!0),(0,A.A)(this,"config",(0,et.WQX)(Ye)),(0,A.A)(this,"navCtrl",(0,et.WQX)(st)),this.parentOutlet=nn,this.nativeEl=ur.nativeElement,this.name=Ge||Et.Xk,this.tabsPrefix="true"===dt?Rt(vr,sn):void 0,this.stackCtrl=new dr(this.tabsPrefix,this.nativeEl,vr,this.navCtrl,Pr,Bt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var Ge;this.stackCtrl.destroy(),null===(Ge=this.inputBinder)||void 0===Ge||Ge.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Ge=this.getContext();null!=Ge&&Ge.route&&this.activateWith(Ge.route,Ge.injector)}new Promise(Ge=>((je,Ve)=>{je.componentOnReady?je.componentOnReady().then(ht=>Ve(ht)):(je=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(je):"function"==typeof requestAnimationFrame?requestAnimationFrame(je):setTimeout(je)})(()=>Ve(je))})(this.nativeEl,Ge)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Ge,dt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const dt=this.getContext();this.activatedView.savedData=new Map(dt.children.contexts);const Bt=this.activatedView.savedData.get("primary");if(Bt&&dt.route&&(Bt.route={...dt.route}),this.activatedView.savedExtras={},dt.route){const ur=dt.route.snapshot;this.activatedView.savedExtras.queryParams=ur.queryParams,this.activatedView.savedExtras.fragment=ur.fragment}}const Ge=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ge)}}activateWith(Ge,dt){var Bt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Ge;let ur,vr=this.stackCtrl.getExistingView(Ge);if(vr){ur=this.activated=vr.ref;const nn=vr.savedData;nn&&(this.getContext().children.contexts=nn),this.updateActivatedRouteProxy(ur.instance,Ge)}else{var Pr;const nn=Ge._futureSnapshot,Nn=this.parentContexts.getOrCreateContext(this.name).children,Dn=new j.t(null),Kr=this.createActivatedRouteProxy(Dn,Ge),yn=new Yt(Kr,Nn,this.location.injector),Gn=null!==(Pr=nn.routeConfig.component)&&void 0!==Pr?Pr:nn.component;ur=this.activated=this.outletContent.createComponent(Gn,{index:this.outletContent.length,injector:yn,environmentInjector:null!=dt?dt:this.environmentInjector}),Dn.next(ur.instance),vr=this.stackCtrl.createView(this.activated,Ge),this.proxyMap.set(ur.instance,Kr),this.currentActivatedRoute$.next({component:ur.instance,activatedRoute:Ge})}null===(Bt=this.inputBinder)||void 0===Bt||Bt.bindActivatedRouteToOutletComponent(this),this.activatedView=vr,this.navCtrl.setTopOutlet(this);const sn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:vr,tabSwitch:vt(vr,sn)}),this.stackCtrl.setActive(vr).then(nn=>{this.activateEvents.emit(ur.instance),this.stackDidChange.emit(nn)})}canGoBack(Ge=1,dt){return this.stackCtrl.canGoBack(Ge,dt)}pop(Ge=1,dt){return this.stackCtrl.pop(Ge,dt)}getLastUrl(Ge){const dt=this.stackCtrl.getLastUrl(Ge);return dt?dt.url:void 0}getLastRouteView(Ge){return this.stackCtrl.getLastUrl(Ge)}getRootView(Ge){return this.stackCtrl.getRootUrl(Ge)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Ge,dt){const Bt=new Et.nX;return Bt._futureSnapshot=dt._futureSnapshot,Bt._routerState=dt._routerState,Bt.snapshot=dt.snapshot,Bt.outlet=dt.outlet,Bt.component=dt.component,Bt._paramMap=this.proxyObservable(Ge,"paramMap"),Bt._queryParamMap=this.proxyObservable(Ge,"queryParamMap"),Bt.url=this.proxyObservable(Ge,"url"),Bt.params=this.proxyObservable(Ge,"params"),Bt.queryParams=this.proxyObservable(Ge,"queryParams"),Bt.fragment=this.proxyObservable(Ge,"fragment"),Bt.data=this.proxyObservable(Ge,"data"),Bt}proxyObservable(Ge,dt){return Ge.pipe((0,te.p)(Bt=>!!Bt),(0,W.n)(Bt=>this.currentActivatedRoute$.pipe((0,te.p)(ur=>null!==ur&&ur.component===Bt),(0,W.n)(ur=>ur&&ur.activatedRoute[dt]),function Me(je,Ve=G.D){return je=null!=je?je:K,(0,Y.N)((ht,Ge)=>{let dt,Bt=!0;ht.subscribe((0,le._)(Ge,ur=>{const vr=Ve(ur);(Bt||!je(dt,vr))&&(Bt=!1,dt=vr,Ge.next(ur))}))})}())))}updateActivatedRouteProxy(Ge,dt){const Bt=this.proxyMap.get(Ge);if(!Bt)throw new Error("Could not find activated route proxy for view");Bt._futureSnapshot=dt._futureSnapshot,Bt._routerState=dt._routerState,Bt.snapshot=dt.snapshot,Bt.outlet=dt.outlet,Bt.component=dt.component,this.currentActivatedRoute$.next({component:Ge,activatedRoute:dt})}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.kS0("name"),et.kS0("tabs"),et.rXU(o.aZ),et.rXU(et.aKT),et.rXU(Et.Ix),et.rXU(et.SKi),et.rXU(Et.nX),et.rXU(je,12))}),(0,A.A)(Ve,"\u0275dir",et.FsC({type:je,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Ve})();class Yt{constructor(Ve,ht,Ge){(0,A.A)(this,"route",void 0),(0,A.A)(this,"childContexts",void 0),(0,A.A)(this,"parent",void 0),this.route=Ve,this.childContexts=ht,this.parent=Ge}get(Ve,ht){return Ve===Et.nX?this.route:Ve===Et.Zp?this.childContexts:this.parent.get(Ve,ht)}}const lr=new et.nKC("");let yr=(()=>{var je;class Ve{constructor(){(0,A.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(Ge){this.unsubscribeFromRouteData(Ge),this.subscribeToRouteData(Ge)}unsubscribeFromRouteData(Ge){var dt;null===(dt=this.outletDataSubscriptions.get(Ge))||void 0===dt||dt.unsubscribe(),this.outletDataSubscriptions.delete(Ge)}subscribeToRouteData(Ge){const{activatedRoute:dt}=Ge,Bt=(0,Z.z)([dt.queryParams,dt.params,dt.data]).pipe((0,W.n)(([ur,vr,Pr],sn)=>(Pr={...ur,...vr,...Pr},0===sn?(0,ee.of)(Pr):Promise.resolve(Pr)))).subscribe(ur=>{if(!Ge.isActivated||!Ge.activatedComponentRef||Ge.activatedRoute!==dt||null===dt.component)return void this.unsubscribeFromRouteData(Ge);const vr=(0,et.HJs)(dt.component);if(vr)for(const{templateName:Pr}of vr.inputs)Ge.activatedComponentRef.setInput(Pr,ur[Pr]);else this.unsubscribeFromRouteData(Ge)});this.outletDataSubscriptions.set(Ge,Bt)}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)}),(0,A.A)(Ve,"\u0275prov",et.jDH({token:je,factory:je.\u0275fac})),Ve})();const wr=()=>({provide:lr,useFactory:xr,deps:[Et.Ix]});function xr(je){return null!=je&&je.componentInputBindingEnabled?new yr:null}const Mr=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let X=(()=>{var je;let Ve=((0,A.A)(je=class{constructor(Ge,dt,Bt,ur,vr,Pr){(0,A.A)(this,"routerOutlet",void 0),(0,A.A)(this,"navCtrl",void 0),(0,A.A)(this,"config",void 0),(0,A.A)(this,"r",void 0),(0,A.A)(this,"z",void 0),(0,A.A)(this,"el",void 0),this.routerOutlet=Ge,this.navCtrl=dt,this.config=Bt,this.r=ur,this.z=vr,Pr.detach(),this.el=this.r.nativeElement}onClick(Ge){var dt;const Bt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(dt=this.routerOutlet)&&void 0!==dt&&dt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Ge.preventDefault()):null!=Bt&&(this.navCtrl.navigateBack(Bt,{animation:this.routerAnimation}),Ge.preventDefault())}},"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(er,8),et.rXU(st),et.rXU(Ye),et.rXU(et.aKT),et.rXU(et.SKi),et.rXU(et.gRc))}),(0,A.A)(je,"\u0275dir",et.FsC({type:je,hostBindings:function(Ge,dt){1&Ge&&et.bIt("click",function(ur){return dt.onClick(ur)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),je);return Ve=(0,z.Cg)([$e({inputs:Mr})],Ve),Ve})(),pe=(()=>{var je;class Ve{constructor(Ge,dt,Bt,ur,vr){(0,A.A)(this,"locationStrategy",void 0),(0,A.A)(this,"navCtrl",void 0),(0,A.A)(this,"elementRef",void 0),(0,A.A)(this,"router",void 0),(0,A.A)(this,"routerLink",void 0),(0,A.A)(this,"routerDirection","forward"),(0,A.A)(this,"routerAnimation",void 0),this.locationStrategy=Ge,this.navCtrl=dt,this.elementRef=Bt,this.router=ur,this.routerLink=vr}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ge;if(null!==(Ge=this.routerLink)&&void 0!==Ge&&Ge.urlTree){const dt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=dt}}onClick(Ge){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Ge.preventDefault()}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(o.hb),et.rXU(st),et.rXU(et.aKT),et.rXU(Et.Ix),et.rXU(Et.Wk,8))}),(0,A.A)(Ve,"\u0275dir",et.FsC({type:je,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Ge,dt){1&Ge&&et.bIt("click",function(ur){return dt.onClick(ur)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[et.OA$]})),Ve})(),Ie=(()=>{var je;class Ve{constructor(Ge,dt,Bt,ur,vr){(0,A.A)(this,"locationStrategy",void 0),(0,A.A)(this,"navCtrl",void 0),(0,A.A)(this,"elementRef",void 0),(0,A.A)(this,"router",void 0),(0,A.A)(this,"routerLink",void 0),(0,A.A)(this,"routerDirection","forward"),(0,A.A)(this,"routerAnimation",void 0),this.locationStrategy=Ge,this.navCtrl=dt,this.elementRef=Bt,this.router=ur,this.routerLink=vr}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ge;if(null!==(Ge=this.routerLink)&&void 0!==Ge&&Ge.urlTree){const dt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=dt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(o.hb),et.rXU(st),et.rXU(et.aKT),et.rXU(Et.Ix),et.rXU(Et.Wk,8))}),(0,A.A)(Ve,"\u0275dir",et.FsC({type:je,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Ge,dt){1&Ge&&et.bIt("click",function(){return dt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[et.OA$]})),Ve})();const E=["animated","animation","root","rootParams","swipeGesture"],I=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let U=(()=>{var je;let Ve=((0,A.A)(je=class{constructor(Ge,dt,Bt,ur,vr,Pr){(0,A.A)(this,"z",void 0),(0,A.A)(this,"el",void 0),this.z=vr,Pr.detach(),this.el=Ge.nativeElement,Ge.nativeElement.delegate=ur.create(dt,Bt),Gt(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(et.aKT),et.rXU(et.uvJ),et.rXU(et.zZn),et.rXU(kt),et.rXU(et.SKi),et.rXU(et.gRc))}),(0,A.A)(je,"\u0275dir",et.FsC({type:je,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),je);return Ve=(0,z.Cg)([$e({inputs:E,methods:I})],Ve),Ve})(),D=(()=>{var je;class Ve{constructor(Ge){(0,A.A)(this,"navCtrl",void 0),(0,A.A)(this,"tabsInner",void 0),(0,A.A)(this,"ionTabsWillChange",new et.bkB),(0,A.A)(this,"ionTabsDidChange",new et.bkB),(0,A.A)(this,"tabBarSlot","bottom"),this.navCtrl=Ge}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Ge,tabSwitch:dt}){const Bt=Ge.stackId;dt&&void 0!==Bt&&this.ionTabsWillChange.emit({tab:Bt})}onStackDidChange({enteringView:Ge,tabSwitch:dt}){const Bt=Ge.stackId;dt&&void 0!==Bt&&(this.tabBar&&(this.tabBar.selectedTab=Bt),this.ionTabsDidChange.emit({tab:Bt}))}select(Ge){const dt="string"==typeof Ge,Bt=dt?Ge:Ge.detail.tab,ur=this.outlet.getActiveStackId()===Bt,vr=`${this.outlet.tabsPrefix}/${Bt}`;if(dt||Ge.stopPropagation(),ur){const Pr=this.outlet.getActiveStackId(),sn=this.outlet.getLastRouteView(Pr);if((null==sn?void 0:sn.url)===vr)return;const nn=this.outlet.getRootView(Bt);return this.navCtrl.navigateRoot(vr,{...nn&&vr===nn.url&&nn.savedExtras,animated:!0,animationDirection:"back"})}{const Pr=this.outlet.getLastRouteView(Bt);return this.navCtrl.navigateRoot((null==Pr?void 0:Pr.url)||vr,{...null==Pr?void 0:Pr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Ge=>{const dt=Ge.el.getAttribute("slot");dt!==this.tabBarSlot&&(this.tabBarSlot=dt,this.relocateTabBar())})}relocateTabBar(){const Ge=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Ge):this.tabsInner.nativeElement.after(Ge)}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(st))}),(0,A.A)(Ve,"\u0275dir",et.FsC({type:je,selectors:[["ion-tabs"]],viewQuery:function(Ge,dt){if(1&Ge&&et.GBs(oe,7,et.aKT),2&Ge){let Bt;et.mGM(Bt=et.lsd())&&(dt.tabsInner=Bt.first)}},hostBindings:function(Ge,dt){1&Ge&&et.bIt("ionTabButtonClick",function(ur){return dt.select(ur)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Ve})();const J=je=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(je):"function"==typeof requestAnimationFrame?requestAnimationFrame(je):setTimeout(je);let V=(()=>{var je;class Ve{constructor(Ge,dt){(0,A.A)(this,"injector",void 0),(0,A.A)(this,"elementRef",void 0),(0,A.A)(this,"onChange",()=>{}),(0,A.A)(this,"onTouched",()=>{}),(0,A.A)(this,"lastValue",void 0),(0,A.A)(this,"statusChanges",void 0),this.injector=Ge,this.elementRef=dt}writeValue(Ge){this.elementRef.nativeElement.value=this.lastValue=Ge,ne(this.elementRef)}handleValueChange(Ge,dt){Ge===this.elementRef.nativeElement&&(dt!==this.lastValue&&(this.lastValue=dt,this.onChange(dt)),ne(this.elementRef))}_handleBlurEvent(Ge){Ge===this.elementRef.nativeElement&&(this.onTouched(),ne(this.elementRef))}registerOnChange(Ge){this.onChange=Ge}registerOnTouched(Ge){this.onTouched=Ge}setDisabledState(Ge){this.elementRef.nativeElement.disabled=Ge}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Ge;try{Ge=this.injector.get(O.vO)}catch{}if(!Ge)return;Ge.statusChanges&&(this.statusChanges=Ge.statusChanges.subscribe(()=>ne(this.elementRef)));const dt=Ge.control;dt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ur=>{if(typeof dt[ur]<"u"){const vr=dt[ur].bind(dt);dt[ur]=(...Pr)=>{vr(...Pr),ne(this.elementRef)}}})}}return je=Ve,(0,A.A)(Ve,"\u0275fac",function(Ge){return new(Ge||je)(et.rXU(et.zZn),et.rXU(et.aKT))}),(0,A.A)(Ve,"\u0275dir",et.FsC({type:je,hostBindings:function(Ge,dt){1&Ge&&et.bIt("ionBlur",function(ur){return dt._handleBlurEvent(ur.target)})}})),Ve})();const ne=je=>{J(()=>{const Ve=je.nativeElement,ht=null!=Ve.value&&Ve.value.toString().length>0,Ge=Ne(Ve);De(Ve,Ge);const dt=Ve.closest("ion-item");dt&&De(dt,ht?[...Ge,"item-has-value"]:Ge)})},Ne=je=>{const Ve=je.classList,ht=[];for(let Ge=0;Ge<Ve.length;Ge++){const dt=Ve.item(Ge);null!==dt&&qe(dt,"ng-")&&ht.push(`ion-${dt.substring(3)}`)}return ht},De=(je,Ve)=>{const ht=je.classList;ht.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ht.add(...Ve)},qe=(je,Ve)=>je.substring(0,Ve.length)===Ve;class St{shouldDetach(Ve){return!1}shouldAttach(Ve){return!1}store(Ve,ht){}retrieve(Ve){return null}shouldReuseRoute(Ve,ht){if(Ve.routeConfig!==ht.routeConfig)return!1;const Ge=Ve.params,dt=ht.params,Bt=Object.keys(Ge),ur=Object.keys(dt);if(Bt.length!==ur.length)return!1;for(const vr of Bt)if(dt[vr]!==Ge[vr])return!1;return!0}}class sr{constructor(Ve){(0,A.A)(this,"ctrl",void 0),this.ctrl=Ve}create(Ve){return this.ctrl.create(Ve||{})}dismiss(Ve,ht,Ge){return this.ctrl.dismiss(Ve,ht,Ge)}getTop(){return this.ctrl.getTop()}}},5374:(Dr,rr,_e)=>{"use strict";_e.d(rr,{hG:()=>Gn,Hx:()=>bn,hB:()=>C,xk:()=>Z,YH:()=>ee,Zy:()=>te,U1:()=>W,mC:()=>G,el:()=>Bt,Jm:()=>O,QW:()=>oe,b_:()=>me,I9:()=>Se,ME:()=>Ue,HW:()=>Xe,tN:()=>lt,eY:()=>ze,ZB:()=>st,hU:()=>at,W9:()=>Fe,A9:()=>nt,M0:()=>kt,lO:()=>ar,eU:()=>Vt,iq:()=>cr,$w:()=>fr,uz:()=>ir,Dg:()=>Gt,he:()=>Ot,nf:()=>zt,AF:()=>$t,T6:()=>yn,Sb:()=>sn,CF:()=>nn,KO:()=>Dt,f0:()=>er,Ob:()=>Yt,Rg:()=>Ge,ln:()=>X,Nm:()=>I,Ip:()=>U,Jq:()=>ne,qW:()=>Ne,p4:()=>dt,BC:()=>sr,BY:()=>Ve,ai:()=>ht,bv:()=>vs,Xi:()=>eo,W3:()=>ko,su:()=>H,Je:()=>B,Gw:()=>R});var M=_e(9842),A=_e(3953),et=_e(4341),Et=_e(3656),o=_e(1635),ie=_e(3726),$=_e(177),v=_e(9858),b=_e(617),m=_e(467),w=_e(8393);const i=_e(4921).i,a=function(){var ye=(0,m.A)(function*(He,ct){if(!(typeof window>"u"))return yield i(),(0,w.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),ct)});return function(ct,Ee){return ye.apply(this,arguments)}}(),l=["*"],u=["outletContent"],d=["outlet"],h=[[["","slot","top"]],"*"],g=["[slot=top]","*"];function p(ye,He){if(1&ye&&(A.j41(0,"div",1),A.eu8(1,2),A.k0s()),2&ye){const ct=A.XpG();A.R7$(),A.Y8G("ngTemplateOutlet",ct.template)}}function y(ye,He){if(1&ye&&A.eu8(0,1),2&ye){const ct=A.XpG();A.Y8G("ngTemplateOutlet",ct.template)}}let C=(()=>{var ye;class He extends Et.fL{constructor(Ee,mt){super(Ee,mt)}writeValue(Ee){this.elementRef.nativeElement.checked=this.lastValue=Ee,(0,Et.z3)(this.elementRef)}_handleIonChange(Ee){this.handleValueChange(Ee,Ee.checked)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.zZn),A.rXU(A.aKT))}),(0,M.A)(He,"\u0275dir",A.FsC({type:ye,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Ee,mt){1&Ee&&A.bIt("ionChange",function(hn){return mt._handleIonChange(hn.target)})},features:[A.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),A.Vt3]})),He})(),H=(()=>{var ye;class He extends Et.fL{constructor(Ee,mt){super(Ee,mt),(0,M.A)(this,"el",void 0),this.el=mt}handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}registerOnChange(Ee){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?mt=>{Ee(""===mt?null:parseFloat(mt))}:Ee)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.zZn),A.rXU(A.aKT))}),(0,M.A)(He,"\u0275dir",A.FsC({type:ye,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Ee,mt){1&Ee&&A.bIt("ionInput",function(hn){return mt.handleInputEvent(hn.target)})},features:[A.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),A.Vt3]})),He})(),B=(()=>{var ye;class He extends Et.fL{constructor(Ee,mt){super(Ee,mt)}_handleChangeEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.zZn),A.rXU(A.aKT))}),(0,M.A)(He,"\u0275dir",A.FsC({type:ye,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Ee,mt){1&Ee&&A.bIt("ionChange",function(hn){return mt._handleChangeEvent(hn.target)})},features:[A.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),A.Vt3]})),He})(),R=(()=>{var ye;class He extends Et.fL{constructor(Ee,mt){super(Ee,mt)}_handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.zZn),A.rXU(A.aKT))}),(0,M.A)(He,"\u0275dir",A.FsC({type:ye,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Ee,mt){1&Ee&&A.bIt("ionInput",function(hn){return mt._handleInputEvent(hn.target)})},features:[A.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),A.Vt3]})),He})();const P=(ye,He)=>{const ct=ye.prototype;He.forEach(Ee=>{Object.defineProperty(ct,Ee,{get(){return this.el[Ee]},set(mt){this.z.runOutsideAngular(()=>this.el[Ee]=mt)},configurable:!0})})},k=(ye,He)=>{const ct=ye.prototype;He.forEach(Ee=>{ct[Ee]=function(){const mt=arguments;return this.z.runOutsideAngular(()=>this.el[Ee].apply(this.el,mt))}})},T=(ye,He,ct)=>{ct.forEach(Ee=>ye[Ee]=(0,ie.R)(He,Ee))};function j(ye){return function(ct){const{defineCustomElementFn:Ee,inputs:mt,methods:Jt}=ye;return void 0!==Ee&&Ee(),mt&&P(ct,mt),Jt&&k(ct,Jt),ct}}let Z=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],He),He})(),ee=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],He),He})(),te=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],He),He})(),W=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-app"]],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({})],He),He})(),G=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-avatar"]],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({})],He),He})(),O=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],He),He})(),oe=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["collapse"]})],He),He})(),me=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],He),He})(),Se=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["mode"]})],He),He})(),Ue=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode","translucent"]})],He),He})(),Xe=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode"]})],He),He})(),lt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode"]})],He),He})(),ze=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],He),He})(),st=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","disabled","mode","outline"]})],He),He})(),at=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],He),He})(),Fe=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],He),He})(),nt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],He),He})(),kt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["collapse","mode","translucent"]})],He),He})(),ar=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["fixed"]})],He),He})(),Vt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["collapse","mode","translucent"]})],He),He})(),cr=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],He),He})(),fr=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],He),He})(),ir=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],He),He})(),Gt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode","sticky"]})],He),He})(),Ot=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode","position"]})],He),He})(),zt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],He),He})(),$t=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","lines","mode"]})],He),He})(),Dt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],He),He})(),er=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["allowEmptySelection","compareWith","name","value"]})],He),He})(),Yt=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],He),He})(),X=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-row"]],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({})],He),He})(),I=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],He),He})(),U=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["disabled","value"]})],He),He})(),ne=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode","selectedTab","translucent"]})],He),He})(),Ne=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],He),He})(),sr=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","size"]})],He),He})(),Ve=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement,T(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],He),He})(),ht=(()=>{var ye;let He=((0,M.A)(ye=class{constructor(Ee,mt,Jt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Jt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi))}),(0,M.A)(ye,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),ye);return He=(0,o.Cg)([j({inputs:["color","mode"]})],He),He})(),Ge=(()=>{var ye;class He extends Et.Rg{constructor(Ee,mt,Jt,hn,Fn,mo,ts,Yo){super(Ee,mt,Jt,hn,Fn,mo,ts,Yo),(0,M.A)(this,"parentOutlet",void 0),(0,M.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)(A.kS0("name"),A.kS0("tabs"),A.rXU($.aZ),A.rXU(A.aKT),A.rXU(v.Ix),A.rXU(A.SKi),A.rXU(v.nX),A.rXU(ye,12))}),(0,M.A)(He,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-router-outlet"]],viewQuery:function(Ee,mt){if(1&Ee&&A.GBs(u,7,A.c1b),2&Ee){let Jt;A.mGM(Jt=A.lsd())&&(mt.outletContent=Jt.first)}},features:[A.Vt3],ngContentSelectors:l,decls:3,vars:0,consts:[["outletContent",""]],template:function(Ee,mt){1&Ee&&(A.NAR(),A.qex(0,null,0),A.SdG(2),A.bVm())},encapsulation:2})),He})(),dt=(()=>{var ye;class He extends Et.p4{constructor(...Ee){super(...Ee),(0,M.A)(this,"outlet",void 0),(0,M.A)(this,"tabBar",void 0),(0,M.A)(this,"tabBars",void 0)}}return ye=He,(0,M.A)(He,"\u0275fac",(()=>{let ct;return function(mt){return(ct||(ct=A.xGo(ye)))(mt||ye)}})()),(0,M.A)(He,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-tabs"]],contentQueries:function(Ee,mt,Jt){if(1&Ee&&(A.wni(Jt,ne,5),A.wni(Jt,ne,4)),2&Ee){let hn;A.mGM(hn=A.lsd())&&(mt.tabBar=hn.first),A.mGM(hn=A.lsd())&&(mt.tabBars=hn)}},viewQuery:function(Ee,mt){if(1&Ee&&A.GBs(d,5,Ge),2&Ee){let Jt;A.mGM(Jt=A.lsd())&&(mt.outlet=Jt.first)}},features:[A.Vt3],ngContentSelectors:g,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Ee,mt){if(1&Ee){const Jt=A.RV6();A.NAR(h),A.SdG(0),A.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),A.bIt("stackWillChange",function(Fn){return A.eBV(Jt),A.Njj(mt.onStackWillChange(Fn))})("stackDidChange",function(Fn){return A.eBV(Jt),A.Njj(mt.onStackDidChange(Fn))}),A.k0s()(),A.SdG(5,1)}},dependencies:[Ge],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),He})(),Bt=(()=>{var ye;class He extends Et.el{constructor(Ee,mt,Jt,hn,Fn,mo){super(Ee,mt,Jt,hn,Fn,mo)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)(A.rXU(Ge,8),A.rXU(Et.q9),A.rXU(Et.TS),A.rXU(A.aKT),A.rXU(A.SKi),A.rXU(A.gRc))}),(0,M.A)(He,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-back-button"]],features:[A.Vt3],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(A.NAR(),A.SdG(0))},encapsulation:2,changeDetection:0})),He})(),sn=(()=>{var ye;class He extends Et.Sb{}return ye=He,(0,M.A)(He,"\u0275fac",(()=>{let ct;return function(mt){return(ct||(ct=A.xGo(ye)))(mt||ye)}})()),(0,M.A)(He,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-modal"]],features:[A.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Ee,mt){1&Ee&&A.DNE(0,p,2,1,"div",0),2&Ee&&A.Y8G("ngIf",mt.isCmpOpen||mt.keepContentsMounted)},dependencies:[$.bT,$.T3],encapsulation:2,changeDetection:0})),He})(),nn=(()=>{var ye;class He extends Et.CF{}return ye=He,(0,M.A)(He,"\u0275fac",(()=>{let ct;return function(mt){return(ct||(ct=A.xGo(ye)))(mt||ye)}})()),(0,M.A)(He,"\u0275cmp",A.VBU({type:ye,selectors:[["ion-popover"]],features:[A.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Ee,mt){1&Ee&&A.DNE(0,y,1,1,"ng-container",0),2&Ee&&A.Y8G("ngIf",mt.isCmpOpen||mt.keepContentsMounted)},dependencies:[$.bT,$.T3],encapsulation:2,changeDetection:0})),He})();const Nn={provide:et.cz,useExisting:(0,A.Rfq)(()=>Dn),multi:!0};let Dn=(()=>{var ye;class He extends et.zX{}return ye=He,(0,M.A)(He,"\u0275fac",(()=>{let ct;return function(mt){return(ct||(ct=A.xGo(ye)))(mt||ye)}})()),(0,M.A)(He,"\u0275dir",A.FsC({type:ye,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ee,mt){2&Ee&&A.BMQ("max",mt._enabled?mt.max:null)},features:[A.Jv_([Nn]),A.Vt3]})),He})();const Kr={provide:et.cz,useExisting:(0,A.Rfq)(()=>yn),multi:!0};let yn=(()=>{var ye;class He extends et.VZ{}return ye=He,(0,M.A)(He,"\u0275fac",(()=>{let ct;return function(mt){return(ct||(ct=A.xGo(ye)))(mt||ye)}})()),(0,M.A)(He,"\u0275dir",A.FsC({type:ye,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,mt){2&Ee&&A.BMQ("min",mt._enabled?mt.min:null)},features:[A.Jv_([Kr]),A.Vt3]})),He})(),Gn=(()=>{var ye;class He extends Et.Kb{constructor(){super(b.TN)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(He,"\u0275prov",A.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),He})(),bn=(()=>{var ye;class He{create(Ee){return(0,b.JI)(Ee)}easingTime(Ee,mt,Jt,hn,Fn){return(0,b.sE)(Ee,mt,Jt,hn,Fn)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(He,"\u0275prov",A.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),He})(),eo=(()=>{var ye;class He extends Et.Kb{constructor(){super(b.FJ)}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(He,"\u0275prov",A.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),He})(),ko=(()=>{var ye;class He extends Et.Kb{constructor(){super(b.OZ),(0,M.A)(this,"angularDelegate",(0,A.WQX)(Et.Yq)),(0,M.A)(this,"injector",(0,A.WQX)(A.zZn)),(0,M.A)(this,"environmentInjector",(0,A.WQX)(A.uvJ))}create(Ee){return super.create({...Ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(He,"\u0275prov",A.jDH({token:ye,factory:ye.\u0275fac})),He})();class $o extends Et.Kb{constructor(){super(b.mF),(0,M.A)(this,"angularDelegate",(0,A.WQX)(Et.Yq)),(0,M.A)(this,"injector",(0,A.WQX)(A.zZn)),(0,M.A)(this,"environmentInjector",(0,A.WQX)(A.uvJ))}create(He){return super.create({...He,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(ye,He,ct)=>()=>{const Ee=He.defaultView;if(Ee&&typeof window<"u"){(0,b.QX)({...ye,_zoneGate:Jt=>ct.run(Jt)});const mt="__zone_symbol__addEventListener"in He.body?"__zone_symbol__addEventListener":"addEventListener";return function f(){var ye=[];if(typeof window<"u"){var He=window;(!He.customElements||He.Element&&(!He.Element.prototype.closest||!He.Element.prototype.matches||!He.Element.prototype.remove||!He.Element.prototype.getRootNode))&&ye.push(_e.e(7278).then(_e.t.bind(_e,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||He.NodeList&&!He.NodeList.prototype.forEach||!He.fetch||!function(){try{var Ee=new URL("b","http://a");return Ee.pathname="c%20d","http://a/c%20d"===Ee.href&&Ee.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&ye.push(_e.e(9329).then(_e.t.bind(_e,7783,23)))}return Promise.all(ye)}().then(()=>a(Ee,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Et.er,jmp:Jt=>ct.runOutsideAngular(Jt),ael(Jt,hn,Fn,mo){Jt[mt](hn,Fn,mo)},rel(Jt,hn,Fn,mo){Jt.removeEventListener(hn,Fn,mo)}}))}};let vs=(()=>{var ye;class He{static forRoot(Ee={}){return{ngModule:He,providers:[{provide:Et.sR,useValue:Ee},{provide:A.hnV,useFactory:Vo,multi:!0,deps:[Et.sR,$.qQ,A.SKi]},Et.Yq,(0,Et.YV)()]}}}return ye=He,(0,M.A)(He,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(He,"\u0275mod",A.$C({type:ye})),(0,M.A)(He,"\u0275inj",A.G2t({providers:[ko,$o],imports:[$.MD]})),He})()},467:(Dr,rr,_e)=>{"use strict";function M(et,Et,o,ie,$,v,b){try{var f=et[v](b),m=f.value}catch(w){return void o(w)}f.done?Et(m):Promise.resolve(m).then(ie,$)}function A(et){return function(){var Et=this,o=arguments;return new Promise(function(ie,$){var v=et.apply(Et,o);function b(m){M(v,ie,$,b,f,"next",m)}function f(m){M(v,ie,$,b,f,"throw",m)}b(void 0)})}}_e.d(rr,{A:()=>A})},9842:(Dr,rr,_e)=>{"use strict";function M(o){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(o)}function Et(o,ie,$){return(ie=function et(o){var ie=function A(o,ie){if("object"!=M(o)||!o)return o;var $=o[Symbol.toPrimitive];if(void 0!==$){var v=$.call(o,ie||"default");if("object"!=M(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ie?String:Number)(o)}(o,"string");return"symbol"==M(ie)?ie:ie+""}(ie))in o?Object.defineProperty(o,ie,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[ie]=$,o}_e.d(rr,{A:()=>Et})},1635:(Dr,rr,_e)=>{"use strict";function o(W,G,Y,le){var O,Me=arguments.length,K=Me<3?G:null===le?le=Object.getOwnPropertyDescriptor(G,Y):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(W,G,Y,le);else for(var oe=W.length-1;oe>=0;oe--)(O=W[oe])&&(K=(Me<3?O(K):Me>3?O(G,Y,K):O(G,Y))||K);return Me>3&&K&&Object.defineProperty(G,Y,K),K}function w(W,G,Y,le){return new(Y||(Y=Promise))(function(K,O){function oe(Ue){try{Se(le.next(Ue))}catch(Xe){O(Xe)}}function me(Ue){try{Se(le.throw(Ue))}catch(Xe){O(Xe)}}function Se(Ue){Ue.done?K(Ue.value):function Me(K){return K instanceof Y?K:new Y(function(O){O(K)})}(Ue.value).then(oe,me)}Se((le=le.apply(W,G||[])).next())})}function p(W){return this instanceof p?(this.v=W,this):new p(W)}function y(W,G,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,le=Y.apply(W,G||[]),K=[];return Me={},oe("next"),oe("throw"),oe("return",function O(ze){return function(st){return Promise.resolve(st).then(ze,Xe)}}),Me[Symbol.asyncIterator]=function(){return this},Me;function oe(ze,st){le[ze]&&(Me[ze]=function(at){return new Promise(function(Fe,nt){K.push([ze,at,Fe,nt])>1||me(ze,at)})},st&&(Me[ze]=st(Me[ze])))}function me(ze,st){try{!function Se(ze){ze.value instanceof p?Promise.resolve(ze.value.v).then(Ue,Xe):lt(K[0][2],ze)}(le[ze](st))}catch(at){lt(K[0][3],at)}}function Ue(ze){me("next",ze)}function Xe(ze){me("throw",ze)}function lt(ze,st){ze(st),K.shift(),K.length&&me(K[0][0],K[0][1])}}function H(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,G=W[Symbol.asyncIterator];return G?G.call(W):(W=function l(W){var G="function"==typeof Symbol&&Symbol.iterator,Y=G&&W[G],le=0;if(Y)return Y.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&le>=W.length&&(W=void 0),{value:W&&W[le++],done:!W}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),Y={},le("next"),le("throw"),le("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function le(K){Y[K]=W[K]&&function(O){return new Promise(function(oe,me){!function Me(K,O,oe,me){Promise.resolve(me).then(function(Se){K({value:Se,done:oe})},O)}(oe,me,(O=W[K](O)).done,O.value)})}}}_e.d(rr,{AQ:()=>y,Cg:()=>o,N3:()=>p,sH:()=>w,xN:()=>H}),"function"==typeof SuppressedError&&SuppressedError}},Dr=>{Dr(Dr.s=3419)}]);