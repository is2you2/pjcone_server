"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8180],{8180:(N,r,a)=>{a.r(r),a.d(r,{PortalPageModule:()=>j});var b=a(177),u=a(4341),l=a(5374),d=a(9858),g=a(617),t=a(3953),h=a(3656),m=a(4237),f=a(482),P=a(755),v=a(4020),p=a(8065),_=a(4234);const I=["QuitArcade"];function T(o,s){1&o&&(t.j41(0,"div",13),t.EFF(1,"Q"),t.k0s())}function A(o,s){1&o&&(t.j41(0,"div",13),t.EFF(1,"W"),t.k0s())}function C(o,s){1&o&&t.nrm(0,"div",14)}function y(o,s){1&o&&(t.j41(0,"div",13),t.EFF(1,"E"),t.k0s())}function x(o,s){1&o&&t.nrm(0,"div",14)}function S(o,s){1&o&&(t.j41(0,"div",13),t.EFF(1,"R"),t.k0s())}function G(o,s){1&o&&t.nrm(0,"div",14)}function k(o,s){1&o&&(t.j41(0,"div",13),t.EFF(1,"T"),t.k0s())}function R(o,s){if(1&o){const i=t.RV6();t.j41(0,"ion-tab-bar",3)(1,"ion-tab-button",4),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.bottom_tab_selected())}),t.DNE(2,T,2,0,"div",5),t.nrm(3,"ion-icon",6),t.k0s(),t.j41(4,"ion-tab-button",7),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.subscribe_button())}),t.DNE(5,A,2,0,"div",5),t.nrm(6,"ion-icon",6),t.DNE(7,C,1,0,"div",8),t.k0s(),t.j41(8,"ion-tab-button",9),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.arcade_tab_selected())}),t.DNE(9,y,2,0,"div",5),t.nrm(10,"ion-icon",6),t.DNE(11,x,1,0,"div",8),t.k0s(),t.j41(12,"ion-tab-button",10),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.community_tab_selected())}),t.DNE(13,S,2,0,"div",5),t.nrm(14,"ion-icon",6),t.DNE(15,G,1,0,"div",8),t.k0s(),t.j41(16,"ion-tab-button",11),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.setting_button())}),t.DNE(17,k,2,0,"div",5),t.nrm(18,"ion-icon",12),t.k0s()()}if(2&o){const i=t.XpG();t.R7$(),t.Y8G("disabled",!i.indexed.ionicDB),t.R7$(),t.Y8G("ngIf",i.global.ShowHint),t.R7$(),t.Y8G("name",i.TodoIcon),t.R7$(),t.Y8G("disabled",!i.indexed.ionicDB),t.R7$(),t.Y8G("ngIf",i.global.ShowHint),t.R7$(),t.Y8G("name",i.SubscribesIcon),t.R7$(),t.Y8G("ngIf",i.nakama.has_new_channel_msg),t.R7$(),t.Y8G("disabled",!i.indexed.ionicDB),t.R7$(),t.Y8G("ngIf",i.global.ShowHint),t.R7$(),t.Y8G("name",i.ArcadeIcon),t.R7$(),t.Y8G("ngIf",i.global.ArcadeLoaded),t.R7$(),t.Y8G("disabled",!i.indexed.ionicDB),t.R7$(),t.Y8G("ngIf",i.global.ShowHint),t.R7$(),t.Y8G("name",i.CommunityIcon),t.R7$(),t.Y8G("ngIf",i.nakama.has_new_post),t.R7$(),t.Y8G("disabled",!i.indexed.ionicDB),t.R7$(),t.Y8G("ngIf",i.global.ShowHint)}}const B=[{path:"",component:(()=>{var o;class s{constructor(n,e,c,$,Y,D,F,E){this.navCtrl=n,this.nakama=e,this.global=c,this.indexed=$,this._webrtc=Y,this.statusBar=D,this.lang=F,this.platform=E,this.OnInit=!0,this.TodoIcon="checkbox",this.SubscribesIcon="chatbubble-outline",this.ArcadeIcon="game-controller-outline",this.CommunityIcon="notifications-outline",this.QuitArcadeButtons=[]}ngOnInit(){this.platform.is("iphone")&&(document.querySelector("ion-router-outlet").style.marginBottom="24px"),this.global.SelectArcadeTab=()=>{this.arcade_tab_selected(),this.ionTabs.select("arcade")}}ionViewWillEnter(){this.global.FocusOnPortal=!0}ionViewDidEnter(){if(this.CacheKeyShortCut&&(this.global.p5KeyShortCut=this.CacheKeyShortCut),this.try_add_shortcut(),this.global.p5todoPlayCanvas&&"checkbox"==this.TodoIcon&&this.global.p5todoPlayCanvas(),this.nakama.AfterLoginAct.length&&this.global.RemoveAllModals(()=>{this.nakama.open_profile_page()}),this.OnInit){switch(this.nakama.StartPage||(this.nakama.StartPage=localStorage.getItem("StartPage")||"0"),this.nakama.StartPage){case"1":this.subscribe_button(),this.ionTabs.select("subscribes");break;case"2":this.arcade_tab_selected(),this.ionTabs.select("arcade");break;case"3":this.community_tab_selected(),this.ionTabs.select("community")}this.OnInit=!1}}try_add_shortcut(){this.global.p5key&&this.global.p5KeyShortCut&&(this.global.p5KeyShortCut.BottomTab=n=>{switch(n){case"Q":this.bottom_tab_selected(),this.ionTabs.select("main");break;case"W":this.subscribe_button(),this.ionTabs.select("subscribes");break;case"E":this.arcade_tab_selected(),this.ionTabs.select("arcade");break;case"R":this.community_tab_selected(),this.ionTabs.select("community");break;case"T":this.setting_button()}})}subscribe_button(){this.nakama.has_new_channel_msg=!1,"chatbubble"==this.SubscribesIcon&&this.global.PortalBottonTabAct.Subscribes&&this.global.PortalBottonTabAct.Subscribes(),this.SubscribesIcon="chatbubble",this.TodoIcon="checkbox-outline",this.CommunityIcon="notifications-outline",this.ArcadeIcon="game-controller-outline"}setting_button(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("portal/settings",{animation:g.NC})})}bottom_tab_selected(){this.SubscribesIcon="chatbubble-outline","checkbox"==this.TodoIcon&&this.global.PortalBottonTabAct.Todo&&this.global.PortalBottonTabAct.Todo(),this.TodoIcon="checkbox",this.CommunityIcon="notifications-outline",this.ArcadeIcon="game-controller-outline"}arcade_tab_selected(){this.SubscribesIcon="chatbubble-outline",this.TodoIcon="checkbox-outline","game-controller"==this.ArcadeIcon&&this.global.PortalBottonTabAct.Arcade&&this.global.PortalBottonTabAct.Arcade(),this.global.ArcadeLoaded&&"game-controller"==this.ArcadeIcon&&(this.global.StoreShortCutAct("quit-arcade"),this.QuitArcadeButtons=[{text:this.lang.text.Arcade.AlertOK,handler:()=>{this.global.ArcadeLoaded=!1,this.global.ArcadeWS&&this.global.ArcadeWS.close(1e3,"user_quit")},cssClass:"redfont"}],this.QuitArcade.onDidDismiss().then(()=>{this.global.RestoreShortCutAct("quit-arcade")}),this.QuitArcade.present()),this.ArcadeIcon="game-controller",this.CommunityIcon="notifications-outline"}community_tab_selected(){this.SubscribesIcon="chatbubble-outline",this.TodoIcon="checkbox-outline","notifications"==this.CommunityIcon&&this.global.PortalBottonTabAct.Community&&this.global.PortalBottonTabAct.Community(),this.CommunityIcon="notifications",this.ArcadeIcon="game-controller-outline"}ionViewWillLeave(){this.global.FocusOnPortal=!1,this.global.FocusOnPortalLeaveAct&&this.global.FocusOnPortalLeaveAct(),this.CacheKeyShortCut=this.global.p5KeyShortCut,this.global.p5KeyShortCut={},this.global.p5todoStopCanvas&&this.global.p5todoStopCanvas()}}return(o=s).\u0275fac=function(n){return new(n||o)(t.rXU(h.q9),t.rXU(m.X),t.rXU(f.z3),t.rXU(P.n),t.rXU(v.j),t.rXU(p.j),t.rXU(_.y),t.rXU(h.OD))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-portal"]],viewQuery:function(n,e){if(1&n&&(t.GBs(l.p4,5),t.GBs(I,5)),2&n){let c;t.mGM(c=t.lsd())&&(e.ionTabs=c.first),t.mGM(c=t.lsd())&&(e.QuitArcade=c.first)}},decls:5,vars:4,consts:[["QuitArcade",""],["slot","bottom",4,"ngIf"],[3,"header","message","buttons"],["slot","bottom"],["tab","main",3,"click","disabled"],["class","shortcut_hint shortcut_main",4,"ngIf"],[3,"name"],["tab","subscribes",3,"click","disabled"],["class","custom_badge",4,"ngIf"],["tab","arcade",3,"click","disabled"],["tab","community",3,"click","disabled"],[3,"click","disabled"],["name","settings-outline"],[1,"shortcut_hint","shortcut_main"],[1,"custom_badge"]],template:function(n,e){1&n&&(t.j41(0,"ion-content")(1,"ion-tabs"),t.DNE(2,R,19,17,"ion-tab-bar",1),t.k0s(),t.nrm(3,"ion-alert",2,0),t.k0s()),2&n&&(t.R7$(2),t.Y8G("ngIf",!e.global.ArcadeWithFullScreen),t.R7$(),t.Y8G("header",e.lang.text.Arcade.AlertTitle)("message",e.lang.text.Arcade.AlertMsg)("buttons",e.QuitArcadeButtons))},dependencies:[b.bT,l.Zy,l.W9,l.iq,l.Jq,l.qW,l.p4],styles:[".md[_ngcontent-%COMP%]   .custom_badge[_ngcontent-%COMP%]{background-color:var(--ion-color-danger);width:8px;height:8px;position:absolute;transform:translate(10px,-8px);border-radius:16px}.ios[_ngcontent-%COMP%]   .custom_badge[_ngcontent-%COMP%]{background-color:var(--ion-color-danger);width:12px;height:12px;position:absolute;transform:translate(12px,-8px);border-radius:16px}"]}),s})(),children:[{path:"",redirectTo:"main",pathMatch:"full"},{path:"subscribes",loadChildren:()=>a.e(9128).then(a.bind(a,9128)).then(o=>o.SubscribesPageModule)},{path:"main",loadChildren:()=>a.e(887).then(a.bind(a,887)).then(o=>o.MainPageModule)},{path:"community",loadChildren:()=>a.e(5036).then(a.bind(a,5036)).then(o=>o.CommunityPageModule)},{path:"arcade",loadChildren:()=>Promise.all([a.e(2076),a.e(6767)]).then(a.bind(a,6767)).then(o=>o.ArcadePageModule)}]},{path:"settings",loadChildren:()=>a.e(767).then(a.bind(a,767)).then(o=>o.SettingsPageModule)}];let M=(()=>{var o;class s{}return(o=s).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[d.iI.forChild(B),d.iI]}),s})(),j=(()=>{var o;class s{}return(o=s).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[b.MD,u.YN,l.bv,M]}),s})()}}]);