(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(xr,or,_e)=>{"use strict";_e.d(or,{E_:()=>u,F3:()=>i,I9:()=>b});var M=_e(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(A){return A.Unimplemented="UNIMPLEMENTED",A.Unavailable="UNAVAILABLE",A}(v||{});class b extends Error{constructor(R,O,Z){super(R),this.message=R,this.code=O,this.data=Z}}const g=A=>{var R,O,Z,re,q;const te=A.CapacitorCustomPlatform||null,X=A.Capacitor||{},G=X.Plugins=X.Plugins||{},Y=A.CapacitorPlatforms,Ie=(null===(R=null==Y?void 0:Y.currentPlatform)||void 0===R?void 0:R.getPlatform)||(()=>null!==te?te.name:(A=>{var R,O;return null!=A&&A.androidBridge?"android":null!==(O=null===(R=null==A?void 0:A.webkit)||void 0===R?void 0:R.messageHandlers)&&void 0!==O&&O.bridge?"ios":"web"})(A)),j=(null===(O=null==Y?void 0:Y.currentPlatform)||void 0===O?void 0:O.isNativePlatform)||(()=>"web"!==Ie()),me=(null===(Z=null==Y?void 0:Y.currentPlatform)||void 0===Z?void 0:Z.isPluginAvailable)||(Ue=>{const nt=He.get(Ue);return!!(null!=nt&&nt.platforms.has(Ie())||$e(Ue))}),$e=(null===(re=null==Y?void 0:Y.currentPlatform)||void 0===re?void 0:re.getPluginHeader)||(Ue=>{var nt;return null===(nt=X.PluginHeaders)||void 0===nt?void 0:nt.find(Ye=>Ye.name===Ue)}),He=new Map,at=(null===(q=null==Y?void 0:Y.currentPlatform)||void 0===q?void 0:q.registerPlugin)||((Ue,nt={})=>{const Ye=He.get(Ue);if(Ye)return console.warn(`Capacitor plugin "${Ue}" already registered. Cannot register plugins twice.`),Ye.proxy;const st=Ie(),Ze=$e(Ue);let ft;const Ot=function(){var pr=(0,M.A)(function*(){return!ft&&st in nt?ft=ft="function"==typeof nt[st]?yield nt[st]():nt[st]:null!==te&&!ft&&"web"in nt&&(ft=ft="function"==typeof nt.web?yield nt.web():nt.web),ft});return function(){return pr.apply(this,arguments)}}(),Vt=pr=>{let Ct;const lr=(...Gt)=>{const Ve=Ot().then(We=>{const Oe=((pr,Ct)=>{var lr,Gt;if(!Ze){if(pr)return null===(Gt=pr[Ct])||void 0===Gt?void 0:Gt.bind(pr);throw new b(`"${Ue}" plugin is not implemented on ${st}`,v.Unimplemented)}{const Ve=null==Ze?void 0:Ze.methods.find(We=>Ct===We.name);if(Ve)return"promise"===Ve.rtype?We=>X.nativePromise(Ue,Ct.toString(),We):(We,Oe)=>X.nativeCallback(Ue,Ct.toString(),We,Oe);if(pr)return null===(lr=pr[Ct])||void 0===lr?void 0:lr.bind(pr)}})(We,pr);if(Oe){const Je=Oe(...Gt);return Ct=null==Je?void 0:Je.remove,Je}throw new b(`"${Ue}.${pr}()" is not implemented on ${st}`,v.Unimplemented)});return"addListener"===pr&&(Ve.remove=(0,M.A)(function*(){return Ct()})),Ve};return lr.toString=()=>`${pr.toString()}() { [capacitor code] }`,Object.defineProperty(lr,"name",{value:pr,writable:!1,configurable:!1}),lr},tr=Vt("addListener"),zt=Vt("removeListener"),br=(pr,Ct)=>{const lr=tr({eventName:pr},Ct),Gt=function(){var We=(0,M.A)(function*(){const Oe=yield lr;zt({eventName:pr,callbackId:Oe},Ct)});return function(){return We.apply(this,arguments)}}(),Ve=new Promise(We=>lr.then(()=>We({remove:Gt})));return Ve.remove=(0,M.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Gt()}),Ve},Zt=new Proxy({},{get(pr,Ct){switch(Ct){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Ze?br:tr;case"removeListener":return zt;default:return Vt(Ct)}}});return G[Ue]=Zt,He.set(Ue,{name:Ue,proxy:Zt,platforms:new Set([...Object.keys(nt),...Ze?[st]:[]])}),Zt});return X.convertFileSrc||(X.convertFileSrc=Ue=>Ue),X.getPlatform=Ie,X.handleError=Ue=>A.console.error(Ue),X.isNativePlatform=j,X.isPluginAvailable=me,X.pluginMethodNoop=(Ue,nt,Ye)=>Promise.reject(`${Ye} does not have an implementation of "${nt}".`),X.registerPlugin=at,X.Exception=b,X.DEBUG=!!X.DEBUG,X.isLoggingEnabled=!!X.isLoggingEnabled,X.platform=X.getPlatform(),X.isNative=X.isNativePlatform(),X},_=(A=>A.Capacitor=g(A))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i=_.registerPlugin;class u{constructor(R){this.listeners={},this.retainedEventArguments={},this.windowListeners={},R&&(console.warn(`Capacitor WebPlugin "${R.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=R)}addListener(R,O){var Z=this;let re=!1;this.listeners[R]||(this.listeners[R]=[],re=!0),this.listeners[R].push(O);const te=this.windowListeners[R];te&&!te.registered&&this.addWindowListener(te),re&&this.sendRetainedArgumentsForEvent(R);const X=function(){var Y=(0,M.A)(function*(){return Z.removeListener(R,O)});return function(){return Y.apply(this,arguments)}}();return Promise.resolve({remove:X})}removeAllListeners(){var R=this;return(0,M.A)(function*(){R.listeners={};for(const O in R.windowListeners)R.removeWindowListener(R.windowListeners[O]);R.windowListeners={}})()}notifyListeners(R,O,Z){const re=this.listeners[R];if(re)re.forEach(q=>q(O));else if(Z){let q=this.retainedEventArguments[R];q||(q=[]),q.push(O),this.retainedEventArguments[R]=q}}hasListeners(R){return!!this.listeners[R].length}registerWindowListener(R,O){this.windowListeners[O]={registered:!1,windowEventName:R,pluginEventName:O,handler:Z=>{this.notifyListeners(O,Z)}}}unimplemented(R="not implemented"){return new _.Exception(R,v.Unimplemented)}unavailable(R="not available"){return new _.Exception(R,v.Unavailable)}removeListener(R,O){var Z=this;return(0,M.A)(function*(){const re=Z.listeners[R];if(!re)return;const q=re.indexOf(O);Z.listeners[R].splice(q,1),Z.listeners[R].length||Z.removeWindowListener(Z.windowListeners[R])})()}addWindowListener(R){window.addEventListener(R.windowEventName,R.handler),R.registered=!0}removeWindowListener(R){R&&(window.removeEventListener(R.windowEventName,R.handler),R.registered=!1)}sendRetainedArgumentsForEvent(R){const O=this.retainedEventArguments[R];O&&(delete this.retainedEventArguments[R],O.forEach(Z=>{this.notifyListeners(R,Z)}))}}const h=A=>encodeURIComponent(A).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=A=>A.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends u{getCookies(){return(0,M.A)(function*(){const R=document.cookie,O={};return R.split(";").forEach(Z=>{if(Z.length<=0)return;let[re,q]=Z.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");re=m(re).trim(),q=m(q).trim(),O[re]=q}),O})()}setCookie(R){return(0,M.A)(function*(){try{const O=h(R.key),Z=h(R.value),re=`; expires=${(R.expires||"").replace("expires=","")}`,q=(R.path||"/").replace("path=",""),te=null!=R.url&&R.url.length>0?`domain=${R.url}`:"";document.cookie=`${O}=${Z||""}${re}; path=${q}; ${te};`}catch(O){return Promise.reject(O)}})()}deleteCookie(R){return(0,M.A)(function*(){try{document.cookie=`${R.key}=; Max-Age=0`}catch(O){return Promise.reject(O)}})()}clearCookies(){return(0,M.A)(function*(){try{const R=document.cookie.split(";")||[];for(const O of R)document.cookie=O.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(R){return Promise.reject(R)}})()}clearAllCookies(){var R=this;return(0,M.A)(function*(){try{yield R.clearCookies()}catch(O){return Promise.reject(O)}})()}}i("CapacitorCookies",{web:()=>new p});const D=function(){var A=(0,M.A)(function*(R){return new Promise((O,Z)=>{const re=new FileReader;re.onload=()=>{const q=re.result;O(q.indexOf(",")>=0?q.split(",")[1]:q)},re.onerror=q=>Z(q),re.readAsDataURL(R)})});return function(O){return A.apply(this,arguments)}}();class x extends u{request(R){return(0,M.A)(function*(){const O=((A,R={})=>{const O=Object.assign({method:A.method||"GET",headers:A.headers},R),re=((A={})=>{const R=Object.keys(A);return Object.keys(A).map(re=>re.toLocaleLowerCase()).reduce((re,q,te)=>(re[q]=A[R[te]],re),{})})(A.headers)["content-type"]||"";if("string"==typeof A.data)O.body=A.data;else if(re.includes("application/x-www-form-urlencoded")){const q=new URLSearchParams;for(const[te,X]of Object.entries(A.data||{}))q.set(te,X);O.body=q.toString()}else if(re.includes("multipart/form-data")||A.data instanceof FormData){const q=new FormData;if(A.data instanceof FormData)A.data.forEach((X,G)=>{q.append(G,X)});else for(const X of Object.keys(A.data))q.append(X,A.data[X]);O.body=q;const te=new Headers(O.headers);te.delete("content-type"),O.headers=te}else(re.includes("application/json")||"object"==typeof A.data)&&(O.body=JSON.stringify(A.data));return O})(R,R.webFetchExtra),Z=((A,R=!0)=>A?Object.entries(A).reduce((Z,re)=>{const[q,te]=re;let X,G;return Array.isArray(te)?(G="",te.forEach(Y=>{X=R?encodeURIComponent(Y):Y,G+=`${q}=${X}&`}),G.slice(0,-1)):(X=R?encodeURIComponent(te):te,G=`${q}=${X}`),`${Z}&${G}`},"").substr(1):null)(R.params,R.shouldEncodeUrlParams),re=Z?`${R.url}?${Z}`:R.url,q=yield fetch(re,O),te=q.headers.get("content-type")||"";let G,Y,{responseType:X="text"}=q.ok?R:{};switch(te.includes("application/json")&&(X="json"),X){case"arraybuffer":case"blob":Y=yield q.blob(),G=yield D(Y);break;case"json":G=yield q.json();break;default:G=yield q.text()}const le={};return q.headers.forEach((Ie,J)=>{le[J]=Ie}),{data:G,headers:le,status:q.status,url:q.url}})()}get(R){var O=this;return(0,M.A)(function*(){return O.request(Object.assign(Object.assign({},R),{method:"GET"}))})()}post(R){var O=this;return(0,M.A)(function*(){return O.request(Object.assign(Object.assign({},R),{method:"POST"}))})()}put(R){var O=this;return(0,M.A)(function*(){return O.request(Object.assign(Object.assign({},R),{method:"PUT"}))})()}patch(R){var O=this;return(0,M.A)(function*(){return O.request(Object.assign(Object.assign({},R),{method:"PATCH"}))})()}delete(R){var O=this;return(0,M.A)(function*(){return O.request(Object.assign(Object.assign({},R),{method:"DELETE"}))})()}}i("CapacitorHttp",{web:()=>new x})},4442:(xr,or,_e)=>{"use strict";_e.d(or,{L:()=>o,a:()=>se,b:()=>$,c:()=>v,d:()=>b,g:()=>q}),_e(5531);const o="ionViewWillEnter",se="ionViewDidEnter",$="ionViewWillLeave",v="ionViewDidLeave",b="ionViewWillUnload",q=te=>te.classList.contains("ion-page")?te:te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||te},5531:(xr,or,_e)=>{"use strict";_e.d(or,{a:()=>f,c:()=>T,g:()=>b});class M{constructor(){this.m=new Map}reset(te){this.m=new Map(Object.entries(te))}get(te,X){const G=this.m.get(te);return void 0!==G?G:X}getBoolean(te,X=!1){const G=this.m.get(te);return void 0===G?X:"string"==typeof G?"true"===G:!!G}getNumber(te,X){const G=parseFloat(this.m.get(te));return isNaN(G)?void 0!==X?X:NaN:G}set(te,X){this.m.set(te,X)}}const T=new M,b=q=>g(q),f=(q,te)=>("string"==typeof q&&(te=q,q=void 0),b(q).includes(te)),g=(q=window)=>{if(typeof q>"u")return[];q.Ionic=q.Ionic||{};let te=q.Ionic.platforms;return null==te&&(te=q.Ionic.platforms=S(q),te.forEach(X=>q.document.documentElement.classList.add(`plt-${X}`))),te},S=q=>{const te=T.get("platform");return Object.keys(R).filter(X=>{const G=null==te?void 0:te[X];return"function"==typeof G?G(q):R[X](q)})},i=q=>!!(U(q,/iPad/i)||U(q,/Macintosh/i)&&p(q)),u=q=>U(q,/android|sink/i),p=q=>A(q,"(any-pointer:coarse)"),D=q=>V(q)||L(q),V=q=>!!(q.cordova||q.phonegap||q.PhoneGap),L=q=>{const te=q.Capacitor;return!(null==te||!te.isNative)},U=(q,te)=>te.test(q.navigator.userAgent),A=(q,te)=>{var X;return null===(X=q.matchMedia)||void 0===X?void 0:X.call(q,te).matches},R={ipad:i,iphone:q=>U(q,/iPhone/i),ios:q=>U(q,/iPhone|iPod/i)||i(q),android:u,phablet:q=>{const te=q.innerWidth,X=q.innerHeight,G=Math.min(te,X),Y=Math.max(te,X);return G>390&&G<520&&Y>620&&Y<800},tablet:q=>{const te=q.innerWidth,X=q.innerHeight,G=Math.min(te,X),Y=Math.max(te,X);return i(q)||(q=>u(q)&&!U(q,/mobile/i))(q)||G>460&&G<820&&Y>780&&Y<1400},cordova:V,capacitor:L,electron:q=>U(q,/electron/i),pwa:q=>{var te;return!!(null!==(te=q.matchMedia)&&void 0!==te&&te.call(q,"(display-mode: standalone)").matches||q.navigator.standalone)},mobile:p,mobileweb:q=>p(q)&&!D(q),desktop:q=>!p(q),hybrid:D}},9986:(xr,or,_e)=>{"use strict";_e.d(or,{c:()=>se});var M=_e(8476);let T;const Et=($,v,b)=>{const f=v.startsWith("animation")?($=>(void 0===T&&(T=void 0===$.style.animationName&&void 0!==$.style.webkitAnimationName?"-webkit-":""),T))($):"";$.style.setProperty(f+v,b)},o=($=[],v)=>{if(void 0!==v){const b=Array.isArray(v)?v:[v];return[...$,...b]}return $},se=$=>{let v,b,f,g,S,_,d,P,x,U,Z,i=[],a=[],l=[],u=!1,h={},m=[],p=[],y={},D=0,V=!1,L=!1,A=!0,R=!1,O=!0,re=!1;const q=$,te=[],X=[],G=[],Y=[],le=[],Ie=[],J=[],j=[],ne=[],me=[],De=[],$e="function"==typeof AnimationEffect||void 0!==M.w&&"function"==typeof M.w.AnimationEffect,qe="function"==typeof Element&&"function"==typeof Element.prototype.animate&&$e,ut=()=>De,nt=(Re,Xe)=>{const mt=Xe.findIndex(ze=>ze.c===Re);mt>-1&&Xe.splice(mt,1)},st=(Re,Xe)=>((null!=Xe&&Xe.oneTimeCallback?X:te).push({c:Re,o:Xe}),Z),ft=()=>{qe&&(De.forEach(Re=>{Re.cancel()}),De.length=0)},Ot=()=>{Ie.forEach(Re=>{null!=Re&&Re.parentNode&&Re.parentNode.removeChild(Re)}),Ie.length=0},Oe=()=>void 0!==S?S:d?d.getFill():"both",Je=()=>void 0!==P?P:void 0!==_?_:d?d.getDirection():"normal",It=()=>V?"linear":void 0!==f?f:d?d.getEasing():"linear",At=()=>L?0:void 0!==x?x:void 0!==b?b:d?d.getDuration():0,Ht=()=>void 0!==g?g:d?d.getIterations():1,yt=()=>void 0!==U?U:void 0!==v?v:d?d.getDelay():0,vr=()=>{0!==D&&(D--,0===D&&((()=>{ne.forEach(ht=>ht()),me.forEach(ht=>ht());const Re=A?1:0,Xe=m,mt=p,ze=y;Y.forEach(ht=>{const Bt=ht.classList;Xe.forEach(cr=>Bt.add(cr)),mt.forEach(cr=>Bt.remove(cr));for(const cr in ze)ze.hasOwnProperty(cr)&&Et(ht,cr,ze[cr])}),x=void 0,P=void 0,U=void 0,te.forEach(ht=>ht.c(Re,Z)),X.forEach(ht=>ht.c(Re,Z)),X.length=0,O=!0,A&&(R=!0),A=!0})(),d&&d.animationFinish()))},Mr=()=>{(()=>{J.forEach(ze=>ze()),j.forEach(ze=>ze());const Re=a,Xe=l,mt=h;Y.forEach(ze=>{const ht=ze.classList;Re.forEach(Bt=>ht.add(Bt)),Xe.forEach(Bt=>ht.remove(Bt));for(const Bt in mt)mt.hasOwnProperty(Bt)&&Et(ze,Bt,mt[Bt])})})(),i.length>0&&qe&&(Y.forEach(Re=>{const Xe=Re.animate(i,{id:q,delay:yt(),duration:At(),easing:It(),iterations:Ht(),fill:Oe(),direction:Je()});Xe.pause(),De.push(Xe)}),De.length>0&&(De[0].onfinish=()=>{vr()})),u=!0},W=Re=>{Re=Math.min(Math.max(Re,0),.9999),qe&&De.forEach(Xe=>{Xe.currentTime=Xe.effect.getComputedTiming().delay+At()*Re,Xe.pause()})},fe=Re=>{De.forEach(Xe=>{Xe.effect.updateTiming({delay:yt(),duration:At(),easing:It(),iterations:Ht(),fill:Oe(),direction:Je()})}),void 0!==Re&&W(Re)},Te=(Re=!1,Xe=!0,mt)=>(Re&&le.forEach(ze=>{ze.update(Re,Xe,mt)}),qe&&fe(mt),Z),F=()=>{u&&(qe?De.forEach(Re=>{Re.pause()}):Y.forEach(Re=>{Et(Re,"animation-play-state","paused")}),re=!0)},ke=Re=>new Promise(Xe=>{null!=Re&&Re.sync&&(L=!0,st(()=>L=!1,{oneTimeCallback:!0})),u||Mr(),R&&(qe&&(W(0),fe()),R=!1),O&&(D=le.length+1,O=!1);const mt=()=>{nt(ze,X),Xe()},ze=()=>{nt(mt,G),Xe()};st(ze,{oneTimeCallback:!0}),((Re,Xe)=>{G.push({c:Re,o:{oneTimeCallback:!0}})})(mt),le.forEach(ht=>{ht.play()}),qe?(De.forEach(Re=>{Re.play()}),(0===i.length||0===Y.length)&&vr()):vr(),re=!1}),$t=(Re,Xe)=>{const mt=i[0];return void 0===mt||void 0!==mt.offset&&0!==mt.offset?i=[{offset:0,[Re]:Xe},...i]:mt[Re]=Xe,Z};return Z={parentAnimation:d,elements:Y,childAnimations:le,id:q,animationFinish:vr,from:$t,to:(Re,Xe)=>{const mt=i[i.length-1];return void 0===mt||void 0!==mt.offset&&1!==mt.offset?i=[...i,{offset:1,[Re]:Xe}]:mt[Re]=Xe,Z},fromTo:(Re,Xe,mt)=>$t(Re,Xe).to(Re,mt),parent:Re=>(d=Re,Z),play:ke,pause:()=>(le.forEach(Re=>{Re.pause()}),F(),Z),stop:()=>{le.forEach(Re=>{Re.stop()}),u&&(ft(),u=!1),V=!1,L=!1,O=!0,P=void 0,x=void 0,U=void 0,D=0,R=!1,A=!0,re=!1,G.forEach(Re=>Re.c(0,Z)),G.length=0},destroy:Re=>(le.forEach(Xe=>{Xe.destroy(Re)}),(Re=>{ft(),Re&&Ot()})(Re),Y.length=0,le.length=0,i.length=0,te.length=0,X.length=0,u=!1,O=!0,Z),keyframes:Re=>{const Xe=i!==Re;return i=Re,Xe&&(Re=>{qe&&ut().forEach(Xe=>{const mt=Xe.effect;if(mt.setKeyframes)mt.setKeyframes(Re);else{const ze=new KeyframeEffect(mt.target,Re,mt.getTiming());Xe.effect=ze}})})(i),Z},addAnimation:Re=>{if(null!=Re)if(Array.isArray(Re))for(const Xe of Re)Xe.parent(Z),le.push(Xe);else Re.parent(Z),le.push(Re);return Z},addElement:Re=>{if(null!=Re)if(1===Re.nodeType)Y.push(Re);else if(Re.length>=0)for(let Xe=0;Xe<Re.length;Xe++)Y.push(Re[Xe]);else console.error("Invalid addElement value");return Z},update:Te,fill:Re=>(S=Re,Te(!0),Z),direction:Re=>(_=Re,Te(!0),Z),iterations:Re=>(g=Re,Te(!0),Z),duration:Re=>(!qe&&0===Re&&(Re=1),b=Re,Te(!0),Z),easing:Re=>(f=Re,Te(!0),Z),delay:Re=>(v=Re,Te(!0),Z),getWebAnimations:ut,getKeyframes:()=>i,getFill:Oe,getDirection:Je,getDelay:yt,getIterations:Ht,getEasing:It,getDuration:At,afterAddRead:Re=>(ne.push(Re),Z),afterAddWrite:Re=>(me.push(Re),Z),afterClearStyles:(Re=[])=>{for(const Xe of Re)y[Xe]="";return Z},afterStyles:(Re={})=>(y=Re,Z),afterRemoveClass:Re=>(p=o(p,Re),Z),afterAddClass:Re=>(m=o(m,Re),Z),beforeAddRead:Re=>(J.push(Re),Z),beforeAddWrite:Re=>(j.push(Re),Z),beforeClearStyles:(Re=[])=>{for(const Xe of Re)h[Xe]="";return Z},beforeStyles:(Re={})=>(h=Re,Z),beforeRemoveClass:Re=>(l=o(l,Re),Z),beforeAddClass:Re=>(a=o(a,Re),Z),onFinish:st,isRunning:()=>0!==D&&!re,progressStart:(Re=!1,Xe)=>(le.forEach(mt=>{mt.progressStart(Re,Xe)}),F(),V=Re,u||Mr(),Te(!1,!0,Xe),Z),progressStep:Re=>(le.forEach(Xe=>{Xe.progressStep(Re)}),W(Re),Z),progressEnd:(Re,Xe,mt)=>(V=!1,le.forEach(ze=>{ze.progressEnd(Re,Xe,mt)}),void 0!==mt&&(x=mt),R=!1,A=!0,0===Re?(P="reverse"===Je()?"normal":"reverse","reverse"===P&&(A=!1),qe?(Te(),W(1-Xe)):(U=(1-Xe)*At()*-1,Te(!1,!1))):1===Re&&(qe?(Te(),W(Xe)):(U=Xe*At()*-1,Te(!1,!1))),void 0!==Re&&!d&&ke(),Z)}}},464:(xr,or,_e)=>{"use strict";_e.d(or,{E:()=>f,I:()=>$,a:()=>M,s:()=>v});const M=g=>{try{if(g instanceof $)return g.value;if(!Et()||"string"!=typeof g||""===g)return g;if(g.includes("onload="))return"";const S=document.createDocumentFragment(),_=document.createElement("div");S.appendChild(_),_.innerHTML=g,se.forEach(u=>{const d=S.querySelectorAll(u);for(let h=d.length-1;h>=0;h--){const m=d[h];m.parentNode?m.parentNode.removeChild(m):S.removeChild(m);const p=et(m);for(let y=0;y<p.length;y++)T(p[y])}});const i=et(S);for(let u=0;u<i.length;u++)T(i[u]);const a=document.createElement("div");a.appendChild(S);const l=a.querySelector("div");return null!==l?l.innerHTML:a.innerHTML}catch(S){return console.error(S),""}},T=g=>{if(g.nodeType&&1!==g.nodeType)return;if(typeof NamedNodeMap<"u"&&!(g.attributes instanceof NamedNodeMap))return void g.remove();for(let _=g.attributes.length-1;_>=0;_--){const i=g.attributes.item(_),a=i.name;if(!o.includes(a.toLowerCase())){g.removeAttribute(a);continue}const l=i.value,u=g[a];(null!=l&&l.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&g.removeAttribute(a)}const S=et(g);for(let _=0;_<S.length;_++)T(S[_])},et=g=>null!=g.children?g.children:g.childNodes,Et=()=>{var g;const S=window,_=null===(g=null==S?void 0:S.Ionic)||void 0===g?void 0:g.config;return!_||(_.get?_.get("sanitizerEnabled",!0):!0===_.sanitizerEnabled||void 0===_.sanitizerEnabled)},o=["class","id","href","src","name","slot"],se=["script","style","iframe","meta","link","object","embed"];class ${constructor(S){this.value=S}}const v=g=>{const S=window,_=S.Ionic;if(!_||!_.config||"Object"===_.config.constructor.name)return S.Ionic=S.Ionic||{},S.Ionic.config=Object.assign(Object.assign({},S.Ionic.config),g),S.Ionic.config},f=!1},3351:(xr,or,_e)=>{"use strict";_e.d(or,{g:()=>M});const M=(se,$,v,b,f)=>et(se[1],$[1],v[1],b[1],f).map(g=>T(se[0],$[0],v[0],b[0],g)),T=(se,$,v,b,f)=>f*(3*$*Math.pow(f-1,2)+f*(-3*v*f+3*v+b*f))-se*Math.pow(f-1,3),et=(se,$,v,b,f)=>o((b-=f)-3*(v-=f)+3*($-=f)-(se-=f),3*v-6*$+3*se,3*$-3*se,se).filter(S=>S>=0&&S<=1),o=(se,$,v,b)=>{if(0===se)return((se,$,v)=>{const b=$*$-4*se*v;return b<0?[]:[(-$+Math.sqrt(b))/(2*se),(-$-Math.sqrt(b))/(2*se)]})($,v,b);const f=(3*(v/=se)-($/=se)*$)/3,g=(2*$*$*$-9*$*v+27*(b/=se))/27;if(0===f)return[Math.pow(-g,1/3)];if(0===g)return[Math.sqrt(-f),-Math.sqrt(-f)];const S=Math.pow(g/2,2)+Math.pow(f/3,3);if(0===S)return[Math.pow(g/2,.5)-$/3];if(S>0)return[Math.pow(-g/2+Math.sqrt(S),1/3)-Math.pow(g/2+Math.sqrt(S),1/3)-$/3];const _=Math.sqrt(Math.pow(-f/3,3)),i=Math.acos(-g/(2*Math.sqrt(Math.pow(-f/3,3)))),a=2*Math.pow(_,1/3);return[a*Math.cos(i/3)-$/3,a*Math.cos((i+2*Math.PI)/3)-$/3,a*Math.cos((i+4*Math.PI)/3)-$/3]}},8621:(xr,or,_e)=>{"use strict";_e.d(or,{C:()=>o,a:()=>et,d:()=>Et});var M=_e(467),T=_e(4920);const et=function(){var se=(0,M.A)(function*($,v,b,f,g,S){var _;if($)return $.attachViewToDom(v,b,g,f);if(!(S||"string"==typeof b||b instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof b?null===(_=v.ownerDocument)||void 0===_?void 0:_.createElement(b):b;return f&&f.forEach(a=>i.classList.add(a)),g&&Object.assign(i,g),v.appendChild(i),yield new Promise(a=>(0,T.c)(i,a)),i});return function(v,b,f,g,S,_){return se.apply(this,arguments)}}(),Et=(se,$)=>{if($){if(se)return se.removeViewFromDom($.parentElement,$);$.remove()}return Promise.resolve()},o=()=>{let se,$;return{attachViewToDom:function(){var f=(0,M.A)(function*(g,S,_={},i=[]){var a,l;let u;if(se=g,S){const h="string"==typeof S?null===(a=se.ownerDocument)||void 0===a?void 0:a.createElement(S):S;i.forEach(m=>h.classList.add(m)),Object.assign(h,_),se.appendChild(h),u=h,yield new Promise(m=>(0,T.c)(h,m))}else if(se.children.length>0&&("ION-MODAL"===se.tagName||"ION-POPOVER"===se.tagName)&&!(u=se.children[0]).classList.contains("ion-delegate-host")){const m=null===(l=se.ownerDocument)||void 0===l?void 0:l.createElement("div");m.classList.add("ion-delegate-host"),i.forEach(p=>m.classList.add(p)),m.append(...se.children),se.appendChild(m),u=m}const d=document.querySelector("ion-app")||document.body;return $=document.createComment("ionic teleport"),se.parentNode.insertBefore($,se),d.appendChild(se),null!=u?u:se});return function(S,_){return f.apply(this,arguments)}}(),removeViewFromDom:()=>(se&&$&&($.parentNode.insertBefore(se,$),$.remove()),Promise.resolve())}}},1970:(xr,or,_e)=>{"use strict";_e.d(or,{B:()=>Et,G:()=>o});class T{constructor($,v,b,f,g){this.id=v,this.name=b,this.disableScroll=g,this.priority=1e6*f+v,this.ctrl=$}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const $=this.ctrl.capture(this.name,this.id,this.priority);return $&&this.disableScroll&&this.ctrl.disableScroll(this.id),$}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class et{constructor($,v,b,f){this.id=v,this.disable=b,this.disableScroll=f,this.ctrl=$}block(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.disableGesture($,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.enableGesture($,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Et="backdrop-no-scroll",o=new class M{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture($){var v;return new T(this,this.newID(),$.name,null!==(v=$.priority)&&void 0!==v?v:0,!!$.disableScroll)}createBlocker($={}){return new et(this,this.newID(),$.disable,!!$.disableScroll)}start($,v,b){return this.canStart($)?(this.requestedStart.set(v,b),!0):(this.requestedStart.delete(v),!1)}capture($,v,b){if(!this.start($,v,b))return!1;const f=this.requestedStart;let g=-1e4;if(f.forEach(S=>{g=Math.max(g,S)}),g===b){this.capturedId=v,f.clear();const S=new CustomEvent("ionGestureCaptured",{detail:{gestureName:$}});return document.dispatchEvent(S),!0}return f.delete(v),!1}release($){this.requestedStart.delete($),this.capturedId===$&&(this.capturedId=void 0)}disableGesture($,v){let b=this.disabledGestures.get($);void 0===b&&(b=new Set,this.disabledGestures.set($,b)),b.add(v)}enableGesture($,v){const b=this.disabledGestures.get($);void 0!==b&&b.delete(v)}disableScroll($){this.disabledScroll.add($),1===this.disabledScroll.size&&document.body.classList.add(Et)}enableScroll($){this.disabledScroll.delete($),0===this.disabledScroll.size&&document.body.classList.remove(Et)}canStart($){return!(void 0!==this.capturedId||this.isDisabled($))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled($){const v=this.disabledGestures.get($);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(xr,or,_e)=>{"use strict";_e.r(or),_e.d(or,{MENU_BACK_BUTTON_PRIORITY:()=>b,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>se,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>$});var M=_e(467),T=_e(8476),et=_e(4921);_e(8393);const o=()=>et.c.get("experimentalCloseWatcher",!1)&&void 0!==T.w&&"CloseWatcher"in T.w,se=()=>{document.addEventListener("backbutton",()=>{})},$=()=>{const f=document;let g=!1;const S=()=>{if(g)return;let _=0,i=[];const a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(d,h){i.push({priority:d,handler:h,id:_++})}}});f.dispatchEvent(a);const l=function(){var d=(0,M.A)(function*(h){try{if(null!=h&&h.handler){const m=h.handler(u);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return d.apply(this,arguments)}}(),u=()=>{if(i.length>0){let d={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(h=>{h.priority>=d.priority&&(d=h)}),g=!0,i=i.filter(h=>h.id!==d.id),l(d).then(()=>g=!1)}};u()};if(o()){let _;const i=()=>{null==_||_.destroy(),_=new T.w.CloseWatcher,_.onclose=()=>{S(),i()}};i()}else f.addEventListener("backbutton",S)},v=100,b=99},4920:(xr,or,_e)=>{"use strict";_e.d(or,{a:()=>v,b:()=>b,c:()=>et,d:()=>i,e:()=>h,f:()=>_,g:()=>f,h:()=>o,i:()=>$,j:()=>a,k:()=>Et,l:()=>S,m:()=>l,n:()=>d,o:()=>m,p:()=>u,r:()=>g,s:()=>p,t:()=>M});const M=(y,D=0)=>new Promise(V=>{T(y,D,V)}),T=(y,D=0,V)=>{let L,P;const x={passive:!0},A=()=>{L&&L()},R=O=>{(void 0===O||y===O.target)&&(A(),V(O))};return y&&(y.addEventListener("webkitTransitionEnd",R,x),y.addEventListener("transitionend",R,x),P=setTimeout(R,D+500),L=()=>{void 0!==P&&(clearTimeout(P),P=void 0),y.removeEventListener("webkitTransitionEnd",R,x),y.removeEventListener("transitionend",R,x)}),A},et=(y,D)=>{y.componentOnReady?y.componentOnReady().then(V=>D(V)):g(()=>D(y))},Et=y=>void 0!==y.componentOnReady,o=(y,D=[])=>{const V={};return D.forEach(L=>{y.hasAttribute(L)&&(null!==y.getAttribute(L)&&(V[L]=y.getAttribute(L)),y.removeAttribute(L))}),V},se=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],$=(y,D)=>{let V=se;return D&&D.length>0&&(V=V.filter(L=>!D.includes(L))),o(y,V)},v=(y,D,V,L)=>{var P;if(typeof window<"u"){const x=window,U=null===(P=null==x?void 0:x.Ionic)||void 0===P?void 0:P.config;if(U){const A=U.get("_ael");if(A)return A(y,D,V,L);if(U._ael)return U._ael(y,D,V,L)}}return y.addEventListener(D,V,L)},b=(y,D,V,L)=>{var P;if(typeof window<"u"){const x=window,U=null===(P=null==x?void 0:x.Ionic)||void 0===P?void 0:P.config;if(U){const A=U.get("_rel");if(A)return A(y,D,V,L);if(U._rel)return U._rel(y,D,V,L)}}return y.removeEventListener(D,V,L)},f=(y,D=y)=>y.shadowRoot||D,g=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y),S=y=>!!y.shadowRoot&&!!y.attachShadow,_=y=>{if(y.focus(),y.classList.contains("ion-focusable")){const D=y.closest("ion-app");D&&D.setFocus([y])}},i=(y,D,V,L,P)=>{if(y||S(D)){let x=D.querySelector("input.aux-input");x||(x=D.ownerDocument.createElement("input"),x.type="hidden",x.classList.add("aux-input"),D.appendChild(x)),x.disabled=P,x.name=V,x.value=L||""}},a=(y,D,V)=>Math.max(y,Math.min(D,V)),l=(y,D)=>{if(!y){const V="ASSERT: "+D;throw console.error(V),new Error(V)}},u=y=>{if(y){const D=y.changedTouches;if(D&&D.length>0){const V=D[0];return{x:V.clientX,y:V.clientY}}if(void 0!==y.pageX)return{x:y.pageX,y:y.pageY}}return{x:0,y:0}},d=y=>{const D="rtl"===document.dir;switch(y){case"start":return D;case"end":return!D;default:throw new Error(`"${y}" is not a valid value for [side]. Use "start" or "end" instead.`)}},h=(y,D)=>{const V=y._original||y;return{_original:y,emit:m(V.emit.bind(V),D)}},m=(y,D=0)=>{let V;return(...L)=>{clearTimeout(V),V=setTimeout(y,D,...L)}},p=(y,D)=>{if(null!=y||(y={}),null!=D||(D={}),y===D)return!0;const V=Object.keys(y);if(V.length!==Object.keys(D).length)return!1;for(const L of V)if(!(L in D)||y[L]!==D[L])return!1;return!0}},8607:(xr,or,_e)=>{"use strict";_e.r(or),_e.d(or,{GESTURE_CONTROLLER:()=>M.G,createGesture:()=>b});var M=_e(1970);const T=(_,i,a,l)=>{const u=et(_)?{capture:!!l.capture,passive:!!l.passive}:!!l.capture;let d,h;return _.__zone_symbol__addEventListener?(d="__zone_symbol__addEventListener",h="__zone_symbol__removeEventListener"):(d="addEventListener",h="removeEventListener"),_[d](i,a,u),()=>{_[h](i,a,u)}},et=_=>{if(void 0===Et)try{const i=Object.defineProperty({},"passive",{get:()=>{Et=!0}});_.addEventListener("optsTest",()=>{},i)}catch{Et=!1}return!!Et};let Et;const $=_=>_ instanceof Document?_:_.ownerDocument,b=_=>{let i=!1,a=!1,l=!0,u=!1;const d=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},_),h=d.canStart,m=d.onWillStart,p=d.onStart,y=d.onEnd,D=d.notCaptured,V=d.onMove,L=d.threshold,P=d.passive,x=d.blurOnStart,U={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},A=((_,i,a)=>{const l=a*(Math.PI/180),u="x"===_,d=Math.cos(l),h=i*i;let m=0,p=0,y=!1,D=0;return{start(V,L){m=V,p=L,D=0,y=!0},detect(V,L){if(!y)return!1;const P=V-m,x=L-p,U=P*P+x*x;if(U<h)return!1;const A=Math.sqrt(U),R=(u?P:x)/A;return D=R>d?1:R<-d?-1:0,y=!1,!0},isGesture:()=>0!==D,getDirection:()=>D}})(d.direction,d.threshold,d.maxAngle),R=M.G.createGesture({name:_.gestureName,priority:_.gesturePriority,disableScroll:_.disableScroll}),re=()=>{i&&(u=!1,V&&V(U))},q=()=>!!R.capture()&&(i=!0,l=!1,U.startX=U.currentX,U.startY=U.currentY,U.startTime=U.currentTime,m?m(U).then(X):X(),!0),X=()=>{x&&(()=>{if(typeof document<"u"){const J=document.activeElement;null!=J&&J.blur&&J.blur()}})(),p&&p(U),l=!0},G=()=>{i=!1,a=!1,u=!1,l=!0,R.release()},Y=J=>{const j=i,ne=l;if(G(),ne){if(f(U,J),j)return void(y&&y(U));D&&D(U)}},le=((_,i,a,l,u)=>{let d,h,m,p,y,D,V,L=0;const P=te=>{L=Date.now()+2e3,i(te)&&(!h&&a&&(h=T(_,"touchmove",a,u)),m||(m=T(te.target,"touchend",U,u)),p||(p=T(te.target,"touchcancel",U,u)))},x=te=>{L>Date.now()||i(te)&&(!D&&a&&(D=T($(_),"mousemove",a,u)),V||(V=T($(_),"mouseup",A,u)))},U=te=>{R(),l&&l(te)},A=te=>{O(),l&&l(te)},R=()=>{h&&h(),m&&m(),p&&p(),h=m=p=void 0},O=()=>{D&&D(),V&&V(),D=V=void 0},Z=()=>{R(),O()},re=(te=!0)=>{te?(d||(d=T(_,"touchstart",P,u)),y||(y=T(_,"mousedown",x,u))):(d&&d(),y&&y(),d=y=void 0,Z())};return{enable:re,stop:Z,destroy:()=>{re(!1),l=a=i=void 0}}})(d.el,J=>{const j=S(J);return!(a||!l||(g(J,U),U.startX=U.currentX,U.startY=U.currentY,U.startTime=U.currentTime=j,U.velocityX=U.velocityY=U.deltaX=U.deltaY=0,U.event=J,h&&!1===h(U))||(R.release(),!R.start()))&&(a=!0,0===L?q():(A.start(U.startX,U.startY),!0))},J=>{i?!u&&l&&(u=!0,f(U,J),requestAnimationFrame(re)):(f(U,J),A.detect(U.currentX,U.currentY)&&(!A.isGesture()||!q())&&Ie())},Y,{capture:!1,passive:P}),Ie=()=>{G(),le.stop(),D&&D(U)};return{enable(J=!0){J||(i&&Y(void 0),G()),le.enable(J)},destroy(){R.destroy(),le.destroy()}}},f=(_,i)=>{if(!i)return;const a=_.currentX,l=_.currentY,u=_.currentTime;g(i,_);const d=_.currentX,h=_.currentY,p=(_.currentTime=S(i))-u;if(p>0&&p<100){const D=(h-l)/p;_.velocityX=(d-a)/p*.7+.3*_.velocityX,_.velocityY=.7*D+.3*_.velocityY}_.deltaX=d-_.startX,_.deltaY=h-_.startY,_.event=i},g=(_,i)=>{let a=0,l=0;if(_){const u=_.changedTouches;if(u&&u.length>0){const d=u[0];a=d.clientX,l=d.clientY}else void 0!==_.pageX&&(a=_.pageX,l=_.pageY)}i.currentX=a,i.currentY=l},S=_=>_.timeStamp||Date.now()},6073:(xr,or,_e)=>{"use strict";_e.d(or,{m:()=>_});var M=_e(467),T=_e(8476),et=_e(8669),Et=_e(4929),o=_e(4920),se=_e(4921),$=_e(9986);const v=i=>(0,$.c)().duration(i?400:300),b=i=>{let a,l;const u=i.width+8,d=(0,$.c)(),h=(0,$.c)();i.isEndSide?(a=u+"px",l="0px"):(a=-u+"px",l="0px"),d.addElement(i.menuInnerEl).fromTo("transform",`translateX(${a})`,`translateX(${l})`);const p="ios"===(0,se.b)(i),y=p?.2:.25;return h.addElement(i.backdropEl).fromTo("opacity",.01,y),v(p).addAnimation([d,h])},f=i=>{let a,l;const u=(0,se.b)(i),d=i.width;i.isEndSide?(a=-d+"px",l=d+"px"):(a=d+"px",l=-d+"px");const h=(0,$.c)().addElement(i.menuInnerEl).fromTo("transform",`translateX(${l})`,"translateX(0px)"),m=(0,$.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`),p=(0,$.c)().addElement(i.backdropEl).fromTo("opacity",.01,.32);return v("ios"===u).addAnimation([h,m,p])},g=i=>{const a=(0,se.b)(i),l=i.width*(i.isEndSide?-1:1)+"px",u=(0,$.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`);return v("ios"===a).addAnimation(u)},_=(()=>{const i=new Map,a=[],l=function(){var G=(0,M.A)(function*(Y){const le=yield D(Y,!0);return!!le&&le.open()});return function(le){return G.apply(this,arguments)}}(),u=function(){var G=(0,M.A)(function*(Y){const le=yield void 0!==Y?D(Y,!0):V();return void 0!==le&&le.close()});return function(le){return G.apply(this,arguments)}}(),d=function(){var G=(0,M.A)(function*(Y){const le=yield D(Y,!0);return!!le&&le.toggle()});return function(le){return G.apply(this,arguments)}}(),h=function(){var G=(0,M.A)(function*(Y,le){const Ie=yield D(le);return Ie&&(Ie.disabled=!Y),Ie});return function(le,Ie){return G.apply(this,arguments)}}(),m=function(){var G=(0,M.A)(function*(Y,le){const Ie=yield D(le);return Ie&&(Ie.swipeGesture=Y),Ie});return function(le,Ie){return G.apply(this,arguments)}}(),p=function(){var G=(0,M.A)(function*(Y){if(null!=Y){const le=yield D(Y);return void 0!==le&&le.isOpen()}return void 0!==(yield V())});return function(le){return G.apply(this,arguments)}}(),y=function(){var G=(0,M.A)(function*(Y){const le=yield D(Y);return!!le&&!le.disabled});return function(le){return G.apply(this,arguments)}}(),D=function(){var G=(0,M.A)(function*(Y,le=!1){if(yield X(),"start"===Y||"end"===Y){const J=a.filter(ne=>ne.side===Y&&!ne.disabled);if(J.length>=1)return J.length>1&&le&&(0,Et.p)(`menuController queried for a menu on the "${Y}" side, but ${J.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,J.map(ne=>ne.el)),J[0].el;const j=a.filter(ne=>ne.side===Y);if(j.length>=1)return j.length>1&&le&&(0,Et.p)(`menuController queried for a menu on the "${Y}" side, but ${j.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,j.map(ne=>ne.el)),j[0].el}else if(null!=Y)return te(J=>J.menuId===Y);return te(J=>!J.disabled)||(a.length>0?a[0].el:void 0)});return function(le){return G.apply(this,arguments)}}(),V=function(){var G=(0,M.A)(function*(){return yield X(),Z()});return function(){return G.apply(this,arguments)}}(),L=function(){var G=(0,M.A)(function*(){return yield X(),re()});return function(){return G.apply(this,arguments)}}(),P=function(){var G=(0,M.A)(function*(){return yield X(),q()});return function(){return G.apply(this,arguments)}}(),x=(G,Y)=>{i.set(G,Y)},R=function(){var G=(0,M.A)(function*(Y,le,Ie){if(q())return!1;if(le){const J=yield V();J&&Y.el!==J&&(yield J.setOpen(!1,!1))}return Y._setOpen(le,Ie)});return function(le,Ie,J){return G.apply(this,arguments)}}(),Z=()=>te(G=>G._isOpen),re=()=>a.map(G=>G.el),q=()=>a.some(G=>G.isAnimating),te=G=>{const Y=a.find(G);if(void 0!==Y)return Y.el},X=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(G=>new Promise(Y=>(0,o.c)(G,Y))));return x("reveal",g),x("push",f),x("overlay",b),null==T.d||T.d.addEventListener("ionBackButton",G=>{const Y=Z();Y&&G.detail.register(et.MENU_BACK_BUTTON_PRIORITY,()=>Y.close())}),{registerAnimation:x,get:D,getMenus:L,getOpen:V,isEnabled:y,swipeGesture:m,isAnimating:P,isOpen:p,enable:h,toggle:d,close:u,open:l,_getOpenSync:Z,_createAnimation:(G,Y)=>{const le=i.get(G);if(!le)throw new Error("animation not registered");return le(Y)},_register:G=>{a.indexOf(G)<0&&a.push(G)},_unregister:G=>{const Y=a.indexOf(G);Y>-1&&a.splice(Y,1)},_setOpen:R}})()},8393:(xr,or,_e)=>{"use strict";_e.d(or,{B:()=>se,a:()=>O,b:()=>Vs,c:()=>Oe,d:()=>Ht,e:()=>ne,f:()=>zt,g:()=>Je,h:()=>Vt,i:()=>At,j:()=>yn,k:()=>De,r:()=>b,w:()=>me});var M=_e(467);var Et=Object.defineProperty,se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=new WeakMap,v=Le=>$.get(Le),b=(Le,rt)=>$.set(rt.$lazyInstance$=Le,rt),g=(Le,rt)=>rt in Le,S=(Le,rt)=>(0,console.error)(Le,rt),_=new Map,a=new Map,l=[],p="s-id",y="sty-id",D="c-id",L="slot-fb{display:contents}slot-fb[hidden]{display:none}",P="http://www.w3.org/1999/xlink",x=typeof window<"u"?window:{},U=x.document||{head:{}},R={$flags$:0,$resourcesUrl$:"",jmp:Le=>Le(),raf:Le=>requestAnimationFrame(Le),ael:(Le,rt,Dt,kt)=>Le.addEventListener(rt,Dt,kt),rel:(Le,rt,Dt,kt)=>Le.removeEventListener(rt,Dt,kt),ce:(Le,rt)=>new CustomEvent(Le,rt)},O=Le=>{Object.assign(R,Le)},Z=!0,re=(()=>{let Le=!1;try{U.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Le=!0}}))}catch{}return Le})(),te=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),X=!1,G=[],Y=[],le=(Le,rt)=>Dt=>{Le.push(Dt),X||(X=!0,rt&&4&R.$flags$?j(J):R.raf(J))},Ie=Le=>{for(let rt=0;rt<Le.length;rt++)try{Le[rt](performance.now())}catch(Dt){S(Dt)}Le.length=0},J=()=>{Ie(G),Ie(Y),(X=G.length>0)&&R.raf(J)},j=Le=>Promise.resolve(void 0).then(Le),ne=le(G,!1),me=le(Y,!0),De=Le=>{const rt=new URL(Le,R.$resourcesUrl$);return rt.origin!==x.location.origin?rt.href:rt.pathname},$e={},ot=Le=>"object"==(Le=typeof Le)||"function"===Le;function at(Le){var rt,Dt,kt;return null!=(kt=null==(Dt=null==(rt=Le.head)?void 0:rt.querySelector('meta[name="csp-nonce"]'))?void 0:Dt.getAttribute("content"))?kt:void 0}((Le,rt)=>{for(var Dt in rt)Et(Le,Dt,{get:rt[Dt],enumerable:!0})})({},{err:()=>Ye,map:()=>st,ok:()=>nt,unwrap:()=>Ze,unwrapErr:()=>ft});var nt=Le=>({isOk:!0,isErr:!1,value:Le}),Ye=Le=>({isOk:!1,isErr:!0,value:Le});function st(Le,rt){if(Le.isOk){const Dt=rt(Le.value);return Dt instanceof Promise?Dt.then(kt=>nt(kt)):nt(Dt)}if(Le.isErr)return Ye(Le.value);throw"should never get here"}var Ze=Le=>{if(Le.isOk)return Le.value;throw Le.value},ft=Le=>{if(Le.isErr)return Le.value;throw Le.value},Vt=(Le,rt,...Dt)=>{let kt=null,er=null,Yt=null,gr=!1,Er=!1;const Cr=[],Tr=Fr=>{for(let Gr=0;Gr<Fr.length;Gr++)kt=Fr[Gr],Array.isArray(kt)?Tr(kt):null!=kt&&"boolean"!=typeof kt&&((gr="function"!=typeof Le&&!ot(kt))&&(kt=String(kt)),gr&&Er?Cr[Cr.length-1].$text$+=kt:Cr.push(gr?tr(null,kt):kt),Er=gr)};if(Tr(Dt),rt){rt.key&&(er=rt.key),rt.name&&(Yt=rt.name);{const Fr=rt.className||rt.class;Fr&&(rt.class="object"!=typeof Fr?Fr:Object.keys(Fr).filter(Gr=>Fr[Gr]).join(" "))}}if("function"==typeof Le)return Le(null===rt?{}:rt,Cr,Zt);const Ur=tr(Le,null);return Ur.$attrs$=rt,Cr.length>0&&(Ur.$children$=Cr),Ur.$key$=er,Ur.$name$=Yt,Ur},tr=(Le,rt)=>({$flags$:0,$tag$:Le,$text$:rt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),zt={},Zt={forEach:(Le,rt)=>Le.map(pr).forEach(rt),map:(Le,rt)=>Le.map(pr).map(rt).map(Ct)},pr=Le=>({vattrs:Le.$attrs$,vchildren:Le.$children$,vkey:Le.$key$,vname:Le.$name$,vtag:Le.$tag$,vtext:Le.$text$}),Ct=Le=>{if("function"==typeof Le.vtag){const Dt={...Le.vattrs};return Le.vkey&&(Dt.key=Le.vkey),Le.vname&&(Dt.name=Le.vname),Vt(Le.vtag,Dt,...Le.vchildren||[])}const rt=tr(Le.vtag,Le.vtext);return rt.$attrs$=Le.vattrs,rt.$children$=Le.vchildren,rt.$key$=Le.vkey,rt.$name$=Le.vname,rt},Gt=(Le,rt,Dt,kt,er,Yt,gr)=>{let Er,Cr,Tr,Ur;if(1===Yt.nodeType){for(Er=Yt.getAttribute(D),Er&&(Cr=Er.split("."),(Cr[0]===gr||"0"===Cr[0])&&(Tr={$flags$:0,$hostId$:Cr[0],$nodeId$:Cr[1],$depth$:Cr[2],$index$:Cr[3],$tag$:Yt.tagName.toLowerCase(),$elm$:Yt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},rt.push(Tr),Yt.removeAttribute(D),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr,Le=Tr,kt&&"0"===Tr.$depth$&&(kt[Tr.$index$]=Tr.$elm$))),Ur=Yt.childNodes.length-1;Ur>=0;Ur--)Gt(Le,rt,Dt,kt,er,Yt.childNodes[Ur],gr);if(Yt.shadowRoot)for(Ur=Yt.shadowRoot.childNodes.length-1;Ur>=0;Ur--)Gt(Le,rt,Dt,kt,er,Yt.shadowRoot.childNodes[Ur],gr)}else if(8===Yt.nodeType)Cr=Yt.nodeValue.split("."),(Cr[1]===gr||"0"===Cr[1])&&(Er=Cr[0],Tr={$flags$:0,$hostId$:Cr[1],$nodeId$:Cr[2],$depth$:Cr[3],$index$:Cr[4],$elm$:Yt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Er?(Tr.$elm$=Yt.nextSibling,Tr.$elm$&&3===Tr.$elm$.nodeType&&(Tr.$text$=Tr.$elm$.textContent,rt.push(Tr),Yt.remove(),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr,kt&&"0"===Tr.$depth$&&(kt[Tr.$index$]=Tr.$elm$))):Tr.$hostId$===gr&&("s"===Er?(Tr.$tag$="slot",Yt["s-sn"]=Cr[5]?Tr.$name$=Cr[5]:"",Yt["s-sr"]=!0,kt&&(Tr.$elm$=U.createElement(Tr.$tag$),Tr.$name$&&Tr.$elm$.setAttribute("name",Tr.$name$),Yt.parentNode.insertBefore(Tr.$elm$,Yt),Yt.remove(),"0"===Tr.$depth$&&(kt[Tr.$index$]=Tr.$elm$)),Dt.push(Tr),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr):"r"===Er&&(kt?Yt.remove():(er["s-cr"]=Yt,Yt["s-cn"]=!0))));else if(Le&&"style"===Le.$tag$){const Fr=tr(null,Yt.textContent);Fr.$elm$=Yt,Fr.$index$="0",Le.$children$=[Fr]}},Ve=(Le,rt)=>{if(1===Le.nodeType){let Dt=0;for(;Dt<Le.childNodes.length;Dt++)Ve(Le.childNodes[Dt],rt);if(Le.shadowRoot)for(Dt=0;Dt<Le.shadowRoot.childNodes.length;Dt++)Ve(Le.shadowRoot.childNodes[Dt],rt)}else if(8===Le.nodeType){const Dt=Le.nodeValue.split(".");"o"===Dt[0]&&(rt.set(Dt[1]+"."+Dt[2],Le),Le.nodeValue="",Le["s-en"]=Dt[3])}},Oe=Le=>l.push(Le),Je=Le=>v(Le).$modeName$,At=Le=>v(Le).$hostElement$,Ht=(Le,rt,Dt)=>{const kt=At(Le);return{emit:er=>yt(kt,rt,{bubbles:!!(4&Dt),composed:!!(2&Dt),cancelable:!!(1&Dt),detail:er})}},yt=(Le,rt,Dt)=>{const kt=R.ce(rt,Dt);return Le.dispatchEvent(kt),kt},Ft=new WeakMap,Jt=(Le,rt,Dt)=>{let kt=a.get(Le);te&&Dt?(kt=kt||new CSSStyleSheet,"string"==typeof kt?kt=rt:kt.replaceSync(rt)):kt=rt,a.set(Le,kt)},rr=(Le,rt,Dt)=>{var kt;const er=vt(rt,Dt),Yt=a.get(er);if(Le=11===Le.nodeType?Le:U,Yt)if("string"==typeof Yt){let Er,gr=Ft.get(Le=Le.head||Le);if(gr||Ft.set(Le,gr=new Set),!gr.has(er)){if(Le.host&&(Er=Le.querySelector(`[${y}="${er}"]`)))Er.innerHTML=Yt;else{Er=U.createElement("style"),Er.innerHTML=Yt;const Cr=null!=(kt=R.$nonce$)?kt:at(U);null!=Cr&&Er.setAttribute("nonce",Cr),Le.insertBefore(Er,Le.querySelector("link"))}4&rt.$flags$&&(Er.innerHTML+=L),gr&&gr.add(er)}}else Le.adoptedStyleSheets.includes(Yt)||(Le.adoptedStyleSheets=[...Le.adoptedStyleSheets,Yt]);return er},vt=(Le,rt)=>"sc-"+(rt&&32&Le.$flags$?Le.$tagName$+"-"+rt:Le.$tagName$),Lt=Le=>Le.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),bt=(Le,rt,Dt,kt,er,Yt)=>{if(Dt!==kt){let gr=g(Le,rt),Er=rt.toLowerCase();if("class"===rt){const Cr=Le.classList,Tr=fr(Dt),Ur=fr(kt);Cr.remove(...Tr.filter(Fr=>Fr&&!Ur.includes(Fr))),Cr.add(...Ur.filter(Fr=>Fr&&!Tr.includes(Fr)))}else if("style"===rt){for(const Cr in Dt)(!kt||null==kt[Cr])&&(Cr.includes("-")?Le.style.removeProperty(Cr):Le.style[Cr]="");for(const Cr in kt)(!Dt||kt[Cr]!==Dt[Cr])&&(Cr.includes("-")?Le.style.setProperty(Cr,kt[Cr]):Le.style[Cr]=kt[Cr])}else if("key"!==rt)if("ref"===rt)kt&&kt(Le);else if(gr||"o"!==rt[0]||"n"!==rt[1]){const Cr=ot(kt);if((gr||Cr&&null!==kt)&&!er)try{if(Le.tagName.includes("-"))Le[rt]=kt;else{const Ur=null==kt?"":kt;"list"===rt?gr=!1:(null==Dt||Le[rt]!=Ur)&&(Le[rt]=Ur)}}catch{}let Tr=!1;Er!==(Er=Er.replace(/^xlink\:?/,""))&&(rt=Er,Tr=!0),null==kt||!1===kt?(!1!==kt||""===Le.getAttribute(rt))&&(Tr?Le.removeAttributeNS(P,rt):Le.removeAttribute(rt)):(!gr||4&Yt||er)&&!Cr&&(kt=!0===kt?"":kt,Tr?Le.setAttributeNS(P,rt,kt):Le.setAttribute(rt,kt))}else if(rt="-"===rt[2]?rt.slice(3):g(x,Er)?Er.slice(2):Er[2]+rt.slice(3),Dt||kt){const Cr=rt.endsWith(dt);rt=rt.replace(xt,""),Dt&&R.rel(Le,rt,Dt,Cr),kt&&R.ael(Le,rt,kt,Cr)}}},Pt=/\s/,fr=Le=>Le?Le.split(Pt):[],dt="Capture",xt=new RegExp(dt+"$"),nr=(Le,rt,Dt)=>{const kt=11===rt.$elm$.nodeType&&rt.$elm$.host?rt.$elm$.host:rt.$elm$,er=Le&&Le.$attrs$||$e,Yt=rt.$attrs$||$e;for(const gr of Kt(Object.keys(er)))gr in Yt||bt(kt,gr,er[gr],void 0,Dt,rt.$flags$);for(const gr of Kt(Object.keys(Yt)))bt(kt,gr,er[gr],Yt[gr],Dt,rt.$flags$)};function Kt(Le){return Le.includes("ref")?[...Le.filter(rt=>"ref"!==rt),"ref"]:Le}var ur,vr,hr,Mr=!1,W=!1,fe=!1,Te=!1,w=(Le,rt,Dt,kt)=>{var er;const Yt=rt.$children$[Dt];let Er,Cr,Tr,gr=0;if(Mr||(fe=!0,"slot"===Yt.$tag$&&(ur&&kt.classList.add(ur+"-s"),Yt.$flags$|=Yt.$children$?2:1)),null!==Yt.$text$)Er=Yt.$elm$=U.createTextNode(Yt.$text$);else if(1&Yt.$flags$)Er=Yt.$elm$=U.createTextNode("");else{if(Te||(Te="svg"===Yt.$tag$),Er=Yt.$elm$=U.createElementNS(Te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Mr&&2&Yt.$flags$?"slot-fb":Yt.$tag$),Te&&"foreignObject"===Yt.$tag$&&(Te=!1),nr(null,Yt,Te),(Le=>null!=Le)(ur)&&Er["s-si"]!==ur&&Er.classList.add(Er["s-si"]=ur),ht(Er,kt),Yt.$children$)for(gr=0;gr<Yt.$children$.length;++gr)Cr=w(Le,Yt,gr,Er),Cr&&Er.appendChild(Cr);"svg"===Yt.$tag$?Te=!1:"foreignObject"===Er.tagName&&(Te=!0)}return Er["s-hn"]=hr,3&Yt.$flags$&&(Er["s-sr"]=!0,Er["s-cr"]=vr,Er["s-sn"]=Yt.$name$||"",Er["s-rf"]=null==(er=Yt.$attrs$)?void 0:er.ref,Tr=Le&&Le.$children$&&Le.$children$[Dt],Tr&&Tr.$tag$===Yt.$tag$&&Le.$elm$&&I(Le.$elm$)),Er},I=Le=>{R.$flags$|=1;const rt=Le.closest(hr.toLowerCase());if(null!=rt){const Dt=Array.from(rt.childNodes).find(er=>er["s-cr"]),kt=Array.from(Le.childNodes);for(const er of Dt?kt.reverse():kt)null!=er["s-sh"]&&(mt(rt,er,null!=Dt?Dt:null),er["s-sh"]=void 0,fe=!0)}R.$flags$&=-2},H=(Le,rt)=>{R.$flags$|=1;const Dt=Array.from(Le.childNodes);if(Le["s-sr"]){let kt=Le;for(;kt=kt.nextSibling;)kt&&kt["s-sn"]===Le["s-sn"]&&kt["s-sh"]===hr&&Dt.push(kt)}for(let kt=Dt.length-1;kt>=0;kt--){const er=Dt[kt];er["s-hn"]!==hr&&er["s-ol"]&&(mt(ke(er),er,Se(er)),er["s-ol"].remove(),er["s-ol"]=void 0,er["s-sh"]=void 0,fe=!0),rt&&H(er,rt)}R.$flags$&=-2},F=(Le,rt,Dt,kt,er,Yt)=>{let Er,gr=Le["s-cr"]&&Le["s-cr"].parentNode||Le;for(gr.shadowRoot&&gr.tagName===hr&&(gr=gr.shadowRoot);er<=Yt;++er)kt[er]&&(Er=w(null,Dt,er,Le),Er&&(kt[er].$elm$=Er,mt(gr,Er,Se(rt))))},z=(Le,rt,Dt)=>{for(let kt=rt;kt<=Dt;++kt){const er=Le[kt];if(er){const Yt=er.$elm$;Xe(er),Yt&&(W=!0,Yt["s-ol"]?Yt["s-ol"].remove():H(Yt,!0),Yt.remove())}}},ue=(Le,rt,Dt=!1)=>Le.$tag$===rt.$tag$&&("slot"===Le.$tag$?Le.$name$===rt.$name$:!!Dt||Le.$key$===rt.$key$),Se=Le=>Le&&Le["s-ol"]||Le,ke=Le=>(Le["s-ol"]?Le["s-ol"]:Le).parentNode,Fe=(Le,rt,Dt=!1)=>{const kt=rt.$elm$=Le.$elm$,er=Le.$children$,Yt=rt.$children$,gr=rt.$tag$,Er=rt.$text$;let Cr;null===Er?(Te="svg"===gr||"foreignObject"!==gr&&Te,"slot"!==gr||Mr?nr(Le,rt,Te):Le.$name$!==rt.$name$&&(rt.$elm$["s-sn"]=rt.$name$||"",I(rt.$elm$.parentElement)),null!==er&&null!==Yt?((Le,rt,Dt,kt,er=!1)=>{let _n,wn,Yt=0,gr=0,Er=0,Cr=0,Tr=rt.length-1,Ur=rt[0],Fr=rt[Tr],Gr=kt.length-1,qr=kt[0],pn=kt[Gr];for(;Yt<=Tr&&gr<=Gr;)if(null==Ur)Ur=rt[++Yt];else if(null==Fr)Fr=rt[--Tr];else if(null==qr)qr=kt[++gr];else if(null==pn)pn=kt[--Gr];else if(ue(Ur,qr,er))Fe(Ur,qr,er),Ur=rt[++Yt],qr=kt[++gr];else if(ue(Fr,pn,er))Fe(Fr,pn,er),Fr=rt[--Tr],pn=kt[--Gr];else if(ue(Ur,pn,er))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&H(Ur.$elm$.parentNode,!1),Fe(Ur,pn,er),mt(Le,Ur.$elm$,Fr.$elm$.nextSibling),Ur=rt[++Yt],pn=kt[--Gr];else if(ue(Fr,qr,er))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&H(Fr.$elm$.parentNode,!1),Fe(Fr,qr,er),mt(Le,Fr.$elm$,Ur.$elm$),Fr=rt[--Tr],qr=kt[++gr];else{for(Er=-1,Cr=Yt;Cr<=Tr;++Cr)if(rt[Cr]&&null!==rt[Cr].$key$&&rt[Cr].$key$===qr.$key$){Er=Cr;break}Er>=0?(wn=rt[Er],wn.$tag$!==qr.$tag$?_n=w(rt&&rt[gr],Dt,Er,Le):(Fe(wn,qr,er),rt[Er]=void 0,_n=wn.$elm$),qr=kt[++gr]):(_n=w(rt&&rt[gr],Dt,gr,Le),qr=kt[++gr]),_n&&mt(ke(Ur.$elm$),_n,Se(Ur.$elm$))}Yt>Tr?F(Le,null==kt[Gr+1]?null:kt[Gr+1].$elm$,Dt,kt,gr,Gr):gr>Gr&&z(rt,Yt,Tr)})(kt,er,rt,Yt,Dt):null!==Yt?(null!==Le.$text$&&(kt.textContent=""),F(kt,null,rt,Yt,0,Yt.length-1)):null!==er&&z(er,0,er.length-1),Te&&"svg"===gr&&(Te=!1)):(Cr=kt["s-cr"])?Cr.parentNode.textContent=Er:Le.$text$!==Er&&(kt.data=Er)},$t=Le=>{const rt=Le.childNodes;for(const Dt of rt)if(1===Dt.nodeType){if(Dt["s-sr"]){const kt=Dt["s-sn"];Dt.hidden=!1;for(const er of rt)if(er!==Dt)if(er["s-hn"]!==Dt["s-hn"]||""!==kt){if(1===er.nodeType&&(kt===er.getAttribute("slot")||kt===er["s-sn"])||3===er.nodeType&&kt===er["s-sn"]){Dt.hidden=!0;break}}else if(1===er.nodeType||3===er.nodeType&&""!==er.textContent.trim()){Dt.hidden=!0;break}}$t(Dt)}},Ut=[],Dr=Le=>{let rt,Dt,kt;for(const er of Le.childNodes){if(er["s-sr"]&&(rt=er["s-cr"])&&rt.parentNode){Dt=rt.parentNode.childNodes;const Yt=er["s-sn"];for(kt=Dt.length-1;kt>=0;kt--)if(rt=Dt[kt],!(rt["s-cn"]||rt["s-nr"]||rt["s-hn"]===er["s-hn"]||rt["s-sh"]&&rt["s-sh"]===er["s-hn"]))if(Re(rt,Yt)){let gr=Ut.find(Er=>Er.$nodeToRelocate$===rt);W=!0,rt["s-sn"]=rt["s-sn"]||Yt,gr?(gr.$nodeToRelocate$["s-sh"]=er["s-hn"],gr.$slotRefNode$=er):(rt["s-sh"]=er["s-hn"],Ut.push({$slotRefNode$:er,$nodeToRelocate$:rt})),rt["s-sr"]&&Ut.map(Er=>{Re(Er.$nodeToRelocate$,rt["s-sn"])&&(gr=Ut.find(Cr=>Cr.$nodeToRelocate$===rt),gr&&!Er.$slotRefNode$&&(Er.$slotRefNode$=gr.$slotRefNode$))})}else Ut.some(gr=>gr.$nodeToRelocate$===rt)||Ut.push({$nodeToRelocate$:rt})}1===er.nodeType&&Dr(er)}},Re=(Le,rt)=>1===Le.nodeType?null===Le.getAttribute("slot")&&""===rt||Le.getAttribute("slot")===rt:Le["s-sn"]===rt||""===rt,Xe=Le=>{Le.$attrs$&&Le.$attrs$.ref&&Le.$attrs$.ref(null),Le.$children$&&Le.$children$.map(Xe)},mt=(Le,rt,Dt)=>{const kt=null==Le?void 0:Le.insertBefore(rt,Dt);return ht(rt,Le),kt},ze=Le=>{const rt=[];return Le&&rt.push(...Le["s-scs"]||[],Le["s-si"],Le["s-sc"],...ze(Le.parentElement)),rt},ht=(Le,rt,Dt=!1)=>{var kt;if(Le&&rt&&1===Le.nodeType){const er=new Set(ze(rt).filter(Boolean));if(er.size&&(null==(kt=Le.classList)||kt.add(...Le["s-scs"]=[...er]),Le["s-ol"]||Dt))for(const Yt of Array.from(Le.childNodes))ht(Yt,Le,!0)}},cr=(Le,rt)=>{rt&&!Le.$onRenderResolve$&&rt["s-p"]&&rt["s-p"].push(new Promise(Dt=>Le.$onRenderResolve$=Dt))},wr=(Le,rt)=>{if(Le.$flags$|=16,!(4&Le.$flags$))return cr(Le,Le.$ancestorComponent$),me(()=>Pr(Le,rt));Le.$flags$|=512},Pr=(Le,rt)=>{const er=Le.$lazyInstance$;if(!er)throw new Error(`Can't render component <${Le.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Yt;return rt&&(Le.$flags$|=256,Le.$queuedListeners$&&(Le.$queuedListeners$.map(([gr,Er])=>bn(er,gr,Er)),Le.$queuedListeners$=void 0),Yt=bn(er,"componentWillLoad")),Yt=tn(Yt,()=>bn(er,"componentWillRender")),tn(Yt,()=>Nn(Le,er,rt))},tn=(Le,rt)=>on(Le)?Le.then(rt).catch(Dt=>{console.error(Dt),rt()}):rt(),on=Le=>Le instanceof Promise||Le&&Le.then&&"function"==typeof Le.then,Nn=function(){var Le=(0,M.A)(function*(rt,Dt,kt){var er;const Yt=rt.$hostElement$,Er=Yt["s-rc"];kt&&(Le=>{const rt=Le.$cmpMeta$,Dt=Le.$hostElement$,kt=rt.$flags$,Yt=rr(Dt.shadowRoot?Dt.shadowRoot:Dt.getRootNode(),rt,Le.$modeName$);10&kt&&(Dt["s-sc"]=Yt,Dt.classList.add(Yt+"-h"),2&kt&&Dt.classList.add(Yt+"-s"))})(rt);Dn(rt,Dt,Yt,kt),Er&&(Er.map(Tr=>Tr()),Yt["s-rc"]=void 0);{const Tr=null!=(er=Yt["s-p"])?er:[],Ur=()=>Kr(rt);0===Tr.length?Ur():(Promise.all(Tr).then(Ur),rt.$flags$|=4,Tr.length=0)}});return function(Dt,kt,er){return Le.apply(this,arguments)}}(),Dn=(Le,rt,Dt,kt)=>{try{rt=rt.render&&rt.render(),Le.$flags$&=-17,Le.$flags$|=2,((Le,rt,Dt=!1)=>{var kt,er,Yt,gr,Er;const Cr=Le.$hostElement$,Tr=Le.$cmpMeta$,Ur=Le.$vnode$||tr(null,null),Fr=(Le=>Le&&Le.$tag$===zt)(rt)?rt:Vt(null,null,rt);if(hr=Cr.tagName,Tr.$attrsToReflect$&&(Fr.$attrs$=Fr.$attrs$||{},Tr.$attrsToReflect$.map(([Gr,qr])=>Fr.$attrs$[qr]=Cr[Gr])),Dt&&Fr.$attrs$)for(const Gr of Object.keys(Fr.$attrs$))Cr.hasAttribute(Gr)&&!["key","ref","style","class"].includes(Gr)&&(Fr.$attrs$[Gr]=Cr[Gr]);if(Fr.$tag$=null,Fr.$flags$|=4,Le.$vnode$=Fr,Fr.$elm$=Ur.$elm$=Cr.shadowRoot||Cr,ur=Cr["s-sc"],Mr=!!(1&Tr.$flags$),vr=Cr["s-cr"],W=!1,Fe(Ur,Fr,Dt),R.$flags$|=1,fe){Dr(Fr.$elm$);for(const Gr of Ut){const qr=Gr.$nodeToRelocate$;if(!qr["s-ol"]){const pn=U.createTextNode("");pn["s-nr"]=qr,mt(qr.parentNode,qr["s-ol"]=pn,qr)}}for(const Gr of Ut){const qr=Gr.$nodeToRelocate$,pn=Gr.$slotRefNode$;if(pn){const _n=pn.parentNode;let wn=pn.nextSibling;if(wn&&1===wn.nodeType){let Un=null==(kt=qr["s-ol"])?void 0:kt.previousSibling;for(;Un;){let kn=null!=(er=Un["s-nr"])?er:null;if(kn&&kn["s-sn"]===qr["s-sn"]&&_n===kn.parentNode){for(kn=kn.nextSibling;kn===qr||null!=kn&&kn["s-sr"];)kn=null==kn?void 0:kn.nextSibling;if(!kn||!kn["s-nr"]){wn=kn;break}}Un=Un.previousSibling}}(!wn&&_n!==qr.parentNode||qr.nextSibling!==wn)&&qr!==wn&&(mt(_n,qr,wn),1===qr.nodeType&&(qr.hidden=null!=(Yt=qr["s-ih"])&&Yt)),qr&&"function"==typeof pn["s-rf"]&&pn["s-rf"](qr)}else 1===qr.nodeType&&(Dt&&(qr["s-ih"]=null!=(gr=qr.hidden)&&gr),qr.hidden=!0)}}if(W&&$t(Fr.$elm$),R.$flags$&=-2,Ut.length=0,2&Tr.$flags$)for(const Gr of Fr.$elm$.childNodes)Gr["s-hn"]!==hr&&!Gr["s-sh"]&&(Dt&&null==Gr["s-ih"]&&(Gr["s-ih"]=null!=(Er=Gr.hidden)&&Er),Gr.hidden=!0);vr=void 0})(Le,rt,kt)}catch(er){S(er,Le.$hostElement$)}return null},Kr=Le=>{const Dt=Le.$hostElement$,er=Le.$lazyInstance$,Yt=Le.$ancestorComponent$;bn(er,"componentDidRender"),64&Le.$flags$?bn(er,"componentDidUpdate"):(Le.$flags$|=64,Ln(Dt),bn(er,"componentDidLoad"),Le.$onReadyResolve$(Dt),Yt||Gn()),Le.$onInstanceResolve$(Dt),Le.$onRenderResolve$&&(Le.$onRenderResolve$(),Le.$onRenderResolve$=void 0),512&Le.$flags$&&j(()=>wr(Le,!1)),Le.$flags$&=-517},yn=Le=>{{const rt=v(Le),Dt=rt.$hostElement$.isConnected;return Dt&&2==(18&rt.$flags$)&&wr(rt,!1),Dt}},Gn=Le=>{Ln(U.documentElement),j(()=>yt(x,"appload",{detail:{namespace:"ionic"}}))},bn=(Le,rt,Dt)=>{if(Le&&Le[rt])try{return Le[rt](Dt)}catch(kt){S(kt)}},Ln=Le=>Le.classList.add(("hydrated","hydrated")),wo=(Le,rt,Dt)=>{var kt,er;const Yt=Le.prototype;if(rt.$members$||rt.$watchers$||Le.watchers){Le.watchers&&!rt.$watchers$&&(rt.$watchers$=Le.watchers);const gr=Object.entries(null!=(kt=rt.$members$)?kt:{});if(gr.map(([Er,[Cr]])=>{31&Cr||2&Dt&&32&Cr?Object.defineProperty(Yt,Er,{get(){return((Le,rt)=>v(this).$instanceValues$.get(rt))(0,Er)},set(Tr){((Le,rt,Dt,kt)=>{const er=v(Le);if(!er)throw new Error(`Couldn't find host element for "${kt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Yt=er.$hostElement$,gr=er.$instanceValues$.get(rt),Er=er.$flags$,Cr=er.$lazyInstance$;Dt=((Le,rt)=>null==Le||ot(Le)?Le:4&rt?"false"!==Le&&(""===Le||!!Le):2&rt?parseFloat(Le):1&rt?String(Le):Le)(Dt,kt.$members$[rt][0]);const Tr=Number.isNaN(gr)&&Number.isNaN(Dt);if((!(8&Er)||void 0===gr)&&Dt!==gr&&!Tr&&(er.$instanceValues$.set(rt,Dt),Cr)){if(kt.$watchers$&&128&Er){const Fr=kt.$watchers$[rt];Fr&&Fr.map(Gr=>{try{Cr[Gr](Dt,gr,rt)}catch(qr){S(qr,Yt)}})}2==(18&Er)&&wr(er,!1)}})(this,Er,Tr,rt)},configurable:!0,enumerable:!0}):1&Dt&&64&Cr&&Object.defineProperty(Yt,Er,{value(...Tr){var Ur;const Fr=v(this);return null==(Ur=null==Fr?void 0:Fr.$onInstancePromise$)?void 0:Ur.then(()=>{var Gr;return null==(Gr=Fr.$lazyInstance$)?void 0:Gr[Er](...Tr)})}})}),1&Dt){const Er=new Map;Yt.attributeChangedCallback=function(Cr,Tr,Ur){R.jmp(()=>{var Fr;const Gr=Er.get(Cr);if(this.hasOwnProperty(Gr))Ur=this[Gr],delete this[Gr];else{if(Yt.hasOwnProperty(Gr)&&"number"==typeof this[Gr]&&this[Gr]==Ur)return;if(null==Gr){const qr=v(this),pn=null==qr?void 0:qr.$flags$;if(pn&&!(8&pn)&&128&pn&&Ur!==Tr){const _n=qr.$lazyInstance$,wn=null==(Fr=rt.$watchers$)?void 0:Fr[Cr];null==wn||wn.forEach(Un=>{null!=_n[Un]&&_n[Un].call(_n,Ur,Tr,Cr)})}return}}this[Gr]=(null!==Ur||"boolean"!=typeof this[Gr])&&Ur})},Le.observedAttributes=Array.from(new Set([...Object.keys(null!=(er=rt.$watchers$)?er:{}),...gr.filter(([Cr,Tr])=>15&Tr[0]).map(([Cr,Tr])=>{var Ur;const Fr=Tr[1]||Cr;return Er.set(Fr,Cr),512&Tr[0]&&(null==(Ur=rt.$attrsToReflect$)||Ur.push([Cr,Fr])),Fr})]))}}return Le},ko=function(){var Le=(0,M.A)(function*(rt,Dt,kt,er){let Yt;if(!(32&Dt.$flags$)){if(Dt.$flags$|=32,kt.$lazyBundleId$){const Tr=((Le,rt,Dt)=>{const kt=Le.$tagName$.replace(/-/g,"_"),er=Le.$lazyBundleId$;if(!er)return;const Yt=_.get(er);return Yt?Yt[kt]:_e(8996)(`./${er}.entry.js`).then(gr=>(_.set(er,gr),gr[kt]),S)})(kt);if(Tr&&"then"in Tr){const Fr=()=>{};Yt=yield Tr,Fr()}else Yt=Tr;if(!Yt)throw new Error(`Constructor for "${kt.$tagName$}#${Dt.$modeName$}" was not found`);Yt.isProxied||(kt.$watchers$=Yt.watchers,wo(Yt,kt,2),Yt.isProxied=!0);const Ur=()=>{};Dt.$flags$|=8;try{new Yt(Dt)}catch(Fr){S(Fr)}Dt.$flags$&=-9,Dt.$flags$|=128,Ur(),No(Dt.$lazyInstance$)}else Yt=rt.constructor,customElements.whenDefined(rt.localName).then(()=>Dt.$flags$|=128);if(Yt&&Yt.style){let Tr;"string"==typeof Yt.style?Tr=Yt.style:"string"!=typeof Yt.style&&(Dt.$modeName$=(Le=>l.map(rt=>rt(Le)).find(rt=>!!rt))(rt),Dt.$modeName$&&(Tr=Yt.style[Dt.$modeName$]));const Ur=vt(kt,Dt.$modeName$);if(!a.has(Ur)){const Fr=()=>{};Jt(Ur,Tr,!!(1&kt.$flags$)),Fr()}}}const gr=Dt.$ancestorComponent$,Er=()=>wr(Dt,!0);gr&&gr["s-rc"]?gr["s-rc"].push(Er):Er()});return function(Dt,kt,er,Yt){return Le.apply(this,arguments)}}(),No=Le=>{bn(Le,"connectedCallback")},Wn=Le=>{const rt=Le["s-cr"]=U.createComment("");rt["s-cn"]=!0,mt(Le,rt,Le.firstChild)},Vo=Le=>{bn(Le,"disconnectedCallback")},oo=function(){var Le=(0,M.A)(function*(rt){if(!(1&R.$flags$)){const Dt=v(rt);Dt.$rmListeners$&&(Dt.$rmListeners$.map(kt=>kt()),Dt.$rmListeners$=void 0),null!=Dt&&Dt.$lazyInstance$?Vo(Dt.$lazyInstance$):null!=Dt&&Dt.$onReadyPromise$&&Dt.$onReadyPromise$.then(()=>Vo(Dt.$lazyInstance$))}});return function(Dt){return Le.apply(this,arguments)}}(),vs=Le=>{const rt=Le.cloneNode;Le.cloneNode=function(Dt){const kt=this,er=kt.shadowRoot&&Z,Yt=rt.call(kt,!!er&&Dt);if(!er&&Dt){let Er,Cr,gr=0;const Tr=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;gr<kt.childNodes.length;gr++)Er=kt.childNodes[gr]["s-nr"],Cr=Tr.every(Ur=>!kt.childNodes[gr][Ur]),Er&&(Yt.__appendChild?Yt.__appendChild(Er.cloneNode(!0)):Yt.appendChild(Er.cloneNode(!0))),Cr&&Yt.appendChild(kt.childNodes[gr].cloneNode(!0))}return Yt}},ye=Le=>{Le.__appendChild=Le.appendChild,Le.appendChild=function(rt){const Dt=rt["s-sn"]=Yo(rt),kt=As(this.childNodes,Dt,this.tagName);if(kt){const er=Ms(kt,Dt),Yt=er[er.length-1],gr=mt(Yt.parentNode,rt,Yt.nextSibling);return $t(this),gr}return this.__appendChild(rt)}},Ge=Le=>{Le.__removeChild=Le.removeChild,Le.removeChild=function(rt){if(rt&&typeof rt["s-sn"]<"u"){const Dt=As(this.childNodes,rt["s-sn"],this.tagName);if(Dt){const er=Ms(Dt,rt["s-sn"]).find(Yt=>Yt===rt);if(er)return er.remove(),void $t(this)}}return this.__removeChild(rt)}},ct=Le=>{const rt=Le.prepend;Le.prepend=function(...Dt){Dt.forEach(kt=>{"string"==typeof kt&&(kt=this.ownerDocument.createTextNode(kt));const er=kt["s-sn"]=Yo(kt),Yt=As(this.childNodes,er,this.tagName);if(Yt){const gr=document.createTextNode("");gr["s-nr"]=kt,Yt["s-cr"].parentNode.__appendChild(gr),kt["s-ol"]=gr;const Cr=Ms(Yt,er)[0];return mt(Cr.parentNode,kt,Cr.nextSibling)}return 1===kt.nodeType&&kt.getAttribute("slot")&&(kt.hidden=!0),rt.call(this,kt)})}},Ee=Le=>{Le.append=function(...rt){rt.forEach(Dt=>{"string"==typeof Dt&&(Dt=this.ownerDocument.createTextNode(Dt)),this.appendChild(Dt)})}},pt=Le=>{const rt=Le.insertAdjacentHTML;Le.insertAdjacentHTML=function(Dt,kt){if("afterbegin"!==Dt&&"beforeend"!==Dt)return rt.call(this,Dt,kt);const er=this.ownerDocument.createElement("_");let Yt;if(er.innerHTML=kt,"afterbegin"===Dt)for(;Yt=er.firstChild;)this.prepend(Yt);else if("beforeend"===Dt)for(;Yt=er.firstChild;)this.append(Yt)}},Qt=Le=>{Le.insertAdjacentText=function(rt,Dt){this.insertAdjacentHTML(rt,Dt)}},hn=Le=>{const rt=Le.insertAdjacentElement;Le.insertAdjacentElement=function(Dt,kt){return"afterbegin"!==Dt&&"beforeend"!==Dt?rt.call(this,Dt,kt):"afterbegin"===Dt?(this.prepend(kt),kt):("beforeend"===Dt&&this.append(kt),kt)}},Fn=Le=>{const rt=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Le,"__textContent",rt),Object.defineProperty(Le,"textContent",{get(){return" "+ts(this.childNodes).map(er=>{var Yt,gr;const Er=[];let Cr=er.nextSibling;for(;Cr&&Cr["s-sn"]===er["s-sn"];)(3===Cr.nodeType||1===Cr.nodeType)&&Er.push(null!=(gr=null==(Yt=Cr.textContent)?void 0:Yt.trim())?gr:""),Cr=Cr.nextSibling;return Er.filter(Tr=>""!==Tr).join(" ")}).filter(er=>""!==er).join(" ")+" "},set(Dt){ts(this.childNodes).forEach(er=>{let Yt=er.nextSibling;for(;Yt&&Yt["s-sn"]===er["s-sn"];){const gr=Yt;Yt=Yt.nextSibling,gr.remove()}if(""===er["s-sn"]){const gr=this.ownerDocument.createTextNode(Dt);gr["s-sn"]="",mt(er.parentElement,gr,er.nextSibling)}else er.remove()})}})},mo=(Le,rt)=>{class Dt extends Array{item(er){return this[er]}}if(8&rt.$flags$){const kt=Le.__lookupGetter__("childNodes");Object.defineProperty(Le,"children",{get(){return this.childNodes.map(er=>1===er.nodeType)}}),Object.defineProperty(Le,"childElementCount",{get:()=>Le.children.length}),Object.defineProperty(Le,"childNodes",{get(){const er=kt.call(this);if(!(1&R.$flags$)&&2&v(this).$flags$){const Yt=new Dt;for(let gr=0;gr<er.length;gr++){const Er=er[gr]["s-nr"];Er&&Yt.push(Er)}return Yt}return Dt.from(er)}})}},ts=Le=>{const rt=[];for(const Dt of Array.from(Le))Dt["s-sr"]&&rt.push(Dt),rt.push(...ts(Dt.childNodes));return rt},Yo=Le=>Le["s-sn"]||1===Le.nodeType&&Le.getAttribute("slot")||"",As=(Le,rt,Dt)=>{let er,kt=0;for(;kt<Le.length;kt++)if(er=Le[kt],er["s-sr"]&&er["s-sn"]===rt&&er["s-hn"]===Dt||(er=As(er.childNodes,rt,Dt),er))return er;return null},Ms=(Le,rt)=>{const Dt=[Le];for(;(Le=Le.nextSibling)&&Le["s-sn"]===rt;)Dt.push(Le);return Dt},Vs=(Le,rt={})=>{var Dt;const er=[],Yt=rt.exclude||[],gr=x.customElements,Er=U.head,Cr=Er.querySelector("meta[charset]"),Tr=U.createElement("style"),Ur=[],Fr=U.querySelectorAll(`[${y}]`);let Gr,qr=!0,pn=0;for(Object.assign(R,rt),R.$resourcesUrl$=new URL(rt.resourcesUrl||"./",U.baseURI).href,R.$flags$|=2;pn<Fr.length;pn++)Jt(Fr[pn].getAttribute(y),Lt(Fr[pn].innerHTML),!0);let _n=!1;if(Le.map(wn=>{wn[1].map(Un=>{var kn;const Rr={$flags$:Un[0],$tagName$:Un[1],$members$:Un[2],$listeners$:Un[3]};4&Rr.$flags$&&(_n=!0),Rr.$members$=Un[2],Rr.$listeners$=Un[3],Rr.$attrsToReflect$=[],Rr.$watchers$=null!=(kn=Un[4])?kn:{};const go=Rr.$tagName$,Lo=class extends HTMLElement{constructor(Pn){if(super(Pn),this.hasRegisteredEventListeners=!1,((Le,rt)=>{const Dt={$flags$:0,$hostElement$:Le,$cmpMeta$:rt,$instanceValues$:new Map};Dt.$onInstancePromise$=new Promise(kt=>Dt.$onInstanceResolve$=kt),Dt.$onReadyPromise$=new Promise(kt=>Dt.$onReadyResolve$=kt),Le["s-p"]=[],Le["s-rc"]=[],$.set(Le,Dt)})(Pn=this,Rr),1&Rr.$flags$)if(Pn.shadowRoot){if("open"!==Pn.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Rr.$tagName$}! Mode is set to ${Pn.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Pn.attachShadow({mode:"open",delegatesFocus:!!(16&Rr.$flags$)})}connectedCallback(){const Pn=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Is(this,Pn,Rr.$listeners$)),Gr&&(clearTimeout(Gr),Gr=null),qr?Ur.push(this):R.jmp(()=>(Le=>{if(!(1&R.$flags$)){const rt=v(Le),Dt=rt.$cmpMeta$,kt=()=>{};if(1&rt.$flags$)Is(Le,rt,Dt.$listeners$),null!=rt&&rt.$lazyInstance$?No(rt.$lazyInstance$):null!=rt&&rt.$onReadyPromise$&&rt.$onReadyPromise$.then(()=>No(rt.$lazyInstance$));else{let er;if(rt.$flags$|=1,er=Le.getAttribute(p),er){if(1&Dt.$flags$){const Yt=rr(Le.shadowRoot,Dt,Le.getAttribute("s-mode"));Le.classList.remove(Yt+"-h",Yt+"-s")}((Le,rt,Dt,kt)=>{const Yt=Le.shadowRoot,gr=[],Cr=Yt?[]:null,Tr=kt.$vnode$=tr(rt,null);R.$orgLocNodes$||Ve(U.body,R.$orgLocNodes$=new Map),Le[p]=Dt,Le.removeAttribute(p),Gt(Tr,gr,[],Cr,Le,Le,Dt),gr.map(Ur=>{const Fr=Ur.$hostId$+"."+Ur.$nodeId$,Gr=R.$orgLocNodes$.get(Fr),qr=Ur.$elm$;Gr&&""===Gr["s-en"]&&Gr.parentNode.insertBefore(qr,Gr.nextSibling),Yt||(qr["s-hn"]=rt,Gr&&(qr["s-ol"]=Gr,qr["s-ol"]["s-nr"]=qr)),R.$orgLocNodes$.delete(Fr)}),Yt&&Cr.map(Ur=>{Ur&&Yt.appendChild(Ur)})})(Le,Dt.$tagName$,er,rt)}er||12&Dt.$flags$&&Wn(Le);{let Yt=Le;for(;Yt=Yt.parentNode||Yt.host;)if(1===Yt.nodeType&&Yt.hasAttribute("s-id")&&Yt["s-p"]||Yt["s-p"]){cr(rt,rt.$ancestorComponent$=Yt);break}}Dt.$members$&&Object.entries(Dt.$members$).map(([Yt,[gr]])=>{if(31&gr&&Le.hasOwnProperty(Yt)){const Er=Le[Yt];delete Le[Yt],Le[Yt]=Er}}),ko(Le,rt,Dt)}kt()}})(this))}disconnectedCallback(){R.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&Rr.$flags$&&((Le,rt)=>{vs(Le),ye(Le),Ee(Le),ct(Le),hn(Le),pt(Le),Qt(Le),Fn(Le),mo(Le,rt),Ge(Le)})(Lo.prototype,Rr),Rr.$lazyBundleId$=wn[0],!Yt.includes(go)&&!gr.get(go)&&(er.push(go),gr.define(go,wo(Lo,Rr,1)))})}),er.length>0&&(_n&&(Tr.textContent+=L),Tr.textContent+=er.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Tr.innerHTML.length)){Tr.setAttribute("data-styles","");const wn=null!=(Dt=R.$nonce$)?Dt:at(U);null!=wn&&Tr.setAttribute("nonce",wn),Er.insertBefore(Tr,Cr?Cr.nextSibling:Er.firstChild)}qr=!1,Ur.length?Ur.map(wn=>wn.connectedCallback()):R.jmp(()=>Gr=setTimeout(Gn,30))},Is=(Le,rt,Dt,kt)=>{Dt&&Dt.map(([er,Yt,gr])=>{const Er=Ao(Le,er),Cr=Eo(rt,gr),Tr=Yn(er);R.ael(Er,Yt,Cr,Tr),(rt.$rmListeners$=rt.$rmListeners$||[]).push(()=>R.rel(Er,Yt,Cr,Tr))})},Eo=(Le,rt)=>Dt=>{var kt;try{256&Le.$flags$?null==(kt=Le.$lazyInstance$)||kt[rt](Dt):(Le.$queuedListeners$=Le.$queuedListeners$||[]).push([rt,Dt])}catch(er){S(er)}},Ao=(Le,rt)=>4&rt?U:8&rt?x:16&rt?U.body:Le,Yn=Le=>re?{passive:!!(1&Le),capture:!!(2&Le)}:!!(2&Le)},1331:(xr,or,_e)=>{"use strict";_e.d(or,{b:()=>v,c:()=>b,d:()=>f,e:()=>Z,g:()=>te,l:()=>R,s:()=>re,t:()=>d,w:()=>O});var M=_e(467),T=_e(4921),et=_e(8393),Et=_e(4929),o=_e(4920);const v="ionViewWillLeave",b="ionViewDidLeave",f="ionViewWillUnload",g=X=>{X.tabIndex=-1,X.focus()},S=X=>null!==X.offsetParent,i="ion-last-focus",u_saveViewFocus=Y=>{if(T.c.get("focusManagerPriority",!1)){const Ie=document.activeElement;null!==Ie&&null!=Y&&Y.contains(Ie)&&Ie.setAttribute(i,"true")}},u_setViewFocus=Y=>{const le=T.c.get("focusManagerPriority",!1);if(Array.isArray(le)&&!Y.contains(document.activeElement)){const Ie=Y.querySelector(`[${i}]`);if(Ie&&S(Ie))return void g(Ie);for(const J of le)switch(J){case"content":const j=Y.querySelector('main, [role="main"]');if(j&&S(j))return void g(j);break;case"heading":const ne=Y.querySelector('h1, [role="heading"][aria-level="1"]');if(ne&&S(ne))return void g(ne);break;case"banner":const me=Y.querySelector('header, [role="banner"]');if(me&&S(me))return void g(me);break;default:(0,Et.p)(`Unrecognized focus manager priority value ${J}`)}g(Y)}},d=X=>new Promise((G,Y)=>{(0,et.w)(()=>{h(X),m(X).then(le=>{le.animation&&le.animation.destroy(),p(X),G(le)},le=>{p(X),Y(le)})})}),h=X=>{const G=X.enteringEl,Y=X.leavingEl;u_saveViewFocus(Y),q(G,Y,X.direction),X.showGoBack?G.classList.add("can-go-back"):G.classList.remove("can-go-back"),re(G,!1),G.style.setProperty("pointer-events","none"),Y&&(re(Y,!1),Y.style.setProperty("pointer-events","none"))},m=function(){var X=(0,M.A)(function*(G){const Y=yield y(G);return Y&&et.B.isBrowser?D(Y,G):V(G)});return function(Y){return X.apply(this,arguments)}}(),p=X=>{const G=X.enteringEl,Y=X.leavingEl;G.classList.remove("ion-page-invisible"),G.style.removeProperty("pointer-events"),void 0!==Y&&(Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events")),u_setViewFocus(G)},y=function(){var X=(0,M.A)(function*(G){return G.leavingEl&&G.animated&&0!==G.duration?G.animationBuilder?G.animationBuilder:"ios"===G.mode?(yield Promise.resolve().then(_e.bind(_e,9856))).iosTransitionAnimation:(yield Promise.resolve().then(_e.bind(_e,361))).mdTransitionAnimation:void 0});return function(Y){return X.apply(this,arguments)}}(),D=function(){var X=(0,M.A)(function*(G,Y){yield L(Y,!0);const le=G(Y.baseEl,Y);U(Y.enteringEl,Y.leavingEl);const Ie=yield x(le,Y);return Y.progressCallback&&Y.progressCallback(void 0),Ie&&A(Y.enteringEl,Y.leavingEl),{hasCompleted:Ie,animation:le}});return function(Y,le){return X.apply(this,arguments)}}(),V=function(){var X=(0,M.A)(function*(G){const Y=G.enteringEl,le=G.leavingEl,Ie=T.c.get("focusManagerPriority",!1);return yield L(G,Ie),U(Y,le),A(Y,le),{hasCompleted:!0}});return function(Y){return X.apply(this,arguments)}}(),L=function(){var X=(0,M.A)(function*(G,Y){(void 0!==G.deepWait?G.deepWait:Y)&&(yield Promise.all([Z(G.enteringEl),Z(G.leavingEl)])),yield P(G.viewIsReady,G.enteringEl)});return function(Y,le){return X.apply(this,arguments)}}(),P=function(){var X=(0,M.A)(function*(G,Y){G&&(yield G(Y))});return function(Y,le){return X.apply(this,arguments)}}(),x=(X,G)=>{const Y=G.progressCallback,le=new Promise(Ie=>{X.onFinish(J=>Ie(1===J))});return Y?(X.progressStart(!0),Y(X)):X.play(),le},U=(X,G)=>{R(G,v),R(X,"ionViewWillEnter")},A=(X,G)=>{R(X,"ionViewDidEnter"),R(G,b)},R=(X,G)=>{if(X){const Y=new CustomEvent(G,{bubbles:!1,cancelable:!1});X.dispatchEvent(Y)}},O=()=>new Promise(X=>(0,o.r)(()=>(0,o.r)(()=>X()))),Z=function(){var X=(0,M.A)(function*(G){const Y=G;if(Y){if(null!=Y.componentOnReady){if(null!=(yield Y.componentOnReady()))return}else if(null!=Y.__registerHost)return void(yield new Promise(Ie=>(0,o.r)(Ie)));yield Promise.all(Array.from(Y.children).map(Z))}});return function(Y){return X.apply(this,arguments)}}(),re=(X,G)=>{G?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},q=(X,G,Y)=>{void 0!==X&&(X.style.zIndex="back"===Y?"99":"101"),void 0!==G&&(G.style.zIndex="100")},te=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},4929:(xr,or,_e)=>{"use strict";_e.d(or,{a:()=>T,b:()=>et,p:()=>M});const M=(Et,...o)=>console.warn(`[Ionic Warning]: ${Et}`,...o),T=(Et,...o)=>console.error(`[Ionic Error]: ${Et}`,...o),et=(Et,...o)=>console.error(`<${Et.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(xr,or,_e)=>{"use strict";_e.d(or,{d:()=>T,w:()=>M});const M=typeof window<"u"?window:void 0,T=typeof document<"u"?document:void 0},617:(xr,or,_e)=>{"use strict";_e.d(or,{FJ:()=>f.l,JI:()=>M.c,NC:()=>et.iosTransitionAnimation,OZ:()=>f.m,QX:()=>v.s,TN:()=>f.a,V5:()=>Et.mdTransitionAnimation,Vk:()=>v.I,mF:()=>f.c,sE:()=>o.g});var M=_e(9986),et=(_e(1331),_e(9856)),Et=_e(361),o=_e(3351),v=(_e(8607),_e(4921),_e(464)),f=(_e(6073),_e(1070));_e(8476),_e(8393),_e(1970),_e(8669)},4921:(xr,or,_e)=>{"use strict";_e.d(or,{a:()=>g,b:()=>re,c:()=>et,i:()=>q});var M=_e(8393);class T{constructor(){this.m=new Map}reset(X){this.m=new Map(Object.entries(X))}get(X,G){const Y=this.m.get(X);return void 0!==Y?Y:G}getBoolean(X,G=!1){const Y=this.m.get(X);return void 0===Y?G:"string"==typeof Y?"true"===Y:!!Y}getNumber(X,G){const Y=parseFloat(this.m.get(X));return isNaN(Y)?void 0!==G?G:NaN:Y}set(X,G){this.m.set(X,G)}}const et=new T,v="ionic:",b="ionic-persist-config",g=(te,X)=>("string"==typeof te&&(X=te,te=void 0),(te=>S(te))(te).includes(X)),S=(te=window)=>{if(typeof te>"u")return[];te.Ionic=te.Ionic||{};let X=te.Ionic.platforms;return null==X&&(X=te.Ionic.platforms=_(te),X.forEach(G=>te.document.documentElement.classList.add(`plt-${G}`))),X},_=te=>{const X=et.get("platform");return Object.keys(O).filter(G=>{const Y=null==X?void 0:X[G];return"function"==typeof Y?Y(te):O[G](te)})},a=te=>!!(A(te,/iPad/i)||A(te,/Macintosh/i)&&y(te)),d=te=>A(te,/android|sink/i),y=te=>R(te,"(any-pointer:coarse)"),V=te=>L(te)||P(te),L=te=>!!(te.cordova||te.phonegap||te.PhoneGap),P=te=>{const X=te.Capacitor;return!(null==X||!X.isNative)},A=(te,X)=>X.test(te.navigator.userAgent),R=(te,X)=>{var G;return null===(G=te.matchMedia)||void 0===G?void 0:G.call(te,X).matches},O={ipad:a,iphone:te=>A(te,/iPhone/i),ios:te=>A(te,/iPhone|iPod/i)||a(te),android:d,phablet:te=>{const X=te.innerWidth,G=te.innerHeight,Y=Math.min(X,G),le=Math.max(X,G);return Y>390&&Y<520&&le>620&&le<800},tablet:te=>{const X=te.innerWidth,G=te.innerHeight,Y=Math.min(X,G),le=Math.max(X,G);return a(te)||(te=>d(te)&&!A(te,/mobile/i))(te)||Y>460&&Y<820&&le>780&&le<1400},cordova:L,capacitor:P,electron:te=>A(te,/electron/i),pwa:te=>{var X;return!!(null!==(X=te.matchMedia)&&void 0!==X&&X.call(te,"(display-mode: standalone)").matches||te.navigator.standalone)},mobile:y,mobileweb:te=>y(te)&&!V(te),desktop:te=>!y(te),hybrid:V};let Z;const re=te=>te&&(0,M.g)(te)||Z,q=(te={})=>{if(typeof window>"u")return;const X=window.document,G=window,Y=G.Ionic=G.Ionic||{},le={};te._ael&&(le.ael=te._ael),te._rel&&(le.rel=te._rel),te._ce&&(le.ce=te._ce),(0,M.a)(le);const Ie=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(te=>{try{const X=te.sessionStorage.getItem(b);return null!==X?JSON.parse(X):{}}catch{return{}}})(G)),{persistConfig:!1}),Y.config),(te=>{const X={};return te.location.search.slice(1).split("&").map(G=>G.split("=")).map(([G,Y])=>{try{return[decodeURIComponent(G),decodeURIComponent(Y)]}catch{return["",""]}}).filter(([G])=>((te,X)=>te.substr(0,X.length)===X)(G,v)).map(([G,Y])=>[G.slice(6),Y]).forEach(([G,Y])=>{X[G]=Y}),X})(G)),te);et.reset(Ie),et.getBoolean("persistConfig")&&((te,X)=>{try{te.sessionStorage.setItem(b,JSON.stringify(X))}catch{return}})(G,Ie),S(G),Y.config=et,Y.mode=Z=et.get("mode",X.documentElement.getAttribute("mode")||(g(G,"ios")?"ios":"md")),et.set("mode",Z),X.documentElement.setAttribute("mode",Z),X.documentElement.classList.add(Z),et.getBoolean("_testing")&&et.set("animated",!1);const J=ne=>{var me;return null===(me=ne.tagName)||void 0===me?void 0:me.startsWith("ION-")},j=ne=>["ios","md"].includes(ne);(0,M.c)(ne=>{for(;ne;){const me=ne.mode||ne.getAttribute("mode");if(me){if(j(me))return me;J(ne)&&console.warn('Invalid ionic mode: "'+me+'", expected: "ios" or "md"')}ne=ne.parentElement}return Z})}},9856:(xr,or,_e)=>{"use strict";_e.r(or),_e.d(or,{iosTransitionAnimation:()=>i,shadow:()=>v});var M=_e(9986),T=_e(1331);_e(8476),_e(4921),_e(8393);const $=l=>document.querySelector(`${l}.ion-cloned-element`),v=l=>l.shadowRoot||l,b=l=>{const u="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs"),d="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=u){const h=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=h?h.querySelector(d):null}return l.querySelector(d)},f=(l,u)=>{const d="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs");let h=[];if(null!=d){const m=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=m&&(h=m.querySelectorAll("ion-buttons"))}else h=l.querySelectorAll("ion-buttons");for(const m of h){const p=m.closest("ion-header"),y=p&&!p.classList.contains("header-collapse-condense-inactive"),D=m.querySelector("ion-back-button"),V=m.classList.contains("buttons-collapse");if(null!==D&&("start"===m.slot||""===m.slot)&&(V&&y&&u||!V))return D}return null},S=(l,u,d,h,m,p,y,D,V)=>{var L,P;const x=u?`calc(100% - ${m.right+4}px)`:m.left-4+"px",U=u?"right":"left",A=u?"left":"right",R=u?"right":"left";let O=1,Z=1,re=`scale(${Z})`;const q="scale(1)";if(p&&y){const Ze=(null===(L=p.textContent)||void 0===L?void 0:L.trim())===(null===(P=D.textContent)||void 0===P?void 0:P.trim());O=V.width/y.width,Z=(V.height-a)/y.height,re=Ze?`scale(${O}, ${Z})`:`scale(${Z})`}const X=v(h).querySelector("ion-icon").getBoundingClientRect(),G=u?X.width/2-(X.right-m.right)+"px":m.left-X.width/2+"px",Y=u?`-${window.innerWidth-m.right}px`:`${m.left}px`,le=`${V.top}px`,Ie=`${m.top}px`,ne=d?[{offset:0,transform:`translate3d(${Y}, ${Ie}, 0)`},{offset:1,transform:`translate3d(${G}, ${le}, 0)`}]:[{offset:0,transform:`translate3d(${G}, ${le}, 0)`},{offset:1,transform:`translate3d(${Y}, ${Ie}, 0)`}],$e=d?[{offset:0,opacity:1,transform:q},{offset:1,opacity:0,transform:re}]:[{offset:0,opacity:0,transform:re},{offset:1,opacity:1,transform:q}],He=d?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ot=(0,M.c)(),at=(0,M.c)(),Ue=(0,M.c)(),nt=$("ion-back-button"),Ye=v(nt).querySelector(".button-text"),st=v(nt).querySelector("ion-icon");nt.text=h.text,nt.mode=h.mode,nt.icon=h.icon,nt.color=h.color,nt.disabled=h.disabled,nt.style.setProperty("display","block"),nt.style.setProperty("position","fixed"),at.addElement(st),ot.addElement(Ye),Ue.addElement(nt),Ue.beforeStyles({position:"absolute",top:"0px",[R]:"0px"}).beforeAddWrite(()=>{h.style.setProperty("display","none"),nt.style.setProperty(U,x)}).afterAddWrite(()=>{h.style.setProperty("display",""),nt.style.setProperty("display","none"),nt.style.removeProperty(U)}).keyframes(ne),ot.beforeStyles({"transform-origin":`${U} top`}).keyframes($e),at.beforeStyles({"transform-origin":`${A} center`}).keyframes(He),l.addAnimation([ot,at,Ue])},_=(l,u,d,h,m,p,y,D,V)=>{var L,P;const x=u?"right":"left",U=u?`calc(100% - ${m.right}px)`:`${m.left}px`,R=`${m.top}px`;let Z=u?`-${window.innerWidth-y.right-8}px`:`${y.x+8}px`,re=.5;const q="scale(1)";let te=`scale(${re})`;if(D&&V){Z=u?`-${window.innerWidth-V.right-8}px`:V.x-8+"px";const me=(null===(L=D.textContent)||void 0===L?void 0:L.trim())===(null===(P=h.textContent)||void 0===P?void 0:P.trim());re=V.height/(p.height-a),te=me?`scale(${V.width/p.width}, ${re})`:`scale(${re})`}const Y=y.top+y.height/2-m.height*re/2+"px",J=d?[{offset:0,opacity:0,transform:`translate3d(${Z}, ${Y}, 0) ${te}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${R}, 0) ${q}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${R}, 0) ${q}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Z}, ${Y}, 0) ${te}`}],j=$("ion-title"),ne=(0,M.c)();j.innerText=h.innerText,j.size=h.size,j.color=h.color,ne.addElement(j),ne.beforeStyles({"transform-origin":`${x} top`,height:`${m.height}px`,display:"",position:"relative",[x]:U}).beforeAddWrite(()=>{h.style.setProperty("opacity","0")}).afterAddWrite(()=>{h.style.setProperty("opacity",""),j.style.setProperty("display","none")}).keyframes(J),l.addAnimation(ne)},i=(l,u)=>{var d;try{const h="cubic-bezier(0.32,0.72,0,1)",m="opacity",p="transform",y="0%",V="rtl"===l.ownerDocument.dir,L=V?"-99.5%":"99.5%",P=V?"33%":"-33%",x=u.enteringEl,U=u.leavingEl,A="back"===u.direction,R=x.querySelector(":scope > ion-content"),O=x.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Z=x.querySelectorAll(":scope > ion-header > ion-toolbar"),re=(0,M.c)(),q=(0,M.c)();if(re.addElement(x).duration((null!==(d=u.duration)&&void 0!==d?d:0)||540).easing(u.easing||h).fill("both").beforeRemoveClass("ion-page-invisible"),U&&null!=l){const Y=(0,M.c)();Y.addElement(l),re.addAnimation(Y)}if(R||0!==Z.length||0!==O.length?(q.addElement(R),q.addElement(O)):q.addElement(x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),re.addAnimation(q),A?q.beforeClearStyles([m]).fromTo("transform",`translateX(${P})`,`translateX(${y})`).fromTo(m,.8,1):q.beforeClearStyles([m]).fromTo("transform",`translateX(${L})`,`translateX(${y})`),R){const Y=v(R).querySelector(".transition-effect");if(Y){const le=Y.querySelector(".transition-cover"),Ie=Y.querySelector(".transition-shadow"),J=(0,M.c)(),j=(0,M.c)(),ne=(0,M.c)();J.addElement(Y).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),j.addElement(le).beforeClearStyles([m]).fromTo(m,0,.1),ne.addElement(Ie).beforeClearStyles([m]).fromTo(m,.03,.7),J.addAnimation([j,ne]),q.addAnimation([J])}}const te=x.querySelector("ion-header.header-collapse-condense"),{forward:X,backward:G}=((l,u,d,h,m)=>{const p=f(h,d),y=b(m),D=b(h),V=f(m,d),L=null!==p&&null!==y&&!d,P=null!==D&&null!==V&&d;if(L){const x=y.getBoundingClientRect(),U=p.getBoundingClientRect(),A=v(p).querySelector(".button-text"),R=null==A?void 0:A.getBoundingClientRect(),Z=v(y).querySelector(".toolbar-title").getBoundingClientRect();_(l,u,d,y,x,Z,U,A,R),S(l,u,d,p,U,A,R,y,Z)}else if(P){const x=D.getBoundingClientRect(),U=V.getBoundingClientRect(),A=v(V).querySelector(".button-text"),R=null==A?void 0:A.getBoundingClientRect(),Z=v(D).querySelector(".toolbar-title").getBoundingClientRect();_(l,u,d,D,x,Z,U,A,R),S(l,u,d,V,U,A,R,D,Z)}return{forward:L,backward:P}})(re,V,A,x,U);if(Z.forEach(Y=>{const le=(0,M.c)();le.addElement(Y),re.addAnimation(le);const Ie=(0,M.c)();Ie.addElement(Y.querySelector("ion-title"));const J=(0,M.c)(),j=Array.from(Y.querySelectorAll("ion-buttons,[menuToggle]")),ne=Y.closest("ion-header"),me=null==ne?void 0:ne.classList.contains("header-collapse-condense-inactive");let De;De=j.filter(A?ot=>{const at=ot.classList.contains("buttons-collapse");return at&&!me||!at}:ot=>!ot.classList.contains("buttons-collapse")),J.addElement(De);const $e=(0,M.c)();$e.addElement(Y.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const qe=(0,M.c)();qe.addElement(v(Y).querySelector(".toolbar-background"));const ut=(0,M.c)(),He=Y.querySelector("ion-back-button");if(He&&ut.addElement(He),le.addAnimation([Ie,J,$e,qe,ut]),J.fromTo(m,.01,1),$e.fromTo(m,.01,1),A)me||Ie.fromTo("transform",`translateX(${P})`,`translateX(${y})`).fromTo(m,.01,1),$e.fromTo("transform",`translateX(${P})`,`translateX(${y})`),ut.fromTo(m,.01,1);else if(te||Ie.fromTo("transform",`translateX(${L})`,`translateX(${y})`).fromTo(m,.01,1),$e.fromTo("transform",`translateX(${L})`,`translateX(${y})`),qe.beforeClearStyles([m,"transform"]),(null==ne?void 0:ne.translucent)?qe.fromTo("transform",V?"translateX(-100%)":"translateX(100%)","translateX(0px)"):qe.fromTo(m,.01,"var(--opacity)"),X||ut.fromTo(m,.01,1),He&&!X){const at=(0,M.c)();at.addElement(v(He).querySelector(".button-text")).fromTo("transform",V?"translateX(-100px)":"translateX(100px)","translateX(0px)"),le.addAnimation(at)}}),U){const Y=(0,M.c)(),le=U.querySelector(":scope > ion-content"),Ie=U.querySelectorAll(":scope > ion-header > ion-toolbar"),J=U.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(le||0!==Ie.length||0!==J.length?(Y.addElement(le),Y.addElement(J)):Y.addElement(U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),re.addAnimation(Y),A){Y.beforeClearStyles([m]).fromTo("transform",`translateX(${y})`,V?"translateX(-100%)":"translateX(100%)");const j=(0,T.g)(U);re.afterAddWrite(()=>{"normal"===re.getDirection()&&j.style.setProperty("display","none")})}else Y.fromTo("transform",`translateX(${y})`,`translateX(${P})`).fromTo(m,1,.8);if(le){const j=v(le).querySelector(".transition-effect");if(j){const ne=j.querySelector(".transition-cover"),me=j.querySelector(".transition-shadow"),De=(0,M.c)(),$e=(0,M.c)(),qe=(0,M.c)();De.addElement(j).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),$e.addElement(ne).beforeClearStyles([m]).fromTo(m,.1,0),qe.addElement(me).beforeClearStyles([m]).fromTo(m,.7,.03),De.addAnimation([$e,qe]),Y.addAnimation([De])}}Ie.forEach(j=>{const ne=(0,M.c)();ne.addElement(j);const me=(0,M.c)();me.addElement(j.querySelector("ion-title"));const De=(0,M.c)(),$e=j.querySelectorAll("ion-buttons,[menuToggle]"),qe=j.closest("ion-header"),ut=null==qe?void 0:qe.classList.contains("header-collapse-condense-inactive"),He=Array.from($e).filter(st=>{const Ze=st.classList.contains("buttons-collapse");return Ze&&!ut||!Ze});De.addElement(He);const ot=(0,M.c)(),at=j.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");at.length>0&&ot.addElement(at);const Ue=(0,M.c)();Ue.addElement(v(j).querySelector(".toolbar-background"));const nt=(0,M.c)(),Ye=j.querySelector("ion-back-button");if(Ye&&nt.addElement(Ye),ne.addAnimation([me,De,ot,nt,Ue]),re.addAnimation(ne),nt.fromTo(m,.99,0),De.fromTo(m,.99,0),ot.fromTo(m,.99,0),A){if(ut||me.fromTo("transform",`translateX(${y})`,V?"translateX(-100%)":"translateX(100%)").fromTo(m,.99,0),ot.fromTo("transform",`translateX(${y})`,V?"translateX(-100%)":"translateX(100%)"),Ue.beforeClearStyles([m,"transform"]),(null==qe?void 0:qe.translucent)?Ue.fromTo("transform","translateX(0px)",V?"translateX(-100%)":"translateX(100%)"):Ue.fromTo(m,"var(--opacity)",0),Ye&&!G){const Ze=(0,M.c)();Ze.addElement(v(Ye).querySelector(".button-text")).fromTo("transform",`translateX(${y})`,`translateX(${(V?-124:124)+"px"})`),ne.addAnimation(Ze)}}else ut||me.fromTo("transform",`translateX(${y})`,`translateX(${P})`).fromTo(m,.99,0).afterClearStyles([p,m]),ot.fromTo("transform",`translateX(${y})`,`translateX(${P})`).afterClearStyles([p,m]),nt.afterClearStyles([m]),me.afterClearStyles([m]),De.afterClearStyles([m])})}return re}catch(h){throw h}},a=10},361:(xr,or,_e)=>{"use strict";_e.r(or),_e.d(or,{mdTransitionAnimation:()=>se});var M=_e(9986),T=_e(1331);_e(8476),_e(4921),_e(8393);const se=($,v)=>{var b,f,g;const S="40px",i="back"===v.direction,l=v.leavingEl,u=(0,T.g)(v.enteringEl),d=u.querySelector("ion-toolbar"),h=(0,M.c)();if(h.addElement(u).fill("both").beforeRemoveClass("ion-page-invisible"),i?h.duration((null!==(b=v.duration)&&void 0!==b?b:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):h.duration((null!==(f=v.duration)&&void 0!==f?f:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${S})`,"translateY(0px)").fromTo("opacity",.01,1),d){const m=(0,M.c)();m.addElement(d),h.addAnimation(m)}if(l&&i){h.duration((null!==(g=v.duration)&&void 0!==g?g:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const m=(0,M.c)();m.addElement((0,T.g)(l)).onFinish(p=>{1===p&&m.elements.length>0&&m.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${S})`).fromTo("opacity",1,0),h.addAnimation(m)}return h}},1070:(xr,or,_e)=>{"use strict";_e.d(or,{B:()=>$e,F:()=>nt,G:()=>qe,O:()=>ut,a:()=>u,b:()=>d,c:()=>y,d:()=>He,e:()=>ot,f:()=>X,g:()=>Y,h:()=>J,i:()=>ne,j:()=>V,k:()=>L,l:()=>h,m:()=>m,n:()=>f,o:()=>q,q:()=>g,s:()=>De});var M=_e(467),T=_e(8476),et=_e(4920),Et=_e(8669),o=_e(4921),se=_e(8621),$=_e(1970),v=_e(4929);const b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',f=(Ye,st)=>{const Ze=Ye.querySelector(b);S(Ze,null!=st?st:Ye)},g=(Ye,st)=>{const Ze=Array.from(Ye.querySelectorAll(b));S(Ze.length>0?Ze[Ze.length-1]:null,null!=st?st:Ye)},S=(Ye,st)=>{let Ze=Ye;const ft=null==Ye?void 0:Ye.shadowRoot;ft&&(Ze=ft.querySelector(b)||Ye),Ze?(0,et.f)(Ze):st.focus()};let _=0,i=0;const a=new WeakMap,l=Ye=>({create:st=>P(Ye,st),dismiss:(st,Ze,ft)=>O(document,st,Ze,Ye,ft),getTop:()=>(0,M.A)(function*(){return q(document,Ye)})()}),u=l("ion-alert"),d=l("ion-action-sheet"),h=l("ion-loading"),m=l("ion-modal"),y=l("ion-popover"),V=Ye=>{typeof document<"u"&&R(document);const st=_++;Ye.overlayIndex=st},L=Ye=>(Ye.hasAttribute("id")||(Ye.id="ion-overlay-"+ ++i),Ye.id),P=(Ye,st)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ye).then(()=>{const Ze=document.createElement(Ye);return Ze.classList.add("overlay-hidden"),Object.assign(Ze,Object.assign(Object.assign({},st),{hasController:!0})),le(document).appendChild(Ze),new Promise(ft=>(0,et.c)(Ze,ft))}):Promise.resolve(),U=(Ye,st)=>{let Ze=Ye;const ft=null==Ye?void 0:Ye.shadowRoot;ft&&(Ze=ft.querySelector(b)||Ye),Ze?(0,et.f)(Ze):st.focus()},R=Ye=>{0===_&&(_=1,Ye.addEventListener("focus",st=>{((Ye,st)=>{const Ze=q(st,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ft=Ye.target;Ze&&ft&&!Ze.classList.contains(nt)&&(Ze.shadowRoot?(()=>{if(Ze.contains(ft))Ze.lastFocus=ft;else if("ION-TOAST"===ft.tagName)U(Ze.lastFocus,Ze);else{const Vt=Ze.lastFocus;f(Ze),Vt===st.activeElement&&g(Ze),Ze.lastFocus=st.activeElement}})():(()=>{if(Ze===ft)Ze.lastFocus=void 0;else if("ION-TOAST"===ft.tagName)U(Ze.lastFocus,Ze);else{const Vt=(0,et.g)(Ze);if(!Vt.contains(ft))return;const tr=Vt.querySelector(".ion-overlay-wrapper");if(!tr)return;if(tr.contains(ft)||ft===Vt.querySelector("ion-backdrop"))Ze.lastFocus=ft;else{const zt=Ze.lastFocus;f(tr,Ze),zt===st.activeElement&&g(tr,Ze),Ze.lastFocus=st.activeElement}}})())})(st,Ye)},!0),Ye.addEventListener("ionBackButton",st=>{const Ze=q(Ye);null!=Ze&&Ze.backdropDismiss&&st.detail.register(Et.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ze.dismiss(void 0,$e)})}),(0,Et.shouldUseCloseWatcher)()||Ye.addEventListener("keydown",st=>{if("Escape"===st.key){const Ze=q(Ye);null!=Ze&&Ze.backdropDismiss&&Ze.dismiss(void 0,$e)}}))},O=(Ye,st,Ze,ft,Ot)=>{const ar=q(Ye,ft,Ot);return ar?ar.dismiss(st,Ze):Promise.reject("overlay does not exist")},re=(Ye,st)=>((Ye,st)=>(void 0===st&&(st="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(st)).filter(Ze=>Ze.overlayIndex>0)))(Ye,st).filter(Ze=>!(Ye=>Ye.classList.contains("overlay-hidden"))(Ze)),q=(Ye,st,Ze)=>{const ft=re(Ye,st);return void 0===Ze?ft[ft.length-1]:ft.find(Ot=>Ot.id===Ze)},te=(Ye=!1)=>{const Ze=le(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ze&&(Ye?Ze.setAttribute("aria-hidden","true"):Ze.removeAttribute("aria-hidden"))},X=function(){var Ye=(0,M.A)(function*(st,Ze,ft,Ot,ar){var Vt,tr;if(st.presented)return;te(!0),document.body.classList.add($.B),at(st.el),st.presented=!0,st.willPresent.emit(),null===(Vt=st.willPresentShorthand)||void 0===Vt||Vt.emit();const zt=(0,o.b)(st),br=st.enterAnimation?st.enterAnimation:o.c.get(Ze,"ios"===zt?ft:Ot);(yield Ie(st,br,st.el,ar))&&(st.didPresent.emit(),null===(tr=st.didPresentShorthand)||void 0===tr||tr.emit()),"ION-TOAST"!==st.el.tagName&&G(st.el),st.keyboardClose&&(null===document.activeElement||!st.el.contains(document.activeElement))&&st.el.focus(),st.el.removeAttribute("aria-hidden")});return function(Ze,ft,Ot,ar,Vt){return Ye.apply(this,arguments)}}(),G=function(){var Ye=(0,M.A)(function*(st){let Ze=document.activeElement;if(!Ze)return;const ft=null==Ze?void 0:Ze.shadowRoot;ft&&(Ze=ft.querySelector(b)||Ze),yield st.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ze.focus()});return function(Ze){return Ye.apply(this,arguments)}}(),Y=function(){var Ye=(0,M.A)(function*(st,Ze,ft,Ot,ar,Vt,tr){var zt,br;if(!st.presented)return!1;void 0!==T.d&&1===re(T.d).length&&(te(!1),document.body.classList.remove($.B)),st.presented=!1;try{st.el.style.setProperty("pointer-events","none"),st.willDismiss.emit({data:Ze,role:ft}),null===(zt=st.willDismissShorthand)||void 0===zt||zt.emit({data:Ze,role:ft});const pr=(0,o.b)(st),Ct=st.leaveAnimation?st.leaveAnimation:o.c.get(Ot,"ios"===pr?ar:Vt);ft!==qe&&(yield Ie(st,Ct,st.el,tr)),st.didDismiss.emit({data:Ze,role:ft}),null===(br=st.didDismissShorthand)||void 0===br||br.emit({data:Ze,role:ft}),(a.get(st)||[]).forEach(Gt=>Gt.destroy()),a.delete(st),st.el.classList.add("overlay-hidden"),st.el.style.removeProperty("pointer-events"),void 0!==st.el.lastFocus&&(st.el.lastFocus=void 0)}catch(pr){console.error(pr)}return st.el.remove(),Ue(),!0});return function(Ze,ft,Ot,ar,Vt,tr,zt){return Ye.apply(this,arguments)}}(),le=Ye=>Ye.querySelector("ion-app")||Ye.body,Ie=function(){var Ye=(0,M.A)(function*(st,Ze,ft,Ot){ft.classList.remove("overlay-hidden");const Vt=Ze(st.el,Ot);(!st.animated||!o.c.getBoolean("animated",!0))&&Vt.duration(0),st.keyboardClose&&Vt.beforeAddWrite(()=>{const zt=ft.ownerDocument.activeElement;null!=zt&&zt.matches("input,ion-input, ion-textarea")&&zt.blur()});const tr=a.get(st)||[];return a.set(st,[...tr,Vt]),yield Vt.play(),!0});return function(Ze,ft,Ot,ar){return Ye.apply(this,arguments)}}(),J=(Ye,st)=>{let Ze;const ft=new Promise(Ot=>Ze=Ot);return j(Ye,st,Ot=>{Ze(Ot.detail)}),ft},j=(Ye,st,Ze)=>{const ft=Ot=>{(0,et.b)(Ye,st,ft),Ze(Ot)};(0,et.a)(Ye,st,ft)},ne=Ye=>"cancel"===Ye||Ye===$e,me=Ye=>Ye(),De=(Ye,st)=>{if("function"==typeof Ye)return o.c.get("_zoneGate",me)(()=>{try{return Ye(st)}catch(ft){throw ft}})},$e="backdrop",qe="gesture",ut=39,He=Ye=>{let Ze,st=!1;const ft=(0,se.C)(),Ot=(tr=!1)=>{if(Ze&&!tr)return{delegate:Ze,inline:st};const{el:zt,hasController:br,delegate:Zt}=Ye;return st=null!==zt.parentNode&&!br,Ze=st?Zt||ft:Zt,{inline:st,delegate:Ze}};return{attachViewToDom:function(){var tr=(0,M.A)(function*(zt){const{delegate:br}=Ot(!0);if(br)return yield br.attachViewToDom(Ye.el,zt);const{hasController:Zt}=Ye;if(Zt&&void 0!==zt)throw new Error("framework delegate is missing");return null});return function(br){return tr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:tr}=Ot();tr&&void 0!==Ye.el&&tr.removeViewFromDom(Ye.el.parentElement,Ye.el)}}},ot=()=>{let Ye;const st=()=>{Ye&&(Ye(),Ye=void 0)};return{addClickListener:(ft,Ot)=>{st();const ar=void 0!==Ot?document.getElementById(Ot):null;ar?Ye=((tr,zt)=>{const br=()=>{zt.present()};return tr.addEventListener("click",br),()=>{tr.removeEventListener("click",br)}})(ar,ft):(0,v.p)(`A trigger element with the ID "${Ot}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ft)},removeClickListener:st}},at=Ye=>{var st;if(void 0===T.d)return;const Ze=re(T.d);for(let ft=Ze.length-1;ft>=0;ft--){const Ot=Ze[ft],ar=null!==(st=Ze[ft+1])&&void 0!==st?st:Ye;(ar.hasAttribute("aria-hidden")||"ION-TOAST"!==ar.tagName)&&Ot.setAttribute("aria-hidden","true")}},Ue=()=>{if(void 0===T.d)return;const Ye=re(T.d);for(let st=Ye.length-1;st>=0;st--){const Ze=Ye[st];if(Ze.removeAttribute("aria-hidden"),"ION-TOAST"!==Ze.tagName)break}},nt="ion-disable-focus-trap"},1288:(xr,or,_e)=>{"use strict";_e.d(or,{H:()=>d,b:()=>ar,c:()=>y,f:()=>He,g:()=>p,h:()=>l,p:()=>Ft,r:()=>lr});var M=_e(467);let et,Et,o=!1,se=!1;const f={},i=dt=>"object"==(dt=typeof dt)||"function"===dt;function a(dt){var xt,nr,Kt;return null!==(Kt=null===(nr=null===(xt=dt.head)||void 0===xt?void 0:xt.querySelector('meta[name="csp-nonce"]'))||void 0===nr?void 0:nr.getAttribute("content"))&&void 0!==Kt?Kt:void 0}const l=(dt,xt,...nr)=>{let Kt=null,ur=!1,vr=!1;const hr=[],Mr=fe=>{for(let Te=0;Te<fe.length;Te++)Kt=fe[Te],Array.isArray(Kt)?Mr(Kt):null!=Kt&&"boolean"!=typeof Kt&&((ur="function"!=typeof dt&&!i(Kt))&&(Kt=String(Kt)),ur&&vr?hr[hr.length-1].$text$+=Kt:hr.push(ur?u(null,Kt):Kt),vr=ur)};if(Mr(nr),xt){const fe=xt.className||xt.class;fe&&(xt.class="object"!=typeof fe?fe:Object.keys(fe).filter(Te=>fe[Te]).join(" "))}const W=u(dt,null);return W.$attrs$=xt,hr.length>0&&(W.$children$=hr),W},u=(dt,xt)=>({$flags$:0,$tag$:dt,$text$:xt,$elm$:null,$children$:null,$attrs$:null}),d={},p=dt=>Ct(dt).$hostElement$,y=(dt,xt,nr)=>{const Kt=p(dt);return{emit:ur=>D(Kt,xt,{bubbles:!!(4&nr),composed:!!(2&nr),cancelable:!!(1&nr),detail:ur})}},D=(dt,xt,nr)=>{const Kt=yt.ce(xt,nr);return dt.dispatchEvent(Kt),Kt},V=new WeakMap,U=(dt,xt)=>"sc-"+dt.$tagName$,A=(dt,xt,nr,Kt,ur,vr)=>{if(nr!==Kt){let hr=Ve(dt,xt),Mr=xt.toLowerCase();if("class"===xt){const W=dt.classList,fe=O(nr),Te=O(Kt);W.remove(...fe.filter(w=>w&&!Te.includes(w))),W.add(...Te.filter(w=>w&&!fe.includes(w)))}else if("style"===xt){for(const W in nr)(!Kt||null==Kt[W])&&(W.includes("-")?dt.style.removeProperty(W):dt.style[W]="");for(const W in Kt)(!nr||Kt[W]!==nr[W])&&(W.includes("-")?dt.style.setProperty(W,Kt[W]):dt.style[W]=Kt[W])}else if("ref"===xt)Kt&&Kt(dt);else if(hr||"o"!==xt[0]||"n"!==xt[1]){const W=i(Kt);if((hr||W&&null!==Kt)&&!ur)try{if(dt.tagName.includes("-"))dt[xt]=Kt;else{const fe=null==Kt?"":Kt;"list"===xt?hr=!1:(null==nr||dt[xt]!=fe)&&(dt[xt]=fe)}}catch{}null==Kt||!1===Kt?(!1!==Kt||""===dt.getAttribute(xt))&&dt.removeAttribute(xt):(!hr||4&vr||ur)&&!W&&dt.setAttribute(xt,Kt=!0===Kt?"":Kt)}else xt="-"===xt[2]?xt.slice(3):Ve(At,Mr)?Mr.slice(2):Mr[2]+xt.slice(3),nr&&yt.rel(dt,xt,nr,!1),Kt&&yt.ael(dt,xt,Kt,!1)}},R=/\s/,O=dt=>dt?dt.split(R):[],Z=(dt,xt,nr,Kt)=>{const ur=11===xt.$elm$.nodeType&&xt.$elm$.host?xt.$elm$.host:xt.$elm$,vr=dt&&dt.$attrs$||f,hr=xt.$attrs$||f;for(Kt in vr)Kt in hr||A(ur,Kt,vr[Kt],void 0,nr,xt.$flags$);for(Kt in hr)A(ur,Kt,vr[Kt],hr[Kt],nr,xt.$flags$)},re=(dt,xt,nr,Kt)=>{const ur=xt.$children$[nr];let hr,Mr,vr=0;if(null!==ur.$text$)hr=ur.$elm$=Ht.createTextNode(ur.$text$);else{if(o||(o="svg"===ur.$tag$),hr=ur.$elm$=Ht.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ur.$tag$),o&&"foreignObject"===ur.$tag$&&(o=!1),Z(null,ur,o),(dt=>null!=dt)(et)&&hr["s-si"]!==et&&hr.classList.add(hr["s-si"]=et),ur.$children$)for(vr=0;vr<ur.$children$.length;++vr)Mr=re(dt,ur,vr),Mr&&hr.appendChild(Mr);"svg"===ur.$tag$?o=!1:"foreignObject"===hr.tagName&&(o=!0)}return hr},q=(dt,xt,nr,Kt,ur,vr)=>{let Mr,hr=dt;for(hr.shadowRoot&&hr.tagName===Et&&(hr=hr.shadowRoot);ur<=vr;++ur)Kt[ur]&&(Mr=re(null,nr,ur),Mr&&(Kt[ur].$elm$=Mr,hr.insertBefore(Mr,xt)))},te=(dt,xt,nr)=>{for(let Kt=xt;Kt<=nr;++Kt){const ur=dt[Kt];if(ur){const vr=ur.$elm$;le(ur),vr&&vr.remove()}}},G=(dt,xt)=>dt.$tag$===xt.$tag$,Y=(dt,xt)=>{const nr=xt.$elm$=dt.$elm$,Kt=dt.$children$,ur=xt.$children$,vr=xt.$tag$,hr=xt.$text$;null===hr?(o="svg"===vr||"foreignObject"!==vr&&o,Z(dt,xt,o),null!==Kt&&null!==ur?((dt,xt,nr,Kt)=>{let I,ur=0,vr=0,hr=xt.length-1,Mr=xt[0],W=xt[hr],fe=Kt.length-1,Te=Kt[0],w=Kt[fe];for(;ur<=hr&&vr<=fe;)null==Mr?Mr=xt[++ur]:null==W?W=xt[--hr]:null==Te?Te=Kt[++vr]:null==w?w=Kt[--fe]:G(Mr,Te)?(Y(Mr,Te),Mr=xt[++ur],Te=Kt[++vr]):G(W,w)?(Y(W,w),W=xt[--hr],w=Kt[--fe]):G(Mr,w)?(Y(Mr,w),dt.insertBefore(Mr.$elm$,W.$elm$.nextSibling),Mr=xt[++ur],w=Kt[--fe]):G(W,Te)?(Y(W,Te),dt.insertBefore(W.$elm$,Mr.$elm$),W=xt[--hr],Te=Kt[++vr]):(I=re(xt&&xt[vr],nr,vr),Te=Kt[++vr],I&&Mr.$elm$.parentNode.insertBefore(I,Mr.$elm$));ur>hr?q(dt,null==Kt[fe+1]?null:Kt[fe+1].$elm$,nr,Kt,vr,fe):vr>fe&&te(xt,ur,hr)})(nr,Kt,xt,ur):null!==ur?(null!==dt.$text$&&(nr.textContent=""),q(nr,null,xt,ur,0,ur.length-1)):null!==Kt&&te(Kt,0,Kt.length-1),o&&"svg"===vr&&(o=!1)):dt.$text$!==hr&&(nr.data=hr)},le=dt=>{dt.$attrs$&&dt.$attrs$.ref&&dt.$attrs$.ref(null),dt.$children$&&dt.$children$.map(le)},J=(dt,xt)=>{xt&&!dt.$onRenderResolve$&&xt["s-p"]&&xt["s-p"].push(new Promise(nr=>dt.$onRenderResolve$=nr))},j=(dt,xt)=>{if(dt.$flags$|=16,!(4&dt.$flags$))return J(dt,dt.$ancestorComponent$),fr(()=>ne(dt,xt));dt.$flags$|=512},ne=(dt,xt)=>{const Kt=dt.$lazyInstance$;return xt&&(dt.$flags$|=256,dt.$queuedListeners$&&(dt.$queuedListeners$.map(([vr,hr])=>at(Kt,vr,hr)),dt.$queuedListeners$=void 0)),me(void 0,()=>$e(dt,Kt,xt))},me=(dt,xt)=>De(dt)?dt.then(xt):xt(),De=dt=>dt instanceof Promise||dt&&dt.then&&"function"==typeof dt.then,$e=function(){var dt=(0,M.A)(function*(xt,nr,Kt){var ur;const vr=xt.$hostElement$,Mr=vr["s-rc"];Kt&&(dt=>{const xt=dt.$cmpMeta$,nr=dt.$hostElement$,Kt=xt.$flags$,vr=((dt,xt,nr,Kt)=>{var ur;let vr=U(xt);const hr=It.get(vr);if(dt=11===dt.nodeType?dt:Ht,hr)if("string"==typeof hr){let W,Mr=V.get(dt=dt.head||dt);if(Mr||V.set(dt,Mr=new Set),!Mr.has(vr)){{W=Ht.createElement("style"),W.innerHTML=hr;const fe=null!==(ur=yt.$nonce$)&&void 0!==ur?ur:a(Ht);null!=fe&&W.setAttribute("nonce",fe),dt.insertBefore(W,dt.querySelector("link"))}Mr&&Mr.add(vr)}}else dt.adoptedStyleSheets.includes(hr)||(dt.adoptedStyleSheets=[...dt.adoptedStyleSheets,hr]);return vr})(nr.shadowRoot?nr.shadowRoot:nr.getRootNode(),xt);10&Kt&&(nr["s-sc"]=vr,nr.classList.add(vr+"-h"))})(xt);qe(xt,nr),Mr&&(Mr.map(fe=>fe()),vr["s-rc"]=void 0);{const fe=null!==(ur=vr["s-p"])&&void 0!==ur?ur:[],Te=()=>ut(xt);0===fe.length?Te():(Promise.all(fe).then(Te),xt.$flags$|=4,fe.length=0)}});return function(nr,Kt,ur){return dt.apply(this,arguments)}}(),qe=(dt,xt,nr)=>{try{xt=xt.render(),dt.$flags$&=-17,dt.$flags$|=2,((dt,xt)=>{const nr=dt.$hostElement$,Kt=dt.$vnode$||u(null,null),ur=(dt=>dt&&dt.$tag$===d)(xt)?xt:l(null,null,xt);Et=nr.tagName,ur.$tag$=null,ur.$flags$|=4,dt.$vnode$=ur,ur.$elm$=Kt.$elm$=nr.shadowRoot||nr,et=nr["s-sc"],Y(Kt,ur)})(dt,xt)}catch(Kt){We(Kt,dt.$hostElement$)}return null},ut=dt=>{const nr=dt.$hostElement$,ur=dt.$lazyInstance$,vr=dt.$ancestorComponent$;64&dt.$flags$||(dt.$flags$|=64,Ue(nr),at(ur,"componentDidLoad"),dt.$onReadyResolve$(nr),vr||ot()),dt.$onInstanceResolve$(nr),dt.$onRenderResolve$&&(dt.$onRenderResolve$(),dt.$onRenderResolve$=void 0),512&dt.$flags$&&Pt(()=>j(dt,!1)),dt.$flags$&=-517},He=dt=>{{const xt=Ct(dt),nr=xt.$hostElement$.isConnected;return nr&&2==(18&xt.$flags$)&&j(xt,!1),nr}},ot=dt=>{Ue(Ht.documentElement),Pt(()=>D(At,"appload",{detail:{namespace:"ionicpwaelements"}}))},at=(dt,xt,nr)=>{if(dt&&dt[xt])try{return dt[xt](nr)}catch(Kt){We(Kt)}},Ue=dt=>dt.classList.add("hydrated"),st=(dt,xt,nr)=>{if(xt.$members$){const Kt=Object.entries(xt.$members$),ur=dt.prototype;if(Kt.map(([vr,[hr]])=>{31&hr||2&nr&&32&hr?Object.defineProperty(ur,vr,{get(){return((dt,xt)=>Ct(this).$instanceValues$.get(xt))(0,vr)},set(Mr){((dt,xt,nr,Kt)=>{const ur=Ct(dt),vr=ur.$instanceValues$.get(xt),hr=ur.$flags$,Mr=ur.$lazyInstance$;nr=((dt,xt)=>null==dt||i(dt)?dt:4&xt?"false"!==dt&&(""===dt||!!dt):2&xt?parseFloat(dt):1&xt?String(dt):dt)(nr,Kt.$members$[xt][0]);const W=Number.isNaN(vr)&&Number.isNaN(nr);(!(8&hr)||void 0===vr)&&nr!==vr&&!W&&(ur.$instanceValues$.set(xt,nr),Mr&&2==(18&hr)&&j(ur,!1))})(this,vr,Mr,xt)},configurable:!0,enumerable:!0}):1&nr&&64&hr&&Object.defineProperty(ur,vr,{value(...Mr){const W=Ct(this);return W.$onInstancePromise$.then(()=>W.$lazyInstance$[vr](...Mr))}})}),1&nr){const vr=new Map;ur.attributeChangedCallback=function(hr,Mr,W){yt.jmp(()=>{const fe=vr.get(hr);if(this.hasOwnProperty(fe))W=this[fe],delete this[fe];else if(ur.hasOwnProperty(fe)&&"number"==typeof this[fe]&&this[fe]==W)return;this[fe]=(null!==W||"boolean"!=typeof this[fe])&&W})},dt.observedAttributes=Kt.filter(([hr,Mr])=>15&Mr[0]).map(([hr,Mr])=>{const W=Mr[1]||hr;return vr.set(W,hr),W})}}return dt},Ze=function(){var dt=(0,M.A)(function*(xt,nr,Kt,ur,vr){if(!(32&nr.$flags$)){nr.$flags$|=32;{if((vr=Je(Kt)).then){const fe=()=>{};vr=yield vr,fe()}vr.isProxied||(st(vr,Kt,2),vr.isProxied=!0);const W=()=>{};nr.$flags$|=8;try{new vr(nr)}catch(fe){We(fe)}nr.$flags$&=-9,W()}if(vr.style){let W=vr.style;const fe=U(Kt);if(!It.has(fe)){const Te=()=>{};((dt,xt,nr)=>{let Kt=It.get(dt);Jt&&nr?(Kt=Kt||new CSSStyleSheet,"string"==typeof Kt?Kt=xt:Kt.replaceSync(xt)):Kt=xt,It.set(dt,Kt)})(fe,W,!!(1&Kt.$flags$)),Te()}}}const hr=nr.$ancestorComponent$,Mr=()=>j(nr,!0);hr&&hr["s-rc"]?hr["s-rc"].push(Mr):Mr()});return function(nr,Kt,ur,vr,hr){return dt.apply(this,arguments)}}(),ar=(dt,xt={})=>{var nr;const ur=[],vr=xt.exclude||[],hr=At.customElements,Mr=Ht.head,W=Mr.querySelector("meta[charset]"),fe=Ht.createElement("style"),Te=[];let w,I=!0;Object.assign(yt,xt),yt.$resourcesUrl$=new URL(xt.resourcesUrl||"./",Ht.baseURI).href,dt.map(H=>{H[1].map(F=>{const z={$flags$:F[0],$tagName$:F[1],$members$:F[2],$listeners$:F[3]};z.$members$=F[2],z.$listeners$=F[3];const B=z.$tagName$,ue=class extends HTMLElement{constructor(Se){super(Se),Gt(Se=this,z),1&z.$flags$&&Se.attachShadow({mode:"open"})}connectedCallback(){w&&(clearTimeout(w),w=null),I?Te.push(this):yt.jmp(()=>(dt=>{if(!(1&yt.$flags$)){const xt=Ct(dt),nr=xt.$cmpMeta$,Kt=()=>{};if(1&xt.$flags$)Vt(dt,xt,nr.$listeners$);else{xt.$flags$|=1;{let ur=dt;for(;ur=ur.parentNode||ur.host;)if(ur["s-p"]){J(xt,xt.$ancestorComponent$=ur);break}}nr.$members$&&Object.entries(nr.$members$).map(([ur,[vr]])=>{if(31&vr&&dt.hasOwnProperty(ur)){const hr=dt[ur];delete dt[ur],dt[ur]=hr}}),Ze(dt,xt,nr)}Kt()}})(this))}disconnectedCallback(){yt.jmp(()=>(dt=>{if(!(1&yt.$flags$)){const xt=Ct(this),nr=xt.$lazyInstance$;xt.$rmListeners$&&(xt.$rmListeners$.map(Kt=>Kt()),xt.$rmListeners$=void 0),at(nr,"disconnectedCallback")}})())}componentOnReady(){return Ct(this).$onReadyPromise$}};z.$lazyBundleId$=H[0],!vr.includes(B)&&!hr.get(B)&&(ur.push(B),hr.define(B,st(ue,z,1)))})});{fe.innerHTML=ur+"{visibility:hidden}.hydrated{visibility:inherit}",fe.setAttribute("data-styles","");const H=null!==(nr=yt.$nonce$)&&void 0!==nr?nr:a(Ht);null!=H&&fe.setAttribute("nonce",H),Mr.insertBefore(fe,W?W.nextSibling:Mr.firstChild)}I=!1,Te.length?Te.map(H=>H.connectedCallback()):yt.jmp(()=>w=setTimeout(ot,30))},Vt=(dt,xt,nr,Kt)=>{nr&&nr.map(([ur,vr,hr])=>{const Mr=zt(dt,ur),W=tr(xt,hr),fe=br(ur);yt.ael(Mr,vr,W,fe),(xt.$rmListeners$=xt.$rmListeners$||[]).push(()=>yt.rel(Mr,vr,W,fe))})},tr=(dt,xt)=>nr=>{try{256&dt.$flags$?dt.$lazyInstance$[xt](nr):(dt.$queuedListeners$=dt.$queuedListeners$||[]).push([xt,nr])}catch(Kt){We(Kt)}},zt=(dt,xt)=>16&xt?Ht.body:dt,br=dt=>!!(2&dt),pr=new WeakMap,Ct=dt=>pr.get(dt),lr=(dt,xt)=>pr.set(xt.$lazyInstance$=dt,xt),Gt=(dt,xt)=>{const nr={$flags$:0,$hostElement$:dt,$cmpMeta$:xt,$instanceValues$:new Map};return nr.$onInstancePromise$=new Promise(Kt=>nr.$onInstanceResolve$=Kt),nr.$onReadyPromise$=new Promise(Kt=>nr.$onReadyResolve$=Kt),dt["s-p"]=[],dt["s-rc"]=[],Vt(dt,nr,xt.$listeners$),pr.set(dt,nr)},Ve=(dt,xt)=>xt in dt,We=(dt,xt)=>(0,console.error)(dt,xt),Oe=new Map,Je=(dt,xt,nr)=>{const Kt=dt.$tagName$.replace(/-/g,"_"),ur=dt.$lazyBundleId$,vr=Oe.get(ur);if(vr)return vr[Kt];if(!nr||!BUILD.hotModuleReplacement){const hr=Mr=>(Oe.set(ur,Mr),Mr[Kt]);switch(ur){case"pwa-action-sheet":return _e.e(6301).then(_e.bind(_e,6301)).then(hr,We);case"pwa-camera-modal":return _e.e(2982).then(_e.bind(_e,2982)).then(hr,We);case"pwa-toast":return _e.e(3574).then(_e.bind(_e,3574)).then(hr,We);case"pwa-camera-modal-instance":return _e.e(5640).then(_e.bind(_e,5640)).then(hr,We);case"pwa-camera":return _e.e(6086).then(_e.bind(_e,6086)).then(hr,We)}}return _e(5235)(`./${ur}.entry.js`).then(hr=>(Oe.set(ur,hr),hr[Kt]),We)},It=new Map,At=typeof window<"u"?window:{},Ht=At.document||{head:{}},yt={$flags$:0,$resourcesUrl$:"",jmp:dt=>dt(),raf:dt=>requestAnimationFrame(dt),ael:(dt,xt,nr,Kt)=>dt.addEventListener(xt,nr,Kt),rel:(dt,xt,nr,Kt)=>dt.removeEventListener(xt,nr,Kt),ce:(dt,xt)=>new CustomEvent(dt,xt)},Ft=dt=>Promise.resolve(dt),Jt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rr=[],Rt=[],vt=(dt,xt)=>nr=>{dt.push(nr),se||(se=!0,xt&&4&yt.$flags$?Pt(bt):yt.raf(bt))},Lt=dt=>{for(let xt=0;xt<dt.length;xt++)try{dt[xt](performance.now())}catch(nr){We(nr)}dt.length=0},bt=()=>{Lt(rr),Lt(Rt),(se=rr.length>0)&&yt.raf(bt)},Pt=dt=>Ft().then(dt),fr=vt(Rt,!0)},5402:(xr,or,_e)=>{"use strict";_e.d(or,{R:()=>T});const T=(0,_e(5083).F3)("VoiceRecorder",{web:()=>_e.e(9888).then(_e.bind(_e,9888)).then(et=>new et.VoiceRecorderWeb)})},92:(xr,or,_e)=>{"use strict";_e.d(or,{Yl:()=>_,ZL:()=>i,aH:()=>S});var M=_e(467),T=_e(8326),Et=_e(3953),o=_e(3656),se=_e(5374),$=_e(5547),v=_e(4237),b=_e(755),f=_e(4234),g=_e(482),S="DesktopPWA",_=!1;window.p5=T;let i=(()=>{var a;class l{constructor(d,h,m,p,y,D){d.is("desktop")?S="DesktopPWA":d.is("mobileweb")?S="MobilePWA":d.is("android")?S="Android":d.is("iphone")&&(S="iOS"),_=d.is("electron"),p.initialize((0,M.A)(function*(){y.Callback_nakama=()=>{m.initialize(),y.Callback_nakama=null};try{let L=yield p.loadBlobFromUserPath("translate.csv",""),P=URL.createObjectURL(L);y.load_selected_lang(P)}catch{y.load_selected_lang()}let V=D.CatchGETs(location.href)||{};D.initialize(),m.AddressToQRCodeAct(V),h.initialize(),h.load_settings(),p.GetFileListFromDB("tmp_files",L=>{L.forEach(P=>p.removeFileFromUserPath(P))})}))}}return(a=l).\u0275fac=function(d){return new(d||a)(Et.rXU(o.OD),Et.rXU($.r),Et.rXU(v.X),Et.rXU(b.n),Et.rXU(f.y),Et.rXU(g.z3))},a.\u0275cmp=Et.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(d,h){1&d&&(Et.j41(0,"ion-app"),Et.nrm(1,"ion-router-outlet"),Et.k0s())},dependencies:[se.U1,se.Rg]}),l})()},482:(xr,or,_e)=>{"use strict";_e.d(or,{xM:()=>y,z3:()=>D,ud:()=>p});var M=_e(467),T=_e(4023),et=_e(8326),Et=_e(617),o=_e(92),se=_e(5083),$=function(V){return V.Prompt="PROMPT",V.Camera="CAMERA",V.Photos="PHOTOS",V}($||{}),v=function(V){return V.Rear="REAR",V.Front="FRONT",V}(v||{}),b=function(V){return V.Uri="uri",V.Base64="base64",V.DataUrl="dataUrl",V}(b||{});class f extends se.E_{getPhoto(L){var P=this;return(0,M.A)(function*(){return new Promise(function(){var x=(0,M.A)(function*(U,A){if(L.webUseInput||L.source===$.Photos)P.fileInputExperience(L,U,A);else if(L.source===$.Prompt){let R=document.querySelector("pwa-action-sheet");R||(R=document.createElement("pwa-action-sheet"),document.body.appendChild(R)),R.header=L.promptLabelHeader||"Photo",R.cancelable=!1,R.options=[{title:L.promptLabelPhoto||"From Photos"},{title:L.promptLabelPicture||"Take Picture"}],R.addEventListener("onSelection",function(){var O=(0,M.A)(function*(Z){0===Z.detail?P.fileInputExperience(L,U,A):P.cameraExperience(L,U,A)});return function(Z){return O.apply(this,arguments)}}())}else P.cameraExperience(L,U,A)});return function(U,A){return x.apply(this,arguments)}}())})()}pickImages(L){var P=this;return(0,M.A)(function*(){return new Promise(function(){var x=(0,M.A)(function*(U,A){P.multipleFileInputExperience(U,A)});return function(U,A){return x.apply(this,arguments)}}())})()}cameraExperience(L,P,x){var U=this;return(0,M.A)(function*(){if(customElements.get("pwa-camera-modal")){const A=document.createElement("pwa-camera-modal");A.facingMode=L.direction===v.Front?"user":"environment",document.body.appendChild(A);try{yield A.componentOnReady(),A.addEventListener("onPhoto",function(){var R=(0,M.A)(function*(O){const Z=O.detail;null===Z?x(new se.I9("User cancelled photos app")):Z instanceof Error?x(Z):P(yield U._getCameraPhoto(Z,L)),A.dismiss(),document.body.removeChild(A)});return function(O){return R.apply(this,arguments)}}()),A.present()}catch{U.fileInputExperience(L,P,x)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),U.fileInputExperience(L,P,x)})()}fileInputExperience(L,P,x){let U=document.querySelector("#_capacitor-camera-input");const A=()=>{var R;null===(R=U.parentNode)||void 0===R||R.removeChild(U)};U||(U=document.createElement("input"),U.id="_capacitor-camera-input",U.type="file",U.hidden=!0,document.body.appendChild(U),U.addEventListener("change",R=>{const O=U.files[0];let Z="jpeg";if("image/png"===O.type?Z="png":"image/gif"===O.type&&(Z="gif"),"dataUrl"===L.resultType||"base64"===L.resultType){const re=new FileReader;re.addEventListener("load",()=>{if("dataUrl"===L.resultType)P({dataUrl:re.result,format:Z});else if("base64"===L.resultType){const q=re.result.split(",")[1];P({base64String:q,format:Z})}A()}),re.readAsDataURL(O)}else P({webPath:URL.createObjectURL(O),format:Z}),A()}),U.addEventListener("cancel",R=>{x(new se.I9("User cancelled photos app")),A()})),U.accept="image/*",U.capture=!0,L.source===$.Photos||L.source===$.Prompt?U.removeAttribute("capture"):L.direction===v.Front?U.capture="user":L.direction===v.Rear&&(U.capture="environment"),U.click()}multipleFileInputExperience(L,P){let x=document.querySelector("#_capacitor-camera-input-multiple");const U=()=>{var A;null===(A=x.parentNode)||void 0===A||A.removeChild(x)};x||(x=document.createElement("input"),x.id="_capacitor-camera-input-multiple",x.type="file",x.hidden=!0,x.multiple=!0,document.body.appendChild(x),x.addEventListener("change",A=>{const R=[];for(let O=0;O<x.files.length;O++){const Z=x.files[O];let re="jpeg";"image/png"===Z.type?re="png":"image/gif"===Z.type&&(re="gif"),R.push({webPath:URL.createObjectURL(Z),format:re})}L({photos:R}),U()}),x.addEventListener("cancel",A=>{P(new se.I9("User cancelled photos app")),U()})),x.accept="image/*",x.click()}_getCameraPhoto(L,P){return new Promise((x,U)=>{const A=new FileReader,R=L.type.split("/")[1];"uri"===P.resultType?x({webPath:URL.createObjectURL(L),format:R,saved:!1}):(A.readAsDataURL(L),A.onloadend=()=>{const O=A.result;x("dataUrl"===P.resultType?{dataUrl:O,format:R,saved:!1}:{base64String:O.split(",")[1],format:R,saved:!1})},A.onerror=O=>{U(O)})})}checkPermissions(){var L=this;return(0,M.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw L.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw L.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var L=this;return(0,M.A)(function*(){throw L.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var L=this;return(0,M.A)(function*(){throw L.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var L=this;return(0,M.A)(function*(){throw L.unavailable("Not implemented on web.")})()}}new f;const S=(0,se.F3)("Camera",{web:()=>new f});var _=_e(5402),i=_e(3953),a=_e(5374),l=_e(3656),u=_e(9900),d=_e(4234),h=_e(345),m=_e(755),p=!1;const y=8e4;let D=(()=>{var V;class L{constructor(x,U,A,R,O,Z,re){this.modalCtrl=x,this.p5toast=U,this.lang=A,this.sanitizer=R,this.indexed=O,this.loadingCtrl=Z,this.navCtrl=re,this.FocusOnPortal=!0,this.BlockMainShortcut=!1,this.PortalBottonTabAct={Todo:void 0,Subscribes:void 0,Arcade:void 0,Community:void 0},this.GodotCache={},this.ArcadeLoaded=!1,this.ArcadeWithFullScreen=!1,this.ArcadeObject={QRCode:void 0},this.JSBlendCache={},this.CacheShortCut={},this.useLocalAddress=!1,this.WindowOnBlurAct={},this.WebsocketRetryTerm=70,this.WaitingConnect=!1,this.InitEnd=!1,this.PeerConnected=!1,this.PageDismissAct={},p=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",q=>{p=!!q.matches}),this.useLocalAddress="true"==localStorage.getItem("useQRCodeBasic")}initialize(){let x=localStorage.getItem("ShowHint");null!==x&&(this.ShowHint="1"==x),void 0===this.ShowHint&&(this.ShowHint="DesktopPWA"==o.aH),window.onblur=()=>{let U=Object.keys(this.WindowOnBlurAct);for(let A of U)this.WindowOnBlurAct[A]()},this.p5toast.HTMLEncode||(this.p5toast.HTMLEncode=this.HTMLEncode),this.p5key=new et(U=>{U.setup=()=>{U.noCanvas(),U.noLoop(),this.p5KeyShortCut={}},U.keyPressed=A=>{if(!this.BlockMainShortcut&&this.p5KeyShortCut){switch(A.code){case"Backspace":this.p5KeyShortCut.Backspace&&this.p5KeyShortCut.Backspace();break;case"Backquote":this.p5KeyShortCut.Backquote&&this.p5KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(this.p5KeyShortCut.Digit){let R=(Number(A.code.slice(-1))-1+10)%10;this.p5KeyShortCut.Digit(R)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":this.p5KeyShortCut.BottomTab&&this.p5KeyShortCut.BottomTab(A.code.slice(-1));break;case"KeyA":this.p5KeyShortCut.AddAct&&this.p5KeyShortCut.AddAct();break;case"KeyS":this.p5KeyShortCut.SKeyAct&&this.p5KeyShortCut.SKeyAct(A);break;case"KeyD":this.p5KeyShortCut.DeleteAct&&this.p5KeyShortCut.DeleteAct();break;case"KeyF":this.p5KeyShortCut.FKeyAct&&this.p5KeyShortCut.FKeyAct();break;case"Escape":this.p5KeyShortCut.Escape&&this.p5KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":this.p5KeyShortCut.HistoryAct&&this.p5KeyShortCut.HistoryAct(A)}"Enter"===A.key&&this.p5KeyShortCut.EnterAct&&this.p5KeyShortCut.EnterAct(A)}}})}RemoveAllModals(x=(()=>{})){var U=this;return(0,M.A)(function*(){let A="init";for(;A;)A=yield U.modalCtrl.getTop(),A&&(yield A.dismiss());x&&x()})()}CatchGETs(x){const U=x.split("?");if(U.length>1){const A=U[1].split("&");let R={};for(let O=0,Z=A.length;O<Z;O++){const re=A[O].split("=");R[re[0]]||(R[re[0]]=[]),R[re[0]].push(decodeURIComponent(re[1]))}return R}}readasQRCodeFromString(x){try{let U=new T({content:x,padding:4,width:8,height:8,color:p?"#bbb":"#444",background:p?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(U)}`)}catch(U){console.log("readasQRCodeFromString: ",U),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${U}`})}}CreateGodotIFrame(x,U,A=!1){var R=this;return new Promise(function(){var O=(0,M.A)(function*(Z){let re=function(){var G=(0,M.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(!R.godot_window.start_load_pck)throw"No act ready";yield R.indexed.GetGodotIndexedDB(),Z()}catch{setTimeout(()=>{re()},1e3)}});return function(){return G.apply(this,arguments)}}();R.godot_window&&R.godot_window.quit_godot&&R.godot_window.quit_godot(),R.godot_window&&R.godot_window.quit_ionic&&A&&R.godot_window.quit_ionic(),R.godot_splash&&R.godot_splash.remove(),R.godot&&R.godot.remove(),window.godot="";{Object.keys(R.GodotCache).forEach(Ot=>{URL.revokeObjectURL(R.GodotCache[Ot]),delete R.GodotCache[Ot]});let Y=yield(yield fetch("assets/html/index.audio.worklet.js")).blob(),le=URL.createObjectURL(Y);R.GodotCache.audio=le;let J=yield(yield fetch("assets/html/index.wasm")).blob(),j=URL.createObjectURL(J);R.GodotCache.wasm=j;let me=yield(yield fetch("assets/html/index.pck")).blob(),De=URL.createObjectURL(me);R.GodotCache.pck=De;let qe=yield(yield fetch("assets/html/index.png")).blob(),ut=URL.createObjectURL(qe);R.GodotCache.png=ut;let ot=yield(yield fetch("assets/html/index.js")).text();ot=ot.replace("`${loadPath}.audio.worklet.js`",`'${le}'`).replace(/`\${loadPath}\.wasm`/g,`'${j}'`).replace("this.config.mainPack || `${exe}.pck`;",`'${De}'`);let at=new Blob([ot],{type:"application/javascript"}),Ue=URL.createObjectURL(at);R.GodotCache.js=Ue;let Ye=yield(yield fetch("assets/html/index.html")).text();Ye=Ye.replace('<script src="index.js"><\/script>',`<script src="${Ue}"><\/script>`).replace('src="index.png"',`src="${ut}"`);let st=new Blob([Ye],{type:"text/html"}),Ze=URL.createObjectURL(st);R.GodotCache.html=Ze}let q=document.createElement("iframe");q.id="godot",q.setAttribute("src",R.GodotCache.html),q.setAttribute("frameborder","0"),q.setAttribute("class","full_screen"),q.setAttribute("allow","fullscreen; encrypted-media"),q.setAttribute("scrolling","no"),q.setAttribute("withCredentials","true"),U.isMobile="DesktopPWA"!=o.aH,"content_viewer_canvas"==x&&(U.create_thumbnail_p5=function(){var G=(0,M.A)(function*(Y,le=void 0){Object.keys(R.GodotCache).forEach(J=>{URL.revokeObjectURL(R.GodotCache[J]),delete R.GodotCache[J]}),new et(Ie=>{Ie.setup=()=>{Ie.noCanvas(),Ie.pixelDensity(1),Ie.loadImage("data:image/png;base64,"+Y,function(){var J=(0,M.A)(function*(j){let ne=Ie.createCanvas(j.width,j.height);Ie.image(j,0,0),Ie.textSize(16),Ie.textWrap(Ie.CHAR);let me=Ie.height/24;Ie.push(),Ie.translate(me/6,me/6),Ie.fill(0),Ie.text(R.godot_window.filename,me,me,Ie.width-2*me,Ie.height-2*me),Ie.filter(Ie.BLUR,3,!1),Ie.pop(),Ie.fill(255),Ie.text(R.godot_window.filename,me,me,Ie.width-2*me,Ie.height-2*me);let De=ne.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield R.indexed.saveBase64ToUserPath(De,`${U.alt_path||U.path}_thumbnail.png`),R.modulate_thumbnail(le,"")}catch($e){console.log("p.saveFrames: ",$e)}Ie.remove()});return function(j){return J.apply(this,arguments)}}(),J=>{console.error("create_thumbnail_load thumbnail failed: ",J),Ie.remove()})}})});return function(Y){return G.apply(this,arguments)}}()),U.fullscr_tog=G=>{R.ArcadeWithFullScreen=null!=G?G:!R.ArcadeWithFullScreen},document.getElementById(x).appendChild(q),R.godot_window=q.contentWindow||q.contentDocument,Object.keys(U).forEach(G=>R.godot_window[G]=U[G]),R.godot=q,yield re()});return function(Z){return O.apply(this,arguments)}}())}CreateArcadeFrame(x){var U=this;return(0,M.A)(function*(){U.ArcadeLoaded=!0,"DesktopPWA"==o.aH&&(U.ArcadeWithFullScreen=!0,U.p5toast.show({text:U.lang.text.Arcade.ESCToExit})),yield U.CreateGodotIFrameWithDuplicateAct(x,"arcade_pck_loaded",{path:"tmp_files/duplicate/arcade.pck",force:!0,ws_send:R=>{if(U.ArcadeWS)try{U.ArcadeWS.send(R)}catch(O){console.log("\uc544\ucf00\uc774\ub4dc WS \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \uc2e4\ud328: ",O)}}})})()}CreateGodotIFrameWithDuplicateAct(x,U,A,R,O){var Z=this;return(0,M.A)(function*(){if(Z.ArcadeLoaded&&!A.force)Z.p5toast.show({text:Z.lang.text.Arcade.ArcadeOpened}),O&&O();else{let q=yield Z.loadingCtrl.create({message:Z.lang.text.Arcade.TryingDownload});q.present();try{var re;if(x.blob)throw"\uc900\ube44\ub41c blob \uc815\ubcf4";if(!x.url)throw"\ud30c\uc77c \uc815\ubcf4\uc5d0 URL\uc774 \uc5c6\uc74c";let G=yield fetch(x.url,{signal:null===(re=x.cont)||void 0===re?void 0:re.signal});if(!G.ok)throw`${G.statusText} (${G.status})`;x.blob=yield G.blob()}catch(G){console.log("pck \uc5f4\ub78c \uc624\ub958: ",G)}q.dismiss();const te=`godot/app_userdata/Client/${A.path}`;let X=!1;if(Z.indexed.godotDB)try{yield Z.indexed.GetGodotIndexedDB(),yield Z.indexed.saveBlobToUserPath(x.blob,te,void 0,Z.indexed.godotDB),X=!0}catch(G){console.log("\ub0b4\ubd80 \ud30c\uc77c \uc5c6\uc74c: ",G)}if(yield Z.CreateGodotIFrame(U,A,!0),!X){try{yield Z.indexed.GetGodotIndexedDB(),yield Z.indexed.saveBlobToUserPath(x.blob,te,void 0,Z.indexed.godotDB)}catch{}yield Z.CreateGodotIFrame(U,A)}R&&R(),Z.godot_window.start_load_pck()}})()}OpenGodotFromURL(){var x=this;return(0,M.A)(function*(){let U=yield x.loadingCtrl.create({message:x.lang.text.Arcade.TryingDownload});U.present();let A=yield x.GetValueFromClipboard();try{if("text/plain"!==A.type)throw"Invalid type";{let R=A.value;if("pck"!=R.split(".").pop())throw"Invalid type";let O=yield fetch(R);if(!O.ok)throw`${O.statusText} (${O.status})`;{let Z=yield O.blob();x.CreateArcadeFrame({blob:Z}),x.CreateInfoSocket(R)}}}catch(R){console.log("URL \uace0\ub3c4\ud30c\uc77c \uc2e4\ud589 \uc2e4\ud328: ",R),x.p5toast.show({text:`${x.lang.text.Arcade.FailedToDownloadGodot}: ${R}`})}U.dismiss()})()}CreateInfoSocket(x){this.ArcadeWS=new WebSocket("wss://127.0.0.1:12013"),this.ArcadeWS.onopen=()=>{this.ArcadeWS.send(JSON.stringify({type:"initInfo",arcade_url:x}))},this.ArcadeWS.onmessage=U=>{let A;A="string"==typeof U.data?U.data:U.data.text(),this.godot_window&&this.godot_window.ws_recv&&this.godot_window.ws_recv(A);try{let R=JSON.parse(A);"init_id"===R.type&&(this.GetHeaderAddress().then(O=>{this.ArcadeQRAddress=`${O}?arcade=wss://127.0.0.1:12013,${R.socketId}`,this.ArcadeQRCodeSRC=this.readasQRCodeFromString(this.ArcadeQRAddress),this.OpenArcadeQRCode()}),this.ArcadeWS.send(JSON.stringify({type:"join",channel:R.id})))}catch{}},this.ArcadeWS.onclose=()=>{this.ArcadeQRAddress=null,this.ArcadeQRCodeSRC=null,this.ArcadeWS.onopen=null,this.ArcadeWS.onmessage=null,this.ArcadeWS.onclose=null,this.ArcadeWS=null}}OpenArcadeQRCode(){this.ArcadeObject.QRCode.onDidDismiss().then(()=>{this.RestoreShortCutAct("arcade-qrcode")}),this.StoreShortCutAct("arcade-qrcode"),this.ArcadeObject.QRCode.present()}JoinArcadeWithSocketInfo(x){const U=x.socketId;this.ArcadeWS?this.p5toast.show({text:this.lang.text.Arcade.AlreadyUseWS}):(this.ArcadeWS=new WebSocket(x.server),this.ArcadeWS.onopen=()=>{this.ArcadeWS.send(JSON.stringify({type:"reqInfo",socketId:U}))},this.ArcadeWS.onmessage=A=>{let R;R="string"==typeof A.data?A.data:A.data.text();let O=JSON.parse(R);console.log("\uc9c4\uc785\uce21 \uba54\uc2dc\uc9c0 \uc218\uc2e0: ",O)},this.ArcadeWS.onclose=()=>{this.ArcadeQRAddress=null,this.ArcadeQRCodeSRC=null,this.ArcadeWS.onopen=null,this.ArcadeWS.onmessage=null,this.ArcadeWS.onclose=null,this.ArcadeWS=null})}req_file_info(x){var U=this;return(0,M.A)(function*(){return new Promise(function(){var A=(0,M.A)(function*(R){R(yield U.indexed.GetFileInfoFromDB(x))});return function(R){return A.apply(this,arguments)}}())})()}req_file_part_base64(x,U,A){let R="",O=new Uint8Array(x.contents.slice(U*y,(U+1)*y));for(let re=0,q=O.byteLength;re<q;re++)R+=String.fromCharCode(O[re]);let Z=btoa(R);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:U}),`${A}.history`),Z}save_file_part(x,U,A){this.indexed.saveBase64ToUserPath(","+A,`${x}_part/${U}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:U}),`${x}.history`)}remove_req_file_info(x,U){delete x.content.transfer_index,this.indexed.removeFileFromUserPath(`${U}.history`)}modulate_thumbnail(x,U,A){var R=this;return(0,M.A)(function*(){try{let O=yield R.indexed.loadBlobFromUserPath(`${x.path}_thumbnail.png`,"image/png"),Z=URL.createObjectURL(O);return x.thumbnail=R.sanitizer.bypassSecurityTrustUrl(Z),void setTimeout(()=>{URL.revokeObjectURL(Z),U&&URL.revokeObjectURL(U)},100)}catch{}switch(x.viewer){case"image":try{if(!x.url)throw"No URL";if(!(yield fetch(x.url,{signal:null==A?void 0:A.signal})).ok)throw"Not ok";x.thumbnail=x.url}catch{U&&(x.thumbnail=R.sanitizer.bypassSecurityTrustUrl(U))}break;case"text":if(x.url){let O=yield fetch(x.url,{signal:null==A?void 0:A.signal}).then(Z=>Z.text());x.text=O.split("\n")}else new et(O=>{O.setup=()=>{O.noCanvas(),O.loadStrings(U,Z=>{x.text=Z,URL.revokeObjectURL(U),O.remove()},Z=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",Z),x.text=[R.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(U),O.remove()})}})}U&&setTimeout(()=>{URL.revokeObjectURL(U)},100)})()}set_viewer_category(x){try{if(this.set_viewer_category_from_ext(x),"disabled"==x.viewer)if(0==x.type.indexOf("image/"))x.viewer="image";else if(0==x.type.indexOf("audio/"))x.viewer="audio";else if(0==x.type.indexOf("video/"))x.viewer="video";else{if(0!=x.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";x.viewer="text"}}catch(U){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",U,"/ type: ",x.type)}}set_viewer_category_from_ext(x){switch(x.file_ext){case"blend":x.viewer="blender";break;case"pck":x.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":x.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":x.viewer="audio";break;case"mp4":case"ogv":x.viewer="video";break;case"webm":try{x.viewer=0==x.type.indexOf("video/")?"video":"audio"}catch(U){console.log("\ud30c\uc77c \ud655\uc7a5\uc790 \uac80\ud1a0 \uc624\ub958: ",U,"/",x),x.viewer="disabled"}break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"markdown":case"prop":case"properties":case"json":case"yml":x.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":x.viewer="text";break;case"pdf":x.viewer="pdf";break;default:x.viewer="disabled"}}GetBase64ThroughFileReader(x){return new Promise((U,A)=>{var R;let O=new FileReader;O=null!==(R=O._realReader)&&void 0!==R?R:O,O.onload=Z=>{O.onload=null,O.onerror=null,U(Z.target.result.replace(/"|\\|=/g,""))},O.onerror=Z=>{O.onload=null,O.onerror=null,A(Z)},O.readAsDataURL(x)})}Base64ToBlob(x,U=""){let A=atob(x.split(",")[1]),R=new ArrayBuffer(A.length),O=new Int8Array(R);for(let re=0,q=A.length;re<q;re++)O[re]=A.charCodeAt(re);return new Blob([O],{type:U})}upload_file_to_storage(x,U,A,R,O,Z,re){var q=this;return(0,M.A)(function*(){let te;te=Z||(yield q.loadingCtrl.create({message:q.lang.text.Settings.TryToFallbackFS})),te.present();let G,Y,X=!1;O&&(G=yield q.try_upload_to_user_custom_fs(x,U.user_id,te)),te.message=null!=re?re:q.lang.text.GlobalAct.CheckCdnServer;try{if(G)throw X=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";let le=(new Date).getTime(),Ie=x.filename.substring(0,x.filename.lastIndexOf(".")),J=x.override_name||`${U.user_id}_${le}_${Ie}.${x.file_ext}`;G=`${A}//${R}:${U.apache_port||9002}/cdn/${J}`,Y=setInterval((0,M.A)(function*(){let $e=yield fetch(`${A}//${R}:${U.cdn_port||9001}/filesize/${J}`,{method:"POST"}),qe=Number(yield $e.text()),ut=Math.floor(qe/x.size*100);te.message=`${x.filename}: ${ut||0}%`}),700);let j=new FormData,ne=new File([x.blob],J);if(j.append("files",ne),!(yield fetch(`${A}//${R}:${U.cdn_port||9001}/cdn/${J}`,{method:"POST",body:j})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";if(clearInterval(Y),!(yield fetch(G)).ok)throw"\uc694\uccad \uc2e4\ud328";X=!0}catch(le){clearInterval(Y),te.message=q.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",le)}return Z||te.dismiss(),X?G:void 0})()}remove_file_from_storage(x,U){return(0,M.A)(function*(){try{let A=x.split("/cdn/"),R=A.pop(),O=A.shift(),Z=O.lastIndexOf(":");Z>5&&(O=O.substring(0,Z)),yield fetch(`${O}:${U.cdn_port||9001}/remove/${R}`,{method:"POST"})}catch(A){console.log("remove_file_from_storage: ",A)}})()}remove_files_from_storage_with_key(x,U,A){return(0,M.A)(function*(){try{if(!x)throw"\ub300\uc0c1 \uc8fc\uc18c \uc5c6\uc74c";let R=x.lastIndexOf(":");R>5&&(x=x.substring(0,R)),yield fetch(`${x}:${A.cdn_port||9001}/remove_key/${U}`,{method:"POST"})}catch(R){throw console.log("remove_files_from_storage_with_key: ",R),R}})()}try_upload_to_user_custom_fs(x,U,A,R){var O=this;return(0,M.A)(function*(){let Z;Z=A||(yield O.loadingCtrl.create({message:O.lang.text.Settings.TryToFallbackFS}));let Y,le,re=(new Date).getTime(),q=x.filename.substring(0,x.filename.lastIndexOf(".")),te=x.override_name||`${U}_${re}_${q}.${x.file_ext}`,X=new FormData,G=new File([x.blob],te);X.append("files",G),R||(R=localStorage.getItem("fallback_fs"));try{if(!R)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Ie=R.split("://"),J=Ie.pop().split(":"),j=Ie.pop();if(j?j+=":":j=O.checkProtocolFromAddress(J[0])?"https:":"http:",Y=`${j}//${J[0]}:${J[1]||9002}/cdn/${te}`,le=setInterval((0,M.A)(function*(){let De=yield fetch(`${j}//${J[0]}:9001/filesize/${te}`,{method:"POST"}),$e=Number(yield De.text()),qe=Math.floor($e/x.size*100);A&&(A.message=`${x.filename}: ${qe||0}%`)}),700),!(yield fetch(`${j}//${J[0]}:9001/cdn/${te}`,{method:"POST",body:X})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";clearInterval(le);let me=yield fetch(Y);if(A||Z.dismiss(),me.ok)return Y;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(le),void(A||Z.dismiss())}})()}GetHrefThumbnail(x,U,A){var R=this;return(0,M.A)(function*(){let O=null;try{let re=localStorage.getItem("fallback_fs").split("://"),q=re.shift(),X=re.pop().split(":").pop();if(!X)throw"\uc9c0\uc815\ub41c FFS \uc5c6\uc74c";let G=yield fetch(`${q||R.checkProtocolFromAddress(X)?"https":"http"}://${X}:9001/get-page-info?url=${encodeURIComponent(x)}`,{signal:A.signal});if(!G.ok)throw"FFS \uc6b0\ud68c \uc2e4\ud328";O=yield G.json()}catch{if(!U)throw"\ub300\uc0c1 \uc11c\ubc84 \uc5c6\uc74c";try{let re=yield fetch(`${U}/get-page-info?url=${encodeURIComponent(x)}`,{signal:A.signal});if(!re.ok)throw`${re.statusText} (${re.status})`;O=yield re.json()}catch(re){console.log("GetHrefThumbnail: ",re)}}return O})()}checkProtocolFromAddress(x){return!!x.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")}load_blender_file(x,U,A,R,O){var Z=this;return new et(re=>{let Y,q=[],te=[],G={};re.setup=(0,M.A)(function*(){let Ie,le=re.createCanvas(x.clientWidth,x.clientHeight,re.WEBGL);le.parent(x),Z.BlenderLoadingCtrl=yield Z.loadingCtrl.create({message:Z.lang.text.ContentViewer.OnLoadContent}),Z.BlenderLoadingCtrl.present(),Z.BlenderCanvasInside=le,re.textureMode(re.NORMAL),re.textureWrap(re.REPEAT),re.clear(255,255,255,0),re.pixelDensity(1);try{Ie=yield Z.indexed.loadBlobFromUserPath(U.path,U.type||"")}catch{try{Ie=yield(yield fetch(U.url,{signal:null==O?void 0:O.signal})).blob()}catch(me){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",me),R()}}Object.keys(Z.JSBlendCache).forEach(ne=>{URL.revokeObjectURL(Z.JSBlendCache[ne]),delete Z.JSBlendCache[ne]});try{let me=yield(yield fetch("assets/js.blend/build/js.blend.js",{signal:null==O?void 0:O.signal})).blob(),De=URL.createObjectURL(me);Z.JSBlendCache.js=De;let qe=yield(yield fetch("assets/js.blend/example/three.js",{signal:null==O?void 0:O.signal})).blob(),ut=URL.createObjectURL(qe);Z.JSBlendCache.three=ut;let ot=yield(yield fetch("assets/js.blend/index.html",{signal:null==O?void 0:O.signal})).text();ot=ot.replace('src="./build/js.blend.js"',`src="${De}"`).replace('src="./example/three.js"',`src="${ut}"`);let at=new Blob([ot],{type:"text/html"}),Ue=URL.createObjectURL(at);Z.JSBlendCache.index=Ue}catch(ne){console.log("\ube14\ub80c\ub354 \ud398\uc774\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",ne)}let j=re.createElement("iframe");j.elt.id="jsBlend",j.elt.setAttribute("src",Z.JSBlendCache.index),j.elt.setAttribute("frameborder","0"),j.elt.setAttribute("class","full_screen"),j.elt.setAttribute("allow","fullscreen; encrypted-media"),j.elt.setAttribute("scrolling","no"),j.elt.setAttribute("withCredentials","true"),j.hide(),x.appendChild(j.elt),j.elt.contentWindow.TARGET_FILE=Ie,j.elt.onload=(0,M.A)(function*(){if(!Ie)return void Z.p5toast.show({text:Z.lang.text.ContentViewer.CannotOpenText});Y=re.createDiv(),Y.parent(x),Y.id("logDiv"),Y.style("position","absolute"),Y.style("top","0"),Y.style("left","0"),Y.style("width","100%"),Y.style("height","100%"),Y.style("max-height",`${x.clientHeight}px`),Y.style("pointer-events","none"),Z.BlenderLoadingCtrl.dismiss();let ne=yield j.elt.contentWindow.JSBLEND(Ie);Z.BlenderLoadingCtrl=yield Z.loadingCtrl.create({message:Z.lang.text.ContentViewer.OnLoadContent}),Z.BlenderLoadingCtrl.present();const me=100;let De=ne.file.AB;if(ne.file.objects.PackedFile)for(let ar=0,Vt=ne.file.objects.PackedFile.length;ar<Vt;ar++){let tr=ne.file.objects.PackedFile[ar],zt=tr.data.__data_address__,Zt=De.slice(zt,zt+tr.size),pr=new Blob([Zt]),Ct=URL.createObjectURL(pr);re.loadImage(Ct,lr=>{G[tr.data.__data_address__]=lr,URL.revokeObjectURL(Ct)},lr=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",lr),URL.revokeObjectURL(Ct)})}let $e=ne.file.objects.vec2f,qe=0,ut=ne.file.objects.Mesh,He=ne.file.objects.vec3f,ot=0,at=ne.file.objects.vec2i,Ue=0;for(let ar=0,Vt=ne.file.objects.Object.length;ar<Vt;ar++){let tr=ne.file.objects.Object[ar];Z.BlenderLoadingCtrl.message=`${Z.lang.text.ContentViewer.ReadObject}: ${tr.aname}`;let zt=re.createVector(-tr.loc[0]*me,-tr.loc[2]*me,tr.loc[1]*me),br=re.createVector(tr.rot[0],tr.rot[2],-tr.rot[1]);switch(tr.type){case 1:{{let At=["noimp","colonly","convcolonly","navmesh"],Ht=!1;for(let yt=0,Ft=At.length;yt<Ft;yt++)if(-1!==tr.aname.indexOf(At[yt],tr.aname.length-At[yt].length)){Ht=!0;break}if(Ht||(Ht=448==tr.base_flag),Ht)continue}let pr,Ct,lr,Gt,Zt=null;for(let At=0,Ht=ut.length;At<Ht;At++)if(ut[At].address==tr.data.address){Zt=At;break}try{let At=-1;for(let Ht=0,yt=$e.length;Ht<yt;Ht++)if($e[Ht].address&&(At++,At==Zt)){qe=Ht;break}}catch{}try{let At=-1,Ht=!1,yt=He.length;for(let Ft=0;Ft<yt;Ft++)if(He[Ft].address){if(At++,Ht){pr=He.slice(ot,Ft);break}At==Zt&&(ot=Ft,Ht=!0)}pr||(pr=He.slice(ot,yt))}catch{}try{let At=-1,Ht=!1,yt=at.length;for(let Ft=0;Ft<yt;Ft++)if(at[Ft].address){if(At++,Ht){Ct=at.slice(Ue,Ft);break}At==Zt&&(Ue=Ft,Ht=!0)}Ct||(Ct=at.slice(Ue,yt))}catch{}if(tr.data.ldata.layers.length)for(let At=0,Ht=tr.data.ldata.layers.length;At<Ht;At++)11===tr.data.ldata.layers[At].type&&(Gt=tr.data.ldata.layers[At].data);else Gt=tr.data.ldata.layers.data;re.beginGeometry(),re.push(),re.translate(zt),re.scale(tr.size[0],tr.size[2],tr.size[1]),tr.rot[0]+tr.rot[1]+tr.rot[2]&&(Y.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.MayGimbalLock}</div>`,re.rotate(re.HALF_PI,br));try{let At=[];for(let Ht=0,yt=pr.length;Ht<yt;Ht++)At.push([]);for(let Ht=0,yt=Ct.length;Ht<yt;Ht++){var nt,Ye;let Ft=null!==(nt=Ct[Ht].x)&&void 0!==nt?nt:Ct[Ht].v1,Jt=null!==(Ye=Ct[Ht].y)&&void 0!==Ye?Ye:Ct[Ht].v2;At[Ft].push(Jt),At[Jt].push(Ft)}for(let Ft,Jt,yt=Gt.length-1;yt>=0;yt--){var st,Ze,ft;let rr=Gt[yt].i,Rt=null!==(st=pr[rr].x)&&void 0!==st?st:pr[rr].co[0],vt=null!==(Ze=pr[rr].y)&&void 0!==Ze?Ze:pr[rr].co[1],Lt=null!==(ft=pr[rr].z)&&void 0!==ft?ft:pr[rr].co[2];if(void 0!==Jt){try{if(!At[Jt].includes(rr))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";re.vertex(-Rt*me,-Lt*me,vt*me,$e[qe+yt].x,-$e[qe+yt].y);let Pt=!1;if(Jt!=Ft&&(Pt=At[rr].includes(Ft)),Pt)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{re.endShape(re.CLOSE),Jt=void 0;continue}Jt=rr}else re.beginShape(),re.vertex(-Rt*me,-Lt*me,vt*me,$e[qe+yt].x,-$e[qe+yt].y),Ft=rr,Jt=rr}}catch(At){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",At),Y.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.LoadMeshFailed}: ${At}</div>`}re.pop(),lr=re.endGeometry();let We,Oe,Je,It=0;try{if(!tr.data.mat.length)throw"no_mat";for(let At=0,Ht=tr.data.mat.length;At<Ht;At++){try{let yt=tr.data.mat[At].nodetree.nodes.first.next.inputs.first.default_value.value;Oe=re.color(255*(yt[0]||0),255*(yt[1]||0),255*(yt[2]||0),255*(yt[3]||0))}catch(yt){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",yt),Y.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.FailedGetBaseColor}: ${yt}</div>`}try{let yt=tr.data.mat[At].nodetree.nodes.first.next.inputs.last.prev.default_value.value;It=tr.data.mat[At].nodetree.nodes.first.next.inputs.last.default_value.value,Je=re.color(255*(yt[0]||0),255*(yt[1]||0),255*(yt[2]||0),255*(yt[3]||0))}catch(yt){Y.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.FailedGetEmitColor}: ${yt}</div>`}if(tr.data.mat[At].nodetree.nodes.last.id){let yt=tr.data.mat[At].nodetree.nodes.last.id.packedfile;if(!yt)throw"unpacked";We=yt.data.__data_address__}}}catch(At){switch(At){case"unpacked":Y.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":Y.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(tr.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",At),Y.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${tr.aname}: ${At}</div>`}}lr.computeNormals(),te.push({id:tr.data.address,name:tr.data.aname,color:Oe,emissionColor:Je,emissionStrength:It,texture:We,mesh:lr})}break;case 10:q.length<5?(Y.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,q.push({type:"point",loc:zt,rot:br,color:re.color(255,255,255)})):Y.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${tr.aname}: ${Z.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(Zt=>setTimeout(Zt,0))}Z.BlenderLoadingCtrl.dismiss(),setTimeout(()=>{Y.remove()},8e3),A(),Object.keys(Z.JSBlendCache).forEach(ar=>{URL.revokeObjectURL(Z.JSBlendCache[ar]),delete Z.JSBlendCache[ar]}),j.elt.onload=null}),re.camera(0,0,-re.height/2/re.tan(30*re.PI/180),0,0,0,0,1,0)}),re.draw=()=>{if(re.clear(255,255,255,0),re.orbitControl(),q.length)for(let le=0,Ie=q.length;le<Ie;le++)"point"===q[le].type&&re.pointLight(q[le].color,q[le].loc);else re.directionalLight(128,128,128,-1,1,1);re.ambientLight(128);for(let le=0,Ie=te.length;le<Ie;le++)re.push(),te[le].texture?(re.noStroke(),G[te[le].texture]&&re.texture(G[te[le].texture])):te[le].color?(re.noStroke(),re.ambientMaterial(te[le].color)):(re.stroke(0),re.fill(0)),te[le].emissionStrength&&(re.noStroke(),re.emissiveMaterial(te[le].emissionColor)),re.model(te[le].mesh),re.pop()},re.windowResized=()=>{setTimeout(()=>{x.style.maxHeight=window.innerHeight-56-45+"px",Y&&Y.style("max-height",`${x.clientHeight}px`),re.resizeCanvas(x.clientWidth,x.clientHeight)},50)}})}StoreShortCutAct(x){this.CacheShortCut[x]=this.p5KeyShortCut,this.p5KeyShortCut={}}GetConnectedAddress(){return`${location.protocol}//${location.host}${window.sub_path}`}GetHeaderAddress(){var x=this;return(0,M.A)(function*(){let U;try{if(!x.useLocalAddress)throw"\uac15\uc81c\ub85c github \uc8fc\uc18c \ubc1c\uc0dd\uc2dc\ud0a4\uae30";let A=x.GetConnectedAddress(),R=new AbortController;const O=setTimeout(()=>{R.abort(),R=null},250);let Z=yield fetch(A,{signal:R.signal});if(clearTimeout(O),!Z.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";U=A}catch{U="https://is2you2.github.io/pjcone_pwa/"}return U})()}RestoreShortCutAct(x){this.p5KeyShortCut=this.CacheShortCut[x],delete this.CacheShortCut[x]}from_camera(x,U){var A=this;return(0,M.A)(function*(){let R={},O=yield A.loadingCtrl.create({message:A.lang.text.TodoDetail.WIP});try{const Z=yield S.getPhoto({quality:90,resultType:b.Base64,source:$.Camera});O.present(),R.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${Z.format}`,R.file_ext=Z.format,R.base64="data:image/jpeg;base64,"+Z.base64String,R.thumbnail=A.sanitizer.bypassSecurityTrustUrl(R.base64),R.type=`image/${Z.format}`,R.typeheader="image",R.content_related_creator=[{user_id:U.user_id,timestamp:(new Date).getTime(),display_name:U.display_name,various:"camera"}],R.content_creator={user_id:U.user_id,timestamp:(new Date).getTime(),display_name:U.display_name,various:"camera"},R.path=`${x}${R.filename}`,R.viewer="image";let q=yield A.indexed.saveBase64ToUserPath(R.base64,R.path);R.blob=new Blob([q],{type:R.type}),R.size=R.blob.size}catch(Z){throw console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",Z),Z}return O.dismiss(),R})()}selected_blobFile_callback_act(x,U,A,R="loaded",O=[]){let Z={};return Z.filename=x.name,Z.file_ext=x.name.split(".").pop()||x.type||this.lang.text.ChatRoom.unknown_ext,Z.size=x.size,Z.type=x.type||x.type_override,Z.path=`${U}${Z.filename}`,Z.blob=x,Z.content_related_creator=[...O,{user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:R}],Z.content_creator={user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:R},this.set_viewer_category(Z),Z}voidDraw_fileAct_callback(x,U,A,R){var O=this;return(0,M.A)(function*(){let Z={};Z.filename=x.data.name,Z.file_ext="png",Z.type="image/png",Z.viewer="image",R?(Z.content_related_creator=R,Z.content_creator={user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:"voidDraw"}):(Z.content_related_creator=[{user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:"voidDraw"}],Z.content_creator={timestamp:(new Date).getTime(),display_name:O.CallbackNakama.users.self.display_name,various:"voidDraw"}),Z.typeheader="image",Z.path=`${U}${Z.filename}`,Z.thumbnail=O.sanitizer.bypassSecurityTrustUrl(x.data.img);let re=yield O.indexed.saveBase64ToUserPath(x.data.img,Z.path),q=new Blob([re],{type:Z.type});return Z.blob=new File([q],x.data.name),Z.size=Z.blob.size,x.data.loadingCtrl.dismiss(),Z})()}TextEditorNewFileName(){let x=new Date;return`texteditor_${x.getUTCFullYear()}-${("0"+(x.getMonth()+1)).slice(-2)}-${("0"+x.getDate()).slice(-2)}_${("0"+x.getHours()).slice(-2)}-${("0"+x.getMinutes()).slice(-2)}-${("0"+x.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(x,U){let A={};return"html"===(A.content_creator={user_id:U.user_id,timestamp:(new Date).getTime(),display_name:U.display_name,various:"textedit"},A.content_related_creator=[],A.content_related_creator.push(A.content_creator),A.blob=x.blob,A.path=x.path,A.size=x.blob.size,A.filename=x.blob.name||this.TextEditorNewFileName(),A.file_ext=A.filename.split(".").pop(),A.viewer="text",A.file_ext)?(A.type="text/html",A.viewer="code"):A.type="text/plain",A.typeheader="text",A}open_custom_site(x,U){try{let Z,A=x.split("://"),O=A.pop().split(":");O.length>1&&O.pop();try{Z="https"==A[0]||"wss"==A[0]}catch{Z=this.checkProtocolFromAddress(O[0])}O[0]="//"+O[0],O.unshift(Z?"https":"http"),("DesktopPWA"==o.aH||"MobilePWA"==o.aH)&&window.open(O.join(":")+`:${U||9001}`,"_blank")}catch{}}open_link(x){x&&window.open(x,"_blank");const U=document.activeElement;U&&U.blur()}GetValueFromClipboard(){var x=this;return(0,M.A)(function*(){let U={type:"text/plain",value:""},A=yield x.loadingCtrl.create({message:x.lang.text.GlobalAct.ClipboardPaste});A.present();try{const R=yield navigator.clipboard.read();for(let O of R)for(let Z of O.types){let re=yield O.getType(Z);if("image/png"==Z){U.type=Z;let q=new File([re],"image.png");U.value=q;break}if("text/plain"==Z){U.type=Z,U.value=yield re.text();break}}return A.dismiss(),U}catch(R){return console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",R),x.p5toast.show({text:`${x.lang.text.GlobalAct.FailedToReadClipboard}: ${R}`}),U.type="error",U.value=R,A.dismiss(),U}})()}WriteValueToClipboard(x,U,A){var R=this;return(0,M.A)(function*(){if(!U)return;let O=yield R.loadingCtrl.create({message:R.lang.text.GlobalAct.ClipboardCopy});O.present();try{let Z={},re=U;"text/plain"==x&&(re=new Blob([U],{type:x}),U=R.truncateString(U,80)),Z[x]=re,yield navigator.clipboard.write([new ClipboardItem(Z)]),"DesktopPWA"==o.aH&&R.p5toast.show({text:`${R.lang.text.GlobalAct.PCClipboard}: ${A||U}`}),O.dismiss()}catch(Z){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",Z),R.p5toast.show({text:`${R.lang.text.GlobalAct.ClipboardFailed}: ${Z}`}),O.dismiss(),Z}})()}truncateString(x,U){return x.length>U?x.slice(0,U-1)+"\u2026":x}HTMLEncode(x){let U=(x=[...x]).length,A=[];for(;U--;){let R=x[U].codePointAt(0);A[U]=R<65||R>127||R>90&&R<97?"&#"+R+";":x[U]}return A.join("")}HTMLDecode(x){const U={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};return(x=x.replace(/&[a-zA-Z]+;/g,A=>U[A]||A)).replace(/&#(\d+);/g,(A,R)=>String.fromCodePoint(Number(R)))}StopAndSaveVoiceRecording(){var x=this;return(0,M.A)(function*(){try{let U=yield _.R.stopRecording(),A=x.Base64ToBlob(`${U.value.mimeType},${U.value.recordDataBase64}`);return A.name=`${x.lang.text.ChatRoom.VoiceRecord}.${U.value.mimeType.split("/").pop().split(";")[0]}`,A.type_override=U.value.mimeType,A}catch(U){throw x.p5toast.show({text:`${x.lang.text.AddPost.FailedToSaveVoice}:${U}`}),U}})()}InstantCallSend(x){this.InstantCallWSClient&&this.InstantCallWSClient.readyState==this.InstantCallWSClient.OPEN&&this.InstantCallWSClient.send(x)}ActLikeModal(x,U){this.RemoveAllModals(()=>{this.navCtrl.navigateForward(x,{animation:Et.V5,state:U})})}}return(V=L).\u0275fac=function(x){return new(x||V)(i.KVO(a.W3),i.KVO(u.G),i.KVO(d.y),i.KVO(h.up),i.KVO(m.n),i.KVO(a.Xi),i.KVO(l.q9))},V.\u0275prov=i.jDH({token:V,factory:V.\u0275fac,providedIn:"root"}),L})()},755:(xr,or,_e)=>{"use strict";_e.d(or,{n:()=>o});var M=_e(467),T=_e(3953),et=_e(9900),Et=_e(4234);let o=(()=>{var se;class ${constructor(b,f){this.p5toast=b,this.lang=f}initialize(b=(()=>{})){if(this.ionicDB)return void b();let f=indexedDB.open("/ionicfs",10),g=()=>{f.onsuccess=null,f.onupgradeneeded=null,f.onerror=null};f.onsuccess=S=>{S.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=a=>{this.ionicDB=a.target.result,b(),g()}},f.onupgradeneeded=S=>{S.target.result.createObjectStore("FILE_DATA")},f.onerror=S=>{indexedDB.open("/ionicfs",11).onsuccess=i=>{this.ionicDB=i.target.result,b(),g()}}}GetGodotIndexedDB(){var b=this;return(0,M.A)(function*(){if(!b.godotDB)return new Promise((f,g)=>{let S=indexedDB.open("/userfs",21),_=()=>{S.onsuccess=null,S.onerror=null};S.onsuccess=i=>{b.godotDB=S.result,_(),f(void 0)},S.onerror=i=>{console.error("IndexedDB initialized failed: ",i),_(),g(i)}})})()}createRecursiveDirectory(b,f=this.ionicDB){let g=b.lastIndexOf("/"),S=b.substring(0,g);S&&this.checkIfFileExist(S,_=>{let i=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${S}`),a=()=>{i.onsuccess=null,i.onerror=null};i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),this.createRecursiveDirectory(S,f),a()},i.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l),a()}})}createDirectory(b){return new Promise((f,g)=>{this.checkIfFileExist(b,S=>{let _=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${b}`),i=()=>{_.onsuccess=null,_.onerror=null};_.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),i(),f(void 0)},_.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),i(),g(a)}})})}saveTextFileToUserPath(b,f,g=(_=>{}),S=this.ionicDB){return this.createRecursiveDirectory(f,S),new Promise((_,i)=>{let a=S.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(b)},`/userfs/${f}`),l=()=>{a.onsuccess=null,a.onerror=null};a.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),g(u),l(),_(u)},a.onerror=u=>{l(),i(u)}})}saveBase64ToUserPath(b,f,g=(_=>{}),S=this.ionicDB){return new Promise((_,i)=>{let a=atob(b.split(",")[1]),l=new ArrayBuffer(a.length),u=new Int8Array(l);for(let h=0,m=a.length;h<m;h++)u[h]=a.charCodeAt(h);this.createRecursiveDirectory(f,S);let d=S.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${f}`);d.onsuccess=h=>{"success"!=h.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),d.onsuccess=null,d.onerror=null,g(u),_(u)},d.onerror=h=>{d.onsuccess=null,d.onerror=null,i(h)}})}saveInt8ArrayToUserPath(b,f,g=this.ionicDB){return new Promise((S,_)=>{this.createRecursiveDirectory(f,g);let i=g.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:b},`/userfs/${f}`);i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),i.onsuccess=null,i.onerror=null,S()},i.onerror=a=>{i.onsuccess=null,i.onerror=null,_(a)}})}saveBlobToUserPath(b,f,g=(_=>{}),S=this.ionicDB){var _=this;return new Promise(function(){var i=(0,M.A)(function*(a,l){let u;try{let h=yield b.arrayBuffer();u=new Int8Array(h)}catch(h){l(h)}_.createRecursiveDirectory(f,S);let d=S.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${f}`);d.onsuccess=h=>{"success"!=h.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),d.onsuccess=null,d.onerror=null,g(u),a(u)},d.onerror=h=>{d.onsuccess=null,d.onerror=null,l(h)}});return function(a,l){return i.apply(this,arguments)}}())}saveFileToUserPath(b,f,g=(_=>{}),S=this.ionicDB){return this.createRecursiveDirectory(f,S),new Promise((_,i)=>{let a=S.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(b,`/userfs/${f}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),a.onsuccess=null,a.onerror=null,g(l),_(l)},a.onerror=l=>{a.onsuccess=null,a.onerror=null,i(l)}})}checkIfFileExist(b,f=(S=>{}),g=this.ionicDB){return new Promise((S,_)=>{let i=g.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${b}`);i.onsuccess=a=>{let l=a.target.result;i.onsuccess=null,i.onerror=null,f(l),S(l)},i.onerror=a=>{i.onsuccess=null,i.onerror=null,_(a)}})}GetFileListFromDB(b,f=(S=>{}),g=this.ionicDB){let S=g.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((_,i)=>{S.onsuccess=a=>{const l=a.target.result;for(let u=l.length-1;u>=0;u--)l[u].includes(b)?l[u]=l[u].substring(8):l.splice(u,1);S.onsuccess=null,S.onerror=null,f(l),_(l)},S.onerror=a=>{S.onsuccess=null,S.onerror=null,i(a)}})}GetFileInfoFromDB(b,f=(S=>{}),g=this.ionicDB){let S=g.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((_,i)=>{S.onsuccess=a=>{const l=a.target.result;S.onsuccess=null,S.onerror=null,f(l),_(l)},S.onerror=a=>{S.onsuccess=null,S.onerror=null,i(a)}})}loadTextFromUserPath(b,f=((S,_)=>{}),g=this.ionicDB){return new Promise(S=>{let _=g.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=i=>{if(i.target.result){let a=(new TextDecoder).decode(i.target.result.contents);_.onsuccess=null,_.onerror=null,f(!0,a),S(a)}else _.onsuccess=null,_.onerror=null,f(!1,`No file: , ${b}`),S(void 0)},_.onerror=i=>{console.error("IndexedDB loadTextFromUserPath failed: ",i),_.onsuccess=null,_.onerror=null,S(void 0)}})}loadBlobFromUserPath(b,f,g=(_=>{}),S=this.ionicDB){let _=S.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((i,a)=>{_.onsuccess=l=>{try{let u=new Blob([l.target.result.contents],{type:f});_.onsuccess=null,_.onerror=null,g(u),i(u)}catch(u){_.onsuccess=null,_.onerror=null,a(u)}},_.onerror=l=>{_.onsuccess=null,_.onerror=null,a(l)}})}DownloadFileFromUserPath(b,f,g,S=this.ionicDB){let _=S.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=i=>{try{let a=new Blob([i.target.result.contents],{type:f}),l=URL.createObjectURL(a),u=document.createElement("a");u.download=g,u.href=l,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(l)}catch(a){console.error("DownloadFileFromUserPath: ",a),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${a}`})}_.onsuccess=null,_.onerror=null},_.onerror=i=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",i),_.onsuccess=null,_.onerror=null}}removeFileFromUserPath(b,f=(S=>{}),g=this.ionicDB){let S=g.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${b}`);return new Promise((_,i)=>{S.onsuccess=a=>{S.onsuccess=null,S.onerror=null,f(a),_(a)},S.onerror=a=>{S.onsuccess=null,S.onerror=null,i(a)}})}}return(se=$).\u0275fac=function(b){return new(b||se)(T.KVO(et.G),T.KVO(Et.y))},se.\u0275prov=T.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),$})()},4234:(xr,or,_e)=>{"use strict";_e.d(or,{y:()=>o});var M=_e(467),T=_e(8326),Et=_e(3953);let o=(()=>{var se;class ${constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{},InstantCall:{},ContentViewer:{},WebRTCDevManager:{}},this.setable=[],this.lang=navigator.language.split("-")[0];let b=localStorage.getItem("lang");b&&(this.lang=b)}load_selected_lang(b="assets/data/translate.csv"){var f=this;return(0,M.A)(function*(){return yield new Promise((g,S)=>{new T(_=>{_.setup=()=>{_.noCanvas(),_.loadTable(b,"csv","header",i=>{try{let l,a=Object.keys(i.rows[0].obj);f.setable.length=0;for(let u of a)"#"!=u&&f.setable.push({value:u,display_name:i.rows[0].obj[u]});i.columns.includes(f.lang)||(f.lang=f.setable[0].value),localStorage.setItem("lang",f.lang);for(let u=0,d=i.rows.length;u<d;u++)"#"==i.rows[u].obj["#"].charAt(0)?(l=i.rows[u].obj["#"].substring(3),f.text[l]||(f.text[l]={})):l&&(f.text[l][i.rows[u].obj["#"]]=i.rows[u].obj[f.lang]);f.Callback_nakama&&f.Callback_nakama(),b&&URL.revokeObjectURL(b),_.remove(),g(void 0)}catch(a){console.log("\uc0ac\uc6a9\uc790 \uc5b8\uc5b4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",a),b&&URL.revokeObjectURL(b),_.remove(),f.load_selected_lang(),g(void 0)}},i=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",i),b&&URL.revokeObjectURL(b),_.remove(),S(i)})}})})})()}}return(se=$).\u0275fac=function(b){return new(b||se)},se.\u0275prov=Et.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),$})()},5547:(xr,or,_e)=>{"use strict";_e.d(or,{r:()=>Et});var M=_e(467),T=_e(3953),et=_e(755);let Et=(()=>{var o;class se{constructor(v){this.indexed=v,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.Current="",this.WebNoties={}}change_silent_settings(v){this.settings.silent[v]=!this.settings.silent[v],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(v,b)=>{v&&b&&(this.settings=JSON.parse(b)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var v=this;return(0,M.A)(function*(){v.ClearNoti(11),"serviceWorker"in navigator?(Notification.requestPermission().then(b=>{console.log("granted"===b?"\uc54c\ub9bc \uad8c\ud55c\uc774 \ud5c8\uc6a9\ub428.":"\uc54c\ub9bc \uad8c\ud55c\uc774 \uac70\ubd80\ub428.")},b=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800: ",b)}),navigator.serviceWorker.addEventListener("message",b=>{if(b.data.reply){if("12"===b.data.data){let f={msg:b.data.reply};if(!f.msg.trim())return;f.name=v.Sq_client.MyUserName,v.Sq_client.send(JSON.stringify(f))}}else window.swRegListenerCallback[b.data.data]&&window.swRegListenerCallback[b.data.data](),delete window.swRegListenerCallback[b.data.data]})):console.log("Service Worker is not supported in this browser.")})()}PushLocal(v,b,f=(()=>{})){var g=this;return(0,M.A)(function*(){if(document.hasFocus()&&g.Current===b||!g.settings.silent[v.smallIcon_ln||b||"icon_mono"])return;const S={badge:v.icon||`assets/badge/${v.smallIcon_ln||b||"favicon"}.png`,body:v.body,icon:v.icon||`assets/icon/${v.smallIcon_ln||b||"favicon"}.png`,image:v.image,silent:!g.settings.silent[v.smallIcon_ln]||!1,tag:`${v.id}`,actions:v.actions_wm,data:v.data_wm,requireInteraction:!!v.actions_wm};try{if(g.WebNoties[v.id]){try{g.WebNoties[v.id].close()}catch{}delete g.WebNoties[v.id]}yield window.swReg.showNotification(v.title,{...S});let _=yield window.swReg.getNotifications();for(let i=0,a=_.length;i<a;i++)if(_[i].tag==`${v.id}`){g.WebNoties[v.id]=_[i];break}window.swRegListenerCallback[v.id]=()=>{f(),window.focus(),g.WebNoties[v.id].close()}}catch(_){console.log("\uc54c\ub9bc \uc0dd\uc131 \uc624\ub958: ",_)}})()}ClearNoti(v){this.WebNoties[v]&&this.WebNoties[v].close()}}return(o=se).\u0275fac=function(v){return new(v||o)(T.KVO(et.n))},o.\u0275prov=T.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),se})()},4237:(xr,or,_e)=>{"use strict";_e.d(or,{I:()=>hr,X:()=>Mr});var S,_,M=_e(467),T=Object.defineProperty,et=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,se=(W,fe,Te)=>fe in W?T(W,fe,{enumerable:!0,configurable:!0,writable:!0,value:Te}):W[fe]=Te,$=(W,fe)=>{for(var Te in fe||(fe={}))Et.call(fe,Te)&&se(W,Te,fe[Te]);if(et)for(var Te of et(fe))o.call(fe,Te)&&se(W,Te,fe[Te]);return W},v=(W,fe,Te)=>new Promise((w,I)=>{var H=B=>{try{z(Te.next(B))}catch(ue){I(ue)}},F=B=>{try{z(Te.throw(B))}catch(ue){I(ue)}},z=B=>B.done?w(B.value):Promise.resolve(B.value).then(H,F);z((Te=Te.apply(W,fe)).next())}),b=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof b<"u"&&b,f_searchParams="URLSearchParams"in b,f_iterable="Symbol"in b&&"iterator"in Symbol,f_blob="FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),f_formData="FormData"in b,f_arrayBuffer="ArrayBuffer"in b;function i(W){if("string"!=typeof W&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(W)||""===W)throw new TypeError('Invalid character in header field name: "'+W+'"');return W.toLowerCase()}function a(W){return"string"!=typeof W&&(W=String(W)),W}function l(W){var fe={next:function(){var Te=W.shift();return{done:void 0===Te,value:Te}}};return f_iterable&&(fe[Symbol.iterator]=function(){return fe}),fe}function u(W){this.map={},W instanceof u?W.forEach(function(fe,Te){this.append(Te,fe)},this):Array.isArray(W)?W.forEach(function(fe){this.append(fe[0],fe[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(fe){this.append(fe,W[fe])},this)}function d(W){if(W.bodyUsed)return Promise.reject(new TypeError("Already read"));W.bodyUsed=!0}function h(W){return new Promise(function(fe,Te){W.onload=function(){fe(W.result)},W.onerror=function(){Te(W.error)}})}function m(W){var fe=new FileReader,Te=h(fe);return fe.readAsArrayBuffer(W),Te}function D(W){if(W.slice)return W.slice(0);var fe=new Uint8Array(W.byteLength);return fe.set(new Uint8Array(W)),fe.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(W){this.bodyUsed=this.bodyUsed,this._bodyInit=W,W?"string"==typeof W?this._bodyText=W:f_blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:f_formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:f_searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():f_arrayBuffer&&f_blob&&function g(W){return W&&DataView.prototype.isPrototypeOf(W)}(W)?(this._bodyArrayBuffer=D(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||_(W))?this._bodyArrayBuffer=D(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||("string"==typeof W?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f_searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f_blob&&(this.blob=function(){var W=d(this);if(W)return W;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var W=d(this);if(W)return W;if(this._bodyBlob)return function p(W){var fe=new FileReader,Te=h(fe);return fe.readAsText(W),Te}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function y(W){for(var fe=new Uint8Array(W),Te=new Array(fe.length),w=0;w<fe.length;w++)Te[w]=String.fromCharCode(fe[w]);return Te.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f_formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}f_arrayBuffer&&(S=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(W){return W&&S.indexOf(Object.prototype.toString.call(W))>-1}),u.prototype.append=function(W,fe){W=i(W),fe=a(fe);var Te=this.map[W];this.map[W]=Te?Te+", "+fe:fe},u.prototype.delete=function(W){delete this.map[i(W)]},u.prototype.get=function(W){return W=i(W),this.has(W)?this.map[W]:null},u.prototype.has=function(W){return this.map.hasOwnProperty(i(W))},u.prototype.set=function(W,fe){this.map[i(W)]=a(fe)},u.prototype.forEach=function(W,fe){for(var Te in this.map)this.map.hasOwnProperty(Te)&&W.call(fe,this.map[Te],Te,this)},u.prototype.keys=function(){var W=[];return this.forEach(function(fe,Te){W.push(Te)}),l(W)},u.prototype.values=function(){var W=[];return this.forEach(function(fe){W.push(fe)}),l(W)},u.prototype.entries=function(){var W=[];return this.forEach(function(fe,Te){W.push([Te,fe])}),l(W)},f_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(W,fe){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Te=(fe=fe||{}).body;if(W instanceof x){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,fe.headers||(this.headers=new u(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!Te&&null!=W._bodyInit&&(Te=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=fe.credentials||this.credentials||"same-origin",(fe.headers||!this.headers)&&(this.headers=new u(fe.headers)),this.method=function P(W){var fe=W.toUpperCase();return L.indexOf(fe)>-1?fe:W}(fe.method||this.method||"GET"),this.mode=fe.mode||this.mode||null,this.signal=fe.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Te)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Te),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==fe.cache&&"no-cache"!==fe.cache)){var w=/([?&])_=[^&]*/;w.test(this.url)?this.url=this.url.replace(w,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function U(W){var fe=new FormData;return W.trim().split("&").forEach(function(Te){if(Te){var w=Te.split("="),I=w.shift().replace(/\+/g," "),H=w.join("=").replace(/\+/g," ");fe.append(decodeURIComponent(I),decodeURIComponent(H))}}),fe}function A(W){var fe=new u;return W.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(w){return 0===w.indexOf("\n")?w.substr(1,w.length):w}).forEach(function(w){var I=w.split(":"),H=I.shift().trim();if(H){var F=I.join(":").trim();fe.append(H,F)}}),fe}function R(W,fe){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');fe||(fe={}),this.type="default",this.status=void 0===fe.status?200:fe.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===fe.statusText?"":""+fe.statusText,this.headers=new u(fe.headers),this.url=fe.url||"",this._initBody(W)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},V.call(x.prototype),V.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},R.error=function(){var W=new R(null,{status:0,statusText:""});return W.type="error",W};var O=[301,302,303,307,308];R.redirect=function(W,fe){if(-1===O.indexOf(fe))throw new RangeError("Invalid status code");return new R(null,{status:fe,headers:{location:W}})};var Z=b.DOMException;try{new Z}catch{(Z=function(fe,Te){this.message=fe,this.name=Te;var w=Error(fe);this.stack=w.stack}).prototype=Object.create(Error.prototype),Z.prototype.constructor=Z}function re(W,fe){return new Promise(function(Te,w){var I=new x(W,fe);if(I.signal&&I.signal.aborted)return w(new Z("Aborted","AbortError"));var H=new XMLHttpRequest;function F(){H.abort()}H.onload=function(){var B={status:H.status,statusText:H.statusText,headers:A(H.getAllResponseHeaders()||"")};B.url="responseURL"in H?H.responseURL:B.headers.get("X-Request-URL");var ue="response"in H?H.response:H.responseText;setTimeout(function(){Te(new R(ue,B))},0)},H.onerror=function(){setTimeout(function(){w(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){w(new TypeError("Network request failed"))},0)},H.onabort=function(){setTimeout(function(){w(new Z("Aborted","AbortError"))},0)},H.open(I.method,function z(B){try{return""===B&&b.location.href?b.location.href:B}catch{return B}}(I.url),!0),"include"===I.credentials?H.withCredentials=!0:"omit"===I.credentials&&(H.withCredentials=!1),"responseType"in H&&(f_blob?H.responseType="blob":f_arrayBuffer&&I.headers.get("Content-Type")&&-1!==I.headers.get("Content-Type").indexOf("application/octet-stream")&&(H.responseType="arraybuffer")),!fe||"object"!=typeof fe.headers||fe.headers instanceof u?I.headers.forEach(function(B,ue){H.setRequestHeader(ue,B)}):Object.getOwnPropertyNames(fe.headers).forEach(function(B){H.setRequestHeader(B,a(fe.headers[B]))}),I.signal&&(I.signal.addEventListener("abort",F),H.onreadystatechange=function(){4===H.readyState&&I.signal.removeEventListener("abort",F)}),H.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}re.polyfill=!0,b.fetch||(b.fetch=re,b.Headers=u,b.Request=x,b.Response=R);var q="function"==typeof atob,te="function"==typeof btoa,X="function"==typeof Buffer,G="function"==typeof TextDecoder?new TextDecoder:void 0,Y="function"==typeof TextEncoder?new TextEncoder:void 0,Ie=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),J=(W=>{let fe={};return W.forEach((Te,w)=>fe[Te]=w),fe})(Ie),j=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ne=String.fromCharCode.bind(String),me="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):W=>new Uint8Array(Array.prototype.slice.call(W,0)),$e=W=>W.replace(/[^A-Za-z0-9\+\/]/g,""),ut=te?W=>btoa(W):X?W=>Buffer.from(W,"binary").toString("base64"):W=>{let fe,Te,w,I,H="";const F=W.length%3;for(let z=0;z<W.length;){if((Te=W.charCodeAt(z++))>255||(w=W.charCodeAt(z++))>255||(I=W.charCodeAt(z++))>255)throw new TypeError("invalid character found");fe=Te<<16|w<<8|I,H+=Ie[fe>>18&63]+Ie[fe>>12&63]+Ie[fe>>6&63]+Ie[63&fe]}return F?H.slice(0,F-3)+"===".substring(F):H},He=X?W=>Buffer.from(W).toString("base64"):W=>{let Te=[];for(let w=0,I=W.length;w<I;w+=4096)Te.push(ne.apply(null,W.subarray(w,w+4096)));return ut(Te.join(""))},ot=W=>{if(W.length<2)return(fe=W.charCodeAt(0))<128?W:fe<2048?ne(192|fe>>>6)+ne(128|63&fe):ne(224|fe>>>12&15)+ne(128|fe>>>6&63)+ne(128|63&fe);var fe=65536+1024*(W.charCodeAt(0)-55296)+(W.charCodeAt(1)-56320);return ne(240|fe>>>18&7)+ne(128|fe>>>12&63)+ne(128|fe>>>6&63)+ne(128|63&fe)},at=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,nt=X?W=>Buffer.from(W,"utf8").toString("base64"):Y?W=>He(Y.encode(W)):W=>ut((W=>W.replace(at,ot))(W)),Ye=(W,fe=!1)=>fe?(W=>W.replace(/=/g,"").replace(/[+\/]/g,fe=>"+"==fe?"-":"_"))(nt(W)):nt(W),st=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ze=W=>{switch(W.length){case 4:var Te=((7&W.charCodeAt(0))<<18|(63&W.charCodeAt(1))<<12|(63&W.charCodeAt(2))<<6|63&W.charCodeAt(3))-65536;return ne(55296+(Te>>>10))+ne(56320+(1023&Te));case 3:return ne((15&W.charCodeAt(0))<<12|(63&W.charCodeAt(1))<<6|63&W.charCodeAt(2));default:return ne((31&W.charCodeAt(0))<<6|63&W.charCodeAt(1))}},ar=q?W=>atob($e(W)):X?W=>Buffer.from(W,"base64").toString("binary"):W=>{if(W=W.replace(/\s+/g,""),!j.test(W))throw new TypeError("malformed base64.");W+="==".slice(2-(3&W.length));let fe,w,I,Te="";for(let H=0;H<W.length;)fe=J[W.charAt(H++)]<<18|J[W.charAt(H++)]<<12|(w=J[W.charAt(H++)])<<6|(I=J[W.charAt(H++)]),Te+=64===w?ne(fe>>16&255):64===I?ne(fe>>16&255,fe>>8&255):ne(fe>>16&255,fe>>8&255,255&fe);return Te},Vt=X?W=>me(Buffer.from(W,"base64")):W=>me(ar(W).split("").map(fe=>fe.charCodeAt(0))),tr=X?W=>Buffer.from(W,"base64").toString("utf8"):G?W=>G.decode(Vt(W)):W=>(W=>W.replace(st,Ze))(ar(W)),br=W=>tr((W=>$e(W.replace(/[-_]/g,fe=>"-"==fe?"+":"/")))(W));function Zt(W,fe,Te){const w=$($({},{method:W}),fe);if(w.headers=$({},fe.headers),typeof XMLHttpRequest<"u"){const I=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=I&&I.set||(w.credentials="cocos-ignore")}return Object.keys(w.headers).includes("Accept")||(w.headers.Accept="application/json"),Object.keys(w.headers).includes("Content-Type")||(w.headers["Content-Type"]="application/json"),Object.keys(w.headers).forEach(I=>{w.headers[I]||delete w.headers[I]}),Te&&(w.body=Te),w}var pr=class{constructor(W,fe,Te){this.serverKey=W,this.basePath=fe,this.timeoutMs=Te}healthcheck(W,fe={}){const H=this.buildFullUrl(this.basePath,"/healthcheck",new Map),F=Zt("GET",fe,"");return W&&(F.headers.Authorization="Bearer "+W),Promise.race([fetch(H,F).then(z=>{if(204==z.status)return z;if(z.status>=200&&z.status<300)return z.json();throw z}),new Promise((z,B)=>setTimeout(B,this.timeoutMs,"Request timed out."))])}deleteAccount(W,fe={}){const H=this.buildFullUrl(this.basePath,"/v2/account",new Map),F=Zt("DELETE",fe,"");return W&&(F.headers.Authorization="Bearer "+W),Promise.race([fetch(H,F).then(z=>{if(204==z.status)return z;if(z.status>=200&&z.status<300)return z.json();throw z}),new Promise((z,B)=>setTimeout(B,this.timeoutMs,"Request timed out."))])}getAccount(W,fe={}){const H=this.buildFullUrl(this.basePath,"/v2/account",new Map),F=Zt("GET",fe,"");return W&&(F.headers.Authorization="Bearer "+W),Promise.race([fetch(H,F).then(z=>{if(204==z.status)return z;if(z.status>=200&&z.status<300)return z.json();throw z}),new Promise((z,B)=>setTimeout(B,this.timeoutMs,"Request timed out."))])}updateAccount(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account",I),z=Zt("PUT",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}authenticateApple(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateCustom(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateDevice(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateEmail(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateFacebook(W,fe,Te,w,I,H,F={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("create",w),B.set("username",I),B.set("sync",H);let ue="";ue=JSON.stringify(Te||{});const Se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",B),ke=Zt("POST",F,ue);return W&&(ke.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(Se,ke).then(Fe=>{if(204==Fe.status)return Fe;if(Fe.status>=200&&Fe.status<300)return Fe.json();throw Fe}),new Promise((Fe,$t)=>setTimeout($t,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateGoogle(W,fe,Te,w,I,H={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const z=new Map;z.set("create",w),z.set("username",I);let B="";B=JSON.stringify(Te||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",z),Se=Zt("POST",H,B);return W&&(Se.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}authenticateSteam(W,fe,Te,w,I,H,F={}){if(null==Te)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("create",w),B.set("username",I),B.set("sync",H);let ue="";ue=JSON.stringify(Te||{});const Se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",B),ke=Zt("POST",F,ue);return W&&(ke.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(Se,ke).then(Fe=>{if(204==Fe.status)return Fe;if(Fe.status>=200&&Fe.status<300)return Fe.json();throw Fe}),new Promise((Fe,$t)=>setTimeout($t,this.timeoutMs,"Request timed out."))])}linkApple(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/apple",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkCustom(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/custom",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkDevice(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/device",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkEmail(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/email",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkFacebook(W,fe,Te,w={}){if(null==fe)throw new Error("'account' is a required parameter but is null or undefined.");const H=new Map;H.set("sync",Te);let F="";F=JSON.stringify(fe||{});const z=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",H),B=Zt("POST",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkGameCenter(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkGoogle(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/google",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkSteam(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/link/steam",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}sessionRefresh(W,fe,Te,w={}){if(null==Te)throw new Error("'body' is a required parameter but is null or undefined.");const H=new Map;let F="";F=JSON.stringify(Te||{});const z=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",H),B=Zt("POST",w,F);return W&&(B.headers.Authorization="Basic "+Ye(W+":"+fe)),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}unlinkApple(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkCustom(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkDevice(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkEmail(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkFacebook(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkGoogle(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkSteam(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listChannelMessages(W,fe,Te,w,I,H={}){if(null==fe)throw new Error("'channelId' is a required parameter but is null or undefined.");const F="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(fe))),z=new Map;z.set("limit",Te),z.set("forward",w),z.set("cursor",I);const ue=this.buildFullUrl(this.basePath,F,z),Se=Zt("GET",H,"");return W&&(Se.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}event(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/event",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteFriends(W,fe,Te,w={}){const H=new Map;H.set("ids",fe),H.set("usernames",Te);const z=this.buildFullUrl(this.basePath,"/v2/friend",H),B=Zt("DELETE",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}listFriends(W,fe,Te,w,I={}){const F=new Map;F.set("limit",fe),F.set("state",Te),F.set("cursor",w);const B=this.buildFullUrl(this.basePath,"/v2/friend",F),ue=Zt("GET",I,"");return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(B,ue).then(Se=>{if(204==Se.status)return Se;if(Se.status>=200&&Se.status<300)return Se.json();throw Se}),new Promise((Se,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}addFriends(W,fe,Te,w={}){const H=new Map;H.set("ids",fe),H.set("usernames",Te);const z=this.buildFullUrl(this.basePath,"/v2/friend",H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}blockFriends(W,fe,Te,w={}){const H=new Map;H.set("ids",fe),H.set("usernames",Te);const z=this.buildFullUrl(this.basePath,"/v2/friend/block",H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}importFacebookFriends(W,fe,Te,w={}){if(null==fe)throw new Error("'account' is a required parameter but is null or undefined.");const H=new Map;H.set("reset",Te);let F="";F=JSON.stringify(fe||{});const z=this.buildFullUrl(this.basePath,"/v2/friend/facebook",H),B=Zt("POST",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(W,fe,Te,w={}){const H=new Map;H.set("limit",fe),H.set("cursor",Te);const z=this.buildFullUrl(this.basePath,"/v2/friend/friends",H),B=Zt("GET",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}importSteamFriends(W,fe,Te,w={}){if(null==fe)throw new Error("'account' is a required parameter but is null or undefined.");const H=new Map;H.set("reset",Te);let F="";F=JSON.stringify(fe||{});const z=this.buildFullUrl(this.basePath,"/v2/friend/steam",H),B=Zt("POST",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}listGroups(W,fe,Te,w,I,H,F,z={}){const ue=new Map;ue.set("name",fe),ue.set("cursor",Te),ue.set("limit",w),ue.set("lang_tag",I),ue.set("members",H),ue.set("open",F);const ke=this.buildFullUrl(this.basePath,"/v2/group",ue),Fe=Zt("GET",z,"");return W&&(Fe.headers.Authorization="Bearer "+W),Promise.race([fetch(ke,Fe).then($t=>{if(204==$t.status)return $t;if($t.status>=200&&$t.status<300)return $t.json();throw $t}),new Promise(($t,Ut)=>setTimeout(Ut,this.timeoutMs,"Request timed out."))])}createGroup(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/group",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteGroup(W,fe,Te={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const w="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("DELETE",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}updateGroup(W,fe,Te,w={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'body' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(fe))),H=new Map;let F="";F=JSON.stringify(Te||{});const z=this.buildFullUrl(this.basePath,I,H),B=Zt("PUT",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}addGroupUsers(W,fe,Te,w={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(fe))),H=new Map;H.set("user_ids",Te);const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}banGroupUsers(W,fe,Te,w={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(fe))),H=new Map;H.set("user_ids",Te);const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(W,fe,Te,w={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(fe))),H=new Map;H.set("user_ids",Te);const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}joinGroup(W,fe,Te={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const w="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("POST",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}kickGroupUsers(W,fe,Te,w={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(fe))),H=new Map;H.set("user_ids",Te);const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}leaveGroup(W,fe,Te={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const w="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("POST",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(W,fe,Te,w={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(fe))),H=new Map;H.set("user_ids",Te);const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}listGroupUsers(W,fe,Te,w,I,H={}){if(null==fe)throw new Error("'groupId' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(fe))),z=new Map;z.set("limit",Te),z.set("state",w),z.set("cursor",I);const ue=this.buildFullUrl(this.basePath,F,z),Se=Zt("GET",H,"");return W&&(Se.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listSubscriptions(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/subscription",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}getSubscription(W,fe,Te={}){if(null==fe)throw new Error("'productId' is a required parameter but is null or undefined.");const w="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("GET",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(W,fe,Te={}){if(null==fe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const w="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("DELETE",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(W,fe,Te,w,I,H,F={}){if(null==fe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const z="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(fe))),B=new Map;B.set("owner_ids",Te),B.set("limit",w),B.set("cursor",I),B.set("expiry",H);const Se=this.buildFullUrl(this.basePath,z,B),ke=Zt("GET",F,"");return W&&(ke.headers.Authorization="Bearer "+W),Promise.race([fetch(Se,ke).then(Fe=>{if(204==Fe.status)return Fe;if(Fe.status>=200&&Fe.status<300)return Fe.json();throw Fe}),new Promise((Fe,$t)=>setTimeout($t,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(W,fe,Te,w={}){if(null==fe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'record' is a required parameter but is null or undefined.");const I="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(fe))),H=new Map;let F="";F=JSON.stringify(Te||{});const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(W,fe,Te,w,I,H,F={}){if(null==fe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'ownerId' is a required parameter but is null or undefined.");const z="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(fe))).replace("{ownerId}",encodeURIComponent(String(Te))),B=new Map;B.set("limit",w),B.set("expiry",I),B.set("cursor",H);const Se=this.buildFullUrl(this.basePath,z,B),ke=Zt("GET",F,"");return W&&(ke.headers.Authorization="Bearer "+W),Promise.race([fetch(Se,ke).then(Fe=>{if(204==Fe.status)return Fe;if(Fe.status>=200&&Fe.status<300)return Fe.json();throw Fe}),new Promise((Fe,$t)=>setTimeout($t,this.timeoutMs,"Request timed out."))])}listMatches(W,fe,Te,w,I,H,F,z={}){const ue=new Map;ue.set("limit",fe),ue.set("authoritative",Te),ue.set("label",w),ue.set("min_size",I),ue.set("max_size",H),ue.set("query",F);const ke=this.buildFullUrl(this.basePath,"/v2/match",ue),Fe=Zt("GET",z,"");return W&&(Fe.headers.Authorization="Bearer "+W),Promise.race([fetch(ke,Fe).then($t=>{if(204==$t.status)return $t;if($t.status>=200&&$t.status<300)return $t.json();throw $t}),new Promise(($t,Ut)=>setTimeout(Ut,this.timeoutMs,"Request timed out."))])}deleteNotifications(W,fe,Te={}){const I=new Map;I.set("ids",fe);const F=this.buildFullUrl(this.basePath,"/v2/notification",I),z=Zt("DELETE",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listNotifications(W,fe,Te,w={}){const H=new Map;H.set("limit",fe),H.set("cacheable_cursor",Te);const z=this.buildFullUrl(this.basePath,"/v2/notification",H),B=Zt("GET",w,"");return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}rpcFunc2(W,fe,Te,w,I={}){if(null==fe)throw new Error("'id' is a required parameter but is null or undefined.");const H="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(fe))),F=new Map;F.set("payload",Te),F.set("http_key",w);const B=this.buildFullUrl(this.basePath,H,F),ue=Zt("GET",I,"");return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(B,ue).then(Se=>{if(204==Se.status)return Se;if(Se.status>=200&&Se.status<300)return Se.json();throw Se}),new Promise((Se,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}rpcFunc(W,fe,Te,w,I={}){if(null==fe)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'body' is a required parameter but is null or undefined.");const H="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(fe))),F=new Map;F.set("http_key",w);let z="";z=JSON.stringify(Te||{});const B=this.buildFullUrl(this.basePath,H,F),ue=Zt("POST",I,z);return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(B,ue).then(Se=>{if(204==Se.status)return Se;if(Se.status>=200&&Se.status<300)return Se.json();throw Se}),new Promise((Se,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}sessionLogout(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/session/logout",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}readStorageObjects(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/storage",I),z=Zt("POST",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}writeStorageObjects(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/storage",I),z=Zt("PUT",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(W,fe,Te={}){if(null==fe)throw new Error("'body' is a required parameter but is null or undefined.");const I=new Map;let H="";H=JSON.stringify(fe||{});const F=this.buildFullUrl(this.basePath,"/v2/storage/delete",I),z=Zt("PUT",Te,H);return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listStorageObjects(W,fe,Te,w,I,H={}){if(null==fe)throw new Error("'collection' is a required parameter but is null or undefined.");const F="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(fe))),z=new Map;z.set("user_id",Te),z.set("limit",w),z.set("cursor",I);const ue=this.buildFullUrl(this.basePath,F,z),Se=Zt("GET",H,"");return W&&(Se.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}listStorageObjects2(W,fe,Te,w,I,H={}){if(null==fe)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'userId' is a required parameter but is null or undefined.");const F="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(fe))).replace("{userId}",encodeURIComponent(String(Te))),z=new Map;z.set("limit",w),z.set("cursor",I);const ue=this.buildFullUrl(this.basePath,F,z),Se=Zt("GET",H,"");return W&&(Se.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}listTournaments(W,fe,Te,w,I,H,F,z={}){const ue=new Map;ue.set("category_start",fe),ue.set("category_end",Te),ue.set("start_time",w),ue.set("end_time",I),ue.set("limit",H),ue.set("cursor",F);const ke=this.buildFullUrl(this.basePath,"/v2/tournament",ue),Fe=Zt("GET",z,"");return W&&(Fe.headers.Authorization="Bearer "+W),Promise.race([fetch(ke,Fe).then($t=>{if(204==$t.status)return $t;if($t.status>=200&&$t.status<300)return $t.json();throw $t}),new Promise(($t,Ut)=>setTimeout(Ut,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(W,fe,Te={}){if(null==fe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const w="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("DELETE",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listTournamentRecords(W,fe,Te,w,I,H,F={}){if(null==fe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const z="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(fe))),B=new Map;B.set("owner_ids",Te),B.set("limit",w),B.set("cursor",I),B.set("expiry",H);const Se=this.buildFullUrl(this.basePath,z,B),ke=Zt("GET",F,"");return W&&(ke.headers.Authorization="Bearer "+W),Promise.race([fetch(Se,ke).then(Fe=>{if(204==Fe.status)return Fe;if(Fe.status>=200&&Fe.status<300)return Fe.json();throw Fe}),new Promise((Fe,$t)=>setTimeout($t,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(W,fe,Te,w={}){if(null==fe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'record' is a required parameter but is null or undefined.");const I="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(fe))),H=new Map;let F="";F=JSON.stringify(Te||{});const z=this.buildFullUrl(this.basePath,I,H),B=Zt("POST",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(W,fe,Te,w={}){if(null==fe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'record' is a required parameter but is null or undefined.");const I="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(fe))),H=new Map;let F="";F=JSON.stringify(Te||{});const z=this.buildFullUrl(this.basePath,I,H),B=Zt("PUT",w,F);return W&&(B.headers.Authorization="Bearer "+W),Promise.race([fetch(z,B).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Se)=>setTimeout(Se,this.timeoutMs,"Request timed out."))])}joinTournament(W,fe,Te={}){if(null==fe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const w="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(fe))),F=this.buildFullUrl(this.basePath,w,new Map),z=Zt("POST",Te,"");return W&&(z.headers.Authorization="Bearer "+W),Promise.race([fetch(F,z).then(B=>{if(204==B.status)return B;if(B.status>=200&&B.status<300)return B.json();throw B}),new Promise((B,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(W,fe,Te,w,I,H,F={}){if(null==fe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Te)throw new Error("'ownerId' is a required parameter but is null or undefined.");const z="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(fe))).replace("{ownerId}",encodeURIComponent(String(Te))),B=new Map;B.set("limit",w),B.set("expiry",I),B.set("cursor",H);const Se=this.buildFullUrl(this.basePath,z,B),ke=Zt("GET",F,"");return W&&(ke.headers.Authorization="Bearer "+W),Promise.race([fetch(Se,ke).then(Fe=>{if(204==Fe.status)return Fe;if(Fe.status>=200&&Fe.status<300)return Fe.json();throw Fe}),new Promise((Fe,$t)=>setTimeout($t,this.timeoutMs,"Request timed out."))])}getUsers(W,fe,Te,w,I={}){const F=new Map;F.set("ids",fe),F.set("usernames",Te),F.set("facebook_ids",w);const B=this.buildFullUrl(this.basePath,"/v2/user",F),ue=Zt("GET",I,"");return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(B,ue).then(Se=>{if(204==Se.status)return Se;if(Se.status>=200&&Se.status<300)return Se.json();throw Se}),new Promise((Se,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}listUserGroups(W,fe,Te,w,I,H={}){if(null==fe)throw new Error("'userId' is a required parameter but is null or undefined.");const F="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(fe))),z=new Map;z.set("limit",Te),z.set("state",w),z.set("cursor",I);const ue=this.buildFullUrl(this.basePath,F,z),Se=Zt("GET",H,"");return W&&(Se.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,Se).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Fe)=>setTimeout(Fe,this.timeoutMs,"Request timed out."))])}buildFullUrl(W,fe,Te){let w=W+fe+"?";for(let[I,H]of Te)H instanceof Array?w+=H.reduce((F,z)=>F+encodeURIComponent(I)+"="+encodeURIComponent(z)+"&",""):null!=H&&(w+=encodeURIComponent(I)+"="+encodeURIComponent(H)+"&");return w}},Ct=class{constructor(W,fe,Te){this.created=Te,this.token=W,this.refresh_token=fe,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(W,fe)}isexpired(W){return this.expires_at-W<0}isrefreshexpired(W){return this.refresh_expires_at-W<0}update(W,fe){const Te=W.split(".");if(3!=Te.length)throw"jwt is not valid.";const w=JSON.parse(ar(Te[1])),I=Math.floor(parseInt(w.exp));if(fe){const H=fe.split(".");if(3!=H.length)throw"refresh jwt is not valid.";const F=JSON.parse(ar(H[1])),z=Math.floor(parseInt(F.exp));this.refresh_expires_at=z,this.refresh_token=fe}this.token=W,this.expires_at=I,this.username=w.usn,this.user_id=w.uid,this.vars=w.vrs}static restore(W,fe){return new Ct(W,fe,!1)}},lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Ve=0;Ve<64;Ve++)Gt[lr.charCodeAt(Ve)]=Ve;var Ve,We=function(W){var Te,fe=new Uint8Array(W),w=fe.length,I="";for(Te=0;Te<w;Te+=3)I+=lr[fe[Te]>>2],I+=lr[(3&fe[Te])<<4|fe[Te+1]>>4],I+=lr[(15&fe[Te+1])<<2|fe[Te+2]>>6],I+=lr[63&fe[Te+2]];return w%3==2?I=I.substring(0,I.length-1)+"=":w%3==1&&(I=I.substring(0,I.length-2)+"=="),I},Oe=function(W){var w,H,F,z,B,fe=.75*W.length,Te=W.length,I=0;"="===W[W.length-1]&&(fe--,"="===W[W.length-2]&&fe--);var ue=new ArrayBuffer(fe),Se=new Uint8Array(ue);for(w=0;w<Te;w+=4)H=Gt[W.charCodeAt(w)],F=Gt[W.charCodeAt(w+1)],z=Gt[W.charCodeAt(w+2)],B=Gt[W.charCodeAt(w+3)],Se[I++]=H<<2|F>>4,Se[I++]=(15&F)<<4|z>>2,Se[I++]=(3&z)<<6|63&B;return ue},Je=class{get onClose(){return this._socket.onclose}set onClose(W){this._socket.onclose=W}get onError(){return this._socket.onerror}set onError(W){this._socket.onerror=W}get onMessage(){return this._socket.onmessage}set onMessage(W){W?this._socket.onmessage=fe=>{const Te=JSON.parse(fe.data);Te.match_data&&Te.match_data.data?Te.match_data.data=new Uint8Array(Oe(Te.match_data.data)):Te.party_data&&Te.party_data.data&&(Te.party_data.data=new Uint8Array(Oe(Te.party_data.data))),W(Te)}:W=null}get onOpen(){return this._socket.onopen}set onOpen(W){this._socket.onopen=W}isOpen(){var W;return(null==(W=this._socket)?void 0:W.readyState)==WebSocket.OPEN}connect(W,fe,Te,w,I){const H=`${W}${fe}:${Te}/ws?lang=en&status=${encodeURIComponent(w.toString())}&token=${encodeURIComponent(I)}`;this._socket=new WebSocket(H)}close(){this._socket.close(),this._socket=void 0}send(W){if(W.match_data_send){W.match_data_send.op_code=W.match_data_send.op_code.toString();let fe=W.match_data_send.data;fe&&fe instanceof Uint8Array?W.match_data_send.data=We(fe.buffer):fe&&(W.match_data_send.data=ut(fe))}else if(W.party_data_send){W.party_data_send.op_code=W.party_data_send.op_code.toString();let fe=W.party_data_send.data;fe&&fe instanceof Uint8Array?W.party_data_send.data=We(fe.buffer):fe&&(W.party_data_send.data=ut(fe))}this._socket.send(JSON.stringify(W))}},It=class{constructor(W,fe,Te=!1,w=!1,I=new Je,H=It.DefaultSendTimeoutMs){this.host=W,this.port=fe,this.useSSL=Te,this.verbose=w,this.adapter=I,this.sendTimeoutMs=H,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=It.DefaultHeartbeatTimeoutMs}generatecid(){const W=this.nextCid.toString();return++this.nextCid,W}connect(W,fe=!1,Te=It.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(W):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,fe,W.token),this.adapter.onClose=I=>{this.ondisconnect(I)},this.adapter.onError=I=>{this.onerror(I)},this.adapter.onMessage=I=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(I)),I.cid){const H=this.cIds[I.cid];if(!H)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",I));delete this.cIds[I.cid],I.error?H.reject(I.error):H.resolve(I)}else I.notifications?I.notifications.notifications.forEach(H=>{H.content=H.content?JSON.parse(H.content):void 0,this.onnotification(H)}):I.match_data?(I.match_data.op_code=parseInt(I.match_data.op_code),this.onmatchdata(I.match_data)):I.match_presence_event?this.onmatchpresence(I.match_presence_event):I.matchmaker_ticket?this.onmatchmakerticket(I.matchmaker_ticket):I.matchmaker_matched?this.onmatchmakermatched(I.matchmaker_matched):I.status_presence_event?this.onstatuspresence(I.status_presence_event):I.stream_presence_event?this.onstreampresence(I.stream_presence_event):I.stream_data?this.onstreamdata(I.stream_data):I.channel_message?(I.channel_message.content=JSON.parse(I.channel_message.content),this.onchannelmessage(I.channel_message)):I.channel_presence_event?this.onchannelpresence(I.channel_presence_event):I.party_data?(I.party_data.op_code=parseInt(I.party_data.op_code),this.onpartydata(I.party_data)):I.party_close?this.onpartyclose(I.party_close):I.party_join_request?this.onpartyjoinrequest(I.party_join_request):I.party_leader?this.onpartyleader(I.party_leader):I.party_matchmaker_ticket?this.onpartymatchmakerticket(I.party_matchmaker_ticket):I.party_presence_event?this.onpartypresence(I.party_presence_event):I.party?this.onparty(I.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",I)},new Promise((I,H)=>{this.adapter.onOpen=F=>{this.verbose&&window&&window.console&&console.log(F),this.pingPong(),I(W)},this.adapter.onError=F=>{H(F),this.adapter.close()},setTimeout(()=>{H("The socket timed out when trying to connect.")},Te)}))}disconnect(W=!0){this.adapter.isOpen()&&this.adapter.close(),W&&this.ondisconnect({})}setHeartbeatTimeoutMs(W){this._heartbeatTimeoutMs=W}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(W){this.verbose&&window&&window.console&&console.log(W)}onerror(W){this.verbose&&window&&window.console&&console.log(W)}onchannelmessage(W){this.verbose&&window&&window.console&&console.log(W)}onchannelpresence(W){this.verbose&&window&&window.console&&console.log(W)}onnotification(W){this.verbose&&window&&window.console&&console.log(W)}onmatchdata(W){this.verbose&&window&&window.console&&console.log(W)}onmatchpresence(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakermatched(W){this.verbose&&window&&window.console&&console.log(W)}onparty(W){this.verbose&&window&&window.console&&console.log(W)}onpartyclose(W){this.verbose&&window&&window.console&&console.log("Party closed: "+W)}onpartyjoinrequest(W){this.verbose&&window&&window.console&&console.log(W)}onpartydata(W){this.verbose&&window&&window.console&&console.log(W)}onpartyleader(W){this.verbose&&window&&window.console&&console.log(W)}onpartymatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onpartypresence(W){this.verbose&&window&&window.console&&console.log(W)}onstatuspresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreampresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreamdata(W){this.verbose&&window&&window.console&&console.log(W)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(W,fe=It.DefaultSendTimeoutMs){const Te=W;return new Promise((w,I)=>{if(this.adapter.isOpen())if(Te.match_data_send)this.adapter.send(Te),w();else if(Te.party_data_send)this.adapter.send(Te),w();else{Te.channel_message_send?Te.channel_message_send.content=JSON.stringify(Te.channel_message_send.content):Te.channel_message_update&&(Te.channel_message_update.content=JSON.stringify(Te.channel_message_update.content));const H=this.generatecid();this.cIds[H]={resolve:w,reject:I},setTimeout(()=>{I("The socket timed out while waiting for a response.")},fe),Te.cid=H,this.adapter.send(Te)}else I("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const H=$({},Te);H.match_data_send&&H.match_data_send.data?H.match_data_send.data=br(H.match_data_send.data):H.party_data_send&&H.party_data_send.data&&(H.party_data_send.data=br(H.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(H))}})}acceptPartyMember(W,fe){return this.send({party_accept:{party_id:W,presence:fe}})}addMatchmaker(W,fe,Te,w,I){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:fe,max_count:Te,query:W,string_properties:w,numeric_properties:I}})).matchmaker_ticket})}addMatchmakerParty(W,fe,Te,w,I,H){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:W,min_count:Te,max_count:w,query:fe,string_properties:I,numeric_properties:H}})).party_matchmaker_ticket})}closeParty(W){return v(this,null,function*(){return yield this.send({party_close:{party_id:W}})})}createMatch(W){return v(this,null,function*(){return(yield this.send({match_create:{name:W}})).match})}createParty(W,fe){return v(this,null,function*(){return(yield this.send({party_create:{open:W,max_size:fe}})).party})}followUsers(W){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:W}})).status})}joinChat(W,fe,Te,w){return v(this,null,function*(){return(yield this.send({channel_join:{target:W,type:fe,persistence:Te,hidden:w}})).channel})}joinMatch(W,fe,Te){return v(this,null,function*(){const w={match_join:{metadata:Te}};return fe?w.match_join.token=fe:w.match_join.match_id=W,(yield this.send(w)).match})}joinParty(W){return v(this,null,function*(){return yield this.send({party_join:{party_id:W}})})}leaveChat(W){return this.send({channel_leave:{channel_id:W}})}leaveMatch(W){return this.send({match_leave:{match_id:W}})}leaveParty(W){return this.send({party_leave:{party_id:W}})}listPartyJoinRequests(W){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:W}})).party_join_request})}promotePartyMember(W,fe){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:W,presence:fe}})).party_leader})}removeChatMessage(W,fe){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:W,message_id:fe}})).channel_message_ack})}removeMatchmaker(W){return this.send({matchmaker_remove:{ticket:W}})}removeMatchmakerParty(W,fe){return this.send({party_matchmaker_remove:{party_id:W,ticket:fe}})}removePartyMember(W,fe){return v(this,null,function*(){return this.send({party_remove:{party_id:W,presence:fe}})})}rpc(W,fe,Te){return v(this,null,function*(){return(yield this.send({rpc:{id:W,payload:fe,http_key:Te}})).rpc})}sendMatchState(W,fe,Te,w,I){return v(this,null,function*(){return this.send({match_data_send:{match_id:W,op_code:fe,data:Te,presences:null!=w?w:[],reliable:I}})})}sendPartyData(W,fe,Te){return this.send({party_data_send:{party_id:W,op_code:fe,data:Te}})}unfollowUsers(W){return this.send({status_unfollow:{user_ids:W}})}updateChatMessage(W,fe,Te){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:W,message_id:fe,content:Te}})).channel_message_ack})}updateStatus(W){return this.send({status_update:{status:W}})}writeChatMessage(W,fe){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:W,content:fe}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},At=It;At.DefaultHeartbeatTimeoutMs=1e4,At.DefaultSendTimeoutMs=1e4,At.DefaultConnectTimeoutMs=3e4;var Rt=class{constructor(W="defaultkey",fe="127.0.0.1",Te="7350",w=!1,I=7e3,H=!0){this.serverkey=W,this.host=fe,this.port=Te,this.useSSL=w,this.timeout=I,this.autoRefreshSession=H,this.expiredTimespanMs=3e5,this.apiClient=new pr(W,`${w?"https://":"http://"}${fe}:${Te}`,I)}addGroupUsers(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addGroupUsers(W.token,fe,Te).then(w=>void 0!==w)})}addFriends(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addFriends(W.token,fe,Te).then(w=>void 0!==w)})}authenticateApple(W,fe,Te){return v(this,arguments,function*(w,I,H,F={},z={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:w,vars:F},I,H,z).then(ue=>new Ct(ue.token||"",ue.refresh_token||"",ue.created||!1))})}authenticateCustom(W,fe,Te,w={},I={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:W,vars:w},fe,Te,I).then(F=>new Ct(F.token||"",F.refresh_token||"",F.created||!1))}authenticateDevice(W,fe,Te,w){return this.apiClient.authenticateDevice(this.serverkey,"",{id:W,vars:w},fe,Te).then(H=>new Ct(H.token||"",H.refresh_token||"",H.created||!1))}authenticateEmail(W,fe,Te,w,I){return this.apiClient.authenticateEmail(this.serverkey,"",{email:W,password:fe,vars:I},Te,w).then(F=>new Ct(F.token||"",F.refresh_token||"",F.created||!1))}authenticateFacebookInstantGame(W,fe,Te,w,I={}){const H={signed_player_info:W,vars:w};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:H.signed_player_info,vars:H.vars},fe,Te,I).then(F=>new Ct(F.token||"",F.refresh_token||"",F.created||!1))}authenticateFacebook(W,fe,Te,w,I,H={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:W,vars:I},fe,Te,w,H).then(z=>new Ct(z.token||"",z.refresh_token||"",z.created||!1))}authenticateGoogle(W,fe,Te,w){return v(this,arguments,function*(I,H,F,z,B={}){const ue={token:I,vars:z},Se=yield this.apiClient.authenticateGoogle(this.serverkey,"",ue,H,F,B);return new Ct(Se.token||"",Se.refresh_token||"",Se.created||!1)})}authenticateGameCenter(W,fe,Te,w,I,H,F,z,B){return v(this,arguments,function*(ue,Se,ke,Fe,$t,Ut,Dr,Re,Xe,mt={}){const ze={bundle_id:ue,player_id:Se,public_key_url:ke,salt:Fe,signature:$t,timestamp_seconds:Ut,vars:Xe},ht=yield this.apiClient.authenticateGameCenter(this.serverkey,"",ze,Re,Dr,mt);return new Ct(ht.token||"",ht.refresh_token||"",ht.created||!1)})}authenticateSteam(W,fe,Te,w,I){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:W,vars:I,sync:w},fe,Te).then(F=>new Ct(F.token||"",F.refresh_token||"",F.created||!1))})}banGroupUsers(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.banGroupUsers(W.token,fe,Te).then(w=>void 0!==w)})}blockFriends(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.blockFriends(W.token,fe,Te).then(w=>Promise.resolve(null!=w))})}createGroup(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.createGroup(W.token,fe).then(Te=>Promise.resolve({avatar_url:Te.avatar_url,create_time:Te.create_time,creator_id:Te.creator_id,description:Te.description,edge_count:Te.edge_count?Number(Te.edge_count):0,id:Te.id,lang_tag:Te.lang_tag,max_count:Te.max_count?Number(Te.max_count):0,metadata:Te.metadata?JSON.parse(Te.metadata):void 0,name:Te.name,open:Te.open,update_time:Te.update_time}))})}createSocket(W=!1,fe=!1,Te=new Je,w=At.DefaultSendTimeoutMs){return new At(this.host,this.port,W,fe,Te,w)}deleteAccount(W){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteAccount(W.token).then(fe=>void 0!==fe)})}deleteFriends(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteFriends(W.token,fe,Te).then(w=>void 0!==w)})}deleteGroup(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteGroup(W.token,fe).then(Te=>void 0!==Te)})}deleteNotifications(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteNotifications(W.token,fe).then(Te=>Promise.resolve(null!=Te))})}deleteStorageObjects(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteStorageObjects(W.token,fe).then(Te=>Promise.resolve(null!=Te))})}deleteTournamentRecord(W,fe){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(W.token,fe)})}demoteGroupUsers(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.demoteGroupUsers(W.token,fe,Te).then(w=>Promise.resolve(null!=w))})}emitEvent(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.event(W.token,fe).then(Te=>Promise.resolve(null!=Te))})}getAccount(W){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getAccount(W.token)})}getSubscription(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getSubscription(W.token,fe)})}importFacebookFriends(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importFacebookFriends(W.token,fe).then(Te=>void 0!==Te)})}importSteamFriends(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importSteamFriends(W.token,fe,Te).then(w=>void 0!==w)})}getUsers(W,fe,Te,w){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getUsers(W.token,fe,Te,w).then(I=>{var H={users:[]};return null==I.users||I.users.forEach(F=>{H.users.push({avatar_url:F.avatar_url,create_time:F.create_time,display_name:F.display_name,edge_count:F.edge_count?Number(F.edge_count):0,facebook_id:F.facebook_id,gamecenter_id:F.gamecenter_id,google_id:F.google_id,id:F.id,lang_tag:F.lang_tag,location:F.location,online:F.online,steam_id:F.steam_id,timezone:F.timezone,update_time:F.update_time,username:F.username,metadata:F.metadata?JSON.parse(F.metadata):void 0})}),Promise.resolve(H)})})}joinGroup(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinGroup(W.token,fe,{}).then(Te=>void 0!==Te)})}joinTournament(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinTournament(W.token,fe,{}).then(Te=>void 0!==Te)})}kickGroupUsers(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.kickGroupUsers(W.token,fe,Te).then(w=>Promise.resolve(null!=w))})}leaveGroup(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.leaveGroup(W.token,fe,{}).then(Te=>void 0!==Te)})}listChannelMessages(W,fe,Te,w,I){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listChannelMessages(W.token,fe,Te,w,I).then(H=>{var F={messages:[],next_cursor:H.next_cursor,prev_cursor:H.prev_cursor,cacheable_cursor:H.cacheable_cursor};return null==H.messages||H.messages.forEach(z=>{F.messages.push({channel_id:z.channel_id,code:z.code?Number(z.code):0,create_time:z.create_time,message_id:z.message_id,persistent:z.persistent,sender_id:z.sender_id,update_time:z.update_time,username:z.username,content:z.content?JSON.parse(z.content):void 0,group_id:z.group_id,room_name:z.room_name,user_id_one:z.user_id_one,user_id_two:z.user_id_two})}),Promise.resolve(F)})})}listGroupUsers(W,fe,Te,w,I){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroupUsers(W.token,fe,w,Te,I).then(H=>{var F={group_users:[],cursor:H.cursor};return null==H.group_users||H.group_users.forEach(z=>{F.group_users.push({user:{avatar_url:z.user.avatar_url,create_time:z.user.create_time,display_name:z.user.display_name,edge_count:z.user.edge_count?Number(z.user.edge_count):0,facebook_id:z.user.facebook_id,gamecenter_id:z.user.gamecenter_id,google_id:z.user.google_id,id:z.user.id,lang_tag:z.user.lang_tag,location:z.user.location,online:z.user.online,steam_id:z.user.steam_id,timezone:z.user.timezone,update_time:z.user.update_time,username:z.user.username,metadata:z.user.metadata?JSON.parse(z.user.metadata):void 0},state:z.state?Number(z.state):0})}),Promise.resolve(F)})})}listUserGroups(W,fe,Te,w,I){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listUserGroups(W.token,fe,Te,w,I).then(H=>{var F={user_groups:[],cursor:H.cursor};return null==H.user_groups||H.user_groups.forEach(z=>{F.user_groups.push({group:{avatar_url:z.group.avatar_url,create_time:z.group.create_time,creator_id:z.group.creator_id,description:z.group.description,edge_count:z.group.edge_count?Number(z.group.edge_count):0,id:z.group.id,lang_tag:z.group.lang_tag,max_count:z.group.max_count,metadata:z.group.metadata?JSON.parse(z.group.metadata):void 0,name:z.group.name,open:z.group.open,update_time:z.group.update_time},state:z.state?Number(z.state):0})}),Promise.resolve(F)})})}listGroups(W,fe,Te,w){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroups(W.token,fe,Te,w).then(I=>{var H={groups:[]};return null==I.groups||(H.cursor=I.cursor,I.groups.forEach(F=>{H.groups.push({avatar_url:F.avatar_url,create_time:F.create_time,creator_id:F.creator_id,description:F.description,edge_count:F.edge_count?Number(F.edge_count):0,id:F.id,lang_tag:F.lang_tag,max_count:F.max_count,metadata:F.metadata?JSON.parse(F.metadata):void 0,name:F.name,open:F.open,update_time:F.update_time})})),Promise.resolve(H)})})}linkApple(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkApple(W.token,fe).then(Te=>void 0!==Te)})}linkCustom(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkCustom(W.token,fe).then(Te=>void 0!==Te)})}linkDevice(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkDevice(W.token,fe).then(Te=>void 0!==Te)})}linkEmail(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkEmail(W.token,fe).then(Te=>void 0!==Te)})}linkFacebook(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebook(W.token,fe).then(Te=>void 0!==Te)})}linkFacebookInstantGame(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebookInstantGame(W.token,fe).then(Te=>void 0!==Te)})}linkGoogle(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGoogle(W.token,fe).then(Te=>void 0!==Te)})}linkGameCenter(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGameCenter(W.token,fe).then(Te=>void 0!==Te)})}linkSteam(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkSteam(W.token,fe).then(Te=>void 0!==Te)})}listFriends(W,fe,Te,w){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriends(W.token,Te,fe,w).then(I=>{var H={friends:[],cursor:I.cursor};return null==I.friends||I.friends.forEach(F=>{H.friends.push({user:{avatar_url:F.user.avatar_url,create_time:F.user.create_time,display_name:F.user.display_name,edge_count:F.user.edge_count?Number(F.user.edge_count):0,facebook_id:F.user.facebook_id,gamecenter_id:F.user.gamecenter_id,google_id:F.user.google_id,id:F.user.id,lang_tag:F.user.lang_tag,location:F.user.location,online:F.user.online,steam_id:F.user.steam_id,timezone:F.user.timezone,update_time:F.user.update_time,username:F.user.username,metadata:F.user.metadata?JSON.parse(F.user.metadata):void 0,facebook_instant_game_id:F.user.facebook_instant_game_id},state:F.state})}),Promise.resolve(H)})})}listFriendsOfFriends(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriendsOfFriends(W.token,fe,Te).then(w=>{var I={friends_of_friends:[],cursor:w.cursor};return null==w.friends_of_friends||w.friends_of_friends.forEach(H=>{I.friends_of_friends.push({referrer:H.referrer,user:{avatar_url:H.user.avatar_url,create_time:H.user.create_time,display_name:H.user.display_name,edge_count:H.user.edge_count?Number(H.user.edge_count):0,facebook_id:H.user.facebook_id,gamecenter_id:H.user.gamecenter_id,google_id:H.user.google_id,id:H.user.id,lang_tag:H.user.lang_tag,location:H.user.location,online:H.user.online,steam_id:H.user.steam_id,timezone:H.user.timezone,update_time:H.user.update_time,username:H.user.username,metadata:H.user.metadata?JSON.parse(H.user.metadata):void 0,facebook_instant_game_id:H.user.facebook_instant_game_id}})}),Promise.resolve(I)})})}listLeaderboardRecords(W,fe,Te,w,I,H){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecords(W.token,fe,Te,w,I,H).then(F=>{var z={next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,rank_count:F.rank_count?Number(F.rank_count):0,owner_records:[],records:[]};return null!=F.owner_records&&F.owner_records.forEach(B=>{z.owner_records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),null!=F.records&&F.records.forEach(B=>{z.records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),Promise.resolve(z)})})}listLeaderboardRecordsAroundOwner(W,fe,Te,w,I,H){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecordsAroundOwner(W.token,fe,Te,w,I,H).then(F=>{var z={next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,rank_count:F.rank_count?Number(F.rank_count):0,owner_records:[],records:[]};return null!=F.owner_records&&F.owner_records.forEach(B=>{z.owner_records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),null!=F.records&&F.records.forEach(B=>{z.records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),Promise.resolve(z)})})}listMatches(W,fe,Te,w,I,H,F){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listMatches(W.token,fe,Te,w,I,H,F)})}listNotifications(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listNotifications(W.token,fe,Te).then(w=>{var I={cacheable_cursor:w.cacheable_cursor,notifications:[]};return null==w.notifications||w.notifications.forEach(H=>{I.notifications.push({code:H.code?Number(H.code):0,create_time:H.create_time,id:H.id,persistent:H.persistent,sender_id:H.sender_id,subject:H.subject,content:H.content?JSON.parse(H.content):void 0})}),Promise.resolve(I)})})}listStorageObjects(W,fe,Te,w,I){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listStorageObjects(W.token,fe,Te,w,I).then(H=>{var F={objects:[],cursor:H.cursor};return null==H.objects||H.objects.forEach(z=>{F.objects.push({collection:z.collection,key:z.key,permission_read:z.permission_read?Number(z.permission_read):0,permission_write:z.permission_write?Number(z.permission_write):0,value:z.value?JSON.parse(z.value):void 0,version:z.version,user_id:z.user_id,create_time:z.create_time,update_time:z.update_time})}),Promise.resolve(F)})})}listTournaments(W,fe,Te,w,I,H,F){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournaments(W.token,fe,Te,w,I,H,F).then(z=>{var B={cursor:z.cursor,tournaments:[]};return null!=z.tournaments&&z.tournaments.forEach(ue=>{B.tournaments.push({id:ue.id,title:ue.title,description:ue.description,duration:ue.duration?Number(ue.duration):0,category:ue.category?Number(ue.category):0,sort_order:ue.sort_order?Number(ue.sort_order):0,size:ue.size?Number(ue.size):0,max_size:ue.max_size?Number(ue.max_size):0,max_num_score:ue.max_num_score?Number(ue.max_num_score):0,can_enter:ue.can_enter,end_active:ue.end_active?Number(ue.end_active):0,next_reset:ue.next_reset?Number(ue.next_reset):0,metadata:ue.metadata?JSON.parse(ue.metadata):void 0,create_time:ue.create_time,start_time:ue.start_time,end_time:ue.end_time,start_active:ue.start_active,authoritative:ue.authoritative})}),Promise.resolve(B)})})}listSubscriptions(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listSubscriptions(W.token,{cursor:fe,limit:Te})})}listTournamentRecords(W,fe,Te,w,I,H){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecords(W.token,fe,Te,w,I,H).then(F=>{var z={next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,owner_records:[],records:[]};return null!=F.owner_records&&F.owner_records.forEach(B=>{z.owner_records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),null!=F.records&&F.records.forEach(B=>{z.records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),Promise.resolve(z)})})}listTournamentRecordsAroundOwner(W,fe,Te,w,I,H){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecordsAroundOwner(W.token,fe,Te,w,I,H).then(F=>{var z={next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,owner_records:[],records:[]};return null!=F.owner_records&&F.owner_records.forEach(B=>{z.owner_records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),null!=F.records&&F.records.forEach(B=>{z.records.push({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,rank:B.rank?Number(B.rank):0,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0})}),Promise.resolve(z)})})}promoteGroupUsers(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.promoteGroupUsers(W.token,fe,Te)})}readStorageObjects(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.readStorageObjects(W.token,fe).then(Te=>{var w={objects:[]};return null==Te.objects||Te.objects.forEach(I=>{w.objects.push({collection:I.collection,key:I.key,permission_read:I.permission_read?Number(I.permission_read):0,permission_write:I.permission_write?Number(I.permission_write):0,value:I.value?JSON.parse(I.value):void 0,version:I.version,user_id:I.user_id,create_time:I.create_time,update_time:I.update_time})}),Promise.resolve(w)})})}rpc(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.rpcFunc(W.token,fe,JSON.stringify(Te)).then(w=>Promise.resolve({id:w.id,payload:w.payload?JSON.parse(w.payload):void 0}))})}rpcHttpKey(W,fe,Te){return v(this,null,function*(){return this.apiClient.rpcFunc2("",fe,Te&&JSON.stringify(Te)||"",W).then(w=>Promise.resolve({id:w.id,payload:w.payload?JSON.parse(w.payload):void 0})).catch(w=>{throw w})})}sessionLogout(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.sessionLogout(W.token,{refresh_token:Te,token:fe}).then(w=>void 0!==w)})}sessionRefresh(W){return v(this,arguments,function*(fe,Te={}){if(!fe)return console.error("Cannot refresh a null session."),fe;fe.created&&fe.expires_at-fe.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),fe.created&&fe.refresh_expires_at-fe.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const w=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:fe.refresh_token,vars:Te});return fe.update(w.token,w.refresh_token),fe})}unlinkApple(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkApple(W.token,fe).then(Te=>void 0!==Te)})}unlinkCustom(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkCustom(W.token,fe).then(Te=>void 0!==Te)})}unlinkDevice(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkDevice(W.token,fe).then(Te=>void 0!==Te)})}unlinkEmail(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkEmail(W.token,fe).then(Te=>void 0!==Te)})}unlinkFacebook(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebook(W.token,fe).then(Te=>void 0!==Te)})}unlinkFacebookInstantGame(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebookInstantGame(W.token,fe).then(Te=>void 0!==Te)})}unlinkGoogle(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGoogle(W.token,fe).then(Te=>void 0!==Te)})}unlinkGameCenter(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGameCenter(W.token,fe).then(Te=>void 0!==Te)})}unlinkSteam(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkSteam(W.token,fe).then(Te=>void 0!==Te)})}updateAccount(W,fe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateAccount(W.token,fe).then(Te=>void 0!==Te)})}updateGroup(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateGroup(W.token,fe,Te).then(w=>void 0!==w)})}validatePurchaseApple(W,fe,Te=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseApple(W.token,{receipt:fe,persist:Te})})}validatePurchaseFacebookInstant(W,fe,Te=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseFacebookInstant(W.token,{signed_request:fe,persist:Te})})}validatePurchaseGoogle(W,fe,Te=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseGoogle(W.token,{purchase:fe,persist:Te})})}validatePurchaseHuawei(W,fe,Te,w=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseHuawei(W.token,{purchase:fe,signature:Te,persist:w})})}validateSubscriptionApple(W,fe,Te=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validateSubscriptionApple(W.token,{receipt:fe,persist:Te})})}validateSubscriptionGoogle(W,fe,Te=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validateSubscriptionGoogle(W.token,{receipt:fe,persist:Te})})}writeLeaderboardRecord(W,fe,Te){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.writeLeaderboardRecord(W.token,fe,{metadata:Te.metadata?JSON.stringify(Te.metadata):void 0,score:Te.score,subscore:Te.subscore}).then(w=>Promise.resolve({expiry_time:w.expiry_time,leaderboard_id:w.leaderboard_id,metadata:w.metadata?JSON.parse(w.metadata):void 0,num_score:w.num_score?Number(w.num_score):0,owner_id:w.owner_id,score:w.score?Number(w.score):0,subscore:w.subscore?Number(w.subscore):0,update_time:w.update_time,username:w.username,max_num_score:w.max_num_score?Number(w.max_num_score):0,rank:w.rank?Number(w.rank):0}))})}writeStorageObjects(W,fe){return v(this,null,function*(){this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W));var Te={objects:[]};return fe.forEach(w=>{Te.objects.push({collection:w.collection,key:w.key,permission_read:w.permission_read,permission_write:w.permission_write,value:JSON.stringify(w.value),version:w.version})}),this.apiClient.writeStorageObjects(W.token,Te)})}writeTournamentRecord(W,fe,Te){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(W.token,fe,{metadata:Te.metadata?JSON.stringify(Te.metadata):void 0,score:Te.score,subscore:Te.subscore}).then(w=>Promise.resolve({expiry_time:w.expiry_time,leaderboard_id:w.leaderboard_id,metadata:w.metadata?JSON.parse(w.metadata):void 0,num_score:w.num_score?Number(w.num_score):0,owner_id:w.owner_id,score:w.score?Number(w.score):0,subscore:w.subscore?Number(w.subscore):0,update_time:w.update_time,username:w.username,max_num_score:w.max_num_score?Number(w.max_num_score):0,rank:w.rank?Number(w.rank):0}))})}},vt=_e(8326),Lt=_e(617),bt=_e(482),Pt=_e(3953),fr=_e(9900),dt=_e(8065),xt=_e(755),nr=_e(5547),Kt=_e(5374),ur=_e(3656),vr=_e(4234),hr=function(W){return W[W.MANAGE_TODO=10]="MANAGE_TODO",W[W.EDIT_PROFILE=11]="EDIT_PROFILE",W[W.MANAGE_POST=12]="MANAGE_POST",W[W.ADD_CHANNEL=14]="ADD_CHANNEL",W[W.NAME_OVERRIDED=15]="NAME_OVERRIDED",W[W.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",W[W.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",W[W.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",W[W.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",W[W.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",W[W.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",W[W.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",W[W.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",W[W.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",W[W.GROUP_DATA_CHANGED=200]="GROUP_DATA_CHANGED",W[W.GROUP_IMAGE_CHANGED=201]="GROUP_IMAGE_CHANGED",W}(hr||{});let Mr=(()=>{var W;class fe{constructor(w,I,H,F,z,B,ue,Se,ke){this.p5toast=w,this.statusBar=I,this.indexed=H,this.noti=F,this.alertCtrl=z,this.lang=B,this.global=ue,this.navCtrl=Se,this.loadingCtrl=ke,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.NeedLocalPush=[],this.TogglingSession=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.ArcadeList=[{name:"testGame"}],this.RemoteTodoCounter={},this.PromotedGroup={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={local:{},official:{},unofficial:{}},this.noti_id=2e3,this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.usernameOverride={local:{target:{}}},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},ue.CallbackNakama=this}initialize(){var w=this;return(0,M.A)(function*(){yield w.set_all_todo_notification();let I=yield w.indexed.loadTextFromUserPath("servers/self/profile.json");I&&(w.users.self=JSON.parse(I));try{let Se=(yield w.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Se&&(w.users.self.img=Se)}catch{}yield w.LoadOverridesOffline();let H=yield w.indexed.loadTextFromUserPath("servers/groups.json");H&&(w.groups=JSON.parse(H)),w.rearrange_group_list().forEach(function(){var Se=(0,M.A)(function*(ke){let Fe=yield w.indexed.loadTextFromUserPath(`servers/${ke.server.isOfficial}/${ke.server.target}/groups/${ke.id}.img`);if(Fe&&(ke.img=Fe.replace(/"|=|\\/g,"")),"missing"!=ke.status){delete ke.status;let $t=ke.server.isOfficial,Ut=ke.server.target;if(w.CreateEmptyForm($t,Ut),ke.users)for(let Dr=0,Re=ke.users.length;Dr<Re;Dr++)ke.users[Dr].is_me||(ke.users[Dr].user=w.load_other_user(ke.users[Dr].user.id,$t,Ut))}});return function(ke){return Se.apply(this,arguments)}}()),yield w.load_channel_list(),yield w.CheckIfLostLocal(),w.rearrange_channels();let z=yield w.indexed.loadTextFromUserPath("servers/list.json");z&&(w.statusBar.groupServer=JSON.parse(z)),Object.keys(w.statusBar.groupServer).forEach(Se=>{w.servers[Se]?Object.keys(w.statusBar.groupServer[Se]).forEach(Fe=>{w.servers[Se][Fe]||delete w.statusBar.groupServer[Se][Fe]}):delete w.statusBar.groupServer[Se]}),w.showServer=!!localStorage.getItem("showServer"),w.catch_group_server_header("offline");let ue=yield w.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ue)ue.split("\n").forEach(ke=>{let Fe=ke.split(","),Ut={isOfficial:Fe[1],name:Fe[2],target:Fe[3],address:Fe[4],nakama_port:Fe[5]?+Fe[5]:void 0,cdn_port:Fe[7]?+Fe[7]:void 0,apache_port:Fe[8]?+Fe[8]:void 0,square_port:Fe[9]?+Fe[9]:void 0,webrtc_port:Fe[10]?+Fe[10]:void 0,useSSL:"true"==Fe[6]};w.servers[Ut.isOfficial][Ut.target]={},w.servers[Ut.isOfficial][Ut.target].info=Ut,w.init_server(Ut),w.users.self.online&&w.init_session(Ut)});else{let Se=location.href.split("?").length>1;(w.users.self.online||Se)&&w.toggle_all_session()}})()}CheckIfLostLocal(){var w=this;return(0,M.A)(function*(){let I=yield w.indexed.GetFileListFromDB("servers/local/target/channels");for(let H of I)try{let F=H.split("/");if(5==F.length){let z=F.pop();w.channels_orig.local.target||(w.channels_orig.local.target={}),w.channels_orig.local.target[z]||(w.channels_orig.local.target[z]={CDN:0,id:z,info:{isOfficial:"local",target:"target",name:w.lang.text.Nakama.DamagedChannel},local:!0,redirect:{type:0},server:{isOfficial:"local",target:"target",name:"\uc0ad\uc81c\ub41c \uc11c\ubc84"},status:"online",title:w.lang.text.Nakama.DamagedChannel})}}catch(F){console.log("\ub85c\uceec \ucc44\ub110 \uc7ac\uac80\ud1a0 \ub2e8\uacc4 \uc624\ub958: ",F)}})()}set_all_todo_notification(){var w=this;return(0,M.A)(function*(){let I=yield w.indexed.GetFileListFromDB("info.todo");for(let H=0,F=I.length;H<F;H++){let z=yield w.indexed.loadTextFromUserPath(I[H]);if(z){let B=JSON.parse(z);w.registered_id.push(B.noti_id),w.set_todo_notification(B)}}})()}getGodotDBRecursive(){var w=this;return(0,M.A)(function*(){try{if(void 0===w.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(H=>{setTimeout(()=>{H(void 0)},100)}),yield w.getGodotDBRecursive()}})()}open_add_todo_page(w="",I="portal/main/add-todo-menu"){this.AddTodoLinkAct?this.AddTodoLinkAct(w):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(I,{animation:Lt.V5,state:{data:w}})})}open_group_detail(w){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-detail",{animation:Lt.V5,state:w})})}open_others_profile(w){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("others-profile",{animation:Lt.V5,state:w})})}set_todo_notification(w){var I=this;return(0,M.A)(function*(){I.RemoveLocalPushSchedule(w),(w.startFrom||w.limit)>Date.now()&&I.NeedLocalPush.push(w),!I.p5todotimer&&I.NeedLocalPush.length&&(I.p5todotimer=new vt(F=>{F.setup=()=>{F.noCanvas(),F.frameRate(.5)},F.draw=(0,M.A)(function*(){const z=Date.now();for(let B=I.NeedLocalPush.length-1;B>=0;B--)if((I.NeedLocalPush[B].startFrom||I.NeedLocalPush[B].limit)<z){let Se;for(let Fe of I.NeedLocalPush[B].attach)if("image"==Fe.viewer){if(Fe.url)Se=Fe.url;else{let $t=yield I.indexed.loadBlobFromUserPath(Fe.path,Fe.type);Se=URL.createObjectURL($t)}break}let ke=JSON.stringify(I.NeedLocalPush[B]);yield I.noti.PushLocal({id:I.NeedLocalPush[B].noti_id,title:I.NeedLocalPush[B].title,body:I.NeedLocalPush[B].description,image:Se,smallIcon_ln:"todo"},void 0,Fe=>{I.open_add_todo_page(ke,"add-todo-menu")}),setTimeout(()=>{try{URL.revokeObjectURL(Se)}catch{}},1e3),I.NeedLocalPush.splice(B,1)}I.NeedLocalPush.length||(F.remove(),I.p5todotimer=null)})}))})()}RemoveLocalPushSchedule(w){for(let I=this.NeedLocalPush.length-1;I>=0;I--)if(this.NeedLocalPush[I].id==w.id){this.NeedLocalPush.splice(I,1);break}}init_server(w){this.servers[w.isOfficial][w.target]||(this.servers[w.isOfficial][w.target]={}),this.servers[w.isOfficial][w.target].client=new Rt(w.key||"defaultkey",w.address,(w.nakama_port||7350).toString(),w.useSSL||!1)}go_to_chatroom_without_admob_act(w,I){this.has_new_channel_msg=!1,w.update&&delete w.update,this.ChatroomLinkAct?this.ChatroomLinkAct(w,I):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("chat-room",{state:{info:w,file:I}})})}add_new_group(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-group",{animation:Lt.V5})})}open_profile_page(w){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:Lt.V5,state:w})})}open_post(w,I,H="post-viewer"){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(H,{animation:Lt.V5,state:{data:w,index:I+1}})})}init_all_sessions(){var w=this;return(0,M.A)(function*(){let I=Object.keys(w.servers.official);for(let F=0,z=I.length;F<z;F++)yield w.init_session(w.servers.official[I[F]].info);let H=Object.keys(w.servers.unofficial);for(let F=0,z=H.length;F<z;F++)yield w.init_session(w.servers.unofficial[H[F]].info);return I.length+H.length})()}logout_all_server(){let w=Object.keys(this.statusBar.groupServer);for(let I=0,H=w.length;I<H;I++){let F=Object.keys(this.statusBar.groupServer[w[I]]);for(let z=0,B=F.length;z<B;z++)"online"==this.statusBar.groupServer[w[I]][F[z]]&&(this.servers[w[I]][F[z]].socket?this.servers[w[I]][F[z]].socket.disconnect(!0):this.link_group(w[I],F[z],!1))}}toggle_all_session(){var w=this;return(0,M.A)(function*(){if(!w.TogglingSession){if(w.TogglingSession=!0,"online"==w.statusBar.settings.groupServer)w.logout_all_server(),w.p5toast.show({text:w.lang.text.Nakama.SessionLogout});else{w.p5toast.show({text:w.lang.text.Nakama.PendingLogin});try{(yield w.init_all_sessions())||w.p5toast.show({text:w.lang.text.Nakama.NoLoginServer})}catch(I){console.log("\ud14c\uc2a4\ud2b8 \uc11c\ubc84 \uc5f0\uacb0 \uc624\ub958: ",I)}}w.TogglingSession=!1}})()}AccessToOfficialTestServer(){var w=this;return(0,M.A)(function*(){try{let H=(yield(yield fetch("https://is2you2.github.io/assets/data/WSAddress.txt")).text()).split("\n")[0];yield w.add_group_server({isOfficial:"official",address:H,name:w.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0});let F=Object.keys(w.servers.official);for(let z=0,B=F.length;z<B;z++)yield w.init_session(w.servers.official[F[z]].info);"online"==w.statusBar.settings.groupServer&&w.p5toast.show({text:w.lang.text.Nakama.AccessTestServer})}catch(I){console.log("\uc8fc\uc18c\ubc1b\uae30 \uc2e4\ud328: ",I)}})()}link_group(w,I,H="offline"==this.statusBar.groupServer[w][I]){var F=this;return(0,M.A)(function*(){if(H)F.statusBar.groupServer[w][I]="pending",F.catch_group_server_header("pending"),F.users.self.online&&(yield F.init_session(F.servers[w][I].info));else{F.channels_orig[w]&&F.channels_orig[w][I]&&Object.keys(F.channels_orig[w][I]).forEach(B=>{"missing"!=F.channels_orig[w][I][B].status&&delete F.channels_orig[w][I][B].status}),F.groups[w]&&F.groups[w][I]&&Object.keys(F.groups[w][I]).forEach(B=>{"missing"!=F.groups[w][I][B].status&&(F.groups[w][I][B].status="offline")}),F.set_group_statusBar("offline",w,I),F.statusBar.groupServer[w][I]="offline",F.catch_group_server_header("offline");try{yield F.servers[w][I].client.sessionLogout(F.servers[w][I].session,F.servers[w][I].session.token,F.servers[w][I].session.refresh_token)}catch{}F.noti_origin[w]&&F.noti_origin[w][I]&&delete F.noti_origin[w][I],F.rearrange_notifications(),F.channels_orig[w]&&F.channels_orig[w][I]&&Object.keys(F.channels_orig[w][I]).forEach(B=>{"missing"!=F.channels_orig[w][I][B].status&&delete F.channels_orig[w][I][B].status})}F.indexed.saveTextFileToUserPath(JSON.stringify(F.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let w=[];return Object.keys(this.servers.official).forEach(F=>{"online"==this.statusBar.groupServer.official[F]&&w.push(this.servers.official[F])}),Object.keys(this.servers.unofficial).forEach(F=>{"online"==this.statusBar.groupServer.unofficial[F]&&w.push(this.servers.unofficial[F])}),w}get_all_server_info(w=!1,I=!1){let H=[],F=Object.keys(this.servers.official);return w&&F.forEach(B=>{I?("online"==this.statusBar.groupServer.official[B]||"pending"==this.statusBar.groupServer.official[B])&&H.push(this.servers.official[B].info):this.servers.official[B]&&H.push(this.servers.official[B].info)}),Object.keys(this.servers.unofficial).forEach(B=>{I?("online"==this.statusBar.groupServer.unofficial[B]||"pending"==this.statusBar.groupServer.unofficial[B])&&H.push(this.servers.unofficial[B].info):this.servers.unofficial[B]&&H.push(this.servers.unofficial[B].info)}),H}add_group_server(w,I=(()=>{})){var H=this;if(this.statusBar.groupServer.unofficial[w.target||w.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${w.target||w.name}`});w.target=w.target||w.name,w.address=w.address||"192.168.0.1",w.nakama_port=w.nakama_port,w.cdn_port=w.cdn_port,w.apache_port=w.apache_port,w.square_port=w.square_port,w.webrtc_port=w.webrtc_port,w.useSSL=w.useSSL||!1,w.isOfficial=w.isOfficial||"unofficial",w.key=w.key||"defaultkey";let F=(new Date).getTime().toString();return F+=`,${w.isOfficial}`,F+=`,${w.name}`,F+=`,${w.target}`,F+=`,${w.address}`,F+=`,${w.nakama_port||""}`,F+=`,${w.useSSL||""}`,F+=`,${w.cdn_port||""}`,F+=`,${w.apache_port||""}`,F+=`,${w.square_port||""}`,F+=`,${w.webrtc_port||""}`,new Promise(function(){var z=(0,M.A)(function*(B){yield H.AutoGenWebRTCInfo(w),"official"!=w.isOfficial?H.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ue=(0,M.A)(function*(Se,ke){let Fe=[];Se&&ke&&(Fe=ke.split("\n")),Fe.push(F),H.indexed.saveTextFileToUserPath(Fe.join("\n"),"servers/list_detail.csv",$t=>{H.init_server(w),H.servers[w.isOfficial][w.target].info={...w},I()}),H.statusBar.groupServer[w.isOfficial][w.target]="offline",yield H.indexed.saveTextFileToUserPath(JSON.stringify(H.statusBar.groupServer),"servers/list.json"),B()});return function(Se,ke){return ue.apply(this,arguments)}}()):(H.init_server(w),H.servers[w.isOfficial][w.target].info={...w},H.statusBar.groupServer[w.isOfficial][w.target]="offline",B())});return function(B){return z.apply(this,arguments)}}())}AutoGenWebRTCInfo(w){var I=this;return(0,M.A)(function*(){let H={urls:[`stun:${w.address}:${w.webrtc_port||(w.useSSL?5349:3478)}`,`turn:${w.address}:${w.webrtc_port||(w.useSSL?5349:3478)}`],username:"username",credential:"password"};yield I.SaveWebRTCServer(H)})()}SaveWebRTCServer(w){var I=this;return(0,M.A)(function*(){let H=(yield I.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",F=JSON.parse(H),z=!1;for(let ue=0,Se=Object.keys(F).length;ue<Se;ue++)if(I.catch_address_from_rtc_server_address(w)==I.catch_address_from_rtc_server_address(F[ue])){F[ue]=w,z=!0;break}return z||F.push(w),yield I.indexed.saveTextFileToUserPath(JSON.stringify(F),"servers/webrtc_server.json"),I.p5toast.show({text:I.lang.text.Nakama.SaveWebRTCServer}),z})()}RemoveWebRTCServer(w){var I=this;return(0,M.A)(function*(){let H=(yield I.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",F=JSON.parse(H);for(let B=0,ue=Object.keys(F).length;B<ue;B++){let Se=I.catch_address_from_rtc_server_address(F[B]);w==Se&&F.splice(B,1)}yield I.indexed.saveTextFileToUserPath(JSON.stringify(F),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(w){let I;try{let H=w.urls[0];(H.indexOf("stun:")>=0||H.indexOf("turn:")>=0)&&(H=H.substring(5));let F=H.lastIndexOf(":");I=H.substring(0,F)}catch(H){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",H)}return I}catch_group_server_header(w){let I=w;this.statusBar.settings.groupServer=w,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(F=>{switch(this.statusBar.groupServer.official[F]){case"online":I="online";break;case"pending":"online"!=I&&(I="pending");break;case"missing":case"offline":"online"!=I&&"pending"!=I&&(I="offline")}}),"online"!=I&&Object.keys(this.statusBar.groupServer.unofficial).forEach(z=>{switch(this.statusBar.groupServer.unofficial[z]){case"online":I="online";break;case"pending":"online"!=I&&(I="pending");break;case"missing":case"offline":"online"!=I&&"pending"!=I&&(I="offline")}}),this.statusBar.settings.groupServer=I},1500)}init_session(w){var I=this;return(0,M.A)(function*(){I.CreateEmptyForm(w.isOfficial,w.target),I.TogglingSession=!0;try{I.servers[w.isOfficial][w.target].session=yield I.servers[w.isOfficial][w.target].client.authenticateEmail(I.users.self.email,I.users.self.password,!1),yield I.after_login(w.isOfficial,w.target,w.useSSL)}catch(H){switch(H.status){case 400:I.p5toast.show({text:I.lang.text.Nakama.NeedLoginInfo}),I.open_profile_page(),I.users.self.online=!1,delete I.users.self.password,I.set_group_statusBar("offline",w.isOfficial,w.target);break;case 401:I.p5toast.show({text:I.lang.text.Nakama.NeedAccountReset}),I.users.self.online=!1,delete I.users.self.password,I.set_group_statusBar("offline",w.isOfficial,w.target);break;case 404:if(I.servers[w.isOfficial][w.target].session=yield I.servers[w.isOfficial][w.target].client.authenticateEmail(I.users.self.email,I.users.self.password,!0),I.users.self.display_name&&I.servers[w.isOfficial][w.target].client.updateAccount(I.servers[w.isOfficial][w.target].session,{display_name:I.users.self.display_name,lang_tag:navigator.language.split("-")[0]||I.lang.lang}),I.p5toast.show({text:`${I.lang.text.Nakama.RegisterUserSucc}: ${w.name}`,lateable:!0}),I.users.self.img)try{yield I.servers[w.isOfficial][w.target].client.writeStorageObjects(I.servers[w.isOfficial][w.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:I.users.self.img}}])}catch(F){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",F)}yield I.after_login(w.isOfficial,w.target,w.useSSL);break;default:I.p5toast.show({text:`(${w.name}) ${I.lang.text.Nakama.UnexpectedLoginErr}: ${(H.statusText?`${H.statusText}(${H.status})`:H.status)||H}`}),I.set_group_statusBar("offline",w.isOfficial,w.target)}}I.TogglingSession=!1})()}CreateEmptyForm(w,I){this.groups[w]||(this.groups[w]={}),this.groups[w][I]||(this.groups[w][I]={}),this.channels_orig[w]||(this.channels_orig[w]={}),this.channels_orig[w][I]||(this.channels_orig[w][I]={}),this.usernameOverride[w]||(this.usernameOverride[w]={}),this.usernameOverride[w][I]||(this.usernameOverride[w][I]={}),this.OnTransfer[w]||(this.OnTransfer[w]={}),this.OnTransfer[w][I]||(this.OnTransfer[w][I]={}),this.self_match[w]||(this.self_match[w]={}),this.self_match[w][I]||(this.self_match[w][I]=void 0),this.noti_origin[w]||(this.noti_origin[w]={}),this.noti_origin[w][I]||(this.noti_origin[w][I]={}),this.RemoteTodoCounter[w]||(this.RemoteTodoCounter[w]={}),this.RemoteTodoCounter[w][I]||(this.RemoteTodoCounter[w][I]=[]),this.PromotedGroup[w]||(this.PromotedGroup[w]={}),this.PromotedGroup[w][I]||(this.PromotedGroup[w][I]={})}after_login(w,I,H){var F=this;return(0,M.A)(function*(){F.set_group_statusBar("pending",w,I),F.servers[w][I].socket=F.servers[w][I].client.createSocket(H),F.servers[w][I].client.getAccount(F.servers[w][I].session).then(z=>{let B=JSON.parse(z.user.metadata);F.servers[w][I].info.is_admin=B.is_admin,Object.keys(z.user).forEach(Se=>{"display_name"==Se?F.users.self[Se]=z.user[Se]:F.users.self.display_name||(F.users.self[Se]=z.user[Se])}),F.save_self_profile()}),F.servers[w][I].client.readStorageObjects(F.servers[w][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:F.servers[w][I].session.user_id}]}).then(z=>{z.objects.length?F.socket_reactive.profile?(F.users.self.img=z.objects[0].value.img,F.socket_reactive.profile(z.objects[0].value.img)):(F.users.self.img=z.objects[0].value.img,F.indexed.saveTextFileToUserPath(JSON.stringify(F.users.self.img),"servers/self/profile.img")):F.socket_reactive.profile&&F.socket_reactive.profile("")}),F.LoadOverrideName(w,I),F.load_server_arcade_list(w,I),F.connect_to(w,I,z=>{F.servers[w][I].client.readStorageObjects(F.servers[w][I].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:F.servers[w][I].session.user_id}]}).then(function(){var ue=(0,M.A)(function*(Se){try{F.self_match[w][I]=yield z.joinMatch(Se.objects[0].value.match_id)}catch{let Fe=yield z.createMatch();F.self_match[w][I]=Fe,F.servers[w][I].client.writeStorageObjects(F.servers[w][I].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Fe.match_id}}])}for(let ke=0,Fe=F.AfterLoginAct.length;ke<Fe;ke++)try{yield F.AfterLoginAct[ke]()}catch($t){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",$t)}F.AfterLoginAct.length=0,F.AfterLoginActDone=!0});return function(Se){return ue.apply(this,arguments)}}());let B=Object.keys(F.users[w][I]||{});B&&F.servers[w][I].client.getUsers(F.servers[w][I].session,B).then(ue=>{for(let Se=0,ke=ue.users.length;Se<ke;Se++)F.save_other_user(ue.users[Se],w,I)}).catch(ue=>{console.log("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: ",ue)}),F.redirect_channel(w,I).then(()=>{F.get_group_list_from_server(w,I)})}),yield F.SyncTodoCounter(w,I),F.load_server_todo(w,I),F.RemoteTodoSelfCheck(w,I),F.rearrange_group_list(),F.load_posts_counter(),F.update_notifications(w,I),F.set_group_statusBar("online",w,I)})()}load_server_arcade_list(w,I){var H=this;return(0,M.A)(function*(){try{let F=yield H.servers[w][I].client.readStorageObjects(H.servers[w][I].session,{object_ids:[{collection:"arcade",key:"url"}]});if(F.objects.length){let z=F.objects[0].value.data,B=yield fetch(z);console.log("arcade test log \uc77d\uc5b4\ubcf4\uae30 \uacbd\uacfc: ",B)}}catch(F){console.log("\ub9ac\uc2a4\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",F)}})()}load_server_todo(w,I){var H=this;try{let F=this.RemoteTodoCounter[w][I];for(let z=F.length-1;z>=0;z--){let B=`RemoteTodo_${F[z]}`;this.servers[w][I].client.readStorageObjects(this.servers[w][I].session,{object_ids:[{collection:"server_todo",key:B,user_id:this.servers[w][I].session.user_id}]}).then(function(){var ue=(0,M.A)(function*(Se){if(Se.objects.length)yield H.modify_remote_info_as_local(Se.objects[0].value,w,I);else try{let ke;H.RemoteTodoCounter[w][I].splice(z,1);try{ke=`todo/${B}_${w}_${I}/info.todo`}catch{ke=`todo/${B}/info.todo`}let Fe=yield H.indexed.loadTextFromUserPath(ke),$t=JSON.parse(Fe);H.deleteTodoFromStorage(!0,$t,!0)}catch{}});return function(Se){return ue.apply(this,arguments)}}()).catch(ue=>{console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",ue)})}}catch{}}RemoteTodoSelfCheck(w,I){var H=this;this.indexed.GetFileListFromDB("todo/RemoteTodo_").then(function(){var F=(0,M.A)(function*(z){for(let B=0,ue=z.length;B<ue;B++)try{if(z[B].indexOf("info.todo")>=0){let Se=yield H.indexed.loadTextFromUserPath(z[B]),ke=JSON.parse(Se);ke.remote.isOfficial==w&&ke.remote.target==I&&((yield H.servers[w][I].client.readStorageObjects(H.servers[w][I].session,{object_ids:[{collection:"server_todo",key:ke.id,user_id:H.servers[w][I].session.user_id}]})).objects.length||((yield H.indexed.GetFileListFromDB(`todo/${ke.id}_${w}_${I}`)).forEach(Ut=>H.indexed.removeFileFromUserPath(Ut)),H.RemoveLocalPushSchedule(ke),H.noti.ClearNoti(ke.id),H.global.p5removeTodo&&H.global.p5removeTodo(Se)))}}catch{}});return function(z){return F.apply(this,arguments)}}())}getRemoteTodoCounter(w,I){var H=this;return(0,M.A)(function*(){try{H.RemoteTodoCounter[w][I].sort((B,ue)=>B-ue);let F=H.RemoteTodoCounter[w][I].length;if(!F)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let z=H.RemoteTodoCounter[w][I][F-1]+1;return H.RemoteTodoCounter[w][I].push(z),z}catch{let z=yield H.SyncTodoCounter(w,I),B=0;return z&&z.objects.length&&z.objects[0].value.data.length?B=z.objects[0].value.data.pop()+1:H.RemoteTodoCounter[w][I]=[0],B}})()}SyncTodoCounter(w,I){var H=this;return(0,M.A)(function*(){try{let F=yield H.servers[w][I].client.readStorageObjects(H.servers[w][I].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:H.servers[w][I].session.user_id}]});return H.RemoteTodoCounter[w][I]=F.objects[0].value.data,F}catch{}})()}removeRemoteTodoCounter(w,I,H){var F=this;return(0,M.A)(function*(){try{let z=F.RemoteTodoCounter[w][I].indexOf(H);z>=0&&F.RemoteTodoCounter[w][I].splice(z,1)}catch{}yield F.updateRemoteCounter(w,I)})()}updateRemoteCounter(w,I){var H=this;return(0,M.A)(function*(){if(H.RemoteTodoCounter[w][I].length){for(let F=H.RemoteTodoCounter[w][I].length-1;F>=0;F--)(void 0===H.RemoteTodoCounter[w][I][F]||null==H.RemoteTodoCounter[w][I][F])&&H.RemoteTodoCounter[w][I].splice(F,1);H.RemoteTodoCounter[w][I].sort((F,z)=>F-z);for(let F=H.RemoteTodoCounter[w][I].length-2;F>=0;F--)H.RemoteTodoCounter[w][I][F+1]==H.RemoteTodoCounter[w][I][F]&&H.RemoteTodoCounter[w][I].splice(F,1)}yield H.servers[w][I].client.writeStorageObjects(H.servers[w][I].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:H.RemoteTodoCounter[w][I]}}])})()}modify_remote_info_as_local(w,I,H){var F=this;return(0,M.A)(function*(){w.remote.name=F.servers[I][H].info.name,w.remote.isOfficial=I,w.remote.target=H,w.remote.type=`${I}/${H}`,F.set_todo_notification(w);try{w.is_me=w.remote.creator_id==F.servers[I][H].session.user_id}catch{}F.global.p5todoAddtodo&&F.global.p5todoAddtodo(JSON.stringify(w));let z=yield F.indexed.loadTextFromUserPath(`todo/${w.id}_${I}_${H}/info.todo`);if(z){let B=JSON.parse(z);if(w.create_at<=B.create_at&&B.modified){if(B.done)return void F.doneTodo(w,!0);if(B.removed)return void F.deleteTodoFromStorage(!0,B,!0);delete B.modified,yield F.indexed.saveTextFileToUserPath(JSON.stringify(B),`todo/${B.id}_${I}_${H}/info.todo`),yield F.servers[B.remote.isOfficial][B.remote.target].client.writeStorageObjects(F.servers[B.remote.isOfficial][B.remote.target].session,[{collection:"server_todo",key:B.id,permission_read:2,permission_write:1,value:B}]).then(ue=>{F.servers[B.remote.isOfficial][B.remote.target].socket.sendMatchState(F.self_match[B.remote.isOfficial][B.remote.target].match_id,hr.MANAGE_TODO,encodeURIComponent(`add,${ue.acks[0].collection},${ue.acks[0].key}`))})}else F.indexed.saveTextFileToUserPath(JSON.stringify(w),`todo/${w.id}_${I}_${H}/info.todo`)}else F.indexed.saveTextFileToUserPath(JSON.stringify(w),`todo/${w.id}_${I}_${H}/info.todo`)})()}doneTodo(w,I=!1){var H=this;return(0,M.A)(function*(){if(w.done=!0,H.global.p5todoAddtodo&&H.global.p5todoAddtodo(JSON.stringify(w)),w.remote){let F;I||(F=yield H.loadingCtrl.create({message:H.lang.text.TodoDetail.WIP}),F.present());try{H.servers[w.remote.isOfficial][w.remote.target]&&H.self_match[w.remote.isOfficial][w.remote.target]&&(yield H.servers[w.remote.isOfficial][w.remote.target].socket.sendMatchState(H.self_match[w.remote.isOfficial][w.remote.target].match_id,hr.MANAGE_TODO,encodeURIComponent(`done,${w.id}`))),I||F.dismiss()}catch{let B;w.modified=!0;try{B=`todo/${w.id}_${w.remote.isOfficial}_${w.remote.target}/info.todo`}catch{B=`todo/${w.id}/info.todo`}return yield H.indexed.saveTextFileToUserPath(JSON.stringify(w),B),I||F.dismiss(),void H.navCtrl.pop()}}yield H.deleteTodoFromStorage(!1,w,I),H.navCtrl.pop()})()}deleteTodoFromStorage(w,I,H=!1){var F=this;return(0,M.A)(function*(){let z,B;if(H||(z=yield F.loadingCtrl.create({message:F.lang.text.TodoDetail.WIP}),z.present()),I.attach&&I.attach.length)for(let Se=0,ke=I.attach.length;Se<ke;Se++)I.attach[Se].url&&I.attach[Se].url.indexOf(I.id)>=0&&""!==I.attach[Se].type&&F.global.remove_file_from_storage(I.attach[Se].url,{});if(I.remote)try{if(!F.servers[I.remote.isOfficial][I.remote.target])throw"Server deleted.";try{let Se=I.remote.isOfficial,ke=I.remote.target;if(yield F.servers[Se][ke].client.deleteStorageObjects(F.servers[Se][ke].session,{object_ids:[{collection:"server_todo",key:I.id}]}),I.attach)for(let Fe=0,$t=I.attach.length;Fe<$t;Fe++)if(I.attach[Fe].url){if(I.attach[Fe].url.indexOf(I.id)>=0&&""!==I.attach[Fe].type){let Ut=F.servers[Se][ke].info;F.global.remove_file_from_storage(I.attach[Fe].url,{apache_port:Ut.apache_port,cdn_port:Ut.cdn_port})}}else yield F.sync_remove_file(I.attach[Fe].path,Se,ke,"todo_attach");w&&(yield F.servers[Se][ke].socket.sendMatchState(F.self_match[Se][ke].match_id,hr.MANAGE_TODO,encodeURIComponent(`delete,${I.id}`)))}catch(Se){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",Se)}try{if(I.remote.creator_id!=F.servers[I.remote.isOfficial][I.remote.target].session.user_id){let Se=(new Date).getTime();try{yield F.servers[I.remote.isOfficial][I.remote.target].client.rpc(F.servers[I.remote.isOfficial][I.remote.target].session,"manage_todo_done_fn",{id:I.id,creator_id:I.remote.creator_id,user_id:F.servers[I.remote.isOfficial][I.remote.target].session.user_id,timestamp:Se,isDelete:w})}catch{}try{let ke=yield F.servers[I.remote.isOfficial][I.remote.target].client.readStorageObjects(F.servers[I.remote.isOfficial][I.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:I.remote.creator_id}]});ke.objects.length&&(yield F.servers[I.remote.isOfficial][I.remote.target].socket.joinMatch(ke.objects[0].value.match_id),yield F.servers[I.remote.isOfficial][I.remote.target].socket.sendMatchState(ke.objects[0].value.match_id,hr.MANAGE_TODO,encodeURIComponent(`worker,${I.id},${F.servers[I.remote.isOfficial][I.remote.target].session.user_id},${w},${Se}`)),yield F.servers[I.remote.isOfficial][I.remote.target].socket.leaveMatch(ke.objects[0].value.match_id))}catch{}}}catch{}if(I.workers){try{yield F.servers[I.remote.isOfficial][I.remote.target].client.rpc(F.servers[I.remote.isOfficial][I.remote.target].session,"manage_todo_delete_fn",{id:I.id,workers:I.workers})}catch{}for(let Se=0,ke=I.workers.length;Se<ke;Se++)try{let Fe=yield F.servers[I.remote.isOfficial][I.remote.target].client.readStorageObjects(F.servers[I.remote.isOfficial][I.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:I.workers[Se].id}]});Fe.objects.length&&(yield F.servers[I.remote.isOfficial][I.remote.target].socket.joinMatch(Fe.objects[0].value.match_id),yield F.servers[I.remote.isOfficial][I.remote.target].socket.sendMatchState(Fe.objects[0].value.match_id,hr.MANAGE_TODO,encodeURIComponent(w?`delete,${I.id}`:`done,${I.id}`)),yield F.servers[I.remote.isOfficial][I.remote.target].socket.leaveMatch(Fe.objects[0].value.match_id))}catch{}}yield F.removeRemoteTodoCounter(I.remote.isOfficial,I.remote.target,Number(I.id.split("_").pop()))}catch{let ke;I.modified=!0,I.removed=!0;try{ke=`todo/${I.id}_${I.remote.isOfficial}_${I.remote.target}/info.todo`}catch{ke=`todo/${I.id}/info.todo`}return yield F.indexed.saveTextFileToUserPath(JSON.stringify(I),ke),F.removeRegisteredId(I.noti_id),F.noti.ClearNoti(I.noti_id),w&&F.global.p5removeTodo&&F.global.p5removeTodo(JSON.stringify(I)),void(H||z.dismiss())}try{B=`todo/${I.id}_${I.remote.isOfficial}_${I.remote.target}`}catch{B=`todo/${I.id}`}(yield F.indexed.GetFileListFromDB(B)).forEach(Se=>F.indexed.removeFileFromUserPath(Se)),F.RemoveLocalPushSchedule(I),F.removeRegisteredId(I.noti_id),F.noti.ClearNoti(I.noti_id),w&&F.global.p5todo&&F.global.p5removeTodo(JSON.stringify(I)),H||z.dismiss()})()}load_groups(w,I,H,F=!1){var z=this;return(0,M.A)(function*(){let B=z.groups[w][I][H].channel_id;try{if("missing"!=z.groups[w][I][H].status){let ue=yield z.servers[w][I].client.listGroupUsers(z.servers[w][I].session,H);if(ue.group_users.length){let Se=!0;for(let ke=0,Fe=ue.group_users.length;ke<Fe;ke++)if(ue.group_users[ke].user.id==z.servers[w][I].session.user_id){switch(ue.group_users[ke].state){case 0:case 1:case 2:z.groups[w][I][H].status="online";break;case 3:z.groups[w][I][H].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",ue.group_users[ke].state),z.groups[w][I][H].status="missing"}z.PromotedGroup[w]||(z.PromotedGroup[w]={}),z.PromotedGroup[w][I]||(z.PromotedGroup[w][I]={}),ue.group_users[ke].state<2?z.PromotedGroup[w][I][H]=!0:delete z.PromotedGroup[w][I][H],Se=!1,ue.group_users[ke].is_me=!0;break}Se&&(z.groups[w][I][H].status="missing",B&&(z.channels_orig[w][I][B].status="missing"),z.save_channels_with_less_info())}else z.groups[w][I][H].status="missing",z.channels_orig[w][I][B].status="missing",z.save_channels_with_less_info();ue.group_users.length&&(z.groups[w][I][H].users=ue.group_users);for(let Se=0,ke=ue.group_users.length;Se<ke;Se++)if(ue.group_users[Se].is_me)ue.group_users[Se].user=z.users.self;else try{if(F)throw"\uc0ac\uc6a9\uc790 \ub370\uc774\ud130\ub9cc \ubc1b\uc74c";let Fe=yield z.servers[w][I].client.readStorageObjects(z.servers[w][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ue.group_users[Se].user.id}]});Fe.objects.length?ue.group_users[Se].user.img=Fe.objects[0].value.img:delete ue.group_users[Se].user.img,z.save_other_user(ue.group_users[Se].user,w,I)}catch(Fe){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Fe),z.save_other_user(ue.group_users[Se].user,w,I)}z.save_groups_with_less_info()}}catch(ue){console.log("load_groups_error: ",ue)}})()}save_self_profile(){let w={...this.users.self};delete w.img,this.indexed.saveTextFileToUserPath(JSON.stringify(w),"servers/self/profile.json")}rearrange_all_user(){let w=[];return Object.keys(this.users).forEach(H=>{"self"!=H&&Object.keys(this.users[H]).forEach(z=>{Object.keys(this.users[H][z]).forEach(ue=>{w.push(this.users[H][z][ue])})})}),w}load_other_user(w,I,H,F=(B=>{}),z=!1){try{if(this.servers[I][H].session.user_id==w)return F(this.users.self),this.users.self}catch{}if(this.users[I][H]||(this.users[I][H]={}),this.users[I][H][w]&&!z)return F(this.users[I][H][w]),this.users[I][H][w];this.users[I][H][w]={};let B=()=>{this.indexed.loadTextFromUserPath(`servers/${I}/${H}/users/${w}/profile.json`,(Se,ke)=>{if(Se&&ke){let Fe=JSON.parse(ke);Object.keys(Fe).forEach(Ut=>this.users[I][H][w][Ut]=Fe[Ut])}F(this.users[I][H][w])})};try{this.servers[I][H].client.getUsers(this.servers[I][H].session,[w]).then(Se=>{Se.users.length?(Object.keys(Se.users[0]).forEach(Fe=>this.users[I][H][w][Fe]=Se.users[0][Fe]),this.users[I][H][w].img||(this.users[I][H][w].img=null),this.save_other_user(this.users[I][H][w],I,H)):(this.indexed.removeFileFromUserPath(`${I}/${H}/users/${w}`),this.indexed.removeFileFromUserPath(`${I}/${H}/users/${w}/profile.json`),this.indexed.removeFileFromUserPath(`${I}/${H}/users/${w}/profile.img`)),F(this.users[I][H][w])}).catch(Se=>{B()})}catch{B()}let ue=()=>{this.users[I][H][w].img&&(delete this.users[I][H][w].img,this.save_other_user(this.users[I][H][w],I,H)),this.indexed.loadTextFromUserPath(`servers/${I}/${H}/users/${w}/profile.img`,(Se,ke)=>{Se&&ke&&(this.users[I][H][w].img=ke.replace(/"|=|\\/g,""))})};try{this.servers[I][H].client.readStorageObjects(this.servers[I][H].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:w}]}).then(Se=>{Se.objects.length&&(this.users[I][H][w].img=Se.objects[0].value.img),this.save_other_user(this.users[I][H][w],I,H)}).catch(Se=>{ue()})}catch{ue()}return this.users[I][H][w]}save_other_user(w,I,H){if(this.servers[I][H].session.user_id==w.id)return;let F=JSON.parse(JSON.stringify(w));w.id!=this.servers[I][H].session.user_id&&(delete F.img,delete F.online,delete F.todo_checked,delete F.todo_done,this.users[I][H]||(this.users[I][H]={}),this.users[I][H][w.id]||(this.users[I][H][w.id]={}),Object.keys(w).forEach(B=>this.users[I][H][w.id][B]=w[B]),this.indexed.saveTextFileToUserPath(JSON.stringify(F),`servers/${I}/${H}/users/${F.id}/profile.json`),w.img?this.indexed.saveTextFileToUserPath(w.img,`servers/${I}/${H}/users/${w.id}/profile.img`):void 0===w.img&&this.indexed.removeFileFromUserPath(`servers/${I}/${H}/users/${w.id}/profile.img`))}update_notifications(w,I){var H=this;return(0,M.A)(function*(){let F=yield H.servers[w][I].client.listNotifications(H.servers[w][I].session,1);H.noti_origin[w][I]={};for(let z=0,B=F.notifications.length;z<B;z++)H.act_on_notification(F.notifications[z],w,I);H.rearrange_notifications()})()}rearrange_notifications(){let w=[];return Object.keys(this.noti_origin).forEach(H=>{Object.keys(this.noti_origin[H]).forEach(z=>{Object.keys(this.noti_origin[H][z]).forEach(ue=>{w.push(this.noti_origin[H][z][ue])})})}),w.sort((H,F)=>H.create_time<F.create_time?1:H.create_time>F.create_time?-1:0),this.notifications_rearrange=w,w}add_channel(w,I,H){var F=this;return(0,M.A)(function*(){if(!F.channels_orig[I][H][w.id]){F.channels_orig[I][H][w.id]={};try{F.servers[I][H].socket.sendMatchState(F.self_match[I][H].match_id,hr.ADD_CHANNEL,encodeURIComponent(""))}catch{}}switch(Object.keys(w).forEach(B=>F.channels_orig[I][H][w.id][B]=w[B]),F.channels_orig[I][H][w.id].cnoti_id||(F.channels_orig[I][H][w.id].cnoti_id=F.get_noti_id()),F.channels_orig[I][H][w.id].redirect.type){case 2:let B=F.channels_orig[I][H][w.id].redirect.id;F.channels_orig[I][H][w.id].color=(B.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ue=F.load_other_user(B,I,H).online?"online":"pending";F.channels_orig[I][H][w.id].status=ue;break;case 3:try{let Se=F.channels_orig[I][H][w.id].redirect.id;F.channels_orig[I][H][w.id].color=(Se.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),"missing"==F.channels_orig[I][H][w.id].status&&delete F.channels_orig[I][H][w.id].status,F.load_groups(I,H,Se,!0)}catch(Se){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Se)}break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",F.channels_orig[I][H][w.id])}})()}add_group_user_without_duplicate(w,I,H,F){let z=!1;this.groups[H][F][I].users||(this.groups[H][F][I].users=[]);for(let B=0,ue=this.groups[H][F][I].users.length;B<ue;B++)if(this.groups[H][F][I].users[B].user.id==w.user.id){z=!0;break}z||this.groups[H][F][I].users.push(w)}load_channel_list(){var w=this;return(0,M.A)(function*(){let I=yield w.indexed.loadTextFromUserPath("servers/channels.json");I&&(w.channels_orig=JSON.parse(I),Object.keys(w.channels_orig).forEach(F=>{Object.keys(w.channels_orig[F]).forEach(B=>{w.CreateEmptyForm(F,B),Object.keys(w.channels_orig[F][B]).forEach(Se=>{try{if(w.channels_orig[F][B][Se].volatile)throw delete w.channels_orig[F][B][Se],`\ud718\ubc1c\uc131 \ucc44\ub110 \ubb34\uc2dc: ${Se}`;2==w.channels_orig[F][B][Se].redirect.type&&(w.channels_orig[F][B][Se].info=w.load_other_user(w.channels_orig[F][B][Se].redirect.id,F,B)),"missing"!=w.channels_orig[F][B][Se].status&&(delete w.channels_orig[F][B][Se].status,0==w.channels_orig[F][B][Se].redirect.type&&(w.channels_orig[F][B][Se].status="certified")),w.channels_orig[F][B][Se].is_new&&!w.subscribe_lock&&(w.has_new_channel_msg=!0)}catch{}})})}))})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(w){let I=!1;for(let H=0,F=this.registered_id.length;H<F;H++)if(this.registered_id[H]==w){I=!0;break}return I?this.check_If_RegisteredId(w+1):w}removeRegisteredId(w){for(let I=0,H=this.registered_id.length;I<H;I++)if(this.registered_id[I]==w){this.registered_id.splice(I,1);break}}redirect_channel(w,I){var H=this;return(0,M.A)(function*(){if(H.channels_orig[w][I]){let F=Object.keys(H.channels_orig[w][I]);for(let z=0,B=F.length;z<B;z++)try{"missing"!=H.channels_orig[w][I][F[z]].status&&2===(yield H.servers[w][I].socket.joinChat(H.channels_orig[w][I][F[z]].redirect.id,H.channels_orig[w][I][F[z]].redirect.type,H.channels_orig[w][I][F[z]].redirect.persistence,!1),H.channels_orig[w][I][F[z]].cnoti_id||(H.channels_orig[w][I][F[z]].cnoti_id=H.get_noti_id()),H.channels_orig[w][I][F[z]].color=(H.channels_orig[w][I][F[z]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),H.channels_orig[w][I][F[z]].redirect.type)&&(H.servers[w][I].client.readStorageObjects(H.servers[w][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:H.channels_orig[w][I][F[z]].redirect.id}]}).then(ue=>{let Se=H.load_other_user(H.channels_orig[w][I][F[z]].redirect.id,w,I);Se.img=ue.objects.length?ue.objects[0].value.img:void 0,H.save_other_user(Se,w,I)}),H.channels_orig[w][I][F[z]].update||H.servers[w][I].client.listChannelMessages(H.servers[w][I].session,F[z],1,!1).then(ue=>{ue.messages.length&&H.update_from_channel_msg(ue.messages[0],w,I)}))}catch{H.channels_orig[w][I][F[z]].status="missing"}}})()}rearrange_channels(){let w=[];return Object.keys(this.channels_orig).forEach(H=>{Object.keys(this.channels_orig[H]).forEach(z=>{Object.keys(this.channels_orig[H][z]).forEach(ue=>{this.channels_orig[H][z][ue].server={isOfficial:H,target:z};try{this.channels_orig[H][z][ue].server.name=this.servers[H][z].info.name}catch{this.channels_orig[H][z][ue].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[H][z][ue].info||(this.channels_orig[H][z][ue].info={}),this.channels_orig[H][z][ue].redirect.type){case 1:break;case 2:let Se=this.load_other_user(this.channels_orig[H][z][ue].redirect.id,H,z);Object.keys(Se).forEach(Fe=>this.channels_orig[H][z][ue].info[Fe]=Se[Fe]),this.channels_orig[H][z][ue].title=this.channels_orig[H][z][ue].info.display_name;break;case 3:this.groups[H][z]&&this.groups[H][z][this.channels_orig[H][z][ue].redirect.id]?(this.channels_orig[H][z][ue].info=this.groups[H][z][this.channels_orig[H][z][ue].redirect.id],this.channels_orig[H][z][ue].title=this.groups[H][z][this.channels_orig[H][z][ue].redirect.id].name,"missing"==this.groups[H][z][this.channels_orig[H][z][ue].redirect.id].status&&(this.channels_orig[H][z][ue].status=this.groups[H][z][this.channels_orig[H][z][ue].redirect.id].status)):this.channels_orig[H][z][ue].status="missing";break;case 0:this.channels_orig[H][z][ue].info||(this.channels_orig[H][z][ue].info={}),this.channels_orig[H][z][ue].info.name=this.channels_orig[H][z][ue].title,this.channels_orig[H][z][ue].info.img||this.indexed.loadTextFromUserPath(`servers/${H}/${z}/groups/${ue}.img`,(Fe,$t)=>{Fe&&$t&&(this.channels_orig[H][z][ue].info.img=$t)})}}catch{}this.channels_orig[H][z][ue].info.isOfficial=H,this.channels_orig[H][z][ue].info.target=z,this.channels_orig[H][z][ue].last_comment_time||(this.channels_orig[H][z][ue].last_comment_time=Date.now()),w.push(this.channels_orig[H][z][ue])})})}),w.sort((H,F)=>{let z=new Date(H.last_comment_time||0).getTime(),B=new Date(F.last_comment_time||0).getTime();return z<B?1:z>B?-1:0}),w.sort((H,F)=>H.is_new?F.is_new?0:-1:F.is_new?1:0),this.channels=w,this.save_channels_with_less_info(),w}save_channels_with_less_info(){let w=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(w).forEach(H=>{Object.keys(w[H]).forEach(z=>{let B=Object.keys(w[H][z]);B.forEach(ue=>{delete w[H][z][ue].img,delete w[H][z][ue].group,delete w[H][z][ue].info,delete w[H][z][ue].update,delete w[H][z][ue].presences,delete w[H][z][ue].cnoti_id,delete w[H][z][ue].color,delete w[H][z][ue].isOfficial,delete w[H][z][ue].target,w[H][z][ue].is_new||delete w[H][z][ue].is_new}),B.length||delete w[H][z]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(w),"servers/channels.json")}limit_image_size(w,I=(H=>{})){new vt(F=>{F.setup=()=>{F.noCanvas(),F.loadImage(w,B=>{B.resize(window.innerWidth,window.innerWidth*B.height/B.width),B.canvas.toDataURL().length>245e3&&z(B),I(B),F.remove()},B=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),F.remove()})};let z=B=>{B.resize(.95*B.width,.95*B.height),B.canvas.toDataURL().length>245e3&&z(B)}})}try_add_group(w){var I=this;return new Promise(function(){var H=(0,M.A)(function*(F,z){let B=I.get_all_online_server();for(let ue=0,Se=B.length;ue<Se;ue++)try{let ke=yield B[ue].client.joinGroup(B[ue].session,w.id);if(!ke)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");ke=yield B[ue].client.listGroups(B[ue].session,decodeURIComponent(w.name));for(let Fe=0,$t=ke.groups.length;Fe<$t;Fe++)if(ke.groups[Fe].id==w.id){let Ut=ke.groups[Fe];Ut.status=Ut.open?"online":"pending",Ut.server=I.servers[B[ue].info.isOfficial][B[ue].info.target].info;try{yield I.load_groups(B[ue].info.isOfficial,B[ue].info.target,ke.groups[Fe].id,!0)}catch(Dr){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",Dr)}try{let Dr=yield I.servers[B[ue].info.isOfficial][B[ue].info.target].client.readStorageObjects(I.servers[B[ue].info.isOfficial][B[ue].info.target].session,{object_ids:[{collection:"group_public",key:`group_${ke.groups[Fe].id}`,user_id:ke.groups[Fe].creator_id}]});Dr.objects.length?Ut.img=Dr.objects[0].value.img:delete Ut.img}catch(Dr){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",Dr)}if(I.save_group_info(Ut,B[ue].info.isOfficial,B[ue].info.target),yield B[ue].socket.sendMatchState(I.self_match[B[ue].info.isOfficial][B[ue].info.target].match_id,hr.ADD_CHANNEL,encodeURIComponent("")),Ut.open){let Dr=yield I.join_chat_with_modulation(Ut.id,3,B[ue].info.isOfficial,B[ue].info.target);(!I.opened_page_info.channel||I.opened_page_info.channel.isOfficial!=B[ue].info.isOfficial||I.opened_page_info.channel.target!=B[ue].info.target||I.opened_page_info.channel.id!=Dr.id)&&I.servers[B[ue].info.isOfficial][B[ue].info.target].client.listChannelMessages(I.servers[B[ue].info.isOfficial][B[ue].info.target].session,Dr.id,1,!1).then(Re=>{Re.messages.length&&I.update_from_channel_msg(Re.messages[0],B[ue].info.isOfficial,B[ue].info.target),I.save_group_info(Ut,B[ue].info.isOfficial,B[ue].info.target),I.go_to_chatroom_without_admob_act(Dr)}).catch(Re=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",Re)})}F();break}}catch(ke){switch(ke.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let Fe=yield I.join_chat_with_modulation(w.id,3,B[ue].info.isOfficial,B[ue].info.target);I.servers[B[ue].info.isOfficial][B[ue].info.target].client.listChannelMessages(I.servers[B[ue].info.isOfficial][B[ue].info.target].session,Fe.id,1,!1).then($t=>{$t.messages.length&&I.update_from_channel_msg($t.messages[0],B[ue].info.isOfficial,B[ue].info.target),I.go_to_chatroom_without_admob_act(Fe)}).catch($t=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",$t)}),F();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",ke)}}z(I.lang.text.Nakama.GroupAllListDone)});return function(F,z){return H.apply(this,arguments)}}())}save_group_info(w,I,H){this.groups[I][H]||(this.groups[I][H]={}),this.groups[I][H][w.id]=w,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(w.img,`servers/${I}/${H}/groups/${w.id}.img`),w.owner==this.servers[I][H].session.user_id&&w.img&&this.servers[I][H].client.writeStorageObjects(this.servers[I][H].session,[{collection:"group_public",key:`group_${w.id}`,value:{img:w.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(w=(()=>{})){let I=JSON.parse(JSON.stringify(this.groups));Object.keys(I).forEach(F=>{Object.keys(I[F]).forEach(B=>{let ue=Object.keys(I[F][B]);ue.forEach(Se=>{if(delete I[F][B][Se].server,delete I[F][B][Se].img,I[F][B][Se].users)for(let ke=0,Fe=I[F][B][Se].users.length;ke<Fe;ke++)if(I[F][B][Se].users[ke]){delete I[F][B][Se].users[ke].state;try{I[F][B][Se].users[ke].user.id?(I[F][B][Se].users[ke].user={id:I[F][B][Se].users[ke].user.id},this.servers[F][B]&&this.servers[F][B].session&&I[F][B][Se].users[ke].user.id==this.servers[F][B].session.user_id&&(I[F][B][Se].users[ke].is_me=!0)):I[F][B][Se].users[ke].is_me||I[F][B][Se].users.splice(ke,1)}catch{}}}),ue.length||delete I[F][B]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(I),"servers/groups.json",()=>{w()})}remove_group_list(w,I,H,F=!1){var z=this;return(0,M.A)(function*(){try{let B=w.creator_id==z.servers[I][H].session.user_id;if(!z.servers[I][H]||!B)throw"not a group creator";try{let Se=`${w.server.useSSL?"https":"http"}://${w.server.address}`,ke=z.servers[I][H].info;z.global.remove_files_from_storage_with_key(Se,w.id,{cdn_port:ke.cdn_port,apache_port:ke.apache_port})}catch{}(yield z.servers[I][H].client.deleteGroup(z.servers[I][H].session,w.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),z.remove_channel_files(I,H,w.channel_id,B);try{throw yield z.servers[I][H].client.deleteStorageObjects(z.servers[I][H].session,{object_ids:[{collection:"group_public",key:`group_${w.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{let ue=localStorage.getItem("fallback_fs");if(!ue)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Se=ue.split("://"),ke=Se.pop().split(":"),Fe=Se.pop();Fe?Fe+=":":Fe=z.global.checkProtocolFromAddress(ke[0])?"https:":"http:",ke[0]&&z.global.remove_files_from_storage_with_key(`${Fe}//${ke[0]}:${ke[1]||9002}/`,`${w.id}_${z.servers[I][H].session.user_id}`,{})}catch{}try{let ue=`${w.server.useSSL?"https":"http"}://${w.server.address}`;if(w.server.address){let Se=z.servers[I][H].info;z.global.remove_files_from_storage_with_key(ue,`${w.id}_${z.servers[I][H].session.user_id}`,{cdn_port:Se.cdn_port,apache_port:Se.apache_port})}}catch{}}try{if(F){yield z.indexed.removeFileFromUserPath(`servers/${I}/${H}/groups/${w.id}.img`);try{delete z.groups[I][H][w.id],z.save_groups_with_less_info()}catch{}}}catch{}try{delete z.PromotedGroup[I][H][w.id]}catch{}})()}remove_channel_files(w,I,H,F){try{this.servers[w][I].client.rpc(this.servers[w][I].session,"remove_channel_file",{collection:`file_${H.replace(/[.]/g,"_")}`,is_creator:F}).catch(z=>{})}catch{}}get_group_list_from_server(w,I,H){var F=this;this.servers[w][I].client.listUserGroups(this.servers[w][I].session,this.servers[w][I].session.user_id).then(function(){var z=(0,M.A)(function*(B){for(let ue=0,Se=B.user_groups.length;ue<Se;ue++)if(void 0===H||H==B.user_groups[ue].group.id){F.groups[w][I][B.user_groups[ue].group.id]||(F.groups[w][I][B.user_groups[ue].group.id]={});try{let ke=yield F.servers[w][I].client.readStorageObjects(F.servers[w][I].session,{object_ids:[{collection:"group_public",key:`group_${B.user_groups[ue].group.id}`,user_id:B.user_groups[ue].group.creator_id}]});ke.objects.length?(F.groups[w][I][B.user_groups[ue].group.id].img=ke.objects[0].value.img,F.indexed.saveTextFileToUserPath(ke.objects[0].value.img,`servers/${w}/${I}/groups/${B.user_groups[ue].group.id}.img`)):(delete F.groups[w][I][B.user_groups[ue].group.id].img,F.indexed.removeFileFromUserPath(`servers/${w}/${I}/groups/${B.user_groups[ue].group.id}.img`))}catch(ke){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ke)}F.groups[w][I][B.user_groups[ue].group.id]={...F.groups[w][I][B.user_groups[ue].group.id],...B.user_groups[ue].group},H&&"missing"==F.groups[w][I][B.user_groups[ue].group.id].status&&(F.groups[w][I][B.user_groups[ue].group.id].status="online"),yield F.load_groups(w,I,B.user_groups[ue].group.id,!0),yield F.join_chat_with_modulation(B.user_groups[ue].group.id,3,w,I)}F.rearrange_channels()});return function(B){return z.apply(this,arguments)}}()).catch(z=>{console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",z)})}rearrange_group_list(w=!0){let I=[];return Object.keys(this.groups).forEach(F=>{Object.keys(this.groups[F]).forEach(B=>{Object.keys(this.groups[F][B]).forEach(Se=>{try{this.groups[F][B][Se].server=this.servers[F][B].info,I.push(this.groups[F][B][Se])}catch{this.groups[F][B][Se].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:F,target:B},w&&I.push(this.groups[F][B][Se])}})})}),I}set_group_statusBar(w,I,H){this.statusBar.groupServer[I]||(this.statusBar.groupServer[I]={}),this.statusBar.groupServer[I][H]=w,this.catch_group_server_header(w),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(w,I,H){var F=this;return(0,M.A)(function*(){let z="pending";try{if("offline"==F.statusBar.groupServer[I][H])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(w.group_id){var B;let ue=null===(B=F.groups[I][H][w.group_id].users)||void 0===B?void 0:B.length;if(F.groups[I][H][w.group_id].max_count<=1)return z=F.users.self.online?"online":"offline",void("missing"!=F.channels_orig[I][H][w.channel_id||w.id].status&&(F.channels_orig[I][H][w.channel_id||w.id].status=z));if(void 0!==ue)for(let Se=0;Se<ue;Se++){let ke=F.groups[I][H][w.group_id].users[Se].user.id||F.servers[I][H].session.user_id;if(ke!=F.servers[I][H].session.user_id&&(yield new Promise($t=>{F.load_other_user(ke,I,H,Ut=>$t(Ut),!0)})).online){z="online";break}}else z="pending"}else if(w.user_id_one)if(F.channels_orig[I][H][w.channel_id||w.id]){let ue=F.channels_orig[I][H][w.channel_id||w.id].redirect.id,Se=yield F.servers[I][H].client.getUsers(F.servers[I][H].session,[ue]);Object.keys(Se.users[0]).forEach(Fe=>{F.users[I][H][ue][Fe]=Se.users[0][Fe]}),z=F.load_other_user(ue,I,H).online?"online":"pending"}else try{let ue=yield F.join_chat_with_modulation(w.user_id_one!=F.servers[I][H].session.user_id?w.user_id_one:w.user_id_two,2,I,H);z=F.load_other_user(F.channels_orig[I][H][ue.id].redirect.id,I,H).online?"online":"pending"}catch(ue){console.error(ue)}}catch{z="offline"==F.statusBar.groupServer[I][H]?"offline":"missing"}F.channels_orig[I][H][w.channel_id||w.id]||(F.channels_orig[I][H][w.channel_id||w.id]={}),"missing"!=F.channels_orig[I][H][w.channel_id||w.id].status&&(F.channels_orig[I][H][w.channel_id||w.id].status=z)})()}remove_server(w,I,H){var F=this;return(0,M.A)(function*(){let z=yield F.loadingCtrl.create({message:F.lang.text.TodoDetail.WIP});z.present(),z.message=F.lang.text.Nakama.RemovingAccount;let B=F.servers[w][I].info;try{let ke=F.servers[w][I].session.user_id,Fe=`${B.useSSL?"https":"http"}://${B.address}`;try{if(H)throw"\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \ub9ac\uc2a4\ud2b8\ub9cc \uc0ad\uc81c";F.global.remove_files_from_storage_with_key(Fe,ke,{cdn_port:B.cdn_port,apache_port:B.apache_port})}catch{}try{if(H)throw"\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \ub9ac\uc2a4\ud2b8\ub9cc \uc0ad\uc81c";let $t=localStorage.getItem("fallback_fs");if(!$t)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Ut=$t.split("://"),Dr=Ut.pop().split(":"),Re=Ut.pop();Re?Re+=":":Re=F.global.checkProtocolFromAddress(Dr[0])?"https:":"http:",F.global.remove_files_from_storage_with_key(`${Re}//${Dr[0]}:${Dr[1]||9002}/`,ke,{})}catch{}F.servers[w][I].client.rpc(F.servers[w][I].session,"remove_account_fn",{user_id:ke}).catch($t=>{})}catch{}if(z.message=F.lang.text.Nakama.LogoutAccount,"online"==F.statusBar.groupServer[w][I])try{F.servers[w][I].socket.disconnect(!0)}catch{F.link_group(w,I,!1)}z.message=F.lang.text.Nakama.RemovingNotification;try{delete F.noti_origin[w][I]}catch{}F.rearrange_notifications(),z.message=F.lang.text.Nakama.MissingChannels;try{let ke=Object.keys(F.channels_orig[w][I]);F.channels_orig.deleted||(F.channels_orig.deleted={}),F.channels_orig.deleted[I]||(F.channels_orig.deleted[I]={}),ke.forEach(Fe=>{F.channels_orig[w][I][Fe].info.status="missing",F.channels_orig[w][I][Fe].status="missing",F.channels_orig.deleted[I][Fe]=JSON.parse(JSON.stringify(F.channels_orig[w][I][Fe]))}),delete F.channels_orig[w][I]}catch{}F.save_channels_with_less_info();let ue=yield F.indexed.GetFileListFromDB(`servers/${w}/${I}`);for(let ke=0,Fe=ue.length;ke<Fe;ke++)try{let $t=yield F.indexed.GetFileInfoFromDB(ue[ke]),Ut=ue[ke].replace("/official/","/deleted/").replace(`/${w}/`,"/deleted/");yield F.indexed.saveFileToUserPath($t,Ut),yield F.indexed.removeFileFromUserPath(ue[ke]),z.message=`${F.lang.text.Nakama.MissingChannelFiles}: ${ue[ke]}`}catch($t){console.log("\ud30c\uc77c \uc774\uad00 \uc2e4\ud328: ",$t)}{F.post_counter.deleted||(F.post_counter.deleted={});let ke=yield F.indexed.loadTextFromUserPath("servers/post_counter.json"),Fe=JSON.parse(ke);F.post_counter.deleted[I]=Fe[w][I],delete F.post_counter[w][I],delete F.posts_orig[w][I],F.rearrange_posts(),yield F.save_post_counter()}z.message=F.lang.text.Nakama.MissingGroups;try{F.groups.deleted||(F.groups.deleted={}),F.groups.deleted[I]||(F.groups.deleted[I]={}),F.groups.deleted[I]=JSON.parse(JSON.stringify(F.groups[w][I])),Object.keys(F.groups.deleted[I]).forEach(Fe=>{F.groups.deleted[I][Fe].server.name=F.lang.text.Nakama.DeletedServer,F.groups.deleted[I][Fe].server.isOfficial="deleted",F.groups.deleted[I][Fe].status="missing",F.groups.deleted[I][Fe]=JSON.parse(JSON.stringify(F.groups[w][I][Fe]))}),delete F.groups[w][I]}catch{}F.save_groups_with_less_info(),z.message=F.lang.text.Nakama.DeletingServerInfo,F.set_group_statusBar("offline",w,I),delete F.statusBar.groupServer[w][I],yield F.RemoveWebRTCServer(F.servers[w][I].info.address),delete F.servers[w][I],F.save_groups_with_less_info(),F.indexed.saveTextFileToUserPath(JSON.stringify(F.statusBar.groupServer),"servers/list.json");let Se=yield F.indexed.loadTextFromUserPath("servers/list_detail.csv");if(Se){let ke=Se.split("\n");for(let Fe=0,$t=ke.length;Fe<$t;Fe++)if(ke[Fe].split(",")[3]==I){ke.splice(Fe,1);break}F.indexed.saveTextFileToUserPath(ke.join("\n"),"servers/list_detail.csv")}F.noti.ClearNoti(9),z.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0)}connect_to(w="official",I="default",H){var F=this;this.servers[w][I].socket.connect(this.servers[w][I].session,!0).then(z=>{let B=this.servers[w][I].socket;Object.keys(this.on_socket_connected).forEach(ke=>this.on_socket_connected[ke]()),B.onnotification=ke=>{this.act_on_notification(ke,w,I),this.rearrange_notifications()},B.onmatchpresence=ke=>{void 0!==ke.joins?ke.joins.forEach(Fe=>{}):void 0!==ke.leaves&&ke.leaves.forEach(Fe=>{this.servers[w][I].session.user_id==Fe.user_id&&this.WebRTCService&&"data"==this.WebRTCService.TypeIn&&this.WebRTCService.close_webrtc(!1,!0)})};let Se=[];B.onchannelpresence=ke=>{if(void 0!==ke.joins){ke.joins.forEach($t=>{this.servers[w][I].session.user_id!=$t.user_id&&(this.load_other_user($t.user_id,w,I).online=!0)});let Fe=!0;for(let $t of ke.joins)if($t.user_id!=this.servers[w][I].session.user_id){Fe=!1;break}(!Se.includes(ke.channel_id)||!Fe)&&(Se.push(ke.channel_id),this.count_channel_online_member(ke,w,I))}else if(void 0!==ke.leaves){let Fe=[];ke.leaves.forEach($t=>{this.servers[w][I].session.user_id!=$t.user_id&&this.servers[w][I].client.getUsers(this.servers[w][I].session,[$t.user_id]).then(Ut=>{let Dr=Object.keys(Ut.users[0]);delete this.load_other_user($t.user_id,w,I).online,Dr.forEach(Re=>{this.users[w][I][$t.user_id][Re]=Ut.users[0][Re]}),Fe.push($t.user_id),Fe.forEach(Re=>this.load_other_user(Re,w,I)),this.count_channel_online_member(ke,w,I),this.socket_reactive.WEBRTC_CHECK_ONLINE&&this.socket_reactive.WEBRTC_CHECK_ONLINE($t)})})}this.socket_reactive["others-online"]&&this.socket_reactive["others-online"]()},B.onmatchdata=function(){var ke=(0,M.A)(function*(Fe){Fe.data_str=decodeURIComponent((new TextDecoder).decode(Fe.data));let $t=F.servers[w][I].session.user_id==Fe.presence.user_id;switch(Fe.op_code){case hr.MANAGE_TODO:{let Ut=Fe.data_str.split(",");switch(Ut[0]){case"add":F.servers[w][I].client.readStorageObjects(F.servers[w][I].session,{object_ids:[{collection:Ut[1],key:Ut[2],user_id:F.servers[w][I].session.user_id}]}).then(function(){var Xe=(0,M.A)(function*(mt){if(mt.objects.length){try{let Bt,ht=mt.objects[0].value;try{if(Bt=yield F.indexed.loadTextFromUserPath(`todo/${ht.id}_${w}_${I}/info.todo`),!Bt)throw"empty"}catch{Bt=yield F.indexed.loadTextFromUserPath(`todo/${ht.id}/info.todo`)}let cr=JSON.parse(Bt);F.removeRegisteredId(cr.noti_id),F.noti.ClearNoti(cr.noti_id)}catch{}yield F.modify_remote_info_as_local(mt.objects[0].value,w,I);let ze=mt.objects[0].value;F.noti.ClearNoti(ze.noti_id),F.set_todo_notification(ze),F.p5toast.show({text:`${F.lang.text.Main.Title}: ${ze.title}`})}});return function(mt){return Xe.apply(this,arguments)}}());break;case"done":F.indexed.loadTextFromUserPath(`todo/${Ut[1]}_${w}_${I}/info.todo`,function(){var Xe=(0,M.A)(function*(mt,ze){if(mt&&ze){let ht=JSON.parse(ze);ht.done=!0,yield F.modify_remote_info_as_local(ht,w,I),F.indexed.GetFileListFromDB(`todo/${ht.id}`,Bt=>{Bt.forEach(cr=>F.indexed.removeFileFromUserPath(cr)),F.RemoveLocalPushSchedule(ht),F.removeRegisteredId(ht.noti_id),F.noti.ClearNoti(ht.noti_id),F.SyncTodoCounter(w,I)})}else F.indexed.loadTextFromUserPath(`todo/${Ut[1]}/info.todo`,function(){var ht=(0,M.A)(function*(Bt,cr){if(Bt&&cr){let wr=JSON.parse(cr);wr.done=!0,yield F.modify_remote_info_as_local(wr,w,I),F.indexed.GetFileListFromDB(`todo/${wr.id}`,Pr=>{Pr.forEach(tn=>F.indexed.removeFileFromUserPath(tn)),F.RemoveLocalPushSchedule(wr),F.removeRegisteredId(wr.noti_id),F.noti.ClearNoti(wr.noti_id),F.SyncTodoCounter(w,I)})}});return function(Bt,cr){return ht.apply(this,arguments)}}())});return function(mt,ze){return Xe.apply(this,arguments)}}());break;case"delete":F.indexed.loadTextFromUserPath(`todo/${Ut[1]}_${w}_${I}/info.todo`,(Xe,mt)=>{if(Xe&&mt){let ze=JSON.parse(mt);F.indexed.GetFileListFromDB(`todo/${ze.id}`,ht=>{ht.forEach(Bt=>F.indexed.removeFileFromUserPath(Bt)),F.RemoveLocalPushSchedule(ze),F.removeRegisteredId(ze.noti_id),F.noti.ClearNoti(ze.noti_id),F.global.p5removeTodo&&F.global.p5removeTodo(JSON.stringify(ze))}),F.SyncTodoCounter(w,I)}else F.indexed.loadTextFromUserPath(`todo/${Ut[1]}/info.todo`,(ze,ht)=>{if(ze&&ht){let Bt=JSON.parse(ht);F.indexed.GetFileListFromDB(`todo/${Bt.id}`,cr=>{cr.forEach(wr=>F.indexed.removeFileFromUserPath(wr)),F.RemoveLocalPushSchedule(Bt),F.removeRegisteredId(Bt.noti_id),F.noti.ClearNoti(Bt.noti_id),F.global.p5removeTodo&&F.global.p5removeTodo(JSON.stringify(Bt))}),F.SyncTodoCounter(w,I)}})});break;case"worker":let Dr="true"==Ut[3];F.AddTodoManageUpdateAct&&F.AddTodoManageUpdateAct(Ut[1],Ut[2],Dr,Number(Ut[4])),F.p5toast.show({text:`${Dr?F.lang.text.Main.WorkerAbandon:F.lang.text.Main.WorkerDone}: ${F.GetOverrideName(Ut[2],w,I)||F.users[w][I][Ut[2]].display_name}`}),F.indexed.loadTextFromUserPath(`todo/${Ut[1]}_${w}_${I}/info.todo`,function(){var Xe=(0,M.A)(function*(mt,ze){if(mt&&ze){let ht=JSON.parse(ze);for(let Bt=0,cr=ht.workers.length;Bt<cr;Bt++)if((ht.workers[Bt].user_id||ht.workers[Bt].id)==Ut[2]){ht.workers[Bt].isDelete="true"==Ut[3],ht.workers[Bt].timestamp=Number(Ut[4]);break}yield F.modify_remote_info_as_local(ht,w,I),F.SyncTodoCounter(w,I)}else F.indexed.loadTextFromUserPath(`todo/${Ut[1]}/info.todo`,function(){var ht=(0,M.A)(function*(Bt,cr){if(Bt&&cr){let wr=JSON.parse(cr);for(let Pr=0,tn=wr.workers.length;Pr<tn;Pr++)if((wr.workers[Pr].user_id||wr.workers[Pr].id)==Ut[2]){wr.workers[Pr].isDelete="true"==Ut[3],wr.workers[Pr].timestamp=Number(Ut[4]);break}yield F.modify_remote_info_as_local(wr,w,I),F.SyncTodoCounter(w,I)}});return function(Bt,cr){return ht.apply(this,arguments)}}())});return function(mt,ze){return Xe.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",Fe)}F.SyncTodoCounter(w,I)}break;case hr.EDIT_PROFILE:switch(Fe.data_str){case"info":F.servers[w][I].client.getAccount(F.servers[w][I].session).then(Ut=>{Object.keys(Ut.user).forEach(Re=>F.users.self[Re]=Ut.user[Re]),F.save_self_profile()});break;case"image":F.servers[w][I].client.readStorageObjects(F.servers[w][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:F.servers[w][I].session.user_id}]}).then(Ut=>{Ut.objects.length?(F.indexed.saveTextFileToUserPath(JSON.stringify(Ut.objects[0].value.img),"servers/self/profile.img"),F.users.self.img=Ut.objects[0].value.img.replace(/"|=|\\/g,"")):F.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",Fe)}break;case hr.ADD_CHANNEL:F.get_group_list_from_server(w,I);break;case hr.NAME_OVERRIDED:$t&&F.LoadOverrideName(w,I);break;case hr.WEBRTC_INIT_REQ_SIGNAL:(F.WebRTCService&&"data"==F.WebRTCService.TypeIn||!$t)&&F.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&F.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case hr.WEBRTC_REPLY_INIT_SIGNAL:(F.WebRTCService&&"data"==F.WebRTCService.TypeIn||!$t)&&F.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&F.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(Fe.data_str);break;case hr.WEBRTC_RECEIVE_ANSWER:(F.WebRTCService&&"data"==F.WebRTCService.TypeIn||!$t)&&F.socket_reactive.WEBRTC_RECEIVE_ANSWER&&F.socket_reactive.WEBRTC_RECEIVE_ANSWER(Fe.data_str);break;case hr.WEBRTC_ICE_CANDIDATES:(F.WebRTCService&&"data"==F.WebRTCService.TypeIn||!$t)&&F.socket_reactive.WEBRTC_ICE_CANDIDATES&&F.socket_reactive.WEBRTC_ICE_CANDIDATES(Fe.data_str);break;case hr.WEBRTC_NEGOCIATENEEDED:(F.WebRTCService&&"data"==F.WebRTCService.TypeIn||!$t)&&F.socket_reactive.WEBRTC_NEGOCIATENEEDED&&F.socket_reactive.WEBRTC_NEGOCIATENEEDED(Fe.data_str);break;case hr.WEBRTC_RECEIVED_CALL_SELF:F.WebRTCService&&"data"!=F.WebRTCService.TypeIn&&F.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&F.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case hr.WEBRTC_HANGUP:(F.WebRTCService&&"data"==F.WebRTCService.TypeIn||F.servers[w][I].session.user_id!=Fe.presence.user_id)&&F.WebRTCService&&(yield F.WebRTCService.close_webrtc());break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",Fe)}});return function(Fe){return ke.apply(this,arguments)}}(),B.onchannelmessage=ke=>{this.channels_orig[w][I][ke.channel_id]?(this.update_from_channel_msg(ke,w,I),this.rearrange_channels(),ke.content.match&&ke.sender_id!=this.servers[w][I].session.user_id&&this.JoinWebRTCMatch(ke,w,I,this.channels_orig[w][I][ke.channel_id])):ke.user_id_one?this.join_chat_with_modulation(ke.sender_id,2,w,I):ke.group_id&&this.join_chat_with_modulation(ke.group_id,3,w,I)},B.ondisconnect=ke=>{this.OnSocketDisconnect(w,I)},H(B)})}OnSocketDisconnect(w,I){this.link_group(w,I,!1),Object.keys(this.on_socket_disconnected).forEach(F=>this.on_socket_disconnected[F]())}saveListedMessage(w,I,H,F){let z={},B=JSON.parse(JSON.stringify(w));for(;B.length;){z.target!=B[0].msgDate&&(z.msg&&this.saveMessageByDate(z,I,H,F),z.target=B[0].msgDate,z.msg=[]);let ue=B.shift();delete ue.content.text,delete ue.content.img,delete ue.content.local_comp,delete ue.content.path,delete ue.msgDate,delete ue.displayDate,delete ue.msgTime,delete ue.isLastRead,delete ue.showInfo,z.msg.push(ue)}this.saveMessageByDate(z,I,H,F)}saveMessageByDate(w,I,H,F){if(!w.msg||!w.msg.length)return;let z=JSON.parse(JSON.stringify(w)),B=z.target.split("-");this.indexed.loadTextFromUserPath(`servers/${H}/${F}/channels/${I.id}/chats/${B[0]}/${B[1]}/${B[2]}`,(ue,Se)=>{let ke=[],Fe=[];ue&&Se&&(ke=JSON.parse(Se)),z.msg.forEach(Ut=>{let Dr=!1;for(let Re=0,Xe=ke.length;Re<Xe;Re++)if(ke[Re].message_id==Ut.message_id){Dr=!0,ke[Re]=Ut;break}Dr||Fe.push(Ut)});let $t=[...ke,...Fe];$t.sort((Ut,Dr)=>Ut.create_time<Dr.create_time?-1:Ut.create_time>Dr.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify($t),`servers/${H}/${F}/channels/${I.id}/chats/${B[0]}/${B[1]}/${B[2]}`)})}CatchQouteMsgUserName(w,I,H){if(w.content.qoute)try{if("local"==w.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";w.content.qoute.username=this.users[I][H][w.content.qoute.user_id].display_name}catch{w.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(w){let I=new Date(w.create_time),H=I.toLocaleDateString(this.lang.lang);w.displayDate=H,w.msgDate=`${I.getFullYear()}-${("00"+(I.getMonth()+1)).slice(-2)}-${("00"+I.getDate()).slice(-2)}`,w.msgTime=`${("00"+I.getHours()).slice(-2)}:${("00"+I.getMinutes()).slice(-2)}`}join_chat_with_modulation(w,I,H,F,z=!1){var B=this;return(0,M.A)(function*(){B.channels_orig[H][F]||(B.channels_orig[H][F]={});let ue=yield B.servers[H][F].socket.joinChat(w,I,!0,!1);try{switch(ue.redirect={id:w,type:I,persistence:!0},ue.server={isOfficial:H,target:F},I){case 2:ue.title=B.GetOverrideName(w,H,F)||B.load_other_user(w,H,F).display_name,ue.info=B.load_other_user(w,H,F);break;case 3:ue.title=B.groups[H][F][w].name,ue.info=B.groups[H][F][w],B.groups[H][F][w].channel_id=ue.id,B.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",I)}if(yield B.add_channel(ue,H,F),z&&B.rearrange_channels(),!B.opened_page_info.channel||B.opened_page_info.channel.isOfficial!=H||B.opened_page_info.channel.target!=F||B.opened_page_info.channel.id!=ue.id){let Se=yield B.servers[H][F].client.listChannelMessages(B.servers[H][F].session,ue.id,1,!1);try{Se.messages.length&&(yield B.update_from_channel_msg(Se.messages[0],H,F,z))}catch{}}return B.save_groups_with_less_info(),B.count_channel_online_member(ue,H,F),ue}catch(Se){let ke="";throw ke=3===Se.code?B.lang.text.Nakama.AddChannelFailed_Code3:Se.message,B.p5toast.show({text:`${B.lang.text.Nakama.AddChannelFailed}: ${ke}`}),`${B.lang.text.Nakama.AddChannelFailed}: ${ke}`}})()}update_from_channel_msg(w,I,H,F=!1){var z=this;return(0,M.A)(function*(){let B=w.sender_id==z.servers[I][H].session.user_id,ue=w.message_id!=z.channels_orig[I][H][w.channel_id].last_comment_id,Se=z.modulation_channel_message(w,I,H,!0),ke=!1;switch(Se.code){case 0:Se.content.gupdate&&(z.update_group_info(Se,I,H),ke=!0),Se.content.user_update&&(z.update_group_user_info(Se,I,H),ke=!0),ue&&!ke&&(z.channels_orig[I][H][w.channel_id].is_new=!B,z.subscribe_lock||(z.has_new_channel_msg=!B));break;case 1:case 2:break;case 6:B&&(delete z.PromotedGroup[I][H][Se.group_id],z.socket_reactive.add_todo_menu&&z.socket_reactive.add_todo_menu.UpdateWorkerList());case 3:case 4:case 5:case 7:case 9:let $t;if(z.socket_reactive.group_detail&&($t=yield z.socket_reactive.group_detail.update_GroupUsersList(I,H)),B&&(7==Se.code||9==Se.code)){$t||($t=(yield z.servers[I][H].client.listGroupUsers(z.servers[I][H].session,Se.group_id)).group_users);for(let Ut of $t)if(Ut.user.id==z.servers[I][H].session.user_id){Ut.state<2?z.PromotedGroup[I][H][Se.group_id]=!0:delete z.PromotedGroup[I][H][Se.group_id],z.socket_reactive.add_todo_menu&&z.socket_reactive.add_todo_menu.UpdateWorkerList();break}}if(3==Se.code||4==Se.code||7==Se.code||9==Se.code)break;if(z.noti_origin[I]&&z.noti_origin[I][H]){let Ut=Object.keys(z.noti_origin[I][H]),Dr=[];Ut.forEach(Re=>{-5==z.noti_origin[I][H][Re].code&&z.noti_origin[I][H][Re].sender_id==Se.sender_id&&Dr.push(Re)});try{(yield z.servers[I][H].client.deleteNotifications(z.servers[I][H].session,Dr))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),z.update_notifications(I,H)}catch(Re){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Re)}}B&&(z.channels_orig[I][H][Se.channel_id].status="missing");break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Se)}if(!B&&ue&&!ke){let $t={id:z.channels_orig[I][H][w.channel_id].cnoti_id,title:z.channels_orig[I][H][w.channel_id].info.name||z.GetOverrideName(z.channels_orig[I][H][w.channel_id].info.id,I,H)||z.channels_orig[I][H][w.channel_id].info.display_name||z.channels_orig[I][H][w.channel_id].title||z.lang.text.ChatRoom.noname_chatroom,body:Se.content.msg||Se.content.noti||(Se.content.match?z.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${z.lang.text.ChatRoom.attachments})`,smallIcon_ln:"diychat"};Se.content.url&&Se.content.type&&0==Se.content.type.indexOf("image/")&&($t.image=Se.content.url),z.noti.PushLocal($t,z.channels_orig[I][H][w.channel_id].cnoti_id,Ut=>{z.go_to_chatroom_without_admob_act(z.channels_orig[I][H][w.channel_id])})}B&&z.noti.ClearNoti(z.channels_orig[I][H][w.channel_id].cnoti_id),z.ModulateTimeDate(Se),z.check_sender_and_show_name(Se,I,H);let Fe=w.content.msg;z.content_to_hyperlink(Se,I,H),!F&&z.channels_orig[I][H][Se.channel_id].update&&z.channels_orig[I][H][Se.channel_id].update(Se),ke||(z.channels_orig[I][H][w.channel_id].last_comment_time=w.update_time,z.channels_orig[I][H][Se.channel_id].last_comment_id=Se.message_id),z.saveListedMessage([Se],z.channels_orig[I][H][Se.channel_id],I,H),ke||2!=Se.code&&(z.channels_orig[I][H][Se.channel_id].last_comment=(Se.content.filename?`(${z.lang.text.ChatRoom.attachments}) `:"")+(Fe||Se.content.noti||(Se.content.match?z.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""))})()}rearrange_posts(){this.posts.length=0;let w=Object.keys(this.posts_orig);for(let I=0,H=w.length;I<H;I++){let F=Object.keys(this.posts_orig[w[I]]);for(let z=0,B=F.length;z<B;z++){let ue=Object.keys(this.posts_orig[w[I]][F[z]]);for(let Se=0,ke=ue.length;Se<ke;Se++){let Fe=Object.keys(this.posts_orig[w[I]][F[z]][ue[Se]]);for(let $t=0,Ut=Fe.length;$t<Ut;$t++)this.posts.push(this.posts_orig[w[I]][F[z]][ue[Se]][Fe[$t]])}}}this.posts.sort((I,H)=>I.create_time<H.create_time?1:I.create_time>H.create_time?-1:0)}EditPost(w){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(w),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(w,I=!1){var H=this;return(0,M.A)(function*(){let F,z=w.server.isOfficial,B=w.server.target;I||(F=yield H.loadingCtrl.create({message:H.lang.text.PostViewer.RemovePost}));let ue=yield H.indexed.GetFileListFromDB(`servers/${z}/${B}/posts/${w.creator_id}/${w.id}`);F&&F.present();for(let ke=0,Fe=ue.length;ke<Fe;ke++)F&&(F.message=`${H.lang.text.PostViewer.RemovePost}: ${ue[ke]}`),yield H.indexed.removeFileFromUserPath(ue[ke]);let Se={};try{let ke=H.servers[z][B].info;Se.cdn_port=ke.cdn_port,Se.apache_port=ke.apache_port}catch{Se={}}if(w.OutSource&&H.global.remove_file_from_storage(w.OutSource,Se),w.attachments)for(let ke=0,Fe=w.attachments.length;ke<Fe;ke++)try{if(F&&(F.message=`${H.lang.text.PostViewer.RemovePost}: ${w.attachments[ke].filename}`),w.attachments[ke].url&&""!==w.attachments[ke].type)I||H.global.remove_file_from_storage(w.attachments[ke].url,Se);else try{w.server.local||(yield H.sync_remove_file(`${w.id}_attach_${ke}`,z,B,"server_post","",`${w.id}_attach_${ke}`))}catch{}}catch{}if(w.mainImage)try{if(w.mainImage.url&&""!==w.mainImage.type)I||H.global.remove_file_from_storage(w.mainImage.url,Se);else try{w.server.local||(yield H.sync_remove_file(`${w.id}_mainImage`,z,B,"server_post","",`${w.id}_mainImage`))}catch{}}catch{}try{w.server.local||I||(yield H.sync_remove_file(w.id,z,B,"server_post","",`${w.id}`))}catch{}F&&F.dismiss();try{delete H.posts_orig[z][B][w.creator_id][w.id]}catch{}if(!I)try{yield H.servers[z][B].client.rpc(H.servers[z][B].session,"send_noti_all_fn",{noti_id:hr.MANAGE_POST,type:"remove",user_id:w.creator_id,post_id:w.id,persistent:!1})}catch{}H.rearrange_posts(),H.socket_reactive.try_load_post&&H.socket_reactive.try_load_post()})()}JoinWebRTCMatch(w,I,H,F){var z=this;return(0,M.A)(function*(){try{try{z.WebRTCService.CurrentMatch=yield z.servers[I][H].socket.joinMatch(w.content.match)}catch(B){throw B}z.WebRTCService&&(yield z.WebRTCService.initialize("audio",void 0,{isOfficial:I,target:H,channel_id:F.id,user_id:F.info.id||F.info.user_id},!1)),yield z.servers[I][H].socket.sendMatchState(w.content.match,hr.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(B){4===B.code?z.p5toast.show({text:z.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",B),z.p5toast.show({text:`${z.lang.text.ChatRoom.JoinMatchFailed}: ${B}`}))}})()}content_to_hyperlink(w,I,H){if(!w.content.msg||"object"==typeof w.content.msg)return;let F=w.content.msg.split("\n");w.content.msg=[],F.forEach(z=>{let B={text:z};w.content.msg.push([B]);try{let ue=B.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");B.text.length==ue.length&&(B.size=48)}catch{}});for(let z=0,B=w.content.msg.length;z<B;z++)if(w.content.msg[z][0].text){const ue=/(https?:\/\/[^\s]+|www\.[^\s]+|[a-zA-Z0-9-]+\.[a-zA-Z]{2,}(?:\/[^\s]*)?)/g,Se=w.content.msg[z][0].text,ke=Se.match(ue);if(ke){const Fe="%extractURL",Ut=Se.replace(ue,Fe).split(Fe);let Dr=[];for(;Ut.length||ke.length;){{let Re=Ut.shift();Re&&Dr.push({text:Re})}{let Re=ke.shift();Re&&Dr.push({text:Re,href:!0})}}w.content.msg[z]=Dr}else w.content.msg[z]=[{text:Se}]}}CreateHyperLinkDesc(w,I,H,F){var z=this;return(0,M.A)(function*(){try{let ue,ke,Fe,B=w.content.msg,Se=!1;for(let $t of B){for(let Ut of $t)if(Ut.href){ue=Ut.text,Se=!0;break}if(Se)break}try{ke=z.servers[I][H].info,Fe=`${ke.useSSL?"https":"http"}://${ke.address}:${ke.cdn_port||9001}`}catch{}if(Se){if(w.content.hasLink)return;try{let $t=yield z.global.GetHrefThumbnail(ue,Fe,F);w.content.hasLink=$t}catch($t){console.log("href \uac04\ub7b5\uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc2e4\ud328: ",$t)}}else delete w.content.hasLink;z.saveListedMessage([w],z.channels_orig[I][H][w.channel_id],I,H)}catch{}})()}check_sender_and_show_name(w,I,H){try{w.color=(w.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),w.sender_id==this.servers[I][H].session.user_id?(w.user_display_name=this.users.self.display_name,w.is_me=!0):w.user_display_name=this.load_other_user(w.sender_id,I,H).display_name,w.user_display_name=w.user_display_name||this.lang.text.Profile.noname_user}catch(F){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",F)}}modulation_channel_message(w,I,H,F=!1){var z=this;this.translate_updates(w);let ue,B=!1;try{B=w.sender_id==this.servers[I][H].session.user_id}catch{B=w.content.user_update}try{ue=B?this.users.self:this.load_other_user(w.sender_id,I,H)}catch{ue=this.users.self}let Se=function(){var ke=(0,M.A)(function*(){if(F){let Fe=yield z.servers[I][H].client.listGroupUsers(z.servers[I][H].session,w.group_id);for(let $t of Fe.group_users)if($t.user.id==z.servers[I][H].session.user_id){$t.is_me=!0,$t.user=z.users.self;break}z.groups[I][H][w.group_id].users=Fe.group_users,z.count_channel_online_member(w,I,H)}});return function(){return ke.apply(this,arguments)}}();switch(w.code){case 0:if(w.content.filename){try{w.content.transfer_index=this.OnTransfer[I][H][w.channel_id][w.message_id]}catch{}try{this.OnTransferMessage[w.message_id]=w}catch{}}break;case 1:case 2:break;case 3:case 4:w.content.user_update=ue,w.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${ue.display_name}`,F&&Se();break;case 5:w.content.user_update=ue,w.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${ue.display_name}`,F&&Se();break;case 6:w.content.user_update=ue,w.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${ue.display_name}`,F&&Se();break;case 7:w.content.user_update=ue,w.content.noti=`${this.lang.text.OtherProfile.PromoteSucc}: ${ue.display_name}`;break;case 9:w.content.user_update=ue,w.content.noti=`${this.lang.text.OtherProfile.DemoteSucc}: ${ue.display_name}`;break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",w)}return w}update_group_info(w,I,H){switch(this.translate_updates(w),w.content.gupdate){case"remove":case"force_remove":this.groups[I][H][w.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[I][H][w.channel_id].status="missing",this.servers[I][H].socket.leaveChat(w.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",w)}}translate_updates(w){if(w.content.user_update)switch(w.content.user_update){case"modify_data":w.content.noti=`${this.lang.text.Profile.user_profile_changed}${w.content.noti_form}`;break;case"modify_img":w.content.noti=`${this.lang.text.Profile.user_image_changed}${w.content.noti_form}`}if(w.content.gupdate)switch(w.content.gupdate){case"remove":w.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":w.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(w,I,H){var F=this;return(0,M.A)(function*(){if(F.translate_updates(w),F.servers[I][H].session.user_id!=w.sender_id)switch(w.content.user_update){case"modify_data":try{let z=yield F.servers[I][H].client.getUsers(F.servers[I][H].session,[w.sender_id]);z.users.length?F.save_other_user(z.users[0],I,H):(delete F.users[I][H][w.sender_id],F.indexed.removeFileFromUserPath(`servers/${I}/${H}/users/${w.sender_id}/profile.json`))}catch(z){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",z)}break;case"modify_img":try{let z=yield F.servers[I][H].client.readStorageObjects(F.servers[I][H].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:w.sender_id}]});if(z.objects.length)try{if(F.servers[I][H].session.user_id==w.sender_id)throw"me";F.load_other_user(w.sender_id,I,H).img=z.objects[0].value.img.replace(/"|\\|=/g,""),F.indexed.saveTextFileToUserPath(F.users[I][H][w.sender_id].img,`servers/${I}/${H}/users/${w.sender_id}/profile.img`)}catch{F.users.self.img=z.objects[0].value.img.replace(/"|\\|=/g,""),yield F.indexed.saveTextFileToUserPath(F.users.self.img,"servers/self/profile.img")}else try{if(F.servers[I][H].session.user_id==w.sender_id)throw"me";delete F.users[I][H][w.sender_id].img,F.indexed.removeFileFromUserPath(`servers/${I}/${H}/users/${w.sender_id}/profile.img`)}catch{delete F.users.self.img}}catch(z){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",z)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",w)}})()}check_notifications(w,I,H){var F=this;return(0,M.A)(function*(){let z=F.servers[I][H];switch(w.code){case 0:case-2:break;case 1:let B=`<div style="text-align: center"><img src="${decodeURIComponent(w.content.uri)}" alt="noti_image" style="border-radius: 2px"/></div>`,ue=`<div>${decodeURIComponent(F.global.HTMLEncode(w.content.msg))}</div>`;F.alertCtrl.create({header:F.servers[I][H].info.name,message:new Lt.Vk(w.content.uri?B+ue:ue),buttons:[{text:F.lang.text.Nakama.LocalNotiOK,handler:(ke=(0,M.A)(function*(){try{yield F.servers[I][H].client.deleteNotifications(F.servers[I][H].session,[w.id])}catch{}F.noti.ClearNoti(w.code),F.update_notifications(I,H)}),function(){return ke.apply(this,arguments)})}]}).then(ke=>ke.present());break;case-1:case-3:case-4:case-6:F.noti.ClearNoti(w.code);try{(yield z.client.deleteNotifications(z.session,[w.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),F.update_notifications(I,H)}catch(ke){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ke)}break;case-5:try{let ke=yield z.client.getUsers(z.session,[w.sender_id]);if(ke.users.length){let Fe="";Fe+=`${F.lang.text.Nakama.ReqContServer}: ${w.server.name}<br>`,Fe+=`${F.lang.text.Nakama.ReqContUserName}: ${ke.users[0].display_name}`,F.alertCtrl.create({header:F.lang.text.Nakama.ReqContTitle,message:Fe,buttons:[{text:F.lang.text.Nakama.ReqContAccept,handler:($t=(0,M.A)(function*(){try{(yield z.client.addGroupUsers(z.session,w.content.group_id,[ke.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),F.noti.ClearNoti(w.code);try{let Dr=yield z.client.deleteNotifications(z.session,[w.id]);Dr?F.update_notifications(I,H):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Dr)}catch(Dr){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Dr)}}catch(Ut){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",Ut)}}),function(){return $t.apply(this,arguments)})},{text:F.lang.text.Nakama.ReqContReject,handler:function(){var $t=(0,M.A)(function*(){try{(yield z.client.kickGroupUsers(z.session,w.content.group_id,[ke.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield z.client.deleteNotifications(z.session,[w.id]),F.update_notifications(I,H)}catch(Ut){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",Ut)}});return function(){return $t.apply(this,arguments)}}(),cssClass:"redfont"}]}).then($t=>$t.present())}else try{(yield z.client.deleteNotifications(z.session,[w.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),F.p5toast.show({text:F.lang.text.Nakama.UserNotFound}),F.update_notifications(I,H)}catch(Fe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Fe)}}catch(ke){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",ke)}break;case-7:F.LoginAgain(F.noti_origin,I,H);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",w.code);try{yield F.servers[I][H].client.deleteNotifications(F.servers[I][H].session,[w.id])}catch{}F.update_notifications(I,H)}var $t,ke})()}act_on_notification(w,I,H){var F=this;return(0,M.A)(function*(){let z=!1;switch(w.server=F.servers[I][H].info,w.code){case 404:F.remove_server(I,H,!1);break;case hr.USER_PROFILE_CHANGED:break;case hr.USER_PROFILE_IMAGE_CHANGED:try{if(!F.users[I][H][w.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let Fe=yield F.servers[I][H].client.readStorageObjects(F.servers[I][H].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:w.content.user_id}]});if(Fe.objects.length)try{if(F.servers[I][H].session.user_id==w.content.user_id)throw"me";F.load_other_user(w.content.user_id,I,H).img=Fe.objects[0].value.img.replace(/"|\\|=/g,""),F.indexed.saveTextFileToUserPath(F.users[I][H][w.content.user_id].img,`servers/${I}/${H}/users/${w.content.user_id}/profile.img`)}catch{F.users.self.img=Fe.objects[0].value.img.replace(/"|\\|=/g,""),yield F.indexed.saveTextFileToUserPath(F.users.self.img,"servers/self/profile.img")}else try{if(F.servers[I][H].session.user_id==w.content.user_id)throw"me";delete F.users[I][H][w.content.user_id].img,F.indexed.removeFileFromUserPath(`servers/${I}/${H}/users/${w.content.user_id}/profile.img`)}catch{delete F.users.self.img}}catch(Fe){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",Fe)}return;case hr.MANAGE_POST:switch(w.content.type){case"add":try{let $t=w.content.user_id==F.servers[I][H].session.user_id;if(!F.users[I][H][w.content.user_id]&&!$t)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let Ut=yield F.load_server_post_with_id(w.content.post_id,I,H,w.content.user_id,$t);F.rearrange_posts(),$t||(F.p5toast.show({text:`${F.lang.text.AddPost.Title}: ${Ut.title}`}),F.has_new_post=!0)}catch{}break;case"remove":F.RemovePost({id:w.content.post_id,creator_id:w.content.user_id,attachments:[],server:{isOfficial:I,target:H}},!0)}return;case hr.GROUP_DATA_CHANGED:case hr.GROUP_IMAGE_CHANGED:break;case 1:w.request=`${F.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(w.content.msg)}`;let B=decodeURIComponent(w.content.msg),ue=decodeURIComponent(w.content.uri);F.noti.PushLocal({id:w.code,title:F.servers[I][H].info.name,body:B,image:ue,smallIcon_ln:"diychat"},"global_noti_all",Fe=>{let $t=`<div style="text-align: center"><img src="${ue}" alt="noti_image" style="border-radius: 2px"/></div>`,Ut=`<div>${F.global.HTMLEncode(B)}</div>`;var Re;F.alertCtrl.create({header:F.servers[I][H].info.name,message:new Lt.Vk(ue?$t+Ut:Ut),buttons:[{text:F.lang.text.Nakama.LocalNotiOK,handler:(Re=(0,M.A)(function*(){try{yield F.servers[I][H].client.deleteNotifications(F.servers[I][H].session,[w.id])}catch{}F.noti.ClearNoti(w.code),F.update_notifications(I,H)}),function(){return Re.apply(this,arguments)})}]}).then(Re=>Re.present())});break;case 0:w.request=`${w.code}-${w.subject}`;break;case-1:let Se;w.request=`${w.code}-${w.subject}`,2===(w.content&&w.content.username&&(Se=2),Se)?F.join_chat_with_modulation(w.sender_id,Se,I,H):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",w,Se),w.request=`${w.code}-${w.subject}`),z=!0;try{(yield F.servers[I][H].client.deleteNotifications(F.servers[I][H].session,[w.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),F.update_notifications(I,H)}catch(Fe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Fe)}break;case-2:case-3:w.request=`${w.code}-${w.subject}`;break;case-4:F.socket_reactive.group_detail&&F.socket_reactive.group_detail.info.id==w.content.group_id&&F.socket_reactive.group_detail.update_from_notification(w),F.groups[I][H][w.content.group_id].status="online",w.request=`${w.code}-${w.subject}`;try{let Fe=yield F.servers[I][H].client.readStorageObjects(F.servers[I][H].session,{object_ids:[{collection:"group_public",key:`group_${w.content.group_id}`,user_id:F.groups[I][H][w.content.group_id].creator_id}]});Fe.objects.length&&(F.groups[I][H][w.content.group_id].img=Fe.objects[0].value.img,F.indexed.saveTextFileToUserPath(Fe.objects[0].value.img,`servers/${I}/${H}/groups/${w.content.group_id}.img`))}catch(Fe){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Fe)}try{yield F.load_groups(I,H,w.content.group_id,!0)}catch(Fe){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Fe)}F.join_chat_with_modulation(w.content.group_id,3,I,H,!0),F.noti.PushLocal({id:w.code,title:`${F.groups[I][H][w.content.group_id].name}: ${F.lang.text.Nakama.LocalNotiTitle}`,body:w.subject,icon:F.groups[I][H][w.content.group_id.img],smallIcon_ln:"diychat"},void 0,Fe=>{F.check_notifications(w,I,H)});break;case-5:let ke=F.groups[I][H][w.content.group_id];if(ke)w.request=`${F.lang.text.Nakama.ReqContTitle}: ${ke.name}`;else{z=!0;try{let Fe=yield F.servers[I][H].client.deleteNotifications(F.servers[I][H].session,[w.id]);Fe?F.update_notifications(I,H):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Fe)}catch(Fe){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",Fe)}}F.socket_reactive.group_detail&&F.socket_reactive.group_detail.info.id==w.content.group_id&&F.socket_reactive.group_detail.update_from_notification(w),F.noti.PushLocal({id:w.code,title:`${F.groups[I][H][w.content.group_id].name}: ${F.lang.text.Nakama.ReqContTitle}`,icon:F.groups[I][H][w.content.group_id].img,smallIcon_ln:"diychat"},void 0,Fe=>{F.socket_reactive.group_detail.info.id!=w.content.group_id&&F.open_group_detail({info:F.groups[I][H][w.content.group_id]})});break;case-6:w.request=`${w.code}-${w.subject}`;break;case-7:w.request=`${F.servers[I][H].info.name}: ${F.lang.text.Nakama.SessionLogout}`,F.LoginAgain(w,I,H);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",w),w.request=`${w.code}-${w.subject}`}z||(F.noti_origin[I][H][w.id]=w)})()}LoginAgain(w,I,H){this.alertCtrl.create({header:this.servers[I][H].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[I][H][w.id]}catch{}this.rearrange_notifications(),this.link_group(I,H,!0)}}]}).then(F=>F.present())}WriteStorage_From_channel(w,I,H,F,z=0){var B=this;return(0,M.A)(function*(){let ue=JSON.parse(JSON.stringify(w)),Se=yield B.global.req_file_info(I),ke=Math.ceil(Se.contents.length/bt.xM);if(B.OnTransfer[H][F][w.channel_id]||(B.OnTransfer[H][F][w.channel_id]={}),B.OnTransfer[H][F][w.channel_id][w.message_id]||(B.OnTransfer[H][F][w.channel_id][w.message_id]={index:ke}),!B.OnTransfer[H][F][w.channel_id][w.message_id].OnTransfer){w.content.transfer_index||(w.content.transfer_index=B.OnTransfer[H][F][w.channel_id][w.message_id]);for(let Fe=z;Fe<ke;Fe++)try{let $t=B.global.req_file_part_base64(Se,Fe,I);yield B.servers[H][F].client.writeStorageObjects(B.servers[H][F].session,[{collection:`file_${ue.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ue.message_id}_${Fe}`,permission_read:2,permission_write:1,value:{data:$t}}]),B.OnTransfer[H][F][w.channel_id][w.message_id].index=ke-1-Fe,B.OnTransfer[H][F][w.channel_id][w.message_id].OnTransfer="upload"}catch($t){console.log("WriteStorage_From_channel: ",$t),B.noti.PushLocal({id:7,title:B.lang.text.Nakama.FailedUpload,body:`${ue.content.filename||ue.content.name}: ${$t}`,smallIcon_ln:"diychat"},B.noti.Current),B.p5toast.show({text:`${B.lang.text.Nakama.FailedUpload}: ${$t}`});break}setTimeout(()=>{delete B.OnTransfer[H][F][w.channel_id][w.message_id],B.global.remove_req_file_info(w,I),B.p5toast.show({text:`${B.lang.text.ChatRoom.forceSQL}: ${B.lang.text.ChatRoom.SendFile}: ${ue.content.filename}`}),B.noti.PushLocal({id:7,title:B.lang.text.ChatRoom.SendFile,body:ue.content.filename,smallIcon_ln:"diychat"},B.noti.Current)},100)}})()}ReadStorage_From_channel(w,I,H,F,z=0){var B=this;return(0,M.A)(function*(){let ue=JSON.parse(JSON.stringify(w));if(B.OnTransfer[H][F][w.channel_id]||(B.OnTransfer[H][F][w.channel_id]={}),B.OnTransfer[H][F][w.channel_id][w.message_id]||(B.OnTransfer[H][F][w.channel_id][w.message_id]={index:ue.content.partsize}),B.OnTransfer[H][F][w.channel_id][w.message_id].OnTransfer)return;w.content.transfer_index||(w.content.transfer_index=B.OnTransfer[H][F][w.channel_id][w.message_id]);let Se=!0;for(let ke=z,Fe=ue.content.partsize;ke<Fe;ke++)try{let $t=yield B.servers[H][F].client.readStorageObjects(B.servers[H][F].session,{object_ids:[{collection:`file_${ue.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ue.message_id}_${ke}`,user_id:ue.sender_id}]});B.global.save_file_part(I,ke,$t.objects[0].value.data),B.OnTransfer[H][F][w.channel_id][w.message_id].index=Fe-1-ke,B.OnTransfer[H][F][w.channel_id][w.message_id].OnTransfer="download"}catch($t){console.log("ReadStorage_From_channel: ",$t),Se=!1,B.p5toast.show({text:`${B.lang.text.Nakama.FailedDownload}: ${$t}`});break}if(Se){if(w.content.url)w.content.thumbnail=w.content.url;else{w.content.text=[B.lang.text.ChatRoom.SavingFile],delete w.content.transfer_index,delete B.OnTransfer[H][F][ue.channel_id][ue.message_id].index,B.p5toast.show({text:`${B.lang.text.ChatRoom.forceSQL}: ${B.lang.text.ChatRoom.SavingFile}: ${ue.content.filename}`});let Fe=[],$t=0;yield new Promise(function(){var Ut=(0,M.A)(function*(Dr){for(let Re=0,Xe=ue.content.partsize;Re<Xe;Re++)try{let mt=yield B.indexed.GetFileInfoFromDB(`${I}_part/${Re}.part`);$t+=mt.contents.length,Fe[Re]=mt}catch(mt){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",mt);break}try{let Re=new Int8Array($t),Xe=0;for(let mt=0,ze=Fe.length;mt<ze;mt++)Re.set(Fe[mt].contents,Xe),Xe+=Fe[mt].contents.length;yield B.indexed.saveInt8ArrayToUserPath(Re,I);for(let mt=0,ze=ue.content.partsize;mt<ze;mt++)B.indexed.removeFileFromUserPath(`${I}_part/${mt}.part`);yield B.indexed.removeFileFromUserPath(`${I}_part`),B.global.remove_req_file_info(ue,I),w.content.text=[B.lang.text.ChatRoom.FileSaved]}catch(Re){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Re)}Dr(void 0)});return function(Dr){return Ut.apply(this,arguments)}}()),B.noti.ClearNoti(8)}let ke;if(ue.content.path=I,"godot"!=ue.content.viewer){let Fe=yield B.indexed.loadBlobFromUserPath(I,w.content.type||"");ke=URL.createObjectURL(Fe)}yield B.global.modulate_thumbnail((B.OnTransferMessage[ue.message_id]||w).content,ke),delete B.OnTransfer[H][F][ue.channel_id][ue.message_id],delete B.OnTransferMessage[ue.message_id]}return Se})()}sync_save_file(w,I,H,F,z=""){var B=this;return(0,M.A)(function*(){try{w.blob.size&&(yield B.indexed.saveBlobToUserPath(w.blob,w.path));let ue=yield B.global.req_file_info(w.path);w.partsize=Math.ceil((w.filesize||ue.contents.length)/bt.xM),delete w.blob,yield B.servers[I][H].client.writeStorageObjects(B.servers[I][H].session,[{collection:F,key:z||w.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:w}]);for(let Se=0;Se<w.partsize;Se++){let ke=B.global.req_file_part_base64(ue,Se,w.path);yield B.servers[I][H].client.writeStorageObjects(B.servers[I][H].session,[{collection:F,key:z?`${z}_${Se}`:w.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Se}`,permission_read:2,permission_write:1,value:{data:ke}}])}B.indexed.removeFileFromUserPath(`${w.path}.history`),B.noti.PushLocal({id:7,title:B.lang.text.ChatRoom.SendFile,body:w.filename||w.name,smallIcon_ln:"diychat"},B.noti.Current)}catch(ue){throw console.log("SyncSaveFailed: ",ue),B.noti.PushLocal({id:7,title:B.lang.text.Nakama.FailedUpload,body:`${w.filename||w.name}: ${ue}`,smallIcon_ln:"diychat"},B.noti.Current),ue}})()}sync_load_file(w,I,H,F,z="",B="",ue=!0){var Se=this;return(0,M.A)(function*(){try{let Fe=(yield Se.servers[I][H].client.readStorageObjects(Se.servers[I][H].session,{object_ids:[{collection:F,key:B||w.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:z||Se.servers[I][H].session.user_id}]})).objects[0].value,$t=!0;for(let Ut=0;Ut<Fe.partsize;Ut++)try{let Dr=yield Se.servers[I][H].client.readStorageObjects(Se.servers[I][H].session,{object_ids:[{collection:F,key:B?`${B}_${Ut}`:w.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Ut}`,user_id:z||Se.servers[I][H].session.user_id}]});Se.global.save_file_part(w.alt_path||w.path,Ut,Dr.objects[0].value.data)}catch(Dr){console.log("ReadStorage_From_channel: ",Dr),$t=!1,ue&&Se.p5toast.show({text:`${Se.lang.text.Nakama.FailedDownload}: ${Dr}`}),w.url&&(w.thumbnail=w.url);break}if($t){delete w.url,w.text=[Se.lang.text.ChatRoom.SavingFile],ue&&Se.p5toast.show({text:`${Se.lang.text.ChatRoom.forceSQL}: ${Se.lang.text.ChatRoom.SavingFile}: ${Fe.filename}`});let Ut=[],Dr=0;yield new Promise(function(){var Re=(0,M.A)(function*(Xe,mt){let ze=!1;for(let ht=0,Bt=Fe.partsize;ht<Bt;ht++)try{let cr=yield Se.indexed.GetFileInfoFromDB(`${w.alt_path||w.path}_part/${ht}.part`);Dr+=cr.contents.length,Ut[ht]=cr}catch(cr){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",cr),ze=!0;break}try{if(ze)throw"\ud30c\uc77c \ubcd1\ud569 \uc2e4\ud328";let ht=new Int8Array(Dr),Bt=0;for(let cr=0,wr=Ut.length;cr<wr;cr++)ht.set(Ut[cr].contents,Bt),Bt+=Ut[cr].contents.length;yield Se.indexed.saveInt8ArrayToUserPath(ht,w.alt_path||w.path);for(let cr=0,wr=Fe.partsize;cr<wr;cr++)Se.indexed.removeFileFromUserPath(`${w.alt_path||w.path}_part/${cr}.part`);yield Se.indexed.removeFileFromUserPath(`${w.alt_path||w.path}_part`)}catch(ht){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",ht),mt()}Xe(void 0)});return function(Xe,mt){return Re.apply(this,arguments)}}()),Se.noti.ClearNoti(8),Se.indexed.removeFileFromUserPath(`${w.alt_path||w.path}.history`)}return{from:"remote",value:yield Se.indexed.loadBlobFromUserPath(w.alt_path||w.path,Fe.type||"")}}catch{try{return{from:"local",value:yield Se.indexed.loadBlobFromUserPath(w.alt_path||w.path,w.type||"")}}catch(Fe){return{from:"failed",value:null,error:Fe}}}})()}sync_remove_file(w,I,H,F,z="",B=""){var ue=this;return(0,M.A)(function*(){try{yield ue.indexed.removeFileFromUserPath(w)}catch{}try{let ke=(yield ue.servers[I][H].client.readStorageObjects(ue.servers[I][H].session,{object_ids:[{collection:F,key:w.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:z||ue.servers[I][H].session.user_id}]})).objects[0].value;try{ue.servers[I][H].client.rpc(ue.servers[I][H].session,"remove_channel_file",{collection:F,key:(B||ke.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield ue.servers[I][H].client.deleteStorageObjects(ue.servers[I][H].session,{object_ids:[{collection:F,key:B||ke.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}open_url_link(w,I=!0){var H=this;return(0,M.A)(function*(){let F=H.global.GetConnectedAddress();if(0==w.indexOf("https://is2you2.github.io/pjcone_pwa/?")||0==w.indexOf(`${F}?`)){let z=H.global.CatchGETs(w)||{};try{return yield H.AddressToQRCodeAct(z),!0}catch(B){console.log("open_url_link: ",B),H.p5toast.show({text:`${H.lang.text.ChatRoom.QRLinkFailed}: ${B}`})}}else I&&H.global.open_link(w);return!1})()}AddressToQRCodeAct(w,I=!1){var H=this;return(0,M.A)(function*(){let F=[];if(w.open_profile&&F.push({type:"open_profile"}),w.server)for(let z=0,B=w.server.length;z<B;z++){let ue=w.server[z].split(","),ke=ue[0].split("://"),Fe="https"==ke.shift(),$t=ke.shift().split(":"),Ut=$t[0],Dr=Number($t[1]);F.push({type:"server",value:{address:Ut||"192.168.0.1",useSSL:Fe||!1,nakama_port:Dr,cdn_port:ue[2],apache_port:ue[3],square_port:ue[4],webrtc_port:ue[5],key:ue[1]||"defaultkey",isOfficial:"unofficial"}})}if(w.group)for(let z=0,B=w.group.length;z<B;z++){let ue=w.group[z].split(",");F.push({type:"group",name:ue[0],id:ue[1]})}if(w.group_dedi){let z=w.group_dedi[0].split(",");F.push({type:"group_dedi",value:{address:z[0],channel:z[1]}})}if(w.open_prv_channel){let z=w.open_prv_channel[0].split(",");F.push({type:"open_prv_channel",user_id:z[0],address:z[1]})}if(w.open_channel){let z=w.open_channel[0].split(",");F.push({type:"open_channel",group_id:z[0],address:z[1]})}if(w.rtcserver)for(let z=0,B=w.rtcserver.length;z<B;z++){let ue=w.rtcserver[z].split("]"),Se=ue[0].split("[")[1],ke=ue[1].split(",");F.push({type:"rtcserver",value:{urls:Se.split(","),username:ke[1],credential:ke[2]}})}if(w.voidDraw){let z=w.voidDraw[0].split(",");F.push({type:"voidDraw",address:z[0],channel:z[1],port:z[2],username:z[3],password:z[4]})}if(w.postViewer&&F.push({type:"postViewer",address:w.postViewer[0]}),w.fileviewer){let z=w.fileviewer[0].split(",");F.push({type:"fileviewer",url:z[0],viewer:z[1]})}if(w.instc){let z=w.instc[0].split(",");F.push({type:"instc",address:z[0],channel:z[1],port:z[2],username:z[3],password:z[4],square_port:z[5]})}if(w.arcade){let z=w.arcade[0].split(",");F.push({type:"arcade",server:z[0],socketId:z[1]})}if(I)return F;yield H.act_from_QRInfo(F)})()}GenerateQRCode(w){var I=this;return(0,M.A)(function*(){return`${yield I.global.GetHeaderAddress()}?server=${w.useSSL?"https":"http"}://${w.address||""}${w.nakama_port?`:${w.nakama_port}`:""},${w.key||""},${w.cdn_port||""},${w.apache_port||""},${w.square_port||""},${w.webrtc_port||""}`.replace(" ","%20")})()}act_from_QRInfo(w){var I=this;return(0,M.A)(function*(){for(let H=0,F=20;H<F&&!I.lang.text.WebRTCDevManager.SecurityError;H++)yield new Promise(z=>setTimeout(z,1e3));for(let H=0,F=w.length;H<F;H++)switch(w[H].type){case"open_profile":I.open_profile_page();break;case"server":if(!I.CheckIfHasServer(`${w[H].value.useSSL?"https":"http"}://${w[H].value.address}:${w[H].value.port||7350}`)){let Se=!1;I.global.PageDismissAct["quick-server-detail"]=()=>{I.global.RestoreShortCutAct("quick-server-detail"),delete I.global.PageDismissAct["quick-server-detail"],Se=!0},I.global.StoreShortCutAct("quick-server-detail"),I.global.ActLikeModal("server-detail",{data:w[H].value}),I.p5toast.show({text:I.lang.text.Nakama.AddNewServer}),yield function(){var Fe=(0,M.A)(function*(){for(;!Se;)yield new Promise($t=>setTimeout($t,0))});return function(){return Fe.apply(this,arguments)}}()()}break;case"group_dedi":yield I.global.RemoveAllModals(),I.navCtrl.navigateForward("minimal-chat",{animation:Lt.V5,state:{address:w[H].value.address,channel:w[H].value.channel,quick:!0}});break;case"group":I.AfterLoginActDone?yield I.try_add_group(w[H]):I.AfterLoginAct.push((0,M.A)(function*(){yield I.try_add_group(w[H])}));break;case"open_prv_channel":{let Se=I.CheckIfHasServer(w[H].address);if(Se)if(I.AfterLoginActDone){let ke=yield I.join_chat_with_modulation(w[H].user_id,2,Se.isOfficial,Se.target,!0);I.go_to_chatroom_without_admob_act(ke)}else I.AfterLoginAct.push((0,M.A)(function*(){let ke=yield I.join_chat_with_modulation(w[H].user_id,2,Se.isOfficial,Se.target,!0);I.go_to_chatroom_without_admob_act(ke)})),I.p5toast.show({text:I.lang.text.Nakama.NeedLogin}),I.open_profile_page();else I.p5toast.show({text:I.lang.text.Nakama.NoLoginServer})}break;case"open_channel":{let Se=I.CheckIfHasServer(w[H].address);if(Se)if(I.AfterLoginActDone){let ke=yield I.join_chat_with_modulation(w[H].group_id,3,Se.isOfficial,Se.target,!0);I.go_to_chatroom_without_admob_act(ke)}else I.AfterLoginAct.push((0,M.A)(function*(){let ke=yield I.join_chat_with_modulation(w[H].group_id,3,Se.isOfficial,Se.target,!0);I.go_to_chatroom_without_admob_act(ke)})),I.p5toast.show({text:I.lang.text.Nakama.NeedLogin}),I.open_profile_page();else I.p5toast.show({text:I.lang.text.Nakama.NoLoginServer})}break;case"rtcserver":I.SaveWebRTCServer(w[H].value);break;case"voidDraw":I.global.PageDismissAct["voiddraw-remote"]=()=>{delete I.global.PageDismissAct["voiddraw-remote"]},I.global.ActLikeModal("void-draw",{remote:{address:w[H].address,channel:w[H].channel,port:w[H].port,username:w[H].username,password:w[H].password},dismiss:"voiddraw-remote"});break;case"postViewer":let ue=yield fetch(w[H].address);if(ue.ok){let Se=yield ue.text(),ke=JSON.parse(Se);I.open_post(ke,-2)}else I.p5toast.show({text:`${I.lang.text.AddPost.NoPostOutLink}: ${ue.statusText}`});break;case"instc":I.global.RemoveAllModals(()=>{I.navCtrl.navigateForward("instant-call",{animation:Lt.NC,state:{address:w[H].address,channel:w[H].channel,port:w[H].port,username:w[H].username,password:w[H].password,square_port:w[H].square_port}})});break;case"arcade":I.global.JoinArcadeWithSocketInfo(w[H]);break;case"fileviewer":I.global.PageDismissAct["quick-fileviewer"]=Se=>{delete I.global.PageDismissAct["quick-fileviewer"]},I.global.ActLikeModal("ionic-viewer",{info:{content:{filename:w[H].url.split("_").pop(),file_ext:w[H].url.split(".").pop(),url:w[H].url,viewer:w[H].viewer}},relevance:[{content:{filename:w[H].url.split("_").pop(),file_ext:w[H].url.split(".").pop(),url:w[H].url,viewer:w[H].viewer}}],noEdit:!0,noTextEdit:!0,quick:!0,dismiss:"quick-fileviewer"});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}CheckIfHasServer(w){let I=!1;try{let H=w.split("://"),F="https"==H.shift(),z=H.shift().split(":"),B=z[0],ue=Number(z[1]),Se=this.get_all_server_info(!0);for(let ke of Se)if(ke.address==B&&ke.useSSL==F&&(ke.nakama_port||7350)==ue){I=ke;break}}catch{}return I}load_local_post_with_id(w,I,H,F){var z=this;return(0,M.A)(function*(){let B=yield z.indexed.loadTextFromUserPath(`servers/${I}/${H}/posts/${F}/${w}/info.json`);try{try{if(z.posts_orig[I][H][F][w])throw"exist"}catch(Se){if("exist"==Se)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let ue=JSON.parse(B);if(ue.server={name:z.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},ue.mainImage)try{if(ue.mainImage.url)ue.mainImage.thumbnail=ue.mainImage.url;else{let Se=yield z.indexed.loadBlobFromUserPath(ue.mainImage.path,ue.mainImage.type);ue.mainImage.blob=Se;let ke=URL.createObjectURL(Se);ue.mainImage.thumbnail=ke,setTimeout(()=>{URL.revokeObjectURL(ke)},5e3)}}catch{}return z.posts_orig[I][H][F][w]=ue,!0}catch{return!1}})()}GetOverrideName(w,I,H){let F;try{F=this.usernameOverride[I][H][w]}catch{}return F}SaveOverrideName(w,I,H,F){var z=this;return(0,M.A)(function*(){I?z.usernameOverride[H][F][w]=I:delete z.usernameOverride[H][F][w];let B=JSON.stringify(z.usernameOverride[H][F]),Se={blob:new Blob([B],{type:"application/json"}),path:`servers/${H}/${F}/users/override_name.json`};yield z.sync_save_file(Se,H,F,"usernameOverride","override");try{z.servers[H][F].socket.sendMatchState(z.self_match[H][F].match_id,hr.NAME_OVERRIDED,encodeURIComponent(""))}catch{}})()}LoadOverrideName(w,I){var H=this;return(0,M.A)(function*(){let F={path:`servers/${w}/${I}/users/override_name.json`},z=yield H.sync_load_file(F,w,I,"usernameOverride",void 0,"override",!1);if(z.value){let B=yield z.value.text(),ue=JSON.parse(B),Se=Object.keys(ue);for(let ke of Se)H.usernameOverride[w][I][ke]=ue[ke]}})()}LoadOverridesOffline(){var w=this;return(0,M.A)(function*(){let I=yield w.indexed.GetFileListFromDB("override_name.json");for(let H of I)try{let F=H.split("/");w.usernameOverride[F[1]]||(w.usernameOverride[F[1]]={}),w.usernameOverride[F[1]][F[2]]||(w.usernameOverride[F[1]][F[2]]={});let B=yield(yield w.indexed.loadBlobFromUserPath(H,"")).text(),ue=JSON.parse(B);w.usernameOverride[F[1]][F[2]]=ue}catch{}})()}load_server_post_with_id(w,I,H,F,z){var B=this;return(0,M.A)(function*(){try{let ue={path:`servers/${I}/${H}/posts/${F}/${w}/info.json`,type:"application/json"},Se=yield B.sync_load_file(ue,I,H,"server_post",F,w,!1),ke=yield Se.value.text(),Fe=JSON.parse(ke);z&&(Fe.is_me=!0);let $t=new Blob([JSON.stringify(Fe)],{type:"application/json"});if(Fe.OutSource&&!Fe.is_me)throw"\ub2e4\ub978 \uc0ac\ub78c\uc758 \uc678\ubd80 \uac8c\uc2dc\ubb3c \uc815\ubcf4 \ubb34\uc2dc";B.indexed.saveBlobToUserPath($t,ue.path),Fe.server={isOfficial:I,target:H};try{Fe.server.name=B.servers[I][H].info.name}catch{Fe.server.name=B.lang.text.Nakama.DeletedServer}if(Fe.mainImage)if(Fe.mainImage.url)Fe.mainImage.thumbnail=Fe.mainImage.url;else{let Ut={path:Fe.mainImage.path,alt_path:`servers/${I}/${H}/posts/${F}/${w}/MainImage.png`,type:"image/png"},Re=(yield B.sync_load_file(Ut,I,H,"server_post",F,`${w}_mainImage`,!1)).value;Fe.mainImage.blob=Re;let Xe=URL.createObjectURL(Re);Fe.mainImage.thumbnail=Xe,setTimeout(()=>{URL.revokeObjectURL(Xe)},5e3)}try{Fe.creator_name=B.load_other_user(F,I,H).display_name||Fe.creator_name}catch{}if(B.posts_orig[I]||(B.posts_orig[I]={}),B.posts_orig[I][H]||(B.posts_orig[I][H]={}),B.posts_orig[I][H][F]||(B.posts_orig[I][H][F]={}),("deleted"!=I||Fe.is_me)&&(B.posts_orig[I][H][F][w]=Fe),"local"==Se.from)try{if(!(yield B.servers[I][H].client.readStorageObjects(B.servers[I][H].session,{object_ids:[{collection:"server_post",key:w,user_id:F}]})).objects.length)throw"Not RemoteExist"}catch(Ut){if("Not RemoteExist"==Ut)throw"RemoveSelf"}return Fe}catch(ue){return"RemoveSelf"==ue&&B.RemovePost(B.posts_orig[I][H][F][w],!0),!1}})()}load_posts_counter(){var w=this;return(0,M.A)(function*(){let I={};try{let z=yield w.indexed.loadTextFromUserPath("servers/post_counter.json"),B=JSON.parse(z);I=z,w.post_counter=B}catch{}let H=Number(yield w.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;w.post_counter.local.target.me=H;let F=w.get_all_server_info(!0,!0);for(let z=0,B=F.length;z<B;z++){let ue=F[z].isOfficial,Se=F[z].target;w.post_counter[ue][Se]||(w.post_counter[ue][Se]={});try{let ke=yield w.servers[ue][Se].client.readStorageObjects(w.servers[ue][Se].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:w.servers[ue][Se].session.user_id}]}),Fe=0;ke.objects.length&&(Fe=ke.objects[0].value.counter),w.post_counter[ue][Se][w.servers[ue][Se].session.user_id]=Fe}catch(ke){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",ke)}if(w.users[ue][Se]){let ke=Object.keys(w.users[ue][Se]);for(let Fe=0,$t=ke.length;Fe<$t;Fe++)try{let Ut=yield w.servers[ue][Se].client.readStorageObjects(w.servers[ue][Se].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:ke[Fe]}]}),Dr=0;Ut.objects.length&&(Dr=Ut.objects[0].value.counter),w.post_counter[ue][Se][ke[Fe]]=Dr}catch{delete w.post_counter[ue][Se][ke[Fe]]}}I!=JSON.stringify(w.post_counter)&&(yield w.save_post_counter(),w.has_new_post=!0)}})()}save_post_counter(){var w=this;return(0,M.A)(function*(){yield w.indexed.saveTextFileToUserPath(JSON.stringify(w.post_counter),"servers/post_counter.json")})()}}return(W=fe).\u0275fac=function(w){return new(w||W)(Pt.KVO(fr.G),Pt.KVO(dt.j),Pt.KVO(xt.n),Pt.KVO(nr.r),Pt.KVO(Kt.hG),Pt.KVO(vr.y),Pt.KVO(bt.z3),Pt.KVO(ur.q9),Pt.KVO(Kt.Xi))},W.\u0275prov=Pt.jDH({token:W,factory:W.\u0275fac,providedIn:"root"}),fe})()},9900:(xr,or,_e)=>{"use strict";_e.d(or,{G:()=>se});var M=_e(8326),et=_e(482),Et=_e(3953),o=function($){return $[$.Idle=0]="Idle",$[$.DivFadeIn=1]="DivFadeIn",$[$.BorderAlert=2]="BorderAlert",$[$.Reading=3]="Reading",$[$.FadeOut=4]="FadeOut",$}(o||{});let se=(()=>{var $;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(f){let g;f.time=(new Date).getTime(),f.lateable||(this.AlertNow=f,this.status=o.DivFadeIn),this.alert.length&&(g=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==f.text?this.status=o.DivFadeIn:g&&g.text==f.text||this.alert.push(f),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new M(_=>{let i,a,l,u=0,d=0,h=0;_.setup=()=>{_.noCanvas(),i=_.createDiv(),i.style("position: absolute; left: 0; top: 0; z-index: 1"),i.style("width: 100%; height: fit-content"),i.style("padding: 32px;"),i.style("display: flex; justify-content: center;"),i.style("pointer-events: none"),m(),l=_.createDiv(),l.parent(i),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("border-radius: 24px"),l.style("background: #"+(et.ud?"30564e88":"b9543788")),l.style("padding: 4px"),a=_.createDiv(),a.parent(l),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("word-break: break-all"),a.style("background: #"+(et.ud?"30564e88":"b9543788")),a.style("border-radius: 20px"),a.style("padding: 12px"),a.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),a.html(this.HTMLEncode(this.AlertNow.text)),p(),this.status=o.DivFadeIn},_.draw=()=>{switch(this.status){case o.DivFadeIn:u<1?u+=1:(u=1,d=1,this.status=o.BorderAlert,a.html(this.HTMLEncode(this.AlertNow.text)));break;case o.BorderAlert:if(d>0)d-=.03;else{let D;d=0,D=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,h=_.millis()+D+960,this.status=o.Reading}break;case o.Reading:_.millis()>h&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),a.html(this.HTMLEncode(this.AlertNow.text)),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:u>0?u-=.04:y()}m(),p()};let m=()=>{i.style(`opacity: ${u}`)},p=()=>{let D=_.lerpColor(_.color("#"+(et.ud?"30564e88":"b9543788")),_.color("#ffd94ebb"),d).levels;l.style(`padding: ${4*d}px`),a.style(`padding: ${_.lerp(16,12,d)}px`),a.style(`border-radius: ${_.lerp(24,20,d)}px`),l.style(`background: rgba(${D[0]}, ${D[1]}, ${D[2]}, ${D[3]/255})`)},y=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=null,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return($=v).\u0275fac=function(f){return new(f||$)},$.\u0275prov=Et.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),v})()},8065:(xr,or,_e)=>{"use strict";_e.d(or,{j:()=>T});var M=_e(3953);let T=(()=>{var et;class Et{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(et=Et).\u0275fac=function(se){return new(se||et)},et.\u0275prov=M.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),Et})()},3419:(xr,or,_e)=>{"use strict";var M=_e(345),T=_e(3953),et=_e(9858),Et=_e(3656),o=_e(5374),se=_e(92);const $=[{path:"",loadChildren:()=>_e.e(6035).then(_e.bind(_e,6035)).then(yt=>yt.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([_e.e(2076),_e.e(5502)]).then(_e.bind(_e,5502)).then(yt=>yt.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>_e.e(4722).then(_e.bind(_e,4722)).then(yt=>yt.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>_e.e(6556).then(_e.bind(_e,6556)).then(yt=>yt.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>_e.e(36).then(_e.bind(_e,36)).then(yt=>yt.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>_e.e(8163).then(_e.bind(_e,8163)).then(yt=>yt.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([_e.e(4020),_e.e(6134)]).then(_e.bind(_e,6134)).then(yt=>yt.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>Promise.all([_e.e(222),_e.e(526)]).then(_e.bind(_e,526)).then(yt=>yt.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>_e.e(9406).then(_e.bind(_e,9406)).then(yt=>yt.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>_e.e(5436).then(_e.bind(_e,5436)).then(yt=>yt.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([_e.e(4020),_e.e(8180)]).then(_e.bind(_e,8180)).then(yt=>yt.PortalPageModule)},{path:"group-detail",loadChildren:()=>_e.e(3267).then(_e.bind(_e,3267)).then(yt=>yt.GroupDetailPageModule)},{path:"instant-call",loadChildren:()=>Promise.all([_e.e(4020),_e.e(6524),_e.e(2076)]).then(_e.bind(_e,6524)).then(yt=>yt.InstantCallPageModule)},{path:"add-group",loadChildren:()=>_e.e(7601).then(_e.bind(_e,7601)).then(yt=>yt.AddGroupPageModule)},{path:"void-draw",loadChildren:()=>Promise.all([_e.e(4020),_e.e(2655)]).then(_e.bind(_e,2655)).then(yt=>yt.VoidDrawPageModule)},{path:"ionic-viewer",loadChildren:()=>Promise.all([_e.e(222),_e.e(4803)]).then(_e.bind(_e,4803)).then(yt=>yt.IonicViewerPageModule)},{path:"server-detail",loadChildren:()=>_e.e(3456).then(_e.bind(_e,3456)).then(yt=>yt.ServerDetailPageModule)}];let v=(()=>{var yt;class Ft{}return(yt=Ft).\u0275fac=function(rr){return new(rr||yt)},yt.\u0275mod=T.$C({type:yt}),yt.\u0275inj=T.G2t({imports:[et.iI.forRoot($,{preloadingStrategy:et.Kp}),et.iI]}),Ft})();var b=_e(177),f=_e(9030),g=_e(8810),S=_e(3726),_=_e(7673),i=_e(8793),a=_e(1413),l=_e(1985),u=_e(5343);const d=new l.c(u.l);var m=_e(6365),p=_e(8750),y=_e(983),D=_e(9326),V=_e(6648);function L(...yt){const Ft=(0,D.lI)(yt),Jt=(0,D.R0)(yt,1/0),rr=yt;return rr.length?1===rr.length?(0,p.Tg)(rr[0]):(0,m.U)(Jt)((0,V.H)(rr,Ft)):y.w}var P=_e(6354),x=_e(5964),U=_e(5558),A=_e(17),R=_e(8071),O=_e(9974);const re={connector:()=>new a.B};function q(yt,Ft=re){const{connector:Jt}=Ft;return(0,O.N)((rr,Rt)=>{const vt=Jt();(0,p.Tg)(yt(function Z(yt){return new l.c(Ft=>yt.subscribe(Ft))}(vt))).subscribe(Rt),Rt.add(rr.subscribe(vt))})}var G=_e(6697),Y=_e(8141),le=_e(8359);class Ie extends le.yU{constructor(Ft,Jt){super()}schedule(Ft,Jt=0){return this}}const J={setInterval(yt,Ft,...Jt){const{delegate:rr}=J;return null!=rr&&rr.setInterval?rr.setInterval(yt,Ft,...Jt):setInterval(yt,Ft,...Jt)},clearInterval(yt){const{delegate:Ft}=J;return((null==Ft?void 0:Ft.clearInterval)||clearInterval)(yt)},delegate:void 0};var j=_e(7908);const me={now:()=>(me.delegate||Date).now(),delegate:void 0};class De{constructor(Ft,Jt=De.now){this.schedulerActionCtor=Ft,this.now=Jt}schedule(Ft,Jt=0,rr){return new this.schedulerActionCtor(this,Ft).schedule(rr,Jt)}}De.now=me.now;const qe=new class $e extends De{constructor(Ft,Jt=De.now){super(Ft,Jt),this.actions=[],this._active=!1}flush(Ft){const{actions:Jt}=this;if(this._active)return void Jt.push(Ft);let rr;this._active=!0;do{if(rr=Ft.execute(Ft.state,Ft.delay))break}while(Ft=Jt.shift());if(this._active=!1,rr){for(;Ft=Jt.shift();)Ft.unsubscribe();throw rr}}}(class ne extends Ie{constructor(Ft,Jt){super(Ft,Jt),this.scheduler=Ft,this.work=Jt,this.pending=!1}schedule(Ft,Jt=0){var rr;if(this.closed)return this;this.state=Ft;const Rt=this.id,vt=this.scheduler;return null!=Rt&&(this.id=this.recycleAsyncId(vt,Rt,Jt)),this.pending=!0,this.delay=Jt,this.id=null!==(rr=this.id)&&void 0!==rr?rr:this.requestAsyncId(vt,this.id,Jt),this}requestAsyncId(Ft,Jt,rr=0){return J.setInterval(Ft.flush.bind(Ft,this),rr)}recycleAsyncId(Ft,Jt,rr=0){if(null!=rr&&this.delay===rr&&!1===this.pending)return Jt;null!=Jt&&J.clearInterval(Jt)}execute(Ft,Jt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const rr=this._execute(Ft,Jt);if(rr)return rr;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ft,Jt){let Rt,rr=!1;try{this.work(Ft)}catch(vt){rr=!0,Rt=vt||new Error("Scheduled action threw falsy error")}if(rr)return this.unsubscribe(),Rt}unsubscribe(){if(!this.closed){const{id:Ft,scheduler:Jt}=this,{actions:rr}=Jt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.o)(rr,this),null!=Ft&&(this.id=this.recycleAsyncId(Jt,Ft,null)),this.delay=null,super.unsubscribe()}}}),ut=qe;var He=_e(4360),at=_e(3703),Ue=_e(1397);function nt(yt,Ft){return Ft?Jt=>(0,i.x)(Ft.pipe((0,G.s)(1),function ot(){return(0,O.N)((yt,Ft)=>{yt.subscribe((0,He._)(Ft,u.l))})}()),Jt.pipe(nt(yt))):(0,Ue.Z)((Jt,rr)=>(0,p.Tg)(yt(Jt,rr)).pipe((0,G.s)(1),(0,at.u)(Jt)))}var Ye=_e(9470);const Ot="Service workers are disabled or not supported by this browser";class Vt{constructor(Ft){if(this.serviceWorker=Ft,Ft){const rr=(0,S.R)(Ft,"controllerchange").pipe((0,P.T)(()=>Ft.controller)),Rt=(0,f.v)(()=>(0,_.of)(Ft.controller)),vt=(0,i.x)(Rt,rr);this.worker=vt.pipe((0,x.p)(dt=>!!dt)),this.registration=this.worker.pipe((0,U.n)(()=>Ft.getRegistration()));const fr=(0,S.R)(Ft,"message").pipe((0,P.T)(dt=>dt.data)).pipe((0,x.p)(dt=>dt&&dt.type)).pipe(function X(yt){return yt?Ft=>q(yt)(Ft):Ft=>function te(yt,Ft){const Jt=(0,R.T)(yt)?yt:()=>yt;return(0,R.T)(Ft)?q(Ft,{connector:Jt}):rr=>new A.G(rr,Jt)}(new a.B)(Ft)}());fr.connect(),this.events=fr}else this.worker=this.events=this.registration=function ar(yt){return(0,f.v)(()=>(0,g.$)(new Error(yt)))}(Ot)}postMessage(Ft,Jt){return this.worker.pipe((0,G.s)(1),(0,Y.M)(rr=>{rr.postMessage({action:Ft,...Jt})})).toPromise().then(()=>{})}postMessageWithOperation(Ft,Jt,rr){const Rt=this.waitForOperationCompleted(rr),vt=this.postMessage(Ft,Jt);return Promise.all([vt,Rt]).then(([,Lt])=>Lt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ft){let Jt;return Jt="string"==typeof Ft?rr=>rr.type===Ft:rr=>Ft.includes(rr.type),this.events.pipe((0,x.p)(Jt))}nextEventOfType(Ft){return this.eventsOfType(Ft).pipe((0,G.s)(1))}waitForOperationCompleted(Ft){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,x.p)(Jt=>Jt.nonce===Ft),(0,G.s)(1),(0,P.T)(Jt=>{if(void 0!==Jt.result)return Jt.result;throw new Error(Jt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let tr=(()=>{var yt;class Ft{get isEnabled(){return this.sw.isEnabled}constructor(rr){if(this.sw=rr,this.pushManager=null,this.subscriptionChanges=new a.B,!rr.isEnabled)return this.messages=d,this.notificationClicks=d,void(this.subscription=d);this.messages=this.sw.eventsOfType("PUSH").pipe((0,P.T)(vt=>vt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,P.T)(vt=>vt.data)),this.pushManager=this.sw.registration.pipe((0,P.T)(vt=>vt.pushManager));const Rt=this.pushManager.pipe((0,U.n)(vt=>vt.getSubscription()));this.subscription=L(Rt,this.subscriptionChanges)}requestSubscription(rr){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Ot));const Rt={userVisibleOnly:!0};let vt=this.decodeBase64(rr.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Lt=new Uint8Array(new ArrayBuffer(vt.length));for(let bt=0;bt<vt.length;bt++)Lt[bt]=vt.charCodeAt(bt);return Rt.applicationServerKey=Lt,this.pushManager.pipe((0,U.n)(bt=>bt.subscribe(Rt)),(0,G.s)(1)).toPromise().then(bt=>(this.subscriptionChanges.next(bt),bt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,G.s)(1),(0,U.n)(Rt=>{if(null===Rt)throw new Error("Not subscribed to push notifications.");return Rt.unsubscribe().then(vt=>{if(!vt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ot))}decodeBase64(rr){return atob(rr)}}return(yt=Ft).\u0275fac=function(rr){return new(rr||yt)(T.KVO(Vt))},yt.\u0275prov=T.jDH({token:yt,factory:yt.\u0275fac}),Ft})(),zt=(()=>{var yt;class Ft{get isEnabled(){return this.sw.isEnabled}constructor(rr){if(this.sw=rr,!rr.isEnabled)return this.versionUpdates=d,void(this.unrecoverable=d);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ot));const rr=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:rr},rr)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ot));const rr=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:rr},rr)}}return(yt=Ft).\u0275fac=function(rr){return new(rr||yt)(T.KVO(Vt))},yt.\u0275prov=T.jDH({token:yt,factory:yt.\u0275fac}),Ft})();const br=new T.nKC("");function Zt(yt,Ft,Jt,rr){return()=>{if(!(0,b.UE)(rr)||!("serviceWorker"in navigator)||!1===Jt.enabled)return;const Rt=yt.get(T.SKi),vt=yt.get(T.o8S);let Lt;if(Rt.runOutsideAngular(()=>{const bt=navigator.serviceWorker,Pt=()=>{var fr;return null===(fr=bt.controller)||void 0===fr?void 0:fr.postMessage({action:"INITIALIZE"})};bt.addEventListener("controllerchange",Pt),vt.onDestroy(()=>{bt.removeEventListener("controllerchange",Pt)})}),"function"==typeof Jt.registrationStrategy)Lt=Jt.registrationStrategy();else{const[bt,...Pt]=(Jt.registrationStrategy||"registerWhenStable:30000").split(":");switch(bt){case"registerImmediately":Lt=(0,_.of)(null);break;case"registerWithDelay":Lt=pr(+Pt[0]||0);break;case"registerWhenStable":Lt=Pt[0]?L(Ct(yt),pr(+Pt[0])):Ct(yt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Jt.registrationStrategy}`)}}Rt.runOutsideAngular(()=>Lt.pipe((0,G.s)(1)).subscribe(()=>navigator.serviceWorker.register(Ft,{scope:Jt.scope}).catch(bt=>console.error("Service worker registration failed with:",bt))))}}function pr(yt){return(0,_.of)(null).pipe(function ft(yt,Ft=qe){const Jt=function Ze(yt=0,Ft,Jt=ut){let rr=-1;return null!=Ft&&((0,Ye.m)(Ft)?Jt=Ft:rr=Ft),new l.c(Rt=>{let vt=function st(yt){return yt instanceof Date&&!isNaN(yt)}(yt)?+yt-Jt.now():yt;vt<0&&(vt=0);let Lt=0;return Jt.schedule(function(){Rt.closed||(Rt.next(Lt++),0<=rr?this.schedule(void 0,rr):Rt.complete())},vt)})}(yt,Ft);return nt(()=>Jt)}(yt))}function Ct(yt){return yt.get(T.o8S).isStable.pipe((0,x.p)(Jt=>Jt))}function lr(yt,Ft){return new Vt((0,b.UE)(Ft)&&!1!==yt.enabled?navigator.serviceWorker:void 0)}class Gt{}function Ve(yt,Ft={}){return(0,T.EmA)([tr,zt,{provide:br,useValue:yt},{provide:Gt,useValue:Ft},{provide:Vt,useFactory:lr,deps:[Gt,T.Agw]},{provide:T.hnV,useFactory:Zt,deps:[T.zZn,br,Gt,T.Agw],multi:!0}])}let We=(()=>{var yt;class Ft{static register(rr,Rt={}){return{ngModule:Ft,providers:[Ve(rr,Rt)]}}}return(yt=Ft).\u0275fac=function(rr){return new(rr||yt)},yt.\u0275mod=T.$C({type:yt}),yt.\u0275inj=T.G2t({providers:[tr,zt]}),Ft})();let Je=(()=>{var yt;class Ft{}return(yt=Ft).\u0275fac=function(rr){return new(rr||yt)},yt.\u0275mod=T.$C({type:yt,bootstrap:[se.ZL]}),yt.\u0275inj=T.G2t({providers:[{provide:et.b,useClass:Et.jM},Et.y8],imports:[M.Bb,o.bv.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,We.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Ft})();var It=_e(1288);(0,T.SmG)(),M.sG().bootstrapModule(Je).catch(yt=>console.log(yt)),window,typeof window>"u"?Promise.resolve():(0,It.p)().then(()=>(0,It.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(xr,or,_e)=>{var M=_e(4756);xr.exports=function o(se,$,v){function b(S,_){if(!$[S]){if(!se[S]){var i=void 0;if(!_&&i)return require(S,!0);if(f)return f(S,!0);throw(_=new Error("Cannot find module '"+S+"'")).code="MODULE_NOT_FOUND",_}i=$[S]={exports:{}},se[S][0].call(i.exports,function(a){return b(se[S][1][a]||a)},i,i.exports,o,se,$,v)}return $[S].exports}for(var f=void 0,g=0;g<v.length;g++)b(v[g]);return b}({1:[function(o,se,$){"use strict";$.byteLength=function(u){return 3*((u=i(u))[0]+(u=u[1]))/4-u},$.toByteArray=function(a){var l,u,h,V,d=(h=i(a))[0],m=new f(3*(d+(V=h=h[1]))/4-V),p=0,y=0<h?d-4:d;for(u=0;u<y;u+=4)l=b[a.charCodeAt(u)]<<18|b[a.charCodeAt(u+1)]<<12|b[a.charCodeAt(u+2)]<<6|b[a.charCodeAt(u+3)],m[p++]=l>>16&255,m[p++]=l>>8&255,m[p++]=255&l;return 2===h&&(l=b[a.charCodeAt(u)]<<2|b[a.charCodeAt(u+1)]>>4,m[p++]=255&l),1===h&&(l=b[a.charCodeAt(u)]<<10|b[a.charCodeAt(u+1)]<<4|b[a.charCodeAt(u+2)]>>2,m[p++]=l>>8&255,m[p++]=255&l),m},$.fromByteArray=function(a){for(var l,u=a.length,d=u%3,h=[],m=0,p=u-d;m<p;m+=16383)h.push(function(y,D,V){for(var P=[],x=D;x<V;x+=3)P.push(v[(U=(y[x]<<16&16711680)+(y[x+1]<<8&65280)+(255&y[x+2]))>>18&63]+v[U>>12&63]+v[U>>6&63]+v[63&U]);var U;return P.join("")}(a,m,p<m+16383?p:m+16383));return 1==d?h.push(v[(l=a[u-1])>>2]+v[l<<4&63]+"=="):2==d&&h.push(v[(l=(a[u-2]<<8)+a[u-1])>>10]+v[l>>4&63]+v[l<<2&63]+"="),h.join("")};for(var v=[],b=[],f=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)v[S]=g[S],b[g.charCodeAt(S)]=S;function i(a){var l=a.length;if(0<l%4)throw new Error("Invalid string. Length must be a multiple of 4");return l=(a=-1===(a=a.indexOf("="))?l:a)===l?0:4-a%4,[a,l]}b[45]=62,b[95]=63},{}],2:[function(o,se,$){},{}],3:[function(o,se,$){},{}],4:[function(o,se,$){(function(i){"use strict";var b=o("base64-js"),f=o("ieee754"),g="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,S=($.Buffer=i,$.SlowBuffer=function(J){return+J!=J&&(J=0),i.alloc(+J)},$.INSPECT_MAX_BYTES=50,2147483647);function _(J){if(S<J)throw new RangeError('The value "'+J+'" is invalid for option "size"');return J=new Uint8Array(J),Object.setPrototypeOf(J,i.prototype),J}function i(J,j,ne){if("number"!=typeof J)return a(J,j,ne);if("string"==typeof j)throw new TypeError('The "string" argument must be of type string. Received type number');return u(J)}function a(J,j,ne){if("string"==typeof J){var me=J,De=j;if(i.isEncoding(De="string"==typeof De&&""!==De?De:"utf8"))return(me=(qe=_($e=0|m(me,De))).write(me,De))!==$e?qe.slice(0,me):qe;throw new TypeError("Unknown encoding: "+De)}if(ArrayBuffer.isView(J))return d(J);if(null!=J){if(Y(J,ArrayBuffer)||J&&Y(J.buffer,ArrayBuffer)){var $e=J,qe=ne;if((me=j)<0||$e.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if($e.byteLength<me+(qe||0))throw new RangeError('"length" is outside of buffer bounds');return $e=void 0===me&&void 0===qe?new Uint8Array($e):void 0===qe?new Uint8Array($e,me):new Uint8Array($e,me,qe),Object.setPrototypeOf($e,i.prototype),$e}if("number"==typeof J)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(De=J.valueOf&&J.valueOf())&&De!==J)return i.from(De,j,ne);var ut=i.isBuffer(He=J)?(0!==(at=_(ot=0|h(He.length))).length&&He.copy(at,0,0,ot),at):void 0!==He.length?"number"!=typeof He.length||le(He.length)?_(0):d(He):"Buffer"===He.type&&Array.isArray(He.data)?d(He.data):void 0;if(ut)return ut;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof J[Symbol.toPrimitive])return i.from(J[Symbol.toPrimitive]("string"),j,ne)}var He,ot,at;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}function l(J){if("number"!=typeof J)throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function u(J){return l(J),_(J<0?0:0|h(J))}function d(J){for(var j=J.length<0?0:0|h(J.length),ne=_(j),me=0;me<j;me+=1)ne[me]=255&J[me];return ne}function h(J){if(S<=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|J}function m(J,j){if(i.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||Y(J,ArrayBuffer))return J.byteLength;if("string"!=typeof J)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);var ne=J.length,me=2<arguments.length&&!0===arguments[2];if(!me&&0===ne)return 0;for(var De=!1;;)switch(j){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return te(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return X(J).length;default:if(De)return me?-1:te(J).length;j=(""+j).toLowerCase(),De=!0}}function p(J,j,ne){var me,De=!1;if((j=void 0===j||j<0?0:j)>this.length||(ne=void 0===ne||ne>this.length?this.length:ne)<=0||(ne>>>=0)<=(j>>>=0))return"";for(J=J||"utf8";;)switch(J){case"hex":var qe=ne,at=this.length;(!qe||qe<0||at<qe)&&(qe=at);for(var ut="",He=Ze=!(Ze=j)||Ze<0?0:Ze;He<qe;++He)ut+=Ie[this[He]];return ut;case"utf8":case"utf-8":return x(this,j,ne);case"ascii":var Ue=(at=j,ne),nt="";Ue=Math.min(this.length,Ue);for(var Ye=at;Ye<Ue;++Ye)nt+=String.fromCharCode(127&this[Ye]);return nt;case"latin1":case"binary":var Ze=j,ft=ne,Ot="";ft=Math.min(this.length,ft);for(var ar=Ze;ar<ft;++ar)Ot+=String.fromCharCode(this[ar]);return Ot;case"base64":return Vt=this,me=ne,0===(tr=j)&&me===Vt.length?b.fromByteArray(Vt):b.fromByteArray(Vt.slice(tr,me));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Vt=j,tr=ne,zt=this.slice(Vt,tr),br="",Zt=0;Zt<zt.length;Zt+=2)br+=String.fromCharCode(zt[Zt]+256*zt[Zt+1]);return br;default:if(De)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),De=!0}}function y(J,j,ne){var me=J[j];J[j]=J[ne],J[ne]=me}function D(J,j,ne,me,De){if(0===J.length)return-1;if("string"==typeof ne?(me=ne,ne=0):2147483647<ne?ne=2147483647:ne<-2147483648&&(ne=-2147483648),(ne=(ne=le(ne=+ne)?De?0:J.length-1:ne)<0?J.length+ne:ne)>=J.length){if(De)return-1;ne=J.length-1}else if(ne<0){if(!De)return-1;ne=0}if("string"==typeof j&&(j=i.from(j,me)),i.isBuffer(j))return 0===j.length?-1:V(J,j,ne,me,De);if("number"==typeof j)return j&=255,"function"==typeof Uint8Array.prototype.indexOf?(De?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(J,j,ne):V(J,[j],ne,me,De);throw new TypeError("val must be string, number or Buffer")}function V(J,j,ne,me,De){var $e=1,qe=J.length,ut=j.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(J.length<2||j.length<2)return-1;qe/=$e=2,ut/=2,ne/=2}function He(Ye,st){return 1===$e?Ye[st]:Ye.readUInt16BE(st*$e)}if(De)for(var ot=-1,at=ne;at<qe;at++)if(He(J,at)===He(j,-1===ot?0:at-ot)){if(at-(ot=-1===ot?at:ot)+1===ut)return ot*$e}else-1!==ot&&(at-=at-ot),ot=-1;else for(at=ne=qe<ne+ut?qe-ut:ne;0<=at;at--){for(var Ue=!0,nt=0;nt<ut;nt++)if(He(J,at+nt)!==He(j,nt)){Ue=!1;break}if(Ue)return at}return-1}function L(J,j,ne,me){return G(function(De){for(var $e=[],qe=0;qe<De.length;++qe)$e.push(255&De.charCodeAt(qe));return $e}(j),J,ne,me)}function P(J,j,ne,me){return G(function(De,$e){for(var qe,ut,He=[],ot=0;ot<De.length&&!(($e-=2)<0);++ot)qe=(ut=De.charCodeAt(ot))>>8,He.push(ut%=256),He.push(qe);return He}(j,J.length-ne),J,ne,me)}function x(J,j,ne){ne=Math.min(J.length,ne);for(var me=[],De=j;De<ne;){var $e,qe,ut,He,ot=J[De],at=null,Ue=239<ot?4:223<ot?3:191<ot?2:1;if(De+Ue<=ne)switch(Ue){case 1:ot<128&&(at=ot);break;case 2:128==(192&($e=J[De+1]))&&127<(He=(31&ot)<<6|63&$e)&&(at=He);break;case 3:qe=J[De+2],128==(192&($e=J[De+1]))&&128==(192&qe)&&2047<(He=(15&ot)<<12|(63&$e)<<6|63&qe)&&(He<55296||57343<He)&&(at=He);break;case 4:qe=J[De+2],ut=J[De+3],128==(192&($e=J[De+1]))&&128==(192&qe)&&128==(192&ut)&&65535<(He=(15&ot)<<18|(63&$e)<<12|(63&qe)<<6|63&ut)&&He<1114112&&(at=He)}null===at?(at=65533,Ue=1):65535<at&&(me.push((at-=65536)>>>10&1023|55296),at=56320|1023&at),me.push(at),De+=Ue}var nt=me,Ye=nt.length;if(Ye<=U)return String.fromCharCode.apply(String,nt);for(var st="",Ze=0;Ze<Ye;)st+=String.fromCharCode.apply(String,nt.slice(Ze,Ze+=U));return st}$.kMaxLength=S,(i.TYPED_ARRAY_SUPPORT=function(){try{var J=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(J,j),42===J.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=a,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(J,j,ne){return l(J),J<=0||void 0===j?_(J):"string"==typeof ne?_(J).fill(j,ne):_(J).fill(j)},i.allocUnsafe=u,i.allocUnsafeSlow=u,i.isBuffer=function(J){return null!=J&&!0===J._isBuffer&&J!==i.prototype},i.compare=function(J,j){if(Y(J,Uint8Array)&&(J=i.from(J,J.offset,J.byteLength)),Y(j,Uint8Array)&&(j=i.from(j,j.offset,j.byteLength)),!i.isBuffer(J)||!i.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===j)return 0;for(var ne=J.length,me=j.length,De=0,$e=Math.min(ne,me);De<$e;++De)if(J[De]!==j[De]){ne=J[De],me=j[De];break}return ne<me?-1:me<ne?1:0},i.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(J,j){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return i.alloc(0);if(void 0===j)for(De=j=0;De<J.length;++De)j+=J[De].length;for(var ne=i.allocUnsafe(j),me=0,De=0;De<J.length;++De){var $e=J[De];if(Y($e,Uint8Array)&&($e=i.from($e)),!i.isBuffer($e))throw new TypeError('"list" argument must be an Array of Buffers');$e.copy(ne,me),me+=$e.length}return ne},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<J;j+=2)y(this,j,j+1);return this},i.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<J;j+=4)y(this,j,j+3),y(this,j+1,j+2);return this},i.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<J;j+=8)y(this,j,j+7),y(this,j+1,j+6),y(this,j+2,j+5),y(this,j+3,j+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var J=this.length;return 0===J?"":0===arguments.length?x(this,0,J):p.apply(this,arguments)},i.prototype.equals=function(J){if(i.isBuffer(J))return this===J||0===i.compare(this,J);throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var j="",J=$.INSPECT_MAX_BYTES;return j=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(j+=" ... "),"<Buffer "+j+">"},g&&(i.prototype[g]=i.prototype.inspect),i.prototype.compare=function(J,j,ne,me,De){if(Y(J,Uint8Array)&&(J=i.from(J,J.offset,J.byteLength)),!i.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(void 0===ne&&(ne=J?J.length:0),void 0===me&&(me=0),void 0===De&&(De=this.length),(j=void 0===j?0:j)<0||ne>J.length||me<0||De>this.length)throw new RangeError("out of range index");if(De<=me&&ne<=j)return 0;if(De<=me)return-1;if(ne<=j)return 1;if(this===J)return 0;for(var $e=(De>>>=0)-(me>>>=0),qe=(ne>>>=0)-(j>>>=0),ut=Math.min($e,qe),He=this.slice(me,De),ot=J.slice(j,ne),at=0;at<ut;++at)if(He[at]!==ot[at]){$e=He[at],qe=ot[at];break}return $e<qe?-1:qe<$e?1:0},i.prototype.includes=function(J,j,ne){return-1!==this.indexOf(J,j,ne)},i.prototype.indexOf=function(J,j,ne){return D(this,J,j,ne,!0)},i.prototype.lastIndexOf=function(J,j,ne){return D(this,J,j,ne,!1)},i.prototype.write=function(J,j,ne,me){if(void 0===j)me="utf8",ne=this.length,j=0;else if(void 0===ne&&"string"==typeof j)me=j,ne=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(ne)?(ne>>>=0,void 0===me&&(me="utf8")):(me=ne,ne=void 0)}var De=this.length-j;if((void 0===ne||De<ne)&&(ne=De),0<J.length&&(ne<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");me=me||"utf8";for(var $e,qe,ut,He=!1;;)switch(me){case"hex":var at=J,Ue=j,nt=ne,Ye=(Ue=Number(Ue)||0,this.length-Ue);(!nt||Ye<(nt=Number(nt)))&&(nt=Ye),(Ye=at.length)/2<nt&&(nt=Ye/2);for(var st=0;st<nt;++st){var Ze=parseInt(at.substr(2*st,2),16);if(le(Ze))return st;this[Ue+st]=Ze}return st;case"utf8":case"utf-8":return ut=ne,G(te(J,(qe=this).length-(Ye=j)),qe,Ye,ut);case"ascii":case"latin1":case"binary":return L(this,J,j,ne);case"base64":return qe=this,ut=j,$e=ne,G(X(J),qe,ut,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,J,j,ne);default:if(He)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),He=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function A(J,j,ne){if(J%1!=0||J<0)throw new RangeError("offset is not uint");if(ne<J+j)throw new RangeError("Trying to access beyond buffer length")}function R(J,j,ne,me,De,$e){if(!i.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(De<j||j<$e)throw new RangeError('"value" argument is out of bounds');if(ne+me>J.length)throw new RangeError("Index out of range")}function O(J,j,ne,me){if(ne+me>J.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function Z(J,j,ne,me,De){return j=+j,ne>>>=0,De||O(J,0,ne,4),f.write(J,j,ne,me,23,4),ne+4}function re(J,j,ne,me,De){return j=+j,ne>>>=0,De||O(J,0,ne,8),f.write(J,j,ne,me,52,8),ne+8}i.prototype.slice=function(J,j){var ne=this.length;return(J=~~J)<0?(J+=ne)<0&&(J=0):ne<J&&(J=ne),(j=void 0===j?ne:~~j)<0?(j+=ne)<0&&(j=0):ne<j&&(j=ne),j<J&&(j=J),ne=this.subarray(J,j),Object.setPrototypeOf(ne,i.prototype),ne},i.prototype.readUIntLE=function(J,j,ne){J>>>=0,j>>>=0,ne||A(J,j,this.length);for(var me=this[J],De=1,$e=0;++$e<j&&(De*=256);)me+=this[J+$e]*De;return me},i.prototype.readUIntBE=function(J,j,ne){J>>>=0,j>>>=0,ne||A(J,j,this.length);for(var me=this[J+--j],De=1;0<j&&(De*=256);)me+=this[J+--j]*De;return me},i.prototype.readUInt8=function(J,j){return J>>>=0,j||A(J,1,this.length),this[J]},i.prototype.readUInt16LE=function(J,j){return J>>>=0,j||A(J,2,this.length),this[J]|this[J+1]<<8},i.prototype.readUInt16BE=function(J,j){return J>>>=0,j||A(J,2,this.length),this[J]<<8|this[J+1]},i.prototype.readUInt32LE=function(J,j){return J>>>=0,j||A(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},i.prototype.readUInt32BE=function(J,j){return J>>>=0,j||A(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},i.prototype.readIntLE=function(J,j,ne){J>>>=0,j>>>=0,ne||A(J,j,this.length);for(var me=this[J],De=1,$e=0;++$e<j&&(De*=256);)me+=this[J+$e]*De;return(De*=128)<=me&&(me-=Math.pow(2,8*j)),me},i.prototype.readIntBE=function(J,j,ne){J>>>=0,j>>>=0,ne||A(J,j,this.length);for(var me=j,De=1,$e=this[J+--me];0<me&&(De*=256);)$e+=this[J+--me]*De;return(De*=128)<=$e&&($e-=Math.pow(2,8*j)),$e},i.prototype.readInt8=function(J,j){return J>>>=0,j||A(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},i.prototype.readInt16LE=function(J,j){return J>>>=0,j||A(J,2,this.length),32768&(j=this[J]|this[J+1]<<8)?4294901760|j:j},i.prototype.readInt16BE=function(J,j){return J>>>=0,j||A(J,2,this.length),32768&(j=this[J+1]|this[J]<<8)?4294901760|j:j},i.prototype.readInt32LE=function(J,j){return J>>>=0,j||A(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},i.prototype.readInt32BE=function(J,j){return J>>>=0,j||A(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},i.prototype.readFloatLE=function(J,j){return J>>>=0,j||A(J,4,this.length),f.read(this,J,!0,23,4)},i.prototype.readFloatBE=function(J,j){return J>>>=0,j||A(J,4,this.length),f.read(this,J,!1,23,4)},i.prototype.readDoubleLE=function(J,j){return J>>>=0,j||A(J,8,this.length),f.read(this,J,!0,52,8)},i.prototype.readDoubleBE=function(J,j){return J>>>=0,j||A(J,8,this.length),f.read(this,J,!1,52,8)},i.prototype.writeUIntLE=function(J,j,ne,me){J=+J,j>>>=0,ne>>>=0,me||R(this,J,j,ne,Math.pow(2,8*ne)-1,0);var De=1,$e=0;for(this[j]=255&J;++$e<ne&&(De*=256);)this[j+$e]=J/De&255;return j+ne},i.prototype.writeUIntBE=function(J,j,ne,me){J=+J,j>>>=0,ne>>>=0,me||R(this,J,j,ne,Math.pow(2,8*ne)-1,0);var De=ne-1,$e=1;for(this[j+De]=255&J;0<=--De&&($e*=256);)this[j+De]=J/$e&255;return j+ne},i.prototype.writeUInt8=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,1,255,0),this[j]=255&J,j+1},i.prototype.writeUInt16LE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,2,65535,0),this[j]=255&J,this[j+1]=J>>>8,j+2},i.prototype.writeUInt16BE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,2,65535,0),this[j]=J>>>8,this[j+1]=255&J,j+2},i.prototype.writeUInt32LE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,4,4294967295,0),this[j+3]=J>>>24,this[j+2]=J>>>16,this[j+1]=J>>>8,this[j]=255&J,j+4},i.prototype.writeUInt32BE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,4,4294967295,0),this[j]=J>>>24,this[j+1]=J>>>16,this[j+2]=J>>>8,this[j+3]=255&J,j+4},i.prototype.writeIntLE=function(J,j,ne,me){J=+J,j>>>=0,me||R(this,J,j,ne,(me=Math.pow(2,8*ne-1))-1,-me);var De=0,$e=1,qe=0;for(this[j]=255&J;++De<ne&&($e*=256);)J<0&&0===qe&&0!==this[j+De-1]&&(qe=1),this[j+De]=(J/$e|0)-qe&255;return j+ne},i.prototype.writeIntBE=function(J,j,ne,me){J=+J,j>>>=0,me||R(this,J,j,ne,(me=Math.pow(2,8*ne-1))-1,-me);var De=ne-1,$e=1,qe=0;for(this[j+De]=255&J;0<=--De&&($e*=256);)J<0&&0===qe&&0!==this[j+De+1]&&(qe=1),this[j+De]=(J/$e|0)-qe&255;return j+ne},i.prototype.writeInt8=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,1,127,-128),this[j]=255&(J=J<0?255+J+1:J),j+1},i.prototype.writeInt16LE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,2,32767,-32768),this[j]=255&J,this[j+1]=J>>>8,j+2},i.prototype.writeInt16BE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,2,32767,-32768),this[j]=J>>>8,this[j+1]=255&J,j+2},i.prototype.writeInt32LE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,4,2147483647,-2147483648),this[j]=255&J,this[j+1]=J>>>8,this[j+2]=J>>>16,this[j+3]=J>>>24,j+4},i.prototype.writeInt32BE=function(J,j,ne){return J=+J,j>>>=0,ne||R(this,J,j,4,2147483647,-2147483648),this[j]=(J=J<0?4294967295+J+1:J)>>>24,this[j+1]=J>>>16,this[j+2]=J>>>8,this[j+3]=255&J,j+4},i.prototype.writeFloatLE=function(J,j,ne){return Z(this,J,j,!0,ne)},i.prototype.writeFloatBE=function(J,j,ne){return Z(this,J,j,!1,ne)},i.prototype.writeDoubleLE=function(J,j,ne){return re(this,J,j,!0,ne)},i.prototype.writeDoubleBE=function(J,j,ne){return re(this,J,j,!1,ne)},i.prototype.copy=function(J,j,ne,me){if(!i.isBuffer(J))throw new TypeError("argument should be a Buffer");if(ne=ne||0,me||0===me||(me=this.length),j>=J.length&&(j=J.length),(me=0<me&&me<ne?ne:me)===ne||0===J.length||0===this.length)return 0;if((j=j||0)<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length);var De=(me=J.length-j<me-ne?J.length-j+ne:me)-ne;if(this===J&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(j,ne,me);else if(this===J&&ne<j&&j<me)for(var $e=De-1;0<=$e;--$e)J[$e+j]=this[$e+ne];else Uint8Array.prototype.set.call(J,this.subarray(ne,me),j);return De},i.prototype.fill=function(J,j,ne,me){if("string"==typeof J){if("string"==typeof j?(me=j,j=0,ne=this.length):"string"==typeof ne&&(me=ne,ne=this.length),void 0!==me&&"string"!=typeof me)throw new TypeError("encoding must be a string");if("string"==typeof me&&!i.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var De;1===J.length&&(De=J.charCodeAt(0),("utf8"===me&&De<128||"latin1"===me)&&(J=De))}else"number"==typeof J?J&=255:"boolean"==typeof J&&(J=Number(J));if(j<0||this.length<j||this.length<ne)throw new RangeError("Out of range index");var $e;if(!(ne<=j))if(j>>>=0,ne=void 0===ne?this.length:ne>>>0,"number"==typeof(J=J||0))for($e=j;$e<ne;++$e)this[$e]=J;else{var qe=i.isBuffer(J)?J:i.from(J,me),ut=qe.length;if(0===ut)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for($e=0;$e<ne-j;++$e)this[$e+j]=qe[$e%ut]}return this};var q=/[^+/0-9A-Za-z-_]/g;function te(J,j){j=j||1/0;for(var ne,me=J.length,De=null,$e=[],qe=0;qe<me;++qe){if(55295<(ne=J.charCodeAt(qe))&&ne<57344){if(!De){if(56319<ne){-1<(j-=3)&&$e.push(239,191,189);continue}if(qe+1===me){-1<(j-=3)&&$e.push(239,191,189);continue}De=ne;continue}if(ne<56320){-1<(j-=3)&&$e.push(239,191,189),De=ne;continue}ne=65536+(De-55296<<10|ne-56320)}else De&&-1<(j-=3)&&$e.push(239,191,189);if(De=null,ne<128){if(--j<0)break;$e.push(ne)}else if(ne<2048){if((j-=2)<0)break;$e.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((j-=3)<0)break;$e.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;$e.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return $e}function X(J){return b.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(J))}function G(J,j,ne,me){for(var De=0;De<me&&!(De+ne>=j.length||De>=J.length);++De)j[De+ne]=J[De];return De}function Y(J,j){return J instanceof j||null!=J&&null!=J.constructor&&null!=J.constructor.name&&J.constructor.name===j.name}function le(J){return J!=J}var Ie=function(){for(var J="0123456789abcdef",j=new Array(256),ne=0;ne<16;++ne)for(var me=16*ne,De=0;De<16;++De)j[me+De]=J[ne]+J[De];return j}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,se,$){se.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,se,$){var v=o("../internals/is-object");se.exports=function(b){if(v(b)||null===b)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":75}],7:[function(f,se,$){var v=f("../internals/well-known-symbol"),b=f("../internals/object-create"),g=(f=f("../internals/object-define-property"),v("unscopables")),S=Array.prototype;null==S[g]&&f.f(S,g,{configurable:!0,value:b(null)}),se.exports=function(_){S[g][_]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,se,$){"use strict";var v=o("../internals/string-multibyte").charAt;se.exports=function(b,f,g){return f+(g?v(b,f).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,se,$){se.exports=function(v,b,f){if(v instanceof b)return v;throw TypeError("Incorrect "+(f?f+" ":"")+"invocation")}},{}],10:[function(o,se,$){var v=o("../internals/is-object");se.exports=function(b){if(v(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,se,$){se.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,se,$){"use strict";function v(re){return _(re)&&i(Z,a(re))}var b,f=O("../internals/array-buffer-native"),g=O("../internals/descriptors"),S=O("../internals/global"),_=O("../internals/is-object"),i=O("../internals/has"),a=O("../internals/classof"),l=O("../internals/create-non-enumerable-property"),u=O("../internals/redefine"),d=O("../internals/object-define-property").f,h=O("../internals/object-get-prototype-of"),m=O("../internals/object-set-prototype-of"),U=O("../internals/well-known-symbol"),p=(O=O("../internals/uid"),S.Int8Array),y=p&&p.prototype,D=(D=S.Uint8ClampedArray)&&D.prototype,V=p&&h(p),L=y&&h(y),P=Object.prototype,x=P.isPrototypeOf,A=(U=U("toStringTag"),O("TYPED_ARRAY_TAG")),R=f&&!!m&&"Opera"!==a(S.opera),Z=(O=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(b in Z)S[b]||(R=!1);if((!R||"function"!=typeof V||V===Function.prototype)&&(V=function(){throw TypeError("Incorrect invocation")},R))for(b in Z)S[b]&&m(S[b],V);if((!R||!L||L===P)&&(L=V.prototype,R))for(b in Z)S[b]&&m(S[b].prototype,L);if(R&&h(D)!==L&&m(D,L),g&&!i(L,U))for(b in O=!0,d(L,U,{get:function(){return _(this)?this[A]:void 0}}),Z)S[b]&&l(S[b],A,b);se.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:O&&A,aTypedArray:function(re){if(v(re))return re;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(re){if(m){if(x.call(V,re))return re}else for(var q in Z)if(i(Z,b)&&(q=S[q])&&(re===q||x.call(q,re)))return re;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(re,q,te){if(g){if(te)for(var X in Z)(X=S[X])&&i(X.prototype,re)&&delete X.prototype[re];L[re]&&!te||u(L,re,!te&&R&&y[re]||q)}},exportTypedArrayStaticMethod:function(re,q,te){var X,G;if(g){if(m){if(te)for(X in Z)(G=S[X])&&i(G,re)&&delete G[re];if(V[re]&&!te)return;try{return u(V,re,!te&&R&&p[re]||q)}catch{}}for(X in Z)!(G=S[X])||G[re]&&!te||u(G,re,q)}},isView:function(re){return"DataView"===(re=a(re))||i(Z,re)},isTypedArray:v,TypedArray:V,TypedArrayPrototype:L}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(ne,se,$){"use strict";function v(Ue){return[255&Ue]}function b(Ue){return[255&Ue,Ue>>8&255]}function f(Ue){return[255&Ue,Ue>>8&255,Ue>>16&255,Ue>>24&255]}function g(Ue){return Ue[3]<<24|Ue[2]<<16|Ue[1]<<8|Ue[0]}function S(Ue){return $e(Ue,23,4)}function _(Ue){return $e(Ue,52,8)}function i(Ue,nt){O(Ue[Y],nt,{get:function(){return q(this)[nt]}})}function a(Ot,nt,ft,st){if((ft=P(ft))+nt>(Ot=q(Ot)).byteLength)throw De(le);return Ot=q(Ot.buffer).bytes.slice(ft+=Ot.byteOffset,ft+nt),st?Ot:Ot.reverse()}function l(Ue,nt,Ye,st,Ze,ft){if((Ye=P(Ye))+nt>(Ue=q(Ue)).byteLength)throw De(le);for(var Ot=q(Ue.buffer).bytes,ar=Ye+Ue.byteOffset,Vt=st(+Ze),tr=0;tr<nt;tr++)Ot[ar+tr]=Vt[ft?tr:nt-tr-1]}var u=ne("../internals/global"),d=ne("../internals/descriptors"),h=ne("../internals/array-buffer-native"),m=ne("../internals/create-non-enumerable-property"),p=ne("../internals/redefine-all"),y=ne("../internals/fails"),D=ne("../internals/an-instance"),V=ne("../internals/to-integer"),L=ne("../internals/to-length"),P=ne("../internals/to-index"),x=ne("../internals/ieee754"),U=ne("../internals/object-get-prototype-of"),A=ne("../internals/object-set-prototype-of"),R=ne("../internals/object-get-own-property-names").f,O=ne("../internals/object-define-property").f,Z=ne("../internals/array-fill"),re=ne("../internals/set-to-string-tag"),q=(ne=ne("../internals/internal-state")).get,te=ne.set,X="ArrayBuffer",G="DataView",Y="prototype",le="Wrong index",Ie=u[X],J=Ie,j=u[G],me=(ne=j&&j[Y],Object.prototype),De=u.RangeError,$e=x.pack,qe=x.unpack;if(h){if(!y(function(){Ie(1)})||!y(function(){new Ie(-1)})||y(function(){return new Ie,new Ie(1.5),new Ie(NaN),Ie.name!=X})){u=(J=function(Ye){return D(this,J),new Ie(P(Ye))})[Y]=Ie[Y];for(var ut,He=R(Ie),ot=0;He.length>ot;)(ut=He[ot++])in J||m(J,ut,Ie[ut]);u.constructor=J}A&&U(ne)!==me&&A(ne,me),x=new j(new J(2));var at=ne.setInt8;x.setInt8(0,2147483648),x.setInt8(1,2147483649),!x.getInt8(0)&&x.getInt8(1)||p(ne,{setInt8:function(nt,Ye){at.call(this,nt,Ye<<24>>24)},setUint8:function(nt,Ye){at.call(this,nt,Ye<<24>>24)}},{unsafe:!0})}else J=function(Ue){D(this,J,X),Ue=P(Ue),te(this,{bytes:Z.call(new Array(Ue),0),byteLength:Ue}),d||(this.byteLength=Ue)},j=function(Ue,Ze,Ye){D(this,j,G),D(Ue,J,G);var st=q(Ue).byteLength;if((Ze=V(Ze))<0||st<Ze)throw De("Wrong offset");if(st<Ze+(Ye=void 0===Ye?st-Ze:L(Ye)))throw De("Wrong length");te(this,{buffer:Ue,byteLength:Ye,byteOffset:Ze}),d||(this.buffer=Ue,this.byteLength=Ye,this.byteOffset=Ze)},d&&(i(J,"byteLength"),i(j,"buffer"),i(j,"byteLength"),i(j,"byteOffset")),p(j[Y],{getInt8:function(Ue){return a(this,1,Ue)[0]<<24>>24},getUint8:function(Ue){return a(this,1,Ue)[0]},getInt16:function(Ue){return((Ue=a(this,2,Ue,1<arguments.length?arguments[1]:void 0))[1]<<8|Ue[0])<<16>>16},getUint16:function(Ue){return(Ue=a(this,2,Ue,1<arguments.length?arguments[1]:void 0))[1]<<8|Ue[0]},getInt32:function(Ue){return g(a(this,4,Ue,1<arguments.length?arguments[1]:void 0))},getUint32:function(Ue){return g(a(this,4,Ue,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Ue){return qe(a(this,4,Ue,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Ue){return qe(a(this,8,Ue,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Ue,nt){l(this,1,Ue,v,nt)},setUint8:function(Ue,nt){l(this,1,Ue,v,nt)},setInt16:function(Ue,nt){l(this,2,Ue,b,nt,2<arguments.length?arguments[2]:void 0)},setUint16:function(Ue,nt){l(this,2,Ue,b,nt,2<arguments.length?arguments[2]:void 0)},setInt32:function(Ue,nt){l(this,4,Ue,f,nt,2<arguments.length?arguments[2]:void 0)},setUint32:function(Ue,nt){l(this,4,Ue,f,nt,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Ue,nt){l(this,4,Ue,S,nt,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Ue,nt){l(this,8,Ue,_,nt,2<arguments.length?arguments[2]:void 0)}});re(J,X),re(j,G),se.exports={ArrayBuffer:J,DataView:j}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,se,$){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),f=o("../internals/to-length"),g=Math.min;se.exports=[].copyWithin||function(d,_){var i=v(this),a=f(i.length),l=b(d,a),u=b(_,a),h=g((void 0===(d=2<arguments.length?arguments[2]:void 0)?a:b(d,a))-u,a-l),m=1;for(u<l&&l<u+h&&(m=-1,u+=h-1,l+=h-1);0<h--;)u in i?i[l]=i[u]:delete i[l],l+=m,u+=m;return i}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,se,$){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),f=o("../internals/to-length");se.exports=function(g){for(var a,S=v(this),_=f(S.length),i=b(1<(a=arguments.length)?arguments[1]:void 0,_),l=void 0===(a=2<a?arguments[2]:void 0)?_:b(a,_);i<l;)S[i++]=g;return S}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(f,se,$){"use strict";var v=f("../internals/array-iteration").forEach,b=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),b=b("forEach"),f=f("forEach"),se.exports=b&&f?[].forEach:function(g){return v(this,g,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,se,$){"use strict";var v=o("../internals/function-bind-context"),b=o("../internals/to-object"),f=o("../internals/call-with-safe-iteration-closing"),g=o("../internals/is-array-iterator-method"),S=o("../internals/to-length"),_=o("../internals/create-property"),i=o("../internals/get-iterator-method");se.exports=function(D){var l,u,d,h,m,p,y=b(D),V=(D="function"==typeof this?this:Array,arguments.length),L=1<V?arguments[1]:void 0,P=void 0!==L,x=i(y),U=0;if(P&&(L=v(L,2<V?arguments[2]:void 0,2)),null==x||D==Array&&g(x))for(u=new D(l=S(y.length));U<l;U++)p=P?L(y[U],U):y[U],_(u,U,p);else for(m=(h=x.call(y)).next,u=new D;!(d=m.call(h)).done;U++)p=P?f(h,L,[d.value,U],!0):d.value,_(u,U,p);return u.length=U,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,se,$){function v(S){return function(_,i,a){var l,u=b(_),d=f(u.length),h=g(a,d);if(S&&i!=i){for(;h<d;)if((l=u[h++])!=l)return!0}else for(;h<d;h++)if((S||h in u)&&u[h]===i)return S||h||0;return!S&&-1}}var b=o("../internals/to-indexed-object"),f=o("../internals/to-length"),g=o("../internals/to-absolute-index");se.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,se,$){function v(a){var l=1==a,u=2==a,d=3==a,h=4==a,m=6==a,p=5==a||m;return function(y,D,V,L){for(var P,x,U=g(y),A=f(U),R=b(D,V,3),O=S(A.length),Z=0,re=(D=L||_,l?D(y,O):u?D(y,0):void 0);Z<O;Z++)if((p||Z in A)&&(x=R(P=A[Z],Z,U),a))if(l)re[Z]=x;else if(x)switch(a){case 3:return!0;case 5:return P;case 6:return Z;case 2:i.call(re,P)}else if(h)return!1;return m?-1:d||h?h:re}}var b=o("../internals/function-bind-context"),f=o("../internals/indexed-object"),g=o("../internals/to-object"),S=o("../internals/to-length"),_=o("../internals/array-species-create"),i=[].push;se.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(a,se,$){"use strict";var v=a("../internals/to-indexed-object"),b=a("../internals/to-integer"),f=a("../internals/to-length"),i=a("../internals/array-method-is-strict"),g=(a=a("../internals/array-method-uses-to-length"),Math.min),S=[].lastIndexOf,_=!!S&&1/[1].lastIndexOf(1,-0)<0;i=i("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0}),se.exports=!_&&i&&a?S:function(l){if(_)return S.apply(this,arguments)||0;var u=v(this),d=f(u.length),h=d-1;for((h=1<arguments.length?g(h,b(arguments[1])):h)<0&&(h=d+h);0<=h;h--)if(h in u&&u[h]===l)return h||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,se,$){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),f=o("../internals/engine-v8-version"),g=b("species");se.exports=function(S){return 51<=f||!v(function(){var _=[];return(_.constructor={})[g]=function(){return{foo:1}},1!==_[S](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,se,$){"use strict";var v=o("../internals/fails");se.exports=function(b,f){var g=[][b];return!!g&&v(function(){g.call(null,f||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,se,$){function v(i){throw i}var b=o("../internals/descriptors"),f=o("../internals/fails"),g=o("../internals/has"),S=Object.defineProperty,_={};se.exports=function(i,a){var l,u,d,h;return g(_,i)?_[i]:(l=[][i],u=!!g(a=a||{},"ACCESSORS")&&a.ACCESSORS,d=g(a,0)?a[0]:v,h=g(a,1)?a[1]:void 0,_[i]=!!l&&!f(function(){if(u&&!b)return!0;var m={length:-1};u?S(m,1,{enumerable:!0,get:v}):m[1]=1,l.call(m,d,h)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,se,$){function v(_){return function(i,a,l,u){b(a);var d=f(i),h=g(d),m=S(d.length),p=_?m-1:0,y=_?-1:1;if(l<2)for(;;){if(p in h){u=h[p],p+=y;break}if(p+=y,_?p<0:m<=p)throw TypeError("Reduce of empty array with no initial value")}for(;_?0<=p:p<m;p+=y)p in h&&(u=a(u,h[p],p,d));return u}}var b=o("../internals/a-function"),f=o("../internals/to-object"),g=o("../internals/indexed-object"),S=o("../internals/to-length");se.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,se,$){var v=o("../internals/is-object"),b=o("../internals/is-array"),f=o("../internals/well-known-symbol")("species");se.exports=function(g,S){var _;return new(void 0===(_=b(g)&&("function"==typeof(_=g.constructor)&&(_===Array||b(_.prototype))||v(_)&&null===(_=_[f]))?void 0:_)?Array:_)(0===S?0:S)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,se,$){var v=o("../internals/an-object");se.exports=function(b,f,g,S){try{return S?f(v(g)[0],g[1]):f(g)}catch(_){throw void 0!==(S=b.return)&&v(S.call(b)),_}}},{"../internals/an-object":10}],27:[function(o,se,$){var v=o("../internals/well-known-symbol")("iterator"),b=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){b=!0}};g[v]=function(){return this},Array.from(g,function(){throw 2})}catch{}se.exports=function(S,_){if(!_&&!b)return!1;var i=!1;try{var a={};a[v]=function(){return{next:function(){return{done:i=!0}}}},S(a)}catch{}return i}},{"../internals/well-known-symbol":150}],28:[function(o,se,$){var v={}.toString;se.exports=function(b){return v.call(b).slice(8,-1)}},{}],29:[function(o,se,$){var v=o("../internals/to-string-tag-support"),b=o("../internals/classof-raw"),f=o("../internals/well-known-symbol")("toStringTag"),g="Arguments"==b(function(){return arguments}());se.exports=v?b:function(S){var _;return void 0===S?"Undefined":null===S?"Null":"string"==typeof(_=function(i,a){try{return i[a]}catch{}}(S=Object(S),f))?_:g?b(S):"Object"==(_=b(S))&&"function"==typeof S.callee?"Arguments":_}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(d,se,$){"use strict";var v=d("../internals/object-define-property").f,b=d("../internals/object-create"),f=d("../internals/redefine-all"),g=d("../internals/function-bind-context"),S=d("../internals/an-instance"),_=d("../internals/iterate"),i=d("../internals/define-iterator"),a=d("../internals/set-species"),l=d("../internals/descriptors"),u=d("../internals/internal-metadata").fastKey,h=(d=d("../internals/internal-state")).set,m=d.getterFor;se.exports={getConstructor:function(p,y,D,V){function L(A,R,O){var Z,re=U(A),q=P(A,R);return q?q.value=O:(re.last=q={index:Z=u(R,!0),key:R,value:O,previous:R=re.last,next:void 0,removed:!1},re.first||(re.first=q),R&&(R.next=q),l?re.size++:A.size++,"F"!==Z&&(re.index[Z]=q)),A}function P(Z,R){Z=U(Z);var O,re=u(R);if("F"!==re)return Z.index[re];for(O=Z.first;O;O=O.next)if(O.key==R)return O}var x=p(function(A,R){S(A,x,y),h(A,{type:y,index:b(null),first:void 0,last:void 0,size:0}),l||(A.size=0),null!=R&&_(R,A[V],A,D)}),U=m(y);return f(x.prototype,{clear:function(){for(var A=U(this),R=A.index,O=A.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete R[O.index],O=O.next;A.first=A.last=void 0,l?A.size=0:this.size=0},delete:function(re){var R,O,Z=U(this);return(re=P(this,re))&&(R=re.next,O=re.previous,delete Z.index[re.index],re.removed=!0,O&&(O.next=R),R&&(R.previous=O),Z.first==re&&(Z.first=R),Z.last==re&&(Z.last=O),l?Z.size--:this.size--),!!re},forEach:function(A){for(var R,O=U(this),Z=g(A,1<arguments.length?arguments[1]:void 0,3);R=R?R.next:O.first;)for(Z(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(A){return!!P(this,A)}}),f(x.prototype,D?{get:function(A){return(A=P(this,A))&&A.value},set:function(A,R){return L(this,0===A?0:A,R)}}:{add:function(A){return L(this,A=0===A?0:A,A)}}),l&&v(x.prototype,"size",{get:function(){return U(this).size}}),x},setStrong:function(p,y,D){var V=y+" Iterator",L=m(y),P=m(V);i(p,y,function(x,U){h(this,{type:V,target:x,state:L(x),kind:U,last:void 0})},function(){for(var x=P(this),U=x.kind,A=x.last;A&&A.removed;)A=A.previous;return x.target&&(x.last=A=A?A.next:x.state.first)?"keys"==U?{value:A.key,done:!1}:"values"==U?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:x.target=void 0,done:!0}},D?"entries":"values",!D,!0),a(y)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(h,se,$){"use strict";function v(L){return L.frozen||(L.frozen=new b)}function b(){this.entries=[]}function f(L,P){return y(L.entries,function(x){return x[0]===P})}var g=h("../internals/redefine-all"),S=h("../internals/internal-metadata").getWeakData,_=h("../internals/an-object"),i=h("../internals/is-object"),a=h("../internals/an-instance"),l=h("../internals/iterate"),u=h("../internals/array-iteration"),d=h("../internals/has"),m=(h=h("../internals/internal-state")).set,p=h.getterFor,y=u.find,D=u.findIndex,V=0;b.prototype={get:function(L){if(L=f(this,L))return L[1]},has:function(L){return!!f(this,L)},set:function(L,P){var x=f(this,L);x?x[1]=P:this.entries.push([L,P])},delete:function(L){var P=D(this.entries,function(x){return x[0]===L});return~P&&this.entries.splice(P,1),!!~P}},se.exports={getConstructor:function(L,P,x,U){function A(Z,re,q){var te=O(Z),X=S(_(re),!0);return!0===X?v(te).set(re,q):X[te.id]=q,Z}var R=L(function(Z,re){a(Z,R,P),m(Z,{type:P,id:V++,frozen:void 0}),null!=re&&l(re,Z[U],Z,x)}),O=p(P);return g(R.prototype,{delete:function(Z){var re,q=O(this);return!!i(Z)&&(!0===(re=S(Z))?v(q).delete(Z):re&&d(re,q.id)&&delete re[q.id])},has:function(Z){var re,q=O(this);return!!i(Z)&&(!0===(re=S(Z))?v(q).has(Z):re&&d(re,q.id))}}),g(R.prototype,x?{get:function(Z){var re,q=O(this);if(i(Z))return!0===(re=S(Z))?v(q).get(Z):re?re[q.id]:void 0},set:function(Z,re){return A(this,Z,re)}}:{add:function(Z){return A(this,Z,!0)}}),R}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/global"),f=o("../internals/is-forced"),g=o("../internals/redefine"),S=o("../internals/internal-metadata"),_=o("../internals/iterate"),i=o("../internals/an-instance"),a=o("../internals/is-object"),l=o("../internals/fails"),u=o("../internals/check-correctness-of-iteration"),d=o("../internals/set-to-string-tag"),h=o("../internals/inherit-if-required");se.exports=function(m,p,y){function D(X){var G=re[X];g(re,X,"add"==X?function(Y){return G.call(this,0===Y?0:Y),this}:"delete"==X?function(Y){return!(R&&!a(Y))&&G.call(this,0===Y?0:Y)}:"get"==X?function(Y){return R&&!a(Y)?void 0:G.call(this,0===Y?0:Y)}:"has"==X?function(Y){return!(R&&!a(Y))&&G.call(this,0===Y?0:Y)}:function(Y,le){return G.call(this,0===Y?0:Y,le),this})}var V,L,P,x,U,A=-1!==m.indexOf("Map"),R=-1!==m.indexOf("Weak"),O=A?"set":"add",Z=b[m],re=Z&&Z.prototype,q=Z,te={};return f(m,"function"!=typeof Z||!(R||re.forEach&&!l(function(){(new Z).entries().next()})))?(q=y.getConstructor(p,m,A,O),S.REQUIRED=!0):f(m,!0)&&(L=(V=new q)[O](R?{}:-0,1)!=V,P=l(function(){V.has(1)}),x=u(function(X){new Z(X)}),U=!R&&l(function(){for(var X=new Z,G=5;G--;)X[O](G,G);return!X.has(-0)}),x||(((q=p(function(X,G){return i(X,q,m),X=h(new Z,X,q),null!=G&&_(G,X[O],X,A),X})).prototype=re).constructor=q),(P||U)&&(D("delete"),D("has"),A&&D("get")),(U||L)&&D(O),R&&re.clear&&delete re.clear),te[m]=q,v({global:!0,forced:q!=Z},te),d(q,m),R||y.setStrong(q,m,A),q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,se,$){var v=o("../internals/has"),b=o("../internals/own-keys"),f=o("../internals/object-get-own-property-descriptor"),g=o("../internals/object-define-property");se.exports=function(S,_){for(var i=b(_),a=g.f,l=f.f,u=0;u<i.length;u++){var d=i[u];v(S,d)||a(S,d,l(_,d))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,se,$){var v=o("../internals/well-known-symbol")("match");se.exports=function(b){var f=/./;try{"/./"[b](f)}catch{try{return f[v]=!1,"/./"[b](f)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,se,$){o=o("../internals/fails"),se.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,se,$){var v=o("../internals/require-object-coercible"),b=/"/g;se.exports=function(i,g,S,_){i=String(v(i));var a="<"+g;return""!==S&&(a+=" "+S+'="'+String(_).replace(b,"&quot;")+'"'),a+">"+i+"</"+g+">"}},{"../internals/require-object-coercible":115}],37:[function(o,se,$){"use strict";function v(){return this}var b=o("../internals/iterators-core").IteratorPrototype,f=o("../internals/object-create"),g=o("../internals/create-property-descriptor"),S=o("../internals/set-to-string-tag"),_=o("../internals/iterators");se.exports=function(i,a,l){return a+=" Iterator",i.prototype=f(b,{next:g(1,l)}),S(i,a,!1,!0),_[a]=v,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,se,$){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),f=o("../internals/create-property-descriptor");se.exports=v?function(g,S,_){return b.f(g,S,f(1,_))}:function(g,S,_){return g[S]=_,g}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,se,$){se.exports=function(v,b){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:b}}},{}],40:[function(o,se,$){"use strict";var v=o("../internals/to-primitive"),b=o("../internals/object-define-property"),f=o("../internals/create-property-descriptor");se.exports=function(g,S,_){(S=v(S))in g?b.f(g,S,f(0,_)):g[S]=_}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(h,se,$){"use strict";function v(){return this}var b=h("../internals/export"),f=h("../internals/create-iterator-constructor"),g=h("../internals/object-get-prototype-of"),S=h("../internals/object-set-prototype-of"),_=h("../internals/set-to-string-tag"),i=h("../internals/create-non-enumerable-property"),a=h("../internals/redefine"),l=h("../internals/well-known-symbol"),u=h("../internals/is-pure"),d=h("../internals/iterators"),m=(h=h("../internals/iterators-core")).IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,y=l("iterator"),D="values",V="entries";se.exports=function(L,P,x,te,A,R,O){function Z(J){if(J===A&&le)return le;if(!p&&J in G)return G[J];switch(J){case"keys":case D:case V:return function(){return new x(this,J)}}return function(){return new x(this)}}f(x,P,te),te=P+" Iterator";var re,q,X=!1,G=L.prototype,Y=G[y]||G["@@iterator"]||A&&G[A],le=!p&&Y||Z(A),Ie="Array"==P&&G.entries||Y;if(Ie&&(Ie=g(Ie.call(new L)),m!==Object.prototype&&Ie.next&&(u||g(Ie)===m||(S?S(Ie,m):"function"!=typeof Ie[y]&&i(Ie,y,v)),_(Ie,te,!0,!0),u&&(d[te]=v))),A==D&&Y&&Y.name!==D&&(X=!0,le=function(){return Y.call(this)}),u&&!O||G[y]===le||i(G,y,le),d[P]=le,A)if(re={values:Z(D),keys:R?le:Z("keys"),entries:Z(V)},O)for(q in re)!p&&!X&&q in G||a(G,q,re[q]);else b({target:P,proto:!0,forced:p||X},re);return re}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,se,$){var v=o("../internals/path"),b=o("../internals/has"),f=o("../internals/well-known-symbol-wrapped"),g=o("../internals/object-define-property").f;se.exports=function(S){var _=v.Symbol||(v.Symbol={});b(_,S)||g(_,S,{value:f.f(S)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,se,$){o=o("../internals/fails"),se.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(b,se,$){var v=b("../internals/global"),f=(b=b("../internals/is-object"),v.document),g=b(f)&&b(f.createElement);se.exports=function(S){return g?f.createElement(S):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,se,$){se.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,se,$){o=o("../internals/engine-user-agent"),se.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,se,$){o=o("../internals/get-built-in"),se.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(f,se,$){var v,b,g=f("../internals/global");f=f("../internals/engine-user-agent"),(g=(g=(g=g.process)&&g.versions)&&g.v8)?b=(v=g.split("."))[0]+v[1]:f&&(!(v=f.match(/Edge\/(\d+)/))||74<=v[1])&&(v=f.match(/Chrome\/(\d+)/))&&(b=v[1]),se.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,se,$){se.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,se,$){var v=o("../internals/global"),b=o("../internals/object-get-own-property-descriptor").f,f=o("../internals/create-non-enumerable-property"),g=o("../internals/redefine"),S=o("../internals/set-global"),_=o("../internals/copy-constructor-properties"),i=o("../internals/is-forced");se.exports=function(a,l){var u,d,h,m=a.target,p=a.global,y=a.stat,D=p?v:y?v[m]||S(m,{}):(v[m]||{}).prototype;if(D)for(u in l){if(d=l[u],h=a.noTargetGet?(h=b(D,u))&&h.value:D[u],!i(p?u:m+(y?".":"#")+u,a.forced)&&void 0!==h){if(typeof d==typeof h)continue;_(d,h)}(a.sham||h&&h.sham)&&f(d,"sham",!0),g(D,u,d,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,se,$){se.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(l,se,$){"use strict";l("../modules/es.regexp.exec");var v=l("../internals/redefine"),b=l("../internals/fails"),f=l("../internals/well-known-symbol"),g=l("../internals/regexp-exec"),S=l("../internals/create-non-enumerable-property"),_=f("species"),i=!b(function(){var h=/./;return h.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(h,"$<a>")}),a="$0"==="a".replace(/./,"$0"),u=!!/./[l=f("replace")]&&""===/./[l]("a","$0"),d=!b(function(){var h=(m=/(?:)/).exec,m=(m.exec=function(){return h.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});se.exports=function(h,m,p,y){var D,V,L=f(h),P=!b(function(){var U={};return U[L]=function(){return 7},7!=""[h](U)}),x=P&&!b(function(){var U=!1,A=/a/;return"split"===h&&((A={constructor:{}}).constructor[_]=function(){return A},A.flags="",A[L]=/./[L]),A.exec=function(){return U=!0,null},A[L](""),!U});P&&x&&("replace"!==h||i&&a&&!u)&&("split"!==h||d)||(D=/./[L],p=(x=p(L,""[h],function(U,A,R,O,Z){return A.exec===g?P&&!Z?{done:!0,value:D.call(A,R,O)}:{done:!0,value:U.call(R,A,O)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],V=x[1],v(String.prototype,h,p),v(RegExp.prototype,L,2==m?function(U,A){return V.call(U,this,A)}:function(U){return V.call(U,this)})),y&&S(RegExp.prototype[L],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,se,$){"use strict";var b=o("../internals/is-array"),f=o("../internals/to-length"),g=o("../internals/function-bind-context");se.exports=function v(S,_,i,a,l,u,d,h){for(var m,p=l,y=0,D=!!d&&g(d,h,3);y<a;){if(y in i){if(m=D?D(i[y],y,_):i[y],0<u&&b(m))p=v(S,_,m,f(m.length),p,u-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");S[p]=m}p++}y++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,se,$){o=o("../internals/fails"),se.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,se,$){var v=o("../internals/a-function");se.exports=function(b,f,g){if(v(b),void 0===f)return b;switch(g){case 0:return function(){return b.call(f)};case 1:return function(S){return b.call(f,S)};case 2:return function(S,_){return b.call(f,S,_)};case 3:return function(S,_,i){return b.call(f,S,_,i)}}return function(){return b.apply(f,arguments)}}},{"../internals/a-function":5}],56:[function(o,se,$){"use strict";var v=o("../internals/a-function"),b=o("../internals/is-object"),f=[].slice,g={};se.exports=Function.bind||function(S){var _=v(this),i=f.call(arguments,1),a=function(){var l=i.concat(f.call(arguments));if(this instanceof a){var u=_,d=l.length,h=l;if(!(d in g)){for(var m=[],p=0;p<d;p++)m[p]="a["+p+"]";g[d]=Function("C,a","return new C("+m.join(",")+")")}return g[d](u,h)}return _.apply(S,l)};return b(_.prototype)&&(a.prototype=_.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,se,$){function v(g){return"function"==typeof g?g:void 0}var b=o("../internals/path"),f=o("../internals/global");se.exports=function(g,S){return arguments.length<2?v(b[g])||v(f[g]):b[g]&&b[g][S]||f[g]&&f[g][S]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,se,$){var v=o("../internals/classof"),b=o("../internals/iterators"),f=o("../internals/well-known-symbol")("iterator");se.exports=function(g){if(null!=g)return g[f]||g["@@iterator"]||b[v(g)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,se,$){var v=o("../internals/an-object"),b=o("../internals/get-iterator-method");se.exports=function(f){var g=b(f);if("function"!=typeof g)throw TypeError(String(f)+" is not iterable");return v(g.call(f))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,se,$){(function(v){function b(f){return f&&f.Math==Math&&f}se.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,se,$){var v={}.hasOwnProperty;se.exports=function(b,f){return v.call(b,f)}},{}],62:[function(o,se,$){se.exports={}},{}],63:[function(o,se,$){var v=o("../internals/global");se.exports=function(b,f){var g=v.console;g&&g.error&&(1===arguments.length?g.error(b):g.error(b,f))}},{"../internals/global":60}],64:[function(o,se,$){o=o("../internals/get-built-in"),se.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,se,$){var v=o("../internals/descriptors"),b=o("../internals/fails"),f=o("../internals/document-create-element");se.exports=!v&&!b(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,se,$){var v=Math.abs,b=Math.pow,f=Math.floor,g=Math.log,S=Math.LN2;se.exports={pack:function(_,i,p){var l,u,d,h=new Array(p),m=8*p-i-1,y=(p=(1<<m)-1)>>1,D=23===i?b(2,-24)-b(2,-77):0,V=_<0||0===_&&1/_<0?1:0,L=0;for((_=v(_))!=_||_===1/0?(u=_!=_?1:0,l=p):(l=f(g(_)/S),_*(d=b(2,-l))<1&&(l--,d*=2),2<=(_+=1<=l+y?D/d:D*b(2,1-y))*d&&(l++,d/=2),p<=l+y?(u=0,l=p):1<=l+y?(u=(_*d-1)*b(2,i),l+=y):(u=_*b(2,y-1)*b(2,i),l=0));8<=i;h[L++]=255&u,u/=256,i-=8);for(l=l<<i|u,m+=i;0<m;h[L++]=255&l,l/=256,m-=8);return h[--L]|=128*V,h},unpack:function(_,i){var a,p,l=_.length,u=(1<<(p=8*l-i-1))-1,d=u>>1,h=p-7,m=l-1,y=127&(p=_[m--]);for(p>>=7;0<h;y=256*y+_[m],m--,h-=8);for(a=y&(1<<-h)-1,y>>=-h,h+=i;0<h;a=256*a+_[m],m--,h-=8);if(0===y)y=1-d;else{if(y===u)return a?NaN:p?-1/0:1/0;a+=b(2,i),y-=d}return(p?-1:1)*a*b(2,y-i)}}},{}],67:[function(o,se,$){var v=o("../internals/fails"),b=o("../internals/classof-raw"),f="".split;se.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return"String"==b(g)?f.call(g,""):Object(g)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,se,$){var v=o("../internals/is-object"),b=o("../internals/object-set-prototype-of");se.exports=function(f,g,S){return b&&"function"==typeof(g=g.constructor)&&g!==S&&v(g=g.prototype)&&g!==S.prototype&&b(f,g),f}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,se,$){v=v("../internals/shared-store");var b=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(f){return b.call(f)}),se.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,se,$){function v(h){S(h,a,{value:{objectID:"O"+ ++l,weakData:{}}})}var b=o("../internals/hidden-keys"),f=o("../internals/is-object"),g=o("../internals/has"),S=o("../internals/object-define-property").f,_=o("../internals/uid"),i=o("../internals/freezing"),a=_("meta"),l=0,u=Object.isExtensible||function(){return!0},d=se.exports={REQUIRED:!1,fastKey:function(h,m){if(!f(h))return"symbol"==typeof h?h:("string"==typeof h?"S":"P")+h;if(!g(h,a)){if(!u(h))return"F";if(!m)return"E";v(h)}return h[a].objectID},getWeakData:function(h,m){if(!g(h,a)){if(!u(h))return!0;if(!m)return!1;v(h)}return h[a].weakData},onFreeze:function(h){return i&&d.REQUIRED&&u(h)&&!g(h,a)&&v(h),h}};b[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(p,se,$){var v,b,f,g,S,_,i,a,l=p("../internals/native-weak-map"),y=p("../internals/global"),u=p("../internals/is-object"),d=p("../internals/create-non-enumerable-property"),h=p("../internals/has"),m=p("../internals/shared-key");p=p("../internals/hidden-keys"),y=y.WeakMap,i=l?(v=new y,b=v.get,f=v.has,g=v.set,S=function(D,V){return g.call(v,D,V),V},_=function(D){return b.call(v,D)||{}},function(D){return f.call(v,D)}):(p[a=m("state")]=!0,S=function(D,V){return d(D,a,V),V},_=function(D){return h(D,a)?D[a]:{}},function(D){return h(D,a)}),se.exports={set:S,get:_,has:i,enforce:function(D){return i(D)?_(D):S(D,{})},getterFor:function(D){return function(V){if(u(V)&&(V=_(V)).type===D)return V;throw TypeError("Incompatible receiver, "+D+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,se,$){var v=o("../internals/well-known-symbol"),b=o("../internals/iterators"),f=v("iterator"),g=Array.prototype;se.exports=function(S){return void 0!==S&&(b.Array===S||g[f]===S)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,se,$){var v=o("../internals/classof-raw");se.exports=Array.isArray||function(b){return"Array"==v(b)}},{"../internals/classof-raw":28}],74:[function(o,se,$){function v(a,l){return(a=S[g(a)])==i||a!=_&&("function"==typeof l?b(l):!!l)}var b=o("../internals/fails"),f=/#|\.prototype\./,g=v.normalize=function(a){return String(a).replace(f,".").toLowerCase()},S=v.data={},_=v.NATIVE="N",i=v.POLYFILL="P";se.exports=v},{"../internals/fails":51}],75:[function(o,se,$){se.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,se,$){se.exports=!1},{}],77:[function(o,se,$){var v=o("../internals/is-object"),b=o("../internals/classof-raw"),f=o("../internals/well-known-symbol")("match");se.exports=function(g){var S;return v(g)&&(void 0!==(S=g[f])?!!S:"RegExp"==b(g))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,se,$){function v(a,l){this.stopped=a,this.result=l}var b=o("../internals/an-object"),f=o("../internals/is-array-iterator-method"),g=o("../internals/to-length"),S=o("../internals/function-bind-context"),_=o("../internals/get-iterator-method"),i=o("../internals/call-with-safe-iteration-closing");(se.exports=function(a,l,u,d,h){var m,p,y,D,V,L,P=S(l,u,d?2:1);if(h)m=a;else{if("function"!=typeof(l=_(a)))throw TypeError("Target is not iterable");if(f(l)){for(p=0,y=g(a.length);p<y;p++)if((D=d?P(b(L=a[p])[0],L[1]):P(a[p]))&&D instanceof v)return D;return new v(!1)}m=l.call(a)}for(V=m.next;!(L=V.call(m)).done;)if("object"==typeof(D=i(m,P,L.value,d))&&D&&D instanceof v)return D;return new v(!1)}).stop=function(a){return new v(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(_,se,$){"use strict";var v,b,f=_("../internals/object-get-prototype-of"),g=_("../internals/create-non-enumerable-property"),S=_("../internals/has"),i=_("../internals/well-known-symbol"),a=(_=_("../internals/is-pure"),i=i("iterator"),!1);[].keys&&("next"in(b=[].keys())?(f=f(f(b)))!==Object.prototype&&(v=f):a=!0),null==v&&(v={}),_||S(v,i)||g(v,i,function(){return this}),se.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,se,$){se.exports={}},{}],81:[function(o,se,$){se.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(d,se,$){var v,b,f,g,S,_,i,a,l=d("../internals/global"),V=d("../internals/object-get-own-property-descriptor").f,D=d("../internals/classof-raw"),u=d("../internals/task").set,h=(d=d("../internals/engine-is-ios"),l.MutationObserver||l.WebKitMutationObserver),m=l.process,p=l.Promise,y="process"==D(m);D=V(l,"queueMicrotask"),(V=D&&D.value)||(v=function(){var L,P;for(y&&(L=m.domain)&&L.exit();b;){P=b.fn,b=b.next;try{P()}catch(x){throw b?g():f=void 0,x}}f=void 0,L&&L.enter()},g=y?function(){m.nextTick(v)}:h&&!d?(S=!0,_=document.createTextNode(""),new h(v).observe(_,{characterData:!0}),function(){_.data=S=!S}):p&&p.resolve?(i=p.resolve(void 0),a=i.then,function(){a.call(i,v)}):function(){u.call(l,v)}),se.exports=V||function(L){L={fn:L,next:void 0},f&&(f.next=L),b||(b=L,g()),f=L}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,se,$){o=o("../internals/global"),se.exports=o.Promise},{"../internals/global":60}],84:[function(o,se,$){o=o("../internals/fails"),se.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,se,$){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),f=o("../internals/is-pure"),g=b("iterator");se.exports=!v(function(){var S=new URL("b?a=1&b=2&c=3","http://a"),_=S.searchParams,i="";return S.pathname="c%20d",_.forEach(function(a,l){_.delete("b"),i+=l+a}),f&&!S.toJSON||!_.sort||"http://a/c%20d?a=1&c=3"!==S.href||"3"!==_.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!_[g]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,se,$){var b=v("../internals/global");v=v("../internals/inspect-source"),se.exports="function"==typeof(b=b.WeakMap)&&/native code/.test(v(b))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,se,$){"use strict";function v(f){var g,S;this.promise=new f(function(_,i){if(void 0!==g||void 0!==S)throw TypeError("Bad Promise constructor");g=_,S=i}),this.resolve=b(g),this.reject=b(S)}var b=o("../internals/a-function");se.exports.f=function(f){return new v(f)}},{"../internals/a-function":5}],88:[function(o,se,$){var v=o("../internals/is-regexp");se.exports=function(b){if(v(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":77}],89:[function(o,se,$){var v=o("../internals/global").isFinite;se.exports=Number.isFinite||function(b){return"number"==typeof b&&v(b)}},{"../internals/global":60}],90:[function(o,se,$){"use strict";var v=o("../internals/descriptors"),b=o("../internals/fails"),f=o("../internals/object-keys"),g=o("../internals/object-get-own-property-symbols"),S=o("../internals/object-property-is-enumerable"),_=o("../internals/to-object"),i=o("../internals/indexed-object"),a=Object.assign,l=Object.defineProperty;se.exports=!a||b(function(){var u,d,h,m;return!(!v||1===a({b:1},a(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(d={},m="abcdefghijklmnopqrst",(u={})[h=Symbol()]=7,m.split("").forEach(function(p){d[p]=p}),7!=a({},u)[h]||f(a({},d)).join("")!=m)})?function(u,d){for(var h=_(u),m=arguments.length,p=1,y=g.f,D=S.f;p<m;)for(var V,L=i(arguments[p++]),P=y?f(L).concat(y(L)):f(L),x=P.length,U=0;U<x;)V=P[U++],v&&!D.call(L,V)||(h[V]=L[V]);return h}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(l,se,$){function v(){}var b,f=l("../internals/an-object"),g=l("../internals/object-define-properties"),S=l("../internals/enum-bug-keys"),_=l("../internals/hidden-keys"),i=l("../internals/html"),a=l("../internals/document-create-element"),u=(l=l("../internals/shared-key"),"prototype"),d="script",h=l("IE_PROTO"),m=function(y){return"<"+d+">"+y+"</"+d+">"},p=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}p=b?((y=b).write(m("")),y.close(),D=y.parentWindow.Object,y=null,D):(y=a("iframe"),D="java"+d+":",y.style.display="none",i.appendChild(y),y.src=String(D),(D=y.contentWindow.document).open(),D.write(m("document.F=Object")),D.close(),D.F);for(var y,D,V=S.length;V--;)delete p[u][S[V]];return p()};_[h]=!0,se.exports=Object.create||function(y,D){var V;return null!==y?(v[u]=f(y),V=new v,v[u]=null,V[h]=y):V=p(),void 0===D?V:g(V,D)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,se,$){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),f=o("../internals/an-object"),g=o("../internals/object-keys");se.exports=v?Object.defineProperties:function(S,_){f(S);for(var i,a=g(_),l=a.length,u=0;u<l;)b.f(S,i=a[u++],_[i]);return S}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,se,$){var v=o("../internals/descriptors"),b=o("../internals/ie8-dom-define"),f=o("../internals/an-object"),g=o("../internals/to-primitive"),S=Object.defineProperty;$.f=v?S:function(_,i,a){if(f(_),i=g(i,!0),f(a),b)try{return S(_,i,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(_[i]=a.value),_}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,se,$){var v=o("../internals/descriptors"),b=o("../internals/object-property-is-enumerable"),f=o("../internals/create-property-descriptor"),g=o("../internals/to-indexed-object"),S=o("../internals/to-primitive"),_=o("../internals/has"),i=o("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;$.f=v?a:function(l,u){if(l=g(l),u=S(u,!0),i)try{return a(l,u)}catch{}if(_(l,u))return f(!b.f.call(l,u),l[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,se,$){var v=o("../internals/to-indexed-object"),b=o("../internals/object-get-own-property-names").f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];se.exports.f=function(S){if(!g||"[object Window]"!=f.call(S))return b(v(S));try{return b(S)}catch{return g.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,se,$){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys").concat("length","prototype");$.f=Object.getOwnPropertyNames||function(f){return v(f,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,se,$){$.f=Object.getOwnPropertySymbols},{}],98:[function(g,se,$){var v=g("../internals/has"),b=g("../internals/to-object"),f=g("../internals/shared-key"),S=(g=g("../internals/correct-prototype-getter"),f("IE_PROTO")),_=Object.prototype;se.exports=g?Object.getPrototypeOf:function(i){return i=b(i),v(i,S)?i[S]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?_:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,se,$){var v=o("../internals/has"),b=o("../internals/to-indexed-object"),f=o("../internals/array-includes").indexOf,g=o("../internals/hidden-keys");se.exports=function(S,_){var i,a=b(S),l=0,u=[];for(i in a)!v(g,i)&&v(a,i)&&u.push(i);for(;_.length>l;)!v(a,i=_[l++])||~f(u,i)||u.push(i);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,se,$){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys");se.exports=Object.keys||function(f){return v(f,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,se,$){"use strict";var v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,f=b&&!v.call({1:2},1);$.f=f?function(g){return!!(g=b(this,g))&&g.enumerable}:v},{}],102:[function(o,se,$){var v=o("../internals/an-object"),b=o("../internals/a-possible-prototype");se.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,g=!1,S={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(S,[]),g=S instanceof Array}catch{}return function(_,i){return v(_),b(i),g?f.call(_,i):_.__proto__=i,_}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,se,$){function v(_){return function(i){for(var a,l=g(i),u=f(l),d=u.length,h=0,m=[];h<d;)a=u[h++],b&&!S.call(l,a)||m.push(_?[a,l[a]]:l[a]);return m}}var b=o("../internals/descriptors"),f=o("../internals/object-keys"),g=o("../internals/to-indexed-object"),S=o("../internals/object-property-is-enumerable").f;se.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,se,$){"use strict";var v=o("../internals/to-string-tag-support"),b=o("../internals/classof");se.exports=v?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,se,$){var v=o("../internals/get-built-in"),b=o("../internals/object-get-own-property-names"),f=o("../internals/object-get-own-property-symbols"),g=o("../internals/an-object");se.exports=v("Reflect","ownKeys")||function(S){var _=b.f(g(S)),i=f.f;return i?_.concat(i(S)):_}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,se,$){o=o("../internals/global"),se.exports=o},{"../internals/global":60}],107:[function(o,se,$){se.exports=function(v){try{return{error:!1,value:v()}}catch(b){return{error:!0,value:b}}}},{}],108:[function(o,se,$){var v=o("../internals/an-object"),b=o("../internals/is-object"),f=o("../internals/new-promise-capability");se.exports=function(g,S){return v(g),b(S)&&S.constructor===g?S:((0,(g=f.f(g)).resolve)(S),g.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,se,$){var v=o("../internals/redefine");se.exports=function(b,f,g){for(var S in f)v(b,S,f[S],g);return b}},{"../internals/redefine":110}],110:[function(_,se,$){var v=_("../internals/global"),b=_("../internals/create-non-enumerable-property"),f=_("../internals/has"),g=_("../internals/set-global"),S=_("../internals/inspect-source"),i=(_=_("../internals/internal-state")).get,a=_.enforce,l=String(String).split("String");(se.exports=function(u,d,h,D){var p=!!D&&!!D.unsafe,y=!!D&&!!D.enumerable;D=!!D&&!!D.noTargetGet,"function"==typeof h&&("string"!=typeof d||f(h,"name")||b(h,"name",d),a(h).source=l.join("string"==typeof d?d:"")),u===v?y?u[d]=h:g(d,h):(p?!D&&u[d]&&(y=!0):delete u[d],y?u[d]=h:b(u,d,h))})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||S(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,se,$){var v=o("./classof-raw"),b=o("./regexp-exec");se.exports=function(f,g){var S=f.exec;if("function"==typeof S){if("object"!=typeof(S=S.call(f,g)))throw TypeError("RegExp exec method returned something other than an Object or null");return S}if("RegExp"!==v(f))throw TypeError("RegExp#exec called on incompatible receiver");return b.call(f,g)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(g,se,$){"use strict";var v,b,f=g("./regexp-flags"),S=(g=g("./regexp-sticky-helpers"),RegExp.prototype.exec),_=String.prototype.replace,i=S,a=(b=/b*/g,S.call(v=/a/,"a"),S.call(b,"a"),0!==v.lastIndex||0!==b.lastIndex),l=g.UNSUPPORTED_Y||g.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];se.exports=i=a||u||l?function(d){var h,m,p,y,D=this,V=l&&D.sticky,L=f.call(D),P=D.source,x=0,U=d;return V&&(-1===(L=L.replace("y","")).indexOf("g")&&(L+="g"),U=String(d).slice(D.lastIndex),0<D.lastIndex&&(!D.multiline||D.multiline&&"\n"!==d[D.lastIndex-1])&&(P="(?: "+P+")",U=" "+U,x++),m=new RegExp("^(?:"+P+")",L)),u&&(m=new RegExp("^"+P+"$(?!\\s)",L)),a&&(h=D.lastIndex),p=S.call(V?m:D,U),V?p?(p.input=p.input.slice(x),p[0]=p[0].slice(x),p.index=D.lastIndex,D.lastIndex+=p[0].length):D.lastIndex=0:a&&p&&(D.lastIndex=D.global?p.index+p[0].length:h),u&&p&&1<p.length&&_.call(p[0],m,function(){for(y=1;y<arguments.length-2;y++)void 0===arguments[y]&&(p[y]=void 0)}),p}:i},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,se,$){"use strict";var v=o("../internals/an-object");se.exports=function(){var b=v(this),f="";return b.global&&(f+="g"),b.ignoreCase&&(f+="i"),b.multiline&&(f+="m"),b.dotAll&&(f+="s"),b.unicode&&(f+="u"),b.sticky&&(f+="y"),f}},{"../internals/an-object":10}],114:[function(o,se,$){"use strict";function v(b,f){return RegExp(b,f)}o=o("./fails"),$.UNSUPPORTED_Y=o(function(){var b=v("a","y");return b.lastIndex=2,null!=b.exec("abcd")}),$.BROKEN_CARET=o(function(){var b=v("^r","gy");return b.lastIndex=2,null!=b.exec("str")})},{"./fails":51}],115:[function(o,se,$){se.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,se,$){se.exports=Object.is||function(v,b){return v===b?0!==v||1/v==1/b:v!=v&&b!=b}},{}],117:[function(o,se,$){var v=o("../internals/global"),b=o("../internals/create-non-enumerable-property");se.exports=function(f,g){try{b(v,f,g)}catch{v[f]=g}return g}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,se,$){"use strict";var v=o("../internals/get-built-in"),b=o("../internals/object-define-property"),f=o("../internals/well-known-symbol"),g=o("../internals/descriptors"),S=f("species");se.exports=function(i){i=v(i),g&&i&&!i[S]&&(0,b.f)(i,S,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,se,$){var v=o("../internals/object-define-property").f,b=o("../internals/has"),f=o("../internals/well-known-symbol")("toStringTag");se.exports=function(g,S,_){g&&!b(g=_?g:g.prototype,f)&&v(g,f,{configurable:!0,value:S})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,se,$){var v=o("../internals/shared"),b=o("../internals/uid"),f=v("keys");se.exports=function(g){return f[g]||(f[g]=b(g))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,se,$){var f=v("../internals/global"),b=(v=v("../internals/set-global"),"__core-js_shared__");f=f[b]||v(b,{}),se.exports=f},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,se,$){var v=o("../internals/is-pure"),b=o("../internals/shared-store");(se.exports=function(f,g){return b[f]||(b[f]=void 0!==g?g:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,se,$){var v=o("../internals/an-object"),b=o("../internals/a-function"),f=o("../internals/well-known-symbol")("species");se.exports=function(_,S){return void 0===(_=v(_).constructor)||null==(_=v(_)[f])?S:b(_)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,se,$){var v=o("../internals/fails");se.exports=function(b){return v(function(){var f=""[b]('"');return f!==f.toLowerCase()||3<f.split('"').length})}},{"../internals/fails":51}],125:[function(o,se,$){function v(g){return function(a,l){a=String(f(a)),l=b(l);var i,u=a.length;return l<0||u<=l?g?"":void 0:(i=a.charCodeAt(l))<55296||56319<i||l+1===u||(u=a.charCodeAt(l+1))<56320||57343<u?g?a.charAt(l):i:g?a.slice(l,l+2):u-56320+(i-55296<<10)+65536}}var b=o("../internals/to-integer"),f=o("../internals/require-object-coercible");se.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,se,$){o=o("../internals/engine-user-agent"),se.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,se,$){function v(_){return function(u,m,h){var d=(u=String(g(u))).length;return h=void 0===h?" ":String(h),(m=b(m))<=d||""==h?u:((d=f.call(h,S((m-=d)/h.length))).length>m&&(d=d.slice(0,m)),_?u+d:d+u)}}var b=o("../internals/to-length"),f=o("../internals/string-repeat"),g=o("../internals/require-object-coercible"),S=Math.ceil;se.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,se,$){"use strict";function v(p){return p+22+75*(p<26)}function b(p){var y,D=[],V=(p=function(Y){for(var le=[],Ie=0,J=Y.length;Ie<J;){var j,ne=Y.charCodeAt(Ie++);55296<=ne&&ne<=56319&&Ie<J?56320==(64512&(j=Y.charCodeAt(Ie++)))?le.push(((1023&ne)<<10)+(1023&j)+65536):(le.push(ne),Ie--):le.push(ne)}return le}(p)).length,L=128,P=0,x=72;for(O=0;O<p.length;O++)(y=p[O])<128&&D.push(m(y));var U=D.length,A=U;for(U&&D.push("-");A<V;){for(var R=f,O=0;O<p.length;O++)L<=(y=p[O])&&y<R&&(R=y);var Z=A+1;if(R-L>h((f-P)/Z))throw RangeError(u);for(P+=(R-L)*Z,L=R,O=0;O<p.length;O++){if((y=p[O])<L&&++P>f)throw RangeError(u);if(y==L){for(var re=P,q=g;;q+=g){var te=q<=x?1:x+S<=q?S:q-x;if(re<te)break;var X=re-te,G=g-te;D.push(m(v(te+X%G))),re=h(X/G)}D.push(m(v(re))),x=function(Y,le,Ie){var J=0;for(Y=Ie?h(Y/i):Y>>1,Y+=h(Y/le);d*S>>1<Y;J+=g)Y=h(Y/d);return h(J+(d+1)*Y/(Y+_))}(P,Z,A==U),P=0,++A}}++P,++L}return D.join("")}var f=2147483647,g=36,S=26,_=38,i=700,a=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",d=g-1,h=Math.floor,m=String.fromCharCode;se.exports=function(p){for(var y,D=[],V=p.toLowerCase().replace(l,".").split("."),L=0;L<V.length;L++)D.push(a.test(y=V[L])?"xn--"+b(y):y);return D.join(".")}},{}],129:[function(o,se,$){"use strict";var v=o("../internals/to-integer"),b=o("../internals/require-object-coercible");se.exports="".repeat||function(f){var g=String(b(this)),S="",_=v(f);if(_<0||_==1/0)throw RangeError("Wrong number of repetitions");for(;0<_;(_>>>=1)&&(g+=g))1&_&&(S+=g);return S}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,se,$){var v=o("../internals/fails"),b=o("../internals/whitespaces");se.exports=function(f){return v(function(){return!!b[f]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[f]()||b[f].name!==f})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(f,se,$){function v(_){return function(i){return i=String(b(i)),1&_&&(i=i.replace(g,"")),2&_?i.replace(S,""):i}}var b=f("../internals/require-object-coercible"),g=(f="["+f("../internals/whitespaces")+"]",RegExp("^"+f+f+"*")),S=RegExp(f+f+"*$");se.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(d,se,$){function v(A){return function(){U(A)}}function b(A){U(A.data)}function f(A){S.postMessage(A+"",h.protocol+"//"+h.host)}var g,S=d("../internals/global"),_=d("../internals/fails"),i=d("../internals/classof-raw"),a=d("../internals/function-bind-context"),l=d("../internals/html"),u=d("../internals/document-create-element"),h=(d=d("../internals/engine-is-ios"),S.location),m=S.setImmediate,p=S.clearImmediate,y=S.process,D=S.MessageChannel,V=S.Dispatch,L=0,P={},x="onreadystatechange",U=function(A){var R;P.hasOwnProperty(A)&&(R=P[A],delete P[A],R())};m&&p||(m=function(A){for(var R=[],O=1;O<arguments.length;)R.push(arguments[O++]);return P[++L]=function(){("function"==typeof A?A:Function(A)).apply(void 0,R)},g(L),L},p=function(A){delete P[A]},"process"==i(y)?g=function(A){y.nextTick(v(A))}:V&&V.now?g=function(A){V.now(v(A))}:D&&!d?(d=(i=new D).port2,i.port1.onmessage=b,g=a(d.postMessage,d,1)):!S.addEventListener||"function"!=typeof postMessage||S.importScripts||_(f)||"file:"===h.protocol?g=x in u("script")?function(A){l.appendChild(u("script"))[x]=function(){l.removeChild(this),U(A)}}:function(A){setTimeout(v(A),0)}:(g=f,S.addEventListener("message",b,!1))),se.exports={set:m,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,se,$){var v=o("../internals/classof-raw");se.exports=function(b){if("number"!=typeof b&&"Number"!=v(b))throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],134:[function(o,se,$){var v=o("../internals/to-integer"),b=Math.max,f=Math.min;se.exports=function(g,S){return(g=v(g))<0?b(g+S,0):f(g,S)}},{"../internals/to-integer":137}],135:[function(o,se,$){var v=o("../internals/to-integer"),b=o("../internals/to-length");se.exports=function(g){if(void 0===g)return 0;g=v(g);var S=b(g);if(g!==S)throw RangeError("Wrong length or index");return S}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,se,$){var v=o("../internals/indexed-object"),b=o("../internals/require-object-coercible");se.exports=function(f){return v(b(f))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,se,$){var v=Math.ceil,b=Math.floor;se.exports=function(f){return isNaN(f=+f)?0:(0<f?b:v)(f)}},{}],138:[function(o,se,$){var v=o("../internals/to-integer"),b=Math.min;se.exports=function(f){return 0<f?b(v(f),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,se,$){var v=o("../internals/require-object-coercible");se.exports=function(b){return Object(v(b))}},{"../internals/require-object-coercible":115}],140:[function(o,se,$){var v=o("../internals/to-positive-integer");se.exports=function(b,f){if((b=v(b))%f)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":141}],141:[function(o,se,$){var v=o("../internals/to-integer");se.exports=function(b){if((b=v(b))<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":137}],142:[function(o,se,$){var v=o("../internals/is-object");se.exports=function(b,f){if(!v(b))return b;var g,S;if(f&&"function"==typeof(g=b.toString)&&!v(S=g.call(b))||"function"==typeof(g=b.valueOf)&&!v(S=g.call(b))||!f&&"function"==typeof(g=b.toString)&&!v(S=g.call(b)))return S;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,se,$){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",se.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,se,$){"use strict";function v(Ze,ft){for(var Ot=0,ar=ft.length,Vt=new(Ue(Ze))(ar);Ot<ar;)Vt[Ot]=ft[Ot++];return Vt}function b(Ze,ft){j(Ze,ft,{get:function(){return Ie(this)[ft]}})}function f(Ze){return Ze instanceof $e||"ArrayBuffer"==(Ze=U(Ze))||"SharedArrayBuffer"==Ze}function g(Ze,ft){return nt(Ze)&&"symbol"!=typeof ft&&ft in Ze&&String(+ft)==String(ft)}function S(Ze,ft){return g(Ze,ft=P(ft,!0))?p(2,Ze[ft]):ne(Ze,ft)}function _(Ze,ft,Ot){return!(g(Ze,ft=P(ft,!0))&&A(Ot)&&x(Ot,"value"))||x(Ot,"get")||x(Ot,"set")||Ot.configurable||x(Ot,"writable")&&!Ot.writable||x(Ot,"enumerable")&&!Ot.enumerable?j(Ze,ft,Ot):(Ze[ft]=Ot.value,Ze)}var i=o("../internals/export"),a=o("../internals/global"),l=o("../internals/descriptors"),u=o("../internals/typed-array-constructors-require-wrappers"),d=o("../internals/array-buffer-view-core"),h=o("../internals/array-buffer"),m=o("../internals/an-instance"),p=o("../internals/create-property-descriptor"),y=o("../internals/create-non-enumerable-property"),D=o("../internals/to-length"),V=o("../internals/to-index"),L=o("../internals/to-offset"),P=o("../internals/to-primitive"),x=o("../internals/has"),U=o("../internals/classof"),A=o("../internals/is-object"),R=o("../internals/object-create"),O=o("../internals/object-set-prototype-of"),Z=o("../internals/object-get-own-property-names").f,re=o("../internals/typed-array-from"),q=o("../internals/array-iteration").forEach,te=o("../internals/set-species"),X=o("../internals/object-define-property"),G=o("../internals/object-get-own-property-descriptor"),Y=o("../internals/internal-state"),le=o("../internals/inherit-if-required"),Ie=Y.get,J=Y.set,j=X.f,ne=G.f,me=Math.round,De=a.RangeError,$e=h.ArrayBuffer,qe=h.DataView,ut=d.NATIVE_ARRAY_BUFFER_VIEWS,He=d.TYPED_ARRAY_TAG,ot=d.TypedArray,at=d.TypedArrayPrototype,Ue=d.aTypedArrayConstructor,nt=d.isTypedArray,Ye="BYTES_PER_ELEMENT",st="Wrong length";l?(ut||(G.f=S,X.f=_,b(at,"buffer"),b(at,"byteOffset"),b(at,"byteLength"),b(at,"length")),i({target:"Object",stat:!0,forced:!ut},{getOwnPropertyDescriptor:S,defineProperty:_}),se.exports=function(Ct,ft,Ot){function ar(Gt,Ve){j(Gt,Ve,{get:function(){var We=this,Oe=Ve;return(We=Ie(We)).view[zt](Oe*Vt+We.byteOffset,!0)},set:function(We){var Oe=this,Je=Ve;Oe=Ie(Oe),Ot&&(We=(We=me(We))<0?0:255<We?255:255&We),Oe.view[br](Je*Vt+Oe.byteOffset,We,!0)},enumerable:!0})}var Vt=Ct.match(/\d+$/)[0]/8,tr=Ct+(Ot?"Clamped":"")+"Array",zt="get"+Ct,br="set"+Ct,Zt=a[tr],pr=Zt,lr=(Ct=pr&&pr.prototype,{});ut?u&&(pr=ft(function(Gt,Ve,We,Oe){return m(Gt,pr,tr),le(A(Ve)?f(Ve)?void 0!==Oe?new Zt(Ve,L(We,Vt),Oe):void 0!==We?new Zt(Ve,L(We,Vt)):new Zt(Ve):nt(Ve)?v(pr,Ve):re.call(pr,Ve):new Zt(V(Ve)),Gt,pr)}),O&&O(pr,ot),q(Z(Zt),function(Gt){Gt in pr||y(pr,Gt,Zt[Gt])}),pr.prototype=Ct):(pr=ft(function(Gt,Ve,We,Oe){m(Gt,pr,tr);var Je,It,At=0,Ht=0;if(A(Ve)){if(!f(Ve))return nt(Ve)?v(pr,Ve):re.call(pr,Ve);var yt=Ve;if(Ht=L(We,Vt),We=Ve.byteLength,void 0===Oe){if(We%Vt||(Je=We-Ht)<0)throw De(st)}else if(We<(Je=D(Oe)*Vt)+Ht)throw De(st);It=Je/Vt}else It=V(Ve),yt=new $e(Je=It*Vt);for(J(Gt,{buffer:yt,byteOffset:Ht,byteLength:Je,length:It,view:new qe(yt)});At<It;)ar(Gt,At++)}),O&&O(pr,ot),Ct=pr.prototype=R(at)),Ct.constructor!==pr&&y(Ct,"constructor",pr),He&&y(Ct,He,tr),lr[tr]=pr,i({global:!0,forced:pr!=Zt,sham:!ut},lr),Ye in pr||y(pr,Ye,Vt),Ye in Ct||y(Ct,Ye,Vt),te(tr)}):se.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(g,se,$){var v=g("../internals/global"),b=g("../internals/fails"),f=g("../internals/check-correctness-of-iteration"),S=(g=g("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),_=v.Int8Array;se.exports=!g||!b(function(){_(1)})||!b(function(){new _(-1)})||!f(function(i){new _,new _(null),new _(1.5),new _(i)},!0)||b(function(){return 1!==new _(new S(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,se,$){var v=o("../internals/to-object"),b=o("../internals/to-length"),f=o("../internals/get-iterator-method"),g=o("../internals/is-array-iterator-method"),S=o("../internals/function-bind-context"),_=o("../internals/array-buffer-view-core").aTypedArrayConstructor;se.exports=function(i){var a,l,u,d,h,m,p=v(i),y=arguments.length,D=1<y?arguments[1]:void 0,V=void 0!==D,L=f(p);if(null!=L&&!g(L))for(m=(h=L.call(p)).next,p=[];!(d=m.call(h)).done;)p.push(d.value);for(V&&2<y&&(D=S(D,arguments[2],2)),l=b(p.length),u=new(_(this))(l),a=0;a<l;a++)u[a]=V?D(p[a],a):p[a];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,se,$){var v=0,b=Math.random();se.exports=function(f){return"Symbol("+String(void 0===f?"":f)+")_"+(++v+b).toString(36)}},{}],148:[function(o,se,$){o=o("../internals/native-symbol"),se.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,se,$){o=o("../internals/well-known-symbol"),$.f=o},{"../internals/well-known-symbol":150}],150:[function(_,se,$){var v=_("../internals/global"),b=_("../internals/shared"),f=_("../internals/has"),g=_("../internals/uid"),S=_("../internals/native-symbol"),i=(_=_("../internals/use-symbol-as-uid"),b("wks")),a=v.Symbol,l=_?a:a&&a.withoutSetter||g;se.exports=function(u){return f(i,u)||(i[u]=S&&f(a,u)?a[u]:l("Symbol."+u)),i[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,se,$){se.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(f,se,$){"use strict";var v=f("../internals/export"),b=f("../internals/global"),S=f("../internals/array-buffer"),g=(f=f("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:b[g]!==(S=S[g])},{ArrayBuffer:S}),f(g)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(p,se,$){"use strict";var v=p("../internals/export"),b=p("../internals/fails"),f=p("../internals/is-array"),g=p("../internals/is-object"),S=p("../internals/to-object"),_=p("../internals/to-length"),i=p("../internals/create-property"),a=p("../internals/array-species-create"),l=p("../internals/array-method-has-species-support"),m=p("../internals/well-known-symbol"),u=(p=p("../internals/engine-v8-version"),m("isConcatSpreadable")),d=9007199254740991,h="Maximum allowed index exceeded";m=51<=p||!b(function(){var y=[];return y[u]=!1,y.concat()[0]!==y}),p=l("concat"),v({target:"Array",proto:!0,forced:!m||!p},{concat:function(y){for(var D,V,L,P,x,U=S(this),A=a(U,0),R=0,O=-1,Z=arguments.length;O<Z;O++)if(x=void 0,g(P=L=-1===O?U:arguments[O])&&(void 0!==(x=P[u])?x:f(P))){if(V=_(L.length),d<R+V)throw TypeError(h);for(D=0;D<V;D++,R++)D in L&&i(A,R,L[D])}else{if(d<=R)throw TypeError(h);i(A,R++,L)}return A.length=R,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(f,se,$){var v=f("../internals/export"),b=f("../internals/array-copy-within");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:b}),f("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(g,se,$){"use strict";var v=g("../internals/export"),b=g("../internals/array-iteration").every,f=g("../internals/array-method-is-strict");g=g("../internals/array-method-uses-to-length"),f=f("every"),g=g("every"),v({target:"Array",proto:!0,forced:!f||!g},{every:function(S){return b(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(f,se,$){var v=f("../internals/export"),b=f("../internals/array-fill");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:b}),f("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(g,se,$){"use strict";var v=g("../internals/export"),b=g("../internals/array-iteration").filter,f=g("../internals/array-method-has-species-support");g=g("../internals/array-method-uses-to-length"),f=f("filter"),g=g("filter"),v({target:"Array",proto:!0,forced:!f||!g},{filter:function(S){return b(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(_,se,$){"use strict";var v=_("../internals/export"),b=_("../internals/array-iteration").findIndex,f=_("../internals/add-to-unscopables"),g=(_=_("../internals/array-method-uses-to-length"),"findIndex"),S=!0;_=_(g),g in[]&&Array(1)[g](function(){S=!1}),v({target:"Array",proto:!0,forced:S||!_},{findIndex:function(i){return b(this,i,1<arguments.length?arguments[1]:void 0)}}),f(g)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),f=o("../internals/to-object"),g=o("../internals/to-length"),S=o("../internals/a-function"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(i){var a,l=f(this),u=g(l.length);return S(i),(a=_(l,0)).length=b(a,l,l,u,0,1,i,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),f=o("../internals/to-object"),g=o("../internals/to-length"),S=o("../internals/to-integer"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var i=arguments.length?arguments[0]:void 0,a=f(this),l=g(a.length),u=_(a,0);return u.length=b(u,a,a,l,0,void 0===i?1:S(i)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(b,se,$){"use strict";var v=b("../internals/export");b=b("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,se,$){var v=o("../internals/export"),b=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(f){Array.from(f)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/array-includes").includes,f=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(g){return b(this,g,1<arguments.length?arguments[1]:void 0)}}),f("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(_,se,$){"use strict";var v=_("../internals/export"),b=_("../internals/array-includes").indexOf,S=_("../internals/array-method-is-strict"),f=(_=_("../internals/array-method-uses-to-length"),[].indexOf),g=!!f&&1/[1].indexOf(1,-0)<0;S=S("indexOf"),_=_("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:g||!S||!_},{indexOf:function(i){return g?f.apply(this,arguments)||0:b(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(S,se,$){"use strict";var v=S("../internals/to-indexed-object"),b=S("../internals/add-to-unscopables"),f=S("../internals/iterators"),g=S("../internals/internal-state"),_=(S=S("../internals/define-iterator"),"Array Iterator"),i=g.set,a=g.getterFor(_);se.exports=S(Array,"Array",function(l,u){i(this,{type:_,target:v(l),index:0,kind:u})},function(){var l=a(this),u=l.target,d=l.kind,h=l.index++;return!u||h>=u.length?{value:l.target=void 0,done:!0}:"keys"==d?{value:h,done:!1}:"values"==d?{value:u[h],done:!1}:{value:[h,u[h]],done:!1}},"values"),f.Arguments=f.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(S,se,$){"use strict";var v=S("../internals/export"),g=S("../internals/indexed-object"),b=S("../internals/to-indexed-object"),f=(S=S("../internals/array-method-is-strict"),[].join);g=g!=Object,S=S("join",","),v({target:"Array",proto:!0,forced:g||!S},{join:function(_){return f.call(b(this),void 0===_?",":_)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(b,se,$){b("../internals/export")({target:"Array",proto:!0,forced:(b=b("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(g,se,$){"use strict";var v=g("../internals/export"),b=g("../internals/array-iteration").map,f=g("../internals/array-method-has-species-support");g=g("../internals/array-method-uses-to-length"),f=f("map"),g=g("map"),v({target:"Array",proto:!0,forced:!f||!g},{map:function(S){return b(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(u,se,$){"use strict";var v=u("../internals/export"),b=u("../internals/is-object"),f=u("../internals/is-array"),g=u("../internals/to-absolute-index"),S=u("../internals/to-length"),_=u("../internals/to-indexed-object"),i=u("../internals/create-property"),a=u("../internals/well-known-symbol"),l=u("../internals/array-method-has-species-support"),d=(u=u("../internals/array-method-uses-to-length"),l=l("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),a("species")),h=[].slice,m=Math.max;v({target:"Array",proto:!0,forced:!l||!u},{slice:function(p,y){var D,V,L,P=_(this),x=S(P.length),U=g(p,x),A=g(void 0===y?x:y,x);if(f(P)&&((D="function"==typeof(D=P.constructor)&&(D===Array||f(D.prototype))||b(D)&&null===(D=D[d])?void 0:D)===Array||void 0===D))return h.call(P,U,A);for(V=new(void 0===D?Array:D)(m(A-U,0)),L=0;U<A;U++,L++)U in P&&i(V,L,P[U]);return V.length=L,V}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(g,se,$){"use strict";var v=g("../internals/export"),b=g("../internals/array-iteration").some,f=g("../internals/array-method-is-strict");g=g("../internals/array-method-uses-to-length"),f=f("some"),g=g("some"),v({target:"Array",proto:!0,forced:!f||!g},{some:function(S){return b(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(l,se,$){"use strict";var v=l("../internals/export"),b=l("../internals/to-absolute-index"),f=l("../internals/to-integer"),g=l("../internals/to-length"),S=l("../internals/to-object"),_=l("../internals/array-species-create"),i=l("../internals/create-property"),a=l("../internals/array-method-has-species-support"),u=(l=l("../internals/array-method-uses-to-length"),a=a("splice"),l=l("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),d=Math.min;v({target:"Array",proto:!0,forced:!a||!l},{splice:function(R,m){var p,y,D,V,L,P,x=S(this),U=g(x.length),A=b(R,U);if(0===(R=arguments.length)?p=y=0:y=1===R?(p=0,U-A):(p=R-2,d(u(f(m),0),U-A)),9007199254740991<U+p-y)throw TypeError("Maximum allowed length exceeded");for(D=_(x,y),V=0;V<y;V++)(L=A+V)in x&&i(D,V,x[L]);if(p<(D.length=y)){for(V=A;V<U-y;V++)P=V+p,(L=V+y)in x?x[P]=x[L]:delete x[P];for(V=U;U-y+p<V;V--)delete x[V-1]}else if(y<p)for(V=U-y;A<V;V--)P=V+p-1,(L=V+y-1)in x?x[P]=x[L]:delete x[P];for(V=0;V<p;V++)x[V+A]=arguments[V+2];return x.length=U-y+p,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,se,$){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,se,$){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(b,se,$){var v=b("../internals/descriptors"),f=(b=b("../internals/object-define-property").f,Function.prototype),g=f.toString,S=/^\s*function ([^ (]*)/;!v||"name"in f||b(f,"name",{configurable:!0,get:function(){try{return g.call(this).match(S)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(b,se,$){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),se.exports=v("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,se,$){v=v("../internals/export");var b=Math.hypot,f=Math.abs,g=Math.sqrt;v({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(S,_){for(var i,a,l=0,u=0,d=arguments.length,h=0;u<d;)h<(i=f(arguments[u++]))?(l=l*(a=h/i)*a+1,h=i):l+=0<i?(a=i/h)*a:i;return h===1/0?1/0:h*g(l)}})},{"../internals/export":50}],177:[function(v,se,$){v=v("../internals/export");var b=Math.log,f=Math.LN2;v({target:"Math",stat:!0},{log2:function(g){return b(g)/f}})},{"../internals/export":50}],178:[function(o,se,$){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,se,$){"use strict";function v(O){var Z,re,q,te,X,G,Y,le=l(O,!1);if("string"==typeof le&&2<le.length)if(43===(O=(le=y(le)).charCodeAt(0))||45===O){if(88===(Z=le.charCodeAt(2))||120===Z)return NaN}else if(48===O){switch(le.charCodeAt(1)){case 66:case 98:re=2,q=49;break;case 79:case 111:re=8,q=55;break;default:return+le}for(X=(te=le.slice(2)).length,G=0;G<X;G++)if((Y=te.charCodeAt(G))<48||q<Y)return NaN;return parseInt(te,re)}return+le}var b=o("../internals/descriptors"),f=o("../internals/global"),g=o("../internals/is-forced"),S=o("../internals/redefine"),_=o("../internals/has"),i=o("../internals/classof-raw"),a=o("../internals/inherit-if-required"),l=o("../internals/to-primitive"),u=o("../internals/fails"),d=o("../internals/object-create"),h=o("../internals/object-get-own-property-names").f,m=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/object-define-property").f,y=o("../internals/string-trim").trim,D="Number",V=f[D],L=V.prototype,P=i(d(L))==D;if(g(D,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var x,U=function(Z){Z=arguments.length<1?0:Z;var re=this;return re instanceof U&&(P?u(function(){L.valueOf.call(re)}):i(re)!=D)?a(new V(v(Z)),re,U):v(Z)},A=b?h(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;A.length>R;R++)_(V,x=A[R])&&!_(U,x)&&p(U,x,m(V,x));(U.prototype=L).constructor=U,S(f,D,U)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,se,$){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,se,$){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(_,se,$){"use strict";function v(l,u,d){return 0===u?d:u%2==1?v(l,u-1,d*l):v(l*l,u/2,d)}var b=_("../internals/export"),f=_("../internals/to-integer"),g=_("../internals/this-number-value"),S=_("../internals/string-repeat"),i=(_=_("../internals/fails"),1..toFixed),a=Math.floor;b({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!_(function(){i.call({})})},{toFixed:function(D){function u(x,U){for(var A=-1,R=U;++A<6;)V[A]=(R+=x*V[A])%1e7,R=a(R/1e7)}function d(x){for(var U=6,A=0;0<=--U;)V[U]=a((A+=V[U])/x),A=A%x*1e7}function h(){for(var x,U=6,A="";0<=--U;)""===A&&0!==U&&0===V[U]||(x=String(V[U]),A=""===A?x:A+S.call("0",7-x.length)+x);return A}var m,p,y=g(this),V=(D=f(D),[0,0,0,0,0,0]),L="",P="0";if(D<0||20<D)throw RangeError("Incorrect fraction digits");if(y!=y)return"NaN";if(y<=-1e21||1e21<=y)return String(y);if(y<0&&(L="-",y=-y),1e-21<y)if(y=(m=function(x){for(var U=0,A=x;4096<=A;)U+=12,A/=4096;for(;2<=A;)U+=1,A/=2;return U}(y*v(2,69,1))-69)<0?y*v(2,-m,1):y/v(2,m,1),y*=4503599627370496,0<(m=52-m)){for(u(0,y),p=D;7<=p;)u(1e7,0),p-=7;for(u(v(10,p,1),0),p=m-1;23<=p;)d(1<<23),p-=23;d(1<<p),u(1,1),d(2),P=h()}else u(0,y),u(1<<-m,0),P=h()+S.call("0",D);return 0<D?L+((y=P.length)<=D?"0."+S.call("0",D-y)+P:P.slice(0,y-D)+"."+P.slice(y-D)):L+P}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(b,se,$){var v=b("../internals/export");b=b("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,se,$){var v=o("../internals/export"),b=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(f){return b(f)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,se,$){var v=o("../internals/export"),b=o("../internals/iterate"),f=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(g){var S={};return b(g,function(_,i){f(S,_,i)},void 0,!0),S}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(g,se,$){var v=g("../internals/export"),S=g("../internals/fails"),b=g("../internals/to-indexed-object"),f=g("../internals/object-get-own-property-descriptor").f;g=g("../internals/descriptors"),S=S(function(){f(1)}),v({target:"Object",stat:!0,forced:!g||S,sham:!g},{getOwnPropertyDescriptor:function(_,i){return f(b(_),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(f,se,$){var v=f("../internals/export"),b=f("../internals/fails");f=f("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(S,se,$){var v=S("../internals/export"),b=S("../internals/fails"),f=S("../internals/to-object"),g=S("../internals/object-get-prototype-of");S=S("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:b(function(){g(1)}),sham:!S},{getPrototypeOf:function(_){return g(f(_))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,se,$){var v=o("../internals/export"),b=o("../internals/to-object"),f=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){f(1)})},{keys:function(g){return f(b(g))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(f,se,$){var v=f("../internals/to-string-tag-support"),b=f("../internals/redefine");f=f("../internals/object-to-string"),v||b(Object.prototype,"toString",f,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Ot,se,$){"use strict";var v,b,f,g,S=Ot("../internals/export"),_=Ot("../internals/is-pure"),i=Ot("../internals/global"),a=Ot("../internals/get-built-in"),l=Ot("../internals/native-promise-constructor"),u=Ot("../internals/redefine"),d=Ot("../internals/redefine-all"),h=Ot("../internals/set-to-string-tag"),m=Ot("../internals/set-species"),p=Ot("../internals/is-object"),y=Ot("../internals/a-function"),D=Ot("../internals/an-instance"),V=Ot("../internals/classof-raw"),L=Ot("../internals/inspect-source"),P=Ot("../internals/iterate"),x=Ot("../internals/check-correctness-of-iteration"),U=Ot("../internals/species-constructor"),A=Ot("../internals/task").set,R=Ot("../internals/microtask"),O=Ot("../internals/promise-resolve"),Z=Ot("../internals/host-report-errors"),re=Ot("../internals/new-promise-capability"),q=Ot("../internals/perform"),te=Ot("../internals/internal-state"),X=Ot("../internals/is-forced"),ar=Ot("../internals/well-known-symbol"),G=Ot("../internals/engine-v8-version"),Y=ar("species"),le="Promise",Ie=te.get,J=te.set,j=te.getterFor(le),ne=l,me=i.TypeError,De=i.document,$e=i.process,qe=a("fetch"),ut=re.f,He=ut,ot="process"==V($e),at=!!(De&&De.createEvent&&i.dispatchEvent),Ue="unhandledrejection",Vt=(ar=(Ot=X(le,function(){var lr,Gt;return L(ne)===String(ne)&&(66===G||!ot&&"function"!=typeof PromiseRejectionEvent)||!((!_||ne.prototype.finally)&&(51<=G&&/native code/.test(ne)||(Gt=function(Ve){Ve(function(){},function(){})},((lr=ne.resolve(1)).constructor={})[Y]=Gt,lr.then(function(){})instanceof Gt)))}))||!x(function(lr){ne.all(lr).catch(function(){})}),function(lr){var Gt;return!(!p(lr)||"function"!=typeof(Gt=lr.then))&&Gt}),tr=function(lr,Gt,Ve){var We;Gt.notified||(Gt.notified=!0,We=Gt.reactions,R(function(){for(var Oe,Je,It=Gt.value,At=1==Gt.state,Ht=0;We.length>Ht;){var yt,Ft,Jt,rr=We[Ht++],Rt=At?rr.ok:rr.fail,vt=rr.resolve,Lt=rr.reject,bt=rr.domain;try{Rt?(At||(2===Gt.rejection&&function(Pt,fr){A.call(i,function(){ot?$e.emit("rejectionHandled",Pt):zt("rejectionhandled",Pt,fr.value)})}(lr,Gt),Gt.rejection=1),!0===Rt?yt=It:(bt&&bt.enter(),yt=Rt(It),bt&&(bt.exit(),Jt=!0)),yt===rr.promise?Lt(me("Promise-chain cycle")):(Ft=Vt(yt))?Ft.call(yt,vt,Lt):vt(yt)):Lt(It)}catch(Pt){bt&&!Jt&&bt.exit(),Lt(Pt)}}Gt.reactions=[],Gt.notified=!1,Ve&&!Gt.rejection&&(Oe=lr,Je=Gt,A.call(i,function(){var Pt=Je.value,fr=br(Je);if(fr&&(fr=q(function(){ot?$e.emit("unhandledRejection",Pt,Oe):zt(Ue,Oe,Pt)}),Je.rejection=ot||br(Je)?2:1,fr.error))throw fr.value}))}))},zt=function(lr,Gt,Ve){var We;at?((We=De.createEvent("Event")).promise=Gt,We.reason=Ve,We.initEvent(lr,!1,!0),i.dispatchEvent(We)):We={promise:Gt,reason:Ve},(Gt=i["on"+lr])?Gt(We):lr===Ue&&Z("Unhandled promise rejection",Ve)},br=function(lr){return 1!==lr.rejection&&!lr.parent},Zt=function(lr,Gt,Ve,We){return function(Oe){lr(Gt,Ve,Oe,We)}},pr=function(lr,Gt,Ve,We){Gt.done||(Gt.done=!0,(Gt=We||Gt).value=Ve,Gt.state=2,tr(lr,Gt,!0))},Ct=function(lr,Gt,Ve,We){if(!Gt.done){Gt.done=!0,We&&(Gt=We);try{if(lr===Ve)throw me("Promise can't be resolved itself");var Oe=Vt(Ve);Oe?R(function(){var Je={done:!1};try{Oe.call(Ve,Zt(Ct,lr,Je,Gt),Zt(pr,lr,Je,Gt))}catch(It){pr(lr,Je,It,Gt)}}):(Gt.value=Ve,Gt.state=1,tr(lr,Gt,!1))}catch(Je){pr(lr,{done:!1},Je,Gt)}}};Ot&&(ne=function(lr){D(this,ne,le),y(lr),v.call(this);var Gt=Ie(this);try{lr(Zt(Ct,this,Gt),Zt(pr,this,Gt))}catch(Ve){pr(this,Gt,Ve)}},(v=function(lr){J(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(ne.prototype,{then:function(lr,Gt){var Ve=j(this),We=ut(U(this,ne));return We.ok="function"!=typeof lr||lr,We.fail="function"==typeof Gt&&Gt,We.domain=ot?$e.domain:void 0,Ve.parent=!0,Ve.reactions.push(We),0!=Ve.state&&tr(this,Ve,!1),We.promise},catch:function(lr){return this.then(void 0,lr)}}),b=function(){var lr=new v,Gt=Ie(lr);this.promise=lr,this.resolve=Zt(Ct,lr,Gt),this.reject=Zt(pr,lr,Gt)},re.f=ut=function(lr){return lr===ne||lr===f?new b:He(lr)},_||"function"!=typeof l||(g=l.prototype.then,u(l.prototype,"then",function(lr,Gt){var Ve=this;return new ne(function(We,Oe){g.call(Ve,We,Oe)}).then(lr,Gt)},{unsafe:!0}),"function"==typeof qe&&S({global:!0,enumerable:!0,forced:!0},{fetch:function(lr){return O(ne,qe.apply(i,arguments))}}))),S({global:!0,wrap:!0,forced:Ot},{Promise:ne}),h(ne,le,!1,!0),m(le),f=a(le),S({target:le,stat:!0,forced:Ot},{reject:function(lr){var Gt=ut(this);return Gt.reject.call(void 0,lr),Gt.promise}}),S({target:le,stat:!0,forced:_||Ot},{resolve:function(lr){return O(_&&this===f?ne:this,lr)}}),S({target:le,stat:!0,forced:ar},{all:function(lr){var Gt=this,Ve=ut(Gt),We=Ve.resolve,Oe=Ve.reject,Je=q(function(){var It=y(Gt.resolve),At=[],Ht=0,yt=1;P(lr,function(Ft){var Jt=Ht++,rr=!1;At.push(void 0),yt++,It.call(Gt,Ft).then(function(Rt){rr||(rr=!0,At[Jt]=Rt,--yt||We(At))},Oe)}),--yt||We(At)});return Je.error&&Oe(Je.value),Ve.promise},race:function(lr){var Gt=this,Ve=ut(Gt),We=Ve.reject,Oe=q(function(){var Je=y(Gt.resolve);P(lr,function(It){Je.call(Gt,It).then(Ve.resolve,We)})});return Oe.error&&We(Oe.value),Ve.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(i,se,$){var v=i("../internals/export"),d=i("../internals/get-built-in"),b=i("../internals/a-function"),f=i("../internals/an-object"),g=i("../internals/is-object"),S=i("../internals/object-create"),_=i("../internals/function-bind"),a=(i=i("../internals/fails"),d("Reflect","construct")),l=i(function(){function h(){}return!(a(function(){},[],h)instanceof h)}),u=!i(function(){a(function(){})});v({target:"Reflect",stat:!0,forced:d=l||u,sham:d},{construct:function(h,m){b(h),f(m);var p=arguments.length<3?h:b(arguments[2]);if(u&&!l)return a(h,m,p);if(h==p){switch(m.length){case 0:return new h;case 1:return new h(m[0]);case 2:return new h(m[0],m[1]);case 3:return new h(m[0],m[1],m[2]);case 4:return new h(m[0],m[1],m[2],m[3])}var y=[null];return y.push.apply(y,m),new(_.apply(h,y))}return p=S(g(y=p.prototype)?y:Object.prototype),y=Function.apply.call(h,p,m),g(y)?y:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,se,$){var v=o("../internals/export"),b=o("../internals/is-object"),f=o("../internals/an-object"),g=o("../internals/has"),S=o("../internals/object-get-own-property-descriptor"),_=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function i(a,l){var u,d=arguments.length<3?a:arguments[2];return f(a)===d?a[l]:(u=S.f(a,l))?g(u,"value")?u.value:void 0===u.get?void 0:u.get.call(d):b(u=_(a))?i(u,l,d):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,se,$){var v=o("../internals/descriptors"),b=o("../internals/global"),f=o("../internals/is-forced"),g=o("../internals/inherit-if-required"),S=o("../internals/object-define-property").f,_=o("../internals/object-get-own-property-names").f,i=o("../internals/is-regexp"),a=o("../internals/regexp-flags"),l=o("../internals/regexp-sticky-helpers"),u=o("../internals/redefine"),d=o("../internals/fails"),h=o("../internals/internal-state").set,m=o("../internals/set-species"),p=o("../internals/well-known-symbol")("match"),y=b.RegExp,D=y.prototype,V=/a/g,L=/a/g,P=new y(V)!==V,x=l.UNSUPPORTED_Y;if(v&&f("RegExp",!P||x||d(function(){return L[p]=!1,y(V)!=V||y(L)==L||"/a/i"!=y(V,"i")}))){for(var U=function(O,Z){var re,q=this instanceof U,te=i(O),X=void 0===Z;return!q&&te&&O.constructor===U&&X?O:(P?te&&!X&&(O=O.source):O instanceof U&&(X&&(Z=a.call(O)),O=O.source),x&&(re=!!Z&&-1<Z.indexOf("y"))&&(Z=Z.replace(/y/g,"")),te=g(P?new y(O,Z):y(O,Z),q?this:D,U),x&&re&&h(te,{sticky:re}),te)},A=_(y),R=0;A.length>R;)!function(O){O in U||S(U,O,{configurable:!0,get:function(){return y[O]},set:function(Z){y[O]=Z}})}(A[R++]);(D.constructor=U).prototype=D,u(b,"RegExp",U)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(b,se,$){"use strict";var v=b("../internals/export");b=b("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(g,se,$){"use strict";var v=g("../internals/redefine"),b=g("../internals/an-object"),i=g("../internals/fails"),f=g("../internals/regexp-flags"),S=(g="toString",RegExp.prototype),_=S[g];((i=i(function(){return"/a/b"!=_.call({source:"a",flags:"b"})}))||_.name!=g)&&v(RegExp.prototype,g,function(){var l=b(this),u=String(l.source),d=l.flags;return"/"+u+"/"+String(void 0===d&&l instanceof RegExp&&!("flags"in S)?f.call(l):d)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(b,se,$){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),se.exports=v("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(_,se,$){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,f=_("../internals/to-length"),g=_("../internals/not-a-regexp"),S=_("../internals/require-object-coercible"),l=_("../internals/correct-is-regexp-logic"),i=(_=_("../internals/is-pure"),"".endsWith),a=Math.min;l=l("endsWith"),v({target:"String",proto:!0,forced:!(!_&&!l&&(v=b(String.prototype,"endsWith"))&&!v.writable||l)},{endsWith:function(u){var d=String(S(this)),h=(g(u),1<arguments.length?arguments[1]:void 0),m=f(d.length);return h=void 0===h?m:a(f(h),m),m=String(u),i?i.call(d,m,h):d.slice(h-m.length,h)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/not-a-regexp"),f=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(g){return!!~String(f(this)).indexOf(b(g),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(f,se,$){"use strict";var v=f("../internals/string-multibyte").charAt,b=f("../internals/internal-state"),g=(f=f("../internals/define-iterator"),"String Iterator"),S=b.set,_=b.getterFor(g);f(String,"String",function(i){S(this,{type:g,string:String(i),index:0})},function(){var i=_(this),a=i.string,l=i.index;return l>=a.length?{value:void 0,done:!0}:(a=v(a,l),i.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,se,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),f=o("../internals/to-length"),g=o("../internals/require-object-coercible"),S=o("../internals/advance-string-index"),_=o("../internals/regexp-exec-abstract");v("match",1,function(i,a,l){return[function(u){var d=g(this),h=null==u?void 0:u[i];return void 0!==h?h.call(u,d):new RegExp(u)[i](String(d))},function(u){var d=l(a,u,this);if(d.done)return d.value;var h=b(u),m=String(this);if(!h.global)return _(h,m);for(var p=h.unicode,y=[],D=h.lastIndex=0;null!==(V=_(h,m));){var V=String(V[0]);""===(y[D]=V)&&(h.lastIndex=S(m,f(h.lastIndex),p)),D++}return 0===D?null:y}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(f){return b(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,se,$){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,se,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),f=o("../internals/to-object"),g=o("../internals/to-length"),S=o("../internals/to-integer"),_=o("../internals/require-object-coercible"),i=o("../internals/advance-string-index"),a=o("../internals/regexp-exec-abstract"),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;v("replace",2,function(p,y,D,V){var L=V.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=V.REPLACE_KEEPS_$0,x=L?"$":"$0";return[function(U,A){var R=_(this),O=null==U?void 0:U[p];return void 0!==O?O.call(U,R,A):y.call(String(R),U,A)},function(U,A){if(!L&&P||"string"==typeof A&&-1===A.indexOf(x)){var R=D(y,U,this,A);if(R.done)return R.value}for(var O,Z=b(U),re=String(this),q="function"==typeof A,te=(q||(A=String(A)),Z.global),X=(te&&(O=Z.unicode,Z.lastIndex=0),[]);null!==(J=a(Z,re))&&(X.push(J),te);)""===String(J[0])&&(Z.lastIndex=i(re,g(Z.lastIndex),O));for(var G,Y="",le=0,Ie=0;Ie<X.length;Ie++){for(var J=X[Ie],j=String(J[0]),ne=l(u(S(J.index),re.length),0),me=[],De=1;De<J.length;De++)me.push(void 0===(G=J[De])?G:String(G));var $e=J.groups,qe=q?(qe=[j].concat(me,ne,re),void 0!==$e&&qe.push($e),String(A.apply(void 0,qe))):function(ut,He,ot,at,Ue,nt){var Ye=ot+ut.length,st=at.length,Ze=m;return void 0!==Ue&&(Ue=f(Ue),Ze=h),y.call(nt,Ze,function(ft,Ot){var ar;switch(Ot.charAt(0)){case"$":return"$";case"&":return ut;case"`":return He.slice(0,ot);case"'":return He.slice(Ye);case"<":ar=Ue[Ot.slice(1,-1)];break;default:var Vt,tr=+Ot;if(0==tr)return ft;if(st<tr)return 0!==(Vt=d(tr/10))&&Vt<=st?void 0===at[Vt-1]?Ot.charAt(1):at[Vt-1]+Ot.charAt(1):ft;ar=at[tr-1]}return void 0===ar?"":ar})}(j,re,ne,me,$e,A);le<=ne&&(Y+=re.slice(le,ne)+qe,le=ne+j.length)}return Y+re.slice(le)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,se,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),f=o("../internals/require-object-coercible"),g=o("../internals/same-value"),S=o("../internals/regexp-exec-abstract");v("search",1,function(_,i,a){return[function(l){var u=f(this),d=null==l?void 0:l[_];return void 0!==d?d.call(l,u):new RegExp(l)[_](String(u))},function(l){var u,d=a(i,l,this);return d.done?d.value:(d=b(l),l=String(this),g(u=d.lastIndex,0)||(d.lastIndex=0),l=S(d,l),g(d.lastIndex,u)||(d.lastIndex=u),null===l?-1:l.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(u,se,$){"use strict";var v=u("../internals/fix-regexp-well-known-symbol-logic"),b=u("../internals/is-regexp"),f=u("../internals/an-object"),g=u("../internals/require-object-coercible"),S=u("../internals/species-constructor"),_=u("../internals/advance-string-index"),i=u("../internals/to-length"),a=u("../internals/regexp-exec-abstract"),l=u("../internals/regexp-exec"),d=(u=u("../internals/fails"),[].push),h=Math.min,m=4294967295,p=!u(function(){return!RegExp(m,"y")});v("split",2,function(y,D,V){var L="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(P,x){var U=String(g(this)),A=void 0===x?m:x>>>0;if(0==A)return[];if(void 0===P)return[U];if(!b(P))return D.call(U,P,A);for(var R,O,Z,re=[],q=(x=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),0),te=new RegExp(P.source,x+"g");(R=l.call(te,U))&&!(q<(O=te.lastIndex)&&(re.push(U.slice(q,R.index)),1<R.length&&R.index<U.length&&d.apply(re,R.slice(1)),Z=R[0].length,q=O,re.length>=A));)te.lastIndex===R.index&&te.lastIndex++;return q===U.length?!Z&&te.test("")||re.push(""):re.push(U.slice(q)),re.length>A?re.slice(0,A):re}:"0".split(void 0,0).length?function(P,x){return void 0===P&&0===x?[]:D.call(this,P,x)}:D;return[function(P,x){var U=g(this),A=null==P?void 0:P[y];return void 0!==A?A.call(P,U,x):L.call(String(U),P,x)},function(R,x){if((U=V(L,R,this,x,L!==D)).done)return U.value;var U=f(R),A=String(this),O=(R=S(U,RegExp),U.unicode),re=new R(p?U:"^(?:"+U.source+")",(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")+(p?"y":"g")),q=void 0===x?m:x>>>0;if(0==q)return[];if(0===A.length)return null===a(re,A)?[A]:[];for(var te=0,X=0,G=[];X<A.length;){re.lastIndex=p?X:0;var Y,le=a(re,p?A:A.slice(X));if(null===le||(Y=h(i(re.lastIndex+(p?0:X)),A.length))===te)X=_(A,X,O);else{if(G.push(A.slice(te,X)),G.length===q)return G;for(var Ie=1;Ie<=le.length-1;Ie++)if(G.push(le[Ie]),G.length===q)return G;X=te=Y}}return G.push(A.slice(te)),G}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(_,se,$){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,f=_("../internals/to-length"),g=_("../internals/not-a-regexp"),S=_("../internals/require-object-coercible"),l=_("../internals/correct-is-regexp-logic"),i=(_=_("../internals/is-pure"),"".startsWith),a=Math.min;l=l("startsWith"),v({target:"String",proto:!0,forced:!(!_&&!l&&(v=b(String.prototype,"startsWith"))&&!v.writable||l)},{startsWith:function(m){var d=String(S(this)),h=(g(m),f(a(1<arguments.length?arguments[1]:void 0,d.length)));return m=String(m),i?i.call(d,m,h):d.slice(h,h+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,se,$){"use strict";var v=o("../internals/export"),b=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(h,se,$){"use strict";var v,b,f,g,S,_=h("../internals/export"),i=h("../internals/descriptors"),a=h("../internals/global"),l=h("../internals/has"),u=h("../internals/is-object"),d=h("../internals/object-define-property").f,m=(h=h("../internals/copy-constructor-properties"),a.Symbol);!i||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(v={},h(b=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),y=this instanceof b?new m(p):void 0===p?m():m(p);return""===p&&(v[y]=!0),y},m),(a=b.prototype=m.prototype).constructor=b,f=a.toString,g="Symbol(test)"==String(m("test")),S=/^Symbol\((.*)\)[^)]+$/,d(a,"description",{configurable:!0,get:function(){var p=u(this)?this.valueOf():this,y=f.call(p);return l(v,p)?"":""===(p=g?y.slice(7,-1):y.replace(S,"$1"))?void 0:p}}),_({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,se,$){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(He,se,$){"use strict";function v(Oe,Je){var It=ar[Oe]=U(nt[ut]);return ot(It,{type:qe,tag:Oe,description:Je}),l||(It.description=Je),It}function b(Oe,At){D(Oe);var It=L(At);return At=A(It).concat(We(It)),De(At,function(Ht){l&&!Ve.call(It,Ht)||Gt(Oe,Ht,It[Ht])}),Oe}function f(At,Ht){var It;if(At=L(At),Ht=P(Ht,!0),At!==Ue||!m(ar,Ht)||m(Vt,Ht))return!(It=st(At,Ht))||!m(ar,Ht)||m(At,$e)&&At[$e][Ht]||(It.enumerable=!0),It}function g(Je){Je=ft(L(Je));var It=[];return De(Je,function(At){m(ar,At)||m(le,At)||It.push(At)}),It}var S=He("../internals/export"),_=He("../internals/global"),i=He("../internals/get-built-in"),a=He("../internals/is-pure"),l=He("../internals/descriptors"),u=He("../internals/native-symbol"),d=He("../internals/use-symbol-as-uid"),h=He("../internals/fails"),m=He("../internals/has"),p=He("../internals/is-array"),y=He("../internals/is-object"),D=He("../internals/an-object"),V=He("../internals/to-object"),L=He("../internals/to-indexed-object"),P=He("../internals/to-primitive"),x=He("../internals/create-property-descriptor"),U=He("../internals/object-create"),A=He("../internals/object-keys"),R=He("../internals/object-get-own-property-names"),O=He("../internals/object-get-own-property-names-external"),Z=He("../internals/object-get-own-property-symbols"),re=He("../internals/object-get-own-property-descriptor"),q=He("../internals/object-define-property"),te=He("../internals/object-property-is-enumerable"),X=He("../internals/create-non-enumerable-property"),G=He("../internals/redefine"),Y=He("../internals/shared"),br=He("../internals/shared-key"),le=He("../internals/hidden-keys"),Ie=He("../internals/uid"),J=He("../internals/well-known-symbol"),j=He("../internals/well-known-symbol-wrapped"),ne=He("../internals/define-well-known-symbol"),me=He("../internals/set-to-string-tag"),Zt=He("../internals/internal-state"),De=He("../internals/array-iteration").forEach,$e=br("hidden"),qe="Symbol",ut="prototype",ot=(He=J("toPrimitive"),Zt.set),at=Zt.getterFor(qe),Ue=Object[ut],nt=_.Symbol,Ye=i("JSON","stringify"),st=re.f,Ze=q.f,ft=O.f,Ot=te.f,ar=Y("symbols"),Vt=Y("op-symbols"),tr=Y("string-to-symbol-registry"),zt=Y("symbol-to-string-registry"),pr=(br=Y("wks"),!(Zt=_.QObject)||!Zt[ut]||!Zt[ut].findChild),Ct=l&&h(function(){return 7!=U(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a})?function(Oe,Je,It){var At=st(Ue,Je);At&&delete Ue[Je],Ze(Oe,Je,It),At&&Oe!==Ue&&Ze(Ue,Je,At)}:Ze,lr=d?function(Oe){return"symbol"==typeof Oe}:function(Oe){return Object(Oe)instanceof nt},Gt=function(Oe,Je,It){return Oe===Ue&&Gt(Vt,Je,It),D(Oe),Je=P(Je,!0),D(It),(m(ar,Je)?(It.enumerable?(m(Oe,$e)&&Oe[$e][Je]&&(Oe[$e][Je]=!1),It=U(It,{enumerable:x(0,!1)})):(m(Oe,$e)||Ze(Oe,$e,x(1,{})),Oe[$e][Je]=!0),Ct):Ze)(Oe,Je,It)},Ve=function(Je){Je=P(Je,!0);var It=Ot.call(this,Je);return!(this===Ue&&m(ar,Je)&&!m(Vt,Je))&&(!(It||!m(this,Je)||!m(ar,Je)||m(this,$e)&&this[$e][Je])||It)},We=function(It){var Je=It===Ue,At=(It=ft(Je?Vt:L(It)),[]);return De(It,function(Ht){!m(ar,Ht)||Je&&!m(Ue,Ht)||At.push(ar[Ht])}),At};u||(G((nt=function(){if(this instanceof nt)throw TypeError("Symbol is not a constructor");var Oe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Je=Ie(Oe),It=function(At){this===Ue&&It.call(Vt,At),m(this,$e)&&m(this[$e],Je)&&(this[$e][Je]=!1),Ct(this,Je,x(1,At))};return l&&pr&&Ct(Ue,Je,{configurable:!0,set:It}),v(Je,Oe)})[ut],"toString",function(){return at(this).tag}),G(nt,"withoutSetter",function(Oe){return v(Ie(Oe),Oe)}),te.f=Ve,q.f=Gt,re.f=f,R.f=O.f=g,Z.f=We,j.f=function(Oe){return v(J(Oe),Oe)},l&&(Ze(nt[ut],"description",{configurable:!0,get:function(){return at(this).description}}),a||G(Ue,"propertyIsEnumerable",Ve,{unsafe:!0}))),S({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:nt}),De(A(br),function(Oe){ne(Oe)}),S({target:qe,stat:!0,forced:!u},{for:function(It){var Je;return It=String(It),m(tr,It)?tr[It]:(Je=nt(It),tr[It]=Je,zt[Je]=It,Je)},keyFor:function(Oe){if(!lr(Oe))throw TypeError(Oe+" is not a symbol");if(m(zt,Oe))return zt[Oe]},useSetter:function(){pr=!0},useSimple:function(){pr=!1}}),S({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(Oe,Je){return void 0===Je?U(Oe):b(U(Oe),Je)},defineProperty:Gt,defineProperties:b,getOwnPropertyDescriptor:f}),S({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:g,getOwnPropertySymbols:We}),S({target:"Object",stat:!0,forced:h(function(){Z.f(1)})},{getOwnPropertySymbols:function(Oe){return Z.f(V(Oe))}}),Ye&&S({target:"JSON",stat:!0,forced:!u||h(function(){var Oe=nt();return"[null]"!=Ye([Oe])||"{}"!=Ye({a:Oe})||"{}"!=Ye(Object(Oe))})},{stringify:function(Oe,Je,It){for(var At,Ht=[Oe],yt=1;yt<arguments.length;)Ht.push(arguments[yt++]);if((y(At=Je)||void 0!==Oe)&&!lr(Oe))return p(Je)||(Je=function(Ft,Jt){if("function"==typeof At&&(Jt=At.call(this,Ft,Jt)),!lr(Jt))return Jt}),Ht[1]=Je,Ye.apply(null,Ht)}}),nt[ut][He]||X(nt[ut],He,nt[ut].valueOf),me(nt,qe),le[$e]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-copy-within"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(g,S){return b.call(f(this),g,S,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").every,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(g){return b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-fill"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(g){return b.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").filter,f=o("../internals/species-constructor"),g=v.aTypedArray,S=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(_){for(var i=b(g(this),_,1<arguments.length?arguments[1]:void 0),a=(_=f(this,this.constructor),0),l=i.length,u=new(S(_))(l);a<l;)u[a]=i[a++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").findIndex,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(g){return b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").find,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(g){return b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,se,$){o("../internals/typed-array-constructor")("Float32",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],220:[function(o,se,$){o("../internals/typed-array-constructor")("Float64",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],221:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").forEach,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(g){b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").includes,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(g){return b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").indexOf,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(g){return b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,se,$){o("../internals/typed-array-constructor")("Int16",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],225:[function(o,se,$){o("../internals/typed-array-constructor")("Int32",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],226:[function(b,se,$){"use strict";function v(){return f.call(_(this))}var l=b("../internals/global"),a=b("../internals/array-buffer-view-core"),i=b("../modules/es.array.iterator"),f=(b=b("../internals/well-known-symbol")("iterator"),i.values),g=i.keys,S=i.entries,_=a.aTypedArray;i=a.exportTypedArrayMethod,l=!!(a=(l=l.Uint8Array)&&l.prototype[b])&&("values"==a.name||null==a.name),i("entries",function(){return S.call(_(this))}),i("keys",function(){return g.call(_(this))}),i("values",v,!l),i(b,v,!l)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(b,se,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,f=[].join;(b=b.exportTypedArrayMethod)("join",function(g){return f.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-last-index-of"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(g){return b.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").map,f=o("../internals/species-constructor"),g=v.aTypedArray,S=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(_){return b(g(this),_,1<arguments.length?arguments[1]:void 0,function(i,a){return new(S(f(i,i.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").right,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(g){return b(f(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").left,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(g){return b(f(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(b,se,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,f=(b=b.exportTypedArrayMethod,Math.floor);b("reverse",function(){for(var g,S=v(this).length,_=f(S/2),i=0;i<_;)g=this[i],this[i++]=this[--S],this[S]=g;return this})},{"../internals/array-buffer-view-core":12}],233:[function(S,se,$){"use strict";var v=S("../internals/array-buffer-view-core"),b=S("../internals/to-length"),f=S("../internals/to-offset"),g=S("../internals/to-object"),_=(S=S("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(i){_(this);var a=f(1<arguments.length?arguments[1]:void 0,1),l=this.length,u=g(i),d=b(u.length),h=0;if(l<d+a)throw RangeError("Wrong length");for(;h<d;)this[a+h]=u[h++]},S(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(b,se,$){"use strict";var S=b("../internals/array-buffer-view-core"),v=b("../internals/species-constructor"),f=(b=b("../internals/fails"),S.aTypedArray),g=S.aTypedArrayConstructor,_=[].slice;(S=S.exportTypedArrayMethod)("slice",function(i,a){for(var l=_.call(f(this),i,a),u=(i=v(this,this.constructor),0),d=l.length,h=new(g(i))(d);u<d;)h[u]=l[u++];return h},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").some,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(g){return b(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(b,se,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,f=[].sort;(b=b.exportTypedArrayMethod)("sort",function(g){return f.call(v(this),g)})},{"../internals/array-buffer-view-core":12}],237:[function(o,se,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/to-length"),f=o("../internals/to-absolute-index"),g=o("../internals/species-constructor"),S=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(u,i){var a=S(this),l=a.length;return u=f(u,l),new(g(a,a.constructor))(a.buffer,a.byteOffset+u*a.BYTES_PER_ELEMENT,b((void 0===i?l:f(i,l))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(b,se,$){"use strict";var S=b("../internals/global"),v=b("../internals/array-buffer-view-core"),f=(b=b("../internals/fails"),S.Int8Array),g=v.aTypedArray,_=(S=v.exportTypedArrayMethod,[].toLocaleString),i=[].slice,a=!!f&&b(function(){_.call(new f(1))});S("toLocaleString",function(){return _.apply(a?i.call(g(this)):g(this),arguments)},b(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!b(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(b,se,$){"use strict";var v=b("../internals/array-buffer-view-core").exportTypedArrayMethod,S=b("../internals/fails"),f=(b=(b=b("../internals/global").Uint8Array)&&b.prototype||{},[].toString),g=[].join;S(function(){f.call({})})&&(f=function(){return g.call(this)}),v("toString",f,S=b.toString!=f)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,se,$){o("../internals/typed-array-constructor")("Uint16",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],241:[function(o,se,$){o("../internals/typed-array-constructor")("Uint32",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],242:[function(o,se,$){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,f,g){return v(this,b,f,g)}})},{"../internals/typed-array-constructor":144}],243:[function(o,se,$){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,f,g){return v(this,b,f,g)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(m,D,$){"use strict";function v(V){return function(){return V(this,arguments.length?arguments[0]:void 0)}}var b,f,g,S,_,p=m("../internals/global"),i=m("../internals/redefine-all"),a=m("../internals/internal-metadata"),l=m("../internals/collection"),u=m("../internals/collection-weak"),d=m("../internals/is-object"),h=m("../internals/internal-state").enforce,y=(m=m("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);D=D.exports=l("WeakMap",v,u),m&&p&&(b=u.getConstructor(v,"WeakMap",!0),a.REQUIRED=!0,f=(l=D.prototype).delete,g=l.has,S=l.get,_=l.set,i(l,{delete:function(V){var L;return d(V)&&!y(V)?((L=h(this)).frozen||(L.frozen=new b),f.call(this,V)||L.frozen.delete(V)):f.call(this,V)},has:function(V){var L;return d(V)&&!y(V)?((L=h(this)).frozen||(L.frozen=new b),g.call(this,V)||L.frozen.has(V)):g.call(this,V)},get:function(V){var L;return!d(V)||y(V)||((L=h(this)).frozen||(L.frozen=new b),g.call(this,V))?S.call(this,V):L.frozen.get(V)},set:function(V,L){var P;return!d(V)||y(V)||((P=h(this)).frozen||(P.frozen=new b),g.call(this,V))?_.call(this,V,L):P.frozen.set(V,L),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,se,$){var v,b=o("../internals/global"),f=o("../internals/dom-iterables"),g=o("../internals/array-for-each"),S=o("../internals/create-non-enumerable-property");for(v in f){var _;if((_=(_=b[v])&&_.prototype)&&_.forEach!==g)try{S(_,"forEach",g)}catch{_.forEach=g}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(_,se,$){var v,b=_("../internals/global"),f=_("../internals/dom-iterables"),g=_("../modules/es.array.iterator"),S=_("../internals/create-non-enumerable-property"),i=(_=_("../internals/well-known-symbol"))("iterator"),a=_("toStringTag"),l=g.values;for(v in f){var u=b[v],d=u&&u.prototype;if(d){if(d[i]!==l)try{S(d,i,l)}catch{d[i]=l}if(d[a]||S(d,a,v),f[v])for(var h in g)if(d[h]!==g[h])try{S(d,h,g[h])}catch{d[h]=g[h]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function($e,se,$){"use strict";function v(qe){try{return decodeURIComponent(qe)}catch{return qe}}function b(qe){return ne[qe]}function f(qe){return encodeURIComponent(qe).replace(j,b)}function g(qe){this.entries.length=0,me(this.entries,qe)}function S(qe,ut){if(qe<ut)throw TypeError("Not enough arguments")}function _(){p(this,_,q);var qe,ut,He,ot,at,Ue,nt,Ye,st=0<arguments.length?arguments[0]:void 0,Ze=[];if(X(this,{type:q,entries:Ze,updateURL:function(){},updateSearchParams:g}),void 0!==st)if(P(st))if("function"==typeof(qe=R(st)))for(He=(ut=qe.call(st)).next;!(ot=He.call(ut)).done;){if((Ue=(at=(ot=A(L(ot.value))).next).call(ot)).done||(nt=at.call(ot)).done||!at.call(ot).done)throw TypeError("Expected sequence with length 2");Ze.push({key:Ue.value+"",value:nt.value+""})}else for(Ye in st)y(st,Ye)&&Ze.push({key:Ye,value:st[Ye]+""});else me(Ze,"string"==typeof st?"?"===st.charAt(0)?st.slice(1):st:st+"")}$e("../modules/es.array.iterator");var i=$e("../internals/export"),re=$e("../internals/get-built-in"),a=$e("../internals/native-url"),l=$e("../internals/redefine"),u=$e("../internals/redefine-all"),d=$e("../internals/set-to-string-tag"),h=$e("../internals/create-iterator-constructor"),m=$e("../internals/internal-state"),p=$e("../internals/an-instance"),y=$e("../internals/has"),D=$e("../internals/function-bind-context"),V=$e("../internals/classof"),L=$e("../internals/an-object"),P=$e("../internals/is-object"),x=$e("../internals/object-create"),U=$e("../internals/create-property-descriptor"),A=$e("../internals/get-iterator"),R=$e("../internals/get-iterator-method"),O=($e=$e("../internals/well-known-symbol"),re("fetch")),Z=re("Headers"),q=(re=$e("iterator"),"URLSearchParams"),te=q+"Iterator",X=m.set,G=m.getterFor(q),Y=m.getterFor(te),le=/\+/g,Ie=Array(4),J=function(qe){var ut,He=qe.replace(le," "),ot=4;try{return decodeURIComponent(He)}catch{for(;ot;)He=He.replace((ut=ot--,Ie[ut-1]||(Ie[ut-1]=RegExp("((?:%[\\da-f]{2}){"+ut+"})","gi"))),v);return He}},j=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},me=function(qe,ut){if(ut)for(var He,ot=ut.split("&"),at=0;at<ot.length;)(He=ot[at++]).length&&(He=He.split("="),qe.push({key:J(He.shift()),value:J(He.join("="))}))},De=h(function(qe,ut){X(this,{type:te,iterator:A(G(qe).entries),kind:ut})},"Iterator",function(){var ut,qe=(ut=Y(this)).kind,He=(ut=ut.iterator.next()).value;return ut.done||(ut.value="keys"===qe?He.key:"values"===qe?He.value:[He.key,He.value]),ut});u($e=_.prototype,{append:function(qe,ut){S(arguments.length,2);var He=G(this);He.entries.push({key:qe+"",value:ut+""}),He.updateURL()},delete:function(qe){S(arguments.length,1);for(var ut=G(this),He=ut.entries,ot=qe+"",at=0;at<He.length;)He[at].key===ot?He.splice(at,1):at++;ut.updateURL()},get:function(qe){S(arguments.length,1);for(var ut=G(this).entries,He=qe+"",ot=0;ot<ut.length;ot++)if(ut[ot].key===He)return ut[ot].value;return null},getAll:function(qe){S(arguments.length,1);for(var ut=G(this).entries,He=qe+"",ot=[],at=0;at<ut.length;at++)ut[at].key===He&&ot.push(ut[at].value);return ot},has:function(qe){S(arguments.length,1);for(var ut=G(this).entries,He=qe+"",ot=0;ot<ut.length;)if(ut[ot++].key===He)return!0;return!1},set:function(qe,ut){S(arguments.length,1);for(var He,ot=G(this),at=ot.entries,Ue=!1,nt=qe+"",Ye=ut+"",st=0;st<at.length;st++)(He=at[st]).key===nt&&(Ue?at.splice(st--,1):(Ue=!0,He.value=Ye));Ue||at.push({key:nt,value:Ye}),ot.updateURL()},sort:function(){for(var qe,ut,He=G(this),ot=He.entries,at=ot.slice(),Ue=ot.length=0;Ue<at.length;Ue++){for(qe=at[Ue],ut=0;ut<Ue;ut++)if(ot[ut].key>qe.key){ot.splice(ut,0,qe);break}ut===Ue&&ot.push(qe)}He.updateURL()},forEach:function(qe){for(var ut,He=G(this).entries,ot=D(qe,1<arguments.length?arguments[1]:void 0,3),at=0;at<He.length;)ot((ut=He[at++]).value,ut.key,this)},keys:function(){return new De(this,"keys")},values:function(){return new De(this,"values")},entries:function(){return new De(this,"entries")}},{enumerable:!0}),l($e,re,$e.entries),l($e,"toString",function(){for(var qe,ut=G(this).entries,He=[],ot=0;ot<ut.length;)qe=ut[ot++],He.push(f(qe.key)+"="+f(qe.value));return He.join("&")},{enumerable:!0}),d(_,q),i({global:!0,forced:!a},{URLSearchParams:_}),a||"function"!=typeof O||"function"!=typeof Z||i({global:!0,enumerable:!0,forced:!0},{fetch:function(at){var ut,He,ot;return at=[at],1<arguments.length&&(P(ut=arguments[1])&&V(He=ut.body)===q&&((ot=ut.headers?new Z(ut.headers):new Z).has("content-type")||ot.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ut=x(ut,{body:U(0,String(He)),headers:U(0,ot)})),at.push(ut)),O.apply(this,at)}}),se.exports={URLSearchParams:_,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(A,se,$){"use strict";function v(z){var B,ue,Se,ke;if("number"==typeof z){for(B=[],ue=0;ue<4;ue++)B.unshift(z%256),z=te(z/256);return B.join(".")}if("object"!=typeof z)return z;for(B="",Se=nt(z),ue=0;ue<8;ue++)ke&&0===z[ue]||(ke=ke&&!1,Se===ue?(B+=ue?":":"::",ke=!0):(B+=z[ue].toString(16),ue<7&&(B+=":")));return"["+B+"]"}function b(z){return!z.host||z.cannotBeABaseURL||"file"==z.scheme}function f(z,B,ue,Se){var ke,Fe,$t,Ut=ue||lr,Dr=0,Re="",Xe=!1,mt=!1,ze=!1;for(ue||(z.scheme="",z.username="",z.password="",z.host=null,z.port=null,z.path=[],z.query=null,z.fragment=null,z.cannotBeABaseURL=!1,B=B.replace(ot,"")),B=B.replace(at,""),ke=V(B);Dr<=ke.length;){switch(Fe=ke[Dr],Ut){case lr:if(!Fe||!J.test(Fe)){if(ue)return Y;Ut=Ve;continue}Re+=Fe.toLowerCase(),Ut=Gt;break;case Gt:if(Fe&&(j.test(Fe)||"+"==Fe||"-"==Fe||"."==Fe))Re+=Fe.toLowerCase();else{if(":"!=Fe){if(ue)return Y;Re="",Ut=Ve,Dr=0;continue}if(ue&&(Vt(z)!=y(ar,Re)||"file"==Re&&(tr(z)||null!==z.port)||"file"==z.scheme&&!z.host))return;if(z.scheme=Re,ue)return void(Vt(z)&&ar[z.scheme]==z.port&&(z.port=null));Re="","file"==z.scheme?Ut=Rt:Vt(z)&&Se&&Se.scheme==z.scheme?Ut=We:Vt(z)?Ut=At:"/"==ke[Dr+1]?(Ut=Oe,Dr++):(z.cannotBeABaseURL=!0,z.path.push(""),Ut=fr)}break;case Ve:if(!Se||Se.cannotBeABaseURL&&"#"!=Fe)return Y;if(Se.cannotBeABaseURL&&"#"==Fe){z.scheme=Se.scheme,z.path=Se.path.slice(),z.query=Se.query,z.fragment="",z.cannotBeABaseURL=!0,Ut=xt;break}Ut="file"==Se.scheme?Rt:Je;continue;case We:if("/"!=Fe||"/"!=ke[Dr+1]){Ut=Je;continue}Ut=Ht,Dr++;break;case Oe:if("/"==Fe){Ut=yt;break}Ut=Pt;continue;case Je:if(z.scheme=Se.scheme,Fe==_)z.username=Se.username,z.password=Se.password,z.host=Se.host,z.port=Se.port,z.path=Se.path.slice(),z.query=Se.query;else if("/"==Fe||"\\"==Fe&&Vt(z))Ut=It;else if("?"==Fe)z.username=Se.username,z.password=Se.password,z.host=Se.host,z.port=Se.port,z.path=Se.path.slice(),z.query="",Ut=dt;else{if("#"!=Fe){z.username=Se.username,z.password=Se.password,z.host=Se.host,z.port=Se.port,z.path=Se.path.slice(),z.path.pop(),Ut=Pt;continue}z.username=Se.username,z.password=Se.password,z.host=Se.host,z.port=Se.port,z.path=Se.path.slice(),z.query=Se.query,z.fragment="",Ut=xt}break;case It:if(!Vt(z)||"/"!=Fe&&"\\"!=Fe){if("/"!=Fe){z.username=Se.username,z.password=Se.password,z.host=Se.host,z.port=Se.port,Ut=Pt;continue}Ut=yt}else Ut=Ht;break;case At:if(Ut=Ht,"/"!=Fe||"/"!=Re.charAt(Dr+1))continue;Dr++;break;case Ht:if("/"==Fe||"\\"==Fe)break;Ut=yt;continue;case yt:if("@"==Fe){Xe&&(Re="%40"+Re),Xe=!0;for(var ht=V(Re),Bt=0;Bt<ht.length;Bt++){var cr=ht[Bt];":"!=cr||ze?(cr=Ot(cr,ft),ze?z.password+=cr:z.username+=cr):ze=!0}Re=""}else if(Fe==_||"/"==Fe||"?"==Fe||"#"==Fe||"\\"==Fe&&Vt(z)){if(Xe&&""==Re)return G;Dr-=V(Re).length+1,Re="",Ut=Ft}else Re+=Fe;break;case Ft:case Jt:if(ue&&"file"==z.scheme){Ut=Lt;continue}if(":"!=Fe||mt){if(Fe==_||"/"==Fe||"?"==Fe||"#"==Fe||"\\"==Fe&&Vt(z)){if(Vt(z)&&""==Re)return le;if(ue&&""==Re&&(tr(z)||null!==z.port))return;if($t=Ue(z,Re))return $t;if(Re="",Ut=bt,ue)return;continue}"["==Fe?mt=!0:"]"==Fe&&(mt=!1),Re+=Fe}else{if(""==Re)return le;if($t=Ue(z,Re))return $t;if(Re="",Ut=rr,ue==Jt)return}break;case rr:if(!ne.test(Fe)){if(Fe==_||"/"==Fe||"?"==Fe||"#"==Fe||"\\"==Fe&&Vt(z)||ue){if(""!=Re){var wr=parseInt(Re,10);if(65535<wr)return Ie;z.port=Vt(z)&&wr===ar[z.scheme]?null:wr,Re=""}if(ue)return;Ut=bt;continue}return Ie}Re+=Fe;break;case Rt:if(z.scheme="file","/"==Fe||"\\"==Fe)Ut=vt;else{if(!Se||"file"!=Se.scheme){Ut=Pt;continue}if(Fe==_)z.host=Se.host,z.path=Se.path.slice(),z.query=Se.query;else if("?"==Fe)z.host=Se.host,z.path=Se.path.slice(),z.query="",Ut=dt;else{if("#"!=Fe){br(ke.slice(Dr).join(""))||(z.host=Se.host,z.path=Se.path.slice(),Zt(z)),Ut=Pt;continue}z.host=Se.host,z.path=Se.path.slice(),z.query=Se.query,z.fragment="",Ut=xt}}break;case vt:if("/"==Fe||"\\"==Fe){Ut=Lt;break}Se&&"file"==Se.scheme&&!br(ke.slice(Dr).join(""))&&(zt(Se.path[0],!0)?z.path.push(Se.path[0]):z.host=Se.host),Ut=Pt;continue;case Lt:if(Fe==_||"/"==Fe||"\\"==Fe||"?"==Fe||"#"==Fe){if(!ue&&zt(Re))Ut=Pt;else{if(""==Re){if(z.host="",ue)return}else{if($t=Ue(z,Re))return $t;if("localhost"==z.host&&(z.host=""),ue)return;Re=""}Ut=bt}continue}Re+=Fe;break;case bt:if(Vt(z)){if(Ut=Pt,"/"!=Fe&&"\\"!=Fe)continue}else if(ue||"?"!=Fe)if(ue||"#"!=Fe){if(Fe!=_&&(Ut=Pt,"/"!=Fe))continue}else z.fragment="",Ut=xt;else z.query="",Ut=dt;break;case Pt:if(Fe==_||"/"==Fe||"\\"==Fe&&Vt(z)||!ue&&("?"==Fe||"#"==Fe)){if(Ct(Re)?(Zt(z),"/"==Fe||"\\"==Fe&&Vt(z)||z.path.push("")):pr(Re)?"/"==Fe||"\\"==Fe&&Vt(z)||z.path.push(""):("file"==z.scheme&&!z.path.length&&zt(Re)&&(z.host&&(z.host=""),Re=Re.charAt(0)+":"),z.path.push(Re)),Re="","file"==z.scheme&&(Fe==_||"?"==Fe||"#"==Fe))for(;1<z.path.length&&""===z.path[0];)z.path.shift();"?"==Fe?(z.query="",Ut=dt):"#"==Fe&&(z.fragment="",Ut=xt)}else Re+=Ot(Fe,Ze);break;case fr:"?"==Fe?(z.query="",Ut=dt):"#"==Fe?(z.fragment="",Ut=xt):Fe!=_&&(z.path[0]+=Ot(Fe,Ye));break;case dt:ue||"#"!=Fe?Fe!=_&&("'"==Fe&&Vt(z)?z.query+="%27":z.query+="#"==Fe?"%23":Ot(Fe,Ye)):(z.fragment="",Ut=xt);break;case xt:Fe!=_&&(z.fragment+=Ot(Fe,st))}Dr++}}function g(Fe){var B,ue,Se=p(this,g,"URL"),ke=1<arguments.length?arguments[1]:void 0,$t=(Fe=String(Fe),re(Se,{type:"URL"}));if(void 0!==ke)if(ke instanceof g)B=q(ke);else if(ue=f(B={},String(ke)))throw TypeError(ue);if(ue=f($t,Fe,null,B))throw TypeError(ue);var Ut=$t.searchParams=new O;(ke=Z(Ut)).updateSearchParams($t.query),ke.updateURL=function(){$t.query=String(Ut)||null},u||(Se.href=Kt.call(Se),Se.origin=ur.call(Se),Se.protocol=vr.call(Se),Se.username=hr.call(Se),Se.password=Mr.call(Se),Se.host=W.call(Se),Se.hostname=fe.call(Se),Se.port=Te.call(Se),Se.pathname=w.call(Se),Se.search=I.call(Se),Se.searchParams=H.call(Se),Se.hash=F.call(Se))}function S(z,B){return{get:z,set:B,configurable:!0,enumerable:!0}}A("../modules/es.string.iterator");var _,i,a,l=A("../internals/export"),u=A("../internals/descriptors"),d=A("../internals/native-url"),nr=A("../internals/global"),h=A("../internals/object-define-properties"),m=A("../internals/redefine"),p=A("../internals/an-instance"),y=A("../internals/has"),D=A("../internals/object-assign"),V=A("../internals/array-from"),L=A("../internals/string-multibyte").codeAt,P=A("../internals/string-punycode-to-ascii"),x=A("../internals/set-to-string-tag"),U=A("../modules/web.url-search-params"),R=(A=A("../internals/internal-state"),nr.URL),O=U.URLSearchParams,Z=U.getState,re=A.set,q=A.getterFor("URL"),te=Math.floor,X=Math.pow,G="Invalid authority",Y="Invalid scheme",le="Invalid host",Ie="Invalid port",J=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,ne=/\d/,me=/^(0x|0X)/,De=/^[0-7]+$/,$e=/^\d+$/,qe=/^[\dA-Fa-f]+$/,ut=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,He=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ot=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,at=/[\u0009\u000A\u000D]/g,Ue=function(z,B){var ue,Se,ke;if("["==B.charAt(0))return"]"==B.charAt(B.length-1)&&(ue=function(Fe){var Xe,mt,ze,ht,Bt,cr,wr,$t=[0,0,0,0,0,0,0,0],Ut=0,Dr=null,Re=0,Pr=function(){return Fe.charAt(Re)};if(":"==Pr()){if(":"!=Fe.charAt(1))return;Re+=2,Dr=++Ut}for(;Pr();){if(8==Ut)return;if(":"!=Pr()){for(Xe=mt=0;mt<4&&qe.test(Pr());)Xe=16*Xe+parseInt(Pr(),16),Re++,mt++;if("."==Pr()){if(0==mt||(Re-=mt,Ut>6))return;for(ze=0;Pr();){if(ht=null,ze>0){if(!("."==Pr()&&ze<4))return;Re++}if(!ne.test(Pr()))return;for(;ne.test(Pr());){if(Bt=parseInt(Pr(),10),null===ht)ht=Bt;else{if(0==ht)return;ht=10*ht+Bt}if(ht>255)return;Re++}$t[Ut]=256*$t[Ut]+ht,(2==++ze||4==ze)&&Ut++}if(4!=ze)return;break}if(":"==Pr()){if(Re++,!Pr())return}else if(Pr())return;$t[Ut++]=Xe}else{if(null!==Dr)return;Re++,Dr=++Ut}}if(null!==Dr)for(cr=Ut-Dr,Ut=7;0!=Ut&&cr>0;)wr=$t[Ut],$t[Ut--]=$t[Dr+cr-1],$t[Dr+--cr]=wr;else if(8!=Ut)return;return $t}(B.slice(1,-1)))?void(z.host=ue):le;if(Vt(z))return B=P(B),ut.test(B)||null===(ue=function(Fe){var Ut,Dr,Re,Xe,mt,ze,ht,$t=Fe.split(".");if($t.length&&""==$t[$t.length-1]&&$t.pop(),(Ut=$t.length)>4)return Fe;for(Dr=[],Re=0;Re<Ut;Re++){if(""==(Xe=$t[Re]))return Fe;if(mt=10,Xe.length>1&&"0"==Xe.charAt(0)&&(mt=me.test(Xe)?16:8,Xe=Xe.slice(8==mt?1:2)),""===Xe)ze=0;else{if(!(10==mt?$e:8==mt?De:qe).test(Xe))return Fe;ze=parseInt(Xe,mt)}Dr.push(ze)}for(Re=0;Re<Ut;Re++)if(ze=Dr[Re],Re==Ut-1){if(ze>=X(256,5-Ut))return null}else if(ze>255)return null;for(ht=Dr.pop(),Re=0;Re<Dr.length;Re++)ht+=Dr[Re]*X(256,3-Re);return ht}(B))?le:void(z.host=ue);if(He.test(B))return le;for(ue="",Se=V(B),ke=0;ke<Se.length;ke++)ue+=Ot(Se[ke],Ye);z.host=ue},nt=function(z){for(var B=null,ue=1,Se=null,ke=0,Fe=0;Fe<8;Fe++)0!==z[Fe]?(ue<ke&&(B=Se,ue=ke),Se=null,ke=0):(null===Se&&(Se=Fe),++ke);return ue<ke&&(B=Se,ue=ke),B},Ye={},st=D({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),Ze=D({},st,{"#":1,"?":1,"{":1,"}":1}),ft=D({},Ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ot=function(z,B){var ue=L(z,0);return 32<ue&&ue<127&&!y(B,z)?z:encodeURIComponent(z)},ar={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Vt=function(z){return y(ar,z.scheme)},tr=function(z){return""!=z.username||""!=z.password},zt=function(z,B){return 2==z.length&&J.test(z.charAt(0))&&(":"==(z=z.charAt(1))||!B&&"|"==z)},br=function(z){return 1<z.length&&zt(z.slice(0,2))&&(2==z.length||"/"===(z=z.charAt(2))||"\\"===z||"?"===z||"#"===z)},Zt=function(z){var B=z.path,ue=B.length;!ue||"file"==z.scheme&&1==ue&&zt(B[0],!0)||B.pop()},pr=function(z){return"."===z||"%2e"===z.toLowerCase()},Ct=function(z){return".."===(z=z.toLowerCase())||"%2e."===z||".%2e"===z||"%2e%2e"===z},lr={},Gt={},Ve={},We={},Oe={},Je={},It={},At={},Ht={},yt={},Ft={},Jt={},rr={},Rt={},vt={},Lt={},bt={},Pt={},fr={},dt={},xt={},Kt=(nr=g.prototype,function(){var z=q(this),B=z.scheme,ue=z.username,Se=z.password,ke=z.host,Fe=z.port,$t=z.path,Ut=z.query,Dr=z.fragment,Re=B+":";return null!==ke?(Re+="//",tr(z)&&(Re+=ue+(Se?":"+Se:"")+"@"),Re+=v(ke),null!==Fe&&(Re+=":"+Fe)):"file"==B&&(Re+="//"),Re+=z.cannotBeABaseURL?$t[0]:$t.length?"/"+$t.join("/"):"",null!==Ut&&(Re+="?"+Ut),null!==Dr&&(Re+="#"+Dr),Re}),ur=function(){var z=q(this),B=z.scheme,ue=z.port;if("blob"==B)try{return new URL(B.path[0]).origin}catch{return"null"}return"file"!=B&&Vt(z)?B+"://"+v(z.host)+(null!==ue?":"+ue:""):"null"},vr=function(){return q(this).scheme+":"},hr=function(){return q(this).username},Mr=function(){return q(this).password},W=function(){var z=(B=q(this)).host,B=B.port;return null===z?"":null===B?v(z):v(z)+":"+B},fe=function(){var z=q(this).host;return null===z?"":v(z)},Te=function(){var z=q(this).port;return null===z?"":String(z)},w=function(){var z=q(this),B=z.path;return z.cannotBeABaseURL?B[0]:B.length?"/"+B.join("/"):""},I=function(){var z=q(this).query;return z?"?"+z:""},H=function(){return q(this).searchParams},F=function(){var z=q(this).fragment;return z?"#"+z:""};u&&h(nr,{href:S(Kt,function(ue){var B=q(this);if(ue=f(B,ue=String(ue)))throw TypeError(ue);Z(B.searchParams).updateSearchParams(B.query)}),origin:S(ur),protocol:S(vr,function(z){f(q(this),String(z)+":",lr)}),username:S(hr,function(z){var B=q(this),ue=V(String(z));if(!b(B)){B.username="";for(var Se=0;Se<ue.length;Se++)B.username+=Ot(ue[Se],ft)}}),password:S(Mr,function(z){var B=q(this),ue=V(String(z));if(!b(B)){B.password="";for(var Se=0;Se<ue.length;Se++)B.password+=Ot(ue[Se],ft)}}),host:S(W,function(z){var B=q(this);B.cannotBeABaseURL||f(B,String(z),Ft)}),hostname:S(fe,function(z){var B=q(this);B.cannotBeABaseURL||f(B,String(z),Jt)}),port:S(Te,function(z){var B=q(this);b(B)||(""==(z=String(z))?B.port=null:f(B,z,rr))}),pathname:S(w,function(z){var B=q(this);B.cannotBeABaseURL||(B.path=[],f(B,z+"",bt))}),search:S(I,function(z){var B=q(this);""==(z=String(z))?B.query=null:("?"==z.charAt(0)&&(z=z.slice(1)),B.query="",f(B,z,dt)),Z(B.searchParams).updateSearchParams(B.query)}),searchParams:S(H),hash:S(F,function(z){var B=q(this);""==(z=String(z))?B.fragment=null:("#"==z.charAt(0)&&(z=z.slice(1)),B.fragment="",f(B,z,xt))})}),m(nr,"toJSON",function(){return Kt.call(this)},{enumerable:!0}),m(nr,"toString",function(){return Kt.call(this)},{enumerable:!0}),R&&(a=R.revokeObjectURL,(i=R.createObjectURL)&&m(g,"createObjectURL",function(z){return i.apply(R,arguments)}),a&&m(g,"revokeObjectURL",function(z){return a.apply(R,arguments)})),x(g,"URL"),l({global:!0,forced:!d,sham:!u},{URL:g})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,se,$){"use strict";se.exports=o("./").polyfill()},{"./":250}],250:[function(o,se,$){(function(v,b){var g;g=function(){"use strict";function S(Ue){return"function"==typeof Ue}var _=Array.isArray||function(Ue){return"[object Array]"===Object.prototype.toString.call(Ue)},i=0,a=void 0,l=void 0,u=function(Ue,nt){D[i]=Ue,D[i+1]=nt,2===(i+=2)&&(l?l(V):O())},d=typeof window<"u"?window:void 0,h=(h=d||{}).MutationObserver||h.WebKitMutationObserver,m=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var Ue=setTimeout;return function(){return Ue(V,1)}}var D=new Array(1e3);function V(){for(var Ue=0;Ue<i;Ue+=2)(0,D[Ue])(D[Ue+1]),D[Ue]=void 0,D[Ue+1]=void 0;i=0}var P,x,U,O=void 0;function A(Ue,nt){var Ye,st=this,Ze=new this.constructor(re),ft=(void 0===Ze[Z]&&qe(Ze),st._state);return ft?(Ye=arguments[ft-1],u(function(){return De(ft,Ze,Ye,st._result)})):ne(st,Ze,Ue,nt),Ze}function R(Ue){var nt;return Ue&&"object"==typeof Ue&&Ue.constructor===this?Ue:(le(nt=new this(re),Ue),nt)}O=m?function(){return v.nextTick(V)}:h?(x=0,m=new h(V),U=document.createTextNode(""),m.observe(U,{characterData:!0}),function(){U.data=x=++x%2}):p?((P=new MessageChannel).port1.onmessage=V,function(){return P.port2.postMessage(0)}):(void 0===d&&"function"==typeof o?function L(){try{var Ue=Function("return this")().require("vertx");return void 0!==(a=Ue.runOnLoop||Ue.runOnContext)?function(){a(V)}:y()}catch{return y()}}:y)();var Z=Math.random().toString(36).substring(2);function re(){}var q=void 0,te=1,X=2;function G(Ue,nt,Ye){u(function(st){var Ze=!1,ft=function(Ot,ar,Vt,tr){try{Ot.call(ar,function(Ot){Ze||(Ze=!0,(nt!==Ot?le:J)(st,Ot))},function(Ot){Ze||(Ze=!0,j(st,Ot))})}catch(zt){return zt}}(Ye,nt);!Ze&&ft&&(Ze=!0,j(st,ft))},Ue)}function Y(Ue,nt,Ye){var st,Ze;nt.constructor===Ue.constructor&&Ye===A&&nt.constructor.resolve===R?(st=Ue,(Ze=nt)._state===te?J(st,Ze._result):Ze._state===X?j(st,Ze._result):ne(Ze,void 0,function(ft){return le(st,ft)},function(ft){return j(st,ft)})):void 0!==Ye&&S(Ye)?G(Ue,nt,Ye):J(Ue,nt)}function le(Ue,nt){if(Ue===nt)j(Ue,new TypeError("You cannot resolve a promise with itself"));else if(Ye=typeof nt,null===nt||"object"!=Ye&&"function"!=Ye)J(Ue,nt);else{Ye=void 0;try{Ye=nt.then}catch(st){return void j(Ue,st)}Y(Ue,nt,Ye)}var Ye}function Ie(Ue){Ue._onerror&&Ue._onerror(Ue._result),me(Ue)}function J(Ue,nt){Ue._state===q&&(Ue._result=nt,Ue._state=te,0!==Ue._subscribers.length&&u(me,Ue))}function j(Ue,nt){Ue._state===q&&(Ue._state=X,Ue._result=nt,u(Ie,Ue))}function ne(Ue,nt,Ye,st){var Ze=Ue._subscribers,ft=Ze.length;Ue._onerror=null,Ze[ft]=nt,Ze[ft+te]=Ye,Ze[ft+X]=st,0===ft&&Ue._state&&u(me,Ue)}function me(Ue){var nt=Ue._subscribers,Ye=Ue._state;if(0!==nt.length){for(var st,Ze=void 0,ft=Ue._result,Ot=0;Ot<nt.length;Ot+=3)Ze=nt[Ot+Ye],(st=nt[Ot])?De(Ye,st,Ze,ft):Ze(ft);Ue._subscribers.length=0}}function De(Ue,nt,Ye,st){var Ze=S(Ye),ft=void 0,Ot=void 0,ar=!0;if(Ze){try{ft=Ye(st)}catch(Vt){ar=!1,Ot=Vt}if(nt===ft)return void j(nt,new TypeError("A promises callback cannot return that same promise."))}else ft=st;nt._state===q&&(Ze&&ar?le(nt,ft):!1===ar?j(nt,Ot):Ue===te?J(nt,ft):Ue===X&&j(nt,ft))}var $e=0;function qe(Ue){Ue[Z]=$e++,Ue._state=void 0,Ue._result=void 0,Ue._subscribers=[]}He.prototype._enumerate=function(Ue){for(var nt=0;this._state===q&&nt<Ue.length;nt++)this._eachEntry(Ue[nt],nt)},He.prototype._eachEntry=function(Ue,nt){var Ye=this._instanceConstructor,st=Ye.resolve;if(st===R){var Ze,ft=void 0,Ot=void 0,ar=!1;try{ft=Ue.then}catch(Vt){ar=!0,Ot=Vt}ft===A&&Ue._state!==q?this._settledAt(Ue._state,nt,Ue._result):"function"!=typeof ft?(this._remaining--,this._result[nt]=Ue):Ye===ot?(Ze=new Ye(re),ar?j(Ze,Ot):Y(Ze,Ue,ft),this._willSettleAt(Ze,nt)):this._willSettleAt(new Ye(function(Vt){return Vt(Ue)}),nt)}else this._willSettleAt(st(Ue),nt)},He.prototype._settledAt=function(Ue,nt,Ye){var st=this.promise;st._state===q&&(this._remaining--,Ue===X?j(st,Ye):this._result[nt]=Ye),0===this._remaining&&J(st,this._result)},He.prototype._willSettleAt=function(Ue,nt){var Ye=this;ne(Ue,void 0,function(st){return Ye._settledAt(te,nt,st)},function(st){return Ye._settledAt(X,nt,st)})};var ut=He;function He(Ue,nt){this._instanceConstructor=Ue,this.promise=new Ue(re),this.promise[Z]||qe(this.promise),_(nt)?(this.length=nt.length,this._remaining=nt.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(nt),0!==this._remaining)||J(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}at.prototype.catch=function(Ue){return this.then(null,Ue)},at.prototype.finally=function(Ue){var nt=this.constructor;return S(Ue)?this.then(function(Ye){return nt.resolve(Ue()).then(function(){return Ye})},function(Ye){return nt.resolve(Ue()).then(function(){throw Ye})}):this.then(Ue,Ue)};var ot=at;function at(Ue){if(this[Z]=$e++,this._result=this._state=void 0,this._subscribers=[],re!==Ue){if("function"!=typeof Ue)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof at))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var nt=this;try{Ue(function(Ye){le(nt,Ye)},function(Ye){j(nt,Ye)})}catch(Ye){j(nt,Ye)}}}return ot.prototype.then=A,ot.all=function(Ue){return new ut(this,Ue).promise},ot.race=function(Ue){var nt=this;return _(Ue)?new nt(function(Ye,st){for(var Ze=Ue.length,ft=0;ft<Ze;ft++)nt.resolve(Ue[ft]).then(Ye,st)}):new nt(function(Ye,st){return st(new TypeError("You must pass an array to race."))})},ot.resolve=R,ot.reject=function(Ue){var nt=new this(re);return j(nt,Ue),nt},ot._setScheduler=function(Ue){l=Ue},ot._setAsap=function(Ue){u=Ue},ot._asap=u,ot.polyfill=function(){var Ue=void 0;if(void 0!==b)Ue=b;else if(typeof self<"u")Ue=self;else try{Ue=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var nt=Ue.Promise;if(nt){var Ye=null;try{Ye=Object.prototype.toString.call(nt.resolve())}catch{}if("[object Promise]"===Ye&&!nt.cast)return}Ue.Promise=ot},ot.Promise=ot},"object"==typeof $&&void 0!==se?se.exports=g():this.ES6Promise=g()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,se,$){var b;b=function(f,g){"use strict";function i(l){try{delete window[l]}catch{window[l]=void 0}}function a(l){(l=document.getElementById(l))&&document.getElementsByTagName("head")[0].removeChild(l)}g.exports=function(l){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=l,h=u.timeout||5e3,m=u.jsonpCallback||"callback",p=void 0;return new Promise(function(y,D){var V=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),L=m+"_"+V,P=(window[V]=function(x){y({ok:!0,json:function(){return Promise.resolve(x)}}),p&&clearTimeout(p),a(L),i(V)},d+=-1===d.indexOf("?")?"?":"&",document.createElement("script"));P.setAttribute("src",""+d+m+"="+V),u.charset&&P.setAttribute("charset",u.charset),P.id=L,document.getElementsByTagName("head")[0].appendChild(P),p=setTimeout(function(){D(new Error("JSONP request to "+l+" timed out")),i(V),a(L),window[V]=function(){i(V)}},h),P.onerror=function(){D(new Error("JSONP request to "+l+" failed")),i(V),a(L),p&&clearTimeout(p)}})}},void 0!==$&&void 0!==se?b(0,se):(b(b={exports:{}},b),this.fetchJsonp=b.exports)},{}],252:[function(o,se,$){var v=function(b){"use strict";var f,g,S,_,i,a,u,d,h,m;if(!(void 0===b||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return f=function(){return b.URL||b.webkitURL||b},g=(m=b.document).createElementNS("http://www.w3.org/1999/xhtml","a"),S="download"in g,_=/constructor/i.test(b.HTMLElement)||b.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(p){(b.setImmediate||b.setTimeout)(function(){throw p},0)},4e4,u=function(p){setTimeout(function(){"string"==typeof p?f().revokeObjectURL(p):p.remove()},4e4)},d=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},m=(h=function(p,y,x){x||(p=d(p));var V,L,P=this,U=(x="application/octet-stream"===p.type,function(){for(var A=P,R="writestart progress write writeend".split(" "),Z=(R=[].concat(R)).length;Z--;){var re=A["on"+R[Z]];if("function"==typeof re)try{re.call(A,A)}catch(q){a(q)}}});P.readyState=P.INIT,S?(V=f().createObjectURL(p),setTimeout(function(){var A,R;g.href=V,g.download=y,A=g,R=new MouseEvent("click"),A.dispatchEvent(R),U(),u(V),P.readyState=P.DONE})):(i||x&&_)&&b.FileReader?((L=new FileReader).onloadend=function(){var A=i?L.result:L.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(A,"_blank")||(b.location.href=A),A=void 0,P.readyState=P.DONE,U()},L.readAsDataURL(p),P.readyState=P.INIT):(V=V||f().createObjectURL(p),!x&&b.open(V,"_blank")||(b.location.href=V),P.readyState=P.DONE,U(),u(V))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,y,D){return y=y||p.name||"download",D||(p=d(p)),navigator.msSaveOrOpenBlob(p,y)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(p,y,D){return new h(p,y||p.name||"download",D)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==se&&se.exports&&(se.exports.saveAs=v)},{}],253:[function(o,se,$){var v,b=Object.defineProperty,f=(b($,"__esModule",{value:!0}),$),g={GIFEncoder:()=>U,applyPalette:()=>function(q,te,X="rgb565"){if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<te.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(q.buffer),Y=G.length,le="rgb444"===X?4096:65536,Ie=new Uint8Array(Y),J=new Array(le);if("rgba4444"===X)for(let at=0;at<Y;at++){var De,j=(De=G[at])>>24&255,ne=De>>16&255,me=De>>8&255,$e=($e=u(De&=255,me,ne,j))in J?J[$e]:J[$e]=function(Ue,nt,Ye,st,Ze){let ft=0,Ot=1e100;for(let zt=0;zt<Ze.length;zt++){var Vt=Ze[zt],tr=L(Vt[3]-st);tr>Ot||(tr+=L(Vt[0]-Ue))>Ot||(tr+=L(Vt[1]-nt))>Ot||(tr+=L(Vt[2]-Ye))>Ot||(Ot=tr,ft=zt)}return ft}(De,me,ne,j,te);Ie[at]=$e}else{const at="rgb444"===X?d:l;for(let Ue=0;Ue<Y;Ue++){var He,qe=(He=G[Ue])>>16&255,ut=He>>8&255,ot=(ot=at(He&=255,ut,qe))in J?J[ot]:J[ot]=function(nt,Ye,st,Ze){let ft=0,Ot=1e100;for(let zt=0;zt<Ze.length;zt++){var Vt=Ze[zt],tr=L(Vt[0]-nt);tr>Ot||(tr+=L(Vt[1]-Ye))>Ot||(tr+=L(Vt[2]-st))>Ot||(Ot=tr,ft=zt)}return ft}(He,ut,qe,te);Ie[Ue]=ot}}return Ie},default:()=>re,nearestColor:()=>function(q,te,X=D){return q[P(q,te,X)]},nearestColorIndex:()=>P,nearestColorIndexWithDistance:()=>x,prequantize:()=>function(q,{roundRGB:te=5,roundAlpha:X=10,oneBitAlpha:G=null}={}){const Y=new Uint32Array(q.buffer);for(let ne=0;ne<Y.length;ne++){let me=(j=Y[ne])>>24&255;var Ie=j>>16&255,J=j>>8&255,j=255&j;me=V(me,X),G&&(me=me<=("number"==typeof G?G:127)?0:255),j=V(j,te),J=V(J,te),Ie=V(Ie,te),Y[ne]=me<<24|Ie<<16|J<<8|j}},quantize:()=>function(q,te,X={}){var{format:G="rgb565",clearAlpha:Y=!0,clearAlphaColor:le=0,clearAlphaThreshold:Ie=0,oneBitAlpha:J=!1}=X;if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");q=new Uint32Array(q.buffer);let j=!1!==X.useSqrt;const ne="rgba4444"===G,me=function(br,Zt){const Ct=new Array("rgb444"===Zt?4096:65536),lr=br.length;if("rgba4444"===Zt)for(let vt=0;vt<lr;++vt){var Oe,Gt=(Oe=br[vt])>>24&255,Ve=Oe>>16&255,We=Oe>>8&255,Je=u(Oe&=255,We,Ve,Gt);let Lt=Je in Ct?Ct[Je]:Ct[Je]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Lt.rc+=Oe,Lt.gc+=We,Lt.bc+=Ve,Lt.ac+=Gt,Lt.cnt++}else if("rgb444"===Zt)for(let vt=0;vt<lr;++vt){var Ht,It=(Ht=br[vt])>>16&255,At=Ht>>8&255,yt=d(Ht&=255,At,It);let Lt=yt in Ct?Ct[yt]:Ct[yt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Lt.rc+=Ht,Lt.gc+=At,Lt.bc+=It,Lt.cnt++}else for(let vt=0;vt<lr;++vt){var rr,Ft=(rr=br[vt])>>16&255,Jt=rr>>8&255,Rt=l(rr&=255,Jt,Ft);let Lt=Rt in Ct?Ct[Rt]:Ct[Rt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Lt.rc+=rr,Lt.gc+=Jt,Lt.bc+=Ft,Lt.cnt++}return Ct}(q,G),De=me.length,$e=De-1,qe=new Uint32Array(De+1);for(var ut=0,He=0;He<De;++He){const br=me[He];null!=br&&(Vt=1/br.cnt,ne&&(br.ac*=Vt),br.rc*=Vt,br.gc*=Vt,br.bc*=Vt,me[ut++]=br)}var ot,at,Ue;for(m(te)/ut<.022&&(j=!1),He=0;He<ut-1;++He)me[He].fw=He+1,me[He+1].bk=He,j&&(me[He].cnt=Math.sqrt(me[He].cnt));for(j&&(me[He].cnt=Math.sqrt(me[He].cnt)),He=0;He<ut;++He){p(me,He,!1);var nt=me[He].err;for(at=++qe[0];1<at&&!(me[ot=qe[Ue=at>>1]].err<=nt);at=Ue)qe[at]=ot;qe[at]=He}var Ye,st=ut-te;for(He=0;He<st;){for(;;){var Ze=qe[1];if((Ye=me[Ze]).tm>=Ye.mtm&&me[Ye.nn].mtm<=Ye.tm)break;for(Ye.mtm==$e?Ze=qe[1]=qe[qe[0]--]:(p(me,Ze,!1),Ye.tm=He),nt=me[Ze].err,at=1;(Ue=at+at)<=qe[0]&&(Ue<qe[0]&&me[qe[Ue]].err>me[qe[Ue+1]].err&&Ue++,!(nt<=me[ot=qe[Ue]].err));at=Ue)qe[at]=ot;qe[at]=Ze}var ft=me[Ye.nn],Ot=Ye.cnt,ar=ft.cnt,Vt=1/(Ot+ar);ne&&(Ye.ac=Vt*(Ot*Ye.ac+ar*ft.ac)),Ye.rc=Vt*(Ot*Ye.rc+ar*ft.rc),Ye.gc=Vt*(Ot*Ye.gc+ar*ft.gc),Ye.bc=Vt*(Ot*Ye.bc+ar*ft.bc),Ye.cnt+=ft.cnt,Ye.mtm=++He,me[ft.bk].fw=ft.fw,me[ft.fw].bk=ft.bk,ft.mtm=$e}let tr=[];for(He=0;;0){let br=h(Math.round(me[He].rc),0,255),Zt=h(Math.round(me[He].gc),0,255),pr=h(Math.round(me[He].bc),0,255),Ct=255;ne&&(Ct=h(Math.round(me[He].ac),0,255),J&&(Ct=Ct<=(zt="number"==typeof J?J:127)?0:255),Y&&Ct<=Ie&&(br=Zt=pr=le,Ct=0));var zt=ne?[br,Zt,pr,Ct]:[br,Zt,pr];if(function(lr,Gt){for(let Oe=0;Oe<lr.length;Oe++){var Ve=(We=lr[Oe])[0]===Gt[0]&&We[1]===Gt[1]&&We[2]===Gt[2],We=!(4<=We.length&&4<=Gt.length)||We[3]===Gt[3];if(Ve&&We)return!0}return!1}(tr,zt)||tr.push(zt),0==(He=me[He].fw))break}return tr},snapColorsToPalette:()=>function(q,te,X=5){if(q.length&&te.length){var G=q.map(j=>j.slice(0,3)),Y=X*X,le=q[0].length;for(let j=0;j<te.length;j++){let ne=te[j];ne=ne.length<le?[ne[0],ne[1],ne[2],255]:ne.length>le?ne.slice(0,3):ne.slice();var J,Ie=(J=x(G,ne.slice(0,3),D))[0];0<(J=J[1])&&J<=Y&&(q[Ie]=ne)}}}};for(v in g)b(f,v,{get:g[v],enumerable:!0});var S={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function _(q=256){let te=0,X=new Uint8Array(q);return{get buffer(){return X.buffer},reset(){te=0},bytesView:()=>X.subarray(0,te),bytes:()=>X.slice(0,te),writeByte(Y){G(te+1),X[te]=Y,te++},writeBytes(Y,le=0,Ie=Y.length){G(te+Ie);for(let J=0;J<Ie;J++)X[te++]=Y[J+le]},writeBytesView(Y,le=0,Ie=Y.byteLength){G(te+Ie),X.set(Y.subarray(le,le+Ie),te),te+=Ie}};function G(Y){var le=X.length;if(!(Y<=le)){Y=Math.max(Y,le*(le<1048576?2:1.125)>>>0),0!=le&&(Y=Math.max(Y,256));const Ie=X;X=new Uint8Array(Y),0<te&&X.set(Ie.subarray(0,te),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(q,te,X,ne,Y=_(512),le=new Uint8Array(256),Ie=new Int32Array(5003),J=new Int32Array(5003)){var j=Ie.length;ne=Math.max(2,ne),le.fill(0),J.fill(0),Ie.fill(-1);let me=0,De=0;var $e=ne+1;const qe=$e;let ut=!1,He=qe,ot=(1<<He)-1;var at=1<<$e-1;const Ue=1+at;let nt=2+at,Ye=0,st=X[0],Ze=0;for(let zt=j;zt<65536;zt*=2)++Ze;Ze=8-Ze,Y.writeByte(ne),tr(at);var ft=X.length;for(let zt=1;zt<ft;zt++)e:{var Ot=X[zt],ar=(Ot<<12)+st;let br=Ot<<Ze^st;if(Ie[br]===ar)st=J[br];else{for(var Vt=0===br?1:j-br;0<=Ie[br];)if((br-=Vt)<0&&(br+=j),Ie[br]===ar){st=J[br];break e}tr(st),st=Ot,nt<4096?(J[br]=nt++,Ie[br]=ar):(Ie.fill(-1),nt=2+at,ut=!0,tr(at))}}return tr(st),tr(Ue),Y.writeByte(0),Y.bytesView();function tr(zt){for(me&=i[De],0<De?me|=zt<<De:me=zt,De+=He;8<=De;)le[Ye++]=255&me,254<=Ye&&(Y.writeByte(Ye),Y.writeBytesView(le,0,Ye),Ye=0),me>>=8,De-=8;if((nt>ot||ut)&&(ut?(He=qe,ot=(1<<He)-1,ut=!1):(++He,ot=12===He?1<<He:(1<<He)-1)),zt==Ue){for(;0<De;)le[Ye++]=255&me,254<=Ye&&(Y.writeByte(Ye),Y.writeBytesView(le,0,Ye),Ye=0),me>>=8,De-=8;0<Ye&&(Y.writeByte(Ye),Y.writeBytesView(le,0,Ye),Ye=0)}}};function l(q,te,X){return q<<8&63488|te<<2&992|X>>3}function u(q,te,X,G){return q>>4|240&te|(240&X)<<4|(240&G)<<8}function d(q,te,X){return q>>4<<8|240&te|X>>4}function h(q,te,X){return q<te?te:X<q?X:q}function m(q){return q*q}function p(q,te,X){var G=0,Y=1e100;const le=q[te];for(var Ie=le.cnt,J=le.ac,j=le.rc,ne=le.gc,me=le.bc,De=le.fw;0!=De;De=q[De].fw){var $e,ut,qe=q[De];Y<=(ut=Ie*(ut=qe.cnt)/(Ie+ut))||($e=0,X&&Y<=($e+=ut*m(qe.ac-J))||Y<=($e+=ut*m(qe.rc-j))||Y<=($e+=ut*m(qe.gc-ne))||Y<=($e+=ut*m(qe.bc-me))||(Y=$e,G=De))}le.err=Y,le.nn=G}function D(q,te){for(var X=0,G=0;G<q.length;G++){var Y=q[G]-te[G];X+=Y*Y}return X}function V(q,te){return 1<te?Math.round(q/te)*te:q}function L(q){return q*q}function P(q,te,X=D){let G=1/0,Y=-1;for(let Ie=0;Ie<q.length;Ie++){var le=X(te,q[Ie]);le<G&&(G=le,Y=Ie)}return Y}function x(q,te,X=D){let G=1/0,Y=-1;for(let Ie=0;Ie<q.length;Ie++){var le=X(te,q[Ie]);le<G&&(G=le,Y=Ie)}return[Y,G]}function U(q={}){const{initialCapacity:te=4096,auto:X=!0}=q,G=_(te),Y=new Uint8Array(256),le=new Int32Array(5003),Ie=new Int32Array(5003);let J=!1;return{reset(){G.reset(),J=!1},finish(){G.writeByte(S.trailer)},bytes:()=>G.bytes(),bytesView:()=>G.bytesView(),get buffer(){return G.buffer},get stream(){return G},writeHeader:j,writeFrame(ne,me,De,st={}){var{transparent:qe=!1,transparentIndex:ut=0,delay:Vt=0,palette:He=null,repeat:ft=0,colorDepth:ot=8,dispose:at=-1}=st;let Ue=!1;if(X?J||(Ue=!0,j(),J=!0):Ue=!!st.first,me=Math.max(0,Math.floor(me)),De=Math.max(0,Math.floor(De)),Ue){if(!He)throw new Error("First frame must include a { palette } option");var[st,Ot,Ye,ar,Ze=8]=[G,me,De,He,ot];Ze=128|Ze-1<<4|(ar=Z(ar.length)-1),R(st,Ot),R(st,Ye),st.writeBytes([Ze,0,0]),A(G,He),0<=ft&&(Ot=ft,(ar=G).writeByte(33),ar.writeByte(255),ar.writeByte(11),O(ar,"NETSCAPE2.0"),ar.writeByte(3),ar.writeByte(1),R(ar,Ot),ar.writeByte(0))}var nt,Ye,Ze=at,ft=Ye=Math.round(Vt/10),Ot=qe,ar=ut,Vt=((st=G).writeByte(33),st.writeByte(249),st.writeByte(4),ar<0&&(ar=0,Ot=!1),Ot=Ot?(nt=1,2):nt=0,0<=Ze&&(Ot=7&Ze),st.writeByte((Ot<<=2)|nt),R(st,ft),st.writeByte(ar||0),st.writeByte(0),!!He&&!Ue);qe=me,ut=De,nt=Vt?He:null,(at=G).writeByte(44),R(at,0),R(at,0),R(at,qe),R(at,ut),nt?(qe=Z(nt.length)-1,at.writeByte(128|qe)):at.writeByte(0),Vt&&A(G,He),[ft,st,ut,qe,at=8,Vt,He,ne]=[G,ne,me,De,ot,Y,le,Ie],a(ut,qe,st,at,ft,Vt,He,ne)}};function j(){O(G,"GIF89a")}}function A(q,te){var X=1<<Z(te.length);for(let G=0;G<X;G++){let Y=[0,0,0];G<te.length&&(Y=te[G]),q.writeByte(Y[0]),q.writeByte(Y[1]),q.writeByte(Y[2])}}function R(q,te){q.writeByte(255&te),q.writeByte(te>>8&255)}function O(q,te){for(var X=0;X<te.length;X++)q.writeByte(te.charCodeAt(X))}function Z(q){return Math.max(Math.ceil(Math.log2(q)),1)}var re=U},{}],254:[function(o,se,$){$.read=function(v,b,f,g,p){var _,i,a=8*p-g-1,l=(1<<a)-1,u=l>>1,d=-7,h=f?p-1:0,m=f?-1:1;for(p=v[b+h],h+=m,_=p&(1<<-d)-1,p>>=-d,d+=a;0<d;_=256*_+v[b+h],h+=m,d-=8);for(i=_&(1<<-d)-1,_>>=-d,d+=g;0<d;i=256*i+v[b+h],h+=m,d-=8);if(0===_)_=1-u;else{if(_===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,g),_-=u}return(p?-1:1)*i*Math.pow(2,_-g)},$.write=function(v,b,f,g,S,y){var i,a,l=8*y-S-1,u=(1<<l)-1,d=u>>1,h=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,m=g?0:y-1,p=g?1:-1;for(y=b<0||0===b&&1/b<0?1:0,b=Math.abs(b),isNaN(b)||b===1/0?(a=isNaN(b)?1:0,i=u):(i=Math.floor(Math.log(b)/Math.LN2),b*(g=Math.pow(2,-i))<1&&(i--,g*=2),2<=(b+=1<=i+d?h/g:h*Math.pow(2,1-d))*g&&(i++,g/=2),u<=i+d?(a=0,i=u):1<=i+d?(a=(b*g-1)*Math.pow(2,S),i+=d):(a=b*Math.pow(2,d-1)*Math.pow(2,S),i=0));8<=S;v[f+m]=255&a,m+=p,a/=256,S-=8);for(i=i<<S|a,l+=S;0<l;v[f+m]=255&i,m+=p,i/=256,l-=8);v[f+m-p]|=128*y}},{}],255:[function(o,se,$){"use strict";var v;function b(Ve,We){return Ve.b===We.b&&Ve.a===We.a}function f(Ve,We){return Ve.b<We.b||Ve.b===We.b&&Ve.a<=We.a}function g(Ve,We,Oe){var Je=We.b-Ve.b,It=Oe.b-We.b;return 0<Je+It?Je<It?We.a-Ve.a+Je/(Je+It)*(Ve.a-Oe.a):We.a-Oe.a+It/(Je+It)*(Oe.a-Ve.a):0}function S(Ve,We,Oe){var Je=We.b-Ve.b,It=Oe.b-We.b;return 0<Je+It?(We.a-Oe.a)*Je+(We.a-Ve.a)*It:0}function _(Ve,We){return Ve.a<We.a||Ve.a===We.a&&Ve.b<=We.b}function i(Ve,We,Oe){var Je=We.a-Ve.a,It=Oe.a-We.a;return 0<Je+It?Je<It?We.b-Ve.b+Je/(Je+It)*(Ve.b-Oe.b):We.b-Oe.b+It/(Je+It)*(Oe.b-Ve.b):0}function a(Ve,We,Oe){var Je=We.a-Ve.a,It=Oe.a-We.a;return 0<Je+It?(We.b-Oe.b)*Je+(We.b-Ve.b)*It:0}function l(Ve,We,Oe,Je){return(Ve=Ve<0?0:Ve)<=(Oe=Oe<0?0:Oe)?0===Oe?(We+Je)/2:We+Ve/(Ve+Oe)*(Je-We):Je+Oe/(Ve+Oe)*(We-Je)}function u(Ve){var We=y(Ve.b);return V(We,Ve.c),V(We.b,Ve.c),L(We,Ve.a),We}function d(Ve,We){var Oe=!1,Je=!1;Ve!==We&&(We.a!==Ve.a&&(Je=!0,x(We.a,Ve.a)),We.d!==Ve.d&&(Oe=!0,U(We.d,Ve.d)),D(We,Ve),Je||(V(We,Ve.a),Ve.a.c=Ve),Oe||(L(We,Ve.d),Ve.d.a=Ve))}function h(Ve){var We=Ve.b,Oe=!1;Ve.d!==Ve.b.d&&(Oe=!0,U(Ve.d,Ve.b.d)),Ve.c===Ve?x(Ve.a,null):(Ve.b.d.a=Ve.b.e,Ve.a.c=Ve.c,D(Ve,Ve.b.e),Oe||L(Ve,Ve.d)),We.c===We?(x(We.a,null),U(We.d,null)):(Ve.d.a=We.b.e,We.a.c=We.c,D(We,We.b.e)),P(Ve)}function m(Ve){var We=y(Ve),Oe=We.b;return D(We,Ve.e),We.a=Ve.b.a,V(Oe,We.a),We.d=Oe.d=Ve.d,We=We.b,D(Ve.b,Ve.b.b.e),D(Ve.b,We),Ve.b.a=We.a,We.b.a.c=We.b,We.b.d=Ve.b.d,We.f=Ve.f,We.b.f=Ve.b.f,We}function p(Ve,We){var Oe=!1,Je=y(Ve),It=Je.b;return We.d!==Ve.d&&(Oe=!0,U(We.d,Ve.d)),D(Je,Ve.e),D(It,We),Je.a=Ve.b.a,It.a=We.a,Je.d=It.d=Ve.d,Ve.d.a=It,Oe||L(Je,Ve.d),Je}function y(Ve){var We=new Ye,Oe=new Ye;return(((Oe.h=Ve.b.h).b.h=We).h=Ve).b.h=Oe,We.b=Oe,((We.c=We).e=Oe).b=We,(Oe.c=Oe).e=We}function D(Ve,We){var Oe=Ve.c,Je=We.c;Oe.b.e=We,(Je.b.e=Ve).c=Je,We.c=Oe}function V(Ve,We){var Oe=We.f,Je=new Ze(We,Oe);for(Oe.e=Je,Oe=(We.f=Je).c=Ve;Oe.a=Je,(Oe=Oe.c)!==Ve;);}function L(Ve,We){var Oe=We.d,Je=new nt(We,Oe);for(Oe.b=Je,(We.d=Je).a=Ve,Je.c=We.c,Oe=Ve;Oe.d=Je,(Oe=Oe.e)!==Ve;);}function P(Ve){var We=Ve.h;(We.b.h=Ve=Ve.b.h).b.h=We}function x(Ve,We){for(var Oe=Ve.c,Je=Oe;Je.a=We,(Je=Je.c)!==Oe;);((Je=Ve.e).f=Oe=Ve.f).e=Je}function U(Ve,We){for(var Oe=Ve.a,Je=Oe;Je.d=We,(Je=Je.e)!==Oe;);((Je=Ve.b).d=Oe=Ve.d).b=Je}function A(Ve){var We=0;return Math.abs(Ve[1])>Math.abs(Ve[0])&&(We=1),Math.abs(Ve[2])>Math.abs(Ve[We])?2:We}function R(Ve,We){Ve.f+=We.f,Ve.b.f+=We.b.f}function O(Ve,We,Oe){return Oe=Oe.a,(We=We.a).b.a===(Ve=Ve.a)?Oe.b.a===Ve?f(We.a,Oe.a)?S(Oe.b.a,We.a,Oe.a)<=0:0<=S(We.b.a,Oe.a,We.a):S(Oe.b.a,Ve,Oe.a)<=0:Oe.b.a===Ve?0<=S(We.b.a,Ve,We.a):(We=g(We.b.a,Ve,We.a),(Ve=g(Oe.b.a,Ve,Oe.a))<=We)}function Z(Ve){Ve.a.i=null;var We=Ve.e;We.a.c=We.c,We.c.a=We.a,Ve.e=null}function re(Ve,We){h(Ve.a),Ve.c=!1,(Ve.a=We).i=Ve}function q(Ve){for(var We=Ve.a.a;(Ve=Gt(Ve)).a.a===We;);return Ve.c&&(re(Ve,We=p(lr(Ve).a.b,Ve.a.e)),Ve=Gt(Ve)),Ve}function te(Ve,We,Oe){var Je=new Ct;return Je.a=Oe,Je.e=ut(Ve.f,We.e,Je),Oe.i=Je}function X(Ve,We){switch(Ve.s){case 100130:return!!(1&We);case 100131:return 0!==We;case 100132:return 0<We;case 100133:return We<0;case 100134:return 2<=We||We<=-2}return!1}function G(Ve){var We=Ve.a,Oe=We.d;Oe.c=Ve.d,Oe.a=We,Z(Ve)}function Y(Ve,We,Oe){for(We=(Ve=We).a;Ve!==Oe;){Ve.c=!1;var Je=lr(Ve),It=Je.a;if(It.a!==We.a){if(!Je.c){G(Ve);break}re(Je,It=p(We.c.b,It.b))}We.c!==It&&(d(It.b.e,It),d(We,It)),G(Ve),We=Je.a,Ve=Je}return We}function le(Ve,We,Oe,Je,It,At){for(var Ht=!0;te(Ve,We,Oe.b),(Oe=Oe.c)!==Je;);for(null===It&&(It=lr(We).a.b.c);(Oe=(Je=lr(We)).a.b).a===It.a;)Oe.c!==It&&(d(Oe.b.e,Oe),d(It.b.e,Oe)),Je.f=We.f-Oe.f,Je.d=X(Ve,Je.f),We.b=!0,!Ht&&ne(Ve,We)&&(R(Oe,It),Z(We),h(It)),Ht=!1,We=Je,It=Oe;We.b=!0,At&&De(Ve,We)}function Ie(Ve,We,Oe,Je,It){var At=[We.g[0],We.g[1],We.g[2]];We.d=null,We.d=Ve.o&&Ve.o(At,Oe,Je,Ve.c)||null,null===We.d&&(It?Ve.n||(Ue(Ve,100156),Ve.n=!0):We.d=Oe[0])}function J(Ve,We,Oe){var Je=[null,null,null,null];Je[0]=We.a.d,Je[1]=Oe.a.d,Ie(Ve,We.a,Je,[.5,.5,0,0],!1),d(We,Oe)}function j(Ve,We,Oe,Je,It){var At=Math.abs(We.b-Ve.b)+Math.abs(We.a-Ve.a),Ht=Math.abs(Oe.b-Ve.b)+Math.abs(Oe.a-Ve.a),yt=It+1;Je[It]=.5*Ht/(At+Ht),Je[yt]=.5*At/(At+Ht),Ve.g[0]+=Je[It]*We.g[0]+Je[yt]*Oe.g[0],Ve.g[1]+=Je[It]*We.g[1]+Je[yt]*Oe.g[1],Ve.g[2]+=Je[It]*We.g[2]+Je[yt]*Oe.g[2]}function ne(Ve,We){var Oe=lr(We),Je=We.a,It=Oe.a;if(f(Je.a,It.a)){if(0<S(It.b.a,Je.a,It.a))return;if(b(Je.a,It.a)){if(Je.a!==It.a){Oe=Ve.e;var At=Je.a.h;if(0<=At){var Ht=(Oe=Oe.b).d,yt=Oe.e,Ft=Oe.c,Jt=Ft[At];Ht[Jt]=Ht[Oe.a],(Ft[Ht[Jt]]=Jt)<=--Oe.a&&(Jt<=1||f(yt[Ht[Jt>>1]],yt[Ht[Jt]])?Zt:pr)(Oe,Jt),yt[At]=null,Ft[At]=Oe.b,Oe.b=At}else for(Oe.c[-(At+1)]=null;0<Oe.a&&null===Oe.c[Oe.d[Oe.a-1]];)--Oe.a;J(Ve,It.b.e,Je)}}else m(It.b),d(Je,It.b.e),We.b=Oe.b=!0}else{if(S(Je.b.a,It.a,Je.a)<0)return;Gt(We).b=We.b=!0,m(Je.b),d(It.b.e,Je)}return 1}function me(Ve,We){var Oe=lr(We),Je=We.a,It=Oe.a,At=Je.a,Ht=It.a,yt=Je.b.a,Ft=It.b.a,Jt=new Ze;if(S(yt,Ve.a,At),S(Ft,Ve.a,Ht),!(At===Ht||Math.min(At.a,yt.a)>Math.max(Ht.a,Ft.a))){if(f(At,Ht)){if(0<S(Ft,At,Ht))return}else if(S(yt,Ht,At)<0)return;var rr,Rt,vt=yt,Lt=At,bt=Ft,Pt=Ht;if(f(vt,Lt)||(rr=vt,vt=Lt,Lt=rr),f(bt,Pt)||(rr=bt,bt=Pt,Pt=rr),f(vt,bt)||(rr=vt,vt=bt,bt=rr,rr=Lt,Lt=Pt,Pt=rr),f(bt,Lt)?f(Lt,Pt)?((rr=g(vt,bt,Lt))+(Rt=g(bt,Lt,Pt))<0&&(rr=-rr,Rt=-Rt),Jt.b=l(rr,bt.b,Rt,Lt.b)):((rr=S(vt,bt,Lt))+(Rt=-S(vt,Pt,Lt))<0&&(rr=-rr,Rt=-Rt),Jt.b=l(rr,bt.b,Rt,Pt.b)):Jt.b=(bt.b+Lt.b)/2,_(vt,Lt)||(rr=vt,vt=Lt,Lt=rr),_(bt,Pt)||(rr=bt,bt=Pt,Pt=rr),_(vt,bt)||(rr=vt,vt=bt,bt=rr,rr=Lt,Lt=Pt,Pt=rr),_(bt,Lt)?_(Lt,Pt)?((rr=i(vt,bt,Lt))+(Rt=i(bt,Lt,Pt))<0&&(rr=-rr,Rt=-Rt),Jt.a=l(rr,bt.a,Rt,Lt.a)):((rr=a(vt,bt,Lt))+(Rt=-a(vt,Pt,Lt))<0&&(rr=-rr,Rt=-Rt),Jt.a=l(rr,bt.a,Rt,Pt.a)):Jt.a=(bt.a+Lt.a)/2,f(Jt,Ve.a)&&(Jt.b=Ve.a.b,Jt.a=Ve.a.a),vt=f(At,Ht)?At:Ht,f(vt,Jt)&&(Jt.b=vt.b,Jt.a=vt.a),b(Jt,At)||b(Jt,Ht))return ne(Ve,We),0;if(!b(yt,Ve.a)&&0<=S(yt,Ve.a,Jt)||!b(Ft,Ve.a)&&S(Ft,Ve.a,Jt)<=0){if(Ft===Ve.a)m(Je.b),d(It.b,Je),Je=lr(We=q(We)).a,Y(Ve,lr(We),Oe),le(Ve,We,Je.b.e,Je,Je,!0);else{if(yt!==Ve.a)return 0<=S(yt,Ve.a,Jt)&&(Gt(We).b=We.b=!0,m(Je.b),Je.a.b=Ve.a.b,Je.a.a=Ve.a.a),void(S(Ft,Ve.a,Jt)<=0&&(We.b=Oe.b=!0,m(It.b),It.a.b=Ve.a.b,It.a.a=Ve.a.a));for(m(It.b),d(Je.e,It.b.e),Ht=(At=Oe=We).a.b.a;(At=Gt(At)).a.b.a===Ht;);At=lr(We=At).a.b.c,Oe.a=It.b.e,le(Ve,We,(It=Y(Ve,Oe,null)).c,Je.b.c,At,!0)}return 1}m(Je.b),m(It.b),d(It.b.e,Je),Je.a.b=Jt.b,Je.a.a=Jt.a,Je.a.h=Ot(Ve.e,Je.a),It=[0,0,0,0],Jt=[At.d,yt.d,Ht.d,Ft.d],(Je=Je.a).g[0]=Je.g[1]=Je.g[2]=0,j(Je,At,yt,It,0),j(Je,Ht,Ft,It,2),Ie(Ve,Je,Jt,It,!0),Gt(We).b=We.b=Oe.b=!0}}function De(Ve,We){for(var Oe=lr(We);;){for(;Oe.b;)Oe=lr(We=Oe);if(!(We.b||null!==(We=Gt(Oe=We))&&We.b))break;We.b=!1;var Je=We.a,It=Oe.a;if(At=Je.b.a!==It.b.a)e:{var At,Ht=lr(At=We),yt=At.a,Ft=Ht.a,Jt=void 0;if(f(yt.b.a,Ft.b.a)){if(S(yt.b.a,Ft.b.a,yt.a)<0){At=!1;break e}Gt(At).b=At.b=!0,Jt=m(yt),d(Ft.b,Jt),Jt.d.c=At.d}else{if(0<S(Ft.b.a,yt.b.a,Ft.a)){At=!1;break e}At.b=Ht.b=!0,Jt=m(Ft),d(yt.e,Ft.b),Jt.b.d.c=At.d}At=!0}if(At&&(Oe.c?(Z(Oe),h(It),It=(Oe=lr(We)).a):We.c&&(Z(We),h(Je),Je=(We=Gt(Oe)).a)),Je.a!==It.a)if(Je.b.a===It.b.a||We.c||Oe.c||Je.b.a!==Ve.a&&It.b.a!==Ve.a)ne(Ve,We);else if(me(Ve,We))break;Je.a===It.a&&Je.b.a===It.b.a&&(R(It,Je),Z(We),h(Je),We=Gt(Oe))}}function $e(Ve,We){var Oe=new Ct,Je=u(Ve.b);Je.a.b=4e150,Je.a.a=We,Je.b.a.b=-4e150,Je.b.a.a=We,Ve.a=Je.b.a,Oe.a=Je,Oe.f=0,Oe.d=!1,Oe.c=!1,Oe.h=!0,Oe.b=!1,Je=ut(Je=Ve.f,Je.a,Oe),Oe.e=Je}function qe(Ve){this.a=new He,this.b=Ve,this.c=O}function ut(Ve,We,Oe){for(;null!==(We=We.c).b&&!Ve.c(Ve.b,We.b,Oe););return Ve=new He(Oe,We.a,We),We.a.c=Ve,We.a=Ve}function He(Ve,We,Oe){this.b=Ve||null,this.a=We||this,this.c=Oe||this}function ot(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function at(Ve,We){if(Ve.d!==We)for(;Ve.d!==We;)if(Ve.d<We)switch(Ve.d){case 0:Ue(Ve,100151),Ve.u(null);break;case 1:Ue(Ve,100152),Ve.t()}else switch(Ve.d){case 2:Ue(Ve,100154),Ve.v();break;case 1:Ue(Ve,100153),Ve.w()}}function Ue(Ve,We){Ve.p&&Ve.p(We,Ve.c)}function nt(Ve,We){this.b=Ve||this,this.d=We||this,this.a=null,this.c=!1}function Ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function st(){this.c=new Ze,this.a=new nt,this.b=new Ye,this.d=new Ye,this.b.b=this.d,this.d.b=this.b}function Ze(Ve,We){this.e=Ve||this,this.f=We||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ft(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Vt}function Ot(Ve,We){var Oe,Je,It;return Ve.e?(2*(Je=++(Oe=Ve.b).a)>Oe.f&&(Oe.f*=2,Oe.c=tr(Oe.c,Oe.f+1)),0===Oe.b?It=Je:(It=Oe.b,Oe.b=Oe.c[Oe.b]),Oe.e[It]=We,Oe.c[It]=Je,Oe.d[Je]=It,Oe.h&&pr(Oe,Je),It):(Oe=Ve.a++,Ve.c[Oe]=We,-(Oe+1))}function ar(Ve){if(0===Ve.a)return br(Ve.b);var We=Ve.c[Ve.d[Ve.a-1]];if(0!==Ve.b.a&&f(zt(Ve.b),We))return br(Ve.b);for(;--Ve.a,0<Ve.a&&null===Ve.c[Ve.d[Ve.a-1]];);return We}function Vt(){this.d=tr([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function tr(Ve,We){for(var Oe=Array(We),Je=0;Je<Ve.length;Je++)Oe[Je]=Ve[Je];for(;Je<We;Je++)Oe[Je]=0;return Oe}function zt(Ve){return Ve.e[Ve.d[1]]}function br(Ve){var We=Ve.d,Oe=Ve.e,Je=Ve.c,It=We[1],At=Oe[It];return 0<Ve.a&&(We[1]=We[Ve.a],Je[We[1]]=1,Oe[It]=null,Je[It]=Ve.b,Ve.b=It,0<--Ve.a&&Zt(Ve,1)),At}function Zt(Ve,We){for(var Oe=Ve.d,Je=Ve.e,It=Ve.c,At=We,Ht=Oe[At];;){var yt=At<<1,Ft=(yt<Ve.a&&f(Je[Oe[yt+1]],Je[Oe[yt]])&&(yt+=1),Oe[yt]);if(yt>Ve.a||f(Je[Ht],Je[Ft])){It[Oe[At]=Ht]=At;break}It[Oe[At]=Ft]=At,At=yt}}function pr(Ve,We){for(var Oe=Ve.d,Je=Ve.e,It=Ve.c,At=We,Ht=Oe[At];;){var yt=At>>1,Ft=Oe[yt];if(0==yt||f(Je[Ft],Je[Ht])){It[Oe[At]=Ht]=At;break}It[Oe[At]=Ft]=At,At=yt}}function Ct(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function lr(Ve){return Ve.e.c.b}function Gt(Ve){return Ve.e.a.b}(v=ot.prototype).x=function(){at(this,0)},v.B=function(Ve,We){switch(Ve){case 100142:return;case 100140:switch(We){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=We)}break;case 100141:return void(this.m=!!We);default:return void Ue(this,100900)}Ue(this,100901)},v.y=function(Ve){switch(Ve){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Ue(this,100900)}return!1},v.A=function(Ve,We,Oe){this.j[0]=Ve,this.j[1]=We,this.j[2]=Oe},v.z=function(Ve,We){var Oe=We||null;switch(Ve){case 100100:case 100106:this.h=Oe;break;case 100104:case 100110:this.l=Oe;break;case 100101:case 100107:this.k=Oe;break;case 100102:case 100108:this.i=Oe;break;case 100103:case 100109:this.p=Oe;break;case 100105:case 100111:this.o=Oe;break;case 100112:this.r=Oe;break;default:Ue(this,100900)}},v.C=function(Ve,We){var Oe=!1,Je=[0,0,0];at(this,2);for(var It=0;It<3;++It){var At=Ve[It];At<-1e150&&(At=-1e150,Oe=!0),1e150<At&&(At=1e150,Oe=!0),Je[It]=At}Oe&&Ue(this,100155),null===(Oe=this.q)?d(Oe=u(this.b),Oe.b):(m(Oe),Oe=Oe.e),Oe.a.d=We,Oe.a.g[0]=Je[0],Oe.a.g[1]=Je[1],Oe.a.g[2]=Je[2],Oe.f=1,Oe.b.f=-1,this.q=Oe},v.u=function(Ve){at(this,0),this.d=1,this.b=new st,this.c=Ve},v.t=function(){at(this,1),this.d=2,this.q=null},v.v=function(){at(this,2),this.d=1},v.w=function(){at(this,1),this.d=0;var Ve,We,At=!1,Ht=[Oe=this.j[0],Je=this.j[1],It=this.j[2]];if(0===Oe&&0===Je&&0===It){for(var Je=[-2e150,-2e150,-2e150],yt=[2e150,2e150,2e150],It=[],Ft=[],Oe=(At=this.b.c).e;Oe!==At;Oe=Oe.e)for(var Jt=0;Jt<3;++Jt){var rr=Oe.g[Jt];rr<yt[Jt]&&(yt[Jt]=rr,Ft[Jt]=Oe),rr>Je[Jt]&&(Je[Jt]=rr,It[Jt]=Oe)}if(Je[1]-yt[1]>Je[Oe=0]-yt[0]&&(Oe=1),yt[Oe=Je[2]-yt[2]>Je[Oe]-yt[Oe]?2:Oe]>=Je[Oe])Ht[0]=0,Ht[1]=0,Ht[2]=1;else{for(yt=Ft[Oe],Ft=[Je=0,0,0],yt=[yt.g[0]-(It=It[Oe]).g[0],yt.g[1]-It.g[1],yt.g[2]-It.g[2]],Jt=[0,0,0],Oe=At.e;Oe!==At;Oe=Oe.e)Jt[0]=Oe.g[0]-It.g[0],Jt[1]=Oe.g[1]-It.g[1],Jt[2]=Oe.g[2]-It.g[2],Ft[0]=yt[1]*Jt[2]-yt[2]*Jt[1],Ft[1]=yt[2]*Jt[0]-yt[0]*Jt[2],Ft[2]=yt[0]*Jt[1]-yt[1]*Jt[0],Je<(rr=Ft[0]*Ft[0]+Ft[1]*Ft[1]+Ft[2]*Ft[2])&&(Je=rr,Ht[0]=Ft[0],Ht[1]=Ft[1],Ht[2]=Ft[2]);Je<=0&&(Ht[0]=Ht[1]=Ht[2]=0,Ht[A(yt)]=1)}At=!0}for(Je=((Ft=A(Ht))+1)%3,It=(Ft+2)%3,Ft=0<Ht[Ft]?1:-1,Ht=(Oe=this.b.c).e;Ht!==Oe;Ht=Ht.e)Ht.b=Ht.g[Je],Ht.a=Ft*Ht.g[It];if(At){for(Ht=0,Oe=(At=this.b.a).b;Oe!==At;Oe=Oe.b)if(!((Je=Oe.a).f<=0))for(;Ht+=(Je.a.b-Je.b.a.b)*(Je.a.a+Je.b.a.a),(Je=Je.e)!==Oe.a;);if(Ht<0)for(At=(Ht=this.b.c).e;At!==Ht;At=At.e)At.a=-At.a}for(this.n=!1,Oe=(Ht=this.b.b).h;Oe!==Ht;Oe=At)At=Oe.h,Je=Oe.e,b(Oe.a,Oe.b.a)&&Oe.e.e!==Oe&&(J(this,Je,Oe),h(Oe),Je=(Oe=Je).e),Je.e===Oe&&(Je!==Oe&&(Je!==At&&Je!==At.b||(At=At.h),h(Je)),Oe!==At&&Oe!==At.b||(At=At.h),h(Oe));for(this.e=Ht=new ft,Oe=(At=this.b.c).e;Oe!==At;Oe=Oe.e)Oe.h=Ot(Ht,Oe);var Rt=Ht;Rt.d=[];for(var vt=0;vt<Rt.a;vt++)Rt.d[vt]=vt;Rt.d.sort(function(Pt){return function(fr,dt){return f(Pt[fr],Pt[dt])?1:-1}}(Rt.c)),Rt.e=!0;for(var Lt=Rt.b,bt=Lt.a;1<=bt;--bt)Zt(Lt,bt);for(Lt.h=!0,this.f=new qe(this),$e(this,-4e150),$e(this,4e150);null!==(Ht=ar(this.e));){for(;;){e:if(0===(Oe=this.e).a)At=zt(Oe.b);else if(At=Oe.c[Oe.d[Oe.a-1]],0!==Oe.b.a&&f(Oe=zt(Oe.b),At)){At=Oe;break e}if(null===At||!b(At,Ht))break;At=ar(this.e),J(this,Ht.c,At.c)}!function Pt(fr,dt){for(var xt,nr=(fr.a=dt).c;null===nr.i;)if((nr=nr.c)===dt.c){nr=fr;var Kt=dt;(Mr=new Ct).a=Kt.c.b;for(var W=(ur=nr.f).a;null!==(W=W.a).b&&!ur.c(ur.b,Mr,W.b););var ur,vr,hr=lr(ur=W.b),Mr=ur.a;return W=hr.a,void(0===S(Mr.b.a,Kt,Mr.a)?b((Mr=ur.a).a,Kt)||b(Mr.b.a,Kt)||(m(Mr.b),ur.c&&(h(Mr.c),ur.c=!1),d(Kt.c,Mr),Pt(nr,Kt)):(vr=f(W.b.a,Mr.b.a)?ur:hr,hr=void 0,ur.d||vr.c?(hr=vr===ur?p(Kt.c.b,Mr.e):p(W.b.c.b,Kt.c).b,vr.c?re(vr,hr):((ur=te(Mr=nr,ur,hr)).f=Gt(ur).f+ur.a.f,ur.d=X(Mr,ur.f)),Pt(nr,Kt)):le(nr,ur,Kt.c,Kt.c,null,!0)))}ur=(Mr=lr(nr=q(nr.i))).a,(Mr=Y(fr,Mr,null)).c===ur?(Mr=(ur=Mr).c,W=lr(nr),xt=!1,(hr=nr.a).b.a!==(vr=W.a).b.a&&me(fr,nr),b(hr.a,fr.a)&&(d(Mr.b.e,hr),Mr=lr(nr=q(nr)).a,Y(fr,lr(nr),W),xt=!0),b(vr.a,fr.a)&&(d(ur,vr.b.e),ur=Y(fr,W,null),xt=!0),xt?le(fr,nr,ur.c,Mr,Mr,!0):(Kt=f(vr.a,hr.a)?vr.b.e:hr,le(fr,nr,Kt=p(ur.c.b,Kt),Kt.c,Kt.c,!1),Kt.b.i.c=!0,De(fr,nr))):le(fr,nr,Mr.c,ur,ur,!0)}(this,Ht)}for(this.a=this.f.a.a.b.a.a,Ht=0;null!==(At=this.f.a.a.b);)At.h||++Ht,Z(At);for(this.f=null,(Ht=this.e).b=null,Ht.d=null,this.e=Ht.c=null,Oe=(Ht=this.b).a.b;Oe!==Ht.a;Oe=At)At=Oe.b,(Oe=Oe.a).e.e===Oe&&(R(Oe.c,Oe),h(Oe));if(!this.n){if(Ht=this.b,this.m)for(Oe=Ht.b.h;Oe!==Ht.b;Oe=At)At=Oe.h,Oe.b.d.c!==Oe.d.c?Oe.f=Oe.d.c?1:-1:h(Oe);else for(Oe=Ht.a.b;Oe!==Ht.a;Oe=At)if(At=Oe.b,Oe.c){for(Oe=Oe.a;f(Oe.b.a,Oe.a);Oe=Oe.c.b);for(;f(Oe.a,Oe.b.a);Oe=Oe.e);for(Je=Oe.c.b,It=void 0;Oe.e!==Je;)if(f(Oe.b.a,Je.a)){for(;Je.e!==Oe&&(f((We=Je.e).b.a,We.a)||S(Je.a,Je.b.a,Je.e.b.a)<=0);)Je=(It=p(Je.e,Je)).b;Je=Je.c.b}else{for(;Je.e!==Oe&&(f((Ve=Oe.c.b).a,Ve.b.a)||0<=S(Oe.b.a,Oe.a,Oe.c.b.a));)Oe=(It=p(Oe,Oe.c.b)).b;Oe=Oe.e}for(;Je.e.e!==Oe;)Je=(It=p(Je.e,Je)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(At=(Ht=this.b).a.b;At!==Ht.a;At=At.b)if(At.c){for(this.h&&this.h(2,this.c),Oe=At.a;this.k&&this.k(Oe.a.d,this.c),(Oe=Oe.e)!==At.a;);this.i&&this.i(this.c)}}else{for(At=!!this.l,Oe=!1,Je=-1,It=(Ht=this.b).a.d;It!==Ht.a;It=It.d)if(It.c)for(Oe||(this.h&&this.h(4,this.c),Oe=!0),Ft=It.a;At&&Je!==(yt=Ft.b.d.c?0:1)&&(Je=yt,this.l&&this.l(!!Je,this.c)),this.k&&this.k(Ft.a.d,this.c),(Ft=Ft.e)!==It.a;);Oe&&this.i&&this.i(this.c)}if(this.r){for(Oe=(Ht=this.b).a.b;Oe!==Ht.a;Oe=At)if(At=Oe.b,!Oe.c){for(It=(Je=Oe.a).e,Ft=void 0;It=(Ft=It).e,(Ft.d=null)===Ft.b.d&&(Ft.c===Ft?x(Ft.a,null):(Ft.a.c=Ft.c,D(Ft,Ft.b.e)),(yt=Ft.b).c===yt?x(yt.a,null):(yt.a.c=yt.c,D(yt,yt.b.e)),P(Ft)),Ft!==Je;);Je=Oe.d,((Oe=Oe.b).d=Je).b=Oe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ot,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ot.prototype.gluDeleteTess=ot.prototype.x,ot.prototype.gluTessProperty=ot.prototype.B,ot.prototype.gluGetTessProperty=ot.prototype.y,ot.prototype.gluTessNormal=ot.prototype.A,ot.prototype.gluTessCallback=ot.prototype.z,ot.prototype.gluTessVertex=ot.prototype.C,ot.prototype.gluTessBeginPolygon=ot.prototype.u,ot.prototype.gluTessBeginContour=ot.prototype.t,ot.prototype.gluTessEndContour=ot.prototype.v,ot.prototype.gluTessEndPolygon=ot.prototype.w,void 0!==se&&(se.exports=this.libtess)},{}],256:[function(o,se,$){"use strict";function b(f,g,S,_){for(var i=f[g++],a=1<<i,l=1+a,u=1+l,d=i+1,h=(1<<d)-1,m=0,p=0,y=0,D=f[g++],V=new Int32Array(4096),L=null;;){for(;m<16&&0!==D;)p|=f[g++]<<m,m+=8,1===D?D=f[g++]:--D;if(m<d)break;var P=p&h;if(p>>=d,m-=d,P==a)u=1+l,h=(1<<(d=i+1))-1,L=null;else{if(P==l)break;for(var x=P<u?P:L,U=0,A=x;a<A;)A=V[A]>>8,++U;var R=A;if(_<y+U+(x!==P?1:0))return void console.log("Warning, gif stream longer than expected.");S[y++]=R;var O=y+=U;for(x!==P&&(S[y++]=R),A=x;U--;)S[--O]=255&(A=V[A]),A>>=8;null!==L&&u<4096&&(V[u++]=L<<8|R,h+1<=u&&d<12&&(++d,h=h<<1|1)),L=P}}y!==_&&console.log("Warning, gif stream shorter than expected.")}try{$.GifWriter=function v(f,g,S,_){var i=0,a=void 0===(_=void 0===_?{}:_).loop?null:_.loop,l=void 0===_.palette?null:_.palette;if(g<=0||S<=0||65535<g||65535<S)throw new Error("Width/Height invalid.");function u(L){if((L=L.length)<2||256<L||L&L-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return L}f[i++]=71,f[i++]=73,f[i++]=70,f[i++]=56,f[i++]=57,f[i++]=97;var d=0,h=0;if(null!==l){for(var m=u(l);m>>=1;)++d;if(m=1<<d,--d,void 0!==_.background){if(m<=(h=_.background))throw new Error("Background index out of range.");if(0===h)throw new Error("Background index explicitly passed as 0.")}}if(f[i++]=255&g,f[i++]=g>>8&255,f[i++]=255&S,f[i++]=S>>8&255,f[i++]=(null!==l?128:0)|d,f[i++]=h,f[i++]=0,null!==l)for(var p=0,y=l.length;p<y;++p){var D=l[p];f[i++]=D>>16&255,f[i++]=D>>8&255,f[i++]=255&D}if(null!==a){if(a<0||65535<a)throw new Error("Loop count invalid.");f[i++]=33,f[i++]=255,f[i++]=11,f[i++]=78,f[i++]=69,f[i++]=84,f[i++]=83,f[i++]=67,f[i++]=65,f[i++]=80,f[i++]=69,f[i++]=50,f[i++]=46,f[i++]=48,f[i++]=3,f[i++]=1,f[i++]=255&a,f[i++]=a>>8&255,f[i++]=0}var V=!1;this.addFrame=function(L,P,x,U,A,R){if(!0===V&&(--i,V=!1),R=void 0===R?{}:R,L<0||P<0||65535<L||65535<P)throw new Error("x/y invalid.");if(x<=0||U<=0||65535<x||65535<U)throw new Error("Width/Height invalid.");if(A.length<x*U)throw new Error("Not enough pixels for the frame size.");var O=!0,Z=R.palette;if(null==Z&&(O=!1,Z=l),null==Z)throw new Error("Must supply either a local or global palette.");for(var q=u(Z),re=0;q>>=1;)++re;q=1<<re;var te=void 0===R.delay?0:R.delay,X=void 0===R.disposal?0:R.disposal;if(X<0||3<X)throw new Error("Disposal out of range.");var G=!1,Y=0;if(null!=R.transparent&&(G=!0,(Y=R.transparent)<0||q<=Y))throw new Error("Transparent color index.");if(0===X&&!G&&0===te||(f[i++]=33,f[i++]=249,f[i++]=4,f[i++]=X<<2|(!0===G?1:0),f[i++]=255&te,f[i++]=te>>8&255,f[i++]=Y,f[i++]=0),f[i++]=44,f[i++]=255&L,f[i++]=L>>8&255,f[i++]=255&P,f[i++]=P>>8&255,f[i++]=255&x,f[i++]=x>>8&255,f[i++]=255&U,f[i++]=U>>8&255,f[i++]=!0===O?128|re-1:0,!0===O)for(var le=0,Ie=Z.length;le<Ie;++le){var J=Z[le];f[i++]=J>>16&255,f[i++]=J>>8&255,f[i++]=255&J}return i=function(j,ne,me,De){j[ne++]=me;var $e=ne++,qe=1<<me,ut=qe-1,He=1+qe,ot=1+He,at=me+1,Ue=0,nt=0;function Ye(br){for(;br<=Ue;)j[ne++]=255&nt,nt>>=8,Ue-=8,ne===$e+256&&(j[$e]=255,$e=ne++)}function st(br){nt|=br<<Ue,Ue+=at,Ye(8)}var Ze=De[0]&ut,ft={};st(qe);for(var Ot=1,ar=De.length;Ot<ar;++Ot){var Vt=De[Ot]&ut,tr=Ze<<8|Vt,zt=ft[tr];if(void 0===zt){for(nt|=Ze<<Ue,Ue+=at;8<=Ue;)j[ne++]=255&nt,nt>>=8,Ue-=8,ne===$e+256&&(j[$e]=255,$e=ne++);4096===ot?(st(qe),ot=1+He,at=me+1,ft={}):(1<<at<=ot&&++at,ft[tr]=ot++),Ze=Vt}else Ze=zt}return st(Ze),st(He),Ye(1),$e+1===ne?j[$e]=0:(j[$e]=ne-$e-1,j[ne++]=0),ne}(f,i,re<2?2:re,A)},this.end=function(){return!1===V&&(f[i++]=59,V=!0),i},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(L){f=L},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(L){i=L}},$.GifReader=function(f){var g=0;if(71!==f[g++]||73!==f[g++]||70!==f[g++]||56!==f[g++]||56!=(f[g++]+1&253)||97!==f[g++])throw new Error("Invalid GIF 87a/89a header.");var S=f[g++]|f[g++]<<8,_=f[g++]|f[g++]<<8,i=f[g++],l=(g++,g++,null),u=null,d=(i>>7&&(l=g,g+=3*(u=1<<1+(7&i))),!0),h=[],m=0,p=null,y=0,D=null;for(this.width=S,this.height=_;d&&g<f.length;)switch(f[g++]){case 33:switch(f[g++]){case 255:if(11!==f[g]||78==f[g+1]&&69==f[g+2]&&84==f[g+3]&&83==f[g+4]&&67==f[g+5]&&65==f[g+6]&&80==f[g+7]&&69==f[g+8]&&50==f[g+9]&&46==f[g+10]&&48==f[g+11]&&3==f[g+12]&&1==f[g+13]&&0==f[g+16])g+=14,D=f[g++]|f[g++]<<8,g++;else for(g+=12;;){if(!(0<=(L=f[g++])))throw Error("Invalid block size");if(0===L)break;g+=L}break;case 249:if(4!==f[g++]||0!==f[g+4])throw new Error("Invalid graphics extension block.");var V=f[g++];m=f[g++]|f[g++]<<8,p=f[g++],!(1&V)&&(p=null),y=V>>2&7,g++;break;case 254:for(;;){if(!(0<=(L=f[g++])))throw Error("Invalid block size");if(0===L)break;g+=L}break;default:throw new Error("Unknown graphic control label: 0x"+f[g-1].toString(16))}break;case 44:var L,P=f[g++]|f[g++]<<8,x=f[g++]|f[g++]<<8,U=f[g++]|f[g++]<<8,A=f[g++]|f[g++]<<8,R=(te=f[g++])>>6&1,Z=l,re=u,q=!1,te=(te>>7&&(q=!0,Z=g,g+=3*(re=1<<1+(7&te))),g);for(g++;;){if(!(0<=(L=f[g++])))throw Error("Invalid block size");if(0===L)break;g+=L}h.push({x:P,y:x,width:U,height:A,has_local_palette:q,palette_offset:Z,palette_size:re,data_offset:te,data_length:g-te,transparent_index:p,interlaced:!!R,delay:m,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+f[g-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return D},this.frameInfo=function(X){if(X<0||X>=h.length)throw new Error("Frame index out of range.");return h[X]},this.decodeAndBlitFrameBGRA=function(X,G){for(var Y=(X=this.frameInfo(X)).width*X.height,le=new Uint8Array(Y),Ie=(b(f,X.data_offset,le,Y),X.palette_offset),J=X.transparent_index,j=(null===J&&(J=256),X.width),ne=S-j,me=j,De=4*(X.y*S+X.x),$e=4*((X.y+X.height)*S+X.x),qe=De,ut=4*ne,He=(!0===X.interlaced&&(ut+=4*S*7),8),ot=0,at=le.length;ot<at;++ot){var Ue,nt,Ye=le[ot];0===me&&(me=j,$e<=(qe+=ut)&&(ut=4*ne+4*S*(He-1),qe=De+(j+ne)*(He<<1),He>>=1)),Ye===J?qe+=4:(Ue=f[Ie+3*Ye],nt=f[Ie+3*Ye+1],G[qe++]=Ye=f[Ie+3*Ye+2],G[qe++]=nt,G[qe++]=Ue,G[qe++]=255),--me}},this.decodeAndBlitFrameRGBA=function(X,G){for(var Y=(X=this.frameInfo(X)).width*X.height,le=new Uint8Array(Y),Ie=(b(f,X.data_offset,le,Y),X.palette_offset),J=X.transparent_index,j=(null===J&&(J=256),X.width),ne=S-j,me=j,De=4*(X.y*S+X.x),$e=4*((X.y+X.height)*S+X.x),qe=De,ut=4*ne,He=(!0===X.interlaced&&(ut+=4*S*7),8),ot=0,at=le.length;ot<at;++ot){var Ue,nt,Ye=le[ot];0===me&&(me=j,$e<=(qe+=ut)&&(ut=4*ne+4*S*(He-1),qe=De+(j+ne)*(He<<1),He>>=1)),Ye===J?qe+=4:(Ue=f[Ie+3*Ye],nt=f[Ie+3*Ye+1],Ye=f[Ie+3*Ye+2],G[qe++]=Ue,G[qe++]=nt,G[qe++]=Ye,G[qe++]=255),--me}}}}catch{}},{}],257:[function(o,se,$){(function(v){var f;f=function(g){"use strict";function S(pe){if(null==this)throw TypeError();var N,K=String(this),ee=K.length;if(!((pe=(pe=pe?Number(pe):0)!=pe?0:pe)<0||ee<=pe))return 55296<=(N=K.charCodeAt(pe))&&N<=56319&&pe+1<ee&&56320<=(ee=K.charCodeAt(pe+1))&&ee<=57343?1024*(N-55296)+ee-56320+65536:N}String.prototype.codePointAt||((_=function(){try{var E={},N=Object.defineProperty,K=N(E,E,E)&&N}catch{}return K}())?_(String.prototype,"codePointAt",{value:S,configurable:!0,writable:!0}):String.prototype.codePointAt=S);var _;function l(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(E,N){this.source=E,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=N,this.destLen=0,this.ltree=new l,this.dtree=new l}var d=new l,h=new l,m=new Uint8Array(30),p=new Uint16Array(30),y=new Uint8Array(30),D=new Uint16Array(30),V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L=new l,P=new Uint8Array(320);function x(E,N,K,ee){for(var pe,Ae=0;Ae<K;++Ae)E[Ae]=0;for(Ae=0;Ae<30-K;++Ae)E[Ae+K]=Ae/K|0;for(pe=ee,Ae=0;Ae<30;++Ae)N[Ae]=pe,pe+=1<<E[Ae]}var U=new Uint16Array(16);function A(E,N,K,ee){for(var pe,Ae=0;Ae<16;++Ae)E.table[Ae]=0;for(Ae=0;Ae<ee;++Ae)E.table[N[K+Ae]]++;for(Ae=pe=E.table[0]=0;Ae<16;++Ae)U[Ae]=pe,pe+=E.table[Ae];for(Ae=0;Ae<ee;++Ae)N[K+Ae]&&(E.trans[U[N[K+Ae]]++]=Ae)}function R(E,N,K){if(!N)return K;for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;var ee=E.tag&65535>>>16-N;return E.tag>>>=N,E.bitcount-=N,ee+K}function O(E,N){for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;for(var K=0,ee=0,pe=0,Ae=E.tag;ee=2*ee+(1&Ae),Ae>>>=1,K+=N.table[++pe],0<=(ee-=N.table[pe]););return E.tag=Ae,E.bitcount-=pe,N.trans[K+ee]}function Z(E,N,K){for(;;){if(256===(ee=O(E,N)))return 0;if(ee<256)E.dest[E.destLen++]=ee;else for(var pe,Ae=R(E,m[ee-=257],p[ee]),ee=O(E,K),Pe=pe=E.destLen-R(E,y[ee],D[ee]);Pe<pe+Ae;++Pe)E.dest[E.destLen++]=E.dest[Pe]}}for(var re=d,q=h,te=0;te<7;++te)re.table[te]=0;for(re.table[7]=24,re.table[8]=152,re.table[9]=112,te=0;te<24;++te)re.trans[te]=256+te;for(te=0;te<144;++te)re.trans[24+te]=te;for(te=0;te<8;++te)re.trans[168+te]=280+te;for(te=0;te<112;++te)re.trans[176+te]=144+te;for(te=0;te<5;++te)q.table[te]=0;for(q.table[5]=32,te=0;te<32;++te)q.trans[te]=te;x(m,p,4,3),x(y,D,2,1),m[28]=0,p[28]=258;var X=function(E,N){var K,ee,pe,Ae=new u(E,N);do{switch(void 0,(ee=Ae).bitcount--||(ee.tag=ee.source[ee.sourceIndex++],ee.bitcount=7),pe=1&ee.tag,ee.tag>>>=1,ee=pe,R(Ae,2,0)){case 0:K=function(sr){for(var Br,Lr;8<sr.bitcount;)sr.sourceIndex--,sr.bitcount-=8;if((Br=256*sr.source[sr.sourceIndex+1]+sr.source[sr.sourceIndex])!==(65535&~(256*sr.source[sr.sourceIndex+3]+sr.source[sr.sourceIndex+2])))return-3;for(sr.sourceIndex+=4,Lr=Br;Lr;--Lr)sr.dest[sr.destLen++]=sr.source[sr.sourceIndex++];return sr.bitcount=0,0}(Ae);break;case 1:K=Z(Ae,d,h);break;case 2:Nt=Be=ge=Wt=Pe=be=void 0;for(var Pe,Qe=Ae,_t=Ae.ltree,gt=Ae.dtree,Xt=R(Qe,5,257),ve=R(Qe,5,1),ie=R(Qe,4,4),be=0;be<19;++be)P[be]=0;for(be=0;be<ie;++be){var ge=R(Qe,3,0);P[V[be]]=ge}for(A(L,P,0,19),Pe=0;Pe<Xt+ve;){var Be=O(Qe,L);switch(Be){case 16:for(var Nt=P[Pe-1],Wt=R(Qe,2,3);Wt;--Wt)P[Pe++]=Nt;break;case 17:for(Wt=R(Qe,3,3);Wt;--Wt)P[Pe++]=0;break;case 18:for(Wt=R(Qe,7,11);Wt;--Wt)P[Pe++]=0;break;default:P[Pe++]=Be}}A(_t,P,0,Xt),A(gt,P,Xt,ve),K=Z(Ae,Ae.ltree,Ae.dtree);break;default:K=-3}if(0!==K)throw new Error("Data error")}while(!ee);return Ae.destLen<Ae.dest.length?"function"==typeof Ae.dest.slice?Ae.dest.slice(0,Ae.destLen):Ae.dest.subarray(0,Ae.destLen):Ae.dest};function G(E,N,K,ee,pe){return Math.pow(1-pe,3)*E+3*Math.pow(1-pe,2)*pe*N+3*(1-pe)*Math.pow(pe,2)*K+Math.pow(pe,3)*ee}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Ie(E){throw new Error(E)}function J(E,N){E||Ie(N)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(E,N){"number"==typeof E&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=E,this.x2=E),E<this.x1&&(this.x1=E),E>this.x2&&(this.x2=E)),"number"==typeof N&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=N,this.y2=N),N<this.y1&&(this.y1=N),N>this.y2&&(this.y2=N))},Y.prototype.addX=function(E){this.addPoint(E,null)},Y.prototype.addY=function(E){this.addPoint(null,E)},Y.prototype.addBezier=function(E,N,K,ee,pe,Ae,Pe,Qe){var _t=[E,N],gt=[K,ee],Xt=[pe,Ae],ve=[Pe,Qe];this.addPoint(E,N),this.addPoint(Pe,Qe);for(var ie=0;ie<=1;ie++){var be,ge=6*_t[ie]-12*gt[ie]+6*Xt[ie],Be=-3*_t[ie]+9*gt[ie]-9*Xt[ie]+3*ve[ie],Nt=3*gt[ie]-3*_t[ie];0==Be?0==ge||0<(be=-Nt/ge)&&be<1&&(0===ie&&this.addX(G(_t[ie],gt[ie],Xt[ie],ve[ie],be)),1===ie&&this.addY(G(_t[ie],gt[ie],Xt[ie],ve[ie],be))):(be=Math.pow(ge,2)-4*Nt*Be)<0||(0<(Nt=(-ge+Math.sqrt(be))/(2*Be))&&Nt<1&&(0===ie&&this.addX(G(_t[ie],gt[ie],Xt[ie],ve[ie],Nt)),1===ie&&this.addY(G(_t[ie],gt[ie],Xt[ie],ve[ie],Nt))),0<(Nt=(-ge-Math.sqrt(be))/(2*Be))&&Nt<1&&(0===ie&&this.addX(G(_t[ie],gt[ie],Xt[ie],ve[ie],Nt)),1===ie&&this.addY(G(_t[ie],gt[ie],Xt[ie],ve[ie],Nt))))}},Y.prototype.addQuad=function(E,N,K,ee,pe,Ae){this.addBezier(E,N,K=E+2/3*(K-E),ee=N+2/3*(ee-N),K+1/3*(pe-E),ee+1/3*(Ae-N),pe,Ae)},le.prototype.moveTo=function(E,N){this.commands.push({type:"M",x:E,y:N})},le.prototype.lineTo=function(E,N){this.commands.push({type:"L",x:E,y:N})},le.prototype.curveTo=le.prototype.bezierCurveTo=function(E,N,K,ee,pe,Ae){this.commands.push({type:"C",x1:E,y1:N,x2:K,y2:ee,x:pe,y:Ae})},le.prototype.quadTo=le.prototype.quadraticCurveTo=function(E,N,K,ee){this.commands.push({type:"Q",x1:E,y1:N,x:K,y:ee})},le.prototype.close=le.prototype.closePath=function(){this.commands.push({type:"Z"})},le.prototype.extend=function(E){var N;if(E.commands)E=E.commands;else if(E instanceof Y)return this.moveTo((N=E).x1,N.y1),this.lineTo(N.x2,N.y1),this.lineTo(N.x2,N.y2),this.lineTo(N.x1,N.y2),void this.close();Array.prototype.push.apply(this.commands,E)},le.prototype.getBoundingBox=function(){for(var E=new Y,N=0,K=0,ee=0,pe=0,Ae=0;Ae<this.commands.length;Ae++){var Pe=this.commands[Ae];switch(Pe.type){case"M":E.addPoint(Pe.x,Pe.y),N=ee=Pe.x,K=pe=Pe.y;break;case"L":E.addPoint(Pe.x,Pe.y),ee=Pe.x,pe=Pe.y;break;case"Q":E.addQuad(ee,pe,Pe.x1,Pe.y1,Pe.x,Pe.y),ee=Pe.x,pe=Pe.y;break;case"C":E.addBezier(ee,pe,Pe.x1,Pe.y1,Pe.x2,Pe.y2,Pe.x,Pe.y),ee=Pe.x,pe=Pe.y;break;case"Z":ee=N,pe=K;break;default:throw new Error("Unexpected path command "+Pe.type)}}return E.isEmpty()&&E.addPoint(0,0),E},le.prototype.draw=function(E){E.beginPath();for(var N=0;N<this.commands.length;N+=1){var K=this.commands[N];"M"===K.type?E.moveTo(K.x,K.y):"L"===K.type?E.lineTo(K.x,K.y):"C"===K.type?E.bezierCurveTo(K.x1,K.y1,K.x2,K.y2,K.x,K.y):"Q"===K.type?E.quadraticCurveTo(K.x1,K.y1,K.x,K.y):"Z"===K.type&&E.closePath()}this.fill&&(E.fillStyle=this.fill,E.fill()),this.stroke&&(E.strokeStyle=this.stroke,E.lineWidth=this.strokeWidth,E.stroke())},le.prototype.toPathData=function(E){function N(){for(var Ae=arguments,Pe="",Qe=0;Qe<arguments.length;Qe+=1){var _t=Ae[Qe];0<=_t&&0<Qe&&(Pe+=" "),Pe+=Math.round(_t)===_t?""+Math.round(_t):_t.toFixed(E)}return Pe}E=void 0!==E?E:2;for(var K="",ee=0;ee<this.commands.length;ee+=1){var pe=this.commands[ee];"M"===pe.type?K+="M"+N(pe.x,pe.y):"L"===pe.type?K+="L"+N(pe.x,pe.y):"C"===pe.type?K+="C"+N(pe.x1,pe.y1,pe.x2,pe.y2,pe.x,pe.y):"Q"===pe.type?K+="Q"+N(pe.x1,pe.y1,pe.x,pe.y):"Z"===pe.type&&(K+="Z")}return K},le.prototype.toSVG=function(E){var N=(N='<path d="')+this.toPathData(E)+'"';return this.fill&&"black"!==this.fill&&(N+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(N+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),N+"/>"},le.prototype.toDOMElement=function(N){N=this.toPathData(N);var K=document.createElementNS("http://www.w3.org/2000/svg","path");return K.setAttribute("d",N),K};var j={fail:Ie,argument:J,assert:J},ne={},me={},De={};function $e(E){return function(){return E}}me.BYTE=function(E){return j.argument(0<=E&&E<=255,"Byte value should be between 0 and 255."),[E]},De.BYTE=$e(1),me.CHAR=function(E){return[E.charCodeAt(0)]},De.CHAR=$e(1),me.CHARARRAY=function(E){for(var N=[],K=0;K<E.length;K+=1)N[K]=E.charCodeAt(K);return N},De.CHARARRAY=function(E){return E.length},me.USHORT=function(E){return[E>>8&255,255&E]},De.USHORT=$e(2),me.SHORT=function(E){return[(E=32768<=E?-(65536-E):E)>>8&255,255&E]},De.SHORT=$e(2),me.UINT24=function(E){return[E>>16&255,E>>8&255,255&E]},De.UINT24=$e(3),me.ULONG=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},De.ULONG=$e(4),me.LONG=function(E){return[(E=2147483648<=E?-(4294967296-E):E)>>24&255,E>>16&255,E>>8&255,255&E]},De.LONG=$e(4),me.FIXED=me.ULONG,De.FIXED=De.ULONG,me.FWORD=me.SHORT,De.FWORD=De.SHORT,me.UFWORD=me.USHORT,De.UFWORD=De.USHORT,me.LONGDATETIME=function(E){return[0,0,0,0,E>>24&255,E>>16&255,E>>8&255,255&E]},De.LONGDATETIME=$e(8),me.TAG=function(E){return j.argument(4===E.length,"Tag should be exactly 4 ASCII characters."),[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]},De.TAG=$e(4),me.Card8=me.BYTE,De.Card8=De.BYTE,me.Card16=me.USHORT,De.Card16=De.USHORT,me.OffSize=me.BYTE,De.OffSize=De.BYTE,me.SID=me.USHORT,De.SID=De.USHORT,me.NUMBER=function(E){return-107<=E&&E<=107?[E+139]:108<=E&&E<=1131?[247+((E-=108)>>8),255&E]:-1131<=E&&E<=-108?[251+((E=-E-108)>>8),255&E]:-32768<=E&&E<=32767?me.NUMBER16(E):me.NUMBER32(E)},De.NUMBER=function(E){return me.NUMBER(E).length},me.NUMBER16=function(E){return[28,E>>8&255,255&E]},De.NUMBER16=$e(3),me.NUMBER32=function(E){return[29,E>>24&255,E>>16&255,E>>8&255,255&E]},De.NUMBER32=$e(5),me.REAL=function(E){for(var N=E.toString(),K=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(N),ee=(K&&(K=parseFloat("1e"+((K[2]?+K[2]:0)+K[1].length)),N=(Math.round(E*K)/K).toString()),""),pe=0,Ae=N.length;pe<Ae;pe+=1){var Pe=N[pe];ee+="e"===Pe?"-"===N[++pe]?"c":"b":"."===Pe?"a":"-"===Pe?"e":Pe}for(var Qe=[30],_t=0,gt=(ee+=1&ee.length?"f":"ff").length;_t<gt;_t+=2)Qe.push(parseInt(ee.substr(_t,2),16));return Qe},De.REAL=function(E){return me.REAL(E).length},me.NAME=me.CHARARRAY,De.NAME=De.CHARARRAY,me.STRING=me.CHARARRAY,De.STRING=De.CHARARRAY,ne.UTF8=function(E,N,K){for(var ee=[],pe=K,Ae=0;Ae<pe;Ae++,N+=1)ee[Ae]=E.getUint8(N);return String.fromCharCode.apply(null,ee)},ne.UTF16=function(E,N,K){for(var ee=[],pe=K/2,Ae=0;Ae<pe;Ae++,N+=2)ee[Ae]=E.getUint16(N);return String.fromCharCode.apply(null,ee)},me.UTF16=function(E){for(var N=[],K=0;K<E.length;K+=1){var ee=E.charCodeAt(K);N[N.length]=ee>>8&255,N[N.length]=255&ee}return N},De.UTF16=function(E){return 2*E.length};var qe,ut={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},He=(ne.MACSTRING=function(E,N,K,ee){var pe=ut[ee];if(void 0!==pe){for(var Ae="",Pe=0;Pe<K;Pe++){var Qe=E.getUint8(N+Pe);Ae+=Qe<=127?String.fromCharCode(Qe):pe[127&Qe]}return Ae}},"function"==typeof WeakMap&&new WeakMap);function ot(E){return-128<=E&&E<=127}me.MACSTRING=function(E,N){var K=function(Pe){if(!qe)for(var Qe in qe={},ut)qe[Qe]=new String(Qe);var _t=qe[Pe];if(void 0!==_t){if(He){var gt=He.get(_t);if(void 0!==gt)return gt}var Xt=ut[Pe];if(void 0!==Xt){for(var ve={},ie=0;ie<Xt.length;ie++)ve[Xt.charCodeAt(ie)]=ie+128;return He&&He.set(_t,ve),ve}}}(N);if(void 0!==K){for(var ee=[],pe=0;pe<E.length;pe++){var Ae=E.charCodeAt(pe);if(128<=Ae&&void 0===(Ae=K[Ae]))return;ee[pe]=Ae}return ee}},De.MACSTRING=function(E,N){return void 0!==(E=me.MACSTRING(E,N))?E.length:0},me.VARDELTAS=function(E){for(var ee=0,N=[];ee<E.length;){var K=E[ee];ee=(0===K?function(pe,Ae,Pe){for(var Qe=0,_t=pe.length;Ae<_t&&Qe<64&&0===pe[Ae];)++Ae,++Qe;return Pe.push(128|Qe-1),Ae}:-128<=K&&K<=127?function(pe,Ae,Pe){for(var Qe=0,_t=pe.length,gt=Ae;gt<_t&&Qe<64;){var Xt=pe[gt];if(!ot(Xt)||0===Xt&&gt+1<_t&&0===pe[gt+1])break;++gt,++Qe}Pe.push(Qe-1);for(var ve=Ae;ve<gt;++ve)Pe.push(pe[ve]+256&255);return gt}:function(pe,Ae,Pe){for(var Qe=0,_t=pe.length,gt=Ae;gt<_t&&Qe<64;){var Xt=pe[gt];if(0===Xt||ot(Xt)&&gt+1<_t&&ot(pe[gt+1]))break;++gt,++Qe}Pe.push(64|Qe-1);for(var ve=Ae;ve<gt;++ve){var ie=pe[ve];Pe.push(ie+65536>>8&255,ie+256&255)}return gt})(E,ee,N)}return N},me.INDEX=function(E){for(var N=1,K=[N],ee=[],pe=0;pe<E.length;pe+=1){var Ae=me.OBJECT(E[pe]);Array.prototype.push.apply(ee,Ae),K.push(N+=Ae.length)}if(0===ee.length)return[0,0];for(var Pe=[],Qe=1+Math.floor(Math.log(N)/Math.log(2))/8|0,_t=[void 0,me.BYTE,me.USHORT,me.UINT24,me.ULONG][Qe],gt=0;gt<K.length;gt+=1){var Xt=_t(K[gt]);Array.prototype.push.apply(Pe,Xt)}return Array.prototype.concat(me.Card16(E.length),me.OffSize(Qe),Pe,ee)},De.INDEX=function(E){return me.INDEX(E).length},me.DICT=function(E){for(var N=[],K=Object.keys(E),ee=K.length,pe=0;pe<ee;pe+=1){var Ae=parseInt(K[pe],0),Pe=E[Ae];N=(N=N.concat(me.OPERAND(Pe.value,Pe.type))).concat(me.OPERATOR(Ae))}return N},De.DICT=function(E){return me.DICT(E).length},me.OPERATOR=function(E){return E<1200?[E]:[12,E-1200]},me.OPERAND=function(E,N){var K=[];if(Array.isArray(N))for(var ee=0;ee<N.length;ee+=1)j.argument(E.length===N.length,"Not enough arguments given for type"+N),K=K.concat(me.OPERAND(E[ee],N[ee]));else if("SID"===N)K=K.concat(me.NUMBER(E));else if("offset"===N)K=K.concat(me.NUMBER32(E));else if("number"===N)K=K.concat(me.NUMBER(E));else{if("real"!==N)throw new Error("Unknown operand type "+N);K=K.concat(me.REAL(E))}return K},me.OP=me.BYTE,De.OP=De.BYTE;var at="function"==typeof WeakMap&&new WeakMap;function Ue(E,N,K){for(var ee=0;ee<N.length;ee+=1){var pe=N[ee];this[pe.name]=pe.value}if(this.tableName=E,this.fields=N,K)for(var Ae=Object.keys(K),Pe=0;Pe<Ae.length;Pe+=1){var Qe=Ae[Pe];void 0!==this[Qe]&&(this[Qe]=K[Qe])}}function nt(E,N,K){void 0===K&&(K=N.length);var ee=new Array(N.length+1);ee[0]={name:E+"Count",type:"USHORT",value:K};for(var pe=0;pe<N.length;pe++)ee[pe+1]={name:E+pe,type:"USHORT",value:N[pe]};return ee}function Ye(E,N,K){var ee=N.length,pe=new Array(ee+1);pe[0]={name:E+"Count",type:"USHORT",value:ee};for(var Ae=0;Ae<ee;Ae++)pe[Ae+1]={name:E+Ae,type:"TABLE",value:K(N[Ae],Ae)};return pe}function st(E,N,K){var ee=N.length,pe=[];pe[0]={name:E+"Count",type:"USHORT",value:ee};for(var Ae=0;Ae<ee;Ae++)pe=pe.concat(K(N[Ae],Ae));return pe}function Ze(E){1===E.format?Ue.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(nt("glyph",E.glyphs))):j.assert(!1,"Can't create coverage table format 2 yet.")}function ft(E){Ue.call(this,"scriptListTable",st("scriptRecord",E,function(N,K){var ee=N.script,pe=ee.defaultLangSys;return j.assert(!!pe,"Unable to write GSUB: script "+N.tag+" has no default language system."),[{name:"scriptTag"+K,type:"TAG",value:N.tag},{name:"script"+K,type:"TABLE",value:new Ue("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ue("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:pe.reqFeatureIndex}].concat(nt("featureIndex",pe.featureIndexes)))}].concat(st("langSys",ee.langSysRecords,function(Ae,Pe){var Qe=Ae.langSys;return[{name:"langSysTag"+Pe,type:"TAG",value:Ae.tag},{name:"langSys"+Pe,type:"TABLE",value:new Ue("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Qe.reqFeatureIndex}].concat(nt("featureIndex",Qe.featureIndexes)))}]})))}]}))}function Ot(E){Ue.call(this,"featureListTable",st("featureRecord",E,function(N,K){var ee=N.feature;return[{name:"featureTag"+K,type:"TAG",value:N.tag},{name:"feature"+K,type:"TABLE",value:new Ue("featureTable",[{name:"featureParams",type:"USHORT",value:ee.featureParams}].concat(nt("lookupListIndex",ee.lookupListIndexes)))}]}))}function ar(E,N){Ue.call(this,"lookupListTable",Ye("lookup",E,function(K){var ee=N[K.lookupType];return j.assert(!!ee,"Unable to write GSUB lookup type "+K.lookupType+" tables."),new Ue("lookupTable",[{name:"lookupType",type:"USHORT",value:K.lookupType},{name:"lookupFlag",type:"USHORT",value:K.lookupFlag}].concat(Ye("subtable",K.subtables,ee)))}))}me.CHARSTRING=function(E){if(at){var N=at.get(E);if(void 0!==N)return N}for(var Ae=[],K=E.length,ee=0;ee<K;ee+=1){var pe=E[ee];Ae=Ae.concat(me[pe.type](pe.value))}return at&&at.set(E,Ae),Ae},De.CHARSTRING=function(E){return me.CHARSTRING(E).length},me.OBJECT=function(E){var N=me[E.type];return j.argument(void 0!==N,"No encoding function for type "+E.type),N(E.value)},De.OBJECT=function(E){var N=De[E.type];return j.argument(void 0!==N,"No sizeOf function for type "+E.type),N(E.value)},me.TABLE=function(E){for(var N=[],K=E.fields.length,ee=[],pe=[],Ae=0;Ae<K;Ae+=1){var Pe=E.fields[Ae],Qe=(j.argument(void 0!==(_t=me[Pe.type]),"No encoding function for field type "+Pe.type+" ("+Pe.name+")"),E[Pe.name]),_t=_t(Qe=void 0===Qe?Pe.value:Qe);"TABLE"===Pe.type?(pe.push(N.length),N=N.concat([0,0]),ee.push(_t)):N=N.concat(_t)}for(var gt=0;gt<ee.length;gt+=1){var Xt=pe[gt],ve=N.length;j.argument(ve<65536,"Table "+E.tableName+" too big."),N[Xt]=ve>>8,N[Xt+1]=255&ve,N=N.concat(ee[gt])}return N},De.TABLE=function(E){for(var N=0,K=E.fields.length,ee=0;ee<K;ee+=1){var pe=E.fields[ee],Ae=De[pe.type],Pe=(j.argument(void 0!==Ae,"No sizeOf function for field type "+pe.type+" ("+pe.name+")"),E[pe.name]);N+=Ae(Pe=void 0===Pe?pe.value:Pe),"TABLE"===pe.type&&(N+=2)}return N},me.RECORD=me.TABLE,De.RECORD=De.TABLE,me.LITERAL=function(E){return E},De.LITERAL=function(E){return E.length},Ue.prototype.encode=function(){return me.TABLE(this)},Ue.prototype.sizeOf=function(){return De.TABLE(this)};var Vt={Table:Ue,Record:Ue,Coverage:(Ze.prototype=Object.create(Ue.prototype)).constructor=Ze,ScriptList:(ft.prototype=Object.create(Ue.prototype)).constructor=ft,FeatureList:(Ot.prototype=Object.create(Ue.prototype)).constructor=Ot,LookupList:(ar.prototype=Object.create(Ue.prototype)).constructor=ar,ushortList:nt,tableList:Ye,recordList:st};function tr(E,N){return E.getUint8(N)}function zt(E,N){return E.getUint16(N,!1)}function br(E,N){return E.getUint32(N,!1)}function Zt(E,N){return E.getInt16(N,!1)+E.getUint16(N+2,!1)/65535}var pr={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ct(E,N){this.data=E,this.offset=N,this.relativeOffset=0}Ct.prototype.parseByte=function(){var E=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},Ct.prototype.parseChar=function(){var E=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},Ct.prototype.parseCard8=Ct.prototype.parseByte,Ct.prototype.parseCard16=Ct.prototype.parseUShort=function(){var E=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},Ct.prototype.parseSID=Ct.prototype.parseUShort,Ct.prototype.parseOffset16=Ct.prototype.parseUShort,Ct.prototype.parseShort=function(){var E=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},Ct.prototype.parseF2Dot14=function(){var E=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,E},Ct.prototype.parseOffset32=Ct.prototype.parseULong=function(){var E=br(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},Ct.prototype.parseFixed=function(){var E=Zt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},Ct.prototype.parseString=function(E){var N=this.data,K=this.offset+this.relativeOffset,ee="";this.relativeOffset+=E;for(var pe=0;pe<E;pe++)ee+=String.fromCharCode(N.getUint8(K+pe));return ee},Ct.prototype.parseTag=function(){return this.parseString(4)},Ct.prototype.parseLongDateTime=function(){var E=br(this.data,this.offset+this.relativeOffset+4);return E-=2082844800,this.relativeOffset+=8,E},Ct.prototype.parseVersion=function(E){var N=zt(this.data,this.offset+this.relativeOffset),K=zt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,N+K/(E=void 0===E?4096:E)/10},Ct.prototype.skip=function(E,N){this.relativeOffset+=pr[E]*(N=void 0===N?1:N)},Ct.prototype.parseULongList=function(E){void 0===E&&(E=this.parseULong());for(var N=new Array(E),K=this.data,ee=this.offset+this.relativeOffset,pe=0;pe<E;pe++)N[pe]=K.getUint32(ee),ee+=4;return this.relativeOffset+=4*E,N},Ct.prototype.parseOffset16List=Ct.prototype.parseUShortList=function(E){void 0===E&&(E=this.parseUShort());for(var N=new Array(E),K=this.data,ee=this.offset+this.relativeOffset,pe=0;pe<E;pe++)N[pe]=K.getUint16(ee),ee+=2;return this.relativeOffset+=2*E,N},Ct.prototype.parseShortList=function(E){for(var N=new Array(E),K=this.data,ee=this.offset+this.relativeOffset,pe=0;pe<E;pe++)N[pe]=K.getInt16(ee),ee+=2;return this.relativeOffset+=2*E,N},Ct.prototype.parseByteList=function(E){for(var N=new Array(E),K=this.data,ee=this.offset+this.relativeOffset,pe=0;pe<E;pe++)N[pe]=K.getUint8(ee++);return this.relativeOffset+=E,N},Ct.prototype.parseList=function(E,N){N||(N=E,E=this.parseUShort());for(var K=new Array(E),ee=0;ee<E;ee++)K[ee]=N.call(this);return K},Ct.prototype.parseList32=function(E,N){N||(N=E,E=this.parseULong());for(var K=new Array(E),ee=0;ee<E;ee++)K[ee]=N.call(this);return K},Ct.prototype.parseRecordList=function(E,N){N||(N=E,E=this.parseUShort());for(var K=new Array(E),ee=Object.keys(N),pe=0;pe<E;pe++){for(var Ae={},Pe=0;Pe<ee.length;Pe++){var Qe=ee[Pe];Ae[Qe]=N[Qe].call(this)}K[pe]=Ae}return K},Ct.prototype.parseRecordList32=function(E,N){N||(N=E,E=this.parseULong());for(var K=new Array(E),ee=Object.keys(N),pe=0;pe<E;pe++){for(var Ae={},Pe=0;Pe<ee.length;Pe++){var Qe=ee[Pe];Ae[Qe]=N[Qe].call(this)}K[pe]=Ae}return K},Ct.prototype.parseStruct=function(E){if("function"==typeof E)return E.call(this);for(var N=Object.keys(E),K={},ee=0;ee<N.length;ee++){var pe=N[ee];K[pe]=E[pe].call(this)}return K},Ct.prototype.parseValueRecord=function(E){var N;if(0!==(E=void 0===E?this.parseUShort():E))return N={},1&E&&(N.xPlacement=this.parseShort()),2&E&&(N.yPlacement=this.parseShort()),4&E&&(N.xAdvance=this.parseShort()),8&E&&(N.yAdvance=this.parseShort()),16&E&&(N.xPlaDevice=void 0,this.parseShort()),32&E&&(N.yPlaDevice=void 0,this.parseShort()),64&E&&(N.xAdvDevice=void 0,this.parseShort()),128&E&&(N.yAdvDevice=void 0,this.parseShort()),N},Ct.prototype.parseValueRecordList=function(){for(var E=this.parseUShort(),N=this.parseUShort(),K=new Array(N),ee=0;ee<N;ee++)K[ee]=this.parseValueRecord(E);return K},Ct.prototype.parsePointer=function(E){var N=this.parseOffset16();if(0<N)return new Ct(this.data,this.offset+N).parseStruct(E)},Ct.prototype.parsePointer32=function(E){var N=this.parseOffset32();if(0<N)return new Ct(this.data,this.offset+N).parseStruct(E)},Ct.prototype.parseListOfLists=function(E){for(var N=this.parseOffset16List(),K=N.length,ee=this.relativeOffset,pe=new Array(K),Ae=0;Ae<K;Ae++){var Pe=N[Ae];if(0===Pe)pe[Ae]=void 0;else if(this.relativeOffset=Pe,E){for(var Qe=this.parseOffset16List(),_t=new Array(Qe.length),gt=0;gt<Qe.length;gt++)this.relativeOffset=Pe+Qe[gt],_t[gt]=E.call(this);pe[Ae]=_t}else pe[Ae]=this.parseUShortList()}return this.relativeOffset=ee,pe},Ct.prototype.parseCoverage=function(){var E=this.offset+this.relativeOffset,N=this.parseUShort(),K=this.parseUShort();if(1===N)return{format:1,glyphs:this.parseUShortList(K)};if(2!==N)throw new Error("0x"+E.toString(16)+": Coverage format must be 1 or 2.");for(var ee=new Array(K),pe=0;pe<K;pe++)ee[pe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ee}},Ct.prototype.parseClassDef=function(){var E=this.offset+this.relativeOffset,N=this.parseUShort();if(1===N)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===N)return{format:2,ranges:this.parseRecordList({start:Ct.uShort,end:Ct.uShort,classId:Ct.uShort})};throw new Error("0x"+E.toString(16)+": ClassDef format must be 1 or 2.")},Ct.list=function(E,N){return function(){return this.parseList(E,N)}},Ct.list32=function(E,N){return function(){return this.parseList32(E,N)}},Ct.recordList=function(E,N){return function(){return this.parseRecordList(E,N)}},Ct.recordList32=function(E,N){return function(){return this.parseRecordList32(E,N)}},Ct.pointer=function(E){return function(){return this.parsePointer(E)}},Ct.pointer32=function(E){return function(){return this.parsePointer32(E)}},Ct.tag=Ct.prototype.parseTag,Ct.byte=Ct.prototype.parseByte,Ct.uShort=Ct.offset16=Ct.prototype.parseUShort,Ct.uShortList=Ct.prototype.parseUShortList,Ct.uLong=Ct.offset32=Ct.prototype.parseULong,Ct.uLongList=Ct.prototype.parseULongList,Ct.struct=Ct.prototype.parseStruct,Ct.coverage=Ct.prototype.parseCoverage,Ct.classDef=Ct.prototype.parseClassDef;var lr={reserved:Ct.uShort,reqFeatureIndex:Ct.uShort,featureIndexes:Ct.uShortList},Gt=(Ct.prototype.parseScriptList=function(){return this.parsePointer(Ct.recordList({tag:Ct.tag,script:Ct.pointer({defaultLangSys:Ct.pointer(lr),langSysRecords:Ct.recordList({tag:Ct.tag,langSys:Ct.pointer(lr)})})}))||[]},Ct.prototype.parseFeatureList=function(){return this.parsePointer(Ct.recordList({tag:Ct.tag,feature:Ct.pointer({featureParams:Ct.offset16,lookupListIndexes:Ct.uShortList})}))||[]},Ct.prototype.parseLookupList=function(E){return this.parsePointer(Ct.list(Ct.pointer(function(){var N=this.parseUShort(),K=(j.argument(1<=N&&N<=9,"GPOS/GSUB lookup type "+N+" unknown."),this.parseUShort()),ee=16&K;return{lookupType:N,lookupFlag:K,subtables:this.parseList(Ct.pointer(E[N])),markFilteringSet:ee?this.parseUShort():void 0}})))||[]},Ct.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var E=this.parseUShort(),N=this.parseUShort();return j.argument(1===E&&N<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ct.offset32,featureTableSubstitutionOffset:Ct.offset32})})||[]},{getByte:tr,getCard8:tr,getUShort:zt,getCard16:zt,getShort:function(E,N){return E.getInt16(N,!1)},getULong:br,getFixed:Zt,getTag:function(E,N){for(var K="",ee=N;ee<N+4;ee+=1)K+=String.fromCharCode(E.getInt8(ee));return K},getOffset:function(E,N,K){for(var ee=0,pe=0;pe<K;pe+=1)ee=(ee<<=8)+E.getUint8(N+pe);return ee},getBytes:function(E,N,K){for(var ee=[],pe=N;pe<K;pe+=1)ee.push(E.getUint8(pe));return ee},bytesToString:function(E){for(var N="",K=0;K<E.length;K+=1)N+=String.fromCharCode(E[K]);return N},Parser:Ct}),Ve_parse=function(E,N){for(var K={},ee=(K.version=Gt.getUShort(E,N),j.argument(0===K.version,"cmap table version should be 0."),K.numTables=Gt.getUShort(E,N+2),-1),pe=K.numTables-1;0<=pe;--pe){var Ae=Gt.getUShort(E,N+4+8*pe),Pe=Gt.getUShort(E,N+4+8*pe+2);if(3===Ae&&(0===Pe||1===Pe||10===Pe)||0===Ae&&(0===Pe||1===Pe||2===Pe||3===Pe||4===Pe)){ee=Gt.getULong(E,N+4+8*pe+4);break}}if(-1===ee)throw new Error("No valid cmap sub-tables found.");var Qe=new Gt.Parser(E,N+ee);if(K.format=Qe.parseUShort(),12===K.format){var _t,gt=K,Xt=Qe;Xt.parseUShort(),gt.length=Xt.parseULong(),gt.language=Xt.parseULong(),gt.groupCount=_t=Xt.parseULong(),gt.glyphIndexMap={};for(var ve=0;ve<_t;ve+=1)for(var ie=Xt.parseULong(),be=Xt.parseULong(),ge=Xt.parseULong(),Be=ie;Be<=be;Be+=1)gt.glyphIndexMap[Be]=ge,ge++}else{if(4!==K.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+K.format+").");var Nt=K,Wt=E,sr=N,Br=ee;Nt.length=Qe.parseUShort(),Nt.language=Qe.parseUShort(),Nt.segCount=Lr=Qe.parseUShort()>>1,Qe.skip("uShort",3),Nt.glyphIndexMap={};for(var Lr,zr=new Gt.Parser(Wt,sr+Br+14),Wr=new Gt.Parser(Wt,sr+Br+16+2*Lr),Qr=new Gt.Parser(Wt,sr+Br+16+4*Lr),vn=new Gt.Parser(Wt,sr+Br+16+6*Lr),qn=sr+Br+16+8*Lr,to=0;to<Lr-1;to+=1)for(var so=void 0,Kn=zr.parseUShort(),fo=Wr.parseUShort(),Tn=Qr.parseShort(),Mn=vn.parseUShort(),$r=fo;$r<=Kn;$r+=1)0!==Mn?(qn=(qn=vn.offset+vn.relativeOffset-2)+Mn+2*($r-fo),0!==(so=Gt.getUShort(Wt,qn))&&(so=so+Tn&65535)):so=$r+Tn&65535,Nt.glyphIndexMap[$r]=so}return K},Ve_make=function(E){for(var N=!0,K=E.length-1;0<K;--K)if(65535<E.get(K).unicode){console.log("Adding CMAP format 12 (needed!)"),N=!1;break}var ee,pe,Ae=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:N?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:N?12:20}],Pe=(Ae=(Ae=N?Ae:Ae.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Vt.Table("cmap",Ae));for(Pe.segments=[],K=0;K<E.length;K+=1){for(var Qe=E.get(K),_t=0;_t<Qe.unicodes.length;_t+=1)Pe.segments.push({end:ee=Qe.unicodes[_t],start:ee,delta:-(ee-(pe=K)),offset:0,glyphIndex:pe});Pe.segments=Pe.segments.sort(function(sr,Br){return sr.start-Br.start})}Pe.segments.push({end:65535,start:65535,delta:1,offset:0});var gt=Pe.segments.length,Xt=0,ve=[],ie=[],be=[],ge=[],Be=[],Nt=[];for(K=0;K<gt;K+=1){var Wt=Pe.segments[K];Wt.end<=65535&&Wt.start<=65535?(ve=ve.concat({name:"end_"+K,type:"USHORT",value:Wt.end}),ie=ie.concat({name:"start_"+K,type:"USHORT",value:Wt.start}),be=be.concat({name:"idDelta_"+K,type:"SHORT",value:Wt.delta}),ge=ge.concat({name:"idRangeOffset_"+K,type:"USHORT",value:Wt.offset}),void 0!==Wt.glyphId&&(Be=Be.concat({name:"glyph_"+K,type:"USHORT",value:Wt.glyphId}))):Xt+=1,N||void 0===Wt.glyphIndex||(Nt=(Nt=(Nt=Nt.concat({name:"cmap12Start_"+K,type:"ULONG",value:Wt.start})).concat({name:"cmap12End_"+K,type:"ULONG",value:Wt.end})).concat({name:"cmap12Glyph_"+K,type:"ULONG",value:Wt.glyphIndex}))}return Pe.segCountX2=2*(gt-Xt),Pe.searchRange=2*Math.pow(2,Math.floor(Math.log(gt-Xt)/Math.log(2))),Pe.entrySelector=Math.log(Pe.searchRange/2)/Math.log(2),Pe.rangeShift=Pe.segCountX2-Pe.searchRange,Pe.fields=Pe.fields.concat(ve),Pe.fields.push({name:"reservedPad",type:"USHORT",value:0}),Pe.fields=Pe.fields.concat(ie),Pe.fields=Pe.fields.concat(be),Pe.fields=Pe.fields.concat(ge),Pe.fields=Pe.fields.concat(Be),Pe.cmap4Length=14+2*ve.length+2+2*ie.length+2*be.length+2*ge.length+2*Be.length,N||(Ae=16+4*Nt.length,Pe.cmap12Offset=20+Pe.cmap4Length,Pe.fields=Pe.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Ae},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Nt.length/3}]),Pe.fields=Pe.fields.concat(Nt)),Pe},We=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Oe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Je=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],It=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function At(E){this.font=E}function Ht(E){this.cmap=E}function yt(E,N){this.encoding=E,this.charset=N}function Ft(E){switch(E.version){case 1:this.names=It.slice();break;case 2:this.names=new Array(E.numberOfGlyphs);for(var N=0;N<E.numberOfGlyphs;N++)this.names[N]=E.glyphNameIndex[N]<It.length?It[E.glyphNameIndex[N]]:E.names[E.glyphNameIndex[N]-It.length];break;case 2.5:this.names=new Array(E.numberOfGlyphs);for(var K=0;K<E.numberOfGlyphs;K++)this.names[K]=It[K+E.glyphNameIndex[K]];break;default:this.names=[]}}At.prototype.charToGlyphIndex=function(E){var N=E.codePointAt(0),K=this.font.glyphs;if(K)for(var ee=0;ee<K.length;ee+=1)for(var pe=K.get(ee),Ae=0;Ae<pe.unicodes.length;Ae+=1)if(pe.unicodes[Ae]===N)return ee;return null},Ht.prototype.charToGlyphIndex=function(E){return this.cmap.glyphIndexMap[E.codePointAt(0)]||0},yt.prototype.charToGlyphIndex=function(E){return E=E.codePointAt(0),this.charset.indexOf(E=this.encoding[E])},Ft.prototype.nameToGlyphIndex=function(E){return this.names.indexOf(E)},Ft.prototype.glyphIndexToName=function(E){return this.names[E]};var Jt_line=function(E,N,K,ee,pe){E.beginPath(),E.moveTo(N,K),E.lineTo(ee,pe),E.stroke()};function rr(E){this.bindConstructorValues(E)}function Rt(E,N,K){Object.defineProperty(E,N,{get:function(){return E[K]},set:function(ee){E[K]=ee},enumerable:!0,configurable:!0})}function vt(E,N){if(this.font=E,this.glyphs={},Array.isArray(N))for(var K=0;K<N.length;K++)this.glyphs[K]=N[K];this.length=N&&N.length||0}rr.prototype.bindConstructorValues=function(E){var N;this.index=E.index||0,this.name=E.name||null,this.unicode=E.unicode||void 0,this.unicodes=E.unicodes||void 0!==E.unicode?[E.unicode]:[],E.xMin&&(this.xMin=E.xMin),E.yMin&&(this.yMin=E.yMin),E.xMax&&(this.xMax=E.xMax),E.yMax&&(this.yMax=E.yMax),E.advanceWidth&&(this.advanceWidth=E.advanceWidth),Object.defineProperty(this,"path",(N=(E=E.path)||new le,{configurable:!0,get:function(){return N="function"==typeof N?N():N},set:function(K){N=K}}))},rr.prototype.addUnicode=function(E){0===this.unicodes.length&&(this.unicode=E),this.unicodes.push(E)},rr.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},rr.prototype.getPath=function(E,N,K,ee,pe){E=void 0!==E?E:0,N=void 0!==N?N:0,K=void 0!==K?K:72;for(var Ae,Pe,Qe=(ee=ee||{}).xScale,_t=ee.yScale,gt=((Ae=ee.hinting&&pe&&pe.hinting?this.path&&pe.hinting.exec(this,K):Ae)?(Pe=pe.hinting.getCommands(Ae),E=Math.round(E),N=Math.round(N),Qe=_t=1):(Pe=this.path.commands,ee=1/this.path.unitsPerEm*K,void 0===Qe&&(Qe=ee),void 0===_t&&(_t=ee)),new le),Xt=0;Xt<Pe.length;Xt+=1){var ve=Pe[Xt];"M"===ve.type?gt.moveTo(E+ve.x*Qe,N+-ve.y*_t):"L"===ve.type?gt.lineTo(E+ve.x*Qe,N+-ve.y*_t):"Q"===ve.type?gt.quadraticCurveTo(E+ve.x1*Qe,N+-ve.y1*_t,E+ve.x*Qe,N+-ve.y*_t):"C"===ve.type?gt.curveTo(E+ve.x1*Qe,N+-ve.y1*_t,E+ve.x2*Qe,N+-ve.y2*_t,E+ve.x*Qe,N+-ve.y*_t):"Z"===ve.type&&gt.closePath()}return gt},rr.prototype.getContours=function(){if(void 0===this.points)return[];for(var E=[],N=[],K=0;K<this.points.length;K+=1){var ee=this.points[K];N.push(ee),ee.lastPointOfContour&&(E.push(N),N=[])}return j.argument(0===N.length,"There are still points left in the current contour."),E},rr.prototype.getMetrics=function(){for(var E=this.path.commands,N=[],K=[],ee=0;ee<E.length;ee+=1){var pe=E[ee];"Z"!==pe.type&&(N.push(pe.x),K.push(pe.y)),"Q"!==pe.type&&"C"!==pe.type||(N.push(pe.x1),K.push(pe.y1)),"C"===pe.type&&(N.push(pe.x2),K.push(pe.y2))}var Ae={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,K),xMax:Math.max.apply(null,N),yMax:Math.max.apply(null,K),leftSideBearing:this.leftSideBearing};return isFinite(Ae.xMin)||(Ae.xMin=0),isFinite(Ae.xMax)||(Ae.xMax=this.advanceWidth),isFinite(Ae.yMin)||(Ae.yMin=0),isFinite(Ae.yMax)||(Ae.yMax=0),Ae.rightSideBearing=this.advanceWidth-Ae.leftSideBearing-(Ae.xMax-Ae.xMin),Ae},rr.prototype.draw=function(E,N,K,ee,pe){this.getPath(N,K,ee,pe).draw(E)},rr.prototype.drawPoints=function(E,N,K,ee){function pe(Xt,ve,ie,be){var ge=2*Math.PI;E.beginPath();for(var Be=0;Be<Xt.length;Be+=1)E.moveTo(ve+Xt[Be].x*be,ie+Xt[Be].y*be),E.arc(ve+Xt[Be].x*be,ie+Xt[Be].y*be,2,0,ge,!1);E.closePath(),E.fill()}N=void 0!==N?N:0,K=void 0!==K?K:0,ee=1/this.path.unitsPerEm*(ee=void 0!==ee?ee:24);for(var Ae=[],Pe=[],Qe=this.path,_t=0;_t<Qe.commands.length;_t+=1){var gt=Qe.commands[_t];void 0!==gt.x&&Ae.push({x:gt.x,y:-gt.y}),void 0!==gt.x1&&Pe.push({x:gt.x1,y:-gt.y1}),void 0!==gt.x2&&Pe.push({x:gt.x2,y:-gt.y2})}E.fillStyle="blue",pe(Ae,N,K,ee),E.fillStyle="red",pe(Pe,N,K,ee)},rr.prototype.drawMetrics=function(E,N,K,ee){N=void 0!==N?N:0,K=void 0!==K?K:0,ee=1/this.path.unitsPerEm*(ee=void 0!==ee?ee:24),E.lineWidth=1,E.strokeStyle="black",Jt_line(E,N,-1e4,N,1e4),Jt_line(E,-1e4,K,1e4,K);var pe=this.xMin||0,Ae=this.yMin||0,Pe=this.xMax||0,Qe=this.yMax||0,_t=this.advanceWidth||0;E.strokeStyle="blue",Jt_line(E,N+pe*ee,-1e4,N+pe*ee,1e4),Jt_line(E,N+Pe*ee,-1e4,N+Pe*ee,1e4),Jt_line(E,-1e4,K+-Ae*ee,1e4,K+-Ae*ee),Jt_line(E,-1e4,K+-Qe*ee,1e4,K+-Qe*ee),E.strokeStyle="green",Jt_line(E,N+_t*ee,-1e4,N+_t*ee,1e4)},vt.prototype.get=function(E){return"function"==typeof this.glyphs[E]&&(this.glyphs[E]=this.glyphs[E]()),this.glyphs[E]},vt.prototype.push=function(E,N){this.glyphs[E]=N,this.length++};var Lt={GlyphSet:vt,glyphLoader:function(E,N){return new rr({index:N,font:E})},ttfGlyphLoader:function(E,N,K,ee,pe,Ae){return function(){var Pe=new rr({index:N,font:E});return Pe.path=function(){K(Pe,ee,pe);var Qe=Ae(E.glyphs,Pe);return Qe.unitsPerEm=E.unitsPerEm,Qe},Rt(Pe,"xMin","_xMin"),Rt(Pe,"xMax","_xMax"),Rt(Pe,"yMin","_yMin"),Rt(Pe,"yMax","_yMax"),Pe}},cffGlyphLoader:function(E,N,K,ee){return function(){var pe=new rr({index:N,font:E});return pe.path=function(){var Ae=K(E,pe,ee);return Ae.unitsPerEm=E.unitsPerEm,Ae},pe}}};function bt(E){return E.length<1240?107:E.length<33900?1131:32768}function Pt(E,N,K){var ee,pe=[],Ae=[],Pe=Gt.getCard16(E,N);if(0!==Pe){for(var Qe=Gt.getByte(E,N+2),_t=N+(Pe+1)*Qe+2,gt=N+3,Xt=0;Xt<Pe+1;Xt+=1)pe.push(Gt.getOffset(E,gt,Qe)),gt+=Qe;ee=_t+pe[Pe]}else ee=N+2;for(var ve=0;ve<pe.length-1;ve+=1){var ie=Gt.getBytes(E,_t+pe[ve],_t+pe[ve+1]);K&&(ie=K(ie)),Ae.push(ie)}return{objects:Ae,startOffset:N,endOffset:ee}}function fr(E,N){if(28===N)return E.parseByte()<<8|E.parseByte();if(29===N)return E.parseByte()<<24|E.parseByte()<<16|E.parseByte()<<8|E.parseByte();if(30===N){for(var K=E,ee="",pe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Ae=(Pe=K.parseByte())>>4,Pe=15&Pe;if(15==Ae||(ee+=pe[Ae],15==Pe))break;ee+=pe[Pe]}return parseFloat(ee)}if(32<=N&&N<=246)return N-139;if(247<=N&&N<=250)return 256*(N-247)+E.parseByte()+108;if(251<=N&&N<=254)return 256*-(N-251)-E.parseByte()-108;throw new Error("Invalid b0 "+N)}function dt(E,N,K){var ee=new Gt.Parser(E,N=void 0!==N?N:0),pe=[],Ae=[];for(K=void 0!==K?K:E.length;ee.relativeOffset<K;){var Pe=ee.parseByte();Pe<=21?(12===Pe&&(Pe=1200+ee.parseByte()),pe.push([Pe,Ae]),Ae=[]):Ae.push(fr(ee,Pe))}for(var Qe=pe,_t={},gt=0;gt<Qe.length;gt+=1){var ie,Xt=Qe[gt][0],ve=Qe[gt][1];if(ie=1===ve.length?ve[0]:ve,_t.hasOwnProperty(Xt)&&!isNaN(_t[Xt]))throw new Error("Object "+_t+" already has key "+Xt);_t[Xt]=ie}return _t}function xt(E,N){return N<=390?We[N]:E[N-391]}function nr(E,N,K){for(var ee,pe={},Ae=0;Ae<N.length;Ae+=1){var Pe=N[Ae];if(Array.isArray(Pe.type)){var Qe=[];Qe.length=Pe.type.length;for(var _t=0;_t<Pe.type.length;_t++)void 0===(ee=void 0!==E[Pe.op]?E[Pe.op][_t]:void 0)&&(ee=void 0!==Pe.value&&void 0!==Pe.value[_t]?Pe.value[_t]:null),"SID"===Pe.type[_t]&&(ee=xt(K,ee)),Qe[_t]=ee;pe[Pe.name]=Qe}else void 0===(ee=E[Pe.op])&&(ee=void 0!==Pe.value?Pe.value:null),"SID"===Pe.type&&(ee=xt(K,ee)),pe[Pe.name]=ee}return pe}var Kt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ur=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function vr(E,N,K,ee){return nr(dt(E,N,K),ur,ee)}function hr(E,N,K,ee){for(var pe=[],Ae=0;Ae<K.length;Ae+=1){var Pe,Qe=((Qe=ee,Pe=nr(dt(Pe=new DataView(new Uint8Array(K[Ae]).buffer),0,Pe.byteLength),Kt,Qe))._subrs=[],Pe._subrsBias=0,Pe.private[0]),_t=Pe.private[1];0!==Qe&&0!==_t&&(Qe=vr(E,_t+N,Qe,ee),Pe._defaultWidthX=Qe.defaultWidthX,Pe._nominalWidthX=Qe.nominalWidthX,0!==Qe.subrs&&(_t=Pt(E,_t+Qe.subrs+N),Pe._subrs=_t.objects,Pe._subrsBias=bt(Pe._subrs)),Pe._privateDict=Qe),pe.push(Pe)}return pe}function Mr(E,N,K){var ee,pe,Ae,Pe,Qe,_t,gt,Xt,ve,ie=new le,be=[],ge=0,Be=!1,Nt=!1,Wt=0,sr=0,Br=(ve=(E.isCIDFont?(Qe=E.tables.cff.topDict._fdSelect[N.index],Qe=E.tables.cff.topDict._fdArray[Qe],_t=Qe._subrs,gt=Qe._subrsBias,Xt=Qe._defaultWidthX,Qe):(_t=E.tables.cff.topDict._subrs,gt=E.tables.cff.topDict._subrsBias,Xt=E.tables.cff.topDict._defaultWidthX,E.tables.cff.topDict))._nominalWidthX,Xt);function Lr(Wr,Qr){Nt&&ie.closePath(),ie.moveTo(Wr,Qr),Nt=!0}function zr(){be.length%2==0||Be||(Br=be.shift()+ve),ge+=be.length>>1,be.length=0,Be=!0}return function Wr(Qr){for(var vn,qn,to,so,Kn,fo,Tn,Mn,$r,$n,Vn,lo,Rn=0;Rn<Qr.length;){var uo=Qr[Rn];switch(Rn+=1,uo){case 1:case 3:case 18:case 23:zr();break;case 4:1<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),sr+=be.pop(),Lr(Wt,sr);break;case 5:for(;0<be.length;)Wt+=be.shift(),sr+=be.shift(),ie.lineTo(Wt,sr);break;case 6:for(;0<be.length&&(Wt+=be.shift(),ie.lineTo(Wt,sr),0!==be.length);)sr+=be.shift(),ie.lineTo(Wt,sr);break;case 7:for(;0<be.length&&(sr+=be.shift(),ie.lineTo(Wt,sr),0!==be.length);)Wt+=be.shift(),ie.lineTo(Wt,sr);break;case 8:for(;0<be.length;)ee=Wt+be.shift(),pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae+be.shift(),sr=Pe+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Wt,sr);break;case 10:Kn=be.pop()+gt,(fo=_t[Kn])&&Wr(fo);break;case 11:return;case 12:switch(uo=Qr[Rn],Rn+=1,uo){case 35:ee=Wt+be.shift(),pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Tn=Ae+be.shift(),Mn=Pe+be.shift(),$r=Tn+be.shift(),$n=Mn+be.shift(),Vn=$r+be.shift(),lo=$n+be.shift(),Wt=Vn+be.shift(),sr=lo+be.shift(),be.shift(),ie.curveTo(ee,pe,Ae,Pe,Tn,Mn),ie.curveTo($r,$n,Vn,lo,Wt,sr);break;case 34:ee=Wt+be.shift(),pe=sr,Ae=ee+be.shift(),Pe=pe+be.shift(),Tn=Ae+be.shift(),Mn=Pe,$r=Tn+be.shift(),$n=Pe,Vn=$r+be.shift(),lo=sr,Wt=Vn+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Tn,Mn),ie.curveTo($r,$n,Vn,lo,Wt,sr);break;case 36:ee=Wt+be.shift(),pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Tn=Ae+be.shift(),Mn=Pe,$r=Tn+be.shift(),$n=Pe,Vn=$r+be.shift(),lo=$n+be.shift(),Wt=Vn+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Tn,Mn),ie.curveTo($r,$n,Vn,lo,Wt,sr);break;case 37:ee=Wt+be.shift(),pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Tn=Ae+be.shift(),Mn=Pe+be.shift(),$r=Tn+be.shift(),$n=Mn+be.shift(),Vn=$r+be.shift(),lo=$n+be.shift(),Math.abs(Vn-Wt)>Math.abs(lo-sr)?Wt=Vn+be.shift():sr=lo+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Tn,Mn),ie.curveTo($r,$n,Vn,lo,Wt,sr);break;default:console.log("Glyph "+N.index+": unknown operator 1200"+uo),be.length=0}break;case 14:0<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),Nt&&(ie.closePath(),Nt=!1);break;case 19:case 20:zr(),Rn+=ge+7>>3;break;case 21:2<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),sr+=be.pop(),Lr(Wt+=be.pop(),sr);break;case 22:1<be.length&&!Be&&(Br=be.shift()+ve,Be=!0),Lr(Wt+=be.pop(),sr);break;case 24:for(;2<be.length;)ee=Wt+be.shift(),pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae+be.shift(),sr=Pe+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Wt,sr);Wt+=be.shift(),sr+=be.shift(),ie.lineTo(Wt,sr);break;case 25:for(;6<be.length;)Wt+=be.shift(),sr+=be.shift(),ie.lineTo(Wt,sr);ee=Wt+be.shift(),pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae+be.shift(),sr=Pe+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Wt,sr);break;case 26:for(be.length%2&&(Wt+=be.shift());0<be.length;)ee=Wt,pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae,sr=Pe+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Wt,sr);break;case 27:for(be.length%2&&(sr+=be.shift());0<be.length;)ee=Wt+be.shift(),pe=sr,Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae+be.shift(),ie.curveTo(ee,pe,Ae,Pe,Wt,sr=Pe);break;case 28:be.push(((vn=Qr[Rn])<<24|(qn=Qr[Rn+1])<<16)>>16),Rn+=2;break;case 29:Kn=be.pop()+E.gsubrsBias,(fo=E.gsubrs[Kn])&&Wr(fo);break;case 30:for(;0<be.length&&(ee=Wt,pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae+be.shift(),sr=Pe+(1===be.length?be.shift():0),ie.curveTo(ee,pe,Ae,Pe,Wt,sr),0!==be.length);)ee=Wt+be.shift(),pe=sr,Ae=ee+be.shift(),Pe=pe+be.shift(),sr=Pe+be.shift(),Wt=Ae+(1===be.length?be.shift():0),ie.curveTo(ee,pe,Ae,Pe,Wt,sr);break;case 31:for(;0<be.length&&(ee=Wt+be.shift(),pe=sr,Ae=ee+be.shift(),Pe=pe+be.shift(),sr=Pe+be.shift(),Wt=Ae+(1===be.length?be.shift():0),ie.curveTo(ee,pe,Ae,Pe,Wt,sr),0!==be.length);)ee=Wt,pe=sr+be.shift(),Ae=ee+be.shift(),Pe=pe+be.shift(),Wt=Ae+be.shift(),sr=Pe+(1===be.length?be.shift():0),ie.curveTo(ee,pe,Ae,Pe,Wt,sr);break;default:uo<32?console.log("Glyph "+N.index+": unknown operator "+uo):uo<247?be.push(uo-139):uo<251?(vn=Qr[Rn],Rn+=1,be.push(256*(uo-247)+vn+108)):uo<255?(vn=Qr[Rn],Rn+=1,be.push(256*-(uo-251)-vn-108)):(vn=Qr[Rn],qn=Qr[Rn+1],to=Qr[Rn+2],so=Qr[Rn+3],Rn+=4,be.push((vn<<24|qn<<16|to<<8|so)/65536))}}}(K),N.advanceWidth=Br,ie}function W(E,N){var K,ee=We.indexOf(E);return 0<=ee&&(K=ee),0<=(ee=N.indexOf(E))?K=ee+We.length:(K=We.length+N.length,N.push(E)),K}function fe(E,N,K){for(var ee={},pe=0;pe<E.length;pe+=1){var Ae=E[pe],Pe=N[Ae.name];void 0===Pe||function Qe(_t,gt){if(_t===gt)return 1;if(Array.isArray(_t)&&Array.isArray(gt)&&_t.length===gt.length){for(var Xt=0;Xt<_t.length;Xt+=1)if(!Qe(_t[Xt],gt[Xt]))return;return 1}}(Pe,Ae.value)||("SID"===Ae.type&&(Pe=W(Pe,K)),ee[Ae.op]={name:Ae.name,type:Ae.type,value:Pe})}return ee}function Te(E,N){var K=new Vt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return K.dict=fe(Kt,E,N),K}function w(E){var N=new Vt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return N.topDicts=[{name:"topDict_0",type:"TABLE",value:E}],N}var H_parse=function(E,N,K){K.tables.cff={},(pe={}).formatMajor=Gt.getCard8(Qe=E,ee=N),pe.formatMinor=Gt.getCard8(Qe,ee+1),pe.size=Gt.getCard8(Qe,ee+2),pe.offsetSize=Gt.getCard8(Qe,ee+3),pe.startOffset=ee,pe.endOffset=ee+4;var Qe=Pt(E,pe.endOffset,Gt.bytesToString),ee=Pt(E,Qe.endOffset),pe=Pt(E,ee.endOffset,Gt.bytesToString);if(Qe=Pt(E,pe.endOffset),K.gsubrs=Qe.objects,K.gsubrsBias=bt(K.gsubrs),1!==(Qe=hr(E,N,ee.objects,pe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Qe.length);if((K.tables.cff.topDict=ee=Qe[0])._privateDict&&(K.defaultWidthX=ee._privateDict.defaultWidthX,K.nominalWidthX=ee._privateDict.nominalWidthX),void 0!==ee.ros[0]&&void 0!==ee.ros[1]&&(K.isCIDFont=!0),K.isCIDFont){var Ae=ee.fdSelect;if(0===(Qe=ee.fdArray)||0===Ae)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Qe=hr(E,N,Pt(E,Qe+=N).objects,pe.objects),ee._fdArray=Qe,ee._fdSelect=function(ie,be,ge,Be){var Nt,Wt=[],sr=new Gt.Parser(ie,be);if(0===(ie=sr.parseCard8()))for(var Br=0;Br<ge;Br++){if(Be<=(Nt=sr.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Nt+" (FD count "+Be+")");Wt.push(Nt)}else{if(3!==ie)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ie);var Lr,zr=sr.parseCard16(),Wr=sr.parseCard16();if(0!==Wr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Wr);for(var Qr=0;Qr<zr;Qr++){if(Nt=sr.parseCard8(),Lr=sr.parseCard16(),Be<=Nt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Nt+" (FD count "+Be+")");if(ge<Lr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Lr);for(;Wr<Lr;Wr++)Wt.push(Nt);Wr=Lr}if(Lr!==ge)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Lr)}return Wt}(E,Ae+=N,K.numGlyphs,Qe.length)}Qe=vr(E,Ae=N+ee.private[1],ee.private[0],pe.objects);var Pe=(K.defaultWidthX=Qe.defaultWidthX,K.nominalWidthX=Qe.nominalWidthX,0!==Qe.subrs?(Ae=Pt(E,Ae+Qe.subrs),K.subrs=Ae.objects,K.subrsBias=bt(K.subrs)):(K.subrs=[],K.subrsBias=0),Pt(E,N+ee.charStrings));K.nGlyphs=Pe.objects.length,Qe=function(Xt,ve,ie,be){var ge=new Gt.Parser(Xt,ve),Be=(--ie,[".notdef"]);if(0===(Xt=ge.parseCard8()))for(var Nt=0;Nt<ie;Nt+=1)Wt=ge.parseSID(),Be.push(xt(be,Wt));else if(1===Xt)for(;Be.length<=ie;)for(var Wt=ge.parseSID(),sr=ge.parseCard8(),Br=0;Br<=sr;Br+=1)Be.push(xt(be,Wt)),Wt+=1;else{if(2!==Xt)throw new Error("Unknown charset format "+Xt);for(;Be.length<=ie;){Wt=ge.parseSID(),sr=ge.parseCard16();for(var Lr=0;Lr<=sr;Lr+=1)Be.push(xt(be,Wt)),Wt+=1}}return Be}(E,N+ee.charset,K.nGlyphs,pe.objects),K.cffEncoding=0===ee.encoding?new yt(Oe,Qe):1===ee.encoding?new yt(Je,Qe):function(Xt,ve,ie){var be={},ge=new Gt.Parser(Xt,ve);if(0===(Xt=ge.parseCard8()))for(var Be=ge.parseCard8(),Nt=0;Nt<Be;Nt+=1)be[sr=ge.parseCard8()]=Nt;else{if(1!==Xt)throw new Error("Unknown encoding format "+Xt);for(var Wt=ge.parseCard8(),sr=1,Br=0;Br<Wt;Br+=1)for(var Lr=ge.parseCard8(),zr=ge.parseCard8(),Wr=Lr;Wr<=Lr+zr;Wr+=1)be[Wr]=sr,sr+=1}return new yt(be,ie)}(E,N+ee.encoding,Qe),K.encoding=K.encoding||K.cffEncoding,K.glyphs=new Lt.GlyphSet(K);for(var _t=0;_t<K.nGlyphs;_t+=1)K.glyphs.push(_t,Lt.cffGlyphLoader(K,_t,Mr,Pe.objects[_t]))},H_make=function(E,Xt){for(var K,ee=new Vt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),pe={version:Xt.version,fullName:Xt.fullName,familyName:Xt.familyName,weight:Xt.weightName,fontBBox:Xt.fontBBox||[0,0,0,0],fontMatrix:[pe=1/Xt.unitsPerEm,0,0,pe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Ae=[],Pe=1;Pe<E.length;Pe+=1)K=E.get(Pe),Ae.push(K.name);var Qe,_t,gt=[],ve=(ee.header=new Vt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),ee.nameIndex=function(ie){var be=new Vt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var ge=0;ge<ie.length;ge+=1)be.names.push({name:"name_"+ge,type:"NAME",value:ie[ge]});return be}([Xt.postScriptName]),Xt=Te(pe,gt),ee.topDictIndex=w(Xt),ee.globalSubrIndex=new Vt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),ee.charsets=function(ie,be){for(var ge=new Vt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Be=0;Be<ie.length;Be+=1){var Nt=W(ie[Be],be);ge.fields.push({name:"glyph_"+Be,type:"SID",value:Nt})}return ge}(Ae,gt),ee.charStringsIndex=function I(E){for(var N=new Vt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),K=0;K<E.length;K+=1){var ee=E.get(K),pe=function(Ae){for(var Pe=[],Qe=Ae.path,_t=(Pe.push({name:"width",type:"NUMBER",value:Ae.advanceWidth}),0),gt=0,Xt=0;Xt<Qe.commands.length;Xt+=1){var ve,ie,be,ge,Be=void 0,Nt=void 0,Wt=Qe.commands[Xt];"M"===(Wt="Q"===Wt.type?{type:"C",x:Wt.x,y:Wt.y,x1:1/3*_t+2/3*Wt.x1,y1:1/3*gt+2/3*Wt.y1,x2:1/3*Wt.x+2/3*Wt.x1,y2:1/3*Wt.y+2/3*Wt.y1}:Wt).type?(Be=Math.round(Wt.x-_t),Nt=Math.round(Wt.y-gt),Pe.push({name:"dx",type:"NUMBER",value:Be}),Pe.push({name:"dy",type:"NUMBER",value:Nt}),Pe.push({name:"rmoveto",type:"OP",value:21}),_t=Math.round(Wt.x),gt=Math.round(Wt.y)):"L"===Wt.type?(Be=Math.round(Wt.x-_t),Nt=Math.round(Wt.y-gt),Pe.push({name:"dx",type:"NUMBER",value:Be}),Pe.push({name:"dy",type:"NUMBER",value:Nt}),Pe.push({name:"rlineto",type:"OP",value:5}),_t=Math.round(Wt.x),gt=Math.round(Wt.y)):"C"===Wt.type&&(ve=Math.round(Wt.x1-_t),ie=Math.round(Wt.y1-gt),be=Math.round(Wt.x2-Wt.x1),ge=Math.round(Wt.y2-Wt.y1),Be=Math.round(Wt.x-Wt.x2),Nt=Math.round(Wt.y-Wt.y2),Pe.push({name:"dx1",type:"NUMBER",value:ve}),Pe.push({name:"dy1",type:"NUMBER",value:ie}),Pe.push({name:"dx2",type:"NUMBER",value:be}),Pe.push({name:"dy2",type:"NUMBER",value:ge}),Pe.push({name:"dx",type:"NUMBER",value:Be}),Pe.push({name:"dy",type:"NUMBER",value:Nt}),Pe.push({name:"rrcurveto",type:"OP",value:8}),_t=Math.round(Wt.x),gt=Math.round(Wt.y))}return Pe.push({name:"endchar",type:"OP",value:14}),Pe}(ee);N.charStrings.push({name:ee.name,type:"CHARSTRING",value:pe})}return N}(E),ee.privateDict=(ve={},Qe=gt,(_t=new Vt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=fe(ur,ve,Qe),_t),ee.stringIndex=function(ie){var be=new Vt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var ge=0;ge<ie.length;ge+=1)be.strings.push({name:"string_"+ge,type:"STRING",value:ie[ge]});return be}(gt),ee.header.sizeOf()+ee.nameIndex.sizeOf()+ee.topDictIndex.sizeOf()+ee.stringIndex.sizeOf()+ee.globalSubrIndex.sizeOf());return pe.charset=ve,pe.encoding=0,pe.charStrings=pe.charset+ee.charsets.sizeOf(),pe.private[1]=pe.charStrings+ee.charStringsIndex.sizeOf(),Xt=Te(pe,gt),ee.topDictIndex=w(Xt),ee},F_parse=function(ee,N){var K={};return ee=new Gt.Parser(ee,N),K.version=ee.parseVersion(),K.fontRevision=Math.round(1e3*ee.parseFixed())/1e3,K.checkSumAdjustment=ee.parseULong(),K.magicNumber=ee.parseULong(),j.argument(1594834165===K.magicNumber,"Font header has wrong magic number."),K.flags=ee.parseUShort(),K.unitsPerEm=ee.parseUShort(),K.created=ee.parseLongDateTime(),K.modified=ee.parseLongDateTime(),K.xMin=ee.parseShort(),K.yMin=ee.parseShort(),K.xMax=ee.parseShort(),K.yMax=ee.parseShort(),K.macStyle=ee.parseUShort(),K.lowestRecPPEM=ee.parseUShort(),K.fontDirectionHint=ee.parseShort(),K.indexToLocFormat=ee.parseShort(),K.glyphDataFormat=ee.parseShort(),K},F_make=function(E){var N=Math.round((new Date).getTime()/1e3)+2082844800,K=N;return E.createdTimestamp&&(K=E.createdTimestamp+2082844800),new Vt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:K},{name:"modified",type:"LONGDATETIME",value:N},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],E)},z_parse=function(ee,N){var K={};return ee=new Gt.Parser(ee,N),K.version=ee.parseVersion(),K.ascender=ee.parseShort(),K.descender=ee.parseShort(),K.lineGap=ee.parseShort(),K.advanceWidthMax=ee.parseUShort(),K.minLeftSideBearing=ee.parseShort(),K.minRightSideBearing=ee.parseShort(),K.xMaxExtent=ee.parseShort(),K.caretSlopeRise=ee.parseShort(),K.caretSlopeRun=ee.parseShort(),K.caretOffset=ee.parseShort(),ee.relativeOffset+=8,K.metricDataFormat=ee.parseShort(),K.numberOfHMetrics=ee.parseUShort(),K},z_make=function(E){return new Vt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],E)},B_parse=function(E,N,K,ee,pe){for(var Ae,Pe,Qe=new Gt.Parser(E,N),_t=0;_t<ee;_t+=1){_t<K&&(Ae=Qe.parseUShort(),Pe=Qe.parseShort());var gt=pe.get(_t);gt.advanceWidth=Ae,gt.leftSideBearing=Pe}},B_make=function(E){for(var N=new Vt.Table("hmtx",[]),K=0;K<E.length;K+=1){var ee=(pe=E.get(K)).advanceWidth||0,pe=pe.leftSideBearing||0;N.fields.push({name:"advanceWidth_"+K,type:"USHORT",value:ee}),N.fields.push({name:"leftSideBearing_"+K,type:"SHORT",value:pe})}return N},ue_make=function(E){for(var N=new Vt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:E.length}]),K="",ee=12+4*E.length,pe=0;pe<E.length;++pe){var Ae=K.indexOf(E[pe]);Ae<0&&(Ae=K.length,K+=E[pe]),N.fields.push({name:"offset "+pe,type:"USHORT",value:ee+Ae}),N.fields.push({name:"length "+pe,type:"USHORT",value:E[pe].length})}return N.fields.push({name:"stringPool",type:"CHARARRAY",value:K}),N},ue_parse=function(E,N){for(var K=new Gt.Parser(E,N),ee=K.parseULong(),pe=(j.argument(1===ee,"Unsupported ltag table version."),K.skip("uLong",1),K.parseULong()),Ae=[],Pe=0;Pe<pe;Pe++){for(var Qe="",_t=N+K.parseUShort(),gt=K.parseUShort(),Xt=_t;Xt<_t+gt;++Xt)Qe+=String.fromCharCode(E.getInt8(Xt));Ae.push(Qe)}return Ae},Se_parse=function(ee,N){var K={};return ee=new Gt.Parser(ee,N),K.version=ee.parseVersion(),K.numGlyphs=ee.parseUShort(),1===K.version&&(K.maxPoints=ee.parseUShort(),K.maxContours=ee.parseUShort(),K.maxCompositePoints=ee.parseUShort(),K.maxCompositeContours=ee.parseUShort(),K.maxZones=ee.parseUShort(),K.maxTwilightPoints=ee.parseUShort(),K.maxStorage=ee.parseUShort(),K.maxFunctionDefs=ee.parseUShort(),K.maxInstructionDefs=ee.parseUShort(),K.maxStackElements=ee.parseUShort(),K.maxSizeOfInstructions=ee.parseUShort(),K.maxComponentElements=ee.parseUShort(),K.maxComponentDepth=ee.parseUShort()),K},Se_make=function(E){return new Vt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:E}])},ke=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Fe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},$t={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ut={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Dr="utf-16",Re={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Xe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function mt(E,N,K){switch(E){case 0:return Dr;case 1:return Xe[K]||Re[N];case 3:if(1===N||10===N)return Dr}}function ze(E){var N,K={};for(N in E)K[E[N]]=parseInt(N);return K}function ht(E,N,K,ee,pe,Ae){return new Vt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:E},{name:"encodingID",type:"USHORT",value:N},{name:"languageID",type:"USHORT",value:K},{name:"nameID",type:"USHORT",value:ee},{name:"length",type:"USHORT",value:pe},{name:"offset",type:"USHORT",value:Ae}])}function Bt(E,N){if((K=function(Ae,Pe){var Qe=Ae.length,_t=Pe.length-Qe+1;e:for(var gt=0;gt<_t;gt++)for(;gt<_t;gt++){for(var Xt=0;Xt<Qe;Xt++)if(Pe[gt+Xt]!==Ae[Xt])continue e;return gt}return-1}(E,N))<0)for(var K=N.length,ee=0,pe=E.length;ee<pe;++ee)N.push(E[ee]);return K}var cr_parse=function(E,N,K){for(var ee={},pe=new Gt.Parser(E,N),Ae=(N=pe.parseUShort(),pe.parseUShort()),Pe=pe.offset+pe.parseUShort(),Qe=0;Qe<Ae;Qe++){var ge=pe.parseUShort(),_t=pe.parseUShort(),gt=pe.parseUShort(),Xt=pe.parseUShort(),ve=(Xt=ke[Xt]||Xt,pe.parseUShort()),ie=pe.parseUShort(),be=function(Nt,Wt,sr){switch(Nt){case 0:if(65535===Wt)return"und";if(sr)return sr[Wt];break;case 1:return Fe[Wt];case 3:return Ut[Wt]}}(ge,gt,K);void 0!==(ge=mt(ge,_t,gt))&&void 0!==be&&(_t=void 0,(_t=ge===Dr?ne.UTF16(E,Pe+ie,ve):ne.MACSTRING(E,Pe+ie,ve,ge))&&((gt=void 0===(gt=ee[Xt])?ee[Xt]={}:gt)[be]=_t))}return 1===N&&pe.parseUShort(),ee},cr_make=function(E,N){var K,ee=[],pe={},Ae=ze(ke);for(K in E){var Pe=Ae[K];if(void 0===Pe&&(Pe=K),ie=parseInt(Pe),isNaN(ie))throw new Error('Name table entry "'+K+'" does not exist, see nameTableNames for complete list.');pe[ie]=E[K],ee.push(ie)}for(var Qe=ze(Fe),_t=ze(Ut),gt=[],Xt=[],ve=0;ve<ee.length;ve++){var ie,be,ge=pe[ie=ee[ve]];for(be in ge){var Lr,Be=ge[be],Nt=Qe[be],Wt=$t[Nt],sr=mt(Lr=1,Wt,Nt),Br=(void 0===(sr=me.MACSTRING(Be,sr))&&(Lr=0,(Nt=N.indexOf(be))<0&&(Nt=N.length,N.push(be)),Wt=4,sr=me.UTF16(Be)),Bt(sr,Xt));void 0!==(gt.push(ht(Lr,Wt,Nt,ie,sr.length,Br)),Lr=_t[be])&&(Nt=Bt(Wt=me.UTF16(Be),Xt),gt.push(ht(3,1,Lr,ie,Wt.length,Nt)))}}gt.sort(function(Qr,vn){return Qr.platformID-vn.platformID||Qr.encodingID-vn.encodingID||Qr.languageID-vn.languageID||Qr.nameID-vn.nameID});for(var zr=new Vt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:gt.length},{name:"stringOffset",type:"USHORT",value:6+12*gt.length}]),Wr=0;Wr<gt.length;Wr++)zr.fields.push({name:"record_"+Wr,type:"RECORD",value:gt[Wr]});return zr.fields.push({name:"strings",type:"LITERAL",value:Xt}),zr},wr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Pr_parse=function(E,N){var K={},ee=new Gt.Parser(E,N);K.version=ee.parseUShort(),K.xAvgCharWidth=ee.parseShort(),K.usWeightClass=ee.parseUShort(),K.usWidthClass=ee.parseUShort(),K.fsType=ee.parseUShort(),K.ySubscriptXSize=ee.parseShort(),K.ySubscriptYSize=ee.parseShort(),K.ySubscriptXOffset=ee.parseShort(),K.ySubscriptYOffset=ee.parseShort(),K.ySuperscriptXSize=ee.parseShort(),K.ySuperscriptYSize=ee.parseShort(),K.ySuperscriptXOffset=ee.parseShort(),K.ySuperscriptYOffset=ee.parseShort(),K.yStrikeoutSize=ee.parseShort(),K.yStrikeoutPosition=ee.parseShort(),K.sFamilyClass=ee.parseShort(),K.panose=[];for(var pe=0;pe<10;pe++)K.panose[pe]=ee.parseByte();return K.ulUnicodeRange1=ee.parseULong(),K.ulUnicodeRange2=ee.parseULong(),K.ulUnicodeRange3=ee.parseULong(),K.ulUnicodeRange4=ee.parseULong(),K.achVendID=String.fromCharCode(ee.parseByte(),ee.parseByte(),ee.parseByte(),ee.parseByte()),K.fsSelection=ee.parseUShort(),K.usFirstCharIndex=ee.parseUShort(),K.usLastCharIndex=ee.parseUShort(),K.sTypoAscender=ee.parseShort(),K.sTypoDescender=ee.parseShort(),K.sTypoLineGap=ee.parseShort(),K.usWinAscent=ee.parseUShort(),K.usWinDescent=ee.parseUShort(),1<=K.version&&(K.ulCodePageRange1=ee.parseULong(),K.ulCodePageRange2=ee.parseULong()),2<=K.version&&(K.sxHeight=ee.parseShort(),K.sCapHeight=ee.parseShort(),K.usDefaultChar=ee.parseUShort(),K.usBreakChar=ee.parseUShort(),K.usMaxContent=ee.parseUShort()),K},Pr_make=function(E){return new Vt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],E)},Pr_getUnicodeRange=function(E){for(var N=0;N<wr.length;N+=1){var K=wr[N];if(E>=K.begin&&E<K.end)return N}return-1},tn_parse=function(E,N){var K={},ee=new Gt.Parser(E,N);switch(K.version=ee.parseVersion(),K.italicAngle=ee.parseFixed(),K.underlinePosition=ee.parseShort(),K.underlineThickness=ee.parseShort(),K.isFixedPitch=ee.parseULong(),K.minMemType42=ee.parseULong(),K.maxMemType42=ee.parseULong(),K.minMemType1=ee.parseULong(),K.maxMemType1=ee.parseULong(),K.version){case 1:K.names=It.slice();break;case 2:K.numberOfGlyphs=ee.parseUShort(),K.glyphNameIndex=new Array(K.numberOfGlyphs);for(var pe=0;pe<K.numberOfGlyphs;pe++)K.glyphNameIndex[pe]=ee.parseUShort();K.names=[];for(var Ae,Pe=0;Pe<K.numberOfGlyphs;Pe++)K.glyphNameIndex[Pe]>=It.length&&(Ae=ee.parseChar(),K.names.push(ee.parseString(Ae)));break;case 2.5:K.numberOfGlyphs=ee.parseUShort(),K.offset=new Array(K.numberOfGlyphs);for(var Qe=0;Qe<K.numberOfGlyphs;Qe++)K.offset[Qe]=ee.parseChar()}return K},tn_make=function(){return new Vt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},on=new Array(9),Nn=(on[1]=function(){var E=this.offset+this.relativeOffset,N=this.parseUShort();return 1===N?{substFormat:1,coverage:this.parsePointer(Ct.coverage),deltaGlyphId:this.parseUShort()}:2===N?{substFormat:2,coverage:this.parsePointer(Ct.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+E.toString(16)+": lookup type 1 format must be 1 or 2.")},on[2]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Ct.coverage),sequences:this.parseListOfLists()}},on[3]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Ct.coverage),alternateSets:this.parseListOfLists()}},on[4]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB ligature table identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Ct.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ct.uShort,lookupListIndex:Ct.uShort});on[5]=function(){var E,N,K=this.offset+this.relativeOffset,ee=this.parseUShort();return 1===ee?{substFormat:ee,coverage:this.parsePointer(Ct.coverage),ruleSets:this.parseListOfLists(function(){var pe=this.parseUShort(),Ae=this.parseUShort();return{input:this.parseUShortList(pe-1),lookupRecords:this.parseRecordList(Ae,Nn)}})}:2===ee?{substFormat:ee,coverage:this.parsePointer(Ct.coverage),classDef:this.parsePointer(Ct.classDef),classSets:this.parseListOfLists(function(){var pe=this.parseUShort(),Ae=this.parseUShort();return{classes:this.parseUShortList(pe-1),lookupRecords:this.parseRecordList(Ae,Nn)}})}:3===ee?(E=this.parseUShort(),N=this.parseUShort(),{substFormat:ee,coverages:this.parseList(E,Ct.pointer(Ct.coverage)),lookupRecords:this.parseRecordList(N,Nn)}):void j.assert(!1,"0x"+K.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},on[6]=function(){var E=this.offset+this.relativeOffset,N=this.parseUShort();return 1===N?{substFormat:1,coverage:this.parsePointer(Ct.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:2===N?{substFormat:2,coverage:this.parsePointer(Ct.coverage),backtrackClassDef:this.parsePointer(Ct.classDef),inputClassDef:this.parsePointer(Ct.classDef),lookaheadClassDef:this.parsePointer(Ct.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:3===N?{substFormat:3,backtrackCoverage:this.parseList(Ct.pointer(Ct.coverage)),inputCoverage:this.parseList(Ct.pointer(Ct.coverage)),lookaheadCoverage:this.parseList(Ct.pointer(Ct.coverage)),lookupRecords:this.parseRecordList(Nn)}:void j.assert(!1,"0x"+E.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},on[7]=function(){var E=this.parseUShort(),N=(j.argument(1===E,"GSUB Extension Substitution subtable identifier-format must be 1"),E=this.parseUShort(),new Ct(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:E,extension:on[E].call(N)}},on[8]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(Ct.coverage),backtrackCoverage:this.parseList(Ct.pointer(Ct.coverage)),lookaheadCoverage:this.parseList(Ct.pointer(Ct.coverage)),substitutes:this.parseUShortList()}};var Dn=new Array(9);Dn[1]=function(E){return new Vt.Table("substitutionTable",1===E.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Vt.Coverage(E.coverage)},{name:"deltaGlyphID",type:"USHORT",value:E.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Vt.Coverage(E.coverage)}].concat(Vt.ushortList("substitute",E.substitute)))},Dn[3]=function(E){return j.assert(1===E.substFormat,"Lookup type 3 substFormat must be 1."),new Vt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Vt.Coverage(E.coverage)}].concat(Vt.tableList("altSet",E.alternateSets,function(N){return new Vt.Table("alternateSetTable",Vt.ushortList("alternate",N))})))},Dn[4]=function(E){return j.assert(1===E.substFormat,"Lookup type 4 substFormat must be 1."),new Vt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Vt.Coverage(E.coverage)}].concat(Vt.tableList("ligSet",E.ligatureSets,function(N){return new Vt.Table("ligatureSetTable",Vt.tableList("ligature",N,function(K){return new Vt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:K.ligGlyph}].concat(Vt.ushortList("component",K.components,K.components.length+1)))}))})))};var Kr_parse=function(E,N){return N=(E=new Ct(E,N=N||0)).parseVersion(1),j.argument(1===N||1.1===N,"Unsupported GSUB table version."),1===N?{version:N,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(on)}:{version:N,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(on),variations:E.parseFeatureVariationsList()}},Kr_make=function(E){return new Vt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Vt.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new Vt.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new Vt.LookupList(E.lookups,Dn)}])},yn_parse=function(E,N){for(var K=new Gt.Parser(E,N),ee=K.parseULong(),pe=(j.argument(1===ee,"Unsupported META table version."),K.parseULong(),K.parseULong(),K.parseULong()),Ae={},Pe=0;Pe<pe;Pe++){var Qe=K.parseTag(),gt=K.parseULong(),_t=K.parseULong();gt=ne.UTF8(E,N+gt,_t),Ae[Qe]=gt}return Ae},yn_make=function(E){var N,K=Object.keys(E).length,ee="",pe=16+12*K,Ae=new Vt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:pe},{name:"numTags",type:"ULONG",value:K}]);for(N in E){var Pe=ee.length;ee+=E[N],Ae.fields.push({name:"tag "+N,type:"TAG",value:N}),Ae.fields.push({name:"offset "+N,type:"ULONG",value:pe+Pe}),Ae.fields.push({name:"length "+N,type:"ULONG",value:E[N].length})}return Ae.fields.push({name:"stringPool",type:"CHARARRAY",value:ee}),Ae};function Gn(E){return Math.log(E)/Math.log(2)|0}function bn(E){for(;E.length%4!=0;)E.push(0);for(var N=0,K=0;K<E.length;K+=4)N+=(E[K]<<24)+(E[K+1]<<16)+(E[K+2]<<8)+E[K+3];return N%Math.pow(2,32)}function Ln(E,N,K,ee){return new Vt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==E?E:""},{name:"checkSum",type:"ULONG",value:void 0!==N?N:0},{name:"offset",type:"ULONG",value:void 0!==K?K:0},{name:"length",type:"ULONG",value:void 0!==ee?ee:0}])}function To(E){for(var N=new Vt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),K=(N.tables=E,N.numTables=E.length,Math.pow(2,Gn(N.numTables))),ee=(N.searchRange=16*K,N.entrySelector=Gn(K),N.rangeShift=16*N.numTables-N.searchRange,[]),pe=[],Ae=N.sizeOf()+Ln().sizeOf()*N.numTables;Ae%4!=0;)Ae+=1,pe.push({name:"padding",type:"BYTE",value:0});for(var Pe=0;Pe<E.length;Pe+=1){var Qe=E[Pe],_t=(j.argument(4===Qe.tableName.length,"Table name"+Qe.tableName+" is invalid."),Qe.sizeOf()),gt=Ln(Qe.tableName,bn(Qe.encode()),Ae,_t);for(ee.push({name:gt.tag+" Table Record",type:"RECORD",value:gt}),pe.push({name:Qe.tableName+" table",type:"RECORD",value:Qe}),Ae+=_t,j.argument(!isNaN(Ae),"Something went wrong calculating the offset.");Ae%4!=0;)Ae+=1,pe.push({name:"padding",type:"BYTE",value:0})}return ee.sort(function(Xt,ve){return Xt.value.tag>ve.value.tag?1:-1}),N.fields=N.fields.concat(ee),N.fields=N.fields.concat(pe),N}function eo(E,N,K){for(var ee=0;ee<N.length;ee+=1){var pe=E.charToGlyphIndex(N[ee]);if(0<pe)return E.glyphs.get(pe).getMetrics()}return K}var wo_fontToTable=function(E){for(var N,K=[],ee=[],pe=[],Ae=[],Pe=[],Qe=[],_t=[],gt=0,Xt=0,ve=0,ie=0,be=0,ge=0;ge<E.glyphs.length;ge+=1){var Be=E.glyphs.get(ge),Nt=0|Be.unicode;if(isNaN(Be.advanceWidth))throw new Error("Glyph "+Be.name+" ("+ge+"): advanceWidth is not a number.");if((Nt<N||void 0===N)&&0<Nt&&(N=Nt),gt<Nt&&(gt=Nt),(Nt=Pr_getUnicodeRange(Nt))<32)Xt|=1<<Nt;else if(Nt<64)ve|=1<<Nt-32;else if(Nt<96)ie|=1<<Nt-64;else{if(!(Nt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Nt-96}".notdef"!==Be.name&&(Nt=Be.getMetrics(),K.push(Nt.xMin),ee.push(Nt.yMin),pe.push(Nt.xMax),Ae.push(Nt.yMax),Qe.push(Nt.leftSideBearing),_t.push(Nt.rightSideBearing),Pe.push(Be.advanceWidth))}var Wt,sr={xMin:Math.min.apply(null,K),yMin:Math.min.apply(null,ee),xMax:Math.max.apply(null,pe),yMax:Math.max.apply(null,Ae),advanceWidthMax:Math.max.apply(null,Pe),advanceWidthAvg:function(uo){for(var rs=0,ni=0;ni<uo.length;ni+=1)rs+=uo[ni];return rs/uo.length}(Pe),minLeftSideBearing:Math.min.apply(null,Qe),maxLeftSideBearing:Math.max.apply(null,Qe),minRightSideBearing:Math.min.apply(null,_t)},Br=(sr.ascender=E.ascender,sr.descender=E.descender,F_make({flags:3,unitsPerEm:E.unitsPerEm,xMin:sr.xMin,yMin:sr.yMin,xMax:sr.xMax,yMax:sr.yMax,lowestRecPPEM:3,createdTimestamp:E.createdTimestamp})),Lr=z_make({ascender:sr.ascender,descender:sr.descender,advanceWidthMax:sr.advanceWidthMax,minLeftSideBearing:sr.minLeftSideBearing,minRightSideBearing:sr.minRightSideBearing,xMaxExtent:sr.maxLeftSideBearing+(sr.xMax-sr.xMin),numberOfHMetrics:E.glyphs.length}),zr=Se_make(E.glyphs.length),Wr=Pr_make({xAvgCharWidth:Math.round(sr.advanceWidthAvg),usWeightClass:E.tables.os2.usWeightClass,usWidthClass:E.tables.os2.usWidthClass,usFirstCharIndex:N,usLastCharIndex:gt,ulUnicodeRange1:Xt,ulUnicodeRange2:ve,ulUnicodeRange3:ie,ulUnicodeRange4:be,fsSelection:E.tables.os2.fsSelection,sTypoAscender:sr.ascender,sTypoDescender:sr.descender,sTypoLineGap:0,usWinAscent:sr.yMax,usWinDescent:Math.abs(sr.yMin),ulCodePageRange1:1,sxHeight:eo(E,"xyvw",{yMax:Math.round(sr.ascender/2)}).yMax,sCapHeight:eo(E,"HIKLEFJMNTZBDPRAGOQSUVWXY",sr).yMax,usDefaultChar:E.hasChar(" ")?32:0,usBreakChar:E.hasChar(" ")?32:0}),Qr=B_make(E.glyphs),vn=Ve_make(E.glyphs),Tn=(Mn=E.getEnglishName("fontFamily"))+" "+($r=E.getEnglishName("fontSubfamily")),qn=(qn=E.getEnglishName("postScriptName"))||Mn.replace(/\s/g,"")+"-"+$r,to={};for(Wt in E.names)to[Wt]=E.names[Wt];to.uniqueID||(to.uniqueID={en:E.getEnglishName("manufacturer")+":"+Tn}),to.postScriptName||(to.postScriptName={en:qn}),to.preferredFamily||(to.preferredFamily=E.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=E.names.fontSubfamily);var so=cr_make(to,Kn=[]),Kn=0<Kn.length?ue_make(Kn):void 0,fo=tn_make(),Mn=(Tn=H_make(E.glyphs,{version:E.getEnglishName("version"),fullName:Tn,familyName:Mn,weightName:$r,postScriptName:qn,unitsPerEm:E.unitsPerEm,fontBBox:[0,sr.yMin,sr.ascender,sr.advanceWidthMax]}),E.metas&&0<Object.keys(E.metas).length?yn_make(E.metas):void 0),$r=[Br,Lr,zr,Wr,so,vn,fo,Tn,Qr];Kn&&$r.push(Kn),E.tables.gsub&&$r.push(Kr_make(E.tables.gsub)),Mn&&$r.push(Mn);for(var $n=bn((qn=To($r)).encode()),Vn=qn.fields,lo=!1,Rn=0;Rn<Vn.length;Rn+=1)if("head table"===Vn[Rn].name){Vn[Rn].value.checkSumAdjustment=2981146554-$n,lo=!0;break}if(lo)return qn;throw new Error("Could not find head table with checkSum to adjust.")};function ko(E,N){for(var K=0,ee=E.length-1;K<=ee;){var pe=K+ee>>>1,Ae=E[pe].tag;if(Ae===N)return pe;Ae<N?K=1+pe:ee=pe-1}return-K-1}function No(E,N){for(var K=0,ee=E.length-1;K<=ee;){var pe=K+ee>>>1,Ae=E[pe];if(Ae===N)return pe;Ae<N?K=1+pe:ee=pe-1}return-K-1}function $o(E,N){for(var K=0,ee=E.length-1;K<=ee;){var pe,Ae=K+ee>>>1,Pe=(pe=E[Ae]).start;if(Pe===N)return pe;Pe<N?K=1+Ae:ee=Ae-1}if(0<K)return N>(pe=E[K-1]).end?0:pe}function Wn(E,N){this.font=E,this.tableName=N}function Vo(E){Wn.call(this,E,"gpos")}function oo(E){Wn.call(this,E,"gsub")}function cs(E,N,K){for(var ee=E.subtables,pe=0;pe<ee.length;pe++){var Ae=ee[pe];if(Ae.substFormat===N)return Ae}if(K)return ee.push(K),K}function vs(E){for(var N=new ArrayBuffer(E.length),K=new Uint8Array(N),ee=0;ee<E.length;++ee)K[ee]=E[ee];return N}function ye(E,N){if(!E)throw N}function Ge(E,N,K,ee,pe){var Ae=0<(N&ee)?(Ae=E.parseByte(),K+(Ae=N&pe?Ae:-Ae)):0<(N&pe)?K:K+E.parseShort();return Ae}function ct(E,N,K){var ee,pe=new Gt.Parser(N,K);if(E.numberOfContours=pe.parseShort(),E._xMin=pe.parseShort(),E._yMin=pe.parseShort(),E._xMax=pe.parseShort(),E._yMax=pe.parseShort(),0<E.numberOfContours){for(var Ae=E.endPointIndices=[],Pe=0;Pe<E.numberOfContours;Pe+=1)Ae.push(pe.parseUShort());E.instructionLength=pe.parseUShort(),E.instructions=[];for(var Qe=0;Qe<E.instructionLength;Qe+=1)E.instructions.push(pe.parseByte());for(var _t=Ae[Ae.length-1]+1,gt=[],Xt=0;Xt<_t;Xt+=1)if(ee=pe.parseByte(),gt.push(ee),0<(8&ee))for(var ve=pe.parseByte(),ie=0;ie<ve;ie+=1)gt.push(ee),Xt+=1;if(j.argument(gt.length===_t,"Bad flags."),0<Ae.length){var be,ge=[];if(0<_t){for(var Be=0;Be<_t;Be+=1)(be={}).onCurve=!!(1&(ee=gt[Be])),be.lastPointOfContour=0<=Ae.indexOf(Be),ge.push(be);for(var Nt=0,Wt=0;Wt<_t;Wt+=1)(be=ge[Wt]).x=Ge(pe,ee=gt[Wt],Nt,2,16),Nt=be.x;for(var sr=0,Br=0;Br<_t;Br+=1)(be=ge[Br]).y=Ge(pe,ee=gt[Br],sr,4,32),sr=be.y}E.points=ge}else E.points=[]}else if(0===E.numberOfContours)E.points=[];else{E.isComposite=!0,E.points=[],E.components=[];for(var Lr=!0;Lr;){gt=pe.parseUShort();var zr={glyphIndex:pe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&gt)?0<(2&gt)?(zr.dx=pe.parseShort(),zr.dy=pe.parseShort()):zr.matchedPoints=[pe.parseUShort(),pe.parseUShort()]:0<(2&gt)?(zr.dx=pe.parseChar(),zr.dy=pe.parseChar()):zr.matchedPoints=[pe.parseByte(),pe.parseByte()],0<(8&gt)?zr.xScale=zr.yScale=pe.parseF2Dot14():0<(64&gt)?(zr.xScale=pe.parseF2Dot14(),zr.yScale=pe.parseF2Dot14()):0<(128&gt)&&(zr.xScale=pe.parseF2Dot14(),zr.scale01=pe.parseF2Dot14(),zr.scale10=pe.parseF2Dot14(),zr.yScale=pe.parseF2Dot14()),E.components.push(zr),Lr=!!(32&gt)}if(256&gt){E.instructionLength=pe.parseUShort(),E.instructions=[];for(var Wr=0;Wr<E.instructionLength;Wr+=1)E.instructions.push(pe.parseByte())}}}function Ee(E,N){for(var K=[],ee=0;ee<E.length;ee+=1){var pe;K.push(pe={x:N.xScale*(pe=E[ee]).x+N.scale01*pe.y+N.dx,y:N.scale10*pe.x+N.yScale*pe.y+N.dy,onCurve:pe.onCurve,lastPointOfContour:pe.lastPointOfContour})}return K}function pt(E){var N=new le;if(E)for(var K=function(ve){for(var ie=[],be=[],ge=0;ge<ve.length;ge+=1){var Be=ve[ge];be.push(Be),Be.lastPointOfContour&&(ie.push(be),be=[])}return j.argument(0===be.length,"There are still points left in the current contour."),ie}(E),ee=0;ee<K.length;++ee){var pe,Ae=K[ee],Qe=Ae[0];(Pe=Ae[Ae.length-1]).onCurve?N.moveTo(Pe.x,Pe.y):Qe.onCurve?N.moveTo(Qe.x,Qe.y):N.moveTo((pe={x:.5*(Pe.x+Qe.x),y:.5*(Pe.y+Qe.y)}).x,pe.y);for(var _t=0;_t<Ae.length;++_t){var gt,Pe=Qe;Qe=Ae[(_t+1)%Ae.length],Pe.onCurve?N.lineTo(Pe.x,Pe.y):(gt=Qe,Qe.onCurve||(gt={x:.5*(Pe.x+Qe.x),y:.5*(Pe.y+Qe.y)}),N.quadraticCurveTo(Pe.x,Pe.y,gt.x,gt.y))}N.closePath()}return N}function Qt(E,N){if(N.isComposite)for(var K=0;K<N.components.length;K+=1){var pe=E.get((ee=N.components[K]).glyphIndex);if(pe.getPath(),pe.points){var Ae=void 0;if(void 0===ee.matchedPoints)Ae=Ee(pe.points,ee);else{if(ee.matchedPoints[0]>N.points.length-1||ee.matchedPoints[1]>pe.points.length-1)throw Error("Matched points out of range in "+N.name);var ee,Pe=N.points[ee.matchedPoints[0]],Qe=Ee([Qe=pe.points[ee.matchedPoints[1]]],ee={xScale:ee.xScale,scale01:ee.scale01,scale10:ee.scale10,yScale:ee.yScale,dx:0,dy:0})[0];ee.dx=Pe.x-Qe.x,ee.dy=Pe.y-Qe.y,Ae=Ee(pe.points,ee)}N.points=N.points.concat(Ae)}}return pt(N.points)}(Vo.prototype=Wn.prototype={searchTag:ko,binSearch:No,getTable:function(E){var N=this.font.tables[this.tableName];return!N&&E?this.font.tables[this.tableName]=this.createDefaultTable():N},getScriptNames:function(){var E=this.getTable();return E?E.scripts.map(function(N){return N.tag}):[]},getDefaultScriptName:function(){var E=this.getTable();if(E){for(var N=!1,K=0;K<E.scripts.length;K++){var ee=E.scripts[K].tag;if("DFLT"===ee)return ee;"latn"===ee&&(N=!0)}return N?"latn":void 0}},getScriptTable:function(E,N){var K,ee=this.getTable(N);if(ee)return K=ee.scripts,0<=(ee=ko(ee.scripts,E=E||"DFLT"))?K[ee].script:N?(K.splice(-1-ee,0,N={tag:E,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),N.script):void 0},getLangSysTable:function(pe,N,K){var ee;if(pe=this.getScriptTable(pe,K))return N&&"dflt"!==N&&"DFLT"!==N?0<=(ee=ko(pe.langSysRecords,N))?pe.langSysRecords[ee].langSys:K?(pe.langSysRecords.splice(-1-ee,0,K={tag:N,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),K.langSys):void 0:pe.defaultLangSys},getFeatureTable:function(E,N,K,ee){if(E=this.getLangSysTable(E,N,ee)){for(var pe,Ae=E.featureIndexes,Pe=this.font.tables[this.tableName].features,Qe=0;Qe<Ae.length;Qe++)if((pe=Pe[Ae[Qe]]).tag===K)return pe.feature;if(ee)return j.assert(0===(N=Pe.length)||K>=Pe[N-1].tag,"Features must be added in alphabetical order."),Pe.push(pe={tag:K,feature:{params:0,lookupListIndexes:[]}}),Ae.push(N),pe.feature}},getLookupTables:function(Ae,N,K,ee,pe){var Pe=[];if(Ae=this.getFeatureTable(Ae,N,K,pe)){for(var Qe,_t=Ae.lookupListIndexes,gt=this.font.tables[this.tableName].lookups,Xt=0;Xt<_t.length;Xt++)(Qe=gt[_t[Xt]]).lookupType===ee&&Pe.push(Qe);if(0===Pe.length&&pe)return N=gt.length,gt.push(Qe={lookupType:ee,lookupFlag:0,subtables:[],markFilteringSet:void 0}),_t.push(N),[Qe]}return Pe},getGlyphClass:function(E,N){switch(E.format){case 1:return E.startGlyph<=N&&N<E.startGlyph+E.classes.length?E.classes[N-E.startGlyph]:0;case 2:var K=$o(E.ranges,N);return K?K.classId:0}},getCoverageIndex:function(E,N){switch(E.format){case 1:var K=No(E.glyphs,N);return 0<=K?K:-1;case 2:return(K=$o(E.ranges,N))?K.index+N-K.start:-1}},expandCoverage:function(E){if(1===E.format)return E.glyphs;for(var N=[],K=E.ranges,ee=0;ee<K.length;ee++)for(var pe=K[ee],Pe=pe.end,Qe=pe.start;Qe<=Pe;Qe++)N.push(Qe);return N}}).init=function(){var E=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(E)},Vo.prototype.getKerningValue=function(E,N,K){for(var ee=0;ee<E.length;ee++)for(var pe=E[ee].subtables,Ae=0;Ae<pe.length;Ae++){var Pe=pe[Ae],Qe=this.getCoverageIndex(Pe.coverage,N);if(!(Qe<0))switch(Pe.posFormat){case 1:for(var _t=Pe.pairSets[Qe],gt=0;gt<_t.length;gt++){var Xt=_t[gt];if(Xt.secondGlyph===K)return Xt.value1&&Xt.value1.xAdvance||0}break;case 2:var ie=this.getGlyphClass(Pe.classDef1,N),ve=this.getGlyphClass(Pe.classDef2,K);return(ie=Pe.classRecords[ie][ve]).value1&&ie.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(E,N){if(this.font.tables.gpos)return this.getLookupTables(E,N,"kern",2)},(oo.prototype=Wn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(E,N,K){for(var ee=[],pe=this.getLookupTables(N,K,E,1),Ae=0;Ae<pe.length;Ae++)for(var Pe=pe[Ae].subtables,Qe=0;Qe<Pe.length;Qe++){var _t=Pe[Qe],gt=this.expandCoverage(_t.coverage),Xt=void 0;if(1===_t.substFormat){var ve=_t.deltaGlyphId;for(Xt=0;Xt<gt.length;Xt++){var ie=gt[Xt];ee.push({sub:ie,by:ie+ve})}}else{var be=_t.substitute;for(Xt=0;Xt<gt.length;Xt++)ee.push({sub:gt[Xt],by:be[Xt]})}}return ee},oo.prototype.getAlternates=function(E,N,K){for(var ee=[],pe=this.getLookupTables(N,K,E,3),Ae=0;Ae<pe.length;Ae++)for(var Pe=pe[Ae].subtables,Qe=0;Qe<Pe.length;Qe++)for(var _t=Pe[Qe],gt=this.expandCoverage(_t.coverage),Xt=_t.alternateSets,ve=0;ve<gt.length;ve++)ee.push({sub:gt[ve],by:Xt[ve]});return ee},oo.prototype.getLigatures=function(E,N,K){for(var ee=[],pe=this.getLookupTables(N,K,E,4),Ae=0;Ae<pe.length;Ae++)for(var Pe=pe[Ae].subtables,Qe=0;Qe<Pe.length;Qe++)for(var _t=Pe[Qe],gt=this.expandCoverage(_t.coverage),Xt=_t.ligatureSets,ve=0;ve<gt.length;ve++)for(var ie=gt[ve],be=Xt[ve],ge=0;ge<be.length;ge++){var Be=be[ge];ee.push({sub:[ie].concat(Be.components),by:Be.ligGlyph})}return ee},oo.prototype.addSingle=function(E,N,K,ee){K=cs(this.getLookupTables(K,ee,E,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(1===K.coverage.format,"Ligature: unable to modify coverage table format "+K.coverage.format),(E=this.binSearch(K.coverage.glyphs,ee=N.sub))<0&&(K.coverage.glyphs.splice(E=-1-E,0,ee),K.substitute.splice(E,0,0)),K.substitute[E]=N.by},oo.prototype.addAlternate=function(E,N,K,ee){K=cs(this.getLookupTables(K,ee,E,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(1===K.coverage.format,"Ligature: unable to modify coverage table format "+K.coverage.format),(E=this.binSearch(K.coverage.glyphs,ee=N.sub))<0&&(K.coverage.glyphs.splice(E=-1-E,0,ee),K.alternateSets.splice(E,0,0)),K.alternateSets[E]=N.by},oo.prototype.addLigature=function(Ae,_t,Qe,pe){(pe=(Qe=this.getLookupTables(Qe,pe,Ae,4,!0)[0]).subtables[0])||(Qe.subtables[0]=pe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(1===pe.coverage.format,"Ligature: unable to modify coverage table format "+pe.coverage.format),Ae=_t.sub[0];var Pe=_t.sub.slice(1);if(Qe={ligGlyph:_t.by,components:Pe},0<=(_t=this.binSearch(pe.coverage.glyphs,Ae))){for(var gt=pe.ligatureSets[_t],Xt=0;Xt<gt.length;Xt++)if(function(ve,ie){var be=ve.length;if(be===ie.length){for(var ge=0;ge<be;ge++)if(ve[ge]!==ie[ge])return;return 1}}(gt[Xt].components,Pe))return;gt.push(Qe)}else pe.coverage.glyphs.splice(_t=-1-_t,0,Ae),pe.ligatureSets.splice(_t,0,[Qe])},oo.prototype.getFeature=function(E,N,K){if(/ss\d\d/.test(E))return this.getSingle(E,N,K);switch(E){case"aalt":case"salt":return this.getSingle(E,N,K).concat(this.getAlternates(E,N,K));case"dlig":case"liga":case"rlig":return this.getLigatures(E,N,K)}},oo.prototype.add=function(E,N,K,ee){if(/ss\d\d/.test(E))return this.addSingle(E,N,K,ee);switch(E){case"aalt":case"salt":return"number"==typeof N.by?this.addSingle(E,N,K,ee):this.addAlternate(E,N,K,ee);case"dlig":case"liga":case"rlig":return this.addLigature(E,N,K,ee)}};var hn={getPath:pt,parse:function(E,N,K,ee){for(var pe=new Lt.GlyphSet(ee),Ae=0;Ae<K.length-1;Ae+=1){var Pe=K[Ae];pe.push(Ae,Pe!==K[Ae+1]?Lt.ttfGlyphLoader(ee,Ae,ct,E,N+Pe,Qt):Lt.glyphLoader(ee,Ae))}return pe}};function Fn(E){this.font=E,this.getCommands=function(N){return hn.getPath(N).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(E){return E}function ts(E){return Math.sign(E)*Math.round(Math.abs(E))}function Yo(E){return Math.sign(E)*Math.round(Math.abs(2*E))/2}function As(E){return Math.sign(E)*(Math.round(Math.abs(E)+.5)-.5)}function Ms(E){return Math.sign(E)*Math.ceil(Math.abs(E))}function Vs(E){return Math.sign(E)*Math.floor(Math.abs(E))}function Is(E){var N=this.srPeriod,K=this.srPhase,ee=1;return E<0&&(E=-E,ee=-1),E+=this.srThreshold-K,E=Math.trunc(E/N)*N,(E+=K)<0?K*ee:E*ee}var Eo={x:1,y:0,axis:"x",distance:function(E,N,K,ee){return(K?E.xo:E.x)-(ee?N.xo:N.x)},interpolate:function(E,N,K,ee){var pe,Ae,Pe,Qe,_t,gt,Xt;if(!ee||ee===this)return pe=E.xo-N.xo,Ae=E.xo-K.xo,_t=N.x-N.xo,gt=K.x-K.xo,0===(Xt=(Pe=Math.abs(pe))+(Qe=Math.abs(Ae)))?void(E.x=E.xo+(_t+gt)/2):void(E.x=E.xo+(_t*Qe+gt*Pe)/Xt);pe=ee.distance(E,N,!0,!0),Ae=ee.distance(E,K,!0,!0),_t=ee.distance(N,N,!1,!0),gt=ee.distance(K,K,!1,!0),0===(Xt=(Pe=Math.abs(pe))+(Qe=Math.abs(Ae)))?Eo.setRelative(E,E,(_t+gt)/2,ee,!0):Eo.setRelative(E,E,(_t*Qe+gt*Pe)/Xt,ee,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(E,N,K,ee,pe){var Ae,Pe;ee&&ee!==this?(Ae=pe?N.xo:N.x,Pe=pe?N.yo:N.y,E.x=(Ae+=K*ee.x)+(E.y-(Pe+=K*ee.y))/ee.normalSlope):E.x=(pe?N.xo:N.x)+K},slope:0,touch:function(E){E.xTouched=!0},touched:function(E){return E.xTouched},untouch:function(E){E.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(E,N,K,ee){return(K?E.yo:E.y)-(ee?N.yo:N.y)},interpolate:function(E,N,K,ee){var pe,Ae,Pe,Qe,_t,gt,Xt;if(!ee||ee===this)return pe=E.yo-N.yo,Ae=E.yo-K.yo,_t=N.y-N.yo,gt=K.y-K.yo,0===(Xt=(Pe=Math.abs(pe))+(Qe=Math.abs(Ae)))?void(E.y=E.yo+(_t+gt)/2):void(E.y=E.yo+(_t*Qe+gt*Pe)/Xt);pe=ee.distance(E,N,!0,!0),Ae=ee.distance(E,K,!0,!0),_t=ee.distance(N,N,!1,!0),gt=ee.distance(K,K,!1,!0),0===(Xt=(Pe=Math.abs(pe))+(Qe=Math.abs(Ae)))?Ao.setRelative(E,E,(_t+gt)/2,ee,!0):Ao.setRelative(E,E,(_t*Qe+gt*Pe)/Xt,ee,!0)},normalSlope:0,setRelative:function(E,N,K,ee,pe){var Ae,Pe;ee&&ee!==this?(Ae=pe?N.xo:N.x,Pe=pe?N.yo:N.y,E.y=(Pe+=K*ee.y)+ee.normalSlope*(E.x-(Ae+=K*ee.x))):E.y=(pe?N.yo:N.y)+K},slope:Number.POSITIVE_INFINITY,touch:function(E){E.yTouched=!0},touched:function(E){return E.yTouched},untouch:function(E){E.yTouched=!1}};function Yn(E,N){this.x=E,this.y=N,this.axis=void 0,this.slope=N/E,this.normalSlope=-E/N,Object.freeze(this)}function So(E,N){var K=Math.sqrt(E*E+N*N);return N/=K,1==(E/=K)&&0===N?Eo:0===E&&1===N?Ao:new Yn(E,N)}function Le(E,N,K,ee){this.x=this.xo=Math.round(64*E)/64,this.y=this.yo=Math.round(64*N)/64,this.lastPointOfContour=K,this.onCurve=ee,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Eo),Object.freeze(Ao),Yn.prototype.distance=function(E,N,K,ee){return this.x*Eo.distance(E,N,K,ee)+this.y*Ao.distance(E,N,K,ee)},Yn.prototype.interpolate=function(E,pe,Ae,ee){var Pe=ee.distance(E,pe,!0,!0),Qe=ee.distance(E,Ae,!0,!0),_t=(pe=ee.distance(pe,pe,!1,!0),Ae=ee.distance(Ae,Ae,!1,!0),(Pe=Math.abs(Pe))+(Qe=Math.abs(Qe)));this.setRelative(E,E,0===_t?(pe+Ae)/2:(pe*Qe+Ae*Pe)/_t,ee,!0)},Yn.prototype.setRelative=function(E,Ae,_t,gt,Qe){var Pe=Qe?Ae.xo:Ae.x,Xt=(Qe=Qe?Ae.yo:Ae.y,Ae=Pe+_t*(gt=gt||this).x,Pe=Qe+_t*gt.y,Qe=gt.normalSlope,E.y);E.x=((_t=this.slope)*(gt=E.x)-Qe*Ae+Pe-Xt)/(_t-Qe),E.y=_t*(E.x-gt)+Xt},Yn.prototype.touch=function(E){E.xTouched=!0,E.yTouched=!0},Le.prototype.nextTouched=function(E){for(var N=this.nextPointOnContour;!E.touched(N)&&N!==this;)N=N.nextPointOnContour;return N},Le.prototype.prevTouched=function(E){for(var N=this.prevPointOnContour;!E.touched(N)&&N!==this;)N=N.prevPointOnContour;return N};var rt=Object.freeze(new Le(0,0)),Dt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function kt(E,N){switch(this.env=E,this.stack=[],this.prog=N,E){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Eo,this.round=ts}}function er(E){for(var N=E.tZone=new Array(E.gZone.length),K=0;K<N.length;K++)N[K]=new Le(0,0)}function Yt(E,N){var K,ee=E.prog,pe=E.ip,Ae=1;do{if(88===(K=ee[++pe]))Ae++;else if(89===K)Ae--;else if(64===K)pe+=ee[pe+1]+1;else if(65===K)pe+=2*ee[pe+1]+1;else if(176<=K&&K<=183)pe+=K-176+1;else if(184<=K&&K<=191)pe+=2*(K-184+1);else if(N&&1===Ae&&27===K)break}while(0<Ae);E.ip=pe}function gr(E,N){g.DEBUG&&console.log(N.step,"SVTCA["+E.axis+"]"),N.fv=N.pv=N.dpv=E}function Er(E,N){g.DEBUG&&console.log(N.step,"SPVTCA["+E.axis+"]"),N.pv=N.dpv=E}function Cr(E,N){g.DEBUG&&console.log(N.step,"SFVTCA["+E.axis+"]"),N.fv=E}function Tr(E,N){var K,ee=(pe=N.stack).pop(),pe=pe.pop(),Ae=N.z2[ee],Pe=N.z1[pe];g.DEBUG&&console.log("SPVTL["+E+"]",ee,pe),ee=E?(K=Ae.y-Pe.y,Pe.x-Ae.x):(K=Pe.x-Ae.x,Pe.y-Ae.y),N.pv=N.dpv=So(K,ee)}function Ur(E,N){var K,ee=(pe=N.stack).pop(),pe=pe.pop(),Ae=N.z2[ee],Pe=N.z1[pe];g.DEBUG&&console.log("SFVTL["+E+"]",ee,pe),ee=E?(K=Ae.y-Pe.y,Pe.x-Ae.x):(K=Pe.x-Ae.x,Pe.y-Ae.y),N.fv=So(K,ee)}function Fr(E){g.DEBUG&&console.log(E.step,"POP[]"),E.stack.pop()}function Gr(E,N){var K=N.stack.pop(),ee=N.z0[K],pe=N.fv,Ae=N.pv,Pe=(g.DEBUG&&console.log(N.step,"MDAP["+E+"]",K),Ae.distance(ee,rt));E&&(Pe=N.round(Pe)),pe.setRelative(ee,rt,Pe,Ae),pe.touch(ee),N.rp0=N.rp1=K}function qr(E,N){var K,ee,pe,Ae=N.z2,Pe=Ae.length-2;g.DEBUG&&console.log(N.step,"IUP["+E.axis+"]");for(var Qe=0;Qe<Pe;Qe++)E.touched(K=Ae[Qe])||(ee=K.prevTouched(E))!==K&&(ee===(pe=K.nextTouched(E))&&E.setRelative(K,K,E.distance(ee,ee,!1,!0),E,!0),E.interpolate(K,ee,pe,E))}function pn(E,N){for(var K=N.stack,pe=(E?N.z0:N.z1)[E?N.rp1:N.rp2],Ae=N.fv,Pe=N.pv,Qe=N.loop,_t=N.z2;Qe--;){var gt=K.pop(),Xt=_t[gt],ve=Pe.distance(pe,pe,!1,!0);Ae.setRelative(Xt,Xt,ve,Pe),Ae.touch(Xt),g.DEBUG&&console.log(N.step,(1<N.loop?"loop "+(N.loop-Qe)+": ":"")+"SHP["+(E?"rp1":"rp2")+"]",gt)}N.loop=1}function _n(E,N){for(var ee=(E?N.z0:N.z1)[E?N.rp1:N.rp2],pe=N.fv,Ae=N.pv,Pe=N.stack.pop(),Qe=N.z2[N.contours[Pe]],_t=Qe,gt=(g.DEBUG&&console.log(N.step,"SHC["+E+"]",Pe),Ae.distance(ee,ee,!1,!0));_t!==ee&&pe.setRelative(_t,_t,gt,Ae),(_t=_t.nextPointOnContour)!==Qe;);}function wn(E,N){var K,ee,pe=(E?N.z0:N.z1)[pe=E?N.rp1:N.rp2],Ae=N.fv,Pe=N.pv,Qe=(Qe=N.stack).pop();switch(g.DEBUG&&console.log(N.step,"SHZ["+E+"]",Qe),Qe){case 0:K=N.tZone;break;case 1:K=N.gZone;break;default:throw new Error("Invalid zone")}for(var _t=Pe.distance(pe,pe,!1,!0),gt=K.length-2,Xt=0;Xt<gt;Xt++)Ae.setRelative(ee=K[Xt],ee,_t,Pe)}function Un(E,N){var K=(ee=N.stack).pop()/64,ee=ee.pop(),pe=N.z1[ee],Pe=N.fv;Pe.setRelative(pe,N.z0[N.rp0],K,N.pv),Pe.touch(pe),g.DEBUG&&console.log(N.step,"MSIRP["+E+"]",K,ee),N.rp1=N.rp0,N.rp2=ee,E&&(N.rp0=ee)}function kn(E,N){var Qe=(K=N.stack).pop(),K=K.pop(),ee=N.z0[K],pe=N.fv,Ae=N.pv,Pe=N.cvt[Qe];g.DEBUG&&console.log(N.step,"MIAP["+E+"]",Qe,"(",Pe,")",K),Qe=Ae.distance(ee,rt),E&&(Math.abs(Qe-Pe)<N.cvCutIn&&(Qe=Pe),Qe=N.round(Qe)),pe.setRelative(ee,rt,Qe,Ae),0===N.zp0&&(ee.xo=ee.x,ee.yo=ee.y),pe.touch(ee),N.rp0=N.rp1=K}function Rr(E,N){var K=N.stack,ee=K.pop(),pe=N.z2[ee];g.DEBUG&&console.log(N.step,"GC["+E+"]",ee),K.push(64*N.dpv.distance(pe,rt,E,!1))}function go(E,N){var K=(ee=N.stack).pop(),ee=ee.pop(),Ae=N.dpv.distance(Ae=N.z0[ee],N.z1[K],E,E);g.DEBUG&&console.log(N.step,"MD["+E+"]",K,ee,"->",Ae),N.stack.push(Math.round(64*Ae))}function Lo(E,N){var K=N.stack,ee=K.pop(),pe=N.fv,Ae=N.pv,Pe=N.ppem,Qe=N.deltaBase+16*(E-1),_t=N.deltaShift,gt=N.z0;g.DEBUG&&console.log(N.step,"DELTAP["+E+"]",ee,K);for(var Xt=0;Xt<ee;Xt++){var ve=K.pop(),ie=K.pop();Qe+((240&ie)>>4)===Pe&&(0<=(ie=(15&ie)-8)&&ie++,g.DEBUG&&console.log(N.step,"DELTAPFIX",ve,"by",ie*_t),pe.setRelative(ve=gt[ve],ve,ie*_t,Ae))}}function Pn(E,N){var K=N.stack,ee=K.pop();g.DEBUG&&console.log(N.step,"ROUND[]"),K.push(64*N.round(ee/64))}function js(E,N){var K=N.stack,ee=K.pop(),pe=N.ppem,Ae=N.deltaBase+16*(E-1),Pe=N.deltaShift;g.DEBUG&&console.log(N.step,"DELTAC["+E+"]",ee,K);for(var Qe=0;Qe<ee;Qe++){var _t=K.pop(),gt=K.pop();Ae+((240&gt)>>4)===pe&&(0<=(gt=(15&gt)-8)&&gt++,gt*=Pe,g.DEBUG&&console.log(N.step,"DELTACFIX",_t,"by",gt),N.cvt[_t]+=gt)}}function yi(E,N){var K,ee=(pe=N.stack).pop(),pe=pe.pop(),Ae=N.z2[ee],Pe=N.z1[pe];g.DEBUG&&console.log(N.step,"SDPVTL["+E+"]",ee,pe),ee=E?(K=Ae.y-Pe.y,Pe.x-Ae.x):(K=Pe.x-Ae.x,Pe.y-Ae.y),N.dpv=So(K,ee)}function ho(E,N){var K=N.stack,ee=N.prog,pe=N.ip;g.DEBUG&&console.log(N.step,"PUSHB["+E+"]");for(var Ae=0;Ae<E;Ae++)K.push(ee[++pe]);N.ip=pe}function Bn(E,N){var K=N.ip,ee=N.prog,pe=N.stack;g.DEBUG&&console.log(N.ip,"PUSHW["+E+"]");for(var Ae=0;Ae<E;Ae++){var Pe=ee[++K]<<8|ee[++K];32768&Pe&&(Pe=-(1+(65535^Pe))),pe.push(Pe)}N.ip=K}function Vr(E,N,K,ee,pe,Ae){var Pe,Qe,Xt,gt=Ae.stack,_t=E&&gt.pop(),ve=(gt=gt.pop(),Ae.z1[gt]),ie=Ae.minDis,be=Ae.fv,ge=Ae.dpv,Be=Pe=ge.distance(ve,Xt=Ae.z0[Xt=Ae.rp0],!0,!0),Nt=0<=Be?1:-1;Be=Math.abs(Be),E&&(Qe=Ae.cvt[_t],ee&&Math.abs(Be-Qe)<Ae.cvCutIn&&(Be=Qe)),K&&Be<ie&&(Be=ie),ee&&(Be=Ae.round(Be)),be.setRelative(ve,Xt,Nt*Be,ge),be.touch(ve),g.DEBUG&&console.log(Ae.step,(E?"MIRP[":"MDRP[")+(N?"M":"m")+(K?">":"_")+(ee?"R":"_")+(0===pe?"Gr":1===pe?"Bl":2===pe?"Wh":"")+"]",E?_t+"("+Ae.cvt[_t]+","+Qe+")":"",gt,"(d =",Pe,"->",Nt*Be,")"),Ae.rp1=Ae.rp0,Ae.rp2=gt,N&&(Ae.rp0=gt)}Fn.prototype.exec=function(E,N){if("number"!=typeof N)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var K=this.font,ee=this._prepState;if(!ee||ee.ppem!==N){var pe=this._fpgmState;if(!pe){kt.prototype=Dt,(pe=this._fpgmState=new kt("fpgm",K.tables.fpgm)).funcs=[],pe.font=K,g.DEBUG&&(console.log("---EXEC FPGM---"),pe.step=-1);try{Co(pe)}catch(gt){return console.log("Hinting error in FPGM:"+gt),void(this._errorState=3)}}kt.prototype=pe,(ee=this._prepState=new kt("prep",K.tables.prep)).ppem=N;var Ae=K.tables.cvt;if(Ae)for(var Pe=ee.cvt=new Array(Ae.length),Qe=N/K.unitsPerEm,_t=0;_t<Ae.length;_t++)Pe[_t]=Ae[_t]*Qe;else ee.cvt=[];g.DEBUG&&(console.log("---EXEC PREP---"),ee.step=-1);try{Co(ee)}catch(gt){this._errorState<2&&console.log("Hinting error in PREP:"+gt),this._errorState=2}}if(!(1<this._errorState))try{return Go(E,ee)}catch(gt){this._errorState<1&&(console.log("Hinting error:"+gt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(E,N){var K=N.ppem/N.font.unitsPerEm,ee=K,pe=E.components;if(kt.prototype=N,pe){for(var Ae=N.font,Pe=[],Qe=[],_t=0;_t<pe.length;_t++){var gt=pe[_t],Xt=Ae.glyphs.get(gt.glyphIndex),ve=new kt("glyf",Xt.instructions);g.DEBUG&&(console.log("---EXEC COMP "+_t+"---"),ve.step=-1),Jo(Xt,ve,K,ee);for(var ie=Math.round(gt.dx*K),be=Math.round(gt.dy*ee),ge=ve.gZone,Be=ve.contours,Nt=0;Nt<ge.length;Nt++){var Wt=ge[Nt];Wt.xTouched=Wt.yTouched=!1,Wt.xo=Wt.x=Wt.x+ie,Wt.yo=Wt.y=Wt.y+be}var sr=Pe.length;Pe.push.apply(Pe,ge);for(var Br=0;Br<Be.length;Br++)Qe.push(Be[Br]+sr)}E.instructions&&!ve.inhibitGridFit&&((ve=new kt("glyf",E.instructions)).gZone=ve.z0=ve.z1=ve.z2=Pe,ve.contours=Qe,Pe.push(new Le(0,0),new Le(Math.round(E.advanceWidth*K),0)),g.DEBUG&&(console.log("---EXEC COMPOSITE---"),ve.step=-1),Co(ve),Pe.length-=2)}else ve=new kt("glyf",E.instructions),g.DEBUG&&(console.log("---EXEC GLYPH---"),ve.step=-1),Jo(E,ve,K,ee),Pe=ve.gZone;return Pe},Jo=function(E,N,K,ee){for(var pe,Ae,Qe=E.points||[],_t=Qe.length,gt=N.gZone=N.z0=N.z1=N.z2=[],Xt=N.contours=[],ve=0;ve<_t;ve++)gt[ve]=new Le((pe=Qe[ve]).x*K,pe.y*ee,pe.lastPointOfContour,pe.onCurve);for(var ie=0;ie<_t;ie++)pe=gt[ie],Ae||(Ae=pe,Xt.push(ie)),pe.lastPointOfContour?((pe.nextPointOnContour=Ae).prevPointOnContour=pe,Ae=void 0):(pe.nextPointOnContour=gt[ie+1]).prevPointOnContour=pe;if(!N.inhibitGridFit){if(g.DEBUG){console.log("PROCESSING GLYPH",N.stack);for(var be=0;be<_t;be++)console.log(be,gt[be].x,gt[be].y)}if(gt.push(new Le(0,0),new Le(Math.round(E.advanceWidth*K),0)),Co(N),gt.length-=2,g.DEBUG){console.log("FINISHED GLYPH",N.stack);for(var ge=0;ge<_t;ge++)console.log(ge,gt[ge].x,gt[ge].y)}}},Co=function(E){var N=E.prog;if(N){var K,ee=N.length;for(E.ip=0;E.ip<ee;E.ip++){if(g.DEBUG&&E.step++,!(K=Os[N[E.ip]]))throw new Error("unknown instruction: 0x"+Number(N[E.ip]).toString(16));K(E)}}},Os=[gr.bind(void 0,Ao),gr.bind(void 0,Eo),Er.bind(void 0,Ao),Er.bind(void 0,Eo),Cr.bind(void 0,Ao),Cr.bind(void 0,Eo),Tr.bind(void 0,0),Tr.bind(void 0,1),Ur.bind(void 0,0),Ur.bind(void 0,1),function(E){var N=(K=E.stack).pop(),K=K.pop();g.DEBUG&&console.log(E.step,"SPVFS[]",N,K),E.pv=E.dpv=So(K,N)},function(E){var N=(K=E.stack).pop(),K=K.pop();g.DEBUG&&console.log(E.step,"SPVFS[]",N,K),E.fv=So(K,N)},function(E){var N=E.stack,K=E.pv;g.DEBUG&&console.log(E.step,"GPV[]"),N.push(16384*K.x),N.push(16384*K.y)},function(E){var N=E.stack,K=E.fv;g.DEBUG&&console.log(E.step,"GFV[]"),N.push(16384*K.x),N.push(16384*K.y)},function(E){E.fv=E.pv,g.DEBUG&&console.log(E.step,"SFVTPV[]")},function(N){var K=(Pe=N.stack).pop(),ee=Pe.pop(),pe=Pe.pop(),Ae=Pe.pop(),Pe=Pe.pop(),Qe=(_t=N.z0)[K],_t=_t[ee],gt=(Xt=N.z1)[pe],Xt=Xt[Ae],ve=(N=N.z2[Pe],g.DEBUG&&console.log("ISECT[], ",K,ee,pe,Ae,Pe),K=Qe.x,ee=Qe.y,Qe=gt.y,K*(Ae=_t.y)-ee*(pe=_t.x)),ie=(Pe=gt.x)*(gt=Xt.y)-Qe*(_t=Xt.x);N.x=(ve*(Pe-_t)-ie*(K-pe))/(Xt=(K-pe)*(Qe-gt)-(ee-Ae)*(Pe-_t)),N.y=(ve*(Qe-gt)-ie*(ee-Ae))/Xt},function(E){E.rp0=E.stack.pop(),g.DEBUG&&console.log(E.step,"SRP0[]",E.rp0)},function(E){E.rp1=E.stack.pop(),g.DEBUG&&console.log(E.step,"SRP1[]",E.rp1)},function(E){E.rp2=E.stack.pop(),g.DEBUG&&console.log(E.step,"SRP2[]",E.rp2)},function(E){var N=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"SZP0[]",N),E.zp0=N){case 0:E.tZone||er(E),E.z0=E.tZone;break;case 1:E.z0=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var N=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"SZP1[]",N),E.zp1=N){case 0:E.tZone||er(E),E.z1=E.tZone;break;case 1:E.z1=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var N=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"SZP2[]",N),E.zp2=N){case 0:E.tZone||er(E),E.z2=E.tZone;break;case 1:E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var N=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"SZPS[]",N),E.zp0=E.zp1=E.zp2=N){case 0:E.tZone||er(E),E.z0=E.z1=E.z2=E.tZone;break;case 1:E.z0=E.z1=E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){E.loop=E.stack.pop(),g.DEBUG&&console.log(E.step,"SLOOP[]",E.loop)},function(E){g.DEBUG&&console.log(E.step,"RTG[]"),E.round=ts},function(E){g.DEBUG&&console.log(E.step,"RTHG[]"),E.round=As},function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"SMD[]",N),E.minDis=N/64},function(E){g.DEBUG&&console.log(E.step,"ELSE[]"),Yt(E,!1)},function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"JMPR[]",N),E.ip+=N-1},function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"SCVTCI[]",N),E.cvCutIn=N/64},void 0,void 0,function(E){var N=E.stack;g.DEBUG&&console.log(E.step,"DUP[]"),N.push(N[N.length-1])},Fr,function(E){g.DEBUG&&console.log(E.step,"CLEAR[]"),E.stack.length=0},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"SWAP[]"),N.push(K),N.push(ee)},function(E){var N=E.stack;g.DEBUG&&console.log(E.step,"DEPTH[]"),N.push(N.length)},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"CINDEX[]",K),N.push(N[N.length-K])},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"MINDEX[]",K),N.push(N.splice(N.length-K,1)[0])},void 0,void 0,void 0,function(E){var N=(ee=E.stack).pop(),K=ee.pop(),ee=(g.DEBUG&&console.log(E.step,"LOOPCALL[]",N,K),E.ip),pe=E.prog;E.prog=E.funcs[N];for(var Ae=0;Ae<K;Ae++)Co(E),g.DEBUG&&console.log(++E.step,Ae+1<K?"next loopcall":"done loopcall",Ae);E.ip=ee,E.prog=pe},function(E){var N=E.stack.pop(),K=(g.DEBUG&&console.log(E.step,"CALL[]",N),E.ip),ee=E.prog;E.prog=E.funcs[N],Co(E),E.ip=K,E.prog=ee,g.DEBUG&&console.log(++E.step,"returning from",N)},function(E){if("fpgm"!==E.env)throw new Error("FDEF not allowed here");var N=E.prog,K=E.ip,ee=(ee=E.stack).pop(),pe=K;for(g.DEBUG&&console.log(E.step,"FDEF[]",ee);45!==N[++K];);E.ip=K,E.funcs[ee]=N.slice(pe+1,K)},void 0,Gr.bind(void 0,0),Gr.bind(void 0,1),qr.bind(void 0,Ao),qr.bind(void 0,Eo),pn.bind(void 0,0),pn.bind(void 0,1),_n.bind(void 0,0),_n.bind(void 0,1),wn.bind(void 0,0),wn.bind(void 0,1),function(E){for(var N=E.stack,K=E.loop,ee=E.fv,pe=N.pop()/64,Ae=E.z2;K--;){var Pe=N.pop(),Qe=Ae[Pe];g.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-K)+": ":"")+"SHPIX[]",Pe,pe),ee.setRelative(Qe,Qe,pe),ee.touch(Qe)}E.loop=1},function(E){for(var N=E.stack,K=E.rp1,ee=E.rp2,pe=E.loop,Ae=E.z0[K],Pe=E.z1[ee],Qe=E.fv,_t=E.dpv,gt=E.z2;pe--;){var Xt=N.pop(),ve=gt[Xt];g.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-pe)+": ":"")+"IP[]",Xt,K,"<->",ee),Qe.interpolate(ve,Ae,Pe,_t),Qe.touch(ve)}E.loop=1},Un.bind(void 0,0),Un.bind(void 0,1),function(E){for(var N=E.stack,ee=E.z0[E.rp0],pe=E.loop,Ae=E.fv,Pe=E.pv,Qe=E.z1;pe--;){var _t=N.pop(),gt=Qe[_t];g.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-pe)+": ":"")+"ALIGNRP[]",_t),Ae.setRelative(gt,ee,0,Pe),Ae.touch(gt)}E.loop=1},function(E){g.DEBUG&&console.log(E.step,"RTDG[]"),E.round=Yo},kn.bind(void 0,0),kn.bind(void 0,1),function(E){var N=E.prog,K=E.ip,ee=E.stack,pe=N[++K];g.DEBUG&&console.log(E.step,"NPUSHB[]",pe);for(var Ae=0;Ae<pe;Ae++)ee.push(N[++K]);E.ip=K},function(E){var N=E.ip,K=E.prog,ee=E.stack,pe=K[++N];g.DEBUG&&console.log(E.step,"NPUSHW[]",pe);for(var Ae=0;Ae<pe;Ae++){var Pe=K[++N]<<8|K[++N];32768&Pe&&(Pe=-(1+(65535^Pe))),ee.push(Pe)}E.ip=N},function(E){var ee=E.stack,N=(N=E.store)||(E.store=[]),K=ee.pop();ee=ee.pop(),g.DEBUG&&console.log(E.step,"WS",K,ee),N[ee]=K},function(pe){var N=pe.stack,K=pe.store,ee=N.pop();g.DEBUG&&console.log(pe.step,"RS",ee),N.push(pe=K&&K[ee]||0)},function(E){var N=(K=E.stack).pop(),K=K.pop();g.DEBUG&&console.log(E.step,"WCVTP",N,K),E.cvt[K]=N/64},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"RCVT",K),N.push(64*E.cvt[K])},Rr.bind(void 0,0),Rr.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(E){g.DEBUG&&console.log(E.step,"MPPEM[]"),E.stack.push(E.ppem)},void 0,function(E){g.DEBUG&&console.log(E.step,"FLIPON[]"),E.autoFlip=!0},void 0,void 0,function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"LT[]",K,ee),N.push(ee<K?1:0)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"LTEQ[]",K,ee),N.push(ee<=K?1:0)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"GT[]",K,ee),N.push(K<ee?1:0)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"GTEQ[]",K,ee),N.push(K<=ee?1:0)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"EQ[]",K,ee),N.push(K===ee?1:0)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"NEQ[]",K,ee),N.push(K!==ee?1:0)},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"ODD[]",K),N.push(Math.trunc(K)%2?1:0)},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"EVEN[]",K),N.push(Math.trunc(K)%2?0:1)},function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"IF[]",N),N||(Yt(E,!0),g.DEBUG&&console.log(E.step,"EIF[]"))},function(E){g.DEBUG&&console.log(E.step,"EIF[]")},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"AND[]",K,ee),N.push(K&&ee?1:0)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"OR[]",K,ee),N.push(K||ee?1:0)},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"NOT[]",K),N.push(K?0:1)},Lo.bind(void 0,1),function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"SDB[]",N),E.deltaBase=N},function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"SDS[]",N),E.deltaShift=Math.pow(.5,N)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"ADD[]",K,ee),N.push(ee+K)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"SUB[]",K,ee),N.push(ee-K)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"DIV[]",K,ee),N.push(64*ee/K)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"MUL[]",K,ee),N.push(ee*K/64)},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"ABS[]",K),N.push(Math.abs(K))},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"NEG[]",K),N.push(-K)},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"FLOOR[]",K),N.push(64*Math.floor(K/64))},function(E){var N=E.stack,K=N.pop();g.DEBUG&&console.log(E.step,"CEILING[]",K),N.push(64*Math.ceil(K/64))},Pn.bind(void 0,0),Pn.bind(void 0,1),Pn.bind(void 0,2),Pn.bind(void 0,3),void 0,void 0,void 0,void 0,function(E){var N=(K=E.stack).pop(),K=K.pop();g.DEBUG&&console.log(E.step,"WCVTF[]",N,K),E.cvt[K]=N*E.ppem/E.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),js.bind(void 0,1),js.bind(void 0,2),js.bind(void 0,3),function(E){var N,K=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"SROUND[]",K),E.round=Is,192&K){case 0:N=.5;break;case 64:N=1;break;case 128:N=2;break;default:throw new Error("invalid SROUND value")}switch(E.srPeriod=N,48&K){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*N;break;case 32:E.srPhase=.5*N;break;case 48:E.srPhase=.75*N;break;default:throw new Error("invalid SROUND value")}E.srThreshold=0==(K&=15)?0:(K/8-.5)*N},function(E){var N,K=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"S45ROUND[]",K),E.round=Is,192&K){case 0:N=Math.sqrt(2)/2;break;case 64:N=Math.sqrt(2);break;case 128:N=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(E.srPeriod=N,48&K){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*N;break;case 32:E.srPhase=.5*N;break;case 48:E.srPhase=.75*N;break;default:throw new Error("invalid S45ROUND value")}E.srThreshold=0==(K&=15)?0:(K/8-.5)*N},void 0,void 0,function(E){g.DEBUG&&console.log(E.step,"ROFF[]"),E.round=mo},void 0,function(E){g.DEBUG&&console.log(E.step,"RUTG[]"),E.round=Ms},function(E){g.DEBUG&&console.log(E.step,"RDTG[]"),E.round=Vs},Fr,Fr,void 0,void 0,void 0,void 0,void 0,function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"SCANCTRL[]",N)},yi.bind(void 0,0),yi.bind(void 0,1),function(E){var N=E.stack,K=N.pop(),ee=0;g.DEBUG&&console.log(E.step,"GETINFO[]",K),1&K&&(ee=35),32&K&&(ee|=4096),N.push(ee)},void 0,function(E){var N=E.stack,K=N.pop(),ee=N.pop(),pe=N.pop();g.DEBUG&&console.log(E.step,"ROLL[]"),N.push(ee),N.push(K),N.push(pe)},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"MAX[]",K,ee),N.push(Math.max(ee,K))},function(E){var N=E.stack,K=N.pop(),ee=N.pop();g.DEBUG&&console.log(E.step,"MIN[]",K,ee),N.push(Math.min(ee,K))},function(E){var N=E.stack.pop();g.DEBUG&&console.log(E.step,"SCANTYPE[]",N)},function(E){var N=E.stack.pop(),K=E.stack.pop();switch(g.DEBUG&&console.log(E.step,"INSTCTRL[]",N,K),N){case 1:return void(E.inhibitGridFit=!!K);case 2:return void(E.ignoreCvt=!!K);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Bn.bind(void 0,1),Bn.bind(void 0,2),Bn.bind(void 0,3),Bn.bind(void 0,4),Bn.bind(void 0,5),Bn.bind(void 0,6),Bn.bind(void 0,7),Bn.bind(void 0,8),Vr.bind(void 0,0,0,0,0,0),Vr.bind(void 0,0,0,0,0,1),Vr.bind(void 0,0,0,0,0,2),Vr.bind(void 0,0,0,0,0,3),Vr.bind(void 0,0,0,0,1,0),Vr.bind(void 0,0,0,0,1,1),Vr.bind(void 0,0,0,0,1,2),Vr.bind(void 0,0,0,0,1,3),Vr.bind(void 0,0,0,1,0,0),Vr.bind(void 0,0,0,1,0,1),Vr.bind(void 0,0,0,1,0,2),Vr.bind(void 0,0,0,1,0,3),Vr.bind(void 0,0,0,1,1,0),Vr.bind(void 0,0,0,1,1,1),Vr.bind(void 0,0,0,1,1,2),Vr.bind(void 0,0,0,1,1,3),Vr.bind(void 0,0,1,0,0,0),Vr.bind(void 0,0,1,0,0,1),Vr.bind(void 0,0,1,0,0,2),Vr.bind(void 0,0,1,0,0,3),Vr.bind(void 0,0,1,0,1,0),Vr.bind(void 0,0,1,0,1,1),Vr.bind(void 0,0,1,0,1,2),Vr.bind(void 0,0,1,0,1,3),Vr.bind(void 0,0,1,1,0,0),Vr.bind(void 0,0,1,1,0,1),Vr.bind(void 0,0,1,1,0,2),Vr.bind(void 0,0,1,1,0,3),Vr.bind(void 0,0,1,1,1,0),Vr.bind(void 0,0,1,1,1,1),Vr.bind(void 0,0,1,1,1,2),Vr.bind(void 0,0,1,1,1,3),Vr.bind(void 0,1,0,0,0,0),Vr.bind(void 0,1,0,0,0,1),Vr.bind(void 0,1,0,0,0,2),Vr.bind(void 0,1,0,0,0,3),Vr.bind(void 0,1,0,0,1,0),Vr.bind(void 0,1,0,0,1,1),Vr.bind(void 0,1,0,0,1,2),Vr.bind(void 0,1,0,0,1,3),Vr.bind(void 0,1,0,1,0,0),Vr.bind(void 0,1,0,1,0,1),Vr.bind(void 0,1,0,1,0,2),Vr.bind(void 0,1,0,1,0,3),Vr.bind(void 0,1,0,1,1,0),Vr.bind(void 0,1,0,1,1,1),Vr.bind(void 0,1,0,1,1,2),Vr.bind(void 0,1,0,1,1,3),Vr.bind(void 0,1,1,0,0,0),Vr.bind(void 0,1,1,0,0,1),Vr.bind(void 0,1,1,0,0,2),Vr.bind(void 0,1,1,0,0,3),Vr.bind(void 0,1,1,0,1,0),Vr.bind(void 0,1,1,0,1,1),Vr.bind(void 0,1,1,0,1,2),Vr.bind(void 0,1,1,0,1,3),Vr.bind(void 0,1,1,1,0,0),Vr.bind(void 0,1,1,1,0,1),Vr.bind(void 0,1,1,1,0,2),Vr.bind(void 0,1,1,1,0,3),Vr.bind(void 0,1,1,1,1,0),Vr.bind(void 0,1,1,1,1,1),Vr.bind(void 0,1,1,1,1,2),Vr.bind(void 0,1,1,1,1,3)],bs=Array.from||function(E){return E.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Cn(E){(E=E||{}).empty||(ye(E.familyName,"When creating a new Font object, familyName is required."),ye(E.styleName,"When creating a new Font object, styleName is required."),ye(E.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ye(E.ascender,"When creating a new Font object, ascender is required."),ye(E.descender,"When creating a new Font object, descender is required."),ye(E.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:E.familyName||" "},fontSubfamily:{en:E.styleName||" "},fullName:{en:E.fullName||E.familyName+" "+E.styleName},postScriptName:{en:E.postScriptName||(E.familyName+E.styleName).replace(/\s/g,"")},designer:{en:E.designer||" "},designerURL:{en:E.designerURL||" "},manufacturer:{en:E.manufacturer||" "},manufacturerURL:{en:E.manufacturerURL||" "},license:{en:E.license||" "},licenseURL:{en:E.licenseURL||" "},version:{en:E.version||"Version 0.1"},description:{en:E.description||" "},copyright:{en:E.copyright||" "},trademark:{en:E.trademark||" "}},this.unitsPerEm=E.unitsPerEm||1e3,this.ascender=E.ascender,this.descender=E.descender,this.createdTimestamp=E.createdTimestamp,this.tables={os2:{usWeightClass:E.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:E.widthClass||this.usWidthClasses.MEDIUM,fsSelection:E.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Lt.GlyphSet(this,E.glyphs||[]),this.encoding=new At(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Fn(this):void 0)}})}Cn.prototype.hasChar=function(E){return null!==this.encoding.charToGlyphIndex(E)},Cn.prototype.charToGlyphIndex=function(E){return this.encoding.charToGlyphIndex(E)},Cn.prototype.charToGlyph=function(E){return E=this.charToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},Cn.prototype.stringToGlyphs=function(E,N){N=N||this.defaultRenderOptions;for(var K=bs(E),ee=[],pe=0;pe<K.length;pe+=1)ee.push(this.charToGlyphIndex(K[pe]));var Pe=ee.length;if(N.features){E=N.script||this.substitution.getDefaultScriptName();var Qe=[];N.features.liga&&(Qe=Qe.concat(this.substitution.getFeature("liga",E,N.language))),N.features.rlig&&(Qe=Qe.concat(this.substitution.getFeature("rlig",E,N.language)));for(var _t=0;_t<Pe;_t+=1)for(var gt=0;gt<Qe.length;gt++){for(var Xt=Qe[gt],ve=Xt.sub,ie=ve.length,be=0;be<ie&&ve[be]===ee[_t+be];)be++;be===ie&&(ee.splice(_t,ie,Xt.by),Pe=Pe-ie+1)}}for(var ge=new Array(Pe),Be=this.glyphs.get(0),Nt=0;Nt<Pe;Nt+=1)ge[Nt]=this.glyphs.get(ee[Nt])||Be;return ge},Cn.prototype.nameToGlyphIndex=function(E){return this.glyphNames.nameToGlyphIndex(E)},Cn.prototype.nameToGlyph=function(E){return E=this.nameToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},Cn.prototype.glyphIndexToName=function(E){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(E):""},Cn.prototype.getKerningValue=function(E,N){E=E.index||E,N=N.index||N;var K=this.position.defaultKerningTables;return K?this.position.getKerningValue(K,E,N):this.kerningPairs[E+","+N]||0},Cn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Cn.prototype.forEachGlyph=function(E,N,K,ee,pe,Ae){N=void 0!==N?N:0,K=void 0!==K?K:0;var Pe,Qe=1/this.unitsPerEm*(ee=void 0!==ee?ee:72),_t=this.stringToGlyphs(E,pe=pe||this.defaultRenderOptions);pe.kerning&&(E=pe.script||this.position.getDefaultScriptName(),Pe=this.position.getKerningTables(E,pe.language));for(var gt=0;gt<_t.length;gt+=1){var Xt=_t[gt];Ae.call(this,Xt,N,K,ee,pe),Xt.advanceWidth&&(N+=Xt.advanceWidth*Qe),pe.kerning&&gt<_t.length-1&&(N+=(Pe?this.position.getKerningValue(Pe,Xt.index,_t[gt+1].index):this.getKerningValue(Xt,_t[gt+1]))*Qe),pe.letterSpacing?N+=pe.letterSpacing*ee:pe.tracking&&(N+=pe.tracking/1e3*ee)}return N},Cn.prototype.getPath=function(E,N,K,ee,pe){var Ae=new le;return this.forEachGlyph(E,N,K,ee,pe,function(Pe,Qe,_t,gt){Pe=Pe.getPath(Qe,_t,gt,pe,this),Ae.extend(Pe)}),Ae},Cn.prototype.getPaths=function(E,N,K,ee,pe){var Ae=[];return this.forEachGlyph(E,N,K,ee,pe,function(Pe,Qe,_t,gt){Pe=Pe.getPath(Qe,_t,gt,pe,this),Ae.push(Pe)}),Ae},Cn.prototype.getAdvanceWidth=function(E,N,K){return this.forEachGlyph(E,0,0,N,K,function(){})},Cn.prototype.draw=function(E,N,K,ee,pe,Ae){this.getPath(N,K,ee,pe,Ae).draw(E)},Cn.prototype.drawPoints=function(E,N,K,ee,pe,Ae){this.forEachGlyph(N,K,ee,pe,Ae,function(Pe,Qe,_t,gt){Pe.drawPoints(E,Qe,_t,gt)})},Cn.prototype.drawMetrics=function(E,N,K,ee,pe,Ae){this.forEachGlyph(N,K,ee,pe,Ae,function(Pe,Qe,_t,gt){Pe.drawMetrics(E,Qe,_t,gt)})},Cn.prototype.getEnglishName=function(E){if(E=this.names[E])return E.en},Cn.prototype.validate=function(){var E=this;function N(K){(K=E.getEnglishName(K))&&K.trim()}N("fontFamily"),N("weightName"),N("manufacturer"),N("copyright"),N("version")},Cn.prototype.toTables=function(){return wo_fontToTable(this)},Cn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Cn.prototype.toArrayBuffer=function(){for(var E=this.toTables().encode(),N=new ArrayBuffer(E.length),K=new Uint8Array(N),ee=0;ee<E.length;ee++)K[ee]=E[ee];return N},Cn.prototype.download=function(E){var N=this.getEnglishName("fontFamily"),K=this.getEnglishName("fontSubfamily"),ee=(E=E||N.replace(/\s/g,"")+"-"+K+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,ee.byteLength,function(pe){pe.root.getFile(E,{create:!0},function(Ae){Ae.createWriter(function(Pe){var Qe=new DataView(ee);Qe=new Blob([Qe],{type:"font/opentype"}),Pe.write(Qe),Pe.addEventListener("writeend",function(){location.href=Ae.toURL()},!1)})})},function(pe){throw new Error(pe.name+": "+pe.message)})):(N=o("fs"),K=function(pe){for(var Ae=new v(pe.byteLength),Pe=new Uint8Array(pe),Qe=0;Qe<Ae.length;++Qe)Ae[Qe]=Pe[Qe];return Ae}(ee),N.writeFileSync(E,K))},Cn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Cn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Cn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ii_parse=function(E,N,K){for(var ee,Ae,Pe,Qe=new Gt.Parser(E,N),_t=Qe.parseULong(),gt=(j.argument(65536===_t,"Unsupported fvar table version."),Qe.parseOffset16()),Xt=(Qe.skip("uShort",1),Qe.parseUShort()),ve=Qe.parseUShort(),ie=Qe.parseUShort(),be=Qe.parseUShort(),ge=[],Be=0;Be<Xt;Be++)ge.push((Ae=K,Pe={},ee=new Gt.Parser(ee=E,N+gt+Be*ve),Pe.tag=ee.parseTag(),Pe.minValue=ee.parseFixed(),Pe.defaultValue=ee.parseFixed(),Pe.maxValue=ee.parseFixed(),ee.skip("uShort",1),Pe.name=Ae[ee.parseUShort()]||{},Pe));for(var Nt=[],Wt=N+gt+Xt*ve,sr=0;sr<ie;sr++)Nt.push(function(Br,Lr,zr,Wr){var Qr={},vn=new Gt.Parser(Br,Lr);Qr.name=Wr[vn.parseUShort()]||{},vn.skip("uShort",1),Qr.coordinates={};for(var qn=0;qn<zr.length;++qn)Qr.coordinates[zr[qn].tag]=vn.parseFixed();return Qr}(E,Wt+sr*be,ge,K));return{axes:ge,instances:Nt}},Mo=new Array(10);Mo[1]=function(){var E=this.offset+this.relativeOffset,N=this.parseUShort();return 1===N?{posFormat:1,coverage:this.parsePointer(Ct.coverage),value:this.parseValueRecord()}:2===N?{posFormat:2,coverage:this.parsePointer(Ct.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+E.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var E,N,K,ee,Ae=this.offset+this.relativeOffset,pe=this.parseUShort(),Pe=(j.assert(1===pe||2===pe,"0x"+Ae.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Ae=this.parsePointer(Ct.coverage),this.parseUShort()),Qe=this.parseUShort();return 1===pe?{posFormat:pe,coverage:Ae,valueFormat1:Pe,valueFormat2:Qe,pairSets:this.parseList(Ct.pointer(Ct.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Pe),value2:this.parseValueRecord(Qe)}})))}:2===pe?(E=this.parsePointer(Ct.classDef),N=this.parsePointer(Ct.classDef),K=this.parseUShort(),ee=this.parseUShort(),{posFormat:pe,coverage:Ae,valueFormat1:Pe,valueFormat2:Qe,classDef1:E,classDef2:N,class1Count:K,class2Count:ee,classRecords:this.parseList(K,Ct.list(ee,function(){return{value1:this.parseValueRecord(Pe),value2:this.parseValueRecord(Qe)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Ps_parse=function(E,N){return N=(E=new Ct(E,N=N||0)).parseVersion(1),j.argument(1===N||1.1===N,"Unsupported GPOS table version "+N),1===N?{version:N,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Mo)}:{version:N,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Mo),variations:E.parseFeatureVariationsList()}},Xn_parse=function(E,N){if(0===(N=(E=new Gt.Parser(E,N)).parseUShort())){var K=E,ee={},ve=(K.skip("uShort"),K.parseUShort()),pe=(j.argument(0===ve,"Unsupported kern sub-table version."),K.skip("uShort",2),K.parseUShort());K.skip("uShort",3);for(var Ae=0;Ae<pe;Ae+=1){var Pe=K.parseUShort(),Qe=K.parseUShort(),_t=K.parseShort();ee[Pe+","+Qe]=_t}return ee}if(1!==N)throw new Error("Unsupported kern table version ("+N+").");var gt=E,Xt={};if(gt.skip("uShort"),1<gt.parseULong()&&console.warn("Only the first kern subtable is supported."),gt.skip("uLong"),ve=255&gt.parseUShort(),gt.skip("uShort"),0==ve){var ie=gt.parseUShort();gt.skip("uShort",3);for(var be=0;be<ie;be+=1){var ge=gt.parseUShort(),Be=gt.parseUShort(),Nt=gt.parseShort();Xt[ge+","+Be]=Nt}}return Xt},Rs_parse=function(E,N,K,ee){for(var pe=new Gt.Parser(E,N),Ae=ee?pe.parseUShort:pe.parseULong,Pe=[],Qe=0;Qe<K+1;Qe+=1){var _t=Ae.call(pe);ee&&(_t*=2),Pe.push(_t)}return Pe};function _s(E,N){o("fs").readFile(E,function(K,ee){if(K)return N(K.message);N(null,vs(ee))})}function ws(E,N){var K=new XMLHttpRequest;K.open("get",E,!0),K.responseType="arraybuffer",K.onload=function(){return K.response?N(null,K.response):N("Font could not be loaded: "+K.statusText)},K.onerror=function(){N("Font could not be loaded")},K.send()}function Gs(E,N){for(var K=[],ee=12,pe=0;pe<N;pe+=1){var Ae=Gt.getTag(E,ee),Pe=Gt.getULong(E,ee+4),Qe=Gt.getULong(E,ee+8),_t=Gt.getULong(E,ee+12);K.push({tag:Ae,checksum:Pe,offset:Qe,length:_t,compression:!1}),ee+=16}return K}function Hr(K,N){if("WOFF"!==N.compression)return{data:K,offset:N.offset};K=new Uint8Array(K.buffer,N.offset+2,N.compressedLength-2);var ee=new Uint8Array(N.length);if(X(K,ee),ee.byteLength!==N.length)throw new Error("Decompression error: "+N.tag+" decompressed length doesn't match recorded length");return{data:new DataView(ee.buffer,0),offset:0}}function Ho(sr){var N,K,ee,pe,Ae,Pe,Qe,_t,gt,Xt,ve,ie,be,ge,Be=new Cn({empty:!0}),Nt=new DataView(sr,0),Wt=[];if("\0\x01\0\0"===(sr=Gt.getTag(Nt,0))||"true"===sr||"typ1"===sr)Be.outlinesFormat="truetype",Wt=Gs(Nt,ee=Gt.getUShort(Nt,4));else if("OTTO"===sr)Be.outlinesFormat="cff",Wt=Gs(Nt,ee=Gt.getUShort(Nt,4));else{if("wOFF"!==sr)throw new Error("Unsupported OpenType signature "+sr);if("\0\x01\0\0"===(Br=Gt.getTag(Nt,4)))Be.outlinesFormat="truetype";else{if("OTTO"!==Br)throw new Error("Unsupported OpenType flavor "+sr);Be.outlinesFormat="cff"}Wt=function(Mn,$r){for(var $n=[],Vn=44,lo=0;lo<$r;lo+=1){var Rn=Gt.getTag(Mn,Vn),uo=Gt.getULong(Mn,Vn+4),rs=Gt.getULong(Mn,Vn+8),ni=Gt.getULong(Mn,Vn+12);$n.push({tag:Rn,offset:uo,compression:rs<ni&&"WOFF",compressedLength:rs,length:ni}),Vn+=20}return $n}(Nt,ee=Gt.getUShort(Nt,12))}for(var Lr=0;Lr<ee;Lr+=1){var zr=Wt[Lr],Wr=void 0;switch(zr.tag){case"cmap":Wr=Hr(Nt,zr),Be.tables.cmap=Ve_parse(Wr.data,Wr.offset),Be.encoding=new Ht(Be.tables.cmap);break;case"cvt ":Wr=Hr(Nt,zr),ge=new Gt.Parser(Wr.data,Wr.offset),Be.tables.cvt=ge.parseShortList(zr.length/2);break;case"fvar":Ae=zr;break;case"fpgm":Wr=Hr(Nt,zr),ge=new Gt.Parser(Wr.data,Wr.offset),Be.tables.fpgm=ge.parseByteList(zr.length);break;case"head":Wr=Hr(Nt,zr),Be.tables.head=F_parse(Wr.data,Wr.offset),Be.unitsPerEm=Be.tables.head.unitsPerEm,N=Be.tables.head.indexToLocFormat;break;case"hhea":Wr=Hr(Nt,zr),Be.tables.hhea=z_parse(Wr.data,Wr.offset),Be.ascender=Be.tables.hhea.ascender,Be.descender=Be.tables.hhea.descender,Be.numberOfHMetrics=Be.tables.hhea.numberOfHMetrics;break;case"hmtx":gt=zr;break;case"ltag":Wr=Hr(Nt,zr),K=ue_parse(Wr.data,Wr.offset);break;case"maxp":Wr=Hr(Nt,zr),Be.tables.maxp=Se_parse(Wr.data,Wr.offset),Be.numGlyphs=Be.tables.maxp.numGlyphs;break;case"name":ie=zr;break;case"OS/2":Wr=Hr(Nt,zr),Be.tables.os2=Pr_parse(Wr.data,Wr.offset);break;case"post":Wr=Hr(Nt,zr),Be.tables.post=tn_parse(Wr.data,Wr.offset),Be.glyphNames=new Ft(Be.tables.post);break;case"prep":Wr=Hr(Nt,zr),ge=new Gt.Parser(Wr.data,Wr.offset),Be.tables.prep=ge.parseByteList(zr.length);break;case"glyf":Pe=zr;break;case"loca":ve=zr;break;case"CFF ":pe=zr;break;case"kern":Xt=zr;break;case"GPOS":Qe=zr;break;case"GSUB":_t=zr;break;case"meta":be=zr}}if(Br=Hr(Nt,ie),Be.tables.name=cr_parse(Br.data,Br.offset,K),Be.names=Be.tables.name,Pe&&ve)sr=0===N,Br=Hr(Nt,ve),Br=Rs_parse(Br.data,Br.offset,Be.numGlyphs,sr),sr=Hr(Nt,Pe),Be.glyphs=hn.parse(sr.data,sr.offset,Br,Be);else{if(!pe)throw new Error("Font doesn't contain TrueType or CFF outlines.");sr=Hr(Nt,pe),H_parse(sr.data,sr.offset,Be)}for(var Br=Hr(Nt,gt),Qr=(B_parse(Br.data,Br.offset,Be.numberOfHMetrics,Be.numGlyphs,Be.glyphs),Be),vn=Qr.tables.cmap.glyphIndexMap,qn=Object.keys(vn),to=0;to<qn.length;to+=1){var so,Kn=qn[to];(so=Qr.glyphs.get(vn[Kn])).addUnicode(parseInt(Kn))}for(var Tn=0;Tn<Qr.glyphs.length;Tn+=1)so=Qr.glyphs.get(Tn),Qr.cffEncoding?so.name=Qr.isCIDFont?"gid"+Tn:Qr.cffEncoding.charset[Tn]:Qr.glyphNames.names&&(so.name=Qr.glyphNames.glyphIndexToName(Tn));return Xt?(sr=Hr(Nt,Xt),Be.kerningPairs=Xn_parse(sr.data,sr.offset)):Be.kerningPairs={},Qe&&(Br=Hr(Nt,Qe),Be.tables.gpos=Ps_parse(Br.data,Br.offset),Be.position.init()),_t&&(sr=Hr(Nt,_t),Be.tables.gsub=Kr_parse(sr.data,sr.offset)),Ae&&(Br=Hr(Nt,Ae),Be.tables.fvar=Ii_parse(Br.data,Br.offset,Be.names)),be&&(sr=Hr(Nt,be),Be.tables.meta=yn_parse(sr.data,sr.offset),Be.metas=Be.tables.meta),Be}g.Font=Cn,g.Glyph=rr,g.Path=le,g.BoundingBox=Y,g._parse=Gt,g.parse=Ho,g.load=function(E,N){(typeof window>"u"?_s:ws)(E,function(K,ee){if(K)return N(K);var pe;try{pe=Ho(ee)}catch(Ae){return N(Ae,null)}return N(null,pe)})},g.loadSync=function(E){return Ho(vs(o("fs").readFileSync(E)))},Object.defineProperty(g,"__esModule",{value:!0})},f("object"==typeof $&&void 0!==se?$:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,se,$){(function(v){function b(S,_){for(var i=0,a=S.length-1;0<=a;a--){var l=S[a];"."===l?S.splice(a,1):".."===l?(S.splice(a,1),i++):i&&(S.splice(a,1),i--)}if(_)for(;i--;)S.unshift("..");return S}function f(S,_){if(S.filter)return S.filter(_);for(var i=[],a=0;a<S.length;a++)_(S[a],a,S)&&i.push(S[a]);return i}$.resolve=function(){for(var S="",_=!1,i=arguments.length-1;-1<=i&&!_;i--){var a=0<=i?arguments[i]:v.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(S=a+"/"+S,_="/"===a.charAt(0))}return(_?"/":"")+(S=b(f(S.split("/"),function(l){return!!l}),!_).join("/"))||"."},$.normalize=function(S){var _=$.isAbsolute(S),i="/"===g(S,-1);return(S=(S=b(f(S.split("/"),function(a){return!!a}),!_).join("/"))||_?S:".")&&i&&(S+="/"),(_?"/":"")+S},$.isAbsolute=function(S){return"/"===S.charAt(0)},$.join=function(){var S=Array.prototype.slice.call(arguments,0);return $.normalize(f(S,function(_,i){if("string"!=typeof _)throw new TypeError("Arguments to path.join must be strings");return _}).join("/"))},$.relative=function(S,_){function i(p){for(var y=0;y<p.length&&""===p[y];y++);for(var D=p.length-1;0<=D&&""===p[D];D--);return D<y?[]:p.slice(y,D-y+1)}S=$.resolve(S).substr(1),_=$.resolve(_).substr(1);for(var a=i(S.split("/")),l=i(_.split("/")),u=Math.min(a.length,l.length),d=u,h=0;h<u;h++)if(a[h]!==l[h]){d=h;break}var m=[];for(h=d;h<a.length;h++)m.push("..");return(m=m.concat(l.slice(d))).join("/")},$.sep="/",$.delimiter=":",$.dirname=function(S){if("string"!=typeof S&&(S+=""),0===S.length)return".";for(var _=47===S.charCodeAt(0),i=-1,a=!0,l=S.length-1;1<=l;--l)if(47===S.charCodeAt(l)){if(!a){i=l;break}}else a=!1;return-1===i?_?"/":".":_&&1===i?"/":S.slice(0,i)},$.basename=function(S,_){return S=function(i){"string"!=typeof i&&(i+="");for(var a=0,l=-1,u=!0,d=i.length-1;0<=d;--d)if(47===i.charCodeAt(d)){if(!u){a=d+1;break}}else-1===l&&(u=!1,l=d+1);return-1===l?"":i.slice(a,l)}(S),_&&S.substr(-1*_.length)===_?S.substr(0,S.length-_.length):S},$.extname=function(S){"string"!=typeof S&&(S+="");for(var _=-1,i=0,a=-1,l=!0,u=0,d=S.length-1;0<=d;--d){var h=S.charCodeAt(d);if(47===h){if(l)continue;i=d+1;break}-1===a&&(l=!1,a=d+1),46===h?-1===_?_=d:1!==u&&(u=1):-1!==_&&(u=-1)}return-1===_||-1===a||0===u||1===u&&_===a-1&&_===i+1?"":S.slice(_,a)};var g=function(S,_,i){return S.substr(_,i)}}).call(this,o("_process"))},{_process:259}],259:[function(o,f,$){var v,b;function g(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}f=f.exports={};try{v="function"==typeof setTimeout?setTimeout:g}catch{v=g}try{b="function"==typeof clearTimeout?clearTimeout:S}catch{b=S}function _(y){if(v===setTimeout)return setTimeout(y,0);if((v===g||!v)&&setTimeout)return(v=setTimeout)(y,0);try{return v(y,0)}catch{try{return v.call(null,y,0)}catch{return v.call(this,y,0)}}}var i,a=[],l=!1,u=-1;function d(){l&&i&&(l=!1,i.length?a=i.concat(a):u=-1,a.length&&h())}function h(){if(!l){for(var y=_(d),D=(l=!0,a.length);D;){for(i=a,a=[];++u<D;)i&&i[u].run();u=-1,D=a.length}i=null,l=!1,function(V){if(b===clearTimeout)return clearTimeout(V);if((b===S||!b)&&clearTimeout)return(b=clearTimeout)(V);try{b(V)}catch{try{return b.call(null,V)}catch{return b.call(this,V)}}}(y)}}function m(y,D){this.fun=y,this.array=D}function p(){}f.nextTick=function(y){var D=new Array(arguments.length-1);if(1<arguments.length)for(var V=1;V<arguments.length;V++)D[V-1]=arguments[V];a.push(new m(y,D)),1!==a.length||l||_(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(y){return[]},f.binding=function(y){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(y){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],260:[function(o,se,$){se=function(v){"use strict";var b,f=Object.prototype,g=f.hasOwnProperty,S=(L="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",_=L.asyncIterator||"@@asyncIterator",i=L.toStringTag||"@@toStringTag";function a(te,ne,G,me){var le,Ie,J,j;return ne=ne&&ne.prototype instanceof y?ne:y,ne=Object.create(ne.prototype),me=new Z(me||[]),ne._invoke=(le=te,Ie=G,J=me,j=u,function(De,$e){if(j===h)throw new Error("Generator is already running");if(j===m){if("throw"===De)throw $e;return q()}for(J.method=De,J.arg=$e;;){var qe=J.delegate;if(qe&&(qe=function ut(He,ot){var at=He.iterator[ot.method];if(at===b){if(ot.delegate=null,"throw"===ot.method){if(He.iterator.return&&(ot.method="return",ot.arg=b,ut(He,ot),"throw"===ot.method))return p;ot.method="throw",ot.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(at=l(at,He.iterator,ot.arg)).type?(ot.method="throw",ot.arg=at.arg,ot.delegate=null,p):(at=at.arg)?at.done?(ot[He.resultName]=at.value,ot.next=He.nextLoc,"return"!==ot.method&&(ot.method="next",ot.arg=b),ot.delegate=null,p):at:(ot.method="throw",ot.arg=new TypeError("iterator result is not an object"),ot.delegate=null,p)}(qe,J))){if(qe===p)continue;return qe}if("next"===J.method)J.sent=J._sent=J.arg;else if("throw"===J.method){if(j===u)throw j=m,J.arg;J.dispatchException(J.arg)}else"return"===J.method&&J.abrupt("return",J.arg);if(j=h,"normal"===(qe=l(le,Ie,J)).type){if(j=J.done?m:d,qe.arg!==p)return{value:qe.arg,done:J.done}}else"throw"===qe.type&&(j=m,J.method="throw",J.arg=qe.arg)}}),ne}function l(te,X,G){try{return{type:"normal",arg:te.call(X,G)}}catch(Y){return{type:"throw",arg:Y}}}v.wrap=a;var u="suspendedStart",d="suspendedYield",h="executing",m="completed",p={};function y(){}function D(){}function V(){}var L,P,x=((L={})[S]=function(){return this},(P=(P=Object.getPrototypeOf)&&P(P(re([]))))&&P!==f&&g.call(P,S)&&(L=P),V.prototype=y.prototype=Object.create(L));function U(te){["next","throw","return"].forEach(function(X){te[X]=function(G){return this._invoke(X,G)}})}function A(te){var X;this._invoke=function(G,Y){function le(){return new Promise(function(Ie,J){!function j(ut,me,De,$e){var qe;if("throw"!==(ut=l(te[ut],te,me)).type)return(me=(qe=ut.arg).value)&&"object"==typeof me&&g.call(me,"__await")?Promise.resolve(me.__await).then(function(He){j("next",He,De,$e)},function(He){j("throw",He,De,$e)}):Promise.resolve(me).then(function(He){qe.value=He,De(qe)},function(He){return j("throw",He,De,$e)});$e(ut.arg)}(G,Y,Ie,J)})}return X=X?X.then(le,le):le()}}function R(te){var X={tryLoc:te[0]};1 in te&&(X.catchLoc=te[1]),2 in te&&(X.finallyLoc=te[2],X.afterLoc=te[3]),this.tryEntries.push(X)}function O(te){var X=te.completion||{};X.type="normal",delete X.arg,te.completion=X}function Z(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(R,this),this.reset(!0)}function re(te){if(te){var X,G=te[S];if(G)return G.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length))return X=-1,(G=function Y(){for(;++X<te.length;)if(g.call(te,X))return Y.value=te[X],Y.done=!1,Y;return Y.value=b,Y.done=!0,Y}).next=G}return{next:q}}function q(){return{value:b,done:!0}}return(D.prototype=x.constructor=V).constructor=D,V[i]=D.displayName="GeneratorFunction",v.isGeneratorFunction=function(te){return!!(te="function"==typeof te&&te.constructor)&&(te===D||"GeneratorFunction"===(te.displayName||te.name))},v.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,V):(te.__proto__=V,i in te||(te[i]="GeneratorFunction")),te.prototype=Object.create(x),te},v.awrap=function(te){return{__await:te}},U(A.prototype),A.prototype[_]=function(){return this},v.AsyncIterator=A,v.async=function(te,X,G,Y){var le=new A(a(te,X,G,Y));return v.isGeneratorFunction(X)?le:le.next().then(function(Ie){return Ie.done?Ie.value:le.next()})},U(x),x[i]="Generator",x[S]=function(){return this},x.toString=function(){return"[object Generator]"},v.keys=function(te){var X,G=[];for(X in te)G.push(X);return G.reverse(),function Y(){for(;G.length;){var le=G.pop();if(le in te)return Y.value=le,Y.done=!1,Y}return Y.done=!0,Y}},v.values=re,Z.prototype={constructor:Z,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(O),!te)for(var X in this)"t"===X.charAt(0)&&g.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=b)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if("throw"===te.type)throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var X=this;function G(ne,me){return Ie.type="throw",Ie.arg=te,X.next=ne,me&&(X.method="next",X.arg=b),!!me}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var le=this.tryEntries[Y],Ie=le.completion;if("root"===le.tryLoc)return G("end");if(le.tryLoc<=this.prev){var J=g.call(le,"catchLoc"),j=g.call(le,"finallyLoc");if(J&&j){if(this.prev<le.catchLoc)return G(le.catchLoc,!0);if(this.prev<le.finallyLoc)return G(le.finallyLoc)}else if(J){if(this.prev<le.catchLoc)return G(le.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return G(le.finallyLoc)}}}},abrupt:function(te,X){for(var G=this.tryEntries.length-1;0<=G;--G){var Y=this.tryEntries[G];if(Y.tryLoc<=this.prev&&g.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var le=Y;break}}var Ie=(le=le&&("break"===te||"continue"===te)&&le.tryLoc<=X&&X<=le.finallyLoc?null:le)?le.completion:{};return Ie.type=te,Ie.arg=X,le?(this.method="next",this.next=le.finallyLoc,p):this.complete(Ie)},complete:function(te,X){if("throw"===te.type)throw te.arg;return"break"===te.type||"continue"===te.type?this.next=te.arg:"return"===te.type?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):"normal"===te.type&&X&&(this.next=X),p},finish:function(te){for(var X=this.tryEntries.length-1;0<=X;--X){var G=this.tryEntries[X];if(G.finallyLoc===te)return this.complete(G.completion,G.afterLoc),O(G),p}},catch:function(te){for(var X=this.tryEntries.length-1;0<=X;--X){var G,Y,le=this.tryEntries[X];if(le.tryLoc===te)return"throw"===(G=le.completion).type&&(Y=G.arg,O(le)),Y}throw new Error("illegal catch attempt")},delegateYield:function(te,X,G){return this.delegate={iterator:re(te),resultName:X,nextLoc:G},"next"===this.method&&(this.arg=b),p}},v}("object"==typeof se?se.exports:{});try{regeneratorRuntime=se}catch{Function("r","regeneratorRuntime = r")(se)}},{}],261:[function(o,se,$){!function(v){"use strict";var b,f,g,S,_,i,a,l,u,d;function h(O){if("string"!=typeof O&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function m(O){return"string"!=typeof O?String(O):O}function p(O){var Z={next:function(){var re=O.shift();return{done:void 0===re,value:re}}};return f&&(Z[Symbol.iterator]=function(){return Z}),Z}function y(O){this.map={},O instanceof y?O.forEach(function(Z,re){this.append(re,Z)},this):Array.isArray(O)?O.forEach(function(Z){this.append(Z[0],Z[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(Z){this.append(Z,O[Z])},this)}function D(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function V(O){return new Promise(function(Z,re){O.onload=function(){Z(O.result)},O.onerror=function(){re(O.error)}})}function L(O){var Z=new FileReader,re=V(Z);return Z.readAsArrayBuffer(O),re}function P(O){var Z;return O.slice?O.slice(0):((Z=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),Z.buffer)}function x(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if("string"==typeof O)this._bodyText=O;else if(g&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(S&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(b&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(_&&g&&a(O))this._bodyArrayBuffer=P(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_||!ArrayBuffer.prototype.isPrototypeOf(O)&&!l(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(O)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof O?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g&&(this.blob=function(){var O=D(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(L)}),this.text=function(){var O,Z,re=D(this);if(re)return re;if(this._bodyBlob)return re=this._bodyBlob,Z=V(O=new FileReader),O.readAsText(re),Z;if(this._bodyArrayBuffer)return Promise.resolve(function(q){for(var te=new Uint8Array(q),X=new Array(te.length),G=0;G<te.length;G++)X[G]=String.fromCharCode(te[G]);return X.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function U(O,Z){var re,q=(Z=Z||{}).body;if(O instanceof U){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,Z.headers||(this.headers=new y(O.headers)),this.method=O.method,this.mode=O.mode,q||null==O._bodyInit||(q=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=Z.credentials||this.credentials||"omit",!Z.headers&&this.headers||(this.headers=new y(Z.headers)),this.method=(re=(O=Z.method||this.method||"GET").toUpperCase(),-1<u.indexOf(re)?re:O),this.mode=Z.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function A(O){var Z=new FormData;return O.trim().split("&").forEach(function(re){var q;re&&(q=(re=re.split("=")).shift().replace(/\+/g," "),re=re.join("=").replace(/\+/g," "),Z.append(decodeURIComponent(q),decodeURIComponent(re)))}),Z}function R(O,Z){Z=Z||{},this.type="default",this.status=void 0===Z.status?200:Z.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in Z?Z.statusText:"OK",this.headers=new y(Z.headers),this.url=Z.url||"",this._initBody(O)}v.fetch||(b="URLSearchParams"in v,f="Symbol"in v&&"iterator"in Symbol,g="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),S="FormData"in v,(_="ArrayBuffer"in v)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(O){return O&&DataView.prototype.isPrototypeOf(O)},l=ArrayBuffer.isView||function(O){return O&&-1<i.indexOf(Object.prototype.toString.call(O))}),y.prototype.append=function(O,Z){O=h(O),Z=m(Z);var re=this.map[O];this.map[O]=re?re+","+Z:Z},y.prototype.delete=function(O){delete this.map[h(O)]},y.prototype.get=function(O){return O=h(O),this.has(O)?this.map[O]:null},y.prototype.has=function(O){return this.map.hasOwnProperty(h(O))},y.prototype.set=function(O,Z){this.map[h(O)]=m(Z)},y.prototype.forEach=function(O,Z){for(var re in this.map)this.map.hasOwnProperty(re)&&O.call(Z,this.map[re],re,this)},y.prototype.keys=function(){var O=[];return this.forEach(function(Z,re){O.push(re)}),p(O)},y.prototype.values=function(){var O=[];return this.forEach(function(Z){O.push(Z)}),p(O)},y.prototype.entries=function(){var O=[];return this.forEach(function(Z,re){O.push([re,Z])}),p(O)},f&&(y.prototype[Symbol.iterator]=y.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],U.prototype.clone=function(){return new U(this,{body:this._bodyInit})},x.call(U.prototype),x.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},R.error=function(){var O=new R(null,{status:0,statusText:""});return O.type="error",O},d=[301,302,303,307,308],R.redirect=function(O,Z){if(-1===d.indexOf(Z))throw new RangeError("Invalid status code");return new R(null,{status:Z,headers:{location:O}})},v.Headers=y,v.Request=U,v.Response=R,v.fetch=function(O,Z){return new Promise(function(re,q){var te=new U(O,Z),X=new XMLHttpRequest;X.onload=function(){var G,Y={status:X.status,statusText:X.statusText,headers:(Y=X.getAllResponseHeaders()||"",G=new y,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(J){var j=(J=J.split(":")).shift().trim();j&&(J=J.join(":").trim(),G.append(j,J))}),G)},le=(Y.url="responseURL"in X?X.responseURL:Y.headers.get("X-Request-URL"),"response"in X?X.response:X.responseText);re(new R(le,Y))},X.onerror=function(){q(new TypeError("Network request failed"))},X.ontimeout=function(){q(new TypeError("Network request failed"))},X.open(te.method,te.url,!0),"include"===te.credentials?X.withCredentials=!0:"omit"===te.credentials&&(X.withCredentials=!1),"responseType"in X&&g&&(X.responseType="blob"),te.headers.forEach(function(G,Y){X.setRequestHeader(Y,G)}),X.send(void 0===te._bodyInit?null:te._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,se,$){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v,b=g(o("../core/main")),f=g(o("../color/color_conversion"));function g(i){return i&&i.__esModule?i:{default:i}}var S=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],_=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(u){u=f.default._rgbaToHSBA(u);var a,l,d=[(v=u)[0],u[1],u[2]];0!==d[0]&&(d[0]=Math.round(100*d[0]),(u=d[0].toString().split(""))[l=u.length-1]=parseInt(u[l]),u[l]<2.5?u[l]=0:2.5<=u[l]&&u[l]<7.5&&(u[l]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[l]&&(u[l]=0,u[0]=u[0]+1),d[0]=10*u[0]+u[1]):d[0]=7.5<=u[l]?10:u[l]),d[2]=d[2]/255;for(var h=d.length-1;1<=h;h--)d[h]=d[h]<=.25?0:.25<d[h]&&d[h]<.75?.5:1;if(0===d[0]&&0===d[1]&&1===d[2]){for(var m=2;0<=m;m--)v[m]=Math.round(1e4*v[m])/1e4;for(var p=0;p<S.length;p++){if(S[p].h===v[0]&&S[p].s===v[1]&&S[p].b===v[2]){a=S[p].name;break}a="white"}}else for(var y=0;y<_.length;y++)if(_[y].h===d[0]&&_[y].s===d[1]&&_[y].b===d[2]){a=_[y].name;break}return a},$.default=o=b.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,se,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},b="_Description",f="_fallbackDesc",g="_fallbackTable",S="_Label",_="_labelDesc",i="_labelTable";function a(l){if("label"===l||"fallback"===l)throw new Error("description should not be LABEL or FALLBACK");return l.endsWith(".")||l.endsWith(";")||l.endsWith(",")||l.endsWith("?")||l.endsWith("!")||(l+="."),l}v.default.prototype.describe=function(l,u){var d;v.default._validateParameters("describe",arguments),"string"==typeof l&&(d=this.canvas.id,l=a(l),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==l&&(this.descriptions.fallback.innerHTML=l):this._describeHTML("fallback",l),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==l&&(this.descriptions.label.innerHTML=l):this._describeHTML("label",l)))},v.default.prototype.describeElement=function(l,u,d){var h,m;v.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof l&&(h=this.canvas.id,u=a(u),m=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(l),l=l.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[l]?this.descriptions.fallbackElements[l].innerHTML!==m&&(this.descriptions.fallbackElements[l].innerHTML=m):this._describeElementHTML("fallback",l,m),d===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[l]?this.descriptions.labelElements[l].innerHTML!==m&&(this.descriptions.labelElements[l].innerHTML=m):this._describeElementHTML("label",l,m)))},v.default.prototype._describeHTML=function(l,u){var d,h=this.canvas.id;"fallback"===l?(this.dummyDOM.querySelector("#".concat(h+b))?this.dummyDOM.querySelector("#"+h+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(h+f,'"></p>')):(d='<div id="'.concat(h).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(h).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#".concat(h)).innerHTML=d),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat(f)),this.descriptions.fallback.innerHTML=u):"label"===l&&(this.dummyDOM.querySelector("#".concat(h+S))?this.dummyDOM.querySelector("#".concat(h+i))&&this.dummyDOM.querySelector("#".concat(h+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(h).concat(_,'"></p>')):(d='<div id="'.concat(h).concat(S,'" class="p5Label"><p id="').concat(h).concat(_,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",d)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+_),this.descriptions.label.innerHTML=u)},v.default.prototype._describeElementHTML=function(l,u,d){var h,m=this.canvas.id;"fallback"===l?(this.dummyDOM.querySelector("#".concat(m+b))?this.dummyDOM.querySelector("#"+m+g)||this.dummyDOM.querySelector("#"+m+f).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>')):(h='<div id="'.concat(m).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+m).innerHTML=h),(h=document.createElement("tr")).id=m+"_fte_"+u,this.dummyDOM.querySelector("#"+m+g).appendChild(h),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=d):"label"===l&&(this.dummyDOM.querySelector("#".concat(m+S))?this.dummyDOM.querySelector("#".concat(m+i))||this.dummyDOM.querySelector("#"+m+_).insertAdjacentHTML("afterend",'<table id="'.concat(m+i,'"></table>')):(h='<div id="'.concat(m).concat(S,'" class="p5Label"><table id="').concat(m).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",h)),(l=document.createElement("tr")).id=m+"_lte_"+u,this.dummyDOM.querySelector("#"+m+i).appendChild(l),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=d)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,se,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var b,f,g,S,_,i,a,l;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(f=function(_,i){var a,l="",u="",d=0;for(a in i){var h,m=0;for(h in i[a]){var p='<li id="'.concat(_,"shape").concat(d,'">').concat(i[a][h].color," ").concat(a,",");"line"===a?p+=" location = ".concat(i[a][h].pos,", length = ").concat(i[a][h].length," pixels"):(p+=" location = ".concat(i[a][h].pos),"point"!==a&&(p+=", area = ".concat(i[a][h].area," %")),p+="</li>"),l+=p,m++,d++}u=1<m?"".concat(u," ").concat(m," ").concat(a,"s"):"".concat(u," ").concat(m," ").concat(a)}return{numShapes:[d,u],details:l}}(v,this.ingredients.shapes)).numShapes,a=this.width,l=this.height,i="".concat(i=this.ingredients.colors.background," canvas, ").concat(a," by ").concat(l," pixels, contains ").concat(_[0]),g=i="".concat(i,1===_[0]?" shape: ":" shapes: ").concat(_[1]),S=function(_,i){var a,l,u=0,d="",h=Array.from(Array(10),function(){return Array(10)});for(a in i)for(var m in i[a]){var p;p="line"!==a?'<a href="#'.concat(_,"shape").concat(u,'">').concat(i[a][m].color," ").concat(a,"</a>"):'<a href="#'.concat(_,"shape").concat(u,'">').concat(i[a][m].color," ").concat(a," midpoint</a>"),i[a][m].loc.locY<h.length&&i[a][m].loc.locX<h[i[a][m].loc.locY].length&&(h[i[a][m].loc.locY][i[a][m].loc.locX]=h[i[a][m].loc.locY][i[a][m].loc.locX]?h[i[a][m].loc.locY][i[a][m].loc.locX]+"  "+p:p,u++)}for(l in h){var y,D="<tr>";for(y in h[l])D+="<td>",void 0!==h[l][y]&&(D+=h[l][y]),D+="</td>";d=d+D+"</tr>"}return d}(v,this.ingredients.shapes),g!==b.summary.innerHTML&&(b.summary.innerHTML=g),S!==b.map.innerHTML&&(b.map.innerHTML=S),f.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=f.details),this._accessibleOutputs[v]=b)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(g,S,_){return 10===(S=Math.floor(g[0]/S*10))&&(S-=1),10===(g=Math.floor(g[1]/_*10))&&(g-=1),{locX:S,locY:g}}v.default.prototype.textOutput=function(g){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),g===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(g){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),g===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(g,S){var _,i,a,l=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),"");"Fallback"===S?(_=l+g,this.dummyDOM.querySelector("#".concat(i=l+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(l,"_Description"))?this.dummyDOM.querySelector("#".concat(l,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(l)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===S&&(_=l+g+(u=S),this.dummyDOM.querySelector("#".concat(i=l+"accessibleOutput"+S))||(this.dummyDOM.querySelector("#".concat(l,"_Label"))?this.dummyDOM.querySelector("#".concat(l,"_Label")):this.dummyDOM.querySelector("#".concat(l))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[_]={},"textOutput"===g?(u="#".concat(l,"gridOutput").concat(u),a='<div id="'.concat(_,'">Text Output<div id="').concat(_,'Summary" aria-label="text output summary"><p id="').concat(_,'_summary"></p><ul id="').concat(_,'_list"></ul></div><table id="').concat(_,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(i)).innerHTML=a,this._accessibleOutputs[_].list=this.dummyDOM.querySelector("#".concat(_,"_list"))):"gridOutput"===g&&(u="#".concat(l,"textOutput").concat(u),a='<div id="'.concat(_,'">Grid Output<p id="').concat(_,'_summary" aria-label="grid output summary"><table id="').concat(_,'_map" summary="grid output content"></table><ul id="').concat(_,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(i)).innerHTML=a,this._accessibleOutputs[_].map=this.dummyDOM.querySelector("#".concat(_,"_map"))),this._accessibleOutputs[_].shapeDetails=this.dummyDOM.querySelector("#".concat(_,"_shapeDetails")),this._accessibleOutputs[_].summary=this.dummyDOM.querySelector("#".concat(_,"_summary"))},v.default.prototype._updateAccsOutput=function(){var g=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(g+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(g+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(g+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(g+"gridOutputLabel"))},v.default.prototype._accsBackground=function(g){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==g&&(this.ingredients.colors.backgroundRGBA=g,this.ingredients.colors.background=this._rgbColorName(g))},v.default.prototype._accsCanvasColors=function(g,S){"fill"===g?this.ingredients.colors.fillRGBA!==S&&(this.ingredients.colors.fillRGBA=S,this.ingredients.colors.fill=this._rgbColorName(S)):"stroke"===g&&this.ingredients.colors.strokeRGBA!==S&&(this.ingredients.colors.strokeRGBA=S,this.ingredients.colors.stroke=this._rgbColorName(S))},v.default.prototype._accsOutput=function(g,S){"ellipse"===g&&S[2]===S[3]?g="circle":"rectangle"===g&&S[2]===S[3]&&(g="square");var _,i,h,m,p,a={},l=!0,u=(m=S,h="rectangle"===(h=g)||"ellipse"===h||"arc"===h||"circle"===h||"square"===h?(p=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===h?(p=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===h?(p=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===h?(p=(m[0]+m[2])/2,(m[1]+m[3])/2):(p=m[0],m[1]),[p,h]);if("line"===g?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(S[0],S[1],S[2],S[3])),_=this._getPos(S[0],[1]),i=this._getPos(S[2],[3]),a.loc=f(u,this.width,this.height),a.pos=_===i?"at ".concat(_):"from ".concat(_," to ").concat(i)):("point"===g?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(g,S)),a.pos=this._getPos.apply(this,function b(g){return function(S){if(Array.isArray(S)){for(var _=0,i=new Array(S.length);_<S.length;_++)i[_]=S[_];return i}}(g)||function(S){if(Symbol.iterator in Object(S)||"[object Arguments]"===Object.prototype.toString.call(S))return Array.from(S)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),a.loc=f(u,this.width,this.height)),this.ingredients.shapes[g]){if(this.ingredients.shapes[g]!==[a]){for(var d in this.ingredients.shapes[g])JSON.stringify(this.ingredients.shapes[g][d])===JSON.stringify(a)&&(l=!1);!0===l&&this.ingredients.shapes[g].push(a)}}else this.ingredients.shapes[g]=[a]},v.default.prototype._getPos=function(i,_){i=new DOMPointReadOnly(i,_),_=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),_=(i=i.matrixTransform(_)).x,i=i.y;var a=this.width*this._pixelDensity,l=this.height*this._pixelDensity;return _<.4*a?i<.4*l?"top left":.6*l<i?"bottom left":"mid left":.6*a<_?i<.4*l?"top right":.6*l<i?"bottom right":"mid right":i<.4*l?"top middle":.6*l<i?"bottom middle":"middle"},v.default.prototype._getArea=function(g,S){var _,i,a=0,l=("arc"===g?(a=(_=((S[5]-S[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*S[2]*S[3]/8,"open"!==S[6]&&"chord"!==S[6]||(i=S[0],m=S[1],l=S[0]+S[2]/2*Math.cos(S[4]).toFixed(2),p=S[1]+S[3]/2*Math.sin(S[4]).toFixed(2),d=S[0]+S[2]/2*Math.cos(S[5]).toFixed(2),u=S[1]+S[3]/2*Math.sin(S[5]).toFixed(2),i=Math.abs(i*(p-u)+l*(u-m)+d*(m-p))/2,_>Math.PI?a+=i:a-=i)):"ellipse"===g||"circle"===g?a=3.14*S[2]/2*S[3]/2:"line"===g||"point"===g?a=0:"quadrilateral"===g?a=Math.abs((S[6]+S[0])*(S[7]-S[1])+(S[0]+S[2])*(S[1]-S[3])+(S[2]+S[4])*(S[3]-S[5])+(S[4]+S[6])*(S[5]-S[7]))/2:"rectangle"===g||"square"===g?a=S[2]*S[3]:"triangle"===g&&(a=Math.abs(S[0]*(S[3]-S[5])+S[2]*(S[5]-S[1])+S[4]*(S[1]-S[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,d=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,u),new DOMPoint(0,u)],h=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=d.map(function(y){return y.matrixTransform(h)}),p=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*a/p)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,se,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var b,f,g,S,_,i,a,l;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(f=function(_,i){var a,l="",u=0;for(a in i)for(var d in i[a]){var h='<li><a href="#'.concat(_,"shape").concat(u,'">').concat(i[a][d].color," ").concat(a,"</a>");"line"===a?h+=", ".concat(i[a][d].pos,", ").concat(i[a][d].length," pixels long.</li>"):(h+=", at ".concat(i[a][d].pos),"point"!==a&&(h+=", covering ".concat(i[a][d].area,"% of the canvas")),h+=".</li>"),l+=h,u++}return{numShapes:u,listShapes:l}}(v,this.ingredients.shapes)).numShapes,i=this.ingredients.colors.background,l=this.height,a="Your output is a, ".concat(a=this.width," by ").concat(l," pixels, ").concat(i," canvas containing the following"),g=a=1===_?"".concat(a," shape:"):"".concat(a," ").concat(_," shapes:"),S=function(_,i){var a,l="",u=0;for(a in i)for(var d in i[a]){var h='<tr id="'.concat(_,"shape").concat(u,'"><th>').concat(i[a][d].color," ").concat(a,"</th>");"line"===a?h+="<td>location = ".concat(i[a][d].pos,"</td><td>length = ").concat(i[a][d].length," pixels</td></tr>"):(h+="<td>location = ".concat(i[a][d].pos,"</td>"),"point"!==a&&(h+="<td> area = ".concat(i[a][d].area,"%</td>")),h+="</tr>"),l+=h,u++}return l}(v,this.ingredients.shapes),g!==b.summary.innerHTML&&(b.summary.innerHTML=g),f.listShapes!==b.list.innerHTML&&(b.list.innerHTML=f.listShapes),S!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=S),this._accessibleOutputs[v]=b)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,se,$){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),se.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var f=v[1],g=v[2],S=(2-f)*g/2;return 0!=S&&(1==S?f=0:S<.5?f/=2-f:f=f*g/(2-2*S)),[v[0],f,S,v[3]]},_hsbaToRGBA:function(v){var b,f,g,S,_,i=6*v[0],a=v[1],l=v[2];return 0===a?[l,l,l,v[3]]:(f=l*(1-a),g=l*(1-a*(i-(b=Math.floor(i)))),a=l*(1-a*(1+b-i)),i=1===b?(S=g,_=l,f):2===b?(S=f,_=l,a):3===b?(S=f,_=g,l):4===b?(S=a,_=f,l):5===b?(S=l,_=f,g):(S=l,_=a,f),[S,_,i,v[3]])},_hslaToHSBA:function(v){var f=v[1],g=v[2],S=g<.5?(1+f)*g:g+f-g*f;return[v[0],f=2*(S-g)/S,S,v[3]]},_hslaToRGBA:function(v){var b,f=6*v[0],g=v[1],S=v[2];return 0===g?[S,S,S,v[3]]:[(b=function(_,i,a){return _<0?_+=6:6<=_&&(_-=6),_<1?i+(a-i)*_:_<3?a:_<4?i+(a-i)*(4-_):i})(2+f,g=2*S-(S=S<.5?(1+g)*S:S+g-S*g),S),b(f,g,S),b(f-2,g,S),v[3]]},_rgbaToHSBA:function(v){var b,f,g=v[0],S=v[1],_=v[2],i=Math.max(g,S,_),a=i-Math.min(g,S,_);return 0==a?f=b=0:(f=a/i,g===i?b=(S-_)/a:S===i?b=2+(_-g)/a:_===i&&(b=4+(g-S)/a),b<0?b+=6:6<=b&&(b-=6)),[b/6,f,i,v[3]]},_rgbaToHSLA:function(v){var b,f,l,g=v[0],S=v[1],_=v[2],i=Math.max(g,S,_),a=i+(l=Math.min(g,S,_));return 0==(l=i-l)?f=b=0:(f=a<1?l/a:l/(2-a),g===i?b=(S-_)/l:S===i?b=2+(_-g)/l:_===i&&(b=4+(g-S)/l),b<0?b+=6:6<=b&&(b-=6)),[b/6,f,a/2,v[3]]}},$.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},g=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=S();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.alpha=function(i){return f.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},f.default.prototype.blue=function(i){return f.default._validateParameters("blue",arguments),this.color(i)._getBlue()},f.default.prototype.brightness=function(i){return f.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},f.default.prototype.color=function(){for(var i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return f.default._validateParameters("color",l),l[0]instanceof f.default.Color?l[0]:(i=Array.isArray(l[0])?l[0]:l,new f.default.Color(this,i))},f.default.prototype.green=function(i){return f.default._validateParameters("green",arguments),this.color(i)._getGreen()},f.default.prototype.hue=function(i){return f.default._validateParameters("hue",arguments),this.color(i)._getHue()},f.default.prototype.lerpColor=function(i,a,l){f.default._validateParameters("lerpColor",arguments);var u,d,h,m=this._colorMode,p=this._colorMaxes;if(m===g.RGB)d=i.levels.map(function(y){return y/255}),h=a.levels.map(function(y){return y/255});else if(m===g.HSB)i._getBrightness(),a._getBrightness(),d=i.hsba,h=a.hsba;else{if(m!==g.HSL)throw new Error("".concat(m," cannot be used for interpolation."));i._getLightness(),a._getLightness(),d=i.hsla,h=a.hsla}return l=Math.max(Math.min(l,1),0),void 0===this.lerp&&(this.lerp=function(y,D,V){return V*(D-y)+y}),m===g.RGB?u=this.lerp(d[0],h[0],l):(.5<Math.abs(d[0]-h[0])&&(d[0]>h[0]?h[0]+=1:d[0]+=1),1<=(u=this.lerp(d[0],h[0],l))&&--u),i=this.lerp(d[1],h[1],l),a=this.lerp(d[2],h[2],l),d=this.lerp(d[3],h[3],l),this.color(u*=p[m][0],i*=p[m][1],a*=p[m][2],d*=p[m][3])},f.default.prototype.lightness=function(i){return f.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},f.default.prototype.red=function(i){return f.default._validateParameters("red",arguments),this.color(i)._getRed()},f.default.prototype.saturation=function(i){return f.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var _=f.default;$.default=_},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(u,se,$){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(y)}function b(y){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(D){return v(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":v(D)})(y)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=i(u("../core/main")),g=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==b(y)&&"function"!=typeof y)return{default:y};var D=_();if(D&&D.has(y))return D.get(y);var V,L={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(V in y){var x;Object.prototype.hasOwnProperty.call(y,V)&&((x=P?Object.getOwnPropertyDescriptor(y,V):null)&&(x.get||x.set)?Object.defineProperty(L,V,x):L[V]=y[V])}return L.default=y,D&&D.set(y,L),L}(u("../core/constants")),S=i(u("./color_conversion"));function _(){var y;return"function"!=typeof WeakMap?null:(_=function(){return y},y=new WeakMap)}function i(y){return y&&y.__esModule?y:{default:y}}function a(y,D){for(var V=0;V<D.length;V++){var L=D[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(y,L.key,L)}}var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(u=/\s*/,/(\d{1,3})/),d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(d.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i")};f.default.Color=function(){function y(P,x){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(P._colorMode,P._colorMaxes),![g.RGB,g.HSL,g.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=y._parseInputs.apply(this,x),this._calculateLevels()}var D,V,L;return D=y,L=[{key:"_parseInputs",value:function(P,x,U,A){var R,O=arguments.length,Z=this.mode,re=this.maxes[Z],q=[];if(3<=O){for(q[0]=P/re[0],q[1]=x/re[1],q[2]=U/re[2],q[3]="number"==typeof A?A/re[3]:1,R=q.length-1;0<=R;--R){var te=q[R];te<0?q[R]=0:1<te&&(q[R]=1)}return Z===g.HSL?S.default._hslaToRGBA(q):Z===g.HSB?S.default._hsbaToRGBA(q):q}if(1===O&&"string"==typeof P){if(U=P.trim().toLowerCase(),l[U])return y._parseInputs.call(this,l[U]);if(m.HEX3.test(U))return(q=m.HEX3.exec(U).slice(1).map(function(X){return parseInt(X+X,16)/255}))[3]=1,q;if(m.HEX6.test(U))return(q=m.HEX6.exec(U).slice(1).map(function(X){return parseInt(X,16)/255}))[3]=1,q;if(m.HEX4.test(U))return m.HEX4.exec(U).slice(1).map(function(X){return parseInt(X+X,16)/255});if(m.HEX8.test(U))return m.HEX8.exec(U).slice(1).map(function(X){return parseInt(X,16)/255});if(m.RGB.test(U))return(q=m.RGB.exec(U).slice(1).map(function(X){return X/255}))[3]=1,q;if(m.RGB_PERCENT.test(U))return(q=m.RGB_PERCENT.exec(U).slice(1).map(function(X){return parseFloat(X)/100}))[3]=1,q;if(m.RGBA.test(U))return m.RGBA.exec(U).slice(1).map(function(X,G){return 3===G?parseFloat(X):X/255});if(m.RGBA_PERCENT.test(U))return m.RGBA_PERCENT.exec(U).slice(1).map(function(X,G){return 3===G?parseFloat(X):parseFloat(X)/100});if(m.HSL.test(U)?(q=m.HSL.exec(U).slice(1).map(function(X,G){return 0===G?parseInt(X,10)/360:parseInt(X,10)/100}))[3]=1:m.HSLA.test(U)&&(q=m.HSLA.exec(U).slice(1).map(function(X,G){return 0===G?parseInt(X,10)/360:3===G?parseFloat(X):parseInt(X,10)/100})),(q=q.map(function(X){return Math.max(Math.min(X,1),0)})).length)return S.default._hslaToRGBA(q);if(m.HSB.test(U)?(q=m.HSB.exec(U).slice(1).map(function(X,G){return 0===G?parseInt(X,10)/360:parseInt(X,10)/100}))[3]=1:m.HSBA.test(U)&&(q=m.HSBA.exec(U).slice(1).map(function(X,G){return 0===G?parseInt(X,10)/360:3===G?parseFloat(X):parseInt(X,10)/100})),q.length){for(R=q.length-1;0<=R;--R)q[R]=Math.max(Math.min(q[R],1),0);return S.default._hsbaToRGBA(q)}q=[1,1,1,1]}else{if(1!==O&&2!==O||"number"!=typeof P)throw new Error("".concat(arguments,"is not a valid color representation."));q[0]=P/re[2],q[1]=P/re[2],q[2]=P/re[2],q[3]="number"==typeof x?x/re[3]:1,q=q.map(function(X){return Math.max(Math.min(X,1),0)})}return q}}],(V=[{key:"toString",value:function(P){var x=this.levels,U=this._array,A=U[3];switch(P){case"#rrggbb":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16));case"#rrggbbaa":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16),x[3]<16?"0".concat(x[3].toString(16)):x[3].toString(16));case"#rgb":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16),Math.round(15*U[3]).toString(16));case"rgb":return"rgb(".concat(x[0],", ",x[1],", ",x[2],")");case"rgb%":return"rgb(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%, ",(100*U[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(x[0],",",x[1],",",x[2],",",A,")")}}},{key:"setRed",value:function(P){this._array[0]=P/this.maxes[g.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(P){this._array[1]=P/this.maxes[g.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(P){this._array[2]=P/this.maxes[g.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(P){this._array[3]=P/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var P=this._array,x=this.levels=new Array(P.length),U=P.length-1;0<=U;--U)x[U]=Math.round(255*P[U]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(P,x){this.mode=P,this.maxes=x}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[g.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[g.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[g.RGB][1]}},{key:"_getHue",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[g.HSB][0]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[g.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[g.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[g.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[g.HSB][1]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[g.HSL][1])}}])&&a(D.prototype,V),L&&a(D,L),y}(),$.default=p=f.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},g=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=S();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}o("./p5.Color"),f.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},f.default.prototype.endClip=function(){this._renderer.endClip()},f.default.prototype.clip=function(i,a){this._renderer.beginClip(a),i(),this._renderer.endClip(a)},f.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},f.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},f.default.prototype.colorMode=function(i,a,l,u,d){return f.default._validateParameters("colorMode",arguments),i!==g.RGB&&i!==g.HSB&&i!==g.HSL||(this._colorMode=i,i=this._colorMaxes[i],2===arguments.length?(i[0]=a,i[1]=a,i[2]=a,i[3]=a):4===arguments.length?(i[0]=a,i[1]=l,i[2]=u):5===arguments.length&&(i[0]=a,i[1]=l,i[2]=u,i[3]=d)),this},f.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},f.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},f.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},f.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},f.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},f.default.prototype.noErase=function(){return this._renderer.noErase(),this};var _=f.default;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.QUADRATIC=$.LINEAR=$._CTX_MIDDLE=$._DEFAULT_LEADMULT=$._DEFAULT_TEXT_FILL=$.WORD=$.CHAR=$.BOLDITALIC=$.BOLD=$.ITALIC=$.NORMAL=$.BLUR=$.ERODE=$.DILATE=$.POSTERIZE=$.INVERT=$.OPAQUE=$.GRAY=$.THRESHOLD=$.BURN=$.DODGE=$.SOFT_LIGHT=$.HARD_LIGHT=$.OVERLAY=$.REPLACE=$.SCREEN=$.MULTIPLY=$.EXCLUSION=$.SUBTRACT=$.DIFFERENCE=$.LIGHTEST=$.DARKEST=$.ADD=$.REMOVE=$.BLEND=$.UP_ARROW=$.TAB=$.SHIFT=$.RIGHT_ARROW=$.RETURN=$.OPTION=$.LEFT_ARROW=$.ESCAPE=$.ENTER=$.DOWN_ARROW=$.DELETE=$.CONTROL=$.BACKSPACE=$.ALT=$.AUTO=$.HSL=$.HSB=$.RGB=$.MITER=$.BEVEL=$.ROUND=$.SQUARE=$.PROJECT=$.PIE=$.CHORD=$.OPEN=$.CLOSE=$.TESS=$.QUAD_STRIP=$.QUADS=$.TRIANGLE_STRIP=$.TRIANGLE_FAN=$.TRIANGLES=$.LINE_LOOP=$.LINE_STRIP=$.LINES=$.POINTS=$.BASELINE=$.BOTTOM=$.TOP=$.CENTER=$.LEFT=$.RIGHT=$.RADIUS=$.CORNERS=$.CORNER=$.RAD_TO_DEG=$.DEG_TO_RAD=$.RADIANS=$.DEGREES=$.TWO_PI=$.TAU=$.QUARTER_PI=$.PI=$.HALF_PI=$.WAIT=$.TEXT=$.MOVE=$.HAND=$.CROSS=$.ARROW=$.WEBGL2=$.WEBGL=$.P2D=$.VERSION=void 0,$.RGBA=$.HALF_FLOAT=$.FLOAT=$.UNSIGNED_INT=$.UNSIGNED_BYTE=$.COVER=$.CONTAIN=$.FALLBACK=$.LABEL=$.AXES=$.GRID=$._DEFAULT_FILL=$._DEFAULT_STROKE=$.PORTRAIT=$.LANDSCAPE=$.SMOOTH=$.FLAT=$.MIRROR=$.CLAMP=$.REPEAT=$.NEAREST=$.IMAGE=$.IMMEDIATE=$.TEXTURE=$.FILL=$.STROKE=$.CURVE=$.BEZIER=void 0;var v=Math.PI,b=($.VERSION="1.10.0",$.P2D="p2d",$.WEBGL="webgl",$.WEBGL2="webgl2",$.ARROW="default",$.CROSS="crosshair",$.HAND="pointer",$.MOVE="move",$.TEXT="text",$.WAIT="wait",v/2);$.HALF_PI=b,$.PI=b=v,$.QUARTER_PI=b=v/4,$.TAU=b=2*v,$.TWO_PI=b=2*v,$.DEGREES="degrees",$.RADIANS="radians",$.DEG_TO_RAD=b=v/180,$.RAD_TO_DEG=b=180/v,$.CORNER="corner",$.CORNERS="corners",$.RADIUS="radius",$.RIGHT="right",$.LEFT="left",$.CENTER="center",$.TOP="top",$.BOTTOM="bottom",$.BASELINE="alphabetic",$.POINTS=0,$.LINES=1,$.LINE_STRIP=3,$.LINE_LOOP=2,$.TRIANGLES=4,$.TRIANGLE_FAN=6,$.TRIANGLE_STRIP=5,$.QUADS="quads",$.QUAD_STRIP="quad_strip",$.TESS="tess",$.CLOSE="close",$.OPEN="open",$.CHORD="chord",$.PIE="pie",$.PROJECT="square",$.SQUARE="butt",$.ROUND="round",$.BEVEL="bevel",$.MITER="miter",$.RGB="rgb",$.HSB="hsb",$.HSL="hsl",$.AUTO="auto",$.ALT=18,$.BACKSPACE=8,$.CONTROL=17,$.DELETE=46,$.DOWN_ARROW=40,$.ENTER=13,$.ESCAPE=27,$.LEFT_ARROW=37,$.OPTION=18,$.RETURN=13,$.RIGHT_ARROW=39,$.SHIFT=16,$.TAB=9,$.UP_ARROW=38,$.BLEND="source-over",$.REMOVE="destination-out",$.ADD="lighter",$.DARKEST="darken",$.LIGHTEST="lighten",$.DIFFERENCE="difference",$.SUBTRACT="subtract",$.EXCLUSION="exclusion",$.MULTIPLY="multiply",$.SCREEN="screen",$.REPLACE="copy",$.OVERLAY="overlay",$.HARD_LIGHT="hard-light",$.SOFT_LIGHT="soft-light",$.DODGE="color-dodge",$.BURN="color-burn",$.THRESHOLD="threshold",$.GRAY="gray",$.OPAQUE="opaque",$.INVERT="invert",$.POSTERIZE="posterize",$.DILATE="dilate",$.ERODE="erode",$.BLUR="blur",$.NORMAL="normal",$.ITALIC="italic",$.BOLD="bold",$.BOLDITALIC="bold italic",$.CHAR="CHAR",$.WORD="WORD",$._DEFAULT_TEXT_FILL="#000000",$._DEFAULT_LEADMULT=1.25,$._CTX_MIDDLE="middle",$.LINEAR="linear",$.QUADRATIC="quadratic",$.BEZIER="bezier",$.CURVE="curve",$.STROKE="stroke",$.FILL="fill",$.TEXTURE="texture",$.IMMEDIATE="immediate",$.IMAGE="image",$.NEAREST="nearest",$.REPEAT="repeat",$.CLAMP="clamp",$.MIRROR="mirror",$.FLAT="flat",$.SMOOTH="smooth",$.LANDSCAPE="landscape",$.PORTRAIT="portrait",$._DEFAULT_STROKE="#000000",$._DEFAULT_FILL="#FFFFFF",$.GRID="grid",$.AXES="axes",$.LABEL="label",$.FALLBACK="fallback",$.CONTAIN="contain",$.COVER="cover",$.UNSIGNED_BYTE="unsigned-byte",$.UNSIGNED_INT="unsigned-int",$.FLOAT="float",$.HALF_FLOAT="half-float",$.RGBA="rgba"},{}],273:[function(o,se,$){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function b(d){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(g=o("./main"))&&g.__esModule?g:{default:g},g=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==b(d)&&"function"!=typeof d)return{default:d};var h=S();if(h&&h.has(d))return h.get(d);var m,p={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in d){var D;Object.prototype.hasOwnProperty.call(d,m)&&((D=y?Object.getOwnPropertyDescriptor(d,m):null)&&(D.get||D.set)?Object.defineProperty(p,m,D):p[m]=d[m])}return p.default=d,h&&h.set(d,p),p}(o("./constants"));function S(){var d;return"function"!=typeof WeakMap?null:(S=function(){return d},d=new WeakMap)}var _=[g.ARROW,g.CROSS,g.HAND,g.MOVE,g.TEXT,g.WAIT],i=(f.default.prototype._frameRate=0,f.default.prototype._lastFrameTime=window.performance.now(),f.default.prototype._targetFrameRate=60,window.print),a=!1;function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}f.default.prototype.print=function(){var d;arguments.length?(d=console).log.apply(d,arguments):a||(i(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},f.default.prototype.frameCount=0,f.default.prototype.deltaTime=0,f.default.prototype.focused=document.hasFocus(),f.default.prototype.cursor=function(d,h,m){var p,y="auto",D=this._curElement.elt;_.includes(d)?y=d:"string"==typeof d&&(p="",h&&m&&"number"==typeof h&&"number"==typeof m&&(p="".concat(h," ").concat(m)),y="http://"===d.substring(0,7)||"https://"===d.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(d)?"url(".concat(d,") ").concat(p,", auto"):d),D.style.cursor=y},f.default.prototype.frameRate=function(d){return f.default._validateParameters("frameRate",arguments),"number"!=typeof d||d<0?this._frameRate:(this._setProperty("_targetFrameRate",d),0===d&&this._setProperty("_frameRate",d),this)},f.default.prototype.getFrameRate=function(){return this.frameRate()},f.default.prototype.setFrameRate=function(d){return this.frameRate(d)},f.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},f.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},f.default.prototype.webglVersion=g.P2D,f.default.prototype.displayWidth=screen.width,f.default.prototype.displayHeight=screen.height,f.default.prototype.windowWidth=0,f.default.prototype.windowHeight=0,f.default.prototype._onresize=function(d){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",u());var h=this._isGlobal?window:this;"function"!=typeof h.windowResized||void 0===(h=h.windowResized(d))||h||d.preventDefault()},f.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",u())},f.default.prototype.width=0,f.default.prototype.height=0,f.default.prototype.fullscreen=function(d){if(f.default._validateParameters("fullscreen",arguments),void 0===d)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(d){if(d=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},f.default.prototype.pixelDensity=function(d){var h;return f.default._validateParameters("pixelDensity",arguments),"number"==typeof d?(d!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=d),(h=this).resizeCanvas(this.width,this.height,!0)):h=this._pixelDensity,h},f.default.prototype.displayDensity=function(){return window.devicePixelRatio},f.default.prototype.getURL=function(){return location.href},f.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(d){return""!==d})},f.default.prototype.getURLParams=function(){for(var d,h=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(d=h.exec(location.search));)d.index===h.lastIndex&&h.lastIndex++,m[d[1]]=d[2];return m},$.default=o=f.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(_=o("../main"))&&_.__esModule?_:{default:_};function b(i,a){a=a||console.log.bind(console),f||S(),f.some(function(l){var u;if(i.message&&null!==i.message.match("\\W?".concat(l.name,"\\W")))return u="function"===l.type?"".concat(l.name,"()"):l.name,a("Did you just try to use p5.js's ".concat(u," ").concat(l.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(g)),!0})}o("../internationalization");var f=null,S=null,g=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},f=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),_=(S=function(){function i(l){return Object.getOwnPropertyNames(l).filter(function(u){return"_"!==u[0]&&!(u in a)&&(a[u]=!0)}).map(function(u){var d="function"==typeof l[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:d}})}var a={};(f=[].concat(i(v.default.prototype),i(o("../constants")))).sort(function(l,u){return u.name.length-l.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=b,"complete"!==document.readyState&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),v.default);$.default=_},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},$.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,se,$){"use strict";function v(j){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(j)}function b(j){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(ne){return v(ne)}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":v(ne)})(j)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=function X(j){return j&&j.__esModule?j:{default:j}}(o("../main"));function q(){var j;return"function"!=typeof WeakMap?null:(q=function(){return j},j=new WeakMap)}o("../internationalization"),function te(j){if(j&&j.__esModule)return j;if(null===j||"object"!==b(j)&&"function"!=typeof j)return{default:j};var ne=q();if(ne&&ne.has(j))return ne.get(j);var me,De,$e={},qe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(me in j)Object.prototype.hasOwnProperty.call(j,me)&&((De=qe?Object.getOwnPropertyDescriptor(j,me):null)&&(De.get||De.set)?Object.defineProperty($e,me,De):$e[me]=j[me]);return $e.default=j,ne&&ne.set(j,$e),$e}(o("../constants")),f.default._fesCodeReader=function(){},$.default=f.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,se,$){"use strict";function v(){var b=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,g=/^(eval@)?(\[native code])?$/;return{parse:function(S){return void 0!==S.stacktrace||void 0!==S["opera#sourceloc"]?this.parseOpera(S):S.stack&&S.stack.match(f)?this.parseV8OrIE(S):S.stack?this.parseFFOrSafari(S):void 0},extractLocation:function(S){return-1===S.indexOf(":")?[S]:[(S=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S.replace(/[()]/g,"")))[1],S[2]||void 0,S[3]||void 0]},parseV8OrIE:function(S){return S.stack.split("\n").filter(function(_){return!!_.match(f)},this).map(function(_){var a=(i=(_=-1<_.indexOf("(eval ")?_.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):_).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=a?i.replace(a[0],""):i).split(/\s+/).slice(1);return a=this.extractLocation(a?a[1]:i.pop()),{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:_}},this)},parseFFOrSafari:function(S){return S.stack.split("\n").filter(function(_){return!_.match(g)},this).map(function(_){var i,a;return-1===(_=-1<_.indexOf(" > eval")?_.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):_).indexOf("@")&&-1===_.indexOf(":")?{functionName:_}:{functionName:(a=_.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(_.replace(i,"")))[0],lineNumber:a[1],columnNumber:a[2],source:_}},this)},parseOpera:function(S){return!S.stacktrace||-1<S.message.indexOf("\n")&&S.message.split("\n").length>S.stacktrace.split("\n").length?this.parseOpera9(S):S.stack?this.parseOpera11(S):this.parseOpera10(S)},parseOpera9:function(S){for(var _=/Line (\d+).*script (?:in )?(\S+)/i,i=S.message.split("\n"),a=[],l=2,u=i.length;l<u;l+=2){var d=_.exec(i[l]);d&&a.push({fileName:d[2],lineNumber:d[1],source:i[l]})}return a},parseOpera10:function(S){for(var _=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=S.stacktrace.split("\n"),a=[],l=0,u=i.length;l<u;l+=2){var d=_.exec(i[l]);d&&a.push({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:i[l]})}return a},parseOpera11:function(S){return S.stack.split("\n").filter(function(_){return!!_.match(b)&&!_.match(/^Error created at/)},this).map(function(_){var i,l=_.split("@"),a=this.extractLocation(l.pop());return{functionName:(l=l.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(i=l.match(/\(([^)]*)\)/)?l.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)||"[arguments not available]"===i?void 0:i.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:_}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},$.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,se,$){"use strict";function v(S){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(b=o("../main"))&&b.__esModule?b:{default:b};function f(){var S;return"function"!=typeof WeakMap?null:(f=function(){return S},S=new WeakMap)}function g(S){return(g="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(S)}(function(S){if(!(S&&S.__esModule||null===S||"object"!==g(S)&&"function"!=typeof S)){var _=f();if(_&&_.has(S))return _.get(S);var i,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in S){var u;Object.prototype.hasOwnProperty.call(S,i)&&((u=l?Object.getOwnPropertyDescriptor(S,i):null)&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=S[i])}a.default=S,_&&_.set(S,a)}})(o("../constants")),o("../internationalization"),b.default._validateParameters=b.default._clearValidateParamsCache=function(){},$.default=o=b.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,se,$){"use strict";function v(S){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}function b(S){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(S)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=function(S){if(S&&S.__esModule)return S;if(null===S||"object"!==b(S)&&"function"!=typeof S)return{default:S};var _=g();if(_&&_.has(S))return _.get(S);var i,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in S){var u;Object.prototype.hasOwnProperty.call(S,i)&&((u=l?Object.getOwnPropertyDescriptor(S,i):null)&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=S[i])}return a.default=S,_&&_.set(S,a),a}(o("./constants"));function g(){var S;return"function"!=typeof WeakMap?null:(g=function(){return S},S=new WeakMap)}$.default={modeAdjust:function(S,_,i,a,l){return l===f.CORNER?{x:S,y:_,w:i,h:a}:l===f.CORNERS?{x:S,y:_,w:i-S,h:a-_}:l===f.RADIUS?{x:S-i,y:_-a,w:2*i,h:2*a}:l===f.CENTER?{x:S-.5*i,y:_-.5*a,w:i,h:a}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,se,$){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(b=o("../core/main"))&&b.__esModule?b:{default:b};o("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(f,g){"complete"===document.readyState?f():window.addEventListener("load",f,!1)}),b]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,se,$){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.setTranslatorLanguage=$.currentTranslatorLanguage=$.availableTranslatorLanguages=$.initialize=$.translator=void 0;var v,f=S(o("i18next")),g=S(o("i18next-browser-languagedetector"));function S(a){return a&&a.__esModule?a:{default:a}}function _(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var i=function(){function a(h,m){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(h,m)}var l,u;return l=a,(u=[{key:"fetchWithTimeout",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(h,m),new Promise(function(y,D){return setTimeout(function(){return D(new Error("timeout"))},p)})])}},{key:"init",value:function(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=h,this.options=m}},{key:"read",value:function(h,m,p){var y=this.options.loadPath;h===this.options.fallback?p(null,v[h][m]):undefined.includes(h)?(y=this.services.interpolator.interpolate(y,{lng:h,ns:m}),this.loadUrl(y,p)):p("Not found",!1)}},{key:"loadUrl",value:function(h,m){this.fetchWithTimeout(h).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(h))},function(){throw new Error("failed loading ".concat(h))}).then(function(p){return m(null,p)}).catch(m)}}])&&_(l.prototype,u),a}();i.type="backend",$.translator=function(a,l){console.debug("p5.js translator called before translations were loaded"),f.default.t(a,l)},$.initialize=function(){return f.default.use(g.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(a){$.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},$.availableTranslatorLanguages=function(){return f.default.languages},$.currentTranslatorLanguage=function(a){return f.default.language},$.setTranslatorLanguage=function(a){return f.default.changeLanguage(a||void 0,function(l){return console.debug("Translations failed to load (".concat(l,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},$.default=o=o.default},{"./main":283}],283:[function(o,se,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("./shim");var f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var l=g();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var m;Object.prototype.hasOwnProperty.call(a,u)&&((m=h?Object.getOwnPropertyDescriptor(a,u):null)&&(m.get||m.set)?Object.defineProperty(d,u,m):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("./constants"));function g(){var a;return"function"!=typeof WeakMap?null:(g=function(){return a},a=new WeakMap)}function S(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var _,i=function(){function a(h,y){var p=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},y=Object.getOwnPropertyNames(a.prototype._registeredMethods);var D=!0,V=!1,L=void 0;try{for(var P,x=y[Symbol.iterator]();!(D=(P=x.next()).done);D=!0){var U=P.value;this._registeredMethods[U]=a.prototype._registeredMethods[U].slice()}}catch(G){V=!0,L=G}finally{try{D||null==x.return||x.return()}finally{if(V)throw L}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(G){var Y=this||a.prototype,le=this._isGlobal?window:this;if(Y._registeredMethods.hasOwnProperty(G)){Y=Y._registeredMethods[G];var Ie=!0,J=void(G=!1);try{for(var j,ne=Y[Symbol.iterator]();!(Ie=(j=ne.next()).done);Ie=!0){var me=j.value;"function"==typeof me&&me.call(le)}}catch(qe){G=!0,J=qe}finally{try{Ie||null==ne.return||ne.return()}finally{if(G)throw J}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var G=p._isGlobal?window:p;if(G.preload){p.callRegisteredHooksFor("beforePreload");var Y,le=document.getElementById(p._loadingScreenId),Ie=(le||((le=document.createElement("div")).innerHTML="Loading...",le.style.position="absolute",le.id=p._loadingScreenId,(p._userNode||document.body).appendChild(le)),p._preloadMethods);for(Y in Ie){Ie[Y]=Ie[Y]||a;var J=Ie[Y];J!==a.prototype&&J!==a||(p._isGlobal&&(window[Y]=p._wrapPreload(p,Y)),J=p),p._registeredPreloadMethods[Y]=J[Y],J[Y]=p._wrapPreload(J,Y)}G.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var G,Y=this._isGlobal?window:this;0===Y._preloadCount&&((G=document.getElementById(Y._loadingScreenId))&&G.parentNode.removeChild(G),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||"function"!=typeof G.preload||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,Y){var le=this;return function(){le._incrementPreload();for(var Ie=arguments.length,J=new Array(Ie),j=0;j<Ie;j++)J[j]=arguments[j];return le._registeredPreloadMethods[Y].apply(G,J)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var G=p._isGlobal?window:p;if("function"==typeof G.preload)for(var Y in p._preloadMethods)G[Y]=p._preloadMethods[Y][Y],G[Y]&&p&&(G[Y]=G[Y].bind(p));p._millisStart=window.performance.now(),G._preloadDone=!0,"function"==typeof G.setup&&G.setup();var le=document.getElementsByTagName("canvas"),Ie=!0,J=!1,j=void 0;try{for(var ne,me=le[Symbol.iterator]();!(Ie=(ne=me.next()).done);Ie=!0){var De=ne.value;"true"===De.dataset.hidden&&(De.style.visibility="",delete De.dataset.hidden)}}catch($e){J=!0,j=$e}finally{try{Ie||null==me.return||me.return()}finally{if(J)throw j}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(Y){Y=Y||window.performance.now();var Ie=1e3/p._targetFrameRate;(!p._loop||Ie-5<=Y-p._lastTargetFrameTime)&&(p.deltaTime=Y-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+Ie,Y),p._lastRealFrameTime=Y,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(G,Y){p[G]=Y,p._isGlobal&&(window[G]=Y)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(G=document.getElementById(p._loadingScreenId))&&(G.parentNode.removeChild(G),p._incrementPreload()),p._curElement){for(var Y in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(Y,p._events[Y]);var le=!0,G=!1,Ie=void 0;try{for(var J,j=p._elements[Symbol.iterator]();!(le=(J=j.next()).done);le=!0){var ne,me=J.value;for(ne in me.elt&&me.elt.parentNode&&me.elt.parentNode.removeChild(me.elt),me._events)me.elt.removeEventListener(ne,me._events[ne])}}catch(He){G=!0,Ie=He}finally{try{le||null==j.return||j.return()}finally{if(G)throw Ie}}var De=p;p._registeredMethods.remove.forEach(function(He){void 0!==He&&He.call(De)})}if(p._isGlobal){for(var $e in a.prototype)try{delete window[$e]}catch{window[$e]=void 0}for(var qe in p)if(p.hasOwnProperty(qe))try{delete window[qe]}catch{window[qe]=void 0}a.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(G){void 0!==G&&G.call(this)},this),this._setupPromisePreloads();var A,R,O=this._createFriendlyGlobalFunctionBinder();if(h)h(this),a._checkForUserDefinedFunctions(this);else{for(var Z in this._isGlobal=!0,a.instance=this,a.prototype)"function"==typeof a.prototype[Z]?(A=Z.substring(2),this._events.hasOwnProperty(A)||(Math.hasOwnProperty(Z)&&Math[Z]===a.prototype[Z]?O(Z,a.prototype[Z]):O(Z,a.prototype[Z].bind(this)))):O(Z,a.prototype[Z]);for(var re in this)this.hasOwnProperty(re)&&O(re,this[re])}for(R in this._events){var q=this["_on".concat(R)];q&&(q=q.bind(this),window.addEventListener(R,q,{passive:!1}),this._events[R]=q)}function te(){p._setProperty("focused",!0)}function X(){p._setProperty("focused",!1)}window.addEventListener("focus",te),window.addEventListener("blur",X),this.registerMethod("remove",function(){window.removeEventListener("focus",te),window.removeEventListener("blur",X)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var l,u;return l=a,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=f.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(h,m){a.prototype._preloadMethods.hasOwnProperty(h)||(a.prototype._preloadMethods[h]=m)}},{key:"registerMethod",value:function(h,m){var p=this||a.prototype;p._registeredMethods.hasOwnProperty(h)||(p._registeredMethods[h]=[]),p._registeredMethods[h].push(m)}},{key:"unregisterMethod",value:function(h,m){var p=this||a.prototype;if(p._registeredMethods.hasOwnProperty(h)){for(var y=p._registeredMethods[h],D=[],V=0;V<y.length;V++)y[V]===m&&D.push(V);for(var L=D.length-1;0<=L;L--)y.splice(D[L],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=h.globalObject||window;return h.log||console.log.bind(console),function(p,y){m[p]=y}}}])&&S(l.prototype,u),a}();for(_ in i.instance=null,i.disableFriendlyErrors=!1,f)i.prototype[_]=f[_];i.VERSION=f.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},$.default=i},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(f,g){for(var S=0;S<g.length;S++){var _=g[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Element=function(){function f(i,a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var g,S,_;return g=f,_=[{key:"_adjustListener",value:function(i,a,l){return!1===a?v.default.Element._detachListener(i,l):v.default.Element._attachListener(i,a,l),this}},{key:"_attachListener",value:function(i,a,l){l._events[i]&&v.default.Element._detachListener(i,l),a=a.bind(l),l.elt.addEventListener(i,a,!1),l._events[i]=a}},{key:"_detachListener",value:function(i,a){a.elt.removeEventListener(i,a._events[i],!1),a._events[i]=null}}],(S=[{key:"parent",value:function(i){return void 0===i?this.elt.parentNode:("string"==typeof i?("#"===i[0]&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof v.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return void 0===i?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return void 0===i?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return v.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),i.call(this,a)},this),this}},{key:"doubleClicked",value:function(i){return v.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return v.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return v.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return v.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return v.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return v.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return v.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return v.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return v.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return v.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return v.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return v.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,a){this[i]=a}}])&&b(g.prototype,S),_&&b(g,_),f}(),$.default=o=v.default.Element},{"./main":283}],285:[function(o,se,$){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(h=o("./main"))&&h.__esModule?h:{default:h},g=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var p=S();if(p&&p.has(m))return p.get(m);var y,D={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in m){var L;Object.prototype.hasOwnProperty.call(m,y)&&((L=V?Object.getOwnPropertyDescriptor(m,y):null)&&(L.get||L.set)?Object.defineProperty(D,y,L):D[y]=m[y])}return D.default=m,p&&p.set(m,D),D}(o("./constants"));function S(){var m;return"function"!=typeof WeakMap?null:(S=function(){return m},m=new WeakMap)}function _(m,p){for(var y=0;y<p.length;y++){var D=p[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(m,D.key,D)}}function i(m,p){return(i=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y})(m,p)}function l(m,p){return!p||"object"!==b(p)&&"function"!=typeof p?u(m):p}function u(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function d(m){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}f.default.Graphics=function(m){var p=V;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&i(p,m);var D=function a(m){return function(){var p,y=d(m);return l(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=d(this).constructor,Reflect.construct(y,arguments,p)):y.apply(this,arguments))}}(V);function V(L,P,re,U,A){var R;if(!(this instanceof V))throw new TypeError("Cannot call a class as a function");Z=A||document.createElement("canvas"),(R=D.call(this,Z,U)).canvas=Z;var O,Z=re||g.P2D;for(O in re=U._userNode||document.body,A||re.appendChild(R.canvas),f.default.prototype)R[O]||(R[O]="function"==typeof f.default.prototype[O]?f.default.prototype[O].bind(u(R)):f.default.prototype[O]);return f.default.prototype._initializeInstanceVariables.apply(u(R)),R.width=L,R.height=P,R._pixelDensity=U._pixelDensity,Z===g.WEBGL?(R._renderer=new f.default.RendererGL(R.canvas,u(R),!1),L=(A=R._renderer._adjustDimensions(L,P)).adjustedWidth,P=A.adjustedHeight):R._renderer=new f.default.Renderer2D(R.canvas,u(R),!1),U._elements.push(u(R)),Object.defineProperty(u(R),"deltaTime",{get:function(){return this._pInst.deltaTime}}),R._renderer.resize(L,P),R._renderer._applyDefaults(),l(R,u(R))}return p=V,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var L,P=this._pInst._elements.indexOf(this);for(L in-1!==P&&this._pInst._elements.splice(P,1),this._events)this.elt.removeEventListener(L,this._events[L]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(L){return new f.default.Framebuffer(this,L)}}])&&_(p.prototype,m),V}(f.default.Element);var h=f.default.Graphics;$.default=h},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,se,$){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(d=o("./main"))&&d.__esModule?d:{default:d},f=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==S(m)&&"function"!=typeof m)return{default:m};var p=g();if(p&&p.has(m))return p.get(m);var y,D={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in m){var L;Object.prototype.hasOwnProperty.call(m,y)&&((L=V?Object.getOwnPropertyDescriptor(m,y):null)&&(L.get||L.set)?Object.defineProperty(D,y,L):D[y]=m[y])}return D.default=m,p&&p.set(m,D),D}(o("../core/constants"));function g(){var m;return"function"!=typeof WeakMap?null:(g=function(){return m},m=new WeakMap)}function S(m){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}function _(m,p){for(var y=0;y<p.length;y++){var D=p[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(m,D.key,D)}}function i(m,p){return(i=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y})(m,p)}function l(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}var d=function(m){var p=V;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&i(p,m);var D=function a(m){return function(){var p,y,D=u(m);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(D,arguments,p)):D.apply(this,arguments),D=this,!(y=p)||"object"!==S(y)&&"function"!=typeof y?l(D):y}}(V);function V(L,P,x){var U;if(this instanceof V)return(U=D.call(this,L,P)).canvas=L,U._pixelsState=P,x?(U._isMainCanvas=!0,U._pInst._setProperty("_curElement",l(U)),U._pInst._setProperty("canvas",U.canvas),U._pInst._setProperty("width",U.width),U._pInst._setProperty("height",U.height)):(U.canvas.style.display="none",U._styles=[]),U._clipping=!1,U._clipInvert=!1,U._textSize=12,U._textLeading=15,U._textFont="sans-serif",U._textStyle=f.NORMAL,U._textAscent=null,U._textDescent=null,U._textAlign=f.LEFT,U._textBaseline=f.BASELINE,U._textWrap=f.WORD,U._rectMode=f.CORNER,U._ellipseMode=f.CENTER,U._curveTightness=0,U._imageMode=f.CORNER,U._tint=null,U._doStroke=!0,U._doFill=!0,U._strokeSet=!1,U._fillSet=!1,U._leadingSet=!1,U._pushPopDepth=0,U;throw new TypeError("Cannot call a class as a function")}return p=V,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(L){this._pushPopDepth--,L.properties&&Object.assign(this,L.properties)}},{key:"beginClip",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=L.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(L,P){this.width=L,this.height=P,this.elt.width=L*this._pInst._pixelDensity,this.elt.height=P*this._pInst._pixelDensity,this.elt.style.width="".concat(L,"px"),this.elt.style.height="".concat(P,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(L,P,x,U){var A=this._pixelsState,R=A._pixelDensity,O=this.canvas;if(void 0===L&&void 0===P)L=P=0,x=A.width,U=A.height;else if(L*=R,P*=R,void 0===x&&void 0===U)return L<0||P<0||L>=O.width||P>=O.height?[0,0,0,0]:this._getPixel(L,P);return(A=new b.default.Image(x*R,U*R)).pixelDensity(R),A.canvas.getContext("2d").drawImage(O,L,P,x*R,U*R,0,0,x*R,U*R),A}},{key:"textLeading",value:function(L){return"number"==typeof L?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",L),this._pInst):this._textLeading}},{key:"textStyle",value:function(L){return L?(L!==f.NORMAL&&L!==f.ITALIC&&L!==f.BOLD&&L!==f.BOLDITALIC||this._setProperty("_textStyle",L),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(L,P){return void 0!==L?(this._setProperty("_textAlign",L),void 0!==P&&this._setProperty("_textBaseline",P),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(L){return this._setProperty("_textWrap",L),this._textWrap}},{key:"text",value:function(L,P,x,U,A){var R,O,Z,re,q=this._pInst,te=this._textWrap,X=Number.MAX_VALUE,G=x;if((this._doFill||this._doStroke)&&void 0!==L){if(R=(L=(L="string"!=typeof L?L.toString():L).replace(/(\t)/g,"  ")).split("\n"),void 0!==U){switch(this._rectMode===f.CENTER&&(P-=U/2),this._textAlign){case f.CENTER:P+=U/2;break;case f.RIGHT:P+=U}if(void 0!==A){this._rectMode===f.CENTER&&(x-=A/2,G-=A/2),L=x;var Y=q.textAscent();switch(this._textBaseline){case f.BOTTOM:re=x+A,x=Math.max(re,x),G+=Y;break;case f.CENTER:re=x+A/2,x=Math.max(re,x),G+=Y/2}X=x+A-Y,this._textBaseline===f.CENTER&&(X=L+A-Y/2)}else this._textBaseline!==f.BOTTOM&&this._textBaseline!==f.CENTER||(G=x-(L=q.textSize()*this._textLeading)/2,X=x+L/2);if(te===f.WORD){for(var le=[],Ie=0;Ie<R.length;Ie++){for(var J="",j=R[Ie].split(" "),ne=0;ne<j.length;ne++)O="".concat(J+j[ne])+" ",J=U<(Z=this.textWidth(O))&&0<J.length?(le.push(J),"".concat(j[ne])+" "):O;le.push(J)}var me=0;this._textBaseline===f.CENTER?me=(le.length-1)*q.textLeading()/2:this._textBaseline===f.BOTTOM&&(me=(le.length-1)*q.textLeading());for(var De=0;De<R.length;De++){J="",j=R[De].split(" ");for(var $e=0;$e<j.length;$e++)O="".concat(J+j[$e])+" ",U<(Z=this.textWidth(O))&&0<J.length?(this._renderText(q,J.trim(),P,x-me,X,G),J="".concat(j[$e])+" ",x+=q.textLeading()):J=O;this._renderText(q,J.trim(),P,x-me,X,G),x+=q.textLeading()}}else{for(var qe=[],ut=0;ut<R.length;ut++)for(var He=R[ut].split(J=""),ot=0;ot<He.length;ot++)O="".concat(J+He[ot]),(Z=this.textWidth(O))<=U?J+=He[ot]:U<Z&&0<J.length&&(qe.push(J),J="".concat(He[ot]));qe.push(J);var at=0;this._textBaseline===f.CENTER?at=(qe.length-1)*q.textLeading()/2:this._textBaseline===f.BOTTOM&&(at=(qe.length-1)*q.textLeading());for(var Ue=0;Ue<R.length;Ue++){He=R[Ue].split(J="");for(var nt=0;nt<He.length;nt++)O="".concat(J+He[nt]),(Z=this.textWidth(O))<=U?J+=He[nt]:U<Z&&0<J.length&&(this._renderText(q,J.trim(),P,x-at,X,G),x+=q.textLeading(),J="".concat(He[nt]))}this._renderText(q,J.trim(),P,x-at,X,G),x+=q.textLeading()}}else{var Ye=0;this._textBaseline===f.CENTER?Ye=(R.length-1)*q.textLeading()/2:this._textBaseline===f.BOTTOM&&(Ye=(R.length-1)*q.textLeading());for(var st=0;st<R.length;st++)this._renderText(q,R[st],P,x-Ye,X,G-Ye),x+=q.textLeading()}return q}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===S(L)&&L.font&&L.font.supported}},{key:"_updateTextMetrics",value:function(){var L,P,x,U,A,R;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((L=document.createElement("span")).style.fontFamily=this._textFont,L.style.fontSize="".concat(this._textSize,"px"),L.innerHTML="ABCjgq|",(R=document.createElement("div")).style.display="inline-block",R.style.width="1px",R.style.height="0px",(P=document.createElement("div")).appendChild(L),P.appendChild(R),P.style.height="0px",P.style.overflow="hidden",document.body.appendChild(P),R.style.verticalAlign="baseline",U=h(R),A=h(L),x=U[1]-A[1],R.style.verticalAlign="bottom",U=h(R),A=h(L),R=U[1]-A[1]-x,document.body.removeChild(P),this._setProperty("_textAscent",x),this._setProperty("_textDescent",R)),this}}])&&_(p.prototype,m),V}(b.default.Element);function h(m){var p=0,y=0;if(m.offsetParent)for(;p+=m.offsetLeft,y+=m.offsetTop,m=m.offsetParent;);else p+=m.offsetLeft,y+=m.offsetTop;return[p,y]}d.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*f._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=d,$.default=o=b.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(m,se,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(h=m("./main"))&&h.__esModule?h:{default:h},g=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var y=S();if(y&&y.has(p))return y.get(p);var D,V={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in p){var P;Object.prototype.hasOwnProperty.call(p,D)&&((P=L?Object.getOwnPropertyDescriptor(p,D):null)&&(P.get||P.set)?Object.defineProperty(V,D,P):V[D]=p[D])}return V.default=p,y&&y.set(p,V),V}(m("./constants"));function S(){var p;return"function"!=typeof WeakMap?null:(S=function(){return p},p=new WeakMap)}function _(p,y){for(var D=0;D<y.length;D++){var V=y[D];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(p,V.key,V)}}function i(p,y,D){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(x,L,P){if(x=function(U,A){for(;!Object.prototype.hasOwnProperty.call(U,A)&&null!==(U=u(U)););return U}(x,L))return(x=Object.getOwnPropertyDescriptor(x,L)).get?x.get.call(P):x.value})(p,y,D||p)}function a(p,y){return(a=Object.setPrototypeOf||function(D,V){return D.__proto__=V,D})(p,y)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}m("./p5.Renderer");var d="rgba(0,0,0,0)",h=function(p){var y=L;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&a(y,p);var V=function l(p){return function(){var y,D=u(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=u(this).constructor,Reflect.construct(D,arguments,y)):D.apply(this,arguments),D=this,!y||"object"!==b(y)&&"function"!=typeof y){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(L);function L(P,x,U){if(this instanceof L)return(P=V.call(this,P,x,U)).drawingContext=P.canvas.getContext("2d"),P._pInst._setProperty("drawingContext",P.drawingContext),P;throw new TypeError("Cannot call a class as a function")}return y=L,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new f.default.Graphics(this.width,this.height,g.WEBGL,(this._pInst instanceof f.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=g.BLEND,this._setFill(g._DEFAULT_FILL),this._setStroke(g._DEFAULT_STROKE),this.drawingContext.lineCap=g.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(P,x){i(u(L.prototype),"resize",this).call(this,P,x),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var P,x;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof f.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(P=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(P,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(P=this._getFill(),x=(x=this._pInst).color.apply(x,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(x.levels),x=x.toString(),this._setFill(x),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(P),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setFill(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",P.levels)}},{key:"stroke",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setStroke(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",P.levels)}},{key:"erase",value:function(P,x){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,P).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,x).toString(),this.drawingContext.strokeStyle=P,x=this._cachedBlendMode,this.blendMode(g.REMOVE),this._cachedBlendMode=x,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(u(L.prototype),"beginClip",this).call(this,P),this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=P,P=this._cachedBlendMode,this.blendMode(g.BLEND),this._cachedBlendMode=P,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),i(u(L.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(P,x,U,A,R,O,Z,re,q){P.gifProperties&&P._animateGif(this._pInst);try{f.default.MediaElement&&P instanceof f.default.MediaElement&&P._ensureCanvas();var te=(te=this._tint&&P.canvas?this._getTintedImageCanvas(P):te)||P.canvas||P.elt,X=1;P.width&&0<P.width&&(X=te.width/P.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(te,X*x,X*U,X*A,X*R,O,Z,re,q),this._isErasing&&this._pInst.erase()}catch(G){if("NS_ERROR_NOT_AVAILABLE"!==G.name)throw G}}},{key:"_getTintedImageCanvas",value:function(P){if(!P.canvas)return P;P.tintCanvas||(P.tintCanvas=document.createElement("canvas")),P.tintCanvas.width!==P.canvas.width&&(P.tintCanvas.width=P.canvas.width),P.tintCanvas.height!==P.canvas.height&&(P.tintCanvas.height=P.canvas.height);var x=P.tintCanvas.getContext("2d");return x.save(),x.clearRect(0,0,P.canvas.width,P.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(x.drawImage(P.canvas,0,0),x.globalCompositeOperation="luminosity",x.drawImage(P.canvas,0,0),x.globalCompositeOperation="color",x.drawImage(P.canvas,0,0),x.globalCompositeOperation="multiply",x.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),x.fillRect(0,0,P.canvas.width,P.canvas.height),x.globalCompositeOperation="destination-in"),x.globalAlpha=this._tint[3]/255,x.drawImage(P.canvas,0,0),x.restore(),P.tintCanvas}},{key:"blendMode",value:function(P){if(P===g.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(P!==g.BLEND&&P!==g.REMOVE&&P!==g.DARKEST&&P!==g.LIGHTEST&&P!==g.DIFFERENCE&&P!==g.MULTIPLY&&P!==g.EXCLUSION&&P!==g.SCREEN&&P!==g.REPLACE&&P!==g.OVERLAY&&P!==g.HARD_LIGHT&&P!==g.SOFT_LIGHT&&P!==g.DODGE&&P!==g.BURN&&P!==g.ADD)throw new Error("Mode ".concat(P," not recognized."));this._cachedBlendMode=P,this.drawingContext.globalCompositeOperation=P}}},{key:"blend",value:function(){for(var P=this.drawingContext.globalCompositeOperation,x=arguments.length,U=new Array(x),A=0;A<x;A++)U[A]=arguments[A];var R=U[U.length-1],O=Array.prototype.slice.call(U,0,U.length-1);this.drawingContext.globalCompositeOperation=R,f.default.prototype.copy.apply(this,O),this.drawingContext.globalCompositeOperation=P}},{key:"_getPixel",value:function(P,x){return[(P=this.drawingContext.getImageData(P,x,1,1).data)[0],P[1],P[2],P[3]]}},{key:"loadPixels",value:function(){var x,P=this._pixelsState,U=this.drawingContext.getImageData(0,0,U=this.width*(x=P._pixelDensity),x*=this.height);P._setProperty("imageData",U),P._setProperty("pixels",U.data)}},{key:"set",value:function(P,x,U){P=Math.floor(P),x=Math.floor(x);var A=this._pixelsState;if(U instanceof f.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(A._pixelDensity,A._pixelDensity),this.drawingContext.clearRect(P,x,U.width,U.height),this.drawingContext.drawImage(U.canvas,P,x),this.drawingContext.restore();else{var R=0,O=0,Z=0,re=0,q=4*(x*A._pixelDensity*(this.width*A._pixelDensity)+P*A._pixelDensity);if(A.imageData||A.loadPixels(),"number"==typeof U)q<A.pixels.length&&(Z=O=R=U,re=255);else if(Array.isArray(U)){if(U.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");q<A.pixels.length&&(R=U[0],O=U[1],Z=U[2],re=U[3])}else U instanceof f.default.Color&&q<A.pixels.length&&(R=U.levels[0],O=U.levels[1],Z=U.levels[2],re=U.levels[3]);for(var te=0;te<A._pixelDensity;te++)for(var X=0;X<A._pixelDensity;X++)A.pixels[q=4*((x*A._pixelDensity+X)*this.width*A._pixelDensity+(P*A._pixelDensity+te))]=R,A.pixels[q+1]=O,A.pixels[q+2]=Z,A.pixels[q+3]=re}}},{key:"updatePixels",value:function(P,x,U,A){var R=this._pixelsState,O=R._pixelDensity;void 0===P&&void 0===x&&void 0===U&&void 0===A&&(x=P=0,U=this.width,A=this.height),P*=O,x*=O,U*=O,A*=O,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=R.imageData),this.drawingContext.putImageData(R.imageData,P,x,0,0,U,A)}},{key:"_acuteArcToBezier",value:function(P,x){var O=x/2,U=Math.cos(O),re=Math.sin(O),A=1/Math.tan(O),R=(O=P+O,Math.cos(O)),Z=(O=Math.sin(O),(4-U)/3);return re+=(U-Z)*A,{ax:Math.cos(P).toFixed(7),ay:Math.sin(P).toFixed(7),bx:(Z*R+re*O).toFixed(7),by:(Z*O-re*R).toFixed(7),cx:(Z*R-re*O).toFixed(7),cy:(Z*O+re*R).toFixed(7),dx:Math.cos(P+x).toFixed(7),dy:Math.sin(P+x).toFixed(7)}}},{key:"arc",value:function(P,x,U,A,R,O,Z){var re,q=this.drawingContext,te=U/2,X=A/2,G=[];for(P+=te,x+=X;1e-5<=O-R;)re=Math.min(O-R,g.HALF_PI),G.push(this._acuteArcToBezier(R,re)),R+=re;return this._doFill&&(this._clipping||q.beginPath(),G.forEach(function(Y,le){0===le&&q.moveTo(P+Y.ax*te,x+Y.ay*X),q.bezierCurveTo(P+Y.bx*te,x+Y.by*X,P+Y.cx*te,x+Y.cy*X,P+Y.dx*te,x+Y.dy*X)}),Z!==g.PIE&&null!=Z||q.lineTo(P,x),q.closePath(),this._clipping||q.fill()),this._doStroke&&(this._clipping||q.beginPath(),G.forEach(function(Y,le){0===le&&q.moveTo(P+Y.ax*te,x+Y.ay*X),q.bezierCurveTo(P+Y.bx*te,x+Y.by*X,P+Y.cx*te,x+Y.cy*X,P+Y.dx*te,x+Y.dy*X)}),Z===g.PIE?(q.lineTo(P,x),q.closePath()):Z===g.CHORD&&q.closePath(),this._clipping||q.stroke()),this}},{key:"ellipse",value:function(re){var x=this.drawingContext,U=this._doFill,A=this._doStroke,R=parseFloat(re[0]),O=parseFloat(re[1]),Z=parseFloat(re[2]);if(re=parseFloat(re[3]),U&&!A){if(this._getFill()===d)return this}else if(!U&&A&&this._getStroke()===d)return this;R+=Z/2,O+=re/2,Z/=2,re/=2,this._clipping||x.beginPath(),x.ellipse(R,O,Z,re,0,0,2*Math.PI),!this._clipping&&U&&x.fill(),!this._clipping&&A&&x.stroke()}},{key:"line",value:function(P,x,U,A){var R=this.drawingContext;return this._doStroke&&this._getStroke()!==d&&(this._clipping||R.beginPath(),R.moveTo(P,x),R.lineTo(U,A),R.stroke()),this}},{key:"point",value:function(P,x){var U,A,R=this.drawingContext;return this._doStroke&&this._getStroke()!==d?(U=this._getStroke(),A=this._getFill(),this._clipping||this._setFill(U),this._clipping||R.beginPath(),R.arc(P,x,R.lineWidth/2,0,g.TWO_PI,!1),void(this._clipping||(R.fill(),this._setFill(A)))):this}},{key:"quad",value:function(P,x,U,A,R,O,Z,re){var q=this.drawingContext,te=this._doFill,X=this._doStroke;if(te&&!X){if(this._getFill()===d)return this}else if(!te&&X&&this._getStroke()===d)return this;return this._clipping||q.beginPath(),q.moveTo(P,x),q.lineTo(U,A),q.lineTo(R,O),q.lineTo(Z,re),q.closePath(),!this._clipping&&te&&q.fill(),!this._clipping&&X&&q.stroke(),this}},{key:"rect",value:function(X){var x,U,A=X[0],R=X[1],O=X[2],Z=X[3],re=X[4],q=X[5],te=X[6],G=(X=X[7],this.drawingContext),Y=this._doFill,le=this._doStroke;if(Y&&!le){if(this._getFill()===d)return this}else if(!Y&&le&&this._getStroke()===d)return this;return this._clipping||G.beginPath(),void 0===re?G.rect(A,R,O,Z):(void 0===q&&(q=re),void 0===te&&(te=q),void 0===X&&(X=te),le=(Y=Math.abs(O))/2,U=(x=Math.abs(Z))/2,x<2*(re=Y<2*re?le:re)&&(re=U),x<2*(q=Y<2*q?le:q)&&(q=U),x<2*(te=Y<2*te?le:te)&&(te=U),x<2*(X=Y<2*X?le:X)&&(X=U),this._clipping||G.beginPath(),G.moveTo(A+re,R),G.arcTo(A+O,R,A+O,R+Z,q),G.arcTo(A+O,R+Z,A,R+Z,te),G.arcTo(A,R+Z,A,R,X),G.arcTo(A,R,A+O,R,re),G.closePath()),!this._clipping&&this._doFill&&G.fill(),!this._clipping&&this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(te){var x=this.drawingContext,U=this._doFill,A=this._doStroke,R=te[0],O=te[1],Z=te[2],re=te[3],q=te[4];if(te=te[5],U&&!A){if(this._getFill()===d)return this}else if(!U&&A&&this._getStroke()===d)return this;this._clipping||x.beginPath(),x.moveTo(R,O),x.lineTo(Z,re),x.lineTo(q,te),x.closePath(),!this._clipping&&U&&x.fill(),!this._clipping&&A&&x.stroke()}},{key:"endShape",value:function(P,x,U,A,R,O,Z){if(0!==x.length&&(this._doStroke||this._doFill)){var re,q,te,X=P===g.CLOSE,G=(X&&!O&&x.push(x[0]),x.length);if(U&&null===Z){if(3<G){var Y=[],le=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[1][0],x[1][1]),q=1;q+2<G;q++)Y[0]=[(re=x[q])[0],re[1]],Y[1]=[re[0]+(le*x[q+1][0]-le*x[q-1][0])/6,re[1]+(le*x[q+1][1]-le*x[q-1][1])/6],Y[2]=[x[q+1][0]+(le*x[q][0]-le*x[q+2][0])/6,x[q+1][1]+(le*x[q][1]-le*x[q+2][1])/6],Y[3]=[x[q+1][0],x[q+1][1]],this.drawingContext.bezierCurveTo(Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]);X&&this.drawingContext.lineTo(x[q+1][0],x[q+1][1]),this._doFillStrokeClose(X)}}else if(A&&null===Z){for(this._clipping||this.drawingContext.beginPath(),q=0;q<G;q++)x[q].isVert?x[q].moveTo?this.drawingContext.moveTo(x[q][0],x[q][1]):this.drawingContext.lineTo(x[q][0],x[q][1]):this.drawingContext.bezierCurveTo(x[q][0],x[q][1],x[q][2],x[q][3],x[q][4],x[q][5]);this._doFillStrokeClose(X)}else if(R&&null===Z){for(this._clipping||this.drawingContext.beginPath(),q=0;q<G;q++)x[q].isVert?x[q].moveTo?this.drawingContext.moveTo(x[q][0],x[q][1]):this.drawingContext.lineTo(x[q][0],x[q][1]):this.drawingContext.quadraticCurveTo(x[q][0],x[q][1],x[q][2],x[q][3]);this._doFillStrokeClose(X)}else if(Z===g.POINTS)for(q=0;q<G;q++)re=x[q],this._doStroke&&this._pInst.stroke(re[6]),this._pInst.point(re[0],re[1]);else if(Z===g.LINES)for(q=0;q+1<G;q+=2)re=x[q],this._doStroke&&this._pInst.stroke(x[q+1][6]),this._pInst.line(re[0],re[1],x[q+1][0],x[q+1][1]);else if(Z===g.TRIANGLES)for(q=0;q+2<G;q+=3)re=x[q],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(re[0],re[1]),this.drawingContext.lineTo(x[q+1][0],x[q+1][1]),this.drawingContext.lineTo(x[q+2][0],x[q+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(x[q+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(x[q+2][6]),this.drawingContext.stroke());else if(Z===g.TRIANGLE_STRIP)for(q=0;q+1<G;q++)re=x[q],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[q+1][0],x[q+1][1]),this.drawingContext.lineTo(re[0],re[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+1][5]),q+2<G&&(this.drawingContext.lineTo(x[q+2][0],x[q+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+2][5])),this._doFillStrokeClose(X);else if(Z===g.TRIANGLE_FAN){if(2<G){for(this._clipping||this.drawingContext.beginPath(),q=2;q<G;q++)re=x[q],this.drawingContext.moveTo(x[0][0],x[0][1]),this.drawingContext.lineTo(x[q-1][0],x[q-1][1]),this.drawingContext.lineTo(re[0],re[1]),this.drawingContext.lineTo(x[0][0],x[0][1]),q<G-1&&(this._doFill&&re[5]!==x[q+1][5]||this._doStroke&&re[6]!==x[q+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(re[5]),this.drawingContext.fill(),this._pInst.fill(x[q+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(re[6]),this.drawingContext.stroke(),this._pInst.stroke(x[q+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(X)}}else if(Z===g.QUADS)for(q=0;q+3<G;q+=4){for(re=x[q],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(re[0],re[1]),te=1;te<4;te++)this.drawingContext.lineTo(x[q+te][0],x[q+te][1]);this.drawingContext.lineTo(re[0],re[1]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+3][6]),this._doFillStrokeClose(X)}else if(Z===g.QUAD_STRIP){if(3<G)for(q=0;q+1<G;q+=2)re=x[q],this._clipping||this.drawingContext.beginPath(),q+3<G?(this.drawingContext.moveTo(x[q+2][0],x[q+2][1]),this.drawingContext.lineTo(re[0],re[1]),this.drawingContext.lineTo(x[q+1][0],x[q+1][1]),this.drawingContext.lineTo(x[q+3][0],x[q+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+3][6])):(this.drawingContext.moveTo(re[0],re[1]),this.drawingContext.lineTo(x[q+1][0],x[q+1][1])),this._doFillStrokeClose(X)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[0][0],x[0][1]),q=1;q<G;q++)(re=x[q]).isVert&&(re.moveTo?(X&&this.drawingContext.closePath(),this.drawingContext.moveTo(re[0],re[1])):this.drawingContext.lineTo(re[0],re[1]));this._doFillStrokeClose(X)}O=R=A=U=!1,X&&x.pop()}return this}},{key:"strokeCap",value:function(P){return P!==g.ROUND&&P!==g.SQUARE&&P!==g.PROJECT||(this.drawingContext.lineCap=P),this}},{key:"strokeJoin",value:function(P){return P!==g.ROUND&&P!==g.BEVEL&&P!==g.MITER||(this.drawingContext.lineJoin=P),this}},{key:"strokeWeight",value:function(P){return this.drawingContext.lineWidth=void 0===P||0===P?1e-4:P,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(P){P!==this._cachedFillStyle&&(this.drawingContext.fillStyle=P,this._cachedFillStyle=P)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(P){P!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=P,this._cachedStrokeStyle=P)}},{key:"bezier",value:function(P,x,U,A,R,O,Z,re){return this._pInst.beginShape(),this._pInst.vertex(P,x),this._pInst.bezierVertex(U,A,R,O,Z,re),this._pInst.endShape(),this}},{key:"curve",value:function(P,x,U,A,R,O,Z,re){return this._pInst.beginShape(),this._pInst.curveVertex(P,x),this._pInst.curveVertex(U,A),this._pInst.curveVertex(R,O),this._pInst.curveVertex(Z,re),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(P){P&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(P,x,U,A,R,O){this.drawingContext.transform(P,x,U,A,R,O)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(P){this.drawingContext.rotate(P)}},{key:"scale",value:function(P,x){return this.drawingContext.scale(P,x),this}},{key:"translate",value:function(P,x){return P instanceof f.default.Vector&&(x=P.y,P=P.x),this.drawingContext.translate(P,x),this}},{key:"_renderText",value:function(P,x,U,A,R,O){if(!(A<O||R<=A))return P.push(),this._isOpenType()?this._textFont._renderPath(x,U,A,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(x,U,A),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(g._DEFAULT_TEXT_FILL),this.drawingContext.fillText(x,U,A))),P.pop(),P}},{key:"textWidth",value:function(P){return this._isOpenType()?this._textFont._textWidth(P,this._textSize):this.drawingContext.measureText(P).width}},{key:"_applyTextProperties",value:function(){var P=this._pInst,x=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),x=this._textFont,this._isOpenType()&&(x=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),x||"sans-serif");return/\s/.exec(x)&&(x='"'.concat(x,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(x),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===g.CENTER?g._CTX_MIDDLE:this._textBaseline,P}},{key:"push",value:function(){return this.drawingContext.save(),i(u(L.prototype),"push",this).call(this)}},{key:"pop",value:function(P){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(u(L.prototype),"pop",this).call(this,P)}}])&&_(y.prototype,p),L}(f.default.Renderer);h.prototype.text=function(p,y,D,x,L){var P;return void 0!==x&&this.drawingContext.textBaseline===g.BASELINE&&(P=!0,this.drawingContext.textBaseline=g.TOP),x=f.default.Renderer.prototype.text.apply(this,arguments),P&&(this.drawingContext.textBaseline=g.BASELINE),x},f.default.Renderer2D=h,$.default=m=f.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(){return{}}v.default.prototype._promisePreloads=[];var f=!(v.default.prototype.registerPromisePreload=function(g){v.default.prototype._promisePreloads.push(g)});v.default.prototype._setupPromisePreloads=function(){var g=!0,S=!1,_=void 0;try{for(var i,a=this._promisePreloads[Symbol.iterator]();!(g=(i=a.next()).done);g=!0){var l=i.value,u=this,d=l.method,h=l.addCallbacks,m=l.legacyPreloadSetup,p=l.target||this,y=p[d].bind(p);if(p===v.default.prototype){if(f)continue;u=null,y=p[d]}p[d]=this._wrapPromisePreload(u,y,h),m&&(p[m.method]=this._legacyPreloadGenerator(u,m,p[d]))}}catch(D){S=!0,_=D}finally{try{g||null==a.return||a.return()}finally{if(S)throw _}}f=!0},v.default.prototype._wrapPromisePreload=function(g,S,_){var i=function(){for(var a=this,l=(this._incrementPreload(),null),u=null,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];if(_)for(var p=h.length-1;0<=p&&!u&&"function"==typeof h[p];p--)u=l,l=h.pop();var y=Promise.resolve(S.apply(this,h));return l&&y.then(l),u&&y.catch(u),y.then(function(){return a._decrementPreload()}),y};return g?i.bind(g):i},v.default.prototype._legacyPreloadGenerator=function(g,a,_){var i=a.createBaseObject||b;return a=function(){var l=this;this._incrementPreload();for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=i.apply(this,d);return _.apply(this,d).then(function(p){Object.assign(m,p),l._decrementPreload()}),m},g?a.bind(g):a}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,se,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(i=o("./main"))&&i.__esModule?i:{default:i},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==S(a)&&"function"!=typeof a)return{default:a};var l=g();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var m;Object.prototype.hasOwnProperty.call(a,u)&&((m=h?Object.getOwnPropertyDescriptor(a,u):null)&&(m.get||m.set)?Object.defineProperty(d,u,m):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("./constants"));function g(){var a;return"function"!=typeof WeakMap?null:(g=function(){return a},a=new WeakMap)}function S(a){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var _="defaultCanvas0",i=(b.default.prototype.createCanvas=function(a,l,u,d){var h,m,p;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=f.P2D,d=arguments[2]):h=u||f.P2D,d)(p=document.getElementById(_))&&p.parentNode.removeChild(p),p=d,this._defaultGraphicsCreated=!1;else{if(h===f.WEBGL)(p=document.getElementById(_))&&(p.parentNode.removeChild(p),m=this._renderer,this._elements=this._elements.filter(function(D){return D!==m})),(p=document.createElement("canvas")).id=_,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=d||document.createElement("canvas");for(var y=0;document.getElementById("defaultCanvas".concat(y));)y++;_="defaultCanvas".concat(y),p.id=_,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(p)}return h===f.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),a=(d=this._renderer._adjustDimensions(a,l)).adjustedWidth,l=d.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,l),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(a,l,u){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var d,h,m,p={};for(d in this.drawingContext){var y=this.drawingContext[d];"object"!==S(y)&&"function"!=typeof y&&(p[d]=y)}for(m in this._renderer instanceof b.default.RendererGL&&(a=(h=this._renderer._adjustDimensions(a,l)).adjustedWidth,l=h.adjustedHeight),this.width=a,this.height=l,this._renderer.resize(a,l),p)try{this.drawingContext[m]=p[m]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(a,l){for(var u=arguments.length,d=new Array(2<u?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];return d[0]instanceof HTMLCanvasElement&&(d[1]=d[0],d[0]=f.P2D),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(a,l,d[0],this,d[1])},b.default.prototype.createFramebuffer=function(a){return new b.default.Framebuffer(this,a)},b.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},b.default.prototype.blendMode=function(a){b.default._validateParameters("blendMode",arguments),a===f.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=f.BLEND),this._renderer.blendMode(a)},b.default);$.default=i},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,se,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=i(o("../main")),g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=_();if(u&&u.has(l))return u.get(l);var d,h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=m?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=l[d])}return h.default=l,u&&u.set(l,h),h}(o("../constants")),S=i(o("../helpers"));function _(){var l;return"function"!=typeof WeakMap?null:(_=function(){return l},l=new WeakMap)}function i(l){return l&&l.__esModule?l:{default:l}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),f.default.prototype._normalizeArcAngles=function(l,u,d,h,m){var p;return l-=g.TWO_PI*Math.floor(l/g.TWO_PI),u-=g.TWO_PI*Math.floor(u/g.TWO_PI),p=Math.min(Math.abs(l-u),g.TWO_PI-Math.abs(l-u)),m&&(l=l<=g.HALF_PI?Math.atan(d/h*Math.tan(l)):l>g.HALF_PI&&l<=3*g.HALF_PI?Math.atan(d/h*Math.tan(l))+g.PI:Math.atan(d/h*Math.tan(l))+g.TWO_PI,u=u<=g.HALF_PI?Math.atan(d/h*Math.tan(u)):u>g.HALF_PI&&u<=3*g.HALF_PI?Math.atan(d/h*Math.tan(u))+g.PI:Math.atan(d/h*Math.tan(u))+g.TWO_PI),u<l&&(u+=g.TWO_PI),{start:l,stop:u,correspondToSamePoint:p<1e-5}},f.default.prototype.arc=function(l,u,d,h,m,p,y,D){return f.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==p&&(m=this._toRadians(m),p=this._toRadians(p),d=Math.abs(d),h=Math.abs(h),l=S.default.modeAdjust(l,u,d,h,this._renderer._ellipseMode),(u=this._normalizeArcAngles(m,p,l.w,l.h,!0)).correspondToSamePoint?this._renderer.ellipse([l.x,l.y,l.w,l.h,D]):(this._renderer.arc(l.x,l.y,l.w,l.h,u.start,u.stop,y,D),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[l.x,l.y,l.w,l.h,u.start,u.stop,y]))),this},f.default.prototype.ellipse=function(l,u,d,h,m){return f.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},f.default.prototype.circle=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];f.default._validateParameters("circle",u);var h=u.slice(0,2);return h.push(u[2],u[2]),this._renderEllipse.apply(this,function a(l){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(l)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(h))},f.default.prototype._renderEllipse=function(l,u,d,h,m){return(this._renderer._doStroke||this._renderer._doFill)&&(d<0&&(d=Math.abs(d)),void 0===h?h=d:h<0&&(h=Math.abs(h)),l=S.default.modeAdjust(l,u,d,h,this._renderer._ellipseMode),this._renderer.ellipse([l.x,l.y,l.w,l.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h])),this},f.default.prototype.line=function(){for(var l,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("line",d),this._renderer._doStroke&&(l=this._renderer).line.apply(l,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",d),this},f.default.prototype.point=function(){for(var l,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("point",d),this._renderer._doStroke&&(1===d.length&&d[0]instanceof f.default.Vector?this._renderer.point.call(this._renderer,d[0].x,d[0].y,d[0].z):((l=this._renderer).point.apply(l,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",d))),this},f.default.prototype.quad=function(){for(var l,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("quad",d),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&d.length<12?this._renderer.quad.call(this._renderer,d[0],d[1],0,d[2],d[3],0,d[4],d[5],0,d[6],d[7],0,d[8],d[9]):((l=this._renderer).quad.apply(l,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",d))),this},f.default.prototype.rect=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return f.default._validateParameters("rect",u),this._renderRect.apply(this,u)},f.default.prototype.square=function(l,u,d,h,m,p,y){return f.default._validateParameters("square",arguments),this._renderRect.call(this,l,u,d,d,h,m,p,y)},f.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var l=S.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[l.x,l.y,l.w,l.h],d=4;d<arguments.length;d++)u[d]=arguments[d];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[l.x,l.y,l.w,l.h])}return this},f.default.prototype.triangle=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return f.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},$.default=o=f.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../main"))&&_.__esModule?_:{default:_},g=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=S();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}f.default.prototype.ellipseMode=function(i){return f.default._validateParameters("ellipseMode",arguments),i!==g.CORNER&&i!==g.CORNERS&&i!==g.RADIUS&&i!==g.CENTER||(this._renderer._ellipseMode=i),this},f.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},f.default.prototype.rectMode=function(i){return f.default._validateParameters("rectMode",arguments),i!==g.CORNER&&i!==g.CORNERS&&i!==g.RADIUS&&i!==g.CENTER||(this._renderer._rectMode=i),this},f.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},f.default.prototype.strokeCap=function(i){return f.default._validateParameters("strokeCap",arguments),i!==g.ROUND&&i!==g.SQUARE&&i!==g.PROJECT||this._renderer.strokeCap(i),this},f.default.prototype.strokeJoin=function(i){return f.default._validateParameters("strokeJoin",arguments),i!==g.ROUND&&i!==g.BEVEL&&i!==g.MITER||this._renderer.strokeJoin(i),this},f.default.prototype.strokeWeight=function(i){return f.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var _=f.default;$.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(b=o("../main"))&&b.__esModule?b:{default:b};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var f,g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return v.default._validateParameters("bezier",S),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,S),this},v.default.prototype.bezierDetail=function(f){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},v.default.prototype.bezierPoint=function(f,g,S,_,i){v.default._validateParameters("bezierPoint",arguments);var a=1-i;return Math.pow(a,3)*f+3*Math.pow(a,2)*i*g+3*a*Math.pow(i,2)*S+Math.pow(i,3)*_},v.default.prototype.bezierTangent=function(f,g,S,_,i){v.default._validateParameters("bezierTangent",arguments);var a=1-i;return 3*_*Math.pow(i,2)-3*S*Math.pow(i,2)+6*S*a*i-6*g*a*i+3*g*Math.pow(a,2)-3*f*Math.pow(a,2)},v.default.prototype.curve=function(){for(var f,g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return v.default._validateParameters("curve",S),this._renderer._doStroke&&(f=this._renderer).curve.apply(f,S),this},v.default.prototype.curveDetail=function(f){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},v.default.prototype.curveTightness=function(f){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},v.default.prototype.curvePoint=function(f,g,S,_,i){v.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,l=i*i*i,u=i*i;return f*((a-1)/2*l+(1-a)*u+(a-1)/2*i)+g*((a+3)/2*l+(-5-a)/2*u+1)+S*((-3-a)/2*l+(a+2)*u+(1-a)/2*i)+_*((1-a)/2*l+(a-1)/2*u)},v.default.prototype.curveTangent=function(f,g,S,_,u){v.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,l=u*u*3;return f*((a-1)/2*l+(1-a)*(u*=2)+(a-1)/2)+g*((a+3)/2*l+(-5-a)/2*u)+S*((-3-a)/2*l+(a+2)*u+(1-a)/2)+_*((1-a)/2*l+(a-1)/2*u)};var b=v.default;$.default=b},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,se,$){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(y)}function b(y){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(D){return v(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":v(D)})(y)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(p=o("../main"))&&p.__esModule?p:{default:p},g=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==b(y)&&"function"!=typeof y)return{default:y};var D=S();if(D&&D.has(y))return D.get(y);var V,L={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(V in y){var x;Object.prototype.hasOwnProperty.call(y,V)&&((x=P?Object.getOwnPropertyDescriptor(y,V):null)&&(x.get||x.set)?Object.defineProperty(L,V,x):L[V]=y[V])}return L.default=y,D&&D.set(y,L),L}(o("../constants"));function S(){var y;return"function"!=typeof WeakMap?null:(S=function(){return y},y=new WeakMap)}var _=null,i=[],a=[],l=!1,u=!1,d=!1,h=!1,m=!0,p=(f.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],h=!0),this},f.default.prototype.beginShape=function(y){var D;return f.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(D=this._renderer).beginShape.apply(D,arguments):(_=y===g.POINTS||y===g.LINES||y===g.TRIANGLES||y===g.TRIANGLE_FAN||y===g.TRIANGLE_STRIP||y===g.QUADS||y===g.QUAD_STRIP?y:null,i=[],a=[]),this},f.default.prototype.bezierVertex=function(){for(var y,D=arguments.length,V=new Array(D),L=0;L<D;L++)V[L]=arguments[L];if(f.default._validateParameters("bezierVertex",V),this._renderer.isP3D)(y=this._renderer).bezierVertex.apply(y,V);else if(0===i.length)f.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{l=!0;for(var P=[],x=0;x<V.length;x++)P[x]=V[x];P.isVert=!1,(h?a:i).push(P)}return this},f.default.prototype.curveVertex=function(){for(var y,D=arguments.length,V=new Array(D),L=0;L<D;L++)V[L]=arguments[L];return f.default._validateParameters("curveVertex",V),this._renderer.isP3D?(y=this._renderer).curveVertex.apply(y,V):(u=!0,this.vertex(V[0],V[1])),this},f.default.prototype.endContour=function(){if(!this._renderer.isP3D){var y=a[0].slice();y.isVert=a[0].isVert,y.moveTo=!1,a.push(y),m&&(i.push(i[0]),m=!1);for(var D=0;D<a.length;D++)i.push(a[D])}return this},f.default.prototype.endShape=function(y){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(f.default._validateParameters("endShape",arguments),D<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),D=1),this._renderer.isP3D)this._renderer.endShape(y,u,l,d,h,_,D);else{if(1!==D&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(D=y===g.CLOSE)&&!h&&i.push(i[0]),this._renderer.endShape(y,i,u,l,d,h,_),m=!(h=d=l=u=!1),D&&i.pop()}return this},f.default.prototype.quadraticVertex=function(){for(var y,D=arguments.length,V=new Array(D),L=0;L<D;L++)V[L]=arguments[L];if(f.default._validateParameters("quadraticVertex",V),this._renderer.isP3D)(y=this._renderer).quadraticVertex.apply(y,V);else{if(this._contourInited)return(y={}).x=V[0],y.y=V[1],y.x3=V[2],y.y3=V[3],y.type=g.QUADRATIC,this._contourVertices.push(y),this;if(0<i.length){d=!0;for(var P=[],x=0;x<V.length;x++)P[x]=V[x];P.isVert=!1,(h?a:i).push(P)}else f.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},f.default.prototype.vertex=function(y,D,V,L,P){var x;return this._renderer.isP3D?(x=this._renderer).vertex.apply(x,arguments):((x=[]).isVert=!0,x[0]=y,x[1]=D,x[2]=0,x[3]=0,x[4]=0,x[5]=this._renderer._getFill(),x[6]=this._renderer._getStroke(),V&&(x.moveTo=V),(h?(0===a.length&&(x.moveTo=!0),a):i).push(x)),this},f.default.prototype.normal=function(y,D,V){var L;return this._assert3d("normal"),f.default._validateParameters("normal",arguments),(L=this._renderer).normal.apply(L,arguments),this},f.default);$.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,se,$){},{}],295:[function(o,se,$){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var b=parseInt(v),f=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if("function"==typeof f.draw){void 0===f.setup&&f.scale(f._pixelDensity,f._pixelDensity);for(var g=0;g<b;g++){f.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),f._renderer.isP3D&&f._renderer._update(),f._setProperty("frameCount",f.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{f.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},$.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var f=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||f?(f=this._renderer).applyMatrix.apply(f,function b(f){return function(g){if(Array.isArray(g)){for(var S=0,_=new Array(g.length);S<g.length;S++)_[S]=g[S];return _}}(f)||function(g){if(Symbol.iterator in Object(g)||"[object Arguments]"===Object.prototype.toString.call(g))return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(f=this._renderer).applyMatrix.apply(f,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(f,g){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(f),g),this},v.default.prototype.rotateX=function(f){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(f)),this},v.default.prototype.rotateY=function(f){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(f)),this},v.default.prototype.rotateZ=function(f){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(f)),this},v.default.prototype.scale=function(f,g,S){var _;return v.default._validateParameters("scale",arguments),f instanceof v.default.Vector?(f=(_=f).x,g=_.y,S=_.z):Array.isArray(f)&&(f=(_=f)[0],g=_[1],S=_[2]||1),isNaN(g)?g=S=f:isNaN(S)&&(S=1),this._renderer.scale(f,g,S),this},v.default.prototype.shearX=function(f){return v.default._validateParameters("shearX",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this},v.default.prototype.shearY=function(f){return v.default._validateParameters("shearY",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this},v.default.prototype.translate=function(f,g,S){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(f,g,S):this._renderer.translate(f,g),this},$.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,se,$){"use strict";function v(S){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(S){return function(_){if(Array.isArray(_)){for(var i=0,a=new Array(_.length);i<_.length;i++)a[i]=_[i];return a}}(S)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(S){return(g="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(S)}b.default.prototype.storeItem=function(S,_){"string"!=typeof S&&console.log("The argument that you passed to storeItem() - ".concat(S," is not a string.")),S.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(S," must not end with 'p5TypeID'.")),void 0===_&&console.log("You cannot store undefined variables using storeItem().");var i=g(_);switch(i){case"number":case"boolean":_=_.toString();break;case"object":_ instanceof b.default.Color?i="p5.Color":_ instanceof b.default.Vector&&(i="p5.Vector",_=[_.x,_.y,_.z]),_=JSON.stringify(_)}localStorage.setItem(S,_),S="".concat(S,"p5TypeID"),localStorage.setItem(S,i)},b.default.prototype.getItem=function(S){var _=localStorage.getItem(S),i=localStorage.getItem("".concat(S,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(S,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==_)switch(i){case"number":_=parseFloat(_);break;case"boolean":_="true"===_;break;case"object":_=JSON.parse(_);break;case"p5.Color":_=JSON.parse(_),_=this.color.apply(this,f(_.levels));break;case"p5.Vector":_=JSON.parse(_),_=this.createVector.apply(this,f(_))}return _},b.default.prototype.clearStorage=function(){var S=this;Object.keys(localStorage).forEach(function(_){_.endsWith("p5TypeID")&&S.removeItem(_.replace("p5TypeID",""))})},b.default.prototype.removeItem=function(S){"string"!=typeof S&&console.log("The argument that you passed to removeItem() - ".concat(S," is not a string.")),localStorage.removeItem(S),localStorage.removeItem("".concat(S,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,se,$){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function b(d){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),h&&S(d,h)}function S(d,h){return(S=Object.setPrototypeOf||function(m,p){return m.__proto__=p,m})(d,h)}function _(d){return function(){var h,m=i(d);if(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=i(this).constructor,Reflect.construct(m,arguments,h)):m.apply(this,arguments),m=this,!h||"object"!==b(h)&&"function"!=typeof h){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function i(d){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(d)}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function u(d,h,m){h&&l(d.prototype,h),m&&l(d,m)}f.default.prototype.createStringDict=function(d,h){return f.default._validateParameters("createStringDict",arguments),new f.default.StringDict(d,h)},f.default.prototype.createNumberDict=function(d,h){return f.default._validateParameters("createNumberDict",arguments),new f.default.NumberDict(d,h)},f.default.TypedDict=function(){function d(h,m){return a(this,d),h instanceof Object?this.data=h:(this.data={},this.data[h]=m),this}return u(d,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(h){return this.data.hasOwnProperty(h)}},{key:"get",value:function(h){if(this.data.hasOwnProperty(h))return this.data[h];console.log("".concat(h," does not exist in this Dictionary"))}},{key:"set",value:function(h,m){this._validate(m)?this.data[h]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(h){for(var m in h)this.set(m,h[m])}},{key:"create",value:function(h,m){h instanceof Object&&void 0===m?this._addObj(h):void 0!==h?this.set(h,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(h){if(!this.data.hasOwnProperty(h))throw new Error("".concat(h," does not exist in this Dictionary"));delete this.data[h]}},{key:"print",value:function(){for(var h in this.data)console.log("key:".concat(h," value:").concat(this.data[h]))}},{key:"saveTable",value:function(h){var m,p="";for(m in this.data)p+="".concat(m,",").concat(this.data[m],"\n");var y=new Blob([p],{type:"text/csv"});f.default.prototype.downloadFile(y,h||"mycsv","csv")}},{key:"saveJSON",value:function(h,m){f.default.prototype.saveJSON(this.data,h,m)}},{key:"_validate",value:function(h){return!0}}]),d}(),f.default.StringDict=function(){g(h,f.default.TypedDict);var d=_(h);function h(){a(this,h);for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];return d.call.apply(d,[this].concat(p))}return u(h,[{key:"_validate",value:function(m){return"string"==typeof m}}]),h}(),f.default.NumberDict=function(){g(h,f.default.TypedDict);var d=_(h);function h(){a(this,h);for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];return d.call.apply(d,[this].concat(p))}return u(h,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]+=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,p){this.add(m,-p)}},{key:"mult",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]*=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]/=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,y=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*m<y*m&&(y=this.data[p]);return y}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],y=1;y<Object.keys(this.data).length;y++)Object.keys(this.data)[y]*m<p*m&&(p=Object.keys(this.data)[y]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),h}(),$.default=o=f.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,se,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(p,y){for(var D=0;D<y.length;D++){var V=y[D];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(p,V.key,V)}}function g(p,y,D){y&&f(p.prototype,y),D&&f(p,D)}function S(p,y){return(S=Object.setPrototypeOf||function(D,V){return D.__proto__=V,D})(p,y)}function i(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p){return(u="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}function d(p,y,D){return(y._userNode||document.body).appendChild(p),D=new(D?b.default.MediaElement:b.default.Element)(p,y),y._elements.push(D),D}function h(p,x,D,V){var L=document.createElement(x),P=("string"==typeof(D=D||"")&&(D=[D]),!0),U=void(x=!1);try{for(var A,R=D[Symbol.iterator]();!(P=(A=R.next()).done);P=!0){var O=A.value,Z=document.createElement("source");Z.setAttribute("src",O),L.appendChild(Z)}}catch(q){x=!0,U=q}finally{try{P||null==R.return||R.return()}finally{if(x)throw U}}"function"==typeof V&&L.addEventListener("canplaythrough",function q(){V(),L.removeEventListener("canplaythrough",q)});var re=d(L,p,!0);return re.loadedmetadata=!1,L.addEventListener("loadedmetadata",function(){re.width=L.videoWidth,re.height=L.videoHeight,0===re.elt.width&&(re.elt.width=L.videoWidth),0===re.elt.height&&(re.elt.height=L.videoHeight),re.presetPlaybackRate&&(re.elt.playbackRate=re.presetPlaybackRate,delete re.presetPlaybackRate),re.loadedmetadata=!0}),re}function m(p,y,D,V){l(this,m),this.callback=p,this.time=y,this.id=D,this.val=V}b.default.prototype.select=function(p,y){return b.default._validateParameters("select",arguments),(y=this._getContainer(y).querySelector(p))?this._wrapElement(y):null},b.default.prototype.selectAll=function(p,y){b.default._validateParameters("selectAll",arguments);var D=[],V=this._getContainer(y).querySelectorAll(p);if(V)for(var L=0;L<V.length;L++){var P=this._wrapElement(V[L]);D.push(P)}return D},b.default.prototype._getContainer=function(p){var y=document;return"string"==typeof p?y=document.querySelector(p)||document:p instanceof b.default.Element?y=p.elt:p instanceof HTMLElement&&(y=p),y},b.default.prototype._wrapElement=function(p){var y,D=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((y=new b.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},y):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new b.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new b.default.Element(p,this)):0<D.length&&D.every(function(V){return"INPUT"===V.tagName||"LABEL"===V.tagName})&&("DIV"===p.tagName||"SPAN"===p.tagName)?this.createRadio(new b.default.Element(p,this)):new b.default.Element(p,this)},b.default.prototype.removeElements=function(p){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(y){return!(y.elt instanceof HTMLCanvasElement)}).map(function(y){return y.remove()})},b.default.Element.prototype.changed=function(p){return b.default.Element._adjustListener("change",p,this),this},b.default.Element.prototype.input=function(p){return b.default.Element._adjustListener("input",p,this),this},b.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("div");return y.innerHTML=p,d(y,this)},b.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("p");return y.innerHTML=p,d(y,this)},b.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("span");return y.innerHTML=p,d(y,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var p,y=document.createElement("img"),D=arguments;return 1<D.length&&"string"==typeof D[1]&&(y.alt=D[1]),2<D.length&&"string"==typeof D[2]&&(y.crossOrigin=D[2]),y.src=D[0],p=d(y,this),y.addEventListener("load",function(){p.width=y.offsetWidth||y.width,p.height=y.offsetHeight||y.height;var V=D[D.length-1];"function"==typeof V&&V(p)}),p},b.default.prototype.createA=function(p,y,D){b.default._validateParameters("createA",arguments);var V=document.createElement("a");return V.href=p,V.innerHTML=y,D&&(V.target=D),d(V,this)},b.default.prototype.createSlider=function(p,y,D,V){b.default._validateParameters("createSlider",arguments);var L=document.createElement("input");return L.type="range",L.min=p,L.max=y,0===V?L.step=1e-18:V&&(L.step=V),"number"==typeof D&&(L.value=D),d(L,this)},b.default.prototype.createButton=function(p,y){b.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=p,y&&(D.value=y),d(D,this)},b.default.prototype.createCheckbox=function(){for(var p=arguments.length,y=new Array(p),D=0;D<p;D++)y[D]=arguments[D];b.default._validateParameters("createCheckbox",y);var V=document.createElement("div"),L=document.createElement("input"),P=(L.type="checkbox",document.createElement("label")),x=(P.appendChild(L),V.appendChild(P),d(V,this));return x.checked=function(){var U=x.elt.firstElementChild.getElementsByTagName("input")[0];if(U){if(0===arguments.length)return U.checked;U.checked=!(arguments.length<=0||!arguments[0])}return x},this.value=function(U){return x.value=U,this},y[0]&&(x.value(y[0]),(V=document.createElement("span")).innerHTML=y[0],P.appendChild(V)),y[1]&&(L.checked=!0),x},b.default.prototype.createSelect=function(){for(var p,y=arguments.length,D=new Array(y),V=0;V<y;V++)D[V]=arguments[V];b.default._validateParameters("createSelect",D);var L,P=D[0];return P instanceof b.default.Element&&P.elt instanceof HTMLSelectElement?this.elt=(p=P).elt:P instanceof HTMLSelectElement?(p=d(P,this),this.elt=P):(L=document.createElement("select"),P&&"boolean"==typeof P&&L.setAttribute("multiple","true"),p=d(L,this),this.elt=L),p.option=function(x,U){var A;if(void 0!==x){for(var R,O=0;O<this.elt.length;O+=1)if(this.elt[O].textContent===x){A=O;break}void 0!==A?!1===U?this.elt.remove(A):this.elt[A].value=U:((R=document.createElement("option")).textContent=x,R.value=void 0===U?x:U,this.elt.appendChild(R),this._pInst._elements.push(R))}},p.selected=function(x){if(void 0!==x){for(var U=0;U<this.elt.length;U+=1)this.elt[U].value.toString()===x.toString()&&(this.elt.selectedIndex=U);return this}if(this.elt.getAttribute("multiple")){var A=[],R=!0,O=!1,Z=void 0;try{for(var re,q=this.elt.selectedOptions[Symbol.iterator]();!(R=(re=q.next()).done);R=!0)A.push(re.value.value)}catch(X){O=!0,Z=X}finally{try{R||null==q.return||q.return()}finally{if(O)throw Z}}return A}return this.elt.value},p.disable=function(x){if("string"==typeof x)for(var U=0;U<this.elt.length;U++)this.elt[U].value.toString()===x&&(this.elt[U].disabled=!0,this.elt[U].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(x){if("string"==typeof x)for(var U=0;U<this.elt.length;U++)this.elt[U].value.toString()===x&&(this.elt[U].disabled=!1,this.elt[U].selected=!1);else{this.elt.disabled=!1;for(var A=0;A<this.elt.length;A++)this.elt[A].disabled=!1,this.elt[A].selected=!1}return this},p},b.default.prototype.createRadio=function(){function p(x){return x instanceof HTMLInputElement&&"radio"===x.type}function y(x){return x instanceof HTMLLabelElement}var D,V,L,P=arguments.length<=0?void 0:arguments[0];return P instanceof b.default.Element&&(P.elt instanceof HTMLDivElement||P.elt instanceof HTMLSpanElement)?(D=P,this.elt=P.elt):P instanceof HTMLDivElement||P instanceof HTMLSpanElement?(D=d(P,this),V=this.elt=P,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(L=arguments.length<=1?void 0:arguments[1])):("string"==typeof P&&(L=P),V=document.createElement("div"),D=d(V,this),this.elt=V),D._name=L||"radioOption",D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return p(x)||y(x)&&p(x.firstElementChild)}).map(function(x){return p(x)?x:x.firstElementChild})},D.option=function(x,U){var A,R,O,Z=!0,re=!1,q=void 0;try{for(var te,X=D._getOptionsArray()[Symbol.iterator]();!(Z=(te=X.next()).done);Z=!0){var G=te.value;if(G.value===x){A=G;break}}}catch(Y){re=!0,q=Y}finally{try{Z||null==X.return||X.return()}finally{if(re)throw q}}return void 0===A&&((A=document.createElement("input")).setAttribute("type","radio"),A.setAttribute("value",x)),A.setAttribute("name",D._name),y(A.parentElement)?R=A.parentElement:(R=document.createElement("label")).insertAdjacentElement("afterbegin",A),R.lastElementChild instanceof HTMLSpanElement?O=R.lastElementChild:(O=document.createElement("span"),A.insertAdjacentElement("afterend",O)),O.innerHTML=void 0===U?x:U,this.elt.appendChild(R),A},D.remove=function(x){var U=!0,A=!1,R=void 0;try{for(var O,Z=D._getOptionsArray()[Symbol.iterator]();!(U=(O=Z.next()).done);U=!0){var re=O.value;if(re.value===x)return void(y(re.parentElement)?re.parentElement:re).remove()}}catch(q){A=!0,R=q}finally{try{U||null==Z.return||Z.return()}finally{if(A)throw R}}},D.value=function(){var x="",U=!0,A=!1,R=void 0;try{for(var O,Z=D._getOptionsArray()[Symbol.iterator]();!(U=(O=Z.next()).done);U=!0){var re=O.value;if(re.checked){x=re.value;break}}}catch(q){A=!0,R=q}finally{try{U||null==Z.return||Z.return()}finally{if(A)throw R}}return x},D.selected=function(x){var U=null;if(void 0===x){var A=!0,R=!1,O=void 0;try{for(var Z,re=D._getOptionsArray()[Symbol.iterator]();!(A=(Z=re.next()).done);A=!0){var q=Z.value;if(q.checked){U=q;break}}}catch(le){R=!0,O=le}finally{try{A||null==re.return||re.return()}finally{if(R)throw O}}}else{D._getOptionsArray().forEach(function(J){J.checked=!1,J.removeAttribute("checked")});var te=!0;R=!1,O=void 0;try{for(var X,G=D._getOptionsArray()[Symbol.iterator]();!(te=(X=G.next()).done);te=!0){var Y=X.value;Y.value===x&&(Y.setAttribute("checked",!0),Y.checked=!0,U=Y)}}catch(J){R=!0,O=J}finally{try{te||null==G.return||G.return()}finally{if(R)throw O}}}return U},D.disable=function(){var x=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],U=!0,A=!1,R=void 0;try{for(var O,Z=D._getOptionsArray()[Symbol.iterator]();!(U=(O=Z.next()).done);U=!0)O.value.setAttribute("disabled",x)}catch(re){A=!0,R=re}finally{try{U||null==Z.return||Z.return()}finally{if(A)throw R}}},D},b.default.prototype.createColorPicker=function(p){b.default._validateParameters("createColorPicker",arguments);var y=document.createElement("input");return y.type="color",p?p instanceof b.default.Color?y.value=p.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},y.value=b.default.prototype.color(p).toString("#rrggbb")):y.value="#000000",(y=d(y,this)).color=function(){return p&&(p.mode&&(b.default.prototype._colorMode=p.mode),p.maxes&&(b.default.prototype._colorMaxes=p.maxes)),b.default.prototype.color(this.elt.value)},y},b.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",D=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",p),D.setAttribute("type",y),d(D,this)},b.default.prototype.createFileInput=function(p){var y,D=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(y=document.createElement("input")).setAttribute("type","file"),D&&y.setAttribute("multiple",!0),y.addEventListener("change",function(V){var L=!0,P=!1,x=void 0;try{for(var U,A=V.target.files[Symbol.iterator]();!(L=(U=A.next()).done);L=!0)b.default.File._load(U.value,p)}catch(O){P=!0,x=O}finally{try{L||null==A.return||A.return()}finally{if(P)throw x}}},!1),d(y,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(p,y){return b.default._validateParameters("createVideo",arguments),h(this,"video",p,y)},b.default.prototype.createAudio=function(p,y){return b.default._validateParameters("createAudio",arguments),h(this,"audio",p,y)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var y=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return y?new Promise(function(D,V){y.call(navigator,p,D,V)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var p=arguments.length,y=new Array(p),D=0;D<p;D++)y[D]=arguments[D];if(b.default._validateParameters("createCapture",y),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var V,L=!0,P=!0,x=!1,U=0,A=y;U<A.length;U++){var R=A[U];R===b.default.prototype.VIDEO?P=!1:R===b.default.prototype.AUDIO?L=!1:"object"===u(R)?(void 0!==R.flipped&&(x=R.flipped,delete R.flipped),O=Object.assign({},O,R)):"function"==typeof R&&(V=R)}var O=Object.assign({},{video:L,audio:P},O),Z=document.createElement("video"),re=(Z.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(O).then(function(q){try{"srcObject"in Z?Z.srcObject=q:Z.src=window.URL.createObjectURL(q)}catch{Z.src=q}}).catch(function(q){"NotFoundError"===q.name&&b.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===q.name&&b.default._friendlyError("Access to the camera was denied","createCapture"),console.error(q)}),d(Z,this,!0));return re.loadedmetadata=!1,Z.addEventListener("loadedmetadata",function(){Z.play(),Z.width?(re.width=Z.width,re.height=Z.height,x&&(re.elt.style.transform="scaleX(-1)")):(re.width=re.elt.width=Z.videoWidth,re.height=re.elt.height=Z.videoHeight),re.loadedmetadata=!0,V&&V(Z.srcObject)}),re.flipped=x,re},b.default.prototype.createElement=function(p,y){return b.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==y&&(p.innerHTML=y),d(p,this)},b.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},b.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},b.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},b.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},b.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof b.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},b.default.Element.prototype.center=function(p){var y=this.elt.style.display,D="none"===this.elt.style.display,V="none"===this.parent().style.display,L={x:this.elt.offsetLeft,y:this.elt.offsetTop},P=(D&&this.show(),V&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(P/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):"horizontal"===p?this.position(P/2+this.parent().offsetLeft,L.y):"vertical"===p&&this.position(L.x,x/2+this.parent().offsetTop),this.style("display",y),D&&this.hide(),V&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},b.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},b.default.Element.prototype.style=function(p,y){if(void 0===(y=y instanceof b.default.Color?"rgba("+y.levels[0]+","+y.levels[1]+","+y.levels[2]+","+y.levels[3]/255+")":y)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var D=p.split(";"),V=0;V<D.length;V++){var L=D[V].split(":");L[0]&&L[1]&&(this.elt.style[L[0].trim()]=L[1].trim())}}else this.elt.style[p]=y,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(y=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(y,10)));return this},b.default.Element.prototype.attribute=function(p,y){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===y?this.elt.getAttribute(p):(this.elt.setAttribute(p,y),this);if(void 0===y)return this.elt.firstChild.getAttribute(p);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(p,y)},b.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var y=0;y<this.elt.childNodes.length;y++)this.elt.childNodes[y].removeAttribute(p);return this.elt.removeAttribute(p),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(p,y){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=p,V=y,L=b.default.prototype.AUTO;if(D!==L||V!==L){if(D===L?D=y*this.width/this.height:V===L&&(V=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var P,x={},U=this.elt.getContext("2d");for(P in U)x[P]=U[P];for(P in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",V*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=V+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[P]=x[P]}else this.elt.style.width=D+"px",this.elt.style.height=V+"px",this.elt.width=D,this.elt.height=V;this.width=D,this.height=V,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",V))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),null!==(y=this.elt.srcObject)&&y.getTracks().forEach(function(D){D.stop()}));var p,y=this._pInst._elements.indexOf(this);for(p in-1!==y&&this._pInst._elements.splice(y,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(p,y){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function(V){V.preventDefault()}),this.elt.addEventListener("dragleave",D)),b.default.Element._attachListener("drop",function(L){L.preventDefault(),"function"==typeof y&&y.call(this,L),L=L.dataTransfer.files;var P=!0,x=!1,U=void 0;try{for(var A,R=L[Symbol.iterator]();!(P=(A=R.next()).done);P=!0)b.default.File._load(A.value,p)}catch(Z){x=!0,U=Z}finally{try{P||null==R.return||R.return()}finally{if(x)throw U}}},this)):console.log("The File APIs are not fully supported in this browser."),this},b.default.Element.prototype.draggable=function(p){var y,D="ontouchstart"in window,V=0,L=0,P=0,x=0,U=D?"touchend":"mouseup",A=D?"touchmove":"mousemove";function R(Z){var re;Z=Z||window.event,x=D?(re=Z.changedTouches,V=P-parseInt(re[0].clientX),L=x-parseInt(re[0].clientY),P=parseInt(re[0].clientX),parseInt(re[0].clientY)):(V=P-parseInt(Z.clientX),L=x-parseInt(Z.clientY),P=parseInt(Z.clientX),parseInt(Z.clientY)),p.style.left=p.offsetLeft-V+"px",p.style.top=p.offsetTop-L+"px"}function O(){document.removeEventListener(U,O,!1),document.removeEventListener(A,R,!1)}return void 0===p?y=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,y=this.elt),y.addEventListener(D?"touchstart":"mousedown",function(Z){var re;return Z=Z||window.event,x=D?(re=Z.changedTouches,P=parseInt(re[0].clientX),parseInt(re[0].clientY)):(P=parseInt(Z.clientX),parseInt(Z.clientY)),document.addEventListener(U,O,!1),document.addEventListener(A,R,!1),!1},!1),y.style.cursor="move",this},o=function(p){var y=V;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&S(y,p);var D=function _(p){return function(){var y,D,V=a(p);return y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=a(this).constructor,Reflect.construct(V,arguments,y)):V.apply(this,arguments),V=this,!(D=y)||"object"!==u(D)&&"function"!=typeof D?i(V):D}}(V);function V(L,P){l(this,V);var x=i(P=D.call(this,L,P));return P.elt.crossOrigin="anonymous",P._prevTime=0,P._cueIDCounter=0,P._cues=[],P.pixels=[],P._pixelsState=i(P),P._pixelDensity=1,P._modified=!1,P._frameOnCanvas=-1,Object.defineProperty(x,"src",{get:function(){var U=x.elt.children[0].src,A=x.elt.src===window.location.href?"":x.elt.src;return U===window.location.href?A:U},set:function(U){for(var A=0;A<x.elt.children.length;A++)x.elt.removeChild(x.elt.children[A]);var R=document.createElement("source");R.src=U,L.appendChild(R),x.elt.src=U,x.modified=!0}}),x._onended=function(){},x.elt.onended=function(){x._onended(x)},P}return g(V,[{key:"play",value:function(){var L;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(L=this.elt.play())&&L.catch&&L.catch(function(P){"NotAllowedError"===P.name?console.error(P):console.error("Media play method encountered an unexpected error",P)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var L=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(L)},{passive:!0,once:!0})}},{key:"autoplay",value:function(L){var P=this,x=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",L),L&&!x&&(L=function(){return P._setupAutoplayFailDetection()},4===this.elt.readyState?L():this.elt.addEventListener("canplay",L,{passive:!0,once:!0})),this}},{key:"volume",value:function(L){if(void 0===L)return this.elt.volume;this.elt.volume=L}},{key:"speed",value:function(L){if(void 0===L)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=L:this.presetPlaybackRate=L}},{key:"time",value:function(L){return void 0===L?this.elt.currentTime:(this.elt.currentTime=L,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];return b.default.Renderer2D.prototype.loadPixels.apply(this,P)}},{key:"updatePixels",value:function(L,P,x,U){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,L,P,x,U)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];return b.default.Renderer2D.prototype.get.apply(this,P)}},{key:"_getPixel",value:function(){this.loadPixels();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];return b.default.Renderer2D.prototype._getPixel.apply(this,P)}},{key:"set",value:function(L,P,x){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,L,P,x),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];b.default.prototype.copy.apply(this,P)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];b.default.Image.prototype.mask.apply(this,P)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(L){this._modified=L}},{key:"onended",value:function(L){return this._onended=L,this}},{key:"connect",value:function(L){var P,x;if("function"==typeof b.default.prototype.getAudioContext)P=b.default.prototype.getAudioContext(),x=b.default.soundOut.input;else try{x=(P=L.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=P.createMediaElementSource(this.elt),this.audioSourceNode.connect(x)),this.audioSourceNode.connect(L?L.input?L.input:L:x)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(L,A,x){var U=this._cueIDCounter++;return A=new m(A,L,U,x),this._cues.push(A),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),U}},{key:"removeCue",value:function(L){for(var P=0;P<this._cues.length;P++)this._cues[P].id===L&&(console.log(L),this._cues.splice(P,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var L=this.time(),P=0;P<this._cues.length;P++){var x=this._cues[P].time;this._prevTime<x&&x<=L&&this._cues[P].callback(this._cues[P].val)}this._prevTime=L}}]),V}(b.default.Element),b.default.MediaElement=o,o=function(){function p(y,D){l(this,p),this.file=y,this._pInst=D,D=y.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=y.name,this.size=y.size,this.data=void 0}return g(p,null,[{key:"_createLoader",value:function(y,D){var V=new FileReader;return V.onload=function(L){var P,x=new b.default.File(y);"application/json"===x.file.type?x.data=JSON.parse(L.target.result):"text/xml"===x.file.type?(P=(new DOMParser).parseFromString(L.target.result,"text/xml"),x.data=new b.default.XML(P.documentElement)):x.data=L.target.result,D(x)},V}},{key:"_load",value:function(y,D){var V;/^text\//.test(y.type)||"application/json"===y.type?b.default.File._createLoader(y,D).readAsText(y):/^(video|audio)\//.test(y.type)?((V=new b.default.File(y)).data=URL.createObjectURL(y),D(V)):b.default.File._createLoader(y,D).readAsDataURL(y)}}]),p}(),b.default.File=o,$.default=o=b.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(u,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(u=u("../core/main"))&&u.__esModule?u:{default:u};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var b=v.default.prototype.pRotationZ=0,f=0,g=0,S="clockwise",_="clockwise",i="clockwise",a=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),l=30;v.default.prototype.setMoveThreshold=function(d){v.default._validateParameters("setMoveThreshold",arguments),a=d},v.default.prototype.setShakeThreshold=function(d){v.default._validateParameters("setShakeThreshold",arguments),l=d},v.default.prototype._ondeviceorientation=function(d){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(d.beta)),this._setProperty("rotationY",this._fromDegrees(d.gamma)),this._setProperty("rotationZ",this._fromDegrees(d.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(d){this._updatePAccelerations(),this._setProperty("accelerationX",2*d.acceleration.x),this._setProperty("accelerationY",2*d.acceleration.y),this._setProperty("accelerationZ",2*d.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var d,h,m,p,y,D=this._isGlobal?window:this;"function"==typeof D.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&D.deviceMoved(),"function"==typeof D.deviceTurned&&(h=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,d=b+180,0<h-m&&h-m<270||h-m<-270?S="clockwise":(h-m<0||270<h-m)&&(S="counter-clockwise"),S!==this.pRotateDirectionX&&(d=h),90<Math.abs(h-d)&&Math.abs(h-d)<270&&(d=h,this._setProperty("turnAxis","X"),D.deviceTurned()),this.pRotateDirectionX=S,b=d-180,m=this._toDegrees(this.rotationY)+180,h=this._toDegrees(this.pRotationY)+180,d=f+180,0<m-h&&m-h<270||m-h<-270?_="clockwise":(m-h<0||270<m-this.pRotationY)&&(_="counter-clockwise"),_!==this.pRotateDirectionY&&(d=m),90<Math.abs(m-d)&&Math.abs(m-d)<270&&(d=m,this._setProperty("turnAxis","Y"),D.deviceTurned()),this.pRotateDirectionY=_,f=d-180,0<(h=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&h-m<270||h-m<-270?i="clockwise":(h-m<0||270<h-m)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(g=h),90<Math.abs(h-g)&&Math.abs(h-g)<270&&(g=h,this._setProperty("turnAxis","Z"),D.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)),"function"==typeof D.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),y=Math.abs(this.accelerationY-this.pAccelerationY)),l<p+y&&D.deviceShaken())},$.default=u=v.default},{"../core/main":283}],301:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(b){var f;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"!=typeof(f=this._isGlobal?window:this).keyPressed||b.charCode||!1===f.keyPressed(b)&&b.preventDefault())},v.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var f=this._isGlobal?window:this;"function"==typeof f.keyReleased&&!1===f.keyReleased(b)&&b.preventDefault()},v.default.prototype._onkeypress=function(b){var f;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"==typeof(f=this._isGlobal?window:this).keyTyped&&!1===f.keyTyped(b)&&b.preventDefault())},v.default.prototype._onblur=function(b){this._downKeys={}},v.default.prototype.keyIsDown=function(b){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},v.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&!0===this._downKeys[b])return!0;return!1},$.default=o=v.default},{"../core/main":283}],302:[function(o,se,$){"use strict";function v(_){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(_)}function b(_){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(i){return v(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(_)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(f=o("../core/main"))&&f.__esModule?f:{default:f},g=function(_){if(_&&_.__esModule)return _;if(null===_||"object"!==b(_)&&"function"!=typeof _)return{default:_};var i=S();if(i&&i.has(_))return i.get(_);var a,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in _){var d;Object.prototype.hasOwnProperty.call(_,a)&&((d=u?Object.getOwnPropertyDescriptor(_,a):null)&&(d.get||d.set)?Object.defineProperty(l,a,d):l[a]=_[a])}return l.default=_,i&&i.set(_,l),l}(o("../core/constants"));function S(){var _;return"function"!=typeof WeakMap?null:(S=function(){return _},_=new WeakMap)}f.default.prototype.movedX=0,f.default.prototype.movedY=0,f.default.prototype._hasMouseInteracted=!1,f.default.prototype.mouseX=0,f.default.prototype.mouseY=0,f.default.prototype.pmouseX=0,f.default.prototype.pmouseY=0,f.default.prototype.winMouseX=0,f.default.prototype.winMouseY=0,f.default.prototype.pwinMouseX=0,f.default.prototype.pwinMouseY=0,f.default.prototype.mouseButton=0,f.default.prototype.mouseIsPressed=!1,f.default.prototype._updateNextMouseCoords=function(_){var i,a,l,u,d;null!==this._curElement&&(!_.touches||0<_.touches.length)&&(a=this.width,l=this.height,(u=_)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),d=(i=this._curElement.elt).getBoundingClientRect(),l={x:(u.clientX-d.left)/(a=i.scrollWidth/a||1),y:(u.clientY-d.top)/(i=i.scrollHeight/l||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",_.movementX),this._setProperty("movedY",_.movementY),this._setProperty("mouseX",l.x),this._setProperty("mouseY",l.y),this._setProperty("winMouseX",l.winX),this._setProperty("winMouseY",l.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},f.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},f.default.prototype._setMouseButton=function(_){this._setProperty("mouseButton",1===_.button?g.CENTER:2===_.button?g.RIGHT:g.LEFT)},f.default.prototype._onmousemove=function(_){var i=this._isGlobal?window:this;this._updateNextMouseCoords(_),this.mouseIsPressed?"function"==typeof i.mouseDragged?!1===i.mouseDragged(_)&&_.preventDefault():"function"==typeof i.touchMoved&&!1===i.touchMoved(_)&&_.preventDefault():"function"==typeof i.mouseMoved&&!1===i.mouseMoved(_)&&_.preventDefault()},f.default.prototype._onmousedown=function(_){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(_),this._updateNextMouseCoords(_),this.touchstart||("function"==typeof i.mousePressed?!1===i.mousePressed(_)&&_.preventDefault():"function"==typeof i.touchStarted&&!1===i.touchStarted(_)&&_.preventDefault(),this.touchstart=!1)},f.default.prototype._onmouseup=function(_){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof i.mouseReleased?!1===i.mouseReleased(_)&&_.preventDefault():"function"==typeof i.touchEnded&&!1===i.touchEnded(_)&&_.preventDefault(),this.touchend=!1)},f.default.prototype._ondragend=f.default.prototype._onmouseup,f.default.prototype._ondragover=f.default.prototype._onmousemove,f.default.prototype._onclick=function(_){var i=this._isGlobal?window:this;"function"==typeof i.mouseClicked&&!1===i.mouseClicked(_)&&_.preventDefault()},f.default.prototype._ondblclick=function(_){var i=this._isGlobal?window:this;"function"==typeof i.doubleClicked&&!1===i.doubleClicked(_)&&_.preventDefault()},f.default.prototype._mouseWheelDeltaY=0,f.default.prototype._pmouseWheelDeltaY=0,f.default.prototype._onwheel=function(_){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",_.deltaY),"function"==typeof i.mouseWheel&&(_.delta=_.deltaY,!1===i.mouseWheel(_)&&_.preventDefault())},f.default.prototype.requestPointerLock=function(){var _=this._curElement.elt;return _.requestPointerLock=_.requestPointerLock||_.mozRequestPointerLock,_.requestPointerLock?(_.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},f.default.prototype.exitPointerLock=function(){document.exitPointerLock()},$.default=o=f.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var b=[],f=0;f<v.touches.length;f++)b[f]=function(d,u,h,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=d.getBoundingClientRect();return u=d.scrollWidth/u||1,d=d.scrollHeight/h||1,{x:((h=i.touches[a]||i.changedTouches[a]).clientX-l.left)/u,y:(h.clientY-l.top)/d,winX:h.clientX,winY:h.clientY,id:h.identifier}}(this._curElement.elt,this.width,this.height,v,f);this._setProperty("touches",b)}},o.default.prototype._ontouchstart=function(v){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof b.touchStarted&&(!1===b.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var b=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof b.touchMoved?!1===b.touchMoved(v)&&v.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var b=this._isGlobal?window:this;"function"==typeof b.touchEnded&&(!1===b.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},$.default=o=o.default},{"../core/main":283}],304:[function(o,se,$){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v,b,f,g,S={_toPixels:function(_){var i,a;return _ instanceof ImageData?_.data:_.getContext("2d")?_.getContext("2d").getImageData(0,0,_.width,_.height).data:_.getContext("webgl")?(a=(i=_.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,a=new Uint8Array(a),i.readPixels(0,0,_.width,_.height,i.RGBA,i.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(_,i){return _[3+(i*=4)]<<24&4278190080|_[i]<<16&16711680|_[1+i]<<8&65280|255&_[2+i]},_setPixels:function(_,i){for(var a,l=0,u=_.length;l<u;l++)_[0+(a=4*l)]=(16711680&i[l])>>>16,_[1+a]=(65280&i[l])>>>8,_[2+a]=255&i[l],_[3+a]=(4278190080&i[l])>>>24},_toImageData:function(_){return _ instanceof ImageData?_:_.getContext("2d").getImageData(0,0,_.width,_.height)},_createImageData:function(_,i){return S._tmpCanvas=document.createElement("canvas"),S._tmpCtx=S._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(_,i)},apply:function(_,d,a){var l=_.getContext("2d"),u=l.getImageData(0,0,_.width,_.height);(d=d(u,a))instanceof ImageData?l.putImageData(d,0,0,0,0,_.width,_.height):l.putImageData(u,0,0,0,0,_.width,_.height)},threshold:function(_){for(var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,a=S._toPixels(_),l=Math.floor(255*i),u=0;u<a.length;u+=4)a[u]=a[u+1]=a[u+2]=l<=.2126*a[u]+.7152*a[u+1]+.0722*a[u+2]?255:0},gray:function(_){for(var i=S._toPixels(_),a=0;a<i.length;a+=4)i[a]=i[a+1]=i[a+2]=.2126*i[a]+.7152*i[a+1]+.0722*i[a+2]},opaque:function(_){for(var i=S._toPixels(_),a=0;a<i.length;a+=4)i[a+3]=255;return i},invert:function(_){for(var i=S._toPixels(_),a=0;a<i.length;a+=4)i[a]=255-i[a],i[a+1]=255-i[a+1],i[a+2]=255-i[a+2]},posterize:function(_){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,a=S._toPixels(_);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var l=i-1,u=0;u<a.length;u+=4){var h=a[u+1],m=a[u+2];a[u]=255*(a[u]*i>>8)/l,a[u+1]=255*(h*i>>8)/l,a[u+2]=255*(m*i>>8)/l}},dilate:function(_){for(var i,a,l,u,d,h,m,p,y,D=S._toPixels(_),V=0,L=D.length?D.length/4:0,P=new Int32Array(L);V<L;)for(a=(i=V)+_.width;V<a;)u=l=S._getARGB(D,V),(y=V-1)<i&&(y=V),a<=(p=V+1)&&(p=V),(d=V-_.width)<0&&(d=0),L<=(h=V+_.width)&&(h=V),d=S._getARGB(D,d),y=S._getARGB(D,y),h=S._getARGB(D,h),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(m=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(l=y,u=m),u<(m=77*((y=S._getARGB(D,p))>>16&255)+151*(y>>8&255)+28*(255&y))&&(l=y,u=m),u<(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(l=d,u=p),u<(y=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(l=h,u=y),P[V++]=l;S._setPixels(D,P)},erode:function(_){for(var i,a,l,u,d,h,m,p,y,D=S._toPixels(_),V=0,L=D.length?D.length/4:0,P=new Int32Array(L);V<L;)for(a=(i=V)+_.width;V<a;)u=l=S._getARGB(D,V),(y=V-1)<i&&(y=V),a<=(p=V+1)&&(p=V),(d=V-_.width)<0&&(d=0),L<=(h=V+_.width)&&(h=V),d=S._getARGB(D,d),y=S._getARGB(D,y),h=S._getARGB(D,h),(m=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(l=y,u=m),(m=77*((y=S._getARGB(D,p))>>16&255)+151*(y>>8&255)+28*(255&y))<u&&(l=y,u=m),(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<u&&(l=d,u=p),(y=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<u&&(l=h,u=y),P[V++]=l;S._setPixels(D,P)},blur:function(_,i){for(var a,l,u,d,h,m,p,y,D,V,L=S._toPixels(_),P=_.width,x=_.height,U=P*x,A=new Int32Array(U),R=0;R<U;R++)A[R]=S._getARGB(L,R);var O,Z,re,q,te,X,G,Y,le=new Int32Array(U),Ie=new Int32Array(U),J=new Int32Array(U),j=new Int32Array(U),ne=0,me=3.5*i|0;if(v!==(me=me<1?1:me<248?me:248)){b=1+(v=me)<<1,f=new Int32Array(b),g=new Array(b);for(var De=0;De<b;De++)g[De]=new Int32Array(256);for(var $e=1,qe=me-1;$e<me;$e++){f[me+$e]=f[qe]=X=qe*qe,G=g[me+$e],Y=g[qe--];for(var ut=0;ut<256;ut++)G[ut]=Y[ut]=X*ut}te=f[me]=me*me,G=g[me];for(var He=0;He<256;He++)G[He]=te*He}for(Z=0;Z<x;Z++){for(O=0;O<P;O++){if(d=u=l=h=a=0,(m=O-v)<0)V=-m,m=0;else{if(P<=m)break;V=0}for(re=V;re<b&&!(P<=m);re++){var ot=A[m+ne];h+=(q=g[re])[(-16777216&ot)>>>24],l+=q[(16711680&ot)>>16],u+=q[(65280&ot)>>8],d+=q[255&ot],a+=f[re],m++}le[p=ne+O]=h/a,Ie[p]=l/a,J[p]=u/a,j[p]=d/a}ne+=P}for(D=(y=-v)*P,Z=ne=0;Z<x;Z++){for(O=0;O<P;O++){if(d=u=l=h=a=0,y<0)V=p=-y,m=O;else{if(x<=y)break;V=0,p=y,m=O+D}for(re=V;re<b&&!(x<=p);re++)h+=(q=g[re])[le[m]],l+=q[Ie[m]],u+=q[J[m]],d+=q[j[m]],a+=f[re],p++,m+=P;A[O+ne]=h/a<<24|l/a<<16|u/a<<8|d/a}ne+=P,D+=P,y++}S._setPixels(L,A)}};$.default=S},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=f(o("../core/main")),b=f(o("omggif"));function f(S){return S&&S.__esModule?S:{default:S}}function g(S){return function(_){if(Array.isArray(_)){for(var i=0,a=new Array(_.length);i<_.length;i++)a[i]=_[i];return a}}(S)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(S,_){return v.default._validateParameters("createImage",arguments),new v.default.Image(S,_)},v.default.prototype.saveCanvas=function(){for(var S,_,i,a,l,u,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];switch(v.default._validateParameters("saveCanvas",h),h[0]instanceof HTMLCanvasElement?(S=h[0],h.shift()):h[0]instanceof v.default.Element?(S=h[0].elt,h.shift()):h[0]instanceof v.default.Framebuffer?((l=this.createGraphics((a=h[0]).width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),l.loadPixels(),l.pixels.set(a.pixels),l.updatePixels(),S=l.elt,h.shift()):S=this._curElement&&this._curElement.elt,1<=h.length&&(_=h[0]),i=(i=2<=h.length?h[1]:i)||v.default.prototype._checkFileExtension(_,i)[1]||"png"){default:u="image/png";break;case"webp":u="image/webp";break;case"jpeg":case"jpg":u="image/jpeg"}S.toBlob(function(p){v.default.prototype.downloadFile(p,_,i),l&&l.remove()},u)},v.default.prototype.encodeAndDownloadGif=function(S,_){for(var i=S.gifProperties,l=(1===(a=i.loopLimit)?a=null:null===a&&(a=0),new Uint8Array(S.width*S.height*i.numFrames)),u=[],d={},h=0;h<i.numFrames;h++){for(var m=new Set,p=i.frames[h].image.data,y=p.length,D=new Uint32Array(S.width*S.height),V=0,L=0;V<y;V+=4,L++){var P=p[V+0]<<16|p[V+1]<<8|p[V+2];m.add(P),D[L]=P}var x=g(m).sort().toString();void 0===d[x]?d[x]={freq:1,frames:[h]}:(d[x].freq+=1,d[x].frames.push(h)),u.push(D)}for(var R=[],U=Object.keys(d).sort(function(J,j){return d[j].freq-d[J].freq}),A=U[0].split(",").map(function(J){return parseInt(J)}),O=(R=R.concat(d[A].frames),new Set(A)),Z=1;Z<U.length;Z++){var re=U[Z].split(",").map(function(J){return parseInt(J)}).filter(function(J){return!O.has(J)});if(A.length+re.length<=256){for(var q=0;q<re.length;q++)A.push(re[q]),O.add(re[q]);R=R.concat(d[U[Z]].frames)}}R=new Set(R);for(var te={},X=0;X<A.length;X++)te[A[X]]||(te[A[X]]=X);for(var G=1;G<A.length;)G<<=1;A.length=G;for(var a={loop:a,palette:new Uint32Array(A)},Y=new b.default.GifWriter(l,S.width,S.height,a),le={},Ie=0;Ie<i.numFrames;Ie++)!function(j){var ne=!R.has(j),me=ne?[]:A,De=new Uint8Array(S.width*S.height),$e={},qe=new Set,ut=(u[j].forEach(function(nt,Ye){ne?(void 0===$e[nt]&&($e[nt]=me.length,me.push(nt)),De[Ye]=$e[nt]):De[Ye]=te[nt],0<j&&u[j-1][Ye]!==nt&&qe.add(nt)}),{});if(0<(He=me.filter(function(nt){return!qe.has(nt)})).length){var He,ot=(ne?$e:te)[He=He[0]];if(0<j){for(var at=0;at<u[j].length;at++)u[j-1][at]===u[j][at]&&(De[at]=ot);ut.transparent=ot,le.frameOpts.disposal=1}}if(ut.delay=i.frames[j].delay/10,ne){for(var Ue=1;Ue<me.length;)Ue<<=1;me.length=Ue,ut.palette=new Uint32Array(me)}0<j&&Y.addFrame(0,0,S.width,S.height,le.pixelPaletteIndex,le.frameOpts),le={pixelPaletteIndex:De,frameOpts:ut}}(Ie);le.frameOpts.disposal=1,Y.addFrame(0,0,S.width,S.height,le.pixelPaletteIndex,le.frameOpts),a=new Blob([l.slice(0,Y.end())],{type:"image/gif"}),v.default.prototype.downloadFile(a,_,"gif")},v.default.prototype.saveFrames=function(S,_,i,u,l){v.default._validateParameters("saveFrames",arguments),i=v.default.prototype.constrain(i=i||3,0,15),i*=1e3,u=v.default.prototype.constrain(u||15,0,22);var d=0,h=v.default.prototype._makeFrame,m=this._curElement.elt,p=[],y=setInterval(function(){p.push(h(S+d,_,m)),d++},1e3/u);setTimeout(function(){if(clearInterval(y),l)l(p);else for(var D=0,V=p;D<V.length;D++){var L=V[D];v.default.prototype.downloadFile(L.imageData,L.filename,L.ext)}p=[]},.01+i)},v.default.prototype._makeFrame=function(S,_,l){var a;if(l=this?this._curElement.elt:l,_)switch(_.toLowerCase()){case"png":default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}else _="png",a="image/png";l=(l=l.toDataURL(a)).replace(a,"image/octet-stream");var u={};return u.imageData=l,u.filename=S,u.ext=_,u},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,se,$){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("regenerator-runtime/runtime");var f=l(o("../core/main")),g=l(o("../core/helpers")),S=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var p=a();if(p&&p.has(m))return p.get(m);var y,D={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in m){var L;Object.prototype.hasOwnProperty.call(m,y)&&((L=V?Object.getOwnPropertyDescriptor(m,y):null)&&(L.get||L.set)?Object.defineProperty(D,y,L):D[y]=m[y])}return D.default=m,p&&p.set(m,D),D}(o("../core/constants")),_=l(o("omggif")),i=o("gifenc");function a(){var m;return"function"!=typeof WeakMap?null:(a=function(){return m},m=new WeakMap)}function l(m){return m&&m.__esModule?m:{default:m}}function u(m,p,y,D,V,L,P){try{var x=m[L](P),U=x.value}catch(A){return void y(A)}x.done?p(U):Promise.resolve(U).then(D,V)}function h(m,p){return 0<m&&m<p?m:p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.loadImage=function(m,p,y){f.default._validateParameters("loadImage",arguments);var D=new f.default.Image(1,1,this),V=this,L=new Request(m,{method:"GET",mode:"cors"});return fetch(m,L).then(function(P){var x,U=P.headers.get("content-type");null===U&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),U&&U.includes("image/gif")?P.arrayBuffer().then(function(A){if(A){A=new Uint8Array(A);for(var R=D,O=p,Z=y,re=function(ne){V._decrementPreload()}.bind(V),q=new _.default.GifReader(A),te=(R.width=R.canvas.width=q.width,R.height=R.canvas.height=q.height,[]),X=q.numFrames(),G=new Uint8ClampedArray(R.width*R.height*4),Y=0;Y<X;Y++){var le=q.frameInfo(Y),Ie=R.drawingContext.getImageData(0,0,R.width,R.height),J=(G=Ie.data.slice(),function(ne,me){try{me.decodeAndBlitFrameRGBA(ne,G)}catch(De){f.default._friendlyFileLoadError(8,R.src),"function"==typeof Z?Z(De):console.error(De)}}(Y,q),new ImageData(G,R.width,R.height));0===(R.drawingContext.putImageData(J,0,0),J=le.delay)&&(J=10),te.push({image:R.drawingContext.getImageData(0,0,R.width,R.height),delay:10*J}),2===le.disposal?R.drawingContext.clearRect(le.x,le.y,le.width,le.height):3===le.disposal&&R.drawingContext.putImageData(Ie,0,0,le.x,le.y,le.width,le.height)}null===(A=q.loopCount())?A=1:0===A&&(A=null),R.drawingContext.putImageData(te[0].image,0,0),1<te.length&&(R.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:te,numFrames:X,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof O&&O(R),re()}},function(A){"function"==typeof y?(y(A),V._decrementPreload()):console.error(A)}):((x=new Image).onload=function(){D.width=D.canvas.width=x.width,D.height=D.canvas.height=x.height,D.drawingContext.drawImage(x,0,0),D.modified=!0,"function"==typeof p&&p(D),V._decrementPreload()},x.onerror=function(A){f.default._friendlyFileLoadError(0,x.src),"function"==typeof y?(y(A),V._decrementPreload()):console.error(A)},0!==m.indexOf("data:image/")&&(x.crossOrigin="Anonymous"),x.src=m),D.modified=!0}).catch(function(P){f.default._friendlyFileLoadError(0,m),"function"==typeof y?(y(P),V._decrementPreload()):console.error(P)}),D},f.default.prototype.saveGif=function(){m=M.mark(function y(D,V){var L,P,x,U,A,R,O,Z,re,q,te,X,G,Y,le,Ie,J,j,ne,me,De,$e,qe,ut,He,ot,at=arguments;return M.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(L=2<at.length&&void 0!==at[2]?at[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof D)throw TypeError("fileName parameter must be a string");Ue.next=3;break;case 3:if("number"!=typeof V)throw TypeError("Duration parameter must be a number");Ue.next=5;break;case 5:if(x=L&&L.units||"seconds",U=L&&L.silent||!1,A=L&&L.notificationDuration||0,R=L&&L.notificationID||"progressBar","number"!=typeof(P=L&&L.delay||0))throw TypeError("Delay parameter must be a number");Ue.next=12;break;case 12:if("seconds"!==x&&"frames"!==x)throw TypeError('Units parameter must be either "frames" or "seconds"');Ue.next=14;break;case 14:if("boolean"!=typeof U)throw TypeError("Silent parameter must be a boolean");Ue.next=16;break;case 16:if("number"!=typeof A)throw TypeError("Notification duration parameter must be a number");Ue.next=18;break;case 18:if("string"!=typeof R)throw TypeError("Notification ID parameter must be a string");Ue.next=20;break;case 20:return this._recording=!0,O=(O=1/(q=(q=this._targetFrameRate)!==1/0&&void 0!==q&&0!==q?q:60)*1e3)<20?20:O,re=(Z="seconds"===x?V*q:V)+(q="seconds"===x?P*q:P),this.frameCount=q,te=this._pixelDensity,this.pixelDensity(1),X=[],null!==document.getElementById(R)&&document.getElementById(R).remove(),U||((G=this.createP("")).id(R),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof f.default.RendererGL&&(le=this.drawingContext,Y=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4)),this.noLoop(),Ue.next=39,Promise.resolve();case 39:if(q<re)return this.redraw(),ut=void 0,ut=this._renderer instanceof f.default.RendererGL?(Y=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4),le.readPixels(0,0,le.drawingBufferWidth,le.drawingBufferHeight,le.RGBA,le.UNSIGNED_BYTE,Y),function(nt,Ye,st){for(var Ze=parseInt(st/2),ft=4*Ye,Ot=new Uint8Array(4*Ye),ar=0;ar<Ze;++ar){var Vt=ar*ft,tr=(st-ar-1)*ft;Ot.set(nt.subarray(Vt,Vt+ft)),nt.copyWithin(Vt,tr,tr+ft),nt.set(Ot,tr)}return nt}(Y,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,X.push(ut),q++,U||G.html("Saved frame <b>"+X.length.toString()+"</b> out of "+Z.toString()),Ue.next=48,new Promise(function(nt){return setTimeout(nt,0)});Ue.next=50;break;case 48:Ue.next=39;break;case 50:U||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(te),Ie=(0,i.GIFEncoder)(),J=function(nt){for(var Ye=new Uint8Array(nt.length*nt[0].length),st=0;st<nt.length;st++)Ye.set(nt[st],st*nt[0].length);var Ze=(0,i.quantize)(Ye,256,{format:"rgba4444",oneBitAlpha:!0});return 256===Ze.length?Ze[Ze.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ze.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ze}(X),j={},ne=function(nt){for(var Ye=nt.length/4,st=new Uint8Array(Ye),Ze=0;Ze<Ye;Ze++){var ft=nt[4*Ze]<<24|nt[4*Ze+1]<<16|nt[4*Ze+2]<<8|nt[4*Ze+3];void 0===j[ft]&&(j[ft]=(0,i.nearestColorIndex)(J,nt.slice(4*Ze,4*(Ze+1)))),st[Ze]=j[ft]}return st},me=J.length-1,De=[],$e=0;case 60:if(!($e<X.length)){Ue.next=71;break}if(qe=ne(X[$e]),ut=qe.slice(),0===$e)Ie.writeFrame(qe,this.width,this.height,{palette:J,delay:O,dispose:1});else{for(He=0;He<qe.length;He++)qe[He]===De[He]&&(qe[He]=me);Ie.writeFrame(qe,this.width,this.height,{delay:O,transparent:!0,transparentIndex:me,dispose:1})}return De=ut,U||G.html("Rendered frame <b>"+$e.toString()+"</b> out of "+Z.toString()),Ue.next=68,new Promise(function(nt){return setTimeout(nt,0)});case 68:$e++,Ue.next=60;break;case 71:Ie.finish(),ot=Ie.bytesView(),ot=new Blob([ot],{type:"image/gif"}),X=[],this._recording=!1,this.loop(),U||(G.html("Done. Downloading your gif!\u{1f338}"),0<A&&setTimeout(function(){return G.remove()},1e3*A)),f.default.prototype.downloadFile(ot,D,"gif");case 80:case"end":return Ue.stop()}},y,this)});var m,p=function(){var y=this,D=arguments;return new Promise(function(V,L){var P=m.apply(y,D);function x(A){u(P,V,L,x,U,"next",A)}function U(A){u(P,V,L,x,U,"throw",A)}x(void 0)})};return function(y,D){return p.apply(this,arguments)}}(),f.default.prototype.image=function(m,p,y,D,q,te,X,G,le,A,R,O){f.default._validateParameters("image",arguments);var Y=m.width,Z=m.height,re=(O=O||S.CENTER,R=R||S.CENTER,m.elt&&(Y=void 0!==Y?Y:m.elt.width,Z=void 0!==Z?Z:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(Y=void 0!==Y?Y:m.elt.videoWidth,Z=void 0!==Z?Z:m.elt.videoHeight),D||Y);q=q||Z,te=te||0,X=X||0,G=h(void 0!==G?G:Y,Y),Y=h(void 0!==le?le:Z,Z),le=1,m.elt&&!m.canvas&&m.elt.style.width&&(le=m.elt.videoWidth&&!D?m.elt.videoWidth:m.elt.width,le/=parseInt(m.elt.style.width,10)),te*=le,X*=le,Y*=le,G*=le,Z=function d(m,p,y,D,V,L,P,x,U,A,R){var O,Z,re,q,te,X,G,Y,le;return m===S.COVER&&(O=p,re=y,G=L,Y=P,X=x,le=U,Z=A,q=R,G/=te=Math.max(G/Z,Y/q),Y/=te,te=X,X=le,O===S.CENTER?te+=(Z-G)/2:O===S.RIGHT&&(te+=Z-G),re===S.CENTER?X+=(q-Y)/2:re===S.BOTTOM&&(X+=q-Y),x=(le={x:te,y:X,w:G,h:Y}).x,U=le.y,A=le.w,R=le.h),m===S.CONTAIN&&(O=p,Z=y,re=D,q=V,te=L,X=P,G=A,Y=R,G/=le=Math.max(G/te,Y/X),Y/=le,le=re,re=q,O===S.CENTER?le+=(te-G)/2:O===S.RIGHT&&(le+=te-G),Z===S.CENTER?re+=(X-Y)/2:Z===S.BOTTOM&&(re+=X-Y),D=(m={x:le,y:re,w:G,h:Y}).x,V=m.y,L=m.w,P=m.h),{sx:x,sy:U,sw:A,sh:R,dx:D,dy:V,dw:L,dh:P}}(A,R,O,(Z=g.default.modeAdjust(p,y,re,q,this._renderer._imageMode)).x,Z.y,Z.w,Z.h,te,X,G,Y),this._renderer.image(m,Z.sx,Z.sy,Z.sw,Z.sh,Z.dx,Z.dy,Z.dw,Z.dh)},f.default.prototype.tint=function(){for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];f.default._validateParameters("tint",p);var D=this.color.apply(this,p);this._renderer._tint=D.levels},f.default.prototype.noTint=function(){this._renderer._tint=null},f.default.prototype._getTintedImageCanvas=f.default.Renderer2D.prototype._getTintedImageCanvas,f.default.prototype.imageMode=function(m){f.default._validateParameters("imageMode",arguments),m!==S.CORNER&&m!==S.CORNERS&&m!==S.CENTER||(this._renderer._imageMode=m)},$.default=o=f.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=f(o("../core/main")),b=f(o("./filters"));function f(S){return S&&S.__esModule?S:{default:S}}function g(S,_){for(var i=0;i<_.length;i++){var a=_[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(S,a.key,a)}}v.default.Image=function(){function S(l,u){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.width=l,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var _,i;return _=S,(i=[{key:"pixelDensity",value:function(l){return void 0!==l?(l<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),l=1),this._pixelDensity=l,this.width/=l,this.height/=l,this):this._pixelDensity}},{key:"_animateGif",value:function(h){var u,d=this.gifProperties;h=h._lastRealFrameTime||window.performance.now(),0===d.lastChangeTime&&(d.lastChangeTime=h),d.playing&&(d.timeDisplayed=h-d.lastChangeTime,d.timeDisplayed>=(u=d.frames[d.displayIndex].delay)&&(u=Math.floor(d.timeDisplayed/u),d.timeDisplayed=0,d.lastChangeTime=h,d.displayIndex+=u,d.loopCount=Math.floor(d.displayIndex/d.numFrames),null!==d.loopLimit&&d.loopCount>=d.loopLimit?d.playing=!1:(this.drawingContext.putImageData(d.frames[h=d.displayIndex%d.numFrames].image,0,0),d.displayIndex=h,this.setModified(!0))))}},{key:"_setProperty",value:function(l,u){this[l]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(l,u,d,h){v.default.Renderer2D.prototype.updatePixels.call(this,l,u,d,h),this.setModified(!0)}},{key:"get",value:function(l,u,d,h){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return v.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(l,u,d){v.default.Renderer2D.prototype.set.call(this,l,u,d),this.setModified(!0)}},{key:"resize",value:function(l,u){0===l&&0===u?(l=this.canvas.width,u=this.canvas.height):0===l?l=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*l/this.canvas.width),l=Math.floor(l),u=Math.floor(u);var d=document.createElement("canvas");if(d.width=l,d.height=u,this.gifProperties)for(var h=this.gifProperties,m=0;m<h.numFrames;m++){for(var p=this.drawingContext.createImageData(l,u),y=(x=x=P=L=V=void 0,h.frames[m].image),D=p,V=0,L=0;L<D.height;L++)for(var P=0;P<D.width;P++){var x=Math.floor(P*y.width/D.width);x=4*(Math.floor(L*y.height/D.height)*y.width+x),D.data[V++]=y.data[x++],D.data[V++]=y.data[x++],D.data[V++]=y.data[x++],D.data[V++]=y.data[+x]}h.frames[m].image=p}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height),this.canvas.width=this.width=l,this.canvas.height=this.height=u,this.drawingContext.drawImage(d,0,0,l,u,0,0,l,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];v.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(l){var u=this.drawingContext.globalCompositeOperation,d=this._pixelDensity,h=1,m=[l=void 0===l?this:l,0,0,(h=l instanceof v.default.Renderer?l._pInst._pixelDensity:h)*l.width,h*l.height,0,0,d*this.width,d*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var p=0;p<this.gifProperties.frames.length;p++)this.drawingContext.putImageData(this.gifProperties.frames[p].image,0,0),this.copy.apply(this,m),this.gifProperties.frames[p].image=this.drawingContext.getImageData(0,0,d*this.width,d*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,m);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(l,u){b.default.apply(this.canvas,b.default[l],u),this.setModified(!0)}},{key:"blend",value:function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(l){this._modified=l}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(l,u){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,l):v.default.prototype.saveCanvas(this.canvas,l,u)}},{key:"reset",value:function(){var l;this.gifProperties&&((l=this.gifProperties).playing=!0,l.timeSinceStart=0,l.timeDisplayed=0,l.lastChangeTime=0,l.loopCount=0,l.displayIndex=0,this.drawingContext.putImageData(l.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var l;if(this.gifProperties)return(l=this.gifProperties).displayIndex%l.numFrames}},{key:"setFrame",value:function(l){var u;this.gifProperties&&(l<(u=this.gifProperties).numFrames&&0<=l?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=l,this.drawingContext.putImageData(u.frames[l].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(l,u){if(this.gifProperties){var d=this.gifProperties;if(u<d.numFrames&&0<=u)d.frames[u].delay=l;else{var h=!0,m=void(u=!1);try{for(var p,y=d.frames[Symbol.iterator]();!(h=(p=y.next()).done);h=!0)p.value.delay=l}catch(V){u=!0,m=V}finally{try{h||null==y.return||y.return()}finally{if(u)throw m}}}}}}])&&g(_.prototype,i),S}(),$.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,se,$){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=f(o("../core/main")),b=f(o("./filters"));function f(g){return g&&g.__esModule?g:{default:g}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var g,S=arguments.length,_=new Array(S),i=0;i<S;i++)_[i]=arguments[i];v.default._validateParameters("blend",_),this._renderer?(g=this._renderer).blend.apply(g,_):v.default.Renderer2D.prototype.blend.apply(this,_)},v.default.prototype.copy=function(){for(var g,S,_,i,a,l,u,d,h,m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];if(v.default._validateParameters("copy",p),9===p.length)g=p[0],S=p[1],_=p[2],i=p[3],a=p[4],l=p[5],u=p[6],d=p[7],h=p[8];else{if(8!==p.length)throw new Error("Signature not supported");g=this,S=p[0],_=p[1],i=p[2],a=p[3],l=p[4],u=p[5],d=p[6],h=p[7]}v.default.prototype._copyHelper(this,g,S,_,i,a,l,u,d,h)},v.default.prototype._copyHelper=function(g,S,_,i,a,l,u,d,h,m){var p=S.canvas.width/S.width,y=0,D=0;S._renderer&&S._renderer.isP3D&&(y=S.width/2,D=S.height/2),g._renderer&&g._renderer.isP3D?(g.push(),g.resetMatrix(),g.noLights(),g.blendMode(g.BLEND),g.imageMode(g.CORNER),v.default.RendererGL.prototype.image.call(g._renderer,S,_+y,i+D,a,l,u,d,h,m),g.pop()):g.drawingContext.drawImage(S.canvas,p*(_+y),p*(i+D),p*a,p*l,u,d,h,m)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];v.default._validateParameters("filter",S);var u=function(){var d,h={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?h.shader=arguments.length<=0?void 0:arguments[0]:(h.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(h.value=arguments.length<=1?void 0:arguments[1]),!1===((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])&&(h.useWebGL=!1)),h}.apply(void 0,S),i=u.shader,a=u.operation,l=u.value;u=u.useWebGL,this._renderer.isP3D&&i?v.default.RendererGL.prototype.filter.call(this._renderer,i):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,a,l):((i=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),i.filter.apply(i,S),this.copy(i._renderer,0,0,this.width,this.height,0,0,this.width,this.height),i.clear())):b.default.apply(void 0!==this.canvas?this.canvas:this.elt,b.default[a],l)},v.default.prototype.get=function(g,S,_,i){var a;return v.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},v.default.prototype.loadPixels=function(){for(var g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];v.default._validateParameters("loadPixels",S),this._renderer.loadPixels()},v.default.prototype.set=function(g,S,_){this._renderer.set(g,S,_)},v.default.prototype.updatePixels=function(g,S,_,i){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(g,S,_,i)},$.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,se,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=S(o("../core/main")),f=(o("whatwg-fetch"),o("es6-promise/auto"),S(o("fetch-jsonp"))),g=S(o("file-saver"));function S(l){return l&&l.__esModule?l:{default:l}}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}function i(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(l,u){u&&!0!==u&&"true"!==u||(u="");var d="";return(l=l||"untitled")&&l.includes(".")&&(d=l.split(".").pop()),u&&d!==u&&(d=u,l="".concat(l,".").concat(d)),[l,d]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];b.default._validateParameters("loadJSON",u);for(var h,m,p,y=u[0],D={},V="json",L=1;L<u.length;L++){var P=u[L];"string"==typeof P?"jsonp"!==P&&"json"!==P||(V=P):"function"==typeof P?h?m=P:h=P:"object"===_(P)&&(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))&&(V="jsonp",p=P)}var x=this;return this.httpDo(y,"GET",p,V,function(U){for(var A in U)D[A]=U[A];void 0!==h&&h(U),x._decrementPreload()},function(U){if(b.default._friendlyFileLoadError(5,y),!m)throw U;m(U)}),D},b.default.prototype.loadStrings=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];b.default._validateParameters("loadStrings",u);for(var h,m,p=[],y=1;y<u.length;y++){var D=u[y];"function"==typeof D&&(void 0===h?h=D:void 0===m&&(m=D))}var V=this;return b.default.prototype.httpDo.call(this,u[0],"GET","text",function(L){for(var P=L.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),x=0,U=P.length;x<U;x+=32768)Array.prototype.push.apply(p,P.slice(x,Math.min(x+32768,U)));void 0!==h&&h(p),V._decrementPreload()},function(L){if(b.default._friendlyFileLoadError(3,L),!m)throw L;m(L)}),p},b.default.prototype.loadTable=function(l){var u,d,h,m=[],p=!1,y=l.substring(l.lastIndexOf(".")+1,l.length);"csv"===y?h=",":"ssv"===y?h=";":"tsv"===y&&(h="\t");for(var D=1;D<arguments.length;D++)"function"==typeof arguments[D]?void 0===u?u=arguments[D]:void 0===d&&(d=arguments[D]):"string"==typeof arguments[D]&&(m.push(arguments[D]),"header"===arguments[D]&&(p=!0),"csv"===arguments[D]?h=",":"ssv"===arguments[D]?h=";":"tsv"===arguments[D]&&(h="\t"));var V=new b.default.Table,L=this;return this.httpDo(l,"GET","table",function(P){for(var x,U,A={},O=[],Z=0,re=null,q=function(){A.currentState=0,A.token=""},te=function(){re.push(A.token),q()},X=function(){A.currentState=4,O.push(re),re=null};;){if(null==(x=P[Z++])){if(A.escaped)throw new Error("Unclosed quote in file.");if(re){te(),X();break}}if(null===re&&(A.escaped=!1,re=[],q()),0===A.currentState){if('"'===x){A.escaped=!0,A.currentState=1;continue}A.currentState=1}if(1===A.currentState&&A.escaped)if('"'===x)'"'===P[Z]?(A.token+='"',Z++):(A.escaped=!1,A.currentState=2);else{if("\r"===x)continue;A.token+=x}else"\r"===x?("\n"===P[Z]&&Z++,te(),X()):"\n"===x?(te(),X()):x===h?te():1===A.currentState&&(A.token+=x)}if(p)V.columns=O.shift();else for(var G=0;G<O[0].length;G++)V.columns[G]="null";for(var Y=0;Y<O.length;Y++)(1!==O[Y].length||"undefined"!==O[Y][0]&&""!==O[Y][0])&&((U=new b.default.TableRow).arr=O[Y],U.obj=function(le,Ie){if(void 0===(Ie=Ie||[]))for(var J=0;J<le.length;J++)Ie[J.toString()]=J;return Object.fromEntries(Ie.map(function(j,ne){return[j,le[ne]]}))}(O[Y],V.columns),V.addRow(U));"function"==typeof u&&u(V),L._decrementPreload()},function(P){b.default._friendlyFileLoadError(2,l),d?d(P):console.error(P)}),V},b.default.prototype.loadXML=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];for(var h,m,p=new b.default.XML,y=1;y<u.length;y++){var D=u[y];"function"==typeof D&&(void 0===h?h=D:void 0===m&&(m=D))}var V=this;return this.httpDo(u[0],"GET","xml",function(L){for(var P in L)p[P]=L[P];void 0!==h&&h(p),V._decrementPreload()},function(L){if(b.default._friendlyFileLoadError(1,L),!m)throw L;m(L)}),p},b.default.prototype.loadBytes=function(l,u,d){var h={},m=this;return this.httpDo(l,"GET","arrayBuffer",function(p){h.bytes=new Uint8Array(p),"function"==typeof u&&u(h),m._decrementPreload()},function(p){if(b.default._friendlyFileLoadError(6,l),!d)throw p;d(p)}),h},b.default.prototype.httpGet=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return b.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,u)},b.default.prototype.httpPost=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return b.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,u)},b.default.prototype.httpDo=function(){for(var l,u,d,h={},m=0,p="text/plain",y=arguments.length-1;0<y&&"function"==typeof(y<0||arguments.length<=y?void 0:arguments[y]);y--)m++;var V=arguments.length<=0?void 0:arguments[0];if(2==(D=arguments.length-m)&&"string"==typeof V&&"object"===_(arguments.length<=1?void 0:arguments[1]))R=new Request(V,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3];else{for(var L,P="GET",x=1;x<arguments.length;x++){var U=x<0||arguments.length<=x?void 0:arguments[x];if("string"==typeof U)"GET"===U||"POST"===U||"PUT"===U||"DELETE"===U?P=U:"json"===U||"jsonp"===U||"binary"===U||"arrayBuffer"===U||"xml"===U||"text"===U||"table"===U?l=U:L=U;else if("number"==typeof U)L=U.toString();else if("object"===_(U))if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var A in U)h[A]=U[A];else p=U instanceof b.default.XML?(L=U.serialize(),"application/xml"):(L=JSON.stringify(U),"application/json");else"function"==typeof U&&(u?d=U:u=U)}var D="GET"===P?new Headers:new Headers({"Content-Type":p}),R=new Request(V,{method:P,mode:"cors",body:L,headers:D})}return(D=(D="jsonp"===(l=l||(V.includes("json")?"json":V.includes("xml")?"xml":"text"))?(0,f.default)(V,h):fetch(R)).then(function(O){if(!O.ok)throw(Z=new Error(O.body)).status=O.status,Z.ok=!1,Z;var Z=0;switch((Z="jsonp"!==l?O.headers.get("content-length"):Z)&&64e6<Z&&b.default._friendlyFileLoadError(7,V),l){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(re){return re=(new DOMParser).parseFromString(re,"text/xml"),new b.default.XML(re.documentElement)});default:return O.text()}})).then(u||function(){}),D.catch(d||console.error),D},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(l,u){var d,h;for(h in b.default.prototype._pWriters)if(b.default.prototype._pWriters[h].name===l)return d=new b.default.PrintWriter(l+this.millis(),u),b.default.prototype._pWriters.push(d),d;return d=new b.default.PrintWriter(l,u),b.default.prototype._pWriters.push(d),d},b.default.PrintWriter=function(l,u){var d=this;this.name=l,this.content="",this.write=function(h){this.content+=h},this.print=function(h){this.content+="".concat(h,"\n")},this.clear=function(){this.content=""},this.close=function(){var h,m=[];for(h in m.push(this.content),b.default.prototype.writeFile(m,l,u),b.default.prototype._pWriters)b.default.prototype._pWriters[h].name===this.name&&b.default.prototype._pWriters.splice(h,1);d.clear(),d={}}},b.default.prototype.save=function(l,u,d){var h=arguments,m=(this._curElement||this).elt;if(0===h.length)b.default.prototype.saveCanvas(m);else if(h[0]instanceof b.default.Renderer||h[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(h[0].elt,h[1],h[2]);else if(1===h.length&&"string"==typeof h[0])b.default.prototype.saveCanvas(m,h[0]);else switch(a(h[1],h[2])[1]){case"json":return void b.default.prototype.saveJSON(h[0],h[1],h[2]);case"txt":return void b.default.prototype.saveStrings(h[0],h[1],h[2]);default:h[0]instanceof Array?b.default.prototype.saveStrings(h[0],h[1],h[2]):h[0]instanceof b.default.Table?b.default.prototype.saveTable(h[0],h[1],h[2]):h[0]instanceof b.default.Image?b.default.prototype.saveCanvas(h[0].canvas,h[1]):h[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(h[0],h[1],h[2],h[3])}},b.default.prototype.saveJSON=function(l,u,d){b.default._validateParameters("saveJSON",arguments),d=d?JSON.stringify(l):JSON.stringify(l,void 0,2),this.saveStrings(d.split("\n"),u,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(l,u,d,h){b.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(u,d||"txt"),p=0;p<l.length;p++)m.write(h?l[p]+"\r\n":l[p]+"\n");m.close(),m.clear()},b.default.prototype.saveTable=function(l,u,d){b.default._validateParameters("saveTable",arguments),h=void 0===d?u.substring(u.lastIndexOf(".")+1,u.length):d;var h,m=this.createWriter(u,h),p=l.columns,y="tsv"===h?"\t":",";if("html"!==h){if("0"!==p[0]){for(var D=0;D<p.length;D++)m.write(D<p.length-1?p[D]+y:p[D]);m.write("\n")}for(var V=0;V<l.rows.length;V++){var L=void 0;for(L=0;L<l.rows[V].arr.length;L++)L<l.rows[V].arr.length-1?"csv"===h&&String(l.rows[V].arr[L]).includes(",")?m.write('"'+l.rows[V].arr[L]+'"'+y):m.write(l.rows[V].arr[L]+y):"csv"===h&&String(l.rows[V].arr[L]).includes(",")?m.write('"'+l.rows[V].arr[L]+'"'):m.write(l.rows[V].arr[L]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==p[0]){m.print("    <tr>");for(var P=0;P<p.length;P++){var x=i(p[P]);m.print("      <td>".concat(x)),m.print("      </td>")}m.print("    </tr>")}for(var U=0;U<l.rows.length;U++){m.print("    <tr>");for(var A=0;A<l.columns.length;A++){var R=i(l.rows[U].getString(A));m.print("      <td>".concat(R)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},b.default.prototype.writeFile=function(m,u,d){var h="application/octet-stream";b.default.prototype._isSafari()&&(h="text/plain"),m=new Blob(m,{type:h}),b.default.prototype.downloadFile(m,u,d)},b.default.prototype.downloadFile=function(l,m,p){var h;p=(m=a(m,p))[0],l instanceof Blob?g.default.saveAs(l,p):((h=document.createElement("a")).href=l,h.download=p,h.onclick=function(y){document.body.removeChild(y.target),y.stopPropagation()},h.style.display="none",document.body.appendChild(h),b.default.prototype._isSafari()&&(l=(l='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(l)),h.click())},b.default.prototype._checkFileExtension=a,b.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},$.default=o=b.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,se,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,g){for(var S=0;S<g.length;S++){var _=g[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Table=function(){function f(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=i}var g,S;return g=f,(S=[{key:"addRow",value:function(i){if(void 0===(i=i||new v.default.TableRow).arr||void 0===i.obj)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i}},{key:"removeRow",value:function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)}},{key:"getRow",value:function(i){return this.rows[i]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(i,a){if("string"==typeof a){for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[a]===i)return this.rows[l]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[a]===i)return this.rows[u];return null}},{key:"findRows",value:function(i,a){var l=[];if("string"==typeof a)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[a]===i&&l.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].arr[a]===i&&l.push(this.rows[d]);return l}},{key:"matchRow",value:function(i,a){if("number"==typeof a){for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[a].match(i))return this.rows[l]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[a].match(i))return this.rows[u];return null}},{key:"matchRows",value:function(i,a){var l=[];if("number"==typeof a)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[a].match(i)&&l.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].obj[a].match(i)&&l.push(this.rows[d]);return l}},{key:"getColumn",value:function(i){var a=[];if("string"==typeof i)for(var l=0;l<this.rows.length;l++)a.push(this.rows[l].obj[i]);else for(var u=0;u<this.rows.length;u++)a.push(this.rows[u].arr[i]);return a}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(i){this.columns.push(i||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(i,a){for(var l=[],u=0;u<i.length;u++)l.push(i.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var d=new RegExp(l.join("|"),"g");if(void 0===a)for(var h=0;h<this.columns.length;h++)for(var m=0;m<this.rows.length;m++){var p=(p=this.rows[m].arr[h]).replace(d,"");this.rows[m].arr[h]=p,this.rows[m].obj[this.columns[h]]=p}else if("string"==typeof a)for(var y=0;y<this.rows.length;y++){var D=(D=this.rows[y].obj[a]).replace(d,""),V=(this.rows[y].obj[a]=D,this.columns.indexOf(a));this.rows[y].arr[V]=D}else for(var L=0;L<this.rows.length;L++){var P=(P=this.rows[L].arr[a]).replace(d,"");this.rows[L].arr[a]=P,this.rows[L].obj[this.columns[a]]=P}}},{key:"trim",value:function(i){var a=new RegExp(" ","g");if(void 0===i)for(var l=0;l<this.columns.length;l++)for(var u=0;u<this.rows.length;u++){var d=(d=this.rows[u].arr[l]).replace(a,"");this.rows[u].arr[l]=d,this.rows[u].obj[this.columns[l]]=d}else if("string"==typeof i)for(var h=0;h<this.rows.length;h++){var m=(m=this.rows[h].obj[i]).replace(a,""),p=(this.rows[h].obj[i]=m,this.columns.indexOf(i));this.rows[h].arr[p]=m}else for(var y=0;y<this.rows.length;y++){var D=(D=this.rows[y].arr[i]).replace(a,"");this.rows[y].arr[i]=D,this.rows[y].obj[this.columns[i]]=D}}},{key:"removeColumn",value:function(u){var a,l;"string"==typeof u?l=this.columns.indexOf(a=u):a=this.columns[l=u],u=this.columns.splice(l+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var d=0;d<this.rows.length;d++){var h=this.rows[d].arr,m=h.splice(l+1,h.length);h.pop(),this.rows[d].arr=h.concat(m),delete this.rows[d].obj[a]}}},{key:"set",value:function(i,a,l){this.rows[i].set(a,l)}},{key:"setNum",value:function(i,a,l){this.rows[i].setNum(a,l)}},{key:"setString",value:function(i,a,l){this.rows[i].setString(a,l)}},{key:"get",value:function(i,a){return this.rows[i].get(a)}},{key:"getNum",value:function(i,a){return this.rows[i].getNum(a)}},{key:"getString",value:function(i,a){return this.rows[i].getString(a)}},{key:"getObject",value:function(i){for(var a,l={},u=0;u<this.rows.length;u++)if(a=this.rows[u].obj,"string"==typeof i){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));l[a[i]]=a}else l[u]=this.rows[u].obj;return l}},{key:"getArray",value:function(){for(var i=[],a=0;a<this.rows.length;a++)i.push(this.rows[a].arr);return i}}])&&b(g.prototype,S),f}(),$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,se,$){"use strict";function v(b,f){for(var g=0;g<f.length;g++){var S=f[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function b(_,i){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=[];_&&(a=_.split(i=i||",")),this.arr=a,this.obj=Object.fromEntries(a.entries()),this.table=null}var f,g;return f=b,(g=[{key:"set",value:function(_,i){if("string"==typeof _){var a=this.table.columns.indexOf(_);if(!(0<=a))throw new Error('This table has no column named "'.concat(_,'"'));this.obj[_]=i,this.arr[a]=i}else{if(!(_<this.table.columns.length))throw new Error("Column #".concat(_," is out of the range of this table"));this.arr[_]=i,this.obj[a=this.table.columns[_]]=i}}},{key:"setNum",value:function(_,i){i=parseFloat(i),this.set(_,i)}},{key:"setString",value:function(_,i){i=i.toString(),this.set(_,i)}},{key:"get",value:function(_){return("string"==typeof _?this.obj:this.arr)[_]}},{key:"getNum",value:function(_){var i=parseFloat("string"==typeof _?this.obj[_]:this.arr[_]);if("NaN"===i.toString())throw"Error: ".concat(this.obj[_]," is NaN (Not a Number)");return i}},{key:"getString",value:function(_){return("string"==typeof _?this.obj:this.arr)[_].toString()}}])&&v(f.prototype,g),b}(),$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,S){for(var _=0;_<S.length;_++){var i=S[_];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(g,i.key,i)}}v.default.XML=function(){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");a?this.DOM=a:(a=document.implementation.createDocument(null,"doc"),this.DOM=a.createElement("root"))}var S,_;return S=g,(_=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(a){var l=this.DOM.innerHTML,u=this.DOM.attributes,d=document.implementation.createDocument(null,"default").createElement(a);d.innerHTML=l;for(var h=0;h<u.length;h++)d.setAttribute(u[h].nodeName,u[h].nodeValue);this.DOM=d}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var a=[],l=0;l<this.DOM.childNodes.length;l++)a.push(this.DOM.childNodes[l].nodeName);return a}},{key:"getChildren",value:function(a){return function f(g){for(var S=[],_=0;_<g.length;_++)S.push(new v.default.XML(g[_]));return S}(a?this.DOM.getElementsByTagName(a):this.DOM.children)}},{key:"getChild",value:function(a){if("string"!=typeof a)return new v.default.XML(this.DOM.children[a]);var l=!0,u=!1,d=void 0;try{for(var h,m=this.DOM.children[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var p=h.value;if(p.tagName===a)return new v.default.XML(p)}}catch(y){u=!0,d=y}finally{try{l||null==m.return||m.return()}finally{if(u)throw d}}}},{key:"addChild",value:function(a){a instanceof v.default.XML&&this.DOM.appendChild(a.DOM)}},{key:"removeChild",value:function(a){var l=-1;if("string"==typeof a){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===a){l=u;break}}else l=a;-1!==l&&this.DOM.removeChild(this.DOM.children[l])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var a=[],l=!0,u=!1,d=void 0;try{for(var h,m=this.DOM.attributes[Symbol.iterator]();!(l=(h=m.next()).done);l=!0)a.push(h.value.nodeName)}catch(y){u=!0,d=y}finally{try{l||null==m.return||m.return()}finally{if(u)throw d}}return a}},{key:"hasAttribute",value:function(a){var l={},u=!0,d=!1,h=void 0;try{for(var m,p=this.DOM.attributes[Symbol.iterator]();!(u=(m=p.next()).done);u=!0){var y=m.value;l[y.nodeName]=y.nodeValue}}catch(D){d=!0,h=D}finally{try{u||null==p.return||p.return()}finally{if(d)throw h}}return!!l[a]}},{key:"getNum",value:function(a,l){var u={},d=!0,h=!1,m=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var D=p.value;u[D.nodeName]=D.nodeValue}}catch(V){h=!0,m=V}finally{try{d||null==y.return||y.return()}finally{if(h)throw m}}return Number(u[a])||l||0}},{key:"getString",value:function(a,l){var u={},d=!0,h=!1,m=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var D=p.value;u[D.nodeName]=D.nodeValue}}catch(V){h=!0,m=V}finally{try{d||null==y.return||y.return()}finally{if(h)throw m}}return u[a]?String(u[a]):l||null}},{key:"setAttribute",value:function(a,l){this.DOM.setAttribute(a,l)}},{key:"getContent",value:function(a){var l=this.DOM.textContent;return(l=l.replace(/\s\s+/g,","))||a||null}},{key:"setContent",value:function(a){this.DOM.children.length||(this.DOM.textContent=a)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&b(S.prototype,_),g}(),$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f){return function(g){if(Array.isArray(g)){for(var S=0,_=new Array(g.length);S<g.length;S++)_[S]=g[S];return _}}(f)||function(g){if(Symbol.iterator in Object(g)||"[object Arguments]"===Object.prototype.toString.call(g))return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(f,g,S){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(f,S),g)},v.default.prototype.dist=function(){for(var f=arguments.length,g=new Array(f),S=0;S<f;S++)g[S]=arguments[S];return v.default._validateParameters("dist",g),4===g.length?Math.hypot(g[2]-g[0],g[3]-g[1]):6===g.length?Math.hypot(g[3]-g[0],g[4]-g[1],g[5]-g[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(f,g,S){return v.default._validateParameters("lerp",arguments),S*(g-f)+f},v.default.prototype.log=Math.log,v.default.prototype.mag=function(f,g){return v.default._validateParameters("mag",arguments),Math.hypot(f,g)},v.default.prototype.map=function(f,g,S,_,i,a){return v.default._validateParameters("map",arguments),f=(f-g)/(S-g)*(i-_)+_,a?_<i?this.constrain(f,_,i):this.constrain(f,i,_):f},v.default.prototype.max=function(){for(var f=function(i){return Math.max.apply(Math,b(i))},g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return Array.isArray(S[0])?f(S[0]):f(S)},v.default.prototype.min=function(){for(var f=function(i){return Math.min.apply(Math,b(i))},g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return Array.isArray(S[0])?f(S[0]):f(S)},v.default.prototype.norm=function(f,g,S){return v.default._validateParameters("norm",arguments),this.map(f,g,S,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(f,g){return g?(g=Math.pow(10,g),Math.round(f*g)/g):Math.round(f)},v.default.prototype.sq=function(f){return f*f},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(_){v.default._validateParameters("fract",arguments);var g,S=0;return _=Number(_),isNaN(_)||Math.abs(_)===1/0?_:(_<0&&(_=-_,S=1),String(_).includes(".")&&!String(_).includes("e")?(g=+("0"+(g=String(_)).slice(g.indexOf("."))),Math.abs(S-g)):_<1?Math.abs(S-_):0)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,se,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,S,_){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,a,l){var u=[null];return u.push.apply(u,a),a=new(Function.bind.apply(i,u)),l&&f(a,l.prototype),a}).apply(null,arguments)}function f(g,S){return(f=Object.setPrototypeOf||function(_,i){return _.__proto__=i,_})(g,S)}v.default.prototype.createVector=function(g,S,_){return this instanceof v.default?b(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(g,S,_)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(_,se,$){"use strict";function v(i){return.5*(1-Math.cos(i*Math.PI))}Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,_=(_=_("../core/main"))&&_.__esModule?_:{default:_};var b,f=4095,g=4,S=.5;_.default.prototype.noise=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==b){b=new Array(4096);for(var u=0;u<4096;u++)b[u]=Math.random()}i<0&&(i=-i),a<0&&(a=-a),l<0&&(l=-l);for(var d,h,m=Math.floor(i),p=Math.floor(a),y=Math.floor(l),D=i-m,V=a-p,L=l-y,P=0,x=.5,U=0;U<g;U++){var A=m+(p<<4)+(y<<8),R=v(D),O=v(V),Z=b[A&f];Z+=R*(b[A+1&f]-Z),d=b[A+16&f],Z+=O*((d+=R*(b[A+16+1&f]-d))-Z),d=b[(A+=256)&f],d+=R*(b[A+1&f]-d),h=b[A+16&f],d+=O*((h+=R*(b[A+16+1&f]-h))-d),P+=(Z+=v(L)*(d-Z))*x,x*=S,m<<=1,p<<=1,y<<=1,1<=(D*=2)&&(m++,D--),1<=(V*=2)&&(p++,V--),1<=(L*=2)&&(y++,L--)}return P},_.default.prototype.noiseDetail=function(i,a){0<i&&(g=i),0<a&&(S=a)},_.default.prototype.noiseSeed=function(i){u=4294967296;var l,u,d_rand=function(){return(l=(1664525*l+1013904223)%u)/u};(function(m){l=(null==m?Math.random()*u:m)>>>0})(i),b=new Array(4096);for(var h=0;h<4096;h++)b[h]=d_rand()},$.default=_=_.default},{"../core/main":283}],316:[function(o,se,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(i=o("../core/main"))&&i.__esModule?i:{default:i},g=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var l=S();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var m;Object.prototype.hasOwnProperty.call(a,u)&&((m=h?Object.getOwnPropertyDescriptor(a,u):null)&&(m.get||m.set)?Object.defineProperty(d,u,m):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("../core/constants"));function S(){var a;return"function"!=typeof WeakMap?null:(S=function(){return a},a=new WeakMap)}function _(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}f.default.Vector=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var m,p,y="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=p,this.z=y}var l,u,d;return l=a,d=[{key:"fromAngle",value:function(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new f.default.Vector(m*Math.cos(h),m*Math.sin(h),0)}},{key:"fromAngles",value:function(L,D){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,y=Math.cos(D),V=(D=Math.sin(D),Math.cos(L));return L=Math.sin(L),new f.default.Vector(p*L*D,-p*V,p*L*y)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*g.TWO_PI)}},{key:"random3D",value:function(){var h=Math.random()*g.TWO_PI,m=2*Math.random()-1,p=(y=Math.sqrt(1-m*m))*Math.cos(h),y=y*Math.sin(h);return new f.default.Vector(p,y,m)}},{key:"copy",value:function(h){return h.copy(h)}},{key:"add",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return V?V.set(y):(V=y.copy(),3===m.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),V.add(D),V}},{key:"rem",value:function(h,m){if(h instanceof f.default.Vector&&m instanceof f.default.Vector)return(h=h.copy()).rem(m),h}},{key:"sub",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return V?V.set(y):(V=y.copy(),3===m.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),V.sub(D),V}},{key:"mult",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return V?V.set(y):(V=y.copy(),3===m.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),V.mult(D),V}},{key:"rotate",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return 2===m.length?V=y.copy():(V instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),V.set(y)),V.rotate(D),V}},{key:"div",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return V?V.set(y):(V=y.copy(),3===m.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),V.div(D),V}},{key:"dot",value:function(h,m){return h.dot(m)}},{key:"cross",value:function(h,m){return h.cross(m)}},{key:"dist",value:function(h,m){return h.dist(m)}},{key:"lerp",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2],L=m[3];return L?L.set(y):(L=y.copy(),4===m.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),L.lerp(D,V),L}},{key:"slerp",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2],L=m[3];return L?L.set(y):(L=y.copy(),4===m.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),L.slerp(D,V),L}},{key:"mag",value:function(h){return h.mag()}},{key:"magSq",value:function(h){return h.magSq()}},{key:"normalize",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1];return m.length<2?D=y.copy():(D instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),D.set(y)),D.normalize()}},{key:"limit",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return m.length<3?V=y.copy():(V instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),V.set(y)),V.limit(D)}},{key:"setMag",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return m.length<3?V=y.copy():(V instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),V.set(y)),V.setMag(D)}},{key:"heading",value:function(h){return h.heading()}},{key:"angleBetween",value:function(h,m){return h.angleBetween(m)}},{key:"reflect",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];return m.length<3?V=y.copy():(V instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),V.set(y)),V.reflect(D)}},{key:"array",value:function(h){return h.array()}},{key:"equals",value:function(h,m){var p;return h instanceof f.default.Vector?p=h:Array.isArray(h)?p=(new f.default.Vector).set(h):f.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(m)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(h,m,p){return h instanceof f.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):Array.isArray(h)?(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=m||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new f.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(h,m,p){return h instanceof f.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):Array.isArray(h)?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=m||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(h,m){return 0!==h&&(this.x=this.x%h),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(h,m,p){return 0!==h&&(this.x=this.x%h),0!==m&&(this.y=this.y%m),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y,D,V,L=m[0],P=m[1],x=m[2];if(L instanceof f.default.Vector){if([L.x,L.y,L.z].every(Number.isFinite))return y=parseFloat(L.x),D=parseFloat(L.y),V=parseFloat(L.z),this.calculateRemainder3D(y,D,V)}else if(Array.isArray(L)){if(L.every(Number.isFinite))return 2===L.length?this.calculateRemainder2D(L[0],L[1]):3===L.length?this.calculateRemainder3D(L[0],L[1],L[2]):void 0}else if(1===m.length){if(Number.isFinite(L)&&0!==L)return this.x=this.x%L,this.y=this.y%L,this.z=this.z%L,this}else if(2===m.length){if(m.every(Number.isFinite))return this.calculateRemainder2D(L,P)}else if(3===m.length&&m.every(Number.isFinite))return this.calculateRemainder3D(L,P,x)}},{key:"sub",value:function(h,m,p){return h instanceof f.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):Array.isArray(h)?(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=m||0,this.z-=p||0),this}},{key:"mult",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y,D=m[0],V=m[1],L=m[2];return D instanceof f.default.Vector?Number.isFinite(D.x)&&Number.isFinite(D.y)&&Number.isFinite(D.z)&&"number"==typeof D.x&&"number"==typeof D.y&&"number"==typeof D.z?(this.x*=D.x,this.y*=D.y,this.z*=D.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(D)?D.every(function(P){return Number.isFinite(P)})&&D.every(function(P){return"number"==typeof P})?1===D.length?(this.x*=D[0],this.y*=D[0],this.z*=D[0]):2===D.length?(this.x*=D[0],this.y*=D[1]):3===D.length&&(this.x*=D[0],this.y*=D[1],this.z*=D[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=m).every(function(P){return Number.isFinite(P)})&&y.every(function(P){return"number"==typeof P})?(1===m.length&&(this.x*=D,this.y*=D,this.z*=D),2===m.length&&(this.x*=D,this.y*=V),3===m.length&&(this.x*=D,this.y*=V,this.z*=L)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];var y=m[0],D=m[1],V=m[2];if(y instanceof f.default.Vector)if(Number.isFinite(y.x)&&Number.isFinite(y.y)&&Number.isFinite(y.z)&&"number"==typeof y.x&&"number"==typeof y.y&&"number"==typeof y.z){var L=0===y.z&&0===this.z;if(0===y.x||0===y.y||!L&&0===y.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=y.x,this.y/=y.y,L||(this.z/=y.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(y))if(y.every(Number.isFinite)&&y.every(function(P){return"number"==typeof P})){if(y.some(function(P){return 0===P}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===y.length?(this.x/=y[0],this.y/=y[0],this.z/=y[0]):2===y.length?(this.x/=y[0],this.y/=y[1]):3===y.length&&(this.x/=y[0],this.y/=y[1],this.z/=y[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(m.every(Number.isFinite)&&m.every(function(P){return"number"==typeof P})){if(m.some(function(P){return 0===P}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===m.length&&(this.x/=y,this.y/=y,this.z/=y),2===m.length&&(this.x/=y,this.y/=D),3===m.length&&(this.x/=y,this.y/=D,this.z/=V)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var h=this.x,m=this.y,p=this.z;return h*h+m*m+p*p}},{key:"dot",value:function(h,m,p){return h instanceof f.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(m||0)+this.z*(p||0)}},{key:"cross",value:function(y){var m=this.y*y.z-this.z*y.y,p=this.z*y.x-this.x*y.z;return y=this.x*y.y-this.y*y.x,this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,m,p,y):new f.default.Vector(m,p,y)}},{key:"dist",value:function(h){return h.copy().sub(this).mag()}},{key:"normalize",value:function(){var h=this.mag();return 0!==h&&this.mult(1/h),this}},{key:"limit",value:function(h){var m=this.magSq();return h*h<m&&this.div(Math.sqrt(m)).mult(h),this}},{key:"setMag",value:function(h){return this.normalize().mult(h)}},{key:"heading",value:function(){var h=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(h):h}},{key:"setHeading",value:function(h){this.isPInst&&(h=this._toRadians(h));var m=this.mag();return this.x=m*Math.cos(h),this.y=m*Math.sin(h),this}},{key:"rotate",value:function(m){m=this.heading()+m;var p=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*p,this.y=Math.sin(m)*p,this}},{key:"angleBetween",value:function(h){var m;return this.magSq()*h.magSq()==0?NaN:(m=this.cross(h),h=Math.atan2(m.mag(),this.dot(h))*Math.sign(m.z||1),this.isPInst?this._fromRadians(h):h)}},{key:"lerp",value:function(h,m,p,y){return h instanceof f.default.Vector?this.lerp(h.x,h.y,h.z,m):(this.x+=(h-this.x)*y||0,this.y+=(m-this.y)*y||0,this.z+=(p-this.z)*y||0,this)}},{key:"slerp",value:function(h,m){if(0!==m){if(1===m)return this.set(h);var p=this.mag(),y=h.mag();if(p*y==0)this.mult(1-m).add(h.x*m,h.y*m,h.z*m);else{var D=this.cross(h),V=D.mag(),L=Math.atan2(V,this.dot(h));if(0<V)D.x/=V,D.y/=V,D.z/=V;else{if(L<.5*Math.PI)return this.mult(1-m).add(h.x*m,h.y*m,h.z*m),this;0===this.z&&0===h.z?D.set(0,0,1):0!==this.x?D.set(this.y,-this.x,0).normalize():D.set(1,0,0)}V=D.cross(this),D=(h=1-m+m*y/p)*Math.cos(m*L),y=h*Math.sin(m*L),this.x=this.x*D+V.x*y,this.y=this.y*D+V.y*y,this.z=this.z*D+V.z*y}}return this}},{key:"reflect",value:function(h){return h=f.default.Vector.normalize(h),this.sub(h.mult(2*this.dot(h)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(V,m,p){var y,D;return V=V instanceof f.default.Vector?(y=V.x||0,D=V.y||0,V.z||0):Array.isArray(V)?(y=V[0]||0,D=V[1]||0,V[2]||0):(y=V||0,D=m||0,p||0),this.x===y&&this.y===D&&this.z===V}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(h){return Math.abs(+(h||0))<=Number.EPSILON?0:h}}])&&_(l.prototype,u),d&&_(l,d),a}();var i=f.default.Vector;$.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(S,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(S=S("../core/main"))&&S.__esModule?S:{default:S},b="_lcg_random_state",f=4294967296,g=0;v.default.prototype._lcg=function(_){return this[_]=(1664525*this[_]+1013904223)%f,this[_]/f},v.default.prototype._lcgSetSeed=function(_,i){this[_]=(null==i?Math.random()*f:i)>>>0},v.default.prototype.randomSeed=function(_){this._lcgSetSeed(b,_),this._gaussian_previous=!1},v.default.prototype.random=function(_,i){var a,l;return v.default._validateParameters("random",arguments),a=null!=this[b]?this._lcg(b):Math.random(),void 0===_?a:void 0===i?Array.isArray(_)?_[Math.floor(a*_.length)]:a*_:(i<_&&(l=_,_=i,i=l),a*(i-_)+_)},v.default.prototype.randomGaussian=function(_){var i,a,l,u,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)i=g,this._gaussian_previous=!1;else{for(;1<=(u=(a=this.random(2)-1)*a+(l=this.random(2)-1)*l););i=a*(u=Math.sqrt(-2*Math.log(u)/u)),g=l*u,this._gaussian_previous=!0}return i*d+(_||0)},$.default=S=v.default},{"../core/main":283}],318:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},g=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=S();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}f.default.prototype._angleMode=g.RADIANS,f.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},f.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},f.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},f.default.prototype.atan2=function(i,a){return this._fromRadians(Math.atan2(i,a))},f.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},f.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},f.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},f.default.prototype.degrees=function(i){return i*g.RAD_TO_DEG},f.default.prototype.radians=function(i){return i*g.DEG_TO_RAD},f.default.prototype.angleMode=function(i){if(f.default._validateParameters("angleMode",arguments),void 0===i)return this._angleMode;i!==g.DEGREES&&i!==g.RADIANS||i!==this._angleMode&&(i===g.RADIANS?(this._setProperty("pRotationX",this.pRotationX*g.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*g.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*g.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*g.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*g.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*g.RAD_TO_DEG)),this._angleMode=i)},f.default.prototype._toRadians=function(i){return this._angleMode===g.DEGREES?i*g.DEG_TO_RAD:i},f.default.prototype._toDegrees=function(i){return this._angleMode===g.RADIANS?i*g.RAD_TO_DEG:i},f.default.prototype._fromRadians=function(i){return this._angleMode===g.DEGREES?i*g.RAD_TO_DEG:i},f.default.prototype._fromDegrees=function(i){return this._angleMode===g.RADIANS?i*g.DEG_TO_RAD:i};var _=f.default;$.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,se,$){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(b,f){var g;return v.default._validateParameters("textAlign",arguments),(g=this._renderer).textAlign.apply(g,arguments)},v.default.prototype.textLeading=function(b){var f;return v.default._validateParameters("textLeading",arguments),(f=this._renderer).textLeading.apply(f,arguments)},v.default.prototype.textSize=function(b){var f;return v.default._validateParameters("textSize",arguments),(f=this._renderer).textSize.apply(f,arguments)},v.default.prototype.textStyle=function(b){var f;return v.default._validateParameters("textStyle",arguments),(f=this._renderer).textStyle.apply(f,arguments)},v.default.prototype.textWidth=function(){for(var b=arguments.length,f=new Array(b),g=0;g<b;g++)f[g]=arguments[g];if(f[0]+="",v.default._validateParameters("textWidth",f),0===f[0].length)return 0;for(var S=f[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),_=[],i=0;i<S.length;i++)_.push(this._renderer.textWidth(S[i]));return Math.max.apply(Math,_)},v.default.prototype.textAscent=function(){for(var b=arguments.length,f=new Array(b),g=0;g<b;g++)f[g]=arguments[g];return v.default._validateParameters("textAscent",f),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var b=arguments.length,f=new Array(b),g=0;g<b;g++)f[g]=arguments[g];return v.default._validateParameters("textDescent",f),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(b){return v.default._validateParameters("textWrap",[b]),this._renderer.textWrap(b)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,se,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},g=i(o("../core/constants")),S=i(o("opentype.js"));function _(){var l;return"function"!=typeof WeakMap?null:(_=function(){return l},l=new WeakMap)}function i(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=_();if(u&&u.has(l))return u.get(l);var d,h,m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l)Object.prototype.hasOwnProperty.call(l,d)&&((h=p?Object.getOwnPropertyDescriptor(l,d):null)&&(h.get||h.set)?Object.defineProperty(m,d,h):m[d]=l[d]);return m.default=l,u&&u.set(l,m),m}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.loadFont=function(l,u,d){f.default._validateParameters("loadFont",arguments);var h=new f.default.Font(this),m=this;return S.load(l,function(D,V){if(D)return f.default._friendlyFileLoadError(4,l),void 0!==d?d(D):void console.error(D,l);h.font=V,void 0!==u&&u(h),m._decrementPreload();var L=(V=(D=l.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:D.slice(V+1);["ttf","otf","woff","woff2"].includes(L)&&(L=D.slice(0,-1!==V?V:0),(D=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(L,";\nsrc: url(").concat(l,");\n}\n"))),document.head.appendChild(D))}),h},f.default.prototype.text=function(l,u,d,h,m){var p;return f.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},f.default.prototype.textFont=function(l,u){if(f.default._validateParameters("textFont",arguments),arguments.length){if(l)return this._renderer._setProperty("_textFont",l),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*g._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=f.default;$.default=a},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,se,$){"use strict";function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(b=o("../core/main"))&&b.__esModule?b:{default:b},f=function(P){if(P&&P.__esModule)return P;if(null===P||"object"!==S(P)&&"function"!=typeof P)return{default:P};var x=g();if(x&&x.has(P))return x.get(P);var U,A={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in P){var O;Object.prototype.hasOwnProperty.call(P,U)&&((O=R?Object.getOwnPropertyDescriptor(P,U):null)&&(O.get||O.set)?Object.defineProperty(A,U,O):A[U]=P[U])}return A.default=P,x&&x.set(P,A),A}(o("../core/constants"));function g(){var P;return"function"!=typeof WeakMap?null:(g=function(){return P},P=new WeakMap)}function S(P){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(x){return v(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":v(x)})(P)}function _(P,x){for(var U=0;U<x.length;U++){var A=x[U];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}function i(P,x){var U=P.length;return P[x<0?x%U+U:x%U]}function a(P,x,U,A){var R,O,Z;return A?(void 0===a.tmpPoint1&&(a.tmpPoint1=[],a.tmpPoint2=[]),Z=a.tmpPoint2,(O=a.tmpPoint1).x=x.x-P.x,O.y=x.y-P.y,Z.x=U.x-x.x,Z.y=U.y-x.y,R=O.x*Z.x+O.y*Z.y,O=Math.sqrt(O.x*O.x+O.y*O.y),Z=Math.sqrt(Z.x*Z.x+Z.y*Z.y),Math.acos(R/(O*Z))<A):(x[0]-P[0])*(U[1]-P[1])-(U[0]-P[0])*(x[1]-P[1])==0}function l(j,me,ne,De,$e,O,Z,re,q){var te=1-q,X=(G=Math.pow(te,3))*j+3*(Y=Math.pow(te,2))*q*ne+3*te*q*q*$e+(le=(J=q*q)*q)*Z,G=G*me+3*Y*q*De+3*te*q*q*O+le*re,Y=j+2*q*(ne-j)+J*($e-2*ne+j),le=me+2*q*(De-me)+J*(O-2*De+me),Ie=ne+2*q*($e-ne)+J*(Z-2*$e+ne),J=De+2*q*(O-De)+J*(re-2*O+De);return j=te*j+q*ne,ne=te*me+q*De,me=te*$e+q*Z,De=te*O+q*re,$e=90-180*Math.atan2(Y-Ie,le-J)/Math.PI,(Ie<Y||le<J)&&($e+=180),{x:X,y:G,m:{x:Y,y:le},n:{x:Ie,y:J},start:{x:j,y:ne},end:{x:me,y:De},alpha:$e}}function u(P,x,U,A,R,O,Z,re,q){return null==q?V(P,x,U,A,R,O,Z,re):l(P,x,U,A,R,O,Z,re,function(te,X,G,Y,le,Ie,J,j,ne){if(!(ne<0||V(te,X,G,Y,le,Ie,J,j)<ne)){var me,De=.5,$e=1-De;for(me=V(te,X,G,Y,le,Ie,J,j,$e);.01<Math.abs(me-ne);)me=V(te,X,G,Y,le,Ie,J,j,$e+=(me<ne?1:-1)*(De/=2));return $e}}(P,x,U,A,R,O,Z,re,q))}function d(P,x,U){for(var A,R,O,Z,re,q=0,te=0,X=(P=function(G,Y){function le(Ze,ft,Ot){var ar,Vt;if(!Ze)return["C",ft.x,ft.y,ft.x,ft.y,ft.x,ft.y];switch(Ze[0]in{T:1,Q:1}||(ft.qx=ft.qy=null),Ze[0]){case"M":ft.X=Ze[1],ft.Y=Ze[2];break;case"A":Ze=["C"].concat(m.apply(0,[ft.x,ft.y].concat(Ze.slice(1))));break;case"S":Vt="C"===Ot||"S"===Ot?(ar=2*ft.x-ft.bx,2*ft.y-ft.by):(ar=ft.x,ft.y),Ze=["C",ar,Vt].concat(Ze.slice(1));break;case"T":"Q"===Ot||"T"===Ot?(ft.qx=2*ft.x-ft.qx,ft.qy=2*ft.y-ft.qy):(ft.qx=ft.x,ft.qy=ft.y),Ze=["C"].concat(D(ft.x,ft.y,ft.qx,ft.qy,Ze[1],Ze[2]));break;case"Q":ft.qx=Ze[1],ft.qy=Ze[2],Ze=["C"].concat(D(ft.x,ft.y,Ze[1],Ze[2],Ze[3],Ze[4]));break;case"L":Ze=["C"].concat(y(ft.x,ft.y,Ze[1],Ze[2]));break;case"H":Ze=["C"].concat(y(ft.x,ft.y,Ze[1],ft.y));break;case"V":Ze=["C"].concat(y(ft.x,ft.y,ft.x,Ze[1]));break;case"Z":Ze=["C"].concat(y(ft.x,ft.y,ft.X,ft.Y))}return Ze}function Ie(Ze,ft){if(7<Ze[ft].length){Ze[ft].shift();for(var Ot=Ze[ft];Ot.length;)qe[ft]="A",me&&(ut[ft]="A"),Ze.splice(ft++,0,["C"].concat(Ot.splice(0,6)));Ze.splice(ft,1),j=Math.max(ne.length,me&&me.length||0)}}function J(Ze,ft,Ot,ar,Vt){Ze&&ft&&"M"===Ze[Vt][0]&&"M"!==ft[Vt][0]&&(ft.splice(Vt,0,["M",ar.x,ar.y]),Ot.bx=0,Ot.by=0,Ot.x=Ze[Vt][1],Ot.y=Ze[Vt][2],j=Math.max(ne.length,me&&me.length||0))}var j,ne=h(G),me=Y,De={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},$e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},qe=[],ut=[],He="",ot="";j=Math.max(ne.length,me&&me.length||0);for(var at=0;at<j;at++){"C"!==(He=ne[at]?ne[at][0]:He)&&(qe[at]=He,at&&(ot=qe[at-1])),ne[at]=le(ne[at],De,ot),"A"!==qe[at]&&"C"===He&&(qe[at]="C"),Ie(ne,at),me&&("C"!==(He=me[at]?me[at][0]:He)&&(ut[at]=He,at&&(ot=ut[at-1])),me[at]=le(me[at],$e,ot),"A"!==ut[at]&&"C"===He&&(ut[at]="C"),Ie(me,at)),J(ne,me,De,$e,at),J(me,ne,$e,De,at);var Ue=ne[at],nt=me&&me[at],Ye=Ue.length,st=me&&nt.length;De.x=Ue[Ye-2],De.y=Ue[Ye-1],De.bx=parseFloat(Ue[Ye-4])||De.x,De.by=parseFloat(Ue[Ye-3])||De.y,$e.bx=me&&(parseFloat(nt[st-4])||$e.x),$e.by=me&&(parseFloat(nt[st-3])||$e.y),$e.x=me&&nt[st-2],$e.y=me&&nt[st-1]}return me?[ne,me]:ne}(P)).length;te<X;te++){if("M"===(O=P[te])[0])A=+O[1],R=+O[2];else{if(x<q+(Z=u(A,R,O[1],O[2],O[3],O[4],O[5],O[6]))&&!U)return{x:(re=u(A,R,O[1],O[2],O[3],O[4],O[5],O[6],x-q)).x,y:re.y,alpha:re.alpha};q+=Z,A=+O[5],R=+O[6]}O.shift()}return(re=U?q:l(A,R,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:re.x,y:re.y,alpha:re.alpha}:re}function h(P){var x=[],U=0,A=0,R=0,O=0,Z=0;if(P){"M"===P[0][0]&&(R=U=+P[0][1],O=A=+P[0][2],Z++,x[0]=["M",U,A]);for(var re,q,te=3===P.length&&"M"===P[0][0]&&"R"===P[1][0].toUpperCase()&&"Z"===P[2][0].toUpperCase(),X=Z,G=P.length;X<G;X++){if(x.push(re=[]),(q=P[X])[0]!==q[0].toUpperCase())switch(re[0]=q[0].toUpperCase(),re[0]){case"A":re[1]=q[1],re[2]=q[2],re[3]=q[3],re[4]=q[4],re[5]=q[5],re[6]=+(q[6]+U),re[7]=+(q[7]+A);break;case"V":re[1]=+q[1]+A;break;case"H":re[1]=+q[1]+U;break;case"R":for(var Y,le=2,Ie=(Y=[U,A].concat(q.slice(1))).length;le<Ie;le++)Y[le]=+Y[le]+U,Y[++le]=+Y[le]+A;x.pop(),x=x.concat(p(Y,te));break;case"M":R=+q[1]+U,O=+q[2]+A;break;default:for(var J=1,j=q.length;J<j;J++)re[J]=+q[J]+(J%2?U:A)}else if("R"===q[0])Y=[U,A].concat(q.slice(1)),x.pop(),x=x.concat(p(Y,te)),re=["R"].concat(q.slice(-2));else for(var ne=0,me=q.length;ne<me;ne++)re[ne]=q[ne];switch(re[0]){case"Z":U=R,A=O;break;case"H":U=re[1];break;case"V":A=re[1];break;case"M":R=re[re.length-2],O=re[re.length-1];break;default:U=re[re.length-2],A=re[re.length-1]}}}return x}function m(P,x,U,A,me,qe,De,re,q,te){function X(st,Ze,ft){return{x:st*Math.cos(ft)-Ze*Math.sin(ft),y:st*Math.sin(ft)+Ze*Math.cos(ft)}}var G,ne=120*(j=Math.PI)/180,Y=j/180*(+me||0),le=[],Ie=(te?(at=te[0],G=te[1],He=te[2],ot=te[3]):(P=($e=X(P,x,-Y)).x,x=$e.y,1<(Ie=(J=(P-(re=($e=X(re,q,-Y)).x))/2)*J/(U*U)+($e=(x-(q=$e.y))/2)*$e/(A*A))&&(U*=Ie=Math.sqrt(Ie),A*=Ie),Ie=U*U,ut=A*A,He=(qe=(qe===De?-1:1)*Math.sqrt(Math.abs((Ie*ut-Ie*$e*$e-ut*J*J)/(Ie*$e*$e+ut*J*J))))*U*$e/A+(P+re)/2,ot=qe*-A*J/U+(x+q)/2,at=Math.asin(((x-ot)/A).toFixed(9)),G=Math.asin(((q-ot)/A).toFixed(9)),(at=P<He?j-at:at)<0&&(at=2*j+at),(G=re<He?j-G:G)<0&&(G=2*j+G),De&&G<at&&(at-=2*j),!De&&at<G&&(G-=2*j)),G-at),J=(Math.abs(Ie)>ne&&(ut=G,$e=re,qe=q,G=at+ne*(De&&at<G?1:-1),le=m(re=He+U*Math.cos(G),q=ot+A*Math.sin(G),U,A,me,0,De,$e,qe,[G,ut,He,ot])),Ie=G-at,Math.cos(at)),j=Math.sin(at),$e=(ne=Math.cos(G),me=Math.sin(G),4/3*U*(De=Math.tan(Ie/4))),ut=[P,x],He=[P+$e*j,x-(qe=4/3*A*De)*J],ot=[re+$e*me,q-qe*ne],at=[re,q];if(He[0]=2*ut[0]-He[0],He[1]=2*ut[1]-He[1],te)return[He,ot,at].concat(le);for(var Ue=[],nt=0,Ye=(le=[He,ot,at].concat(le).join().split(",")).length;nt<Ye;nt++)Ue[nt]=nt%2?X(le[nt-1],le[nt],Y).y:X(le[nt],le[nt+1],Y).x;return Ue}function p(P,x){for(var U=[],A=0,R=P.length;A<R-2*!x;A+=2){var O=[{x:+P[A-2],y:+P[A-1]},{x:+P[A],y:+P[A+1]},{x:+P[A+2],y:+P[A+3]},{x:+P[A+4],y:+P[A+5]}];x?A?R-4===A?O[3]={x:+P[0],y:+P[1]}:R-2===A&&(O[2]={x:+P[0],y:+P[1]},O[3]={x:+P[2],y:+P[3]}):O[0]={x:+P[R-2],y:+P[R-1]}:R-4===A?O[3]=O[2]:A||(O[0]={x:+P[A],y:+P[A+1]}),U.push(["C",(6*O[1].x-O[0].x+O[2].x)/6,(6*O[1].y-O[0].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return U}function y(P,x,U,A){return[P,x,U,A,U,A]}function D(P,x,U,A,R,O){return[1/3*P+2/3*U,1/3*x+2/3*A,1/3*R+2/3*U,1/3*O+2/3*A,R,O]}function V(P,x,U,A,R,O,Z,re,q){for(var te=(q=1<(q=null==q?1:q)?1:q<0?0:q)/2,X=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var Ie=L(J=te*X[le]+te,P,U,R,Z),J=L(J,x,A,O,re);G+=Y[le]*Math.sqrt(Ie*Ie+J*J)}return te*G}function L(P,x,U,A,R){return P*(P*(-3*x+9*U-9*A+3*R)+6*x-12*U+6*A)-3*x+3*U}b.default.Font=function(){function P(R){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");this.parent=R,this.cache={},this.font=void 0}var x,U;return x=P,(U=[{key:"textBounds",value:function(R){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,re=4<arguments.length?arguments[4]:void 0,q=re&&re.renderer&&re.renderer._pInst||this.parent,te=q._renderer.drawingContext,X=(X=3<arguments.length?arguments[3]:void 0)||q._renderer._textSize;if(!qe){for(var G=[],Y=[],le=[],Ie=(le[0]=[],[]),J=this._scale(X),j=q._renderer.textLeading(),ne=0,me=(this.font.forEachGlyph(R,O,Z,X,re,function(ot,at,Ue,nt){var Ye=ot.getMetrics();0===ot.index?le[ne+=1]=[]:(le[ne].push(at+Ye.xMin*J),le[ne].push(at+Ye.xMax*J),Ie.push(Ue+ne*j+-Ye.yMin*J),Ie.push(Ue+ne*j+-Ye.yMax*J))}),0<le[ne].length&&(G[ne]=Math.min.apply(null,le[ne]),Y[ne]=Math.max.apply(null,le[ne])),0),De=0;De<=ne;De++){G[De]=Math.min.apply(null,le[De]),Y[De]=Math.max.apply(null,le[De]);var $e=Y[De]-G[De];me<$e&&(me=$e)}var qe={x:te=Math.min.apply(null,G),y:Z=Math.min.apply(null,Ie),h:Math.max.apply(null,Ie)-Z,w:me,advance:te-O};X=this._handleAlignment(q._renderer,R,qe.x,qe.y,qe.w+qe.advance),qe.x=X.x,qe.y=X.y}return qe}},{key:"textToPoints",value:function(R,O,Z,re,q){var te=O,X=[],G=R.split(/\r?\n|\r|\n/g);re=re||this.parent._renderer._textSize;for(var Y,le,Ie,J=0;J<G.length;J++){var j=0;O=te;for(var ne=(ne=G[J]).replace("\t","  "),me=this._getGlyphs(ne),De=0;De<me.length;De++){if(le=ne,!((Ie=me)[Y=De].name&&"space"===Ie[Y].name||le.length===Ie.length&&" "===le[Y]))for(var $e=function(ot){for(var at,Ue=[],nt=0;nt<ot.length;nt++)"M"===ot[nt].type&&(at&&Ue.push(at),at=[]),at.push((st=void 0,st=[(Ye=ot[nt]).type],"M"===Ye.type||"L"===Ye.type?st.push(Ye.x,Ye.y):"C"===Ye.type?st.push(Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y):"Q"===Ye.type&&st.push(Ye.x1,Ye.y1,Ye.x,Ye.y),st));var Ye,st;return Ue.push(at),Ue}(me[De].getPath(O,Z,re).commands),qe=0;qe<$e.length;qe++)for(var ut=function(ot,at){at=function(ft,Ot){if("object"!==S(ft))ft=Ot;else for(var ar in Ot)void 0===ft[ar]&&(ft[ar]=Ot[ar]);return ft}(at,{sampleFactor:.1,simplifyThreshold:0});for(var Ue=d(ot,0,1),nt=Ue/(Ue*at.sampleFactor),Ye=[],st=0;st<Ue;st+=nt)Ye.push(d(ot,st));return at.simplifyThreshold&&function(Ze){for(var ft=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,ar=Ze.length-1;3<Ze.length&&0<=ar;--ar)a(i(Ze,ar-1),i(Ze,ar),i(Ze,ar+1),ft)&&Ze.splice(ar%Ze.length,1)}(Ye,at.simplifyThreshold),Ye}($e[qe],q),He=0;He<ut.length;He++)ut[He].x+=j,X.push(ut[He]);j+=me[De].advanceWidth*this._scale(re)}Z+=this.parent._renderer._textLeading}return X}},{key:"_getGlyphs",value:function(R){return this.font.stringToGlyphs(R)}},{key:"_getPath",value:function(R,te,Z,re){var q=(re&&re.renderer&&re.renderer._pInst||this.parent)._renderer;return te=this._handleAlignment(q,R,te,Z),this.font.getPath(R,te.x,te.y,q._textSize,re)}},{key:"_getPathData",value:function(R,O,Z,re){var q=3;return"string"==typeof R&&2<arguments.length?R=this._getPath(R,O,Z,re):"object"===S(O)&&(re=O),re&&"number"==typeof re.decimals&&(q=re.decimals),R.toPathData(q)}},{key:"_getSVG",value:function(R,O,Z,re){var q=3;return"string"==typeof R&&2<arguments.length?R=this._getPath(R,O,Z,re):"object"===S(O)&&(re=O),re&&("number"==typeof re.decimals&&(q=re.decimals),"number"==typeof re.strokeWidth&&(R.strokeWidth=re.strokeWidth),void 0!==re.fill&&(R.fill=re.fill),void 0!==re.stroke&&(R.stroke=re.stroke)),R.toSVG(q)}},{key:"_renderPath",value:function(X,Y,le,re){var q=re&&re.renderer||this.parent._renderer,te=q.drawingContext,G=(X=("object"===S(X)&&X.commands?X:this._getPath(X,Y,le,re)).commands,q._clipping||te.beginPath(),!0);Y=!1,le=void 0;try{for(var Ie,J=X[Symbol.iterator]();!(G=(Ie=J.next()).done);G=!0){var j=Ie.value;"M"===j.type?te.moveTo(j.x,j.y):"L"===j.type?te.lineTo(j.x,j.y):"C"===j.type?te.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):"Q"===j.type?te.quadraticCurveTo(j.x1,j.y1,j.x,j.y):"Z"===j.type&&te.closePath()}}catch(ne){Y=!0,le=ne}finally{try{G||null==J.return||J.return()}finally{if(Y)throw le}}return q._doStroke&&q._strokeSet&&!q._clipping&&te.stroke(),q._doFill&&!q._clipping&&(q._fillSet||q._setFill(f._DEFAULT_TEXT_FILL),te.fill()),this}},{key:"_textWidth",value:function(R,O){return this.font.getAdvanceWidth(R,O)}},{key:"_textAscent",value:function(R){return this.font.ascender*this._scale(R)}},{key:"_textDescent",value:function(R){return-this.font.descender*this._scale(R)}},{key:"_scale",value:function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(R,O,Z,re,q){var te=R._textSize;switch(void 0===q&&(q=this._textWidth(O,te)),R._textAlign){case f.CENTER:Z-=q/2;break;case f.RIGHT:Z-=q}switch(R._textBaseline){case f.TOP:re+=this._textAscent(te);break;case f.CENTER:re+=this._textAscent(te)/2;break;case f.BOTTOM:re-=this._textDescent(te)}return{x:Z,y:re}}}])&&_(x.prototype,U),P}(),$.default=o=b.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,se,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,b){return v.push(b),v},o.default.prototype.arrayCopy=function(v,b,f,g,S){var _,i;v=void 0!==S?(i=Math.min(S,v.length),_=g,v.slice(b,i+b)):(i=void 0!==f?(i=f,Math.min(i,v.length)):v.length,f=b,v.slice(_=0,i)),Array.prototype.splice.apply(f,[_,i].concat(v))},o.default.prototype.concat=function(v,b){return v.concat(b)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,b){for(var f,g,S=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),_=(v=b||S?v:v.slice()).length;1<_;)f=this.random(0,1)*_|0,g=v[--_],v[_]=v[f],v[f]=g;return v},o.default.prototype.sort=function(v,g){var f=g?v.slice(0,Math.min(g,v.length)):v;return g=g?v.slice(Math.min(g,v.length)):[],(f="string"==typeof f[0]?f.sort():f.sort(function(S,_){return S-_})).concat(g)},o.default.prototype.splice=function(v,b,f){return Array.prototype.splice.apply(v,[f,0].concat(b)),v},o.default.prototype.subset=function(v,b,f){return v.slice(b,void 0!==f?b+f:v.length)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,se,$){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},v.default.prototype.int=function(b){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return b===1/0||"Infinity"===b?1/0:b===-1/0||"-Infinity"===b?-1/0:"string"==typeof b?parseInt(b,f):"number"==typeof b?0|b:"boolean"==typeof b?b?1:0:b instanceof Array?b.map(function(g){return v.default.prototype.int(g,f)}):void 0},v.default.prototype.str=function(b){return b instanceof Array?b.map(v.default.prototype.str):String(b)},v.default.prototype.boolean=function(b){return"number"==typeof b?0!==b:"string"==typeof b?"true"===b.toLowerCase():"boolean"==typeof b?b:b instanceof Array?b.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(b){return"number"==typeof(b=v.default.prototype.int(b,10))?(b+128)%256-128:b instanceof Array?b.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(b){return"number"!=typeof b||isNaN(b)?b instanceof Array?b.map(v.default.prototype.char):"string"==typeof b?v.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},v.default.prototype.unchar=function(b){return"string"==typeof b&&1===b.length?b.charCodeAt(0):b instanceof Array?b.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(b,f){if(f=null==f?8:f,b instanceof Array)return b.map(function(S){return v.default.prototype.hex(S,f)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(f);if("number"==typeof b){b<0&&(b=4294967295+b+1);for(var g=Number(b).toString(16).toUpperCase();g.length<f;)g="0".concat(g);return g.length>=f?g.substring(g.length-f,g.length):g}},v.default.prototype.unhex=function(b){return b instanceof Array?b.map(v.default.prototype.unhex):parseInt("0x".concat(b),16)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(i=o("../core/main"))&&i.__esModule?i:{default:i};function b(a,l){return function(u){if(Array.isArray(u))return u}(a)||function(u,d){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var h=[],m=!0,p=!1,y=void 0;try{for(var D,V=u[Symbol.iterator]();!(m=(D=V.next()).done)&&(h.push(D.value),!d||h.length!==d);m=!0);}catch(L){p=!0,y=L}finally{try{m||null==V.return||V.return()}finally{if(p)throw y}}return h}}(a,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(a,l,u){var d=(h=b(a.toString().split("."),2))[0],h=h[1];return void 0===u?(d=d.padStart(l,"0"),h?d+"."+h:d):(d=(a=b(a.toFixed(u).toString().split("."),2))[0],h=a[1],d=d.padStart(l,"0"),void 0===h?d:d+"."+h)}function g(h,l){var u=(h=h.toString()).indexOf("."),d=-1!==u?h.substring(u):"";if(h=(h=-1!==u?h.substring(0,u):h).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===l)d="";else if(void 0!==l)if(l>d.length)for(var m=l-(d+=-1===u?".":"").length+1,p=0;p<m;p++)d+="0";else d=d.substring(0,l+1);return h+d}function S(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function _(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(a,l){return v.default._validateParameters("join",arguments),a.join(l)},v.default.prototype.match=function(a,l){return v.default._validateParameters("match",arguments),a.match(l)},v.default.prototype.matchAll=function(a,l){v.default._validateParameters("matchAll",arguments);for(var u=new RegExp(l,"g"),d=u.exec(a),h=[];null!==d;)h.push(d),d=u.exec(a);return h},v.default.prototype.nf=function(a,l,u){return v.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(d){return f(d,l,u)}):"[object Arguments]"===Object.prototype.toString.call(a)?3===a.length?this.nf(a[0],a[1],a[2]):2===a.length?this.nf(a[0],a[1]):this.nf(a[0]):f(a,l,u)},v.default.prototype.nfc=function(a,l){return v.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(u){return g(u,l)}):g(a,l)},v.default.prototype.nfp=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];v.default._validateParameters("nfp",l);var d=v.default.prototype.nf.apply(this,l);return d instanceof Array?d.map(S):S(d)},v.default.prototype.nfs=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];v.default._validateParameters("nfs",l);var d=v.default.prototype.nf.apply(this,l);return d instanceof Array?d.map(_):_(d)},v.default.prototype.split=function(a,l){return v.default._validateParameters("split",arguments),a.split(l)},v.default.prototype.splitTokens=function(a,l){var u,d;return v.default._validateParameters("splitTokens",arguments),d=void 0!==l?(d=/\]/g.exec(l),(u=/\[/g.exec(l))&&d?(l=l.slice(0,d.index)+l.slice(d.index+1),u=/\[/g.exec(l),l=l.slice(0,u.index)+l.slice(u.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):d?(l=l.slice(0,d.index)+l.slice(d.index+1),new RegExp("[".concat(l,"\\]]"),"g")):u?(l=l.slice(0,u.index)+l.slice(u.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")):/\s/g,a.split(d).filter(function(h){return h})},v.default.prototype.trim=function(a){return v.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var i=v.default;$.default=i},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},$.default=o=o.default},{"../core/main":283}],326:[function(o,se,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(i=o("../core/main"))&&i.__esModule?i:{default:i},g=(o("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var l=S();if(l&&l.has(a))return l.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var m;Object.prototype.hasOwnProperty.call(a,u)&&((m=h?Object.getOwnPropertyDescriptor(a,u):null)&&(m.get||m.set)?Object.defineProperty(d,u,m):d[u]=a[u])}return d.default=a,l&&l.set(a,d),d}(o("../core/constants")));function S(){var a;return"function"!=typeof WeakMap?null:(S=function(){return a},a=new WeakMap)}function _(a,l,u,d,h,m,p){a=a<=0?1:a,l=l<0?0:l,u=u<=0?a:u,d=d<3?3:d;for(var y,D,V=(m=void 0===m||m)?-2:0,L=(h=h<1?1:h)+((p=void 0===p?0!==l:p)?2:0),P=Math.atan2(a-l,u),x=Math.sin(P),U=Math.cos(P),A=V;A<=L;++A){var R=A/h,O=u*R,Z=void 0;for(Z=A<0?(R=O=0,a):h<A?(O=u,R=1,l):a+(l-a)*R,-2!==A&&A!==h+2||(Z=0),O-=u/2,y=0;y<d;++y){var re=y/(d-1),te=2*Math.PI*re,q=Math.sin(te),X=(te=Math.cos(te),this.vertices.push(new f.default.Vector(q*Z,O,te*Z)));X=A<0?new f.default.Vector(0,-1,0):h<A&&l?new f.default.Vector(0,1,0):new f.default.Vector(q*U,x,te*U),this.vertexNormals.push(X),this.uvs.push(re,R)}}var G=0;if(m){for(D=0;D<d;++D)this.faces.push([G+D,G+d+(D+1)%d,G+d+D]);G+=2*d}for(A=0;A<h;++A){for(y=0;y<d;++y){var Y=(y+1)%d;this.faces.push([G+y,G+Y,G+d+Y]),this.faces.push([G+y,G+d+Y,G+d+y])}G+=d}if(p)for(G+=d,y=0;y<d;++y)this.faces.push([G+y,G+(y+1)%d,G+d])}f.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},f.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},f.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},f.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},f.default.prototype.plane=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),f.default._validateParameters("plane",arguments),"plane|".concat(d,"|").concat(h));return this._renderer.geometryInHash(m)||((a=new f.default.Geometry(d,h,function(){for(var p,y,D=0;D<=this.detailY;D++)for(var V=D/this.detailY,L=0;L<=this.detailX;L++)y=new f.default.Vector((p=L/this.detailX)-.5,V-.5,0),this.vertices.push(y),this.uvs.push(p,V)})).computeFaces().computeNormals(),d<=1&&h<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,a)),this._renderer.drawBuffersScaled(m,l,u,1),this},f.default.prototype.box=function(a,l,u,d,h){this._assert3d("box"),f.default._validateParameters("box",arguments),void 0===a&&(a=50),void 0===l&&(l=a),void 0===u&&(u=l);var m,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===h&&(h=p?1:4),p="box|".concat(d=void 0===d?p?1:4:d,"|").concat(h),this._renderer.geometryInHash(p)||((m=new f.default.Geometry(d,h,function(){var y=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(D,V){V*=4;for(var L=0;L<4;L++){var P=new f.default.Vector((2*(1&(P=D[L]))-1)/2,((2&P)-1)/2,((4&P)/2-1)/2);y.vertices.push(P),y.uvs.push(1&L,(2&L)/2)}y.faces.push([V,1+V,2+V]),y.faces.push([2+V,1+V,3+V])})})).computeNormals(),d<=4&&h<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,m)),this._renderer.drawBuffersScaled(p,a,l,u),this},f.default.prototype.sphere=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),f.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,l,u),this},f.default.prototype.cylinder=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],y=(this._assert3d("cylinder"),f.default._validateParameters("cylinder",arguments),"cylinder|".concat(d,"|").concat(h,"|").concat(m,"|").concat(p));return this._renderer.geometryInHash(y)||(a=new f.default.Geometry(d,h),_.call(a,1,1,1,d,h,m,p),d<=24&&h<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(y,a)),this._renderer.drawBuffersScaled(y,l,u,l),this},f.default.prototype.cone=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),f.default._validateParameters("cone",arguments),"cone|".concat(d,"|").concat(h,"|").concat(m));return this._renderer.geometryInHash(p)||(a=new f.default.Geometry(d,h),_.call(a,1,0,1,d,h,m,!1),d<=24&&h<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,a)),this._renderer.drawBuffersScaled(p,l,u,l),this},f.default.prototype.ellipsoid=function(){var a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),f.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(h,"|").concat(m));return this._renderer.geometryInHash(p)||((a=new f.default.Geometry(h,m,function(){for(var y=0;y<=this.detailY;y++)for(var D=y/this.detailY,V=Math.PI*D-Math.PI/2,L=Math.cos(V),P=Math.sin(V),x=0;x<=this.detailX;x++){var U=x/this.detailX,R=2*Math.PI*U,A=Math.cos(R);R=Math.sin(R),R=new f.default.Vector(L*R,P,L*A),this.vertices.push(R),this.vertexNormals.push(R),this.uvs.push(U,D)}})).computeFaces(),h<=24&&m<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,a)),this._renderer.drawBuffersScaled(p,l,u,d),this},f.default.prototype.torus=function(a,p,u,d){if(this._assert3d("torus"),f.default._validateParameters("torus",arguments),void 0===a)a=50;else if(!a)return;if(void 0===p)p=10;else if(!p)return;void 0===u&&(u=24),void 0===d&&(d=16);var h,m=(p/a).toPrecision(4);return p="torus|".concat(m,"|").concat(u,"|").concat(d),this._renderer.geometryInHash(p)||((h=new f.default.Geometry(u,d,function(){for(var y=0;y<=this.detailY;y++)for(var D=y/this.detailY,V=2*Math.PI*D,L=Math.cos(V),P=Math.sin(V),x=1+m*L,U=0;U<=this.detailX;U++){var A=U/this.detailX,R=2*Math.PI*A,Z=Math.cos(R),O=(R=Math.sin(R),new f.default.Vector(x*Z,x*R,m*P));Z=new f.default.Vector(L*Z,L*R,P),this.vertices.push(O),this.vertexNormals.push(Z),this.uvs.push(A,D)}})).computeFaces(),u<=24&&d<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,h)),this._renderer.drawBuffersScaled(p,a,a,a),this},f.default.RendererGL.prototype.point=function(a,l){var u=[];return u.push(new f.default.Vector(a,l,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},f.default.RendererGL.prototype.triangle=function(p){var l=p[0],u=p[1],d=p[2],h=p[3],m=p[4],y=(p=p[5],this.geometryInHash("tri")||((y=new f.default.Geometry(1,1,function(){var L=[];L.push(new f.default.Vector(0,0,0)),L.push(new f.default.Vector(1,0,0)),L.push(new f.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=L,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),y.computeNormals(),this.createBuffers("tri",y)),this.uModelMatrix.copy());try{var D=Math.sign(l*h-d*u+d*p-m*h+m*u-l*p),V=new f.default.Matrix([d-l,h-u,0,0,m-l,p-u,0,0,0,0,D,0,l,u,0,1]).mult(this.uModelMatrix);this.uModelMatrix=V,this.drawBuffers("tri")}finally{this.uModelMatrix=y}return this},f.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,g.TWO_PI,g.OPEN,a[4])},f.default.RendererGL.prototype.arc=function(){var a,l=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],d=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],y=arguments.length<=6?void 0:arguments[6],D=(arguments.length<=7?void 0:arguments[7])||25,V=(Math.abs(p-m)>=g.TWO_PI?"".concat(L="ellipse","|"):"".concat(L="arc","|").concat(m,"|").concat(p,"|").concat(y,"|")).concat(D,"|"),L=(this.geometryInHash(V)||((a=new f.default.Geometry(D,1,function(){if(m.toFixed(10)!==p.toFixed(10)){y!==g.PIE&&void 0!==y||(this.vertices.push(new f.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=D;P++){var U=P/D*(p-m)+m,x=.5+Math.cos(U)/2;U=.5+Math.sin(U)/2,this.vertices.push(new f.default.Vector(x,U,0)),this.uvs.push([x,U]),P<D-1&&(this.faces.push([0,P+1,P+2]),this.edges.push([P+1,P+2]))}switch(y){case g.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case g.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case g.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),D<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(L," with more than 50 detail")),this.createBuffers(V,a)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([l,u,0]),this.uModelMatrix.scale(d,h,1),this.drawBuffers(V)}finally{this.uModelMatrix=L}return this},f.default.RendererGL.prototype.rect=function(a){var l=a[0],u=a[1],d=a[2],h=a[3];if(void 0===a[4]){var y=this._pInst._glAttributes.perPixelLighting,m=a[4]||(y?1:24),p=a[5]||(y?1:16),D=(y="rect|".concat(m,"|").concat(p),this.geometryInHash(y)||((D=new f.default.Geometry(m,p,function(){for(var X=0;X<=this.detailY;X++)for(var G=X/this.detailY,Y=0;Y<=this.detailX;Y++){var le=Y/this.detailX,Ie=new f.default.Vector(le,G,0);this.vertices.push(Ie),this.uvs.push(le,G)}0<m&&0<p&&(this.edges=[[0,m],[m,(m+1)*(p+1)-1],[(m+1)*(p+1)-1,(m+1)*p],[(m+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(y,D)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([l,u,0]),this.uModelMatrix.scale(d,h,1),this.drawBuffers(y)}finally{this.uModelMatrix=D}}else{y=a[4],D=void 0===a[5]?y:a[5];var V=void 0===a[6]?D:a[6],R=(a=void 0===a[7]?V:a[7],d),L=h,P=((R+=l)<l&&(U=l,l=R,R=U),(L+=u)<u&&(U=u,u=L,L=U),(U=Math.min((R-l)/2,(L-u)/2))<y&&(y=U),U<D&&(D=U),U<V&&(V=U),U<a&&(a=U),l),x=u,U=R,A=(l=L,this.beginShape(),0!==D?(this.vertex(U-D,x),this.quadraticVertex(U,x,U,x+D)):this.vertex(U,x),0!==V?(this.vertex(U,l-V),this.quadraticVertex(U,l,U-V,l)):this.vertex(U,l),0!==a?(this.vertex(P+a,l),this.quadraticVertex(P,l,P,l-a)):this.vertex(P,l),0!==y?(this.vertex(P,x+y),this.quadraticVertex(P,x,P+y,x)):this.vertex(P,x),!(this.immediateMode.geometry.uvs.length=0));u=!1,R=void 0;try{for(var O,Z=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(O=Z.next()).done);A=!0){var re=O.value;this.immediateMode.geometry.uvs.push((re.x-P)/d,(re.y-x)/h)}}catch(J){u=!0,R=J}finally{try{A||null==Z.return||Z.return()}finally{if(u)throw R}}this.endShape(g.CLOSE)}return this},f.default.RendererGL.prototype.quad=function(a,l,u,d,h,m,p,y,D,V,L,P){var x=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,U=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,A="quad|".concat(a,"|").concat(l,"|").concat(u,"|").concat(d,"|").concat(h,"|").concat(m,"|").concat(p,"|").concat(y,"|").concat(D,"|").concat(V,"|").concat(L,"|").concat(P,"|").concat(x,"|").concat(U);if(!this.geometryInHash(A)){var R=new f.default.Geometry(x,U,function(){for(var Y=1/(this.detailX-1),le=1/(this.detailY-1),Ie=0;Ie<this.detailY;Ie++)for(var J=0;J<this.detailX;J++){var j=J*Y,ne=Ie*le;this.vertices.push(new f.default.Vector((1-j)*((1-ne)*a+ne*V)+j*((1-ne)*d+ne*p),(1-j)*((1-ne)*l+ne*L)+j*((1-ne)*h+ne*y),(1-j)*((1-ne)*u+ne*P)+j*((1-ne)*m+ne*D))),this.uvs.push([j,ne])}});R.faces=[];for(var O=0;O<U-1;O++)for(var Z=0;Z<x-1;Z++){var re=Z+O*x,q=Z+1+(O+1)*x,te=Z+(O+1)*x;R.faces.push([re,Z+1+O*x,q]),R.faces.push([re,q,te])}R.computeNormals();for(var X=[R.edges.length=0,2,3,1],G=0;G<X.length;G++)R.edges.push([X[G],X[(G+1)%X.length]]);R._edgesToVertices(),this.createBuffers(A,R)}return this.drawBuffers(A),this},f.default.RendererGL.prototype.bezier=function(a,l,u,d,h,m,p,y,D,V,L,P){8===arguments.length&&(L=y,V=p,y=m,p=h,h=d,d=u,u=m=D=P=0);var x=this._pInst._bezierDetail||20;this.beginShape();for(var U=0;U<=x;U++){var A=Math.pow(1-U/x,3),R=U/x*3*Math.pow(1-U/x,2),O=3*Math.pow(U/x,2)*(1-U/x),Z=Math.pow(U/x,3);this.vertex(a*A+d*R+p*O+V*Z,l*A+h*R+y*O+L*Z,u*A+m*R+D*O+P*Z)}return this.endShape(),this},f.default.RendererGL.prototype.curve=function(a,l,u,d,h,m,p,y,D,V,L,P){8===arguments.length&&(V=p,L=y,p=h,y=d,h=d=u,u=m=D=P=0);var x=this._pInst._curveDetail;this.beginShape();for(var U=0;U<=x;U++){var A=.5*Math.pow(U/x,3),R=.5*Math.pow(U/x,2),O=U/x*.5;this.vertex(A*(3*d-a-3*p+V)+R*(2*a-5*d+4*p-V)+O*(-a+p)+2*d*.5,A*(3*h-l-3*y+L)+R*(2*l-5*h+4*y-L)+O*(-l+y)+2*h*.5,A*(3*m-u-3*D+P)+R*(2*u-5*m+4*D-P)+O*(-u+D)+2*m*.5)}return this.endShape(),this},f.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},f.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var a,l,u,d,h,m,p=[],y=[],D=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,L=0,P=1,x=0;L<1;){if(m=parseFloat(L.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(m),P.toFixed(6)===V.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(L.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(m);break}L+=V,P-=V,++x}}for(var U=this._lookUpTableBezier.length,A=[],R=0;R<4;R++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var O=[];for(R=0;R<4;R++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),6===D){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var Z=Math.hypot(p[0]-p[1],y[0]-y[1]),q=Math.hypot(p[1]-p[2],y[1]-y[2]),re=Math.hypot(p[2]-p[3],y[2]-y[3]);for(Z/=q=Z+q+re,re/=q,h=0;h<4;h++)A[1].push(A[0][h]*(1-Z)+A[3][h]*Z),A[2].push(A[0][h]*re+A[3][h]*(1-re)),O[1].push(O[0][h]*(1-Z)+O[3][h]*Z),O[2].push(O[0][h]*re+O[3][h]*(1-re));for(d=0;d<U;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=a=l=0;R<4;R++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[d][R]*A[R][h],this.curStrokeColor[h]+=this._lookUpTableBezier[d][R]*O[R][h];a+=p[R]*this._lookUpTableBezier[d][R],l+=y[R]*this._lookUpTableBezier[d][R]}this.vertex(a,l)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===D){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var te=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],X=Math.hypot(p[0]-p[1],y[0]-y[1],te[0]-te[1]),G=(q=Math.hypot(p[1]-p[2],y[1]-y[2],te[1]-te[2]),Math.hypot(p[2]-p[3],y[2]-y[3],te[2]-te[3]));for(X/=D=X+q+G,G/=D,h=0;h<4;h++)A[1].push(A[0][h]*(1-X)+A[3][h]*X),A[2].push(A[0][h]*G+A[3][h]*(1-G)),O[1].push(O[0][h]*(1-X)+O[3][h]*X),O[2].push(O[0][h]*G+O[3][h]*(1-G));for(d=0;d<U;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=a=l=u=0;R<4;R++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[d][R]*A[R][h],this.curStrokeColor[h]+=this._lookUpTableBezier[d][R]*O[R][h];a+=p[R]*this._lookUpTableBezier[d][R],l+=y[R]*this._lookUpTableBezier[d][R],u+=te[R]*this._lookUpTableBezier[d][R]}this.vertex(a,l,u)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},f.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var a,l,u,d,h,m,p=[],y=[],D=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var V=1/this._lutQuadraticDetail,L=0,P=1,x=0;L<1;){if(m=parseFloat(L.toFixed(6)),this._lookUpTableQuadratic[x]=this._quadraticCoefficients(m),P.toFixed(6)===V.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(L.toFixed(6)),++x,this._lookUpTableQuadratic[x]=this._quadraticCoefficients(m);break}L+=V,P-=V,++x}}for(var U=this._lookUpTableQuadratic.length,A=[],R=0;R<3;R++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var O=[];for(R=0;R<3;R++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),4===D){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var Z=Math.hypot(p[0]-p[1],y[0]-y[1]);for(Z/=Z+Math.hypot(p[1]-p[2],y[1]-y[2]),h=0;h<4;h++)A[1].push(A[0][h]*(1-Z)+A[2][h]*Z),O[1].push(O[0][h]*(1-Z)+O[2][h]*Z);for(d=0;d<U;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=a=l=0;R<3;R++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[d][R]*A[R][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[d][R]*O[R][h];a+=p[R]*this._lookUpTableQuadratic[d][R],l+=y[R]*this._lookUpTableQuadratic[d][R]}this.vertex(a,l)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===D){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var re=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],q=Math.hypot(p[0]-p[1],y[0]-y[1],re[0]-re[1]);for(q/=q+Math.hypot(p[1]-p[2],y[1]-y[2],re[1]-re[2]),h=0;h<4;h++)A[1].push(A[0][h]*(1-q)+A[2][h]*q),O[1].push(O[0][h]*(1-q)+O[2][h]*q);for(d=0;d<U;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=a=l=u=0;R<3;R++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[d][R]*A[R][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[d][R]*O[R][h];a+=p[R]*this._lookUpTableQuadratic[d][R],l+=y[R]*this._lookUpTableQuadratic[d][R],u+=re[R]*this._lookUpTableQuadratic[d][R]}this.vertex(a,l,u)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},f.default.RendererGL.prototype.curveVertex=function(){var a,h,m,p=[],y=[],D=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,L=0,P=1,x=0;L<1;){if(m=parseFloat(L.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(m),P.toFixed(6)===V.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(L.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(m);break}L+=V,P-=V,++x}}var U=this._lookUpTableBezier.length;if(2===D){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),h=0;h<U;h++)this.vertex(p[0]*this._lookUpTableBezier[h][0]+p[1]*this._lookUpTableBezier[h][1]+p[2]*this._lookUpTableBezier[h][2]+p[3]*this._lookUpTableBezier[h][3],y[0]*this._lookUpTableBezier[h][0]+y[1]*this._lookUpTableBezier[h][1]+y[2]*this._lookUpTableBezier[h][2]+y[3]*this._lookUpTableBezier[h][3]);for(h=0;h<D;h++)this.immediateMode._curveVertex.shift()}}else if(3===D&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),h=0;h<U;h++)this.vertex(p[0]*this._lookUpTableBezier[h][0]+p[1]*this._lookUpTableBezier[h][1]+p[2]*this._lookUpTableBezier[h][2]+p[3]*this._lookUpTableBezier[h][3],y[0]*this._lookUpTableBezier[h][0]+y[1]*this._lookUpTableBezier[h][1]+y[2]*this._lookUpTableBezier[h][2]+y[3]*this._lookUpTableBezier[h][3],a[0]*this._lookUpTableBezier[h][0]+a[1]*this._lookUpTableBezier[h][1]+a[2]*this._lookUpTableBezier[h][2]+a[3]*this._lookUpTableBezier[h][3]);for(h=0;h<D;h++)this.immediateMode._curveVertex.shift()}},f.default.RendererGL.prototype.image=function(a,P,u,x,h,m,p,y,D){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(g.NORMAL);var V=0,L=(P<=a.width&&(V=P/a.width),1);P+x<=a.width&&(L=(P+x)/a.width),P=0,u<=a.height&&(P=u/a.height),x=1,u+h<=a.height&&(x=(u+h)/a.height),this.beginShape(),this.vertex(m,p,0,V,P),this.vertex(m+y,p,0,L,P),this.vertex(m+y,p+D,0,L,x),this.vertex(m,p+D,0,V,x),this.endShape(g.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(g.REMOVE)};var i=f.default;$.default=i},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,se,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=S();if(u&&u.has(l))return u.get(l);var d,h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=m?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=l[d])}return h.default=l,u&&u.set(l,h),h}(o("../core/constants"));function S(){var l;return"function"!=typeof WeakMap?null:(S=function(){return l},l=new WeakMap)}function _(l){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(l)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(l,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var a=function(){function l(m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new f.default.Matrix,m.uModelMatrix=new f.default.Matrix,this.geometry=new f.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(l.nextGeometryId),l.nextGeometryId++,this.hasTransform=!1}var u,d;return u=l,(d=[{key:"transformVertices",value:function(m){var p=this;return this.hasTransform?m.map(function(y){return p.renderer.uModelMatrix.multiplyPoint(y)}):m}},{key:"transformNormals",value:function(m){var p=this;return this.hasTransform?m.map(function(y){return p.renderer.uNMatrix.multiplyVec3(y)}):m}},{key:"addGeometry",value:function(m){for(var p,y=this,D=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(L,P){return L===y.identityMatrix.mat4[P]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),V=((p=this.geometry.vertices).push.apply(p,_(this.transformVertices(m.vertices))),(p=this.geometry.vertexNormals).push.apply(p,_(this.transformNormals(m.vertexNormals))),(p=this.geometry.uvs).push.apply(p,_(m.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,_(m.faces.map(function(L){return L.map(function(P){return P+D})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,_(m.edges.map(function(L){return L.map(function(P){return P+D})}))),_(m.vertexColors));V.length<4*m.vertices.length;)V.push.apply(V,_(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,_(V))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,y=[];if(this.renderer._doFill)if(p===g.TRIANGLE_STRIP||p===g.QUAD_STRIP)for(var D=2;D<m.vertices.length;D++)y.push(D%2==0?[D,D-1,D-2]:[D,D-2,D-1]);else if(p===g.TRIANGLE_FAN)for(var V=2;V<m.vertices.length;V++)y.push([0,V-1,V]);else for(var L=0;L<m.vertices.length;L+=3)y.push([L,L+1,L+2]);this.addGeometry(Object.assign({},m,{faces:y}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&i(u.prototype,d),l}();a.nextGeometryId=0,$.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(_=o("../core/main"))&&_.__esModule?_:{default:_},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==S(i)&&"function"!=typeof i)return{default:i};var a=g();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function g(){var i;return"function"!=typeof WeakMap?null:(g=function(){return i},i=new WeakMap)}function S(i){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}b.default.prototype.orbitControl=function(i,a,l,D){var d=this,h=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===i&&(i=1),void 0===a&&(a=i),void 0===l&&(l=1),"object"!==S(D)&&(D={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var L=D.disableTouchActions;!0===this.touchActionsDisabled||void 0!==L&&!L||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),D=void 0!==(L=D.freeRotation)&&L;var m,p,y,V=[],P=(this.touches.forEach(function(Z){d._renderer.prevTouches.forEach(function(re){Z.id===re.id&&V.push(re={x:Z.x,y:Z.y,px:re.x,py:re.y})})}),this._renderer.prevTouches=this.touches,L=0,0),x=0,U=0,A=0,R=this.height<this.width?this.height:this.width,O=!1;return 0<V.length?(O=0<V[0].x&&V[0].x<this.width&&0<V[0].y&&V[0].y<this.height,1===V.length?(P=-i*((m=V[0]).x-m.px)/R,x=a*(m.y-m.py)/R):(m=V[0],p=V[1],L=-(Math.hypot(m.x-p.x,m.y-p.y)-Math.hypot(m.px-p.px,m.py-p.py))*l*4e-4,U=.5*(m.x+p.x)-.5*(m.px+p.px),A=.5*(m.y+p.y)-.5*(m.py+p.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(L=Math.sign(this._mouseWheelDeltaY)*l,L*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(P=-i*this.movedX/R,x=a*this.movedY/R):this.mouseButton===this.RIGHT&&(U=this.movedX,A=this.movedY*h.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==L&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=L),.001<Math.abs(this._renderer.zoomVelocity)?(D?h._orbitFree(0,0,this._renderer.zoomVelocity):h._orbit(0,0,this._renderer.zoomVelocity),0!==h.projMatrix.mat4[15]&&(h.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),h.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=h.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=h.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===P&&0===x||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*P,.6*x),1e-6<this._renderer.rotateVelocity.magSq()?(D?h._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):h._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===U&&0===A||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*U/this.width),.15*(p=2*-A/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(l=h._getLocalAxes(),i=h.eyeX-h.centerX,a=h.eyeY-h.centerY,R=h.eyeZ-h.centerZ,O=Math.sqrt(i*i+a*a+R*R),L=new b.default.Vector(h.centerX,h.centerY,h.centerZ),L=h.cameraMatrix.multiplyPoint(L),(L=this._renderer.uPMatrix.multiplyAndNormalizePoint(L)).x-=this._renderer.moveVelocity.x,L.y-=this._renderer.moveVelocity.y,x=0===(P=this._renderer.uPMatrix.mat4)[15]?(y=(P[8]+L.x)/P[0]*O,(P[9]+L.y)/P[5]*O):(y=(L.x-P[12])/P[0],(L.y-P[13])/P[5]),h.setPosition(h.eyeX+y*l.x[0]+x*l.y[0],h.eyeY+y*l.x[1]+x*l.y[1],h.eyeZ+y*l.x[2]+x*l.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];b.default._validateParameters("debugMode",a);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);a[0]===f.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===f.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},b.default.prototype._grid=function(i,a,l,u,d){void 0===i&&(i=this.width/2),void 0===a&&(a=Math.round(i/30)<4?4:Math.round(i/30)),void 0===l&&(l=0),void 0===u&&(u=0),void 0===d&&(d=0);var h=i/a,m=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var p=0;p<=a;p++)this.beginShape(this.LINES),this.vertex(-m+l,u,p*h-m+d),this.vertex(m+l,u,p*h-m+d),this.endShape();for(var y=0;y<=a;y++)this.beginShape(this.LINES),this.vertex(y*h-m+l,u,-m+d),this.vertex(y*h-m+l,u,m+d),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(i,a,l,u){return void 0===i&&(i=40<this.width/20?this.width/20:40),void 0===a&&(a=-this.width/4),void 0===l&&(l=a),void 0===u&&(u=a),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,l,u),this.vertex(a+i,l,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,l,u),this.vertex(a,l+i,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,l,u),this.vertex(a,l,u+i),this.endShape(),this.pop()}};var _=b.default;$.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,se,$){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(b,f,g,S){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var _=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(_._array[0],_._array[1],_._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(b,f,g){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var S=this.color.apply(this,arguments);return this._renderer.specularColors=[S._array[0],S._array[1],S._array[2]],this},v.default.prototype.directionalLight=function(b,d,u,S,_,i){var a,l;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),b=b instanceof v.default.Color?b:this.color(b,d,u),u="number"==typeof(d=arguments[arguments.length-1])?(a=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(a=d.x,l=d.y,d.z),d=Math.sqrt(a*a+l*l+u*u),this._renderer.directionalLightDirections.push(a/d,l/d,u/d),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(b,u,d,S,_,i){var a,l;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),b=b instanceof v.default.Color?b:this.color(b,u,d),d="number"==typeof(u=arguments[arguments.length-1])?(a=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(a=u.x,l=u.y,u.z),this._renderer.pointLightPositions.push(a,l,d),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(b){this._renderer.activeImageLight=b,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(b){this.filter(this._renderer._getSphereMapping(b))},v.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},v.default.prototype.lightFalloff=function(b,f,g){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===b&&0===f&&0===g&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=f,this._renderer.quadraticAttenuation=g,this},v.default.prototype.spotLight=function(b,f,g,S,_,i,a,l,u,d,h){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var m,p,y,D=arguments.length;switch(D){case 11:case 10:m=this.color(b,f,g),p=new v.default.Vector(S,_,i),y=new v.default.Vector(a,l,u);break;case 9:b instanceof v.default.Color?(m=b,p=new v.default.Vector(f,g,S),y=new v.default.Vector(_,i,a),d=l,h=u):S instanceof v.default.Vector?(m=this.color(b,f,g),p=S,y=new v.default.Vector(_,i,a),d=l,h=u):a instanceof v.default.Vector?(m=this.color(b,f,g),p=new v.default.Vector(S,_,i),y=a,d=l,h=u):(m=this.color(b,f,g),p=new v.default.Vector(S,_,i),y=new v.default.Vector(a,l,u));break;case 8:y=b instanceof v.default.Color?(m=b,p=new v.default.Vector(f,g,S),new v.default.Vector(_,i,a)):S instanceof v.default.Vector?(m=this.color(b,f,g),p=S,new v.default.Vector(_,i,a)):(m=this.color(b,f,g),p=new v.default.Vector(S,_,i),a),d=l;break;case 7:b instanceof v.default.Color&&f instanceof v.default.Vector?(m=b,p=f,y=new v.default.Vector(g,S,_),d=i,h=a):b instanceof v.default.Color&&_ instanceof v.default.Vector?(m=b,p=new v.default.Vector(f,g,S),y=_,d=i,h=a):S instanceof v.default.Vector&&_ instanceof v.default.Vector?(m=this.color(b,f,g),p=S,y=_,d=i,h=a):y=b instanceof v.default.Color?(m=b,p=new v.default.Vector(f,g,S),new v.default.Vector(_,i,a)):S instanceof v.default.Vector?(m=this.color(b,f,g),p=S,new v.default.Vector(_,i,a)):(m=this.color(b,f,g),p=new v.default.Vector(S,_,i),a);break;case 6:S instanceof v.default.Vector&&_ instanceof v.default.Vector?(m=this.color(b,f,g),p=S,y=_,d=i):b instanceof v.default.Color&&_ instanceof v.default.Vector?(m=b,p=new v.default.Vector(f,g,S),y=_,d=i):b instanceof v.default.Color&&f instanceof v.default.Vector&&(m=b,p=f,y=new v.default.Vector(g,S,_),d=i);break;case 5:b instanceof v.default.Color&&f instanceof v.default.Vector&&g instanceof v.default.Vector?(m=b,p=f,y=g,d=S,h=_):S instanceof v.default.Vector&&_ instanceof v.default.Vector?(m=this.color(b,f,g),p=S,y=_):b instanceof v.default.Color&&_ instanceof v.default.Vector?(m=b,p=new v.default.Vector(f,g,S),y=_):b instanceof v.default.Color&&f instanceof v.default.Vector&&(m=b,p=f,y=new v.default.Vector(g,S,_));break;case 4:m=b,p=f,y=g,d=S;break;case 3:m=b,p=f,y=g;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),y.normalize(),this._renderer.spotLightDirections.push(y.x,y.y,y.z),void 0===d&&(d=Math.PI/3),void 0!==h&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===h&&(h=100),d=this._renderer._pInst._toRadians(d),this._renderer.spotLightAngle.push(Math.cos(d)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,f=new Array(b),g=0;g<b;g++)f[g]=arguments[g];return v.default._validateParameters("noLights",f),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,se,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("regenerator-runtime/runtime");var b=(i=o("../core/main"))&&i.__esModule?i:{default:i};function f(a){return function(l){if(Array.isArray(l)){for(var u=0,d=new Array(l.length);u<l.length;u++)d[u]=l[u];return d}}(a)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(a,l,u,d,h,m,p){try{var y=a[m](p),D=y.value}catch(V){return void u(V)}y.done?l(D):Promise.resolve(D).then(d,h)}function S(a){return function(){var l=this,u=arguments;return new Promise(function(d,h){var m=a.apply(l,u);function p(D){g(m,d,h,p,y,"next",D)}function y(D){g(m,d,h,p,y,"throw",D)}p(void 0)})}}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}o("./p5.Geometry"),b.default.prototype.loadModel=function(a,l){b.default._validateParameters("loadModel",arguments);var u,d,x,h=!1,m=!1,p=!1,y=a.slice(-4),D=(l&&"object"===_(l)?(h=l.normalize||!1,u=l.successCallback,d=l.failureCallback,y=l.fileType||y,m=l.flipU||!1,p=l.flipV||!1):"boolean"==typeof l?(h=l,u=arguments[2],d=arguments[3],void 0!==arguments[4]&&(y=arguments[4])):(u="function"==typeof l?l:void 0,d=arguments[2],void 0!==arguments[3]&&(y=arguments[3])),new b.default.Geometry),V=(D.gid="".concat(a,"|").concat(h),this);function L(){return(L=S(M.mark(function x(U){var A,R,O,Z;return M.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:for(A=[],R=0;R<U.length;R++)(O=U[R].match(/^mtllib (.+)/))&&function(){var q,te=O[1],X=a.split("/");q=1<X.length?(X.pop(),X.join("/")+"/"+te):te,A.push(function(){return P.apply(this,arguments)}(q).then(function(G){return G?(Y=V,le=q,new Promise(function(Ie,J){var j=null,ne={};Y.loadStrings(le,function(me){for(var De=0;De<me.length;++De){var qe=me[De].trim().split(/\s+/);"newmtl"===qe[0]?ne[j=qe[1]]={}:"Kd"===qe[0]?ne[j].diffuseColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ka"===qe[0]?ne[j].ambientColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ks"===qe[0]?ne[j].specularColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"map_Kd"===qe[0]&&(ne[j].texturePath=qe[1])}Ie(ne)},J)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(q)),{});var Y,le}).catch(function(G){return console.warn("Error loading MTL file: ".concat(q),G),{}}))}();return re.prev=2,re.next=5,Promise.all(A);case 5:return Z=re.sent,Z=Object.assign.apply(Object,[{}].concat(f(Z))),re.abrupt("return",Z);case 10:return re.prev=10,re.t0=re.catch(2),re.abrupt("return",{});case 13:case"end":return re.stop()}},x,null,[[2,10]])}))).apply(this,arguments)}function P(){return(P=S(M.mark(function x(U){return M.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,fetch(U,{method:"HEAD"});case 3:return R.abrupt("return",R.sent.ok);case 7:return R.prev=7,R.t0=R.catch(0),R.abrupt("return",!1);case 10:case"end":return R.stop()}},x,null,[[0,7]])}))).apply(this,arguments)}return y.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(x){(function(U,A){if(function(R){for(var O=new DataView(R),Z=[115,111,108,105,100],re=0;re<5;re++)if(function(q,te,X){for(var G=0,Y=q.length;G<Y;G++)if(q[G]!==te.getUint8(X+G,!1))return;return 1}(Z,O,re))return;return 1}(A))!function(R,O){for(var Z,re,q,te,X,G,Y,le=new DataView(O),Ie=le.getUint32(80,!0),J=!1,j=0;j<70;j++)1129270351===le.getUint32(j,!1)&&82===le.getUint8(j+4)&&61===le.getUint8(j+5)&&(J=!0,te=[],X=le.getUint8(j+6)/255,G=le.getUint8(j+7)/255,Y=le.getUint8(j+8)/255);for(var ne=0;ne<Ie;ne++){for(var me,De=84+50*ne,$e=le.getFloat32(De,!0),qe=le.getFloat32(4+De,!0),ut=le.getFloat32(8+De,!0),He=(J&&(q=32768&(me=le.getUint16(48+De,!0))?(Z=X,re=G,Y):(Z=(31&me)/31,re=(me>>5&31)/31,(me>>10&31)/31)),new b.default.Vector($e,qe,ut)),ot=1;ot<=3;ot++){var at=new b.default.Vector(le.getFloat32(at=De+12*ot,!0),le.getFloat32(4+at,!0),le.getFloat32(8+at,!0));R.vertices.push(at),R.vertexNormals.push(He),J&&te.push(Z,re,q)}R.faces.push([3*ne,3*ne+1,3*ne+2]),R.uvs.push([0,0],[0,0],[0,0])}}(U,A);else{if(A=new DataView(A),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(R,O){for(var Z,re,q="",te=[],X=0;X<O.length;++X){for(var G=O[X].trim(),Y=G.split(" "),le=0;le<Y.length;++le)""===Y[le]&&Y.splice(le,1);if(0!==Y.length)switch(q){case"":if("solid"!==Y[0])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "solid"'));q="solid";break;case"solid":if("facet"!==Y[0]||"normal"!==Y[1])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "facet normal"'));Z=new b.default.Vector(parseFloat(Y[2]),parseFloat(Y[3]),parseFloat(Y[4])),R.vertexNormals.push(Z,Z,Z),q="facet normal";break;case"facet normal":if("outer"!==Y[0]||"loop"!==Y[1])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "outer loop"'));q="vertex";break;case"vertex":if("vertex"===Y[0])re=new b.default.Vector(parseFloat(Y[1]),parseFloat(Y[2]),parseFloat(Y[3])),R.vertices.push(re),R.uvs.push([0,0]),te.push(R.vertices.indexOf(re));else{if("endloop"!==Y[0])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "vertex" or "endloop"'));R.faces.push(te),te=[],q="endloop"}break;case"endloop":if("endfacet"!==Y[0])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "endfacet"'));q="endfacet";break;case"endfacet":if("endsolid"!==Y[0]){if("facet"!==Y[0]||"normal"!==Y[1])return console.error(G),console.error('Invalid state "'.concat(Y[0],'", should be "endsolid" or "facet normal"'));Z=new b.default.Vector(parseFloat(Y[2]),parseFloat(Y[3]),parseFloat(Y[4])),R.vertexNormals.push(Z,Z,Z),q="facet normal"}break;default:console.error('Invalid state "'.concat(q,'"'))}}}(U,A=new TextDecoder("utf-8").decode(A).split("\n"))}})(D,x),h&&D.normalize(),m&&D.flipU(),p&&D.flipV(),V._decrementPreload(),"function"==typeof u&&u(D)},d):y.match(/\.obj$/i)?this.loadStrings(a,(x=S(M.mark(function U(A){return M.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,function(){return L.apply(this,arguments)}(A);case 3:(function(Z,re){for(var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},te={v:[],vt:[],vn:[]},X={},G=null,Y=new Set,le=!1,Ie=!1,J=0;J<re.length;++J){var j=re[J].trim().split(/\b\s+/);if(0<j.length)if("usemtl"===j[0])G=j[1];else if("v"===j[0]||"vn"===j[0]){var ne=new b.default.Vector(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));te[j[0]].push(ne)}else if("vt"===j[0])ne=[parseFloat(j[1]),1-parseFloat(j[2])],te[j[0]].push(ne);else if("f"===j[0])for(var me=3;me<j.length;++me){for(var De=[],$e=[1,me-1,me],qe=0;qe<$e.length;++qe){for(var ut,He=j[$e[qe]],ot=He.split("/"),at=0;at<ot.length;at++)ot[at]=parseInt(ot[at])-1;X[He]||(X[He]={}),void 0===X[He][G]?(ut=Z.vertices.length,Z.vertices.push(te.v[ot[0]].copy()),Z.uvs.push(te.vt[ot[1]]?te.vt[ot[1]].slice():[0,0]),Z.vertexNormals.push(te.vn[ot[2]]?te.vn[ot[2]].copy():new b.default.Vector),X[He][G]=ut,De.push(ut),G&&q[G]&&q[G].diffuseColor&&Y.add(te.v[ot[0]])):De.push(X[He][G])}if(De[0]!==De[1]&&De[0]!==De[2]&&De[1]!==De[2])if(Z.faces.push(De),G&&q[G]&&q[G].diffuseColor){le=le=!0;for(var Ue=q[G].diffuseColor,nt=0;nt<De.length;nt++)Z.vertexColors.push(Ue[0]),Z.vertexColors.push(Ue[1]),Z.vertexColors.push(Ue[2])}else Ie=!0}}if(0===Z.vertexNormals.length&&Z.computeNormals(),le===Ie)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(D,A,O.sent),O.next=11;break;case 7:return O.prev=7,O.t0=O.catch(0),d?d(O.t0):b.default._friendlyError("Error during parsing: "+O.t0.message),O.abrupt("return");case 11:return O.prev=11,h&&D.normalize(),m&&D.flipU(),p&&D.flipV(),V._decrementPreload(),"function"==typeof u&&u(D),O.finish(11);case 18:case"end":return O.stop()}},U,null,[[0,7,11,18]])})),function(U){return x.apply(this,arguments)}),d):(b.default._friendlyFileLoadError(3,a),d?d():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),D},b.default.prototype.model=function(a){this._assert3d("model"),b.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(0===a.edges.length&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var i=b.default;$.default=i},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},g=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=S();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}o("./p5.Texture"),f.default.prototype.loadShader=function(i,a,l,u){function d(){m._decrementPreload(),l&&l(h)}f.default._validateParameters("loadShader",arguments),u=u||console.error;var h=new f.default.Shader,m=this,p=!1,y=!1;return this.loadStrings(i,function(D){h._vertSrc=D.join("\n"),y=!0,p&&d()},u),this.loadStrings(a,function(D){h._fragSrc=D.join("\n"),p=!0,y&&d()},u),h},f.default.prototype.createShader=function(i,a){return f.default._validateParameters("createShader",arguments),new f.default.Shader(this._renderer,i,a)},f.default.prototype.createFilterShader=function(i){f.default._validateParameters("createFilterShader",arguments);var a=i.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(a=new f.default.Shader(this._renderer,a,i)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),a},f.default.prototype.shader=function(i){return this._assert3d("shader"),f.default._validateParameters("shader",arguments),i.ensureCompiledOnContext(this),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},f.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},f.default.prototype.texture=function(i){return this._assert3d("texture"),f.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=g.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.textureMode=function(i){i!==g.IMAGE&&i!==g.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},f.default.prototype.textureWrap=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,l=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=a,!0),u=!1,d=void 0;try{for(var h,m=this._renderer.textures.values()[Symbol.iterator]();!(l=(h=m.next()).done);l=!0)h.value.setWrapMode(i,a)}catch(p){u=!0,d=p}finally{try{l||null==m.return||m.return()}finally{if(u)throw d}}},f.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return f.default._validateParameters("normalMaterial",a),this._renderer.drawMode=g.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},f.default.prototype.ambientMaterial=function(i,a,l){this._assert3d("ambientMaterial"),f.default._validateParameters("ambientMaterial",arguments);var u=f.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.emissiveMaterial=function(i,a,l,u){this._assert3d("emissiveMaterial"),f.default._validateParameters("emissiveMaterial",arguments);var d=f.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=d._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.specularMaterial=function(i,a,l,u){this._assert3d("specularMaterial"),f.default._validateParameters("specularMaterial",arguments);var d=f.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.shininess=function(i){return this._assert3d("shininess"),f.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},f.default.prototype.metalness=function(i){return this._assert3d("metalness"),i=1-Math.exp(-i/100),this._renderer._useMetalness=i,this},f.default.RendererGL.prototype._applyColorBlend=function(i,d){var l=this.GL;return(d=d||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===g.TEXTURE||this.curBlendMode!==g.BLEND||i[i.length-1]<1||this._isErasing)!==this._isBlending&&(d||this.curBlendMode!==g.BLEND&&this.curBlendMode!==g.ADD?l.enable(l.BLEND):l.disable(l.BLEND),l.depthMask(!0),this._isBlending=d),this._applyBlendMode(),i},f.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case g.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case g.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case g.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case g.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case g.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case g.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case g.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case g.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case g.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case g.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var _=f.default;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,se,$){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,g){for(var S=0;S<g.length;S++){var _=g[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.prototype.camera=function(){var f;this._assert3d("camera");for(var g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return v.default._validateParameters("camera",S),(f=this._renderer._curCamera).camera.apply(f,S),this},v.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return v.default._validateParameters("perspective",S),(f=this._renderer._curCamera).perspective.apply(f,S),this},v.default.prototype.linePerspective=function(f){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===f)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=f},v.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return v.default._validateParameters("ortho",S),(f=this._renderer._curCamera).ortho.apply(f,S),this},v.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var g=arguments.length,S=new Array(g),_=0;_<g;_++)S[_]=arguments[_];return v.default._validateParameters("frustum",S),(f=this._renderer._curCamera).frustum.apply(f,S),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new v.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},v.default.Camera=function(){function f(i){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=i,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var g,S;return g=f,(S=[{key:"perspective",value:function(d,a,l,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===d?d=this.defaultCameraFOV:this._renderer._pInst._toRadians(d),void 0===a&&(a=this.defaultAspectRatio),void 0===l&&(l=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),l<=1e-4&&(l=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<l&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=a,this.cameraNear=l,this.cameraFar=u,this.projMatrix=v.default.Matrix.identity(),d=1/Math.tan(this.cameraFOV/2);var h=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(d/a,0,0,0,0,-d*this.yScale,0,0,0,0,(u+l)*h,-1,0,0,2*u*l*h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(P,L,l,u,d,h){var x=this.fbo||this._renderer,m=(void 0===P&&(P=-x.width/2),void 0===L&&(L=+x.width/2),void 0===l&&(l=-x.height/2),void 0===u&&(u=+x.height/2),void 0===d&&(d=0),void 0===h&&(h=Math.max(x.width,x.height)+800),this.cameraNear=d,x=L-P,u-l),p=(this.cameraFar=h)-d,y=2/x,D=2/m*this.yScale,V=-2/p;L=-(L+P)/x,P=-(u+l)/m,x=-(h+d)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-D,0,0,0,0,V,0,L,P,x,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(P,L,l,u,d,h){void 0===P&&(P=.05*-this._renderer.width),void 0===L&&(L=.05*+this._renderer.width),void 0===l&&(l=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===d&&(d=this.defaultCameraNear),void 0===h&&(h=this.defaultCameraFar),this.cameraNear=d;var x=L-P,m=u-l,p=(this.cameraFar=h)-d,y=2*d/x,D=2*d/m*this.yScale,V=-2*h*d/p;L=(L+P)/x,P=(u+l)/m,x=-(h+d)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-D,0,0,L,P,x,-1,0,0,V,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(y,a,l,u){var d=this.centerX,h=this.centerY,m=this.centerZ,p=(d-=this.eyeX,h-=this.eyeY,m-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(y),a,l,u),y=[d*p.mat4[0]+h*p.mat4[4]+m*p.mat4[8],d*p.mat4[1]+h*p.mat4[5]+m*p.mat4[9],d*p.mat4[2]+h*p.mat4[6]+m*p.mat4[10]])[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(l){var a=this._getLocalAxes();l=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(l),a.z[0],a.z[1],a.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"pan",value:function(i){var a=this._getLocalAxes();this._rotateView(i,a.y[0],a.y[1],a.y[2])}},{key:"tilt",value:function(i){var a=this._getLocalAxes();this._rotateView(i,a.x[0],a.x[1],a.x[2])}},{key:"lookAt",value:function(i,a,l){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,a,l,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(i,a,l,u,d,h,m,p,y){return void 0===i&&(l=this.defaultEyeZ,u=i=this.defaultEyeX,d=a=this.defaultEyeY,p=1,y=m=h=0),this.eyeX=i,this.eyeY=a,this.eyeZ=l,void 0!==u&&(this.centerX=u,this.centerY=d,this.centerZ=h),void 0!==m&&(this.upX=m,this.upY=p,this.upZ=y),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([d=-i,-a,-l]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,d,l){var h=this._getLocalAxes();this.camera(this.eyeX+(u=[h.x[0]*u,h.x[1]*u,h.x[2]*u])[0]+(d=[h.y[0]*d,h.y[1]*d,h.y[2]*d])[0]+(h=[h.z[0]*l,h.z[1]*l,h.z[2]*l])[0],this.eyeY+u[1]+d[1]+h[1],this.eyeZ+u[2]+d[2]+h[2],this.centerX+u[0]+d[0]+h[0],this.centerY+u[1]+d[1]+h[1],this.centerZ+u[2]+d[2]+h[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(i,a,l){this.camera(i,a,l,this.centerX+(i-this.eyeX),this.centerY+(a-this.eyeY),this.centerZ+(l-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(i){for(var a=0,l=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];a<l.length;a++){var u=l[a];this[u]=i[u]}this.cameraMatrix=i.cameraMatrix.copy(),this.projMatrix=i.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(i,a,l){var u,d,h,m,p,y,D,V,L,P,x,U,A,R,O,Z,re,q;0===l?this.set(i):1===l?this.set(a):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=i.projMatrix.mat4[0]*Math.pow(a.projMatrix.mat4[0]/i.projMatrix.mat4[0],l),this.projMatrix.mat4[5]=i.projMatrix.mat4[5]*Math.pow(a.projMatrix.mat4[5]/i.projMatrix.mat4[5],l),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new v.default.Vector(i.eyeX,i.eyeY,i.eyeZ),p=new v.default.Vector(a.eyeX,a.eyeY,a.eyeZ),Z=new v.default.Vector(i.centerX,i.centerY,i.centerZ),q=new v.default.Vector(a.centerX,a.centerY,a.centerZ),h=v.default.Vector.dist(m,Z),u=v.default.Vector.dist(p,q),u=h*Math.pow(u/h,l),h=v.default.Vector.sub(m,p),d=1,1e-6<(re=(R=m.copy().sub(p).sub(Z).add(q)).magSq())&&(d=v.default.Vector.dot(h,R)/re,d=Math.max(0,Math.min(d,1))),h=v.default.Vector.lerp(v.default.Vector.lerp(m,Z,d),v.default.Vector.lerp(p,q,d),l),R=i.cameraMatrix.createSubMatrix3x3(),re=a.cameraMatrix.createSubMatrix3x3(),m=R.row(2),Z=re.row(2),p=R.row(1),q=re.row(1),i=new v.default.Vector,a=new v.default.Vector,y=new v.default.Vector,D=new v.default.Vector,1-(V=.5*((R=(re=re.mult3x3(R.copy().transpose3x3())).diagonal())[0]+R[1]+R[2]-1))<1e-7?(i.set(v.default.Vector.lerp(m,Z,l)).normalize(),y.set(i).mult(d*u).add(h),D.set(i).mult((d-1)*u).add(h),a.set(v.default.Vector.lerp(p,q,l)).normalize()):(Z=1/(1-V),q=Math.max(R[0],R[1],R[2]),U=re.mat3[1]+re.mat3[3],A=re.mat3[2]+re.mat3[6],O=re.mat3[5]+re.mat3[7],q=q===R[0]?(P=.5*U*(Z/=L=Math.sqrt((R[0]-V)*Z)),x=.5*A*Z,.5*(re.mat3[7]-re.mat3[5])/L):q===R[1]?(x=.5*O*(Z/=P=Math.sqrt((R[1]-V)*Z)),L=.5*U*Z,.5*(re.mat3[2]-re.mat3[6])/P):(L=.5*A*(Z/=x=Math.sqrt((R[2]-V)*Z)),P=.5*O*Z,.5*(re.mat3[3]-re.mat3[1])/x),U=l*Math.atan2(q,V),A=Math.cos(U),R=Math.sin(U),(q=new v.default.Matrix("mat3",[A+(O=1-A)*L*L,O*(Z=L*P)+R*x,O*(re=x*L)-R*P,O*Z-R*x,A+O*P*P,O*(l=P*x)+R*L,O*re+R*P,O*l-R*L,A+O*x*x])).multiplyVec3(m,i),y.set(i).mult(d*u).add(h),D.set(i).mult((d-1)*u).add(h),q.multiplyVec3(p,a)),this.camera(y.x,y.y,y.z,D.x,D.y,D.z,a.x,a.y,a.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var i=new v.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.upX=this.upX,i.upY=this.upY,i.upZ=this.upZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i.yScale=this.yScale,i}},{key:"_getLocalAxes",value:function(){var D,i=this.eyeX-this.centerX,a=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(i*i+a*a+l*l))&&(i/=m,a/=m,l/=m),this.upX),u=(p=this.upY)*l-(y=this.upZ)*a,d=-m*l+y*i,h=m*a-p*i,p=(m=a*h-l*d,-i*h+l*u),y=i*d-a*u;return 0!==(0!==(D=Math.sqrt(u*u+d*d+h*h))&&(u/=D,d/=D,h/=D),D=Math.sqrt(m*m+p*p+y*y))&&(m/=D,p/=D,y/=D),{x:[u,d,h],y:[m,p,y],z:[i,a,l]}}},{key:"_orbit",value:function(i,D,y){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(d,h,m),p=(d=new v.default.Vector(d,h,m).normalize(),h=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=v.default.Vector.cross(h,d).normalize(),v.default.Vector.cross(m,h));(u=(u*=Math.pow(10,y))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(d,h))))+D,D=i,(y<=0||y>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(y)),p.mult(Math.cos(D)*Math.sin(y)),m.mult(Math.sin(D)*Math.sin(y)),d.set(h).add(p).add(m),this.eyeX=u*d.x+this.centerX,this.eyeY=u*d.y+this.centerY,this.eyeZ=u*d.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(y,D,L){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(d,h,m),p=(d=new v.default.Vector(d,h,m).normalize(),h=new v.default.Vector(this.upX,this.upY,this.upZ),m=v.default.Vector.cross(h,d).normalize(),v.default.Vector.cross(d,m)),P=Math.atan2(D,y),V=(p.mult(Math.sin(P)),m.mult(Math.cos(P)).add(p),P=Math.sqrt(y*y+D*D),p=v.default.Vector.cross(d,m),(u=(u*=Math.pow(10,L))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.cos(P),D=Math.sin(P),(L=h.dot(d))*y+(P=h.dot(m))*D);L=-L*D+P*y,P=h.dot(p),h.x=V*d.x+L*m.x+P*p.x,h.y=V*d.y+L*m.y+P*p.y,h.z=V*d.z+L*m.z+P*p.z,m.mult(-D),d.mult(y).add(m).mult(u),this.camera(d.x+this.centerX,d.y+this.centerY,d.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(g.prototype,S),f}(),v.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix),this._renderer.uViewMatrix.set(f.cameraMatrix)},$.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,se,$){"use strict";function v(b,f){for(var g=0;g<f.length;g++){var S=f[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function b(){var _=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(_),this.initialLength=_}var f,g;return f=b,(g=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var _;this.length<this.data.length/2&&(_=1<<Math.ceil(Math.log2(this.length)),(_=new Float32Array(_)).set(this.data.subarray(0,this.length),0),this.data=_)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var _=arguments.length,i=new Array(_),a=0;a<_;a++)i[a]=arguments[a];this.ensureLength(this.length+i.length),this.data.set(i,this.length),this.length+=i.length}},{key:"slice",value:function(_,i){return this.data.slice(_,Math.min(i,this.length))}},{key:"subArray",value:function(_,i){return this.data.subarray(_,Math.min(i,this.length))}},{key:"ensureLength",value:function(_){for(;this.data.length<_;){var i=new Float32Array(2*this.data.length);i.set(this.data,0),this.data=i}}}])&&v(f.prototype,g),b}(),$.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(x,se,$){"use strict";function v(U){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(U)}function b(U){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(A){return v(A)}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":v(A)})(U)}x("core-js/modules/es.symbol"),x("core-js/modules/es.symbol.description"),x("core-js/modules/es.symbol.iterator"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.includes"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.get-own-property-descriptor"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.reflect.construct"),x("core-js/modules/es.reflect.get"),x("core-js/modules/es.regexp.to-string"),x("core-js/modules/es.string.includes"),x("core-js/modules/es.string.iterator"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.uint8-array"),x("core-js/modules/es.typed-array.uint8-clamped-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),x("core-js/modules/es.weak-map"),x("core-js/modules/web.dom-collections.iterator"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.includes"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.string.includes"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.uint8-array"),x("core-js/modules/es.typed-array.uint8-clamped-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(P=x("../core/main"))&&P.__esModule?P:{default:P},g=function(U){if(U&&U.__esModule)return U;if(null===U||"object"!==b(U)&&"function"!=typeof U)return{default:U};var A=i();if(A&&A.has(U))return A.get(U);var R,O={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in U){var re;Object.prototype.hasOwnProperty.call(U,R)&&((re=Z?Object.getOwnPropertyDescriptor(U,R):null)&&(re.get||re.set)?Object.defineProperty(O,R,re):O[R]=U[R])}return O.default=U,A&&A.set(U,O),O}(x("../core/constants")),S=x("./p5.Texture"),_=x("./p5.RendererGL");function i(){var U;return"function"!=typeof WeakMap?null:(i=function(){return U},U=new WeakMap)}function a(U,A){return function(R){if(Array.isArray(R))return R}(U)||function(R,O){if(Symbol.iterator in Object(R)||"[object Arguments]"===Object.prototype.toString.call(R)){var Z=[],re=!0,q=!1,te=void 0;try{for(var X,G=R[Symbol.iterator]();!(re=(X=G.next()).done)&&(Z.push(X.value),!O||Z.length!==O);re=!0);}catch(Y){q=!0,te=Y}finally{try{re||null==G.return||G.return()}finally{if(q)throw te}}return Z}}(U,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(U,A,R){return A in U?Object.defineProperty(U,A,{value:R,enumerable:!0,configurable:!0,writable:!0}):U[A]=R,U}function u(U,A){if(!(U instanceof A))throw new TypeError("Cannot call a class as a function")}function d(U,A){for(var R=0;R<A.length;R++){var O=A[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(U,O.key,O)}}function h(U,A,R){A&&d(U.prototype,A),R&&d(U,R)}function m(U,A,R){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(q,Z,re){if(q=function(te,X){for(;!Object.prototype.hasOwnProperty.call(te,X)&&null!==(te=D(te)););return te}(q,Z))return(q=Object.getOwnPropertyDescriptor(q,Z)).get?q.get.call(re):q.value})(U,A,R||U)}function p(U,A){return(p=Object.setPrototypeOf||function(R,O){return R.__proto__=O,R})(U,A)}function D(U){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(U)}var V=function(U){var A=O;if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(U&&U.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),U&&p(A,U);var R=function y(U){return function(){var A,R=D(U);if(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=D(this).constructor,Reflect.construct(R,arguments,A)):R.apply(this,arguments),R=this,!A||"object"!==b(A)&&"function"!=typeof A){if(void 0!==R)return R;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}(O);function O(Z){var re;return u(this,O),(re=R.call(this,Z.target._renderer)).fbo=Z,re.yScale=-1,re}return h(O,[{key:"_computeCameraDefaultSettings",value:function(){m(D(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O}(f.default.Camera),L=(f.default.FramebufferCamera=V,function(){function U(A,R){u(this,U),this.framebuffer=A,this.property=R}return h(U,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),U}()),P=(f.default.FramebufferTexture=L,function(){function U(A){var R=this,O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Z=(u(this,U),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||g.UNSIGNED_BYTE,this.channels=O.channels||(A._renderer._pInst._glAttributes.alpha?g.RGBA:g.RGB),this.useDepth=void 0===O.depth||O.depth,this.depthFormat=O.depthFormat||g.FLOAT,this.textureFiltering=O.textureFiltering||g.LINEAR,this.antialiasSamples=void 0===O.antialias?A._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof O.antialias?O.antialias:O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==g.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=O.density||A.pixelDensity(),A._renderer.GL);if(this.gl=Z,O.width&&O.height?(re=A._renderer._adjustDimensions(O.width,O.height),this.width=re.adjustedWidth,this.height=re.adjustedHeight,this._autoSized=!1):(void 0===O.width!=(void 0===O.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===O.stencil||O.stencil),this.framebuffer=Z.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=Z.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var re=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=re,this.draw(function(){return R.target.clear()})}return h(U,[{key:"resize",value:function(A,R){this._autoSized=!1;var O=this.target._renderer._adjustDimensions(A,R);R=O.adjustedHeight,this.width=A=O.adjustedWidth,this.height=R,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(void 0===A)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl;(this.useDepth&&this.target.webglVersion===g.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===g.WEBGL&&this.depthFormat===g.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=g.UNSIGNED_INT),[g.UNSIGNED_BYTE,g.FLOAT,g.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=g.UNSIGNED_BYTE),this.useDepth&&![g.UNSIGNED_INT,g.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=g.FLOAT),A=(0,S.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==g.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=g.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===g.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=g.UNSIGNED_INT),A.halfFloat||this.format!==g.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=g.UNSIGNED_BYTE),this.channels===g.RGB&&[g.FLOAT,g.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=g.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,R=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),O=A.getParameter(A.FRAMEBUFFER_BINDING);if(!(Z=A.createTexture()))throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,Z);var re=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,re.internalFormat,this.width*this.density,this.height*this.density,0,re.format,re.type,null),this.colorTexture=Z,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,Z,0),this.useDepth){var Z;if(!(Z=A.createTexture()))throw new Error("Unable to create depth texture");var q=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,Z),A.texImage2D(A.TEXTURE_2D,0,q.internalFormat,this.width*this.density,this.height*this.density,0,q.format,q.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,Z,0),this.depthTexture=Z}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),re.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(q=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),q.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new L(this,"depthTexture"),this.depthP5Texture=new f.default.Texture(this.target._renderer,this.depth,{minFilter:Z=A.NEAREST,magFilter:Z}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new L(this,"colorTexture"),this.colorP5Texture=new f.default.Texture(this.target._renderer,this.color,{minFilter:re=this.textureFiltering===g.LINEAR?A.LINEAR:A.NEAREST,magFilter:re}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,R),A.bindFramebuffer(A.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var A,R,O=this.gl,Z=this.format===g.FLOAT?O.FLOAT:this.format===g.HALF_FLOAT?this.target.webglVersion===g.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,re=this.channels===g.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===g.WEBGL2?(l(R={},O.FLOAT,l({},O.RGBA,O.RGBA32F)),l(R,O.HALF_FLOAT,l({},O.RGBA,O.RGBA16F)),l(R,O.UNSIGNED_BYTE,(l(A={},O.RGBA,O.RGBA8),l(A,O.RGB,O.RGB8),A)),R[Z][re]):this.format===g.HALF_FLOAT?O.RGBA:re,format:re,type:Z}}},{key:"_glDepthFormat",value:function(){var O=this.gl,A=this.useStencil?this.depthFormat===g.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===g.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===g.FLOAT?O.FLOAT:O.UNSIGNED_INT,R=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT;return{internalFormat:O=this.useStencil?this.depthFormat===g.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===g.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===g.WEBGL2?this.depthFormat===g.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT,format:R,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var A=this.depth,R=this.colorRenderbuffer,O=this.depthRenderbuffer,Z=(this._deleteTexture(Z=this.color),A&&this._deleteTexture(A),this.gl);R&&Z.deleteRenderbuffer(R),O&&Z.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new V(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,R=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&R.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,Z=R;O<Z.length;O++){var q=a(Z[O],2);A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,q[0],q=q[1])}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,R=this.target._renderer.activeFramebuffer(),O=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,_.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),A.bindFramebuffer(A.FRAMEBUFFER,R?R._framebufferToBind():null)}},{key:"get",value:function(A,R,O,Z){f.default._validateParameters("p5.Framebuffer.get",arguments);var re=this._glColorFormat();if(void 0===A&&void 0===R)R=A=0,O=this.width,Z=this.height;else if(void 0===O&&void 0===Z)return(A<0||R<0||A>=this.width||R>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),R=this.target.constrain(R,0,this.height-1)),(0,_.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,R*this.density,re.format,re.type);A=this.target.constrain(A,0,this.width-1),R=this.target.constrain(R,0,this.height-1),O=this.target.constrain(O,1,this.width-A),Z=this.target.constrain(Z,1,this.height-R);for(var q=(0,_.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,R*this.density,O*this.density,Z*this.density,re.format,re.type),te=new Uint8ClampedArray(O*Z*this.density*this.density*4),X=(te.fill(255),re.type===this.gl.RGB?3:4),G=0;G<Z*this.density;G++)for(var Y=0;Y<O*this.density;Y++)for(var le=0;le<4;le++){var J=4*(G*O*this.density+Y)+le;le<X&&(te[J]=q[4==X?J:(G*O*this.density+Y)*X+le])}return(A=new f.default.Image(O*this.density,Z*this.density)).imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(te),A.pixels=A.imageData.data,A.updatePixels(),1!==this.density&&A.resize(O,Z),A}},{key:"updatePixels",value:function(){var A=this.gl,R=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=this.width*this.height*this.density*this.density*(O=R.format===A.RGBA?4:3),Z=R.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof Z)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,this.pixels),this.colorP5Texture.unbindTexture(),Z=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),A.bindFramebuffer(A.FRAMEBUFFER,Z?Z._framebufferToBind():null))}}]),U}());x=f.default.Framebuffer=P,$.default=x},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,se,$){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function b(u){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(l=o("../core/main"))&&l.__esModule?l:{default:l},g=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==b(u)&&"function"!=typeof u)return{default:u};var d=S();if(d&&d.has(u))return d.get(u);var h,m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var y;Object.prototype.hasOwnProperty.call(u,h)&&((y=p?Object.getOwnPropertyDescriptor(u,h):null)&&(y.get||y.set)?Object.defineProperty(m,h,y):m[h]=u[h])}return m.default=u,d&&d.set(u,m),m}(o("../core/constants"));function S(){var u;return"function"!=typeof WeakMap?null:(S=function(){return u},u=new WeakMap)}function _(u){return function(d){if(Array.isArray(d)){for(var h=0,m=new Array(d.length);h<d.length;h++)m[h]=d[h];return m}}(u)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(u,d){return function(h){if(Array.isArray(h))return h}(u)||function(h,m){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h)){var p=[],y=!0,D=!1,V=void 0;try{for(var L,P=h[Symbol.iterator]();!(y=(L=P.next()).done)&&(p.push(L.value),!m||p.length!==m);y=!0);}catch(x){D=!0,V=x}finally{try{y||null==P.return||P.return()}finally{if(D)throw V}}return p}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}f.default.Geometry=function(){function u(p,y,D){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new f.default.DataArray,this.lineTangentsIn=new f.default.DataArray,this.lineTangentsOut=new f.default.DataArray,this.lineSides=new f.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new f.default.DataArray,this.detailX=void 0!==p?p:1,this.detailY=void 0!==y?y:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,D instanceof Function&&D.call(this)}var d,h;return d=u,(h=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var p=new f.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),y=new f.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),D=0;D<this.vertices.length;D++){var V=this.vertices[D];p.x=Math.min(p.x,V.x),p.y=Math.min(p.y,V.y),p.z=Math.min(p.z,V.z),y.x=Math.max(y.x,V.x),y.y=Math.max(y.y,V.y),y.z=Math.max(y.z,V.z)}var L=new f.default.Vector(y.x-p.x,y.y-p.y,y.z-p.z),P=new f.default.Vector((p.x+y.x)/2,(p.y+y.y)/2,(p.z+y.z)/2);this.boundingBoxCache={min:p,max:y,size:L,offset:P}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var p=0;p<this.vertexColors.length;p+=4)if(this.vertexColors[p+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var p=0;p<this.lineVertexColors.length;p+=4)if(this.lineVertexColors[p+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var p=this,y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",D="";if(this.vertices.forEach(function(P){D+="v ".concat(P.x," ").concat(P.y," ").concat(P.z,"\n")}),this.uvs&&0<this.uvs.length)for(var V=0;V<this.uvs.length;V+=2)D+="vt ".concat(this.uvs[V]," ").concat(this.uvs[V+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(P){D+="vn ".concat(P.x," ").concat(P.y," ").concat(P.z,"\n")}),this.faces.forEach(function(P){var x="f";P.forEach(function(U){x=x+" "+(U+1),(0<p.vertexNormals.length||0<p.uvs.length)&&(x+="/",0<p.uvs.length&&(x+=U+1),x+="/",0<p.vertexNormals.length&&(x+=U+1))}),D+=x+"\n"});var L=new Blob([D],{type:"text/plain"});f.default.prototype.downloadFile(L,y,"obj")}},{key:"saveStl",value:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",y=void 0!==(y=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&y,D=p.substring(0,p.lastIndexOf(".")),V=[],L=!0,P=!1,x=void 0;try{for(var U,A=this.faces[Symbol.iterator]();!(L=(U=A.next()).done);L=!0){var R=U.value,O=f.default.Vector.sub(this.vertices[R[1]],this.vertices[R[0]]),Z=f.default.Vector.sub(this.vertices[R[2]],this.vertices[R[0]]);V.push(new f.default.Vector(O.y*Z.z-O.z*Z.y,O.z*Z.x-O.x*Z.z,O.x*Z.y-O.y*Z.x).normalize())}}catch(Ot){P=!0,x=Ot}finally{try{L||null==A.return||A.return()}finally{if(P)throw x}}if(y){var X,G=80;P=2*this.faces.length+3*this.faces.length*4*4+80+4,x=new ArrayBuffer(P),(X=new DataView(x)).setUint32(G,this.faces.length,!0),G+=4;for(var Y=0,le=Object.entries(this.faces);Y<le.length;Y++){var j=(Ie=i(le[Y],2))[0],Ie=Ie[1],J=(X.setFloat32(G,(j=V[j]).x,!0),X.setFloat32(G+=4,j.y,!0),X.setFloat32(G+=4,j.z,!0),G+=4,!0),ne=void(j=!1);try{for(var me,De=Ie[Symbol.iterator]();!(J=(me=De.next()).done);J=!0){var qe=this.vertices[me.value];X.setFloat32(G,qe.x,!0),X.setFloat32(G+=4,qe.y,!0),X.setFloat32(G+=4,qe.z,!0),G+=4}}catch(Vt){j=!0,ne=Vt}finally{try{J||null==De.return||De.return()}finally{if(j)throw ne}}X.setUint16(G,0,!0),G+=2}}else{X="solid "+D+"\n";for(var ut=0,He=Object.entries(this.faces);ut<He.length;ut++){var Ue=(ot=i(He[ut],2))[0],ot=ot[1],at=(X=X+" facet norm "+(Ue=V[Ue]).x+" "+Ue.y+" "+Ue.z+"\n  outer loop\n",!0),nt=void(Ue=!1);try{for(var Ye,st=ot[Symbol.iterator]();!(at=(Ye=st.next()).done);at=!0){var ft=this.vertices[Ye.value];X+="   vertex "+ft.x+" "+ft.y+" "+ft.z+"\n"}}catch(Ot){Ue=!0,nt=Ot}finally{try{at||null==st.return||st.return()}finally{if(Ue)throw nt}}X+="  endloop\n endfacet\n"}X+="endsolid "+D+"\n"}y=new Blob([X],{type:"text/plain"}),f.default.prototype.downloadFile(y,p,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(p,y){return y%2==0?1-p:p})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(p,y){return y%2==0?p:1-p})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var p,y,D,V=this.detailX+1,L=0;L<this.detailY;L++)for(var P=0;P<this.detailX;P++)y=(L+1)*V+P+1,this.faces.push([L*V+P,p=L*V+P+1,D=(L+1)*V+P]),this.faces.push([D,p,y]);return this}},{key:"_getFaceNormal",value:function(y){var D=this.vertices[(y=this.faces[y])[0]],L=this.vertices[y[1]],V=(y=this.vertices[y[2]],L=f.default.Vector.sub(L,D),y=f.default.Vector.sub(y,D),D=f.default.Vector.cross(L,y),f.default.Vector.mag(D));return 0==(L=V/(f.default.Vector.mag(L)*f.default.Vector.mag(y)))||isNaN(L)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),D):(1<L&&(L=1),D.mult(Math.asin(L)/V))}},{key:"computeNormals",value:function(){var p,y=this,V=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,L=this.vertexNormals,P=this.vertices,x=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:g.FLAT)===g.SMOOTH){for(var U={},A=[],R=Math.pow(10,void 0===V?3:V),O=function(X){return Math.round(X*R)/R},Z=function(X){return"".concat(O(X.x),",").concat(O(X.y),",").concat(O(X.z))},re=0;re<P.length;re++){var q=P[re],te=Z(q);void 0===U[te]&&(U[te]=A.length,A.push(q))}x.forEach(function(X){for(var G=0;G<3;++G){var Y=Z(Y=P[Y=X[G]]);X[G]=U[Y]}}),this.edges.forEach(function(X){for(var G=0;G<2;++G){var Y=Z(Y=P[Y=X[G]]);X[G]=U[Y]}}),this.vertices=P=A}for(p=L.length=0;p<P.length;++p)L.push(new f.default.Vector);for(x.forEach(function(X,G){for(var Y=y._getFaceNormal(G),le=0;le<3;++le)L[X[le]].add(Y)}),p=0;p<P.length;++p)L[p].normalize();return this}},{key:"averageNormals",value:function(){for(var p=0;p<=this.detailY;p++){var y=this.detailX+1,D=f.default.Vector.add(this.vertexNormals[p*y],this.vertexNormals[p*y+this.detailX]);D=f.default.Vector.div(D,2),this.vertexNormals[p*y]=D,this.vertexNormals[p*y+this.detailX]=D}return this}},{key:"averagePoleNormals",value:function(){for(var p=new f.default.Vector(0,0,0),y=0;y<this.detailX;y++)p.add(this.vertexNormals[y]);p=f.default.Vector.div(p,this.detailX);for(var D=0;D<this.detailX;D++)this.vertexNormals[D]=p;p=new f.default.Vector(0,0,0);for(var V=this.vertices.length-1;V>this.vertices.length-1-this.detailX;V--)p.add(this.vertexNormals[V]);p=f.default.Vector.div(p,this.detailX);for(var L=this.vertices.length-1;L>this.vertices.length-1-this.detailX;L--)this.vertexNormals[L]=p;return this}},{key:"_makeTriangleEdges",value:function(){for(var p=this.edges.length=0;p<this.faces.length;p++)this.edges.push([this.faces[p][0],this.faces[p][1]]),this.edges.push([this.faces[p][1],this.faces[p][2]]),this.edges.push([this.faces[p][2],this.faces[p][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var p,y=new Map,D=new Set,V=0;V<this.edges.length;V++){var L,P=this.edges[V-1],x=this.edges[V],U=this.vertices[x[0]],A=this.vertices[x[1]],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*x[0],4*(x[0]+1)):[0,0,0,0],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*x[1],4*(x[1]+1)):[0,0,0,0],Z=A.copy().sub(U).normalize(),re=0<Z.magSq();re&&this._addSegment(U,A,R,O,Z),0<V&&P[1]===x[0]?D.has(x[0])||(D.add(x[0]),y.delete(x[0]),p&&re&&Z.dot(p)<1-1e-8&&this._addJoin(U,p,Z,R)):(re&&!D.has(x[0])&&((L=y.get(x[0]))?(this._addJoin(U,L.dir,Z,R),y.delete(x[0]),D.add(x[0])):y.set(x[0],{point:U,dir:Z.copy().mult(-1),color:R})),p&&!D.has(P[1])&&((L=y.get(P[1]))?(this._addJoin(this.vertices[P[1]],p,L.dir.copy().mult(-1),R),y.delete(P[1]),D.add(P[1])):y.set(P[1],{point:this.vertices[P[1]],dir:p,color:R}),p=void 0)),V!==this.edges.length-1||D.has(x[1])||((U=y.get(x[1]))?(this._addJoin(A,Z,U.dir.copy().mult(-1),O),y.delete(x[1]),D.add(x[1])):y.set(x[1],{point:A,dir:Z,color:O})),re&&(p=Z)}var q=!0,te=!1,X=void 0;try{for(var G,Y=y.values()[Symbol.iterator]();!(q=(G=Y.next()).done);q=!0){var le=G.value;this._addCap(le.point,le.dir,le.color)}}catch(ne){te=!0,X=ne}finally{try{q||null==Y.return||Y.return()}finally{if(te)throw X}}return this}},{key:"_addSegment",value:function(P,x,D,V,L){P=P.array(),x=x.array();var U=L.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var A=0,R=[this.lineTangentsIn,this.lineTangentsOut];A<R.length;A++)for(var O=R[A],Z=0;Z<6;Z++)O.push.apply(O,_(U));return(L=this.lineVertices).push.apply(L,_(P).concat(_(x),_(P),_(x),_(x),_(P))),(L=this.lineVertexColors).push.apply(L,_(D).concat(_(V),_(D),_(V),_(V),_(D))),this}},{key:"_addCap",value:function(p,y,D){for(var V,L=p.array(),P=y.array(),x=[0,0,0],U=0;U<6;U++)(V=this.lineVertices).push.apply(V,_(L)),(V=this.lineTangentsIn).push.apply(V,_(P)),(V=this.lineTangentsOut).push.apply(V,x),(V=this.lineVertexColors).push.apply(V,_(D));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(p,y,D,V){for(var L,P=p.array(),x=y.array(),U=D.array(),A=0;A<12;A++)(L=this.lineVertices).push.apply(L,_(P)),(L=this.lineTangentsIn).push.apply(L,_(x)),(L=this.lineTangentsOut).push.apply(L,_(U)),(L=this.lineVertexColors).push.apply(L,_(V));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var p=this.vertices[0].copy(),y=this.vertices[0].copy(),D=0;D<this.vertices.length;D++)p.x=Math.max(p.x,this.vertices[D].x),y.x=Math.min(y.x,this.vertices[D].x),p.y=Math.max(p.y,this.vertices[D].y),y.y=Math.min(y.y,this.vertices[D].y),p.z=Math.max(p.z,this.vertices[D].z),y.z=Math.min(y.z,this.vertices[D].z);for(var V=f.default.Vector.lerp(p,y,.5),L=f.default.Vector.sub(p,y),P=200/Math.max(Math.max(L.x,L.y),L.z),x=0;x<this.vertices.length;x++)this.vertices[x].sub(V),this.vertices[x].mult(P)}return this}}])&&a(d.prototype,h),u}();var l=f.default.Geometry;$.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(S,se,$){"use strict";S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(S=S("../core/main"))&&S.__esModule?S:{default:S};function b(_,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(_,l.key,l)}}var f=Array,g=function(_){return Array.isArray(_)};typeof Float32Array<"u"&&(f=Float32Array,g=function(_){return Array.isArray(_)||_ instanceof Float32Array}),v.default.Matrix=function(){function _(){var u=this,d=_;if(u instanceof d)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof v.default&&(this.p5=(d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new f([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,a,l;return i=_,l=[{key:"identity",value:function(u){return new v.default.Matrix(u)}}],(a=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(u){var d=arguments;if(u instanceof v.default.Matrix?d=u.mat4:g(u)&&(d=u),16!==d.length)v.default._friendlyError("Expected 16 values but received ".concat(d.length,"."),"p5.Matrix.set");else for(var h=0;h<16;h++)this.mat4[h]=d[h];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var d,h,m,p,y,D;return u instanceof v.default.Matrix?(d=u.mat4[1],h=u.mat4[2],m=u.mat4[3],p=u.mat4[6],y=u.mat4[7],D=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=d,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=h,this.mat4[9]=p,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=m,this.mat4[13]=y,this.mat4[14]=D,this.mat4[15]=u.mat4[15]):g(u)&&(d=u[1],h=u[2],m=u[3],p=u[6],y=u[7],D=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=d,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=h,this.mat4[9]=p,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=m,this.mat4[13]=y,this.mat4[14]=D,this.mat4[15]=u[15]),this}},{key:"invert",value:function(q){q instanceof v.default.Matrix?(d=q.mat4[0],h=q.mat4[1],m=q.mat4[2],p=q.mat4[3],y=q.mat4[4],D=q.mat4[5],V=q.mat4[6],L=q.mat4[7],P=q.mat4[8],x=q.mat4[9],U=q.mat4[10],A=q.mat4[11],R=q.mat4[12],O=q.mat4[13],Z=q.mat4[14],re=q.mat4[15]):g(q)&&(d=q[0],h=q[1],m=q[2],p=q[3],y=q[4],D=q[5],V=q[6],L=q[7],P=q[8],x=q[9],U=q[10],A=q[11],R=q[12],O=q[13],Z=q[14],re=q[15]);var d,h,m,p,y,D,V,L,P,x,U,A,R,O,Z,re,te=d*V-m*y,X=d*L-p*y,G=h*V-m*D,Y=h*L-p*D,le=m*L-p*V,Ie=P*O-x*R,J=P*Z-U*R,j=P*re-A*R,ne=x*Z-U*O,me=x*re-A*O,De=U*re-A*Z,$e=(q=d*D-h*y)*De-te*me+X*ne+G*j-Y*J+le*Ie;return $e?(this.mat4[0]=(D*De-V*me+L*ne)*($e=1/$e),this.mat4[1]=(m*me-h*De-p*ne)*$e,this.mat4[2]=(O*le-Z*Y+re*G)*$e,this.mat4[3]=(U*Y-x*le-A*G)*$e,this.mat4[4]=(V*j-y*De-L*J)*$e,this.mat4[5]=(d*De-m*j+p*J)*$e,this.mat4[6]=(Z*X-R*le-re*te)*$e,this.mat4[7]=(P*le-U*X+A*te)*$e,this.mat4[8]=(y*me-D*j+L*Ie)*$e,this.mat4[9]=(h*j-d*me-p*Ie)*$e,this.mat4[10]=(R*Y-O*X+re*q)*$e,this.mat4[11]=(x*X-P*Y-A*q)*$e,this.mat4[12]=(D*J-y*ne-V*Ie)*$e,this.mat4[13]=(d*ne-h*J+m*Ie)*$e,this.mat4[14]=(O*te-R*G-Z*q)*$e,this.mat4[15]=(P*G-x*te+U*q)*$e,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],d=this.mat3[1],h=this.mat3[2],m=this.mat3[3],p=this.mat3[4],y=this.mat3[5],D=this.mat3[6],V=this.mat3[7],L=this.mat3[8],P=L*p-y*V,x=-L*m+y*D,U=V*m-p*D,A=u*P+d*x+h*U;return A?(this.mat3[0]=P*(A=1/A),this.mat3[1]=(-L*d+h*V)*A,this.mat3[2]=(y*d-h*p)*A,this.mat3[3]=x*A,this.mat3[4]=(L*u-h*D)*A,this.mat3[5]=(-y*u+h*m)*A,this.mat3[6]=U*A,this.mat3[7]=(-V*u+d*D)*A,this.mat3[8]=(p*u-d*m)*A,this):null}},{key:"transpose3x3",value:function(u){var d=(u=void 0===u?this.mat3:u)[1],h=u[2],m=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=d,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=h,this.mat3[7]=m,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var d=0;d<9;d++)this.mat3[d]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(h){var d;if(h===this||h===this.mat4)d=this.copy().mat4;else if(h instanceof v.default.Matrix)d=h.mat4;else if(g(h))d=h;else{if(16!==arguments.length)return;d=arguments}var m=this.mat4[1],p=this.mat4[2],y=this.mat4[3];return this.mat4[0]=(h=this.mat4[0])*d[0]+m*d[4]+p*d[8]+y*d[12],this.mat4[1]=h*d[1]+m*d[5]+p*d[9]+y*d[13],this.mat4[2]=h*d[2]+m*d[6]+p*d[10]+y*d[14],this.mat4[3]=h*d[3]+m*d[7]+p*d[11]+y*d[15],this.mat4[4]=(h=this.mat4[4])*d[0]+(m=this.mat4[5])*d[4]+(p=this.mat4[6])*d[8]+(y=this.mat4[7])*d[12],this.mat4[5]=h*d[1]+m*d[5]+p*d[9]+y*d[13],this.mat4[6]=h*d[2]+m*d[6]+p*d[10]+y*d[14],this.mat4[7]=h*d[3]+m*d[7]+p*d[11]+y*d[15],this.mat4[8]=(h=this.mat4[8])*d[0]+(m=this.mat4[9])*d[4]+(p=this.mat4[10])*d[8]+(y=this.mat4[11])*d[12],this.mat4[9]=h*d[1]+m*d[5]+p*d[9]+y*d[13],this.mat4[10]=h*d[2]+m*d[6]+p*d[10]+y*d[14],this.mat4[11]=h*d[3]+m*d[7]+p*d[11]+y*d[15],this.mat4[12]=(h=this.mat4[12])*d[0]+(m=this.mat4[13])*d[4]+(p=this.mat4[14])*d[8]+(y=this.mat4[15])*d[12],this.mat4[13]=h*d[1]+m*d[5]+p*d[9]+y*d[13],this.mat4[14]=h*d[2]+m*d[6]+p*d[10]+y*d[14],this.mat4[15]=h*d[3]+m*d[7]+p*d[11]+y*d[15],this}},{key:"apply",value:function(h){var d;if(h===this||h===this.mat4)d=this.copy().mat4;else if(h instanceof v.default.Matrix)d=h.mat4;else if(g(h))d=h;else{if(16!==arguments.length)return;d=arguments}var p,y,D,m=((h=this.mat4)[0]=d[0]*(m=h[0])+d[1]*(p=h[4])+d[2]*(y=h[8])+d[3]*(D=h[12]),h[4]=d[4]*m+d[5]*p+d[6]*y+d[7]*D,h[8]=d[8]*m+d[9]*p+d[10]*y+d[11]*D,h[12]=d[12]*m+d[13]*p+d[14]*y+d[15]*D,h[1]);return h[1]=d[0]*m+d[1]*(p=h[5])+d[2]*(y=h[9])+d[3]*(D=h[13]),h[5]=d[4]*m+d[5]*p+d[6]*y+d[7]*D,h[9]=d[8]*m+d[9]*p+d[10]*y+d[11]*D,h[13]=d[12]*m+d[13]*p+d[14]*y+d[15]*D,h[2]=d[0]*(m=h[2])+d[1]*(p=h[6])+d[2]*(y=h[10])+d[3]*(D=h[14]),h[6]=d[4]*m+d[5]*p+d[6]*y+d[7]*D,h[10]=d[8]*m+d[9]*p+d[10]*y+d[11]*D,h[14]=d[12]*m+d[13]*p+d[14]*y+d[15]*D,h[3]=d[0]*(m=h[3])+d[1]*(p=h[7])+d[2]*(y=h[11])+d[3]*(D=h[15]),h[7]=d[4]*m+d[5]*p+d[6]*y+d[7]*D,h[11]=d[8]*m+d[9]*p+d[10]*y+d[11]*D,h[15]=d[12]*m+d[13]*p+d[14]*y+d[15]*D,this}},{key:"scale",value:function(u,d,h){return u instanceof v.default.Vector?(d=u.y,h=u.z,u=u.x):u instanceof Array&&(d=u[1],h=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=d,this.mat4[7]*=d,this.mat4[8]*=h,this.mat4[9]*=h,this.mat4[10]*=h,this.mat4[11]*=h,this}},{key:"rotate",value:function(q,me,ne,m){me instanceof v.default.Vector?(ne=me.y,m=me.z,me=me.x):me instanceof Array&&(ne=me[1],m=me[2],me=me[0]);var p=(me*=1/(p=Math.sqrt(me*me+ne*ne+m*m)),ne*=1/p,m*=1/p,this.mat4[0]),y=this.mat4[1],D=this.mat4[2],V=this.mat4[3],L=this.mat4[4],P=this.mat4[5],x=this.mat4[6],U=this.mat4[7],A=this.mat4[8],R=this.mat4[9],O=this.mat4[10],Z=this.mat4[11],re=Math.sin(q),te=1-(q=Math.cos(q)),X=me*me*te+q,G=ne*me*te+m*re,Y=m*me*te-ne*re,le=me*ne*te-m*re,Ie=ne*ne*te+q,J=m*ne*te+me*re,j=me*m*te+ne*re;return ne=ne*m*te-me*re,me=m*m*te+q,this.mat4[0]=p*X+L*G+A*Y,this.mat4[1]=y*X+P*G+R*Y,this.mat4[2]=D*X+x*G+O*Y,this.mat4[3]=V*X+U*G+Z*Y,this.mat4[4]=p*le+L*Ie+A*J,this.mat4[5]=y*le+P*Ie+R*J,this.mat4[6]=D*le+x*Ie+O*J,this.mat4[7]=V*le+U*Ie+Z*J,this.mat4[8]=p*j+L*ne+A*me,this.mat4[9]=y*j+P*ne+R*me,this.mat4[10]=D*j+x*ne+O*me,this.mat4[11]=V*j+U*ne+Z*me,this}},{key:"translate",value:function(m){var d=m[0],h=m[1];this.mat4[12]+=this.mat4[0]*d+this.mat4[4]*h+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*h+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*h+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*h+this.mat4[11]*m}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(p,d,h,m){p=1/Math.tan(p/2);var y=1/(h-m);return this.mat4[0]=p/d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+h)*y,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*h*y,this.mat4[15]=0,this}},{key:"ortho",value:function(u,d,h,m,p,y){var D=1/(u-d),V=1/(h-m),L=1/(p-y);return this.mat4[0]=-2*D,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*V,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*L,this.mat4[11]=0,this.mat4[12]=(u+d)*D,this.mat4[13]=(m+h)*V,this.mat4[14]=(y+p)*L,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,d,h,m){var p=new Array(4),y=this.mat4;return p[0]=y[0]*u+y[4]*d+y[8]*h+y[12]*m,p[1]=y[1]*u+y[5]*d+y[9]*h+y[13]*m,p[2]=y[2]*u+y[6]*d+y[10]*h+y[14]*m,p[3]=y[3]*u+y[7]*d+y[11]*h+y[15]*m,p}},{key:"multiplyPoint",value:function(h){var m=this.multiplyVec4(m=h.x,h.y,h=h.z,1);return new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(h){var m;return(m=this.multiplyVec4(m=h.x,h.y,h=h.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(h){var m=this.multiplyVec4(m=h.x,h.y,h=h.z,0);return new v.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(h){var d;if(h===this||h===this.mat3)d=this.copy().mat3;else if(h instanceof v.default.Matrix)d=h.mat3;else if(g(h))d=h;else{if(9!==arguments.length)return;d=arguments}var m=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(h=this.mat3[0])*d[0]+m*d[3]+p*d[6],this.mat3[1]=h*d[1]+m*d[4]+p*d[7],this.mat3[2]=h*d[2]+m*d[5]+p*d[8],this.mat3[3]=(h=this.mat3[3])*d[0]+(m=this.mat3[4])*d[3]+(p=this.mat3[5])*d[6],this.mat3[4]=h*d[1]+m*d[4]+p*d[7],this.mat3[5]=h*d[2]+m*d[5]+p*d[8],this.mat3[6]=(h=this.mat3[6])*d[0]+(m=this.mat3[7])*d[3]+(p=this.mat3[8])*d[6],this.mat3[7]=h*d[1]+m*d[4]+p*d[7],this.mat3[8]=h*d[2]+m*d[5]+p*d[8],this}},{key:"column",value:function(u){return new v.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new v.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,d){return(d=void 0===d?u.copy():d).x=this.row(0).dot(u),d.y=this.row(1).dot(u),d.z=this.row(2).dot(u),d}},{key:"createSubMatrix3x3",value:function(){var u=new v.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&b(i.prototype,a),l&&b(i,l),_}(),$.default=S=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,se,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,g){for(var S=0;S<g.length;S++){var _=g[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Quat=function(){function f(i,a,l,u){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.w=i,this.vec=new v.default.Vector(a,l,u)}var g,S,_;return g=f,_=[{key:"fromAxisAngle",value:function(i,h,l,u){var d=Math.cos(i/2);return h=new v.default.Vector(h,l,u).normalize().mult(Math.sin(i/2)),new v.default.Quat(d,h.x,h.y,h.z)}}],(S=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(i){return new v.default.Quat(this.w*i.w-this.vec.x*i.vec.x-this.vec.y*i.vec.y-this.vec.z-i.vec.z,this.w*i.vec.x+this.vec.x*i.w+this.vec.y*i.vec.z-this.vec.z*i.vec.y,this.w*i.vec.y-this.vec.x*i.vec.z+this.vec.y*i.w+this.vec.z*i.vec.x,this.w*i.vec.z+this.vec.x*i.vec.y-this.vec.y*i.vec.x+this.vec.z*i.w)}},{key:"rotateVector",value:function(i){return new v.default.Vector.mult(i,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*i.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(i)).clampToZero()}},{key:"rotateBy",value:function(i){return i.multiply(this).multiply(i.conjugate()).vec.clampToZero()}}])&&b(g.prototype,S),_&&b(g,_),f}(),$.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,se,$){"use strict";function v(b,f){for(var g=0;g<f.length;g++){var S=f[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function b(_,i,a,l,u,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=_,this.src=i,this.dst=a,this.attr=l,this._renderer=u,this.map=d}var f,g;return f=b,(g=[{key:"_prepareBuffer",value:function(_,i){var a,l,u,m,d=this._renderer.GL,h=_.model||_;(m=(m=i.attributes)[this.attr])&&(a=_[this.dst],0<(l=h[this.src]).length?((u=!a)&&(_[this.dst]=a=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,a),!u&&!1===h.dirtyFlags[this.src]||(u=(_=this.map)?_(l):l,this._renderer._bindBuffer(a,d.ARRAY_BUFFER,u),h.dirtyFlags[this.src]=!1),i.enableAttrib(m,this.size)):-1!==(_=m.location)&&this._renderer.registerEnabled.has(_)&&(d.disableVertexAttribArray(_),this._renderer.registerEnabled.delete(_)))}}])&&v(f.prototype,g),b}(),$.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,se,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var u=S();if(u&&u.has(l))return u.get(l);var d,h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=m?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=l[d])}return h.default=l,u&&u.set(l,h),h}(o("../core/constants"));function S(){var l;return"function"!=typeof WeakMap?null:(S=function(){return l},l=new WeakMap)}function _(l){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(l)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),f.default.RendererGL.prototype.beginShape=function(l){return this.immediateMode.shapeMode=void 0!==l?l:g.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(f.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==g.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},f.default.RendererGL.prototype.vertex=function(l,u){if(this.immediateMode.shapeMode===g.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var d in i){var h=i[d];(d=this.immediateMode.geometry[d]).push.apply(d,_(d.slice(d.length-3*h,d.length-2*h)).concat(_(d.slice(d.length-h,d.length))))}var m,p,y=m=p=0,D=(3===arguments.length?y=arguments[2]:4===arguments.length?(m=arguments[2],p=arguments[3]):5===arguments.length&&(y=arguments[2],m=arguments[3],p=arguments[4]),new f.default.Vector(l,u,y));return this.immediateMode.geometry.vertices.push(D),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((D=this.curFillColor||[.5,.5,.5,1])[0],D[1],D[2],D[3]),this.immediateMode.geometry.vertexStrokeColors.push((D=this.curStrokeColor||[.5,.5,.5,1])[0],D[1],D[2],D[3]),this.textureMode!==g.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,p),this.immediateMode._bezierVertex[0]=l,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=y,this.immediateMode._quadraticVertex[0]=l,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=y,this},f.default.RendererGL.prototype.normal=function(l,u,d){return this._currentNormal=l instanceof f.default.Vector?l:new f.default.Vector(l,u,d),this},f.default.RendererGL.prototype.endShape=function(l,u,d,h,m,p){var y,D=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===g.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),y=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==g.LINE_STRIP&&this.immediateMode.shapeMode!==g.LINES||(this.immediateMode.shapeMode=g.TRIANGLE_FAN,y=!0),this.immediateMode.shapeMode===g.QUADS?this.immediateMode.shapeMode=g.TRIANGLES:this.immediateMode.shapeMode===g.QUAD_STRIP&&(this.immediateMode.shapeMode=g.TRIANGLE_STRIP),this._doFill&&!y&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(D),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},f.default.RendererGL.prototype._processVertices=function(l){var u;0!==this.immediateMode.geometry.vertices.length&&(l=l===g.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,l),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===g.TESS,l=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||l)&&this.immediateMode.shapeMode!==g.LINES&&this._tesselateShape())},f.default.RendererGL.prototype._calculateEdges=function(l,u,d){var h=[],m=0,p=this.immediateMode.contourIndices.slice(),y=0;switch(l){case g.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)h.push([m,m+1]),h.push([m,m+2]);h.push([m,m+1]);break;case g.TRIANGLE_FAN:for(m=1;m<u.length-1;m++)h.push([0,m]),h.push([m,m+1]);h.push([0,u.length-1]);break;case g.TRIANGLES:for(m=0;m<u.length-2;m+=3)h.push([m,m+1]),h.push([m+1,m+2]),h.push([m+2,m]);break;case g.LINES:for(m=0;m<u.length-1;m+=2)h.push([m,m+1]);break;case g.QUADS:for(m=0;m<u.length-5;m+=6)h.push([m,m+1]),h.push([m+1,m+2]),h.push([m+3,m+5]),h.push([m+4,m+5]);break;case g.QUAD_STRIP:for(m=0;m<u.length-2;m+=2)h.push([m,m+1]),h.push([m,m+2]),h.push([m+1,m+3]);h.push([m,m+1]);break;default:for(m=0;m<u.length;m++)m+1<u.length&&m+1!==p[0]?h.push([m,m+1]):((d||y)&&h.push([m,y]),0<p.length&&(y=p.shift()))}return l!==g.TESS&&d&&h.push([u.length-1,0]),h},f.default.RendererGL.prototype._tesselateShape=function(){for(var l=this,u=(this.immediateMode.shapeMode=g.TRIANGLES,[[]]),d=0;d<this.immediateMode.geometry.vertices.length;d++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===d&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[d].x,this.immediateMode.geometry.vertices[d].y,this.immediateMode.geometry.vertices[d].z,this.immediateMode.geometry.uvs[2*d],this.immediateMode.geometry.uvs[2*d+1],this.immediateMode.geometry.vertexColors[4*d],this.immediateMode.geometry.vertexColors[4*d+1],this.immediateMode.geometry.vertexColors[4*d+2],this.immediateMode.geometry.vertexColors[4*d+3],this.immediateMode.geometry.vertexNormals[d].x,this.immediateMode.geometry.vertexNormals[d].y,this.immediateMode.geometry.vertexNormals[d].z);for(var h,m=this._triangulate(u),p=this.immediateMode.geometry.vertices,y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),D=0,V=m.length;D<V;D+=f.default.RendererGL.prototype.tessyVertexSize)y.push.apply(y,_(m.slice(D+5,D+9))),this.normal.apply(this,_(m.slice(D+9,D+12))),this.vertex.apply(this,_(m.slice(D,D+5)));this.geometryBuilder&&(h=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(L){return L.map(function(P){if(!h.has(P)){var x=p[P],U=l.immediateMode.geometry.vertices.findIndex(function(te){return x.x===te.x&&x.y===te.y&&x.z===te.z});if(-1===U){for(var A=1/0,R=0,O=0;O<l.immediateMode.geometry.vertices.length;O++){var re,q,Z=x.y-(re=l.immediateMode.geometry.vertices[O]).y;(q=(q=x.x-re.x)*q+Z*Z+(re=x.z-re.z)*re)<A&&(A=q,R=O)}U=R}h.set(P,U)}return h.get(P)})})),this.immediateMode.geometry.vertexColors=y},f.default.RendererGL.prototype._drawImmediateFill=function(){var l,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,d=this.GL,h=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,l=this._getImmediateFillShader(),this._setFillUniforms(l),!0),m=!1,p=void 0;try{for(var y,D=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(y=D.next()).done);h=!0)y.value._prepareBuffer(this.immediateMode.geometry,l)}catch(V){m=!0,p=V}finally{try{h||null==D.return||D.return()}finally{if(m)throw p}}if(l.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)d.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{d.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}l.unbindShader()},f.default.RendererGL.prototype._drawImmediateStroke=function(){var l=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),d=(this._setStrokeUniforms(u),!0),h=!1,m=void 0;try{for(var p,y=this.immediateMode.buffers.stroke[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)p.value._prepareBuffer(this.immediateMode.geometry,u)}catch(D){h=!0,m=D}finally{try{d||null==y.return||y.return()}finally{if(h)throw m}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),l.drawArrays(l.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},f.default.RendererGL);$.default=a},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,se,$){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var f=(_=o("../core/main"))&&_.__esModule?_:{default:_},g=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var a=S();if(a&&a.has(i))return a.get(i);var l,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var h;Object.prototype.hasOwnProperty.call(i,l)&&((h=d?Object.getOwnPropertyDescriptor(i,l):null)&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=i[l])}return u.default=i,a&&a.set(i,u),u}(o("../core/constants")));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}f.default.RendererGL.prototype.freeGeometry=function(i){i.gid?this._freeBuffers(i.gid):console.warn("The model you passed to freeGeometry does not have an id!")},f.default.RendererGL.prototype._initBufferDefaults=function(i){var a;return this._freeBuffers(i),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[i]={}},f.default.RendererGL.prototype._freeBuffers=function(i){var a,l=this.retainedMode.geometry[i];function u(d){var h=!0,m=!1,p=void 0;try{for(var y,D=d[Symbol.iterator]();!(h=(y=D.next()).done);h=!0){var V=y.value;l[V.dst]&&(a.deleteBuffer(l[V.dst]),l[V.dst]=null)}}catch(L){m=!0,p=L}finally{try{h||null==D.return||D.return()}finally{if(m)throw p}}}l&&(delete this.retainedMode.geometry[i],a=this.GL,l.indexBuffer&&a.deleteBuffer(l.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(m,a){var l,u,d,h=this.GL,p=((m=this._initBufferDefaults(m)).model=a,m.indexBuffer);return a.faces.length?(p=p||(m.indexBuffer=h.createBuffer()),d=(u=(l=f.default.RendererGL.prototype._flatten(a.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(p,h.ELEMENT_ARRAY_BUFFER,l,d),m.indexBufferType=u?h.UNSIGNED_INT:h.UNSIGNED_SHORT,m.vertexCount=3*a.faces.length):(p&&(h.deleteBuffer(p),m.indexBuffer=null),m.vertexCount=a.vertices?a.vertices.length:0),m.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,m},f.default.RendererGL.prototype.drawBuffers=function(i){var a=this.GL,l=this.retainedMode.geometry[i];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[i].vertexCount){this._useVertexColor=0<l.model.vertexColors.length;var u=this._getRetainedFillShader(),d=(this._setFillUniforms(u),!0),h=!1,m=void 0;try{for(var p,y=this.retainedMode.buffers.fill[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)p.value._prepareBuffer(l,u)}catch(x){h=!0,m=x}finally{try{d||null==y.return||y.return()}finally{if(h)throw m}}u.disableRemainingAttributes(),l.indexBuffer&&this._bindBuffer(l.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,l.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,i),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<l.lineVertexCount){this._useLineColor=0<l.model.vertexStrokeColors.length;var D=this._getRetainedStrokeShader(),V=(this._setStrokeUniforms(D),!0);h=!1,m=void 0;try{for(var L,P=this.retainedMode.buffers.stroke[Symbol.iterator]();!(V=(L=P.next()).done);V=!0)L.value._prepareBuffer(l,D)}catch(A){h=!0,m=A}finally{try{V||null==P.return||P.return()}finally{if(h)throw m}}D.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,l.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,i),D.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(l),this},f.default.RendererGL.prototype.drawBuffersScaled=function(i,a,l,u){var d=this.uModelMatrix.copy();try{this.uModelMatrix.scale(a,l,u),this.drawBuffers(i)}finally{this.uModelMatrix=d}},f.default.RendererGL.prototype._drawArrays=function(i,a){return this.GL.drawArrays(i,0,this.retainedMode.geometry[a].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(i,l){var u=this.GL;if((l=this.retainedMode.geometry[l]).indexBuffer){if(this._pInst.webglVersion!==g.WEBGL2&&l.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,l.vertexCount,l.indexBufferType,0)}else u.drawArrays(i||u.TRIANGLES,0,l.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(i,a){var l=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(a,l.ARRAY_BUFFER,this._vToNArray(i),Float32Array,l.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),l.drawArrays(l.Points,0,i.length),u.unbindShader()};var _=f.default.RendererGL;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(O,se,$){"use strict";function v(G){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(G)}function b(G){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(Y){return v(Y)}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":v(Y)})(G)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.readPixelsWebGL=te,$.readPixelWebGL=X,$.default=void 0;var f=l(O("../core/main")),g=function(G){if(G&&G.__esModule)return G;if(null===G||"object"!==b(G)&&"function"!=typeof G)return{default:G};var Y=a();if(Y&&Y.has(G))return Y.get(G);var le,Ie={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(le in G){var j;Object.prototype.hasOwnProperty.call(G,le)&&((j=J?Object.getOwnPropertyDescriptor(G,le):null)&&(j.get||j.set)?Object.defineProperty(Ie,le,j):Ie[le]=G[le])}return Ie.default=G,Y&&Y.set(G,Ie),Ie}(O("../core/constants")),S=l(O("./GeometryBuilder")),_=l(O("libtess")),i=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function a(){var G;return"function"!=typeof WeakMap?null:(a=function(){return G},G=new WeakMap)}function l(G){return G&&G.__esModule?G:{default:G}}function u(G){return function(Y){if(Array.isArray(Y)){for(var le=0,Ie=new Array(Y.length);le<Y.length;le++)Ie[le]=Y[le];return Ie}}(G)||function(Y){if(Symbol.iterator in Object(Y)||"[object Arguments]"===Object.prototype.toString.call(Y))return Array.from(Y)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(G,Y){for(var le=0;le<Y.length;le++){var Ie=Y[le];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(G,Ie.key,Ie)}}function h(G,Y,le){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(ne,J,j){if(ne=function(me,De){for(;!Object.prototype.hasOwnProperty.call(me,De)&&null!==(me=D(me)););return me}(ne,J))return(ne=Object.getOwnPropertyDescriptor(ne,J)).get?ne.get.call(j):ne.value})(G,Y,le||G)}function m(G,Y){return(m=Object.setPrototypeOf||function(le,Ie){return le.__proto__=Ie,le})(G,Y)}function y(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function D(G){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(G)}function V(G,Y,le){Y in G?Object.defineProperty(G,Y,{value:le,enumerable:!0,configurable:!0,writable:!0}):G[Y]=le}function L(G,Y){R+="#define STROKE_CAP_".concat(G," ").concat(Y,"\n"),U[g[G]]=Y}function P(G,Y){R+="#define STROKE_JOIN_".concat(G," ").concat(Y,"\n"),A[g[G]]=Y}var x,U={},A={},R="",Z={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(L("ROUND",0),L("PROJECT",1),L("SQUARE",2),P("ROUND",0),P("MITER",1),P("BEVEL",2),(O='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:O+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:R+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:R+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},re=Z.sphereMappingFrag;for(x in Z)Z[x]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+Z[x];V(O={},g.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),V(O,g.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),V(O,g.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),V(O,g.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),V(O,g.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),V(O,g.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),V(O,g.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),V(O,g.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var q=O;function te(G,Y,ut,Ie,J,j,ne,me,De,$e){var qe=Y.getParameter(Y.FRAMEBUFFER_BINDING),He=j*ne*(Y.bindFramebuffer(Y.FRAMEBUFFER,ut),ut=me===Y.RGBA?4:3),ot=De===Y.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof ot&&G.length===He||(G=new ot(He)),Y.readPixels(Ie,$e?$e-J-ne:J,j,ne,me,De,G),Y.bindFramebuffer(Y.FRAMEBUFFER,qe),$e)for(var at=Math.floor(ne/2),Ue=new ot(j*ut),nt=0;nt<at;nt++){var Ye=nt*j*4,st=(ne-nt-1)*j*4;Ue.set(G.subarray(Ye,Ye+4*j)),G.copyWithin(Ye,st,st+4*j),G.set(Ue,st)}return G}function X(G,De,le,Ie,J,j,ne){var me=G.getParameter(G.FRAMEBUFFER_BINDING);return G.bindFramebuffer(G.FRAMEBUFFER,De),De=J===G.RGBA?4:3,De=new(j===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(De),G.readPixels(le,ne?ne-Ie-1:Ie,1,1,J,j,De),G.bindFramebuffer(G.FRAMEBUFFER,me),Array.from(De)}f.default.prototype.setAttributes=function(G,Y){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var le=!0;if(void 0!==Y?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[G]!==Y&&(this._glAttributes[G]=Y,le=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,le=!1),this._renderer.isP3D&&!le){if(!this._setupDone)for(var Ie in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Ie))return void f.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},f.default.RendererGL=function(G){var Y=J;if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),G&&m(Y,G);var Ie=function p(G){return function(){var Y,le,Ie=D(G);return Y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Y=D(this).constructor,Reflect.construct(Ie,arguments,Y)):Ie.apply(this,arguments),Ie=this,!(le=Y)||"object"!==b(le)&&"function"!=typeof le?y(Ie):le}}(J);function J(j,ne,me,De){if(this instanceof J)return(j=Ie.call(this,j,ne,me))._setAttributeDefaults(ne),j._initContext(),j.isP3D=!0,j.geometryBuilder=void 0,j.GL=j.drawingContext,j._pInst._setProperty("drawingContext",j.drawingContext),j._isErasing=!1,j._clipDepths=[],j._isClipApplied=!1,j._stencilTestOn=!1,j._enableLighting=!1,j.ambientLightColors=[],j.mixedAmbientLight=[],j.mixedSpecularColor=[],j.specularColors=[1,1,1],j.directionalLightDirections=[],j.directionalLightDiffuseColors=[],j.directionalLightSpecularColors=[],j.pointLightPositions=[],j.pointLightDiffuseColors=[],j.pointLightSpecularColors=[],j.spotLightPositions=[],j.spotLightDirections=[],j.spotLightDiffuseColors=[],j.spotLightSpecularColors=[],j.spotLightAngle=[],j.spotLightConc=[],j.activeImageLight=null,j.diffusedTextures=new Map,j.specularTextures=new Map,j.drawMode=g.FILL,j.curFillColor=j._cachedFillStyle=[1,1,1,1],j.curAmbientColor=j._cachedFillStyle=[1,1,1,1],j.curSpecularColor=j._cachedFillStyle=[0,0,0,0],j.curEmissiveColor=j._cachedFillStyle=[0,0,0,0],j.curStrokeColor=j._cachedStrokeStyle=[0,0,0,1],j.curBlendMode=g.BLEND,j.preEraseBlend=void 0,j._cachedBlendMode=void 0,j.blendExt=j.webglVersion===g.WEBGL2?j.GL:j.GL.getExtension("EXT_blend_minmax"),j._isBlending=!1,j._hasSetAmbient=!1,j._useSpecularMaterial=!1,j._useEmissiveMaterial=!1,j._useNormalMaterial=!1,j._useShininess=1,j._useMetalness=0,j._useLineColor=!1,j._useVertexColor=!1,j.registerEnabled=new Set,j._tint=[255,255,255,255],j.constantAttenuation=1,j.linearAttenuation=0,j.quadraticAttenuation=0,j.uModelMatrix=new f.default.Matrix,j.uViewMatrix=new f.default.Matrix,j.uMVMatrix=new f.default.Matrix,j.uPMatrix=new f.default.Matrix,j.uNMatrix=new f.default.Matrix("mat3"),j.curMatrix=new f.default.Matrix("mat3"),j._currentNormal=new f.default.Vector(0,0,1),j._curCamera=new f.default.Camera(y(j)),j._curCamera._computeCameraDefaultSettings(),j._curCamera._setDefaultCamera(),j.filterCamera=new f.default.Camera(y(j)),j.filterCamera._computeCameraDefaultSettings(),j.filterCamera._setDefaultCamera(),j.prevTouches=[],j.zoomVelocity=0,j.rotateVelocity=new f.default.Vector(0,0),j.moveVelocity=new f.default.Vector(0,0),j.executeZoom=!1,j.executeRotateAndMove=!1,j.specularShader=void 0,j.sphereMapping=void 0,j.diffusedShader=void 0,j._defaultLightShader=void 0,j._defaultImmediateModeShader=void 0,j._defaultNormalShader=void 0,j._defaultColorShader=void 0,j._defaultPointShader=void 0,j.userFillShader=void 0,j.userStrokeShader=void 0,j.userPointShader=void 0,j.retainedMode={geometry:{},buffers:{stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(j)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(j)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(j)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(j))],fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(j),j._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(j),j._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(j)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(j),j._flatten)],text:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(j),j._vToNArray),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(j),j._flatten)]}},j.immediateMode={geometry:new f.default.Geometry,shapeMode:g.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(j),j._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(j),j._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(j)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(j),j._flatten)],stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(j)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(j)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(j)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(j))],point:j.GL.createBuffer()}},j.pointSize=5,j.curStrokeWeight=1,j.curStrokeCap=g.ROUND,j.curStrokeJoin=g.ROUND,j.textures=new Map,j.framebuffers=new Set,j.activeFramebuffers=[],j.filterShader=void 0,j.filterLayer=void 0,j.filterLayerTemp=void 0,j.defaultFilterShaders={},j.textureMode=g.IMAGE,j.textureWrapX=g.CLAMP,j.textureWrapY=g.CLAMP,j._tex=null,j._curveTightness=6,j._lookUpTableBezier=[],j._lookUpTableQuadratic=[],j._lutBezierDetail=0,j._lutQuadraticDetail=0,j.isProcessingVertices=!1,j._tessy=j._initTessy(),j.fontInfos={},j._curShader=void 0,j;throw new TypeError("Cannot call a class as a function")}return Y=J,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new S.default(this)}},{key:"endGeometry",value:function(){var j;if(this.geometryBuilder)return j=this.geometryBuilder.finish(),this.geometryBuilder=void 0,j;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(j){return this.beginGeometry(),j(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(j){var ne={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};j._glAttributes=null===j._glAttributes?ne:Object.assign(ne,j._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?g.WEBGL2:g.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var j=this.drawingContext;j.enable(j.DEPTH_TEST),j.depthFunc(j.LEQUAL),j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var j=this.drawingContext;return j.getParameter(j.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(j,ne){this._maxTextureSize||(this._maxTextureSize=this._getParam());var De=this._maxTextureSize,me=(De=Math.floor(De/this.pixelDensity()),Math.min(j,De));return De=Math.min(ne,De),me===j&&De===ne||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(me,", height: ").concat(De,".")),{adjustedWidth:me,adjustedHeight:De}}},{key:"_resetContext",value:function(j,ne){var me,De=this.width,$e=this.height,ut=this.canvas.id,qe=this._pInst instanceof f.default.Graphics;qe?((me=this._pInst).canvas.parentNode.removeChild(me.canvas),me.canvas=document.createElement("canvas"),(me._pInst._userNode||document.body).appendChild(me.canvas),f.default.Element.call(me,me.canvas,me._pInst),me.width=De,me.height=$e):((me=this.canvas)&&me.parentNode.removeChild(me),(me=document.createElement("canvas")).id=ut,(this._pInst._userNode||document.body).appendChild(me),this._pInst.canvas=me,this.canvas=me),ut=new f.default.RendererGL(this._pInst.canvas,this._pInst,!qe),this._pInst._setProperty("_renderer",ut),ut.resize(De,$e),ut._applyDefaults(),qe||this._pInst._elements.push(ut),"function"==typeof ne&&setTimeout(function(){ne.apply(window._renderer,j)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var De=(De=this._pInst).color.apply(De,arguments);this.clear(De.levels[0]/255,De.levels[1]/255,De.levels[2]/255,De=De.levels[3]/255)}},{key:"fill",value:function(j,ne,me,De){var $e=f.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=$e._array,this.drawMode=g.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(j,ne,me,De){var $e=f.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=$e._array}},{key:"strokeCap",value:function(j){this.curStrokeCap=j}},{key:"strokeJoin",value:function(j){this.curStrokeJoin=j}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(j,ne){j.width===ne.width&&j.height===ne.height||j.resize(ne.width,ne.height),j.pixelDensity()!==ne.pixelDensity()&&j.pixelDensity(ne.pixelDensity())}},{key:"filter",value:function(){var j,ne,me=this,De=this.getFilterLayer(),$e=void 0,qe=void 0,ut=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(qe=arguments.length<=0?void 0:arguments[0],V(j={},g.BLUR,3),V(j,g.POSTERIZE,4),V(j,g.THRESHOLD,.5),$e=qe in j&&void 0===(arguments.length<=1?void 0:arguments[1])?j[qe]:arguments.length<=1?void 0:arguments[1],qe in this.defaultFilterShaders||(this.defaultFilterShaders[qe]=new f.default.Shader(De._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",q[qe])),this.filterShader=this.defaultFilterShaders[qe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),He=(this.matchSize(De,ut),De.draw(function(){return me._pInst.clear()}),[1/(ut.width*ut.pixelDensity()),1/(ut.height*ut.pixelDensity())]);qe===g.BLUR?(ne=this.getFilterLayerTemp(),this.matchSize(ne,ut),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(g.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",He),this.filterShader.setUniform("canvasSize",[ut.width,ut.height]),this.filterShader.setUniform("radius",Math.max(1,$e)),ne.draw(function(){me.filterShader.setUniform("direction",[1,0]),me.filterShader.setUniform("tex0",ut),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(ut.width,ut.height)}),De.draw(function(){me.filterShader.setUniform("direction",[0,1]),me.filterShader.setUniform("tex0",ne),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(ut.width,ut.height)}),this._pInst.pop()):De.draw(function(){me._pInst.noStroke(),me._pInst.blendMode(g.BLEND),me._pInst.shader(me.filterShader),me.filterShader.setUniform("tex0",ut),me.filterShader.setUniform("texelSize",He),me.filterShader.setUniform("canvasSize",[ut.width,ut.height]),me.filterShader.setUniform("filterParameter",$e),me._pInst.noLights(),me._pInst.plane(ut.width,ut.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(g.CORNER),this._pInst.blendMode(g.BLEND),ut.filterCamera._resize(),this._pInst.setCamera(ut.filterCamera),this._pInst.resetMatrix(),this._pInst.image(De,-ut.width/2,-ut.height/2,ut.width,ut.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(j){return j?this._pInst.pixelDensity(j):this._pInst.pixelDensity()}},{key:"blendMode",value:function(j){j===g.DARKEST||j===g.LIGHTEST||j===g.ADD||j===g.BLEND||j===g.SUBTRACT||j===g.SCREEN||j===g.EXCLUSION||j===g.REPLACE||j===g.MULTIPLY||j===g.REMOVE?this.curBlendMode=j:j!==g.BURN&&j!==g.OVERLAY&&j!==g.HARD_LIGHT&&j!==g.SOFT_LIGHT&&j!==g.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(j,ne){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(g.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,j/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,ne/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(h(D(J.prototype),"beginClip",this).call(this,j),this.drawTarget()._isClipApplied=!0,j=this.GL).clearStencil(0),j.clear(j.STENCIL_BUFFER_BIT),j.enable(j.STENCIL_TEST),this._stencilTestOn=!0,j.stencilFunc(j.ALWAYS,1,255),j.stencilOp(j.KEEP,j.KEEP,j.REPLACE),j.disable(j.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var j=this.GL;j.stencilOp(j.KEEP,j.KEEP,j.KEEP),j.stencilFunc(this._clipInvert?j.EQUAL:j.NOTEQUAL,0,255),j.enable(j.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),h(D(J.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(j){this.curStrokeWeight!==j&&(this.pointSize=j,this.curStrokeWeight=j)}},{key:"_getPixel",value:function(j,ne){var me=this.GL;return X(me,null,j,ne,me.RGBA,me.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var j,ne,me=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):me._setProperty("pixels",te(me.pixels,ne=this.GL,null,0,0,this.width*(j=this._pInst._pixelDensity),this.height*j,ne.RGBA,ne.UNSIGNED_BYTE,this.height*j))}},{key:"updatePixels",value:function(){var j=this._getTempFramebuffer();j.pixels=this._pixelsState.pixels,j.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(g.CENTER),this._pInst.image(j,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:g.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:g.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(j){return void 0!==this.retainedMode.geometry[j]}},{key:"viewport",value:function(j,ne){this._viewport=[0,0,j,ne],this.GL.viewport(0,0,j,ne)}},{key:"resize",value:function($e,De){f.default.Renderer.prototype.resize.call(this,$e,De),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var me=(void 0!==($e=this._pixelsState).pixels&&$e._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);De=!1,$e=void 0;try{for(var qe,ut=this.framebuffers[Symbol.iterator]();!(me=(qe=ut.next()).done);me=!0)qe.value._canvasSizeChanged()}catch(He){De=!0,$e=He}finally{try{me||null==ut.return||ut.return()}finally{if(De)throw $e}}}},{key:"clear",value:function(){var j=(arguments.length<=0?void 0:arguments[0])||0,ne=(arguments.length<=1?void 0:arguments[1])||0,me=(arguments.length<=2?void 0:arguments[2])||0,De=(arguments.length<=3?void 0:arguments[3])||0,$e=this.activeFramebuffer();$e&&$e.format===g.UNSIGNED_BYTE&&!$e.antialias&&0===De&&(De=1e-10),this.GL.clearColor(j*De,ne*De,me*De,De),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(j,ne,me,De,$e,qe){16===arguments.length?f.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([j,ne,0,0,me,De,0,0,0,0,1,0,$e,qe,0,1])}},{key:"translate",value:function(j,ne,me){return j instanceof f.default.Vector&&(me=j.z,ne=j.y,j=j.x),this.uModelMatrix.translate([j,ne,me]),this}},{key:"scale",value:function(j,ne,me){return this.uModelMatrix.scale(j,ne,me),this}},{key:"rotate",value:function(j,ne){return void 0===ne?this.rotateZ(j):(f.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(j){return this.rotate(j,1,0,0),this}},{key:"rotateY",value:function(j){return this.rotate(j,0,1,0),this}},{key:"rotateZ",value:function(j){return this.rotate(j,0,0,1),this}},{key:"push",value:function(){var j=f.default.Renderer.prototype.push.apply(this),ne=j.properties;return ne.uModelMatrix=this.uModelMatrix.copy(),ne.uViewMatrix=this.uViewMatrix.copy(),ne.uPMatrix=this.uPMatrix.copy(),ne._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),ne.ambientLightColors=this.ambientLightColors.slice(),ne.specularColors=this.specularColors.slice(),ne.directionalLightDirections=this.directionalLightDirections.slice(),ne.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),ne.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),ne.pointLightPositions=this.pointLightPositions.slice(),ne.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),ne.pointLightSpecularColors=this.pointLightSpecularColors.slice(),ne.spotLightPositions=this.spotLightPositions.slice(),ne.spotLightDirections=this.spotLightDirections.slice(),ne.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),ne.spotLightSpecularColors=this.spotLightSpecularColors.slice(),ne.spotLightAngle=this.spotLightAngle.slice(),ne.spotLightConc=this.spotLightConc.slice(),ne.userFillShader=this.userFillShader,ne.userStrokeShader=this.userStrokeShader,ne.userPointShader=this.userPointShader,ne.pointSize=this.pointSize,ne.curStrokeWeight=this.curStrokeWeight,ne.curStrokeColor=this.curStrokeColor,ne.curFillColor=this.curFillColor,ne.curAmbientColor=this.curAmbientColor,ne.curSpecularColor=this.curSpecularColor,ne.curEmissiveColor=this.curEmissiveColor,ne._hasSetAmbient=this._hasSetAmbient,ne._useSpecularMaterial=this._useSpecularMaterial,ne._useEmissiveMaterial=this._useEmissiveMaterial,ne._useShininess=this._useShininess,ne._useMetalness=this._useMetalness,ne.constantAttenuation=this.constantAttenuation,ne.linearAttenuation=this.linearAttenuation,ne.quadraticAttenuation=this.quadraticAttenuation,ne._enableLighting=this._enableLighting,ne._useNormalMaterial=this._useNormalMaterial,ne._tex=this._tex,ne.drawMode=this.drawMode,ne._currentNormal=this._currentNormal,ne.curBlendMode=this.curBlendMode,ne.activeImageLight=this.activeImageLight,j}},{key:"pop",value:function(){var j;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var ne=arguments.length,me=new Array(ne),De=0;De<ne;De++)me[De]=arguments[De];(j=h(D(J.prototype),"pop",this)).call.apply(j,[this].concat(me)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var j=this.drawTarget();j._isClipApplied!==this._stencilTestOn&&(j._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var j=this.userStrokeShader;return j&&j.isStrokeShader()?j:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(j){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(re)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",j),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var j=this.userFillShader;if(this._useNormalMaterial&&(!j||!j.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getImmediateModeShader();return j}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var j=this.userFillShader;if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getColorShader();return j}},{key:"_getImmediatePointShader",value:function(){var j=this.userPointShader;return j&&j.isPointShader()?j:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Z.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Z.phongFrag):new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Z.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Z.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===g.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(j,ne){var me="";return this.webglVersion===g.WEBGL2&&(me+="#version 300 es\n#define WEBGL2\n"),"vert"===j?me+="#define VERTEX_SHADER\n":"frag"===j&&(me+="#define FRAGMENT_SHADER\n"),ne&&(me+="precision ".concat(ne," float;\n")),me}},{key:"_getEmptyTexture",value:function(){var j;return this._emptyTexture||((j=new f.default.Image(1,1)).set(0,0,255),this._emptyTexture=new f.default.Texture(this,j)),this._emptyTexture}},{key:"getTexture",value:function(j){j instanceof f.default.Framebuffer&&(j=j.color);var ne=this.textures.get(j);return ne||(ne=new f.default.Texture(this,j),this.textures.set(j,ne),ne)}},{key:"getDiffusedTexture",value:function(j){var ne,me,De=this;return null!=this.diffusedTextures.get(j)?this.diffusedTextures.get(j):(ne=Math.floor(j.height/j.width*200),me=this._pInst.createFramebuffer({width:200,height:ne,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Z.imageLightVert,Z.imageLightDiffusedFrag)),me.draw(function(){De._pInst.shader(De.diffusedShader),De.diffusedShader.setUniform("environmentMap",j),De._pInst.noStroke(),De._pInst.rectMode(g.CENTER),De._pInst.noLights(),De._pInst.rect(0,0,200,ne)}),this.diffusedTextures.set(j,me),me)}},{key:"getSpecularTexture",value:function(j){var ne=this;if(null!=this.specularTextures.get(j))return this.specularTextures.get(j);for(var me,De=[],$e=this._pInst.createFramebuffer({width:512,height:512,density:1}),qe=Math.log(512)/Math.log(2),ut=(this.specularShader||(this.specularShader=this._pInst.createShader(Z.imageLightVert,Z.imageLightSpecularFrag)),512);1<=ut;ut/=2)!function(He){$e.resize(He,He);var ot=1-Math.log(He)/Math.log(2)/qe;$e.draw(function(){ne._pInst.shader(ne.specularShader),ne._pInst.clear(),ne.specularShader.setUniform("environmentMap",j),ne.specularShader.setUniform("roughness",ot),ne._pInst.noStroke(),ne._pInst.noLights(),ne._pInst.plane(He,He)}),De.push($e.get().drawingContext.getImageData(0,0,He,He))}(ut);return $e.remove(),me=new i.MipmapTexture(this,De,{}),this.specularTextures.set(j,me),me}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(j){return new f.default.Framebuffer(this,j)}},{key:"_setStrokeUniforms",value:function(j){j.bindShader(),j.setUniform("uUseLineColor",this._useLineColor),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uStrokeWeight",this.curStrokeWeight),j.setUniform("uStrokeCap",U[this.curStrokeCap]),j.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(j){var ne=this,me=(j.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(De,$e){return ne.curFillColor[$e]*ne._useMetalness+De*(1-ne._useMetalness)})),j.setUniform("uUseVertexColor",this._useVertexColor),j.setUniform("uMaterialColor",this.curFillColor),j.setUniform("isTexture",!!this._tex),this._tex&&j.setUniform("uSampler",this._tex),j.setUniform("uTint",this._tint),j.setUniform("uHasSetAmbient",this._hasSetAmbient),j.setUniform("uAmbientMatColor",this.curAmbientColor),j.setUniform("uSpecularMatColor",this.mixedSpecularColor),j.setUniform("uEmissiveMatColor",this.curEmissiveColor),j.setUniform("uSpecular",this._useSpecularMaterial),j.setUniform("uEmissive",this._useEmissiveMaterial),j.setUniform("uShininess",this._useShininess),j.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(j),j.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);j.setUniform("uPointLightCount",me),j.setUniform("uPointLightLocation",this.pointLightPositions),j.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),j.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),j.setUniform("uDirectionalLightCount",me=this.directionalLightDiffuseColors.length/3),j.setUniform("uLightingDirection",this.directionalLightDirections),j.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),j.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),me=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(De){return Math.max(0,De-=ne._useMetalness)})),j.setUniform("uAmbientLightCount",me),j.setUniform("uAmbientColor",this.mixedAmbientLight),j.setUniform("uSpotLightCount",me=this.spotLightDiffuseColors.length/3),j.setUniform("uSpotLightAngle",this.spotLightAngle),j.setUniform("uSpotLightConc",this.spotLightConc),j.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),j.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),j.setUniform("uSpotLightLocation",this.spotLightPositions),j.setUniform("uSpotLightDirection",this.spotLightDirections),j.setUniform("uConstantAttenuation",this.constantAttenuation),j.setUniform("uLinearAttenuation",this.linearAttenuation),j.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),j.bindTextures()}},{key:"_setImageLightUniforms",value:function(j){var ne;j.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(ne=this.getDiffusedTexture(this.activeImageLight),j.setUniform("environmentMapDiffused",ne),ne=this.getSpecularTexture(this.activeImageLight),j.setUniform("levelOfDetail",20/this._useShininess*8),j.setUniform("environmentMapSpecular",ne))}},{key:"_setPointUniforms",value:function(j){j.bindShader(),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(j,ne,me,De,$e){this.GL.bindBuffer(ne=ne||this.GL.ARRAY_BUFFER,j),void 0!==me&&((j=me)instanceof f.default.DataArray?j=me.dataArray():j instanceof(De||Float32Array)||(j=new(De||Float32Array)(j)),this.GL.bufferData(ne,j,$e||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(j,ne){return j.length===ne.length&&j.every(function(me,De){return me===ne[De]})}},{key:"_isTypedArray",value:function(j){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(ne){return j instanceof ne})}},{key:"_flatten",value:function(j){return j.flat()}},{key:"_vToNArray",value:function(j){return j.flatMap(function(ne){return[ne.x,ne.y,ne.z]})}},{key:"_bezierCoefficients",value:function(j){var ne=j*j,me=1-j,De=me*me;return[De*me,3*De*j,3*me*ne,ne*j]}},{key:"_quadraticCoefficients",value:function(j){var ne=1-j;return[ne*ne,2*ne*j,j*j]}},{key:"_bezierToCatmull",value:function(j){return[j[1],j[1]+(j[2]-j[0])/this._curveTightness,j[2]-(j[3]-j[1])/this._curveTightness,j[2]]}},{key:"_initTessy",value:function(){var j=new _.default.GluTesselator;return j.gluTessCallback(_.default.gluEnum.GLU_TESS_VERTEX_DATA,function(ne,me){var De=!0,$e=!1,qe=void 0;try{for(var ut,He=ne[Symbol.iterator]();!(De=(ut=He.next()).done);De=!0)me.push(ut.value)}catch(at){$e=!0,qe=at}finally{try{De||null==He.return||He.return()}finally{if($e)throw qe}}}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_BEGIN,function(ne){ne!==_.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(ne))}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_ERROR,function(ne){console.log("error callback"),console.log("error number: ".concat(ne))}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_COMBINE,function(ne,me,De){for(var $e=new Array(f.default.RendererGL.prototype.tessyVertexSize).fill(0),qe=0;qe<De.length;qe++)for(var ut=0;ut<$e.length;ut++)0!==De[qe]&&me[qe]&&($e[ut]+=me[qe][ut]*De[qe]);return $e}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_EDGE_FLAG,function(ne){}),j.gluTessProperty(_.default.gluEnum.GLU_TESS_WINDING_RULE,_.default.windingRule.GLU_TESS_WINDING_NONZERO),j}},{key:"_triangulate",value:function(j){var ne=j[0]?j[0][2]:void 0,me=!0,De=!0,ot=!1,Ue=void 0;try{for(var $e,qe=j[Symbol.iterator]();!(De=($e=qe.next()).done);De=!0)for(var ut=$e.value,He=0;He<ut.length;He+=f.default.RendererGL.prototype.tessyVertexSize)if(ut[He+2]!==ne){me=!1;break}}catch(ar){ot=!0,Ue=ar}finally{try{De||null==qe.return||qe.return()}finally{if(ot)throw Ue}}this._tessy.gluTessNormal(0,0,me?1:0);var at=(this._tessy.gluTessBeginPolygon(ot=[]),!0),nt=void(Ue=!1);try{for(var Ye,st=j[Symbol.iterator]();!(at=(Ye=st.next()).done);at=!0){var Ze=Ye.value;this._tessy.gluTessBeginContour();for(var ft=0;ft<Ze.length;ft+=f.default.RendererGL.prototype.tessyVertexSize){var Ot=Ze.slice(ft,ft+f.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Ot,Ot)}this._tessy.gluTessEndContour()}}catch(ar){Ue=!0,nt=ar}finally{try{at||null==st.return||st.return()}finally{if(Ue)throw nt}}return this._tessy.gluTessEndPolygon(),ot}}])&&d(Y.prototype,G),J}(f.default.Renderer),f.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},f.default.RendererGL.prototype.tessyVertexSize=12,$.default=O=f.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,se,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(f,g){for(var S=0;S<g.length;S++){var _=g[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}v.default.Shader=function(){function f(i,a,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=a,this._fragSrc=l,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var g,S;return g=f,(S=[{key:"init",value:function(){if(0===this._glProgram){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(i){var a=new v.default.Shader(i._renderer,this._vertSrc,this._fragSrc);return a.ensureCompiledOnContext(i),a}},{key:"ensureCompiledOnContext",value:function(i){if(0!==this._glProgram&&this._renderer!==i._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=i._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,a=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),l=0;l<a;++l){var u=i.getActiveAttrib(this._glProgram,l),d=u.name,h=i.getAttribLocation(this._glProgram,d),m={};m.name=d,m.location=h,m.index=l,m.type=u.type,m.size=u.size,this.attributes[d]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,a=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),l=0,u=0;u<a;++u){var d=i.getActiveUniform(this._glProgram,u),h={},m=(h.location=i.getUniformLocation(this._glProgram,d.name),h.size=d.size,d.name);1<d.size&&(m=m.substring(0,m.indexOf("[0]"))),h.name=m,h.type=d.type,h._cachedData=void 0,h.type===i.SAMPLER_2D&&(h.samplerIndex=l,l++,this.samplers.push(h)),h.isArray=1<d.size||h.type===i.FLOAT_MAT3||h.type===i.FLOAT_MAT4||h.type===i.FLOAT_VEC2||h.type===i.FLOAT_VEC3||h.type===i.FLOAT_VEC4||h.type===i.INT_VEC2||h.type===i.INT_VEC4||h.type===i.INT_VEC3,this.uniforms[m]=h}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,a=!0,l=!1,u=void 0;try{for(var d,h=this.samplers[Symbol.iterator]();!(a=(d=h.next()).done);a=!0){var m=d.value,p=m.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+m.samplerIndex),p.bindTexture(),p.update(),i.uniform1i(m.location,m.samplerIndex)}}catch(y){l=!0,u=y}finally{try{a||null==h.return||h.return()}finally{if(l)throw u}}}},{key:"updateTextures",value:function(){var i=!0,a=!1,l=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var h=u.value.texture;h&&h.update()}}catch(m){a=!0,l=m}finally{try{i||null==d.return||d.return()}finally{if(a)throw l}}}},{key:"unbindTextures",value:function(){var i=!0,a=!1,l=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(i=(u=d.next()).done);i=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(m){a=!0,l=m}finally{try{i||null==d.return||d.return()}finally{if(a)throw l}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer.uModelMatrix,a=this._renderer.uViewMatrix,l=this._renderer.uPMatrix,u=i.copy().mult(a),d=(this._renderer.uMVMatrix=u).copy();d.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelMatrix",i.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",d.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,a){var l=this.uniforms[i];if(l){var u=this._renderer.GL;if(l.isArray){if(l._cachedData&&this._renderer._arraysEqual(l._cachedData,a))return;l._cachedData=a.slice(0)}else{if(l._cachedData&&l._cachedData===a)return;l._cachedData=Array.isArray(a)?a.slice(0):a}var d=l.location;switch(this.useProgram(),l.type){case u.BOOL:u.uniform1i(d,!0===a?1:0);break;case u.INT:1<l.size?a.length&&u.uniform1iv(d,a):u.uniform1i(d,a);break;case u.FLOAT:1<l.size?a.length&&u.uniform1fv(d,a):u.uniform1f(d,a);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(d,!1,a);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(d,!1,a);break;case u.FLOAT_VEC2:1<l.size?a.length&&u.uniform2fv(d,a):u.uniform2f(d,a[0],a[1]);break;case u.FLOAT_VEC3:1<l.size?a.length&&u.uniform3fv(d,a):u.uniform3f(d,a[0],a[1],a[2]);break;case u.FLOAT_VEC4:1<l.size?a.length&&u.uniform4fv(d,a):u.uniform4f(d,a[0],a[1],a[2],a[3]);break;case u.INT_VEC2:1<l.size?a.length&&u.uniform2iv(d,a):u.uniform2i(d,a[0],a[1]);break;case u.INT_VEC3:1<l.size?a.length&&u.uniform3iv(d,a):u.uniform3i(d,a[0],a[1],a[2]);break;case u.INT_VEC4:1<l.size?a.length&&u.uniform4iv(d,a):u.uniform4i(d,a[0],a[1],a[2],a[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+l.samplerIndex),l.texture=a instanceof v.default.Texture?a:this._renderer.getTexture(a),u.uniform1i(d,l.samplerIndex),l.texture.src.gifProperties&&l.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(i){return void 0!==i})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(i,a,l,u,d,h){var m;return i&&-1!==(i=i.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(i)||(m.enableVertexAttribArray(i),this._renderer.registerEnabled.add(i)),this._renderer.GL.vertexAttribPointer(i,a,l||m.FLOAT,u||!1,d||0,h||0)),this}},{key:"disableRemainingAttributes",value:function(){var i=this,a=!0,l=!1,u=void 0;try{for(var d,h=this._renderer.registerEnabled.values()[Symbol.iterator]();!(a=(d=h.next()).done);a=!0)!function(){var m=d.value;Object.keys(i.attributes).some(function(p){return i.attributes[p].location===m})||(i._renderer.GL.disableVertexAttribArray(m),i._renderer.registerEnabled.delete(m))}()}catch(m){l=!0,u=m}finally{try{a||null==h.return||h.return()}finally{if(l)throw u}}}}])&&b(g.prototype,S),f}(),$.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,se,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.checkWebGLCapabilities=m,$.default=$.MipmapTexture=void 0;var f=(h=o("../core/main"))&&h.__esModule?h:{default:h},g=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var y=S();if(y&&y.has(p))return y.get(p);var D,V={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in p){var P;Object.prototype.hasOwnProperty.call(p,D)&&((P=L?Object.getOwnPropertyDescriptor(p,D):null)&&(P.get||P.set)?Object.defineProperty(V,D,P):V[D]=p[D])}return V.default=p,y&&y.set(p,V),V}(o("../core/constants"));function S(){var p;return"function"!=typeof WeakMap?null:(S=function(){return p},p=new WeakMap)}function _(p,y){return(_=Object.setPrototypeOf||function(D,V){return D.__proto__=V,D})(p,y)}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p,y){for(var D=0;D<y.length;D++){var V=y[D];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(p,V.key,V)}}function d(p,y,D){y&&u(p.prototype,y),D&&u(p,D)}f.default.Texture=function(){function p(x,D,P){l(this,p),this._renderer=x;var L=this._renderer.GL;return P=P||{},this.src=D,this.glTex=void 0,this.glTarget=L.TEXTURE_2D,this.glFormat=P.format||L.RGBA,this.mipmaps=!1,this.glMinFilter=P.minFilter||L.LINEAR,this.glMagFilter=P.magFilter||L.LINEAR,this.glWrapS=P.wrapS||L.CLAMP_TO_EDGE,this.glWrapT=P.wrapT||L.CLAMP_TO_EDGE,this.glDataType=P.dataType||L.UNSIGNED_BYTE,P=m(x),this.glFormat!==L.HALF_FLOAT||P.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=L.FLOAT),this.glFormat!==L.HALF_FLOAT||this.glMinFilter!==L.LINEAR&&this.glMagFilter!==L.LINEAR||P.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===L.LINEAR&&(this.glMinFilter=L.NEAREST),this.glMagFilter===L.LINEAR&&(this.glMagFilter=L.NEAREST)),this.glFormat!==L.FLOAT||P.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=L.UNSIGNED_BYTE),this.glFormat!==L.FLOAT||this.glMinFilter!==L.LINEAR&&this.glMagFilter!==L.LINEAR||P.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===L.LINEAR&&(this.glMinFilter=L.NEAREST),this.glMagFilter===L.LINEAR&&(this.glMagFilter=L.NEAREST)),this.isSrcMediaElement=void 0!==f.default.MediaElement&&D instanceof f.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==f.default.Element&&D instanceof f.default.Element&&!(D instanceof f.default.Graphics)&&!(D instanceof f.default.Renderer),this.isSrcP5Image=D instanceof f.default.Image,this.isSrcP5Graphics=D instanceof f.default.Graphics,this.isSrcP5Renderer=D instanceof f.default.Renderer,this.isImageData=typeof ImageData<"u"&&D instanceof ImageData,this.isFramebufferTexture=D instanceof f.default.FramebufferTexture,x=this._getTextureDataFromSource(),this.width=x.width,this.height=x.height,this.init(x),this}return d(p,[{key:"_getTextureDataFromSource",value:function(){var y;return this.isFramebufferTexture?y=this.src.rawTexture():this.isSrcP5Image?y=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?y=this.src.elt:this.isImageData&&(y=this.src),y}},{key:"init",value:function(y){var D,V=this._renderer.GL;this.isFramebufferTexture||(this.glTex=V.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,this.glMagFilter),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(D=new Uint8Array([1,1,1,1]),V.texImage2D(this.glTarget,0,V.RGBA,1,1,0,this.glFormat,this.glDataType,D)):V.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y))}},{key:"update",value:function(){var y,D,V,L=this.src;return 0!==L.width&&0!==L.height&&!this.isFramebufferTexture&&(y=this._getTextureDataFromSource(),D=!1,V=this._renderer.GL,y.width!==this.width||y.height!==this.height?(D=!0,this.width=y.width||L.width,this.height=y.height||L.height,this.isSrcP5Image?L.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&L.setModified(!0)):this.isSrcP5Image?L.isModified()&&L.setModified(!(D=!0)):this.isSrcMediaElement?L.isModified()?L.setModified(!(D=!0)):L.loadedmetadata&&this._videoPrevUpdateTime!==L.time()&&(this._videoPrevUpdateTime=L.time(),D=!0):this.isImageData?L._dirty&&(D=!(L._dirty=!1)):D=!0,D&&(this.bindTexture(),V.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y)),D)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(y,D){var V=this._renderer.GL;this.glMinFilter=this.glFilter(y),this.glMagFilter=this.glFilter(D),this.bindTexture(),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,this.glMinFilter),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(y){var D=this._renderer.GL;return y===g.NEAREST?D.NEAREST:D.LINEAR}},{key:"setWrapMode",value:function(y,D){function V(U){return!(U&U-1)}var L=this._renderer.GL,x=(x=this._getTextureDataFromSource()).naturalWidth&&x.naturalHeight?(P=x.naturalWidth,x.naturalHeight):(P=this.width,this.height),P=V(P);x=V(x),y===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||P&&x?this.glWrapS=L.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=L.CLAMP_TO_EDGE):y===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||P&&x?this.glWrapS=L.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=L.CLAMP_TO_EDGE):this.glWrapS=L.CLAMP_TO_EDGE,D===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||P&&x?this.glWrapT=L.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=L.CLAMP_TO_EDGE):D===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||P&&x?this.glWrapT=L.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=L.CLAMP_TO_EDGE):this.glWrapT=L.CLAMP_TO_EDGE,this.bindTexture(),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,this.glWrapS),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var h=function(p){var y=V;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&_(y,p);var D=function i(p){return function(){var y,D=a(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=a(this).constructor,Reflect.construct(D,arguments,y)):D.apply(this,arguments),D=this,!y||"object"!==b(y)&&"function"!=typeof y){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(V);function V(L,P,x){return l(this,V),P=(L=D.call(this,L,P,x))._renderer.GL,L.glMinFilter===P.LINEAR&&(L.glMinFilter=P.LINEAR_MIPMAP_LINEAR),L}return d(V,[{key:"glFilter",value:function(L){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(L){var P=this._renderer.GL;this.glTex=P.createTexture(),this.bindTexture();for(var x=0;x<L.length;x++)P.texImage2D(this.glTarget,x,this.glFormat,this.glFormat,this.glDataType,L[x]);this.glMinFilter=P.LINEAR_MIPMAP_LINEAR,P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),V}(f.default.Texture);function m(L){var y=L.GL,D=(L=L.webglVersion)===g.WEBGL2?y.getExtension("EXT_color_buffer_float")&&y.getExtension("EXT_float_blend"):y.getExtension("OES_texture_float");return{float:D,floatLinear:D&&y.getExtension("OES_texture_float_linear"),halfFloat:L=y.getExtension(L===g.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:L&&y.getExtension("OES_texture_half_float_linear")}}$.MipmapTexture=h,$.default=o=f.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,se,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var f,g=(f=o("../core/main"))&&f.__esModule?f:{default:f},S=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var y=_();if(y&&y.has(p))return y.get(p);var D,V={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in p){var P;Object.prototype.hasOwnProperty.call(p,D)&&((P=L?Object.getOwnPropertyDescriptor(p,D):null)&&(P.get||P.set)?Object.defineProperty(V,D,P):V[D]=p[D])}return V.default=p,y&&y.set(p,V),V}(o("../core/constants"));function _(){var p;return"function"!=typeof WeakMap?null:(_=function(){return p},p=new WeakMap)}function i(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function a(p,y){for(var D=0;D<y.length;D++){var V=y[D];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(p,V.key,V)}}function l(p,y,D){y&&a(p.prototype,y),D&&a(p,D)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),g.default.RendererGL.prototype._applyTextProperties=function(){},g.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var u=function(){function p(y,D){i(this,p),this.width=y,this.height=D,this.infos=[]}return l(p,[{key:"findImage",value:function(y){var D,V,L=this.width*this.height;if(L<y)throw new Error("font is too complex to render in 3D");for(var P=this.infos.length-1;0<=P;--P){var x=this.infos[P];if(x.index+y<L){V=(D=x).imageData;break}}if(!D){try{V=new ImageData(this.width,this.height)}catch{var U=document.getElementsByTagName("canvas")[0],A=!U,R=(U||((U=document.createElement("canvas")).style.display="none",document.body.appendChild(U)),U.getContext("2d"));R&&(V=R.createImageData(this.width,this.height)),A&&document.body.removeChild(U)}this.infos.push(D={index:0,imageData:V})}return R=D.index,D.index+=y,V._dirty=!0,{imageData:V,index:R}}}]),p}();function d(x,y,D,V,L){var P=x.imageData.data;x=4*x.index++,P[x++]=y,P[x++]=D,P[x++]=V,P[+x]=L}var h=Math.sqrt(3),m=function(){function p(y){i(this,p),this.font=y,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return l(p,[{key:"getGlyphInfo",value:function(y){var D=this.glyphInfos[y.index];if(!D){var V=y.getBoundingBox(),L=V.x1,P=V.y1,x=V.x2-L,U=V.y2-P,A=y.path.commands;if(0==x||0==U||!A.length)return this.glyphInfos[y.index]={};for(var R=[],O=[],Z=[],re=8;0<=re;--re)Z.push([]);for(re=8;0<=re;--re)O.push([]);var q,te,X,G,Y=function(){function zt(br,Zt,pr,Ct){i(this,zt),this.p0=br,this.c0=Zt,this.c1=pr,this.p1=Ct}return l(zt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return g.default.Vector.sub(g.default.Vector.sub(this.p1,this.p0),g.default.Vector.mult(g.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(lr){var Zt=g.default.Vector.lerp(this.p0,this.c0,lr),Ct=g.default.Vector.lerp(this.c0,this.c1,lr),pr=g.default.Vector.lerp(Zt,Ct,lr);return this.c1=g.default.Vector.lerp(this.c1,this.p1,lr),this.c0=g.default.Vector.lerp(Ct,this.c1,lr),Ct=g.default.Vector.lerp(pr,this.c0,lr),lr=new zt(this.p0,Zt,pr,Ct),this.p0=Ct,lr}},{key:"splitInflections",value:function(){var br=g.default.Vector.sub(this.c0,this.p0),Zt=g.default.Vector.sub(g.default.Vector.sub(this.c1,this.c0),br),pr=g.default.Vector.sub(g.default.Vector.sub(g.default.Vector.sub(this.p1,this.c1),br),g.default.Vector.mult(Zt,2)),Ct=[],lr=Zt.x*pr.y-Zt.y*pr.x;return 0!==lr&&0<=(br=(pr=br.x*pr.y-br.y*pr.x)*pr-4*lr*(br.x*Zt.y-br.y*Zt.x))&&(lr<0&&(lr=-lr,pr=-pr),br=(-pr+(Zt=Math.sqrt(br)))/(2*lr),0<(pr=(-pr-Zt)/(2*lr))&&pr<1&&(Ct.push(this.split(pr)),br=1-(1-br)/(1-pr)),0<br&&br<1&&Ct.push(this.split(br))),Ct.push(this),Ct}}]),zt}(),le=!0,Ie=!1,J=void 0;try{for(var j,ne=A[Symbol.iterator]();!(le=(j=ne.next()).done);le=!0){var me=j.value,De=(me.x-L)/x,$e=(me.y-P)/U;if(!Vt(q,te,De,$e)){switch(me.type){case"M":X=De,G=$e;break;case"L":ar(q,te,De,$e);break;case"Q":var qe=(me.x1-L)/x,ut=(me.y1-P)/U;ft([q,De,qe],[te,$e,ut],{x:q,y:te,cx:qe,cy:ut});break;case"Z":Vt(q,te,X,G)?R.push({x:q,y:te}):(ar(q,te,X,G),R.push({x:X,y:G}));break;case"C":for(var He=function(We,At,Ht,pr,Ct,lr,Gt,Ve){We=new Y(new g.default.Vector(We,At),new g.default.Vector(Ht,pr),new g.default.Vector(Ct,lr),new g.default.Vector(Gt,Ve)).splitInflections();var Oe=[],Je=30/h,It=!0;At=!1,Ht=void 0;try{for(var yt,Ft=We[Symbol.iterator]();!(It=(yt=Ft.next()).done);It=!0){for(var Jt=yt.value,rr=[],Rt=void 0;!(.125<=(Rt=Je/Jt.quadError()));){var vt=Math.pow(Rt,.3333333333333333),Lt=Jt.split(vt),bt=Jt.split(1-vt/(1-vt));Oe.push(Lt),rr.push(Jt),Jt=bt}Rt<1&&Oe.push(Jt.split(.5)),Oe.push(Jt),Array.prototype.push.apply(Oe,rr.reverse())}}catch(Pt){At=!0,Ht=Pt}finally{try{It||null==Ft.return||Ft.return()}finally{if(At)throw Ht}}return Oe}(q,te,(me.x1-L)/x,(me.y1-P)/U,(me.x2-L)/x,(me.y2-P)/U,De,$e),ot=0;ot<He.length;ot++){var at=He[ot].toQuadratic();ft([at.x,at.x1,at.cx],[at.y,at.y1,at.cy],at)}break;default:throw new Error("unknown command type: ".concat(me.type))}q=De,te=$e}}}catch(zt){Ie=!0,J=zt}finally{try{le||null==ne.return||ne.return()}finally{if(Ie)throw J}}for(var Ue=R.length,nt=this.strokeImageInfos.findImage(Ue),Ye=nt.index,st=0;st<Ue;++st){var Ze=R[st];d(nt,Ot(Ze.x),Ot(Ze.y),Ot(Ze.cx),Ot(Ze.cy))}(D=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[V.x1,-V.y1,V.x2,-V.y2],strokeImageInfo:nt,strokes:R,colInfo:tr(Z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:tr(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[D.colInfo.dimOffset,D.rowInfo.dimOffset]}return D;function ft(zt,br,Zt){var pr=R.length;function Ct(Oe,Je,It){for(var At=Oe.length;0<At--;){var Ht=Oe[At];Ht<Je&&(Je=Ht),It<Ht&&(It=Ht)}return{min:Je,max:It}}R.push(Zt),Zt=Ct(zt,1,0),zt=Math.max(Math.floor(9*Zt.min-.5),0);for(var lr=Math.min(Math.ceil(9*Zt.max+.5),9),Gt=zt;Gt<lr;++Gt)Z[Gt].push(pr);Zt=Ct(br,1,0),zt=Math.max(Math.floor(9*Zt.min-.5),0);for(var Ve=Math.min(Math.ceil(9*Zt.max+.5),9),We=zt;We<Ve;++We)O[We].push(pr)}function Ot(zt){return(zt=255*zt)<0?0:255<zt?255:zt}function ar(zt,br,Zt,pr){ft([zt,Zt],[br,pr],{x:zt,y:br,cx:(zt+Zt)/2,cy:(br+pr)/2})}function Vt(zt,br,Zt,pr){return Math.abs(Zt-zt)<1e-5&&Math.abs(pr-br)<1e-5}function tr(zt,br,Zt){for(var pr=zt.length,Ct=br.findImage(pr),lr=(br=Ct.index,0),Gt=0;Gt<pr;++Gt)lr+=zt[Gt].length;for(var Ve=Zt.findImage(lr),We=0;We<pr;++We){var Oe=zt[We],Je=Oe.length,It=Ve.index;d(Ct,It>>7,127&It,Je>>7,127&Je);for(var At=0;At<Je;++At){var Ht=Oe[At]+Ye;d(Ve,Ht>>7,127&Ht,0,0)}}return{cellImageInfo:Ve,dimOffset:br,dimImageInfo:Ct}}}}]),p}();g.default.RendererGL.prototype._renderText=function(p,y,D,V,L){if(this._textFont&&"string"!=typeof this._textFont){if(!(L<=V)&&this._doFill){if(this._isOpenType()){p.push(),L=this._doStroke;var P=this.drawMode,x=(this._doStroke=!1,this.drawMode=S.TEXTURE,this._textFont.font),U=(U=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(x)),A=(D=this._textFont._handleAlignment(this,y,D,V),V=this._textSize/x.unitsPerEm,this.translate(D.x,D.y,0),this.scale(V,V,1),this.GL),R=(D=!this._defaultFontShader,this._getFontShader()),O=(R.init(),R.bindShader(),D&&(R.setUniform("uGridImageSize",[64,64]),R.setUniform("uCellsImageSize",[64,64]),R.setUniform("uStrokeImageSize",[64,64]),R.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),Z=(O||((V=this._textGeom=new g.default.Geometry(1,1,function(){for(var ot=0;ot<=1;ot++)for(var at=0;at<=1;at++)this.vertices.push(new g.default.Vector(at,ot,0)),this.uvs.push(at,ot)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",V)),!0);D=!1,V=void 0;try{for(var re,q=this.retainedMode.buffers.text[Symbol.iterator]();!(Z=(re=q.next()).done);Z=!0)re.value._prepareBuffer(O,R)}catch(ot){D=!0,V=ot}finally{try{Z||null==q.return||q.return()}finally{if(D)throw V}}this._bindBuffer(O.indexBuffer,A.ELEMENT_ARRAY_BUFFER),R.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var te=0,X=null,G=x.stringToGlyphs(y),Y=!0,le=!1,Ie=void 0;try{for(var J,j=G[Symbol.iterator]();!(Y=(J=j.next()).done);Y=!0){var ne,me,De=J.value,$e=(X&&(te+=x.getKerningValue(X,De)),U.getGlyphInfo(De));$e.uGlyphRect&&(ne=$e.rowInfo,me=$e.colInfo,R.setUniform("uSamplerStrokes",$e.strokeImageInfo.imageData),R.setUniform("uSamplerRowStrokes",ne.cellImageInfo.imageData),R.setUniform("uSamplerRows",ne.dimImageInfo.imageData),R.setUniform("uSamplerColStrokes",me.cellImageInfo.imageData),R.setUniform("uSamplerCols",me.dimImageInfo.imageData),R.setUniform("uGridOffset",$e.uGridOffset),R.setUniform("uGlyphRect",$e.uGlyphRect),R.setUniform("uGlyphOffset",te),R.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),te+=De.advanceWidth,X=De}}catch(ot){le=!0,Ie=ot}finally{try{Y||null==j.return||j.return()}finally{if(le)throw Ie}}}finally{R.unbindShader(),this._doStroke=L,this.drawMode=P,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(xr,or,_e)=>{function M(i){this.mode=et.MODE_8BIT_BYTE,this.data=i,this.parsedData=[];for(var a=0,l=this.data.length;a<l;a++){var u=[],d=this.data.charCodeAt(a);d>65536?(u[0]=240|(1835008&d)>>>18,u[1]=128|(258048&d)>>>12,u[2]=128|(4032&d)>>>6,u[3]=128|63&d):d>2048?(u[0]=224|(61440&d)>>>12,u[1]=128|(4032&d)>>>6,u[2]=128|63&d):d>128?(u[0]=192|(1984&d)>>>6,u[1]=128|63&d):u[0]=d,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function T(i,a){this.typeNumber=i,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}M.prototype={getLength:function(i){return this.parsedData.length},write:function(i){for(var a=0,l=this.parsedData.length;a<l;a++)i.put(this.parsedData[a],8)}},T.prototype={addData:function(i){var a=new M(i);this.dataList.push(a),this.dataCache=null},isDark:function(i,a){if(i<0||this.moduleCount<=i||a<0||this.moduleCount<=a)throw new Error(i+","+a);return this.modules[i][a]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(i,a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var l=0;l<this.moduleCount;l++){this.modules[l]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[l][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,a),this.typeNumber>=7&&this.setupTypeNumber(i),null==this.dataCache&&(this.dataCache=T.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(i,a){for(var l=-1;l<=7;l++)if(!(i+l<=-1||this.moduleCount<=i+l))for(var u=-1;u<=7;u++)a+u<=-1||this.moduleCount<=a+u||(this.modules[i+l][a+u]=0<=l&&l<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==l||6==l)||2<=l&&l<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var i=0,a=0,l=0;l<8;l++){this.makeImpl(!0,l);var u=se.getLostPoint(this);(0==l||i>u)&&(i=u,a=l)}return a},createMovieClip:function(i,a,l){var u=i.createEmptyMovieClip(a,l);this.make();for(var h=0;h<this.modules.length;h++)for(var m=1*h,p=0;p<this.modules[h].length;p++){var y=1*p;this.modules[h][p]&&(u.beginFill(0,100),u.moveTo(y,m),u.lineTo(y+1,m),u.lineTo(y+1,m+1),u.lineTo(y,m+1),u.endFill())}return u},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++)null==this.modules[i][6]&&(this.modules[i][6]=i%2==0);for(var a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var i=se.getPatternPosition(this.typeNumber),a=0;a<i.length;a++)for(var l=0;l<i.length;l++){var u=i[a],d=i[l];if(null==this.modules[u][d])for(var h=-2;h<=2;h++)for(var m=-2;m<=2;m++)this.modules[u+h][d+m]=-2==h||2==h||-2==m||2==m||0==h&&0==m}},setupTypeNumber:function(i){for(var a=se.getBCHTypeNumber(this.typeNumber),l=0;l<18;l++){var u=!i&&1==(a>>l&1);this.modules[Math.floor(l/3)][l%3+this.moduleCount-8-3]=u}for(l=0;l<18;l++)u=!i&&1==(a>>l&1),this.modules[l%3+this.moduleCount-8-3][Math.floor(l/3)]=u},setupTypeInfo:function(i,a){for(var u=se.getBCHTypeInfo(this.errorCorrectLevel<<3|a),d=0;d<15;d++){var h=!i&&1==(u>>d&1);d<6?this.modules[d][8]=h:d<8?this.modules[d+1][8]=h:this.modules[this.moduleCount-15+d][8]=h}for(d=0;d<15;d++)h=!i&&1==(u>>d&1),d<8?this.modules[8][this.moduleCount-d-1]=h:d<9?this.modules[8][15-d-1+1]=h:this.modules[8][15-d-1]=h;this.modules[this.moduleCount-8][8]=!i},mapData:function(i,a){for(var l=-1,u=this.moduleCount-1,d=7,h=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var p=0;p<2;p++)if(null==this.modules[u][m-p]){var y=!1;h<i.length&&(y=1==(i[h]>>>d&1)),se.getMask(a,u,m-p)&&(y=!y),this.modules[u][m-p]=y,-1==--d&&(h++,d=7)}if((u+=l)<0||this.moduleCount<=u){u-=l,l=-l;break}}}},T.PAD0=236,T.PAD1=17,T.createData=function(i,a,l){for(var u=f.getRSBlocks(i,a),d=new g,h=0;h<l.length;h++){var m=l[h];d.put(m.mode,4),d.put(m.getLength(),se.getLengthInBits(m.mode,i)),m.write(d)}var p=0;for(h=0;h<u.length;h++)p+=u[h].dataCount;if(d.getLengthInBits()>8*p)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+8*p+")");for(d.getLengthInBits()+4<=8*p&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*p||(d.put(T.PAD0,8),d.getLengthInBits()>=8*p));)d.put(T.PAD1,8);return T.createBytes(d,u)},T.createBytes=function(i,a){for(var l=0,u=0,d=0,h=new Array(a.length),m=new Array(a.length),p=0;p<a.length;p++){var y=a[p].dataCount,D=a[p].totalCount-y;u=Math.max(u,y),d=Math.max(d,D),h[p]=new Array(y);for(var V=0;V<h[p].length;V++)h[p][V]=255&i.buffer[V+l];l+=y;var L=se.getErrorCorrectPolynomial(D),x=new b(h[p],L.getLength()-1).mod(L);for(m[p]=new Array(L.getLength()-1),V=0;V<m[p].length;V++){var U=V+x.getLength()-m[p].length;m[p][V]=U>=0?x.get(U):0}}var A=0;for(V=0;V<a.length;V++)A+=a[V].totalCount;var R=new Array(A),O=0;for(V=0;V<u;V++)for(p=0;p<a.length;p++)V<h[p].length&&(R[O++]=h[p][V]);for(V=0;V<d;V++)for(p=0;p<a.length;p++)V<m[p].length&&(R[O++]=m[p][V]);return R};for(var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Et={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var a=i<<10;se.getBCHDigit(a)-se.getBCHDigit(se.G15)>=0;)a^=se.G15<<se.getBCHDigit(a)-se.getBCHDigit(se.G15);return(i<<10|a)^se.G15_MASK},getBCHTypeNumber:function(i){for(var a=i<<12;se.getBCHDigit(a)-se.getBCHDigit(se.G18)>=0;)a^=se.G18<<se.getBCHDigit(a)-se.getBCHDigit(se.G18);return i<<12|a},getBCHDigit:function(i){for(var a=0;0!=i;)a++,i>>>=1;return a},getPatternPosition:function(i){return se.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,a,l){switch(i){case o.PATTERN000:return(a+l)%2==0;case o.PATTERN001:return a%2==0;case o.PATTERN010:return l%3==0;case o.PATTERN011:return(a+l)%3==0;case o.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2==0;case o.PATTERN101:return a*l%2+a*l%3==0;case o.PATTERN110:return(a*l%2+a*l%3)%2==0;case o.PATTERN111:return(a*l%3+(a+l)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var a=new b([1],0),l=0;l<i;l++)a=a.multiply(new b([1,$.gexp(l)],0));return a},getLengthInBits:function(i,a){if(1<=a&&a<10)switch(i){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:case et.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(a<27)switch(i){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else{if(!(a<41))throw new Error("type:"+a);switch(i){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}}},getLostPoint:function(i){for(var a=i.getModuleCount(),l=0,u=0;u<a;u++)for(var d=0;d<a;d++){for(var h=0,m=i.isDark(u,d),p=-1;p<=1;p++)if(!(u+p<0||a<=u+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||0==p&&0==y||m==i.isDark(u+p,d+y)&&h++;h>5&&(l+=3+h-5)}for(u=0;u<a-1;u++)for(d=0;d<a-1;d++){var D=0;i.isDark(u,d)&&D++,i.isDark(u+1,d)&&D++,i.isDark(u,d+1)&&D++,i.isDark(u+1,d+1)&&D++,(0==D||4==D)&&(l+=3)}for(u=0;u<a;u++)for(d=0;d<a-6;d++)i.isDark(u,d)&&!i.isDark(u,d+1)&&i.isDark(u,d+2)&&i.isDark(u,d+3)&&i.isDark(u,d+4)&&!i.isDark(u,d+5)&&i.isDark(u,d+6)&&(l+=40);for(d=0;d<a;d++)for(u=0;u<a-6;u++)i.isDark(u,d)&&!i.isDark(u+1,d)&&i.isDark(u+2,d)&&i.isDark(u+3,d)&&i.isDark(u+4,d)&&!i.isDark(u+5,d)&&i.isDark(u+6,d)&&(l+=40);var V=0;for(d=0;d<a;d++)for(u=0;u<a;u++)i.isDark(u,d)&&V++;return l+Math.abs(100*V/a/a-50)/5*10}},$={glog:function(i){if(i<1)throw new Error("glog("+i+")");return $.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return $.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)$.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)$.EXP_TABLE[v]=$.EXP_TABLE[v-4]^$.EXP_TABLE[v-5]^$.EXP_TABLE[v-6]^$.EXP_TABLE[v-8];for(v=0;v<255;v++)$.LOG_TABLE[$.EXP_TABLE[v]]=v;function b(i,a){if(null==i.length)throw new Error(i.length+"/"+a);for(var l=0;l<i.length&&0==i[l];)l++;this.num=new Array(i.length-l+a);for(var u=0;u<i.length-l;u++)this.num[u]=i[u+l]}function f(i,a){this.totalCount=i,this.dataCount=a}function g(){this.buffer=[],this.length=0}b.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var a=new Array(this.getLength()+i.getLength()-1),l=0;l<this.getLength();l++)for(var u=0;u<i.getLength();u++)a[l+u]^=$.gexp($.glog(this.get(l))+$.glog(i.get(u)));return new b(a,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var a=$.glog(this.get(0))-$.glog(i.get(0)),l=new Array(this.getLength()),u=0;u<this.getLength();u++)l[u]=this.get(u);for(u=0;u<i.getLength();u++)l[u]^=$.gexp($.glog(i.get(u))+a);return new b(l,0).mod(i)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(i,a){var l=f.getRsBlockTable(i,a);if(null==l)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+a);for(var u=l.length/3,d=[],h=0;h<u;h++)for(var m=l[3*h+0],p=l[3*h+1],y=l[3*h+2],D=0;D<m;D++)d.push(new f(p,y));return d},f.getRsBlockTable=function(i,a){switch(a){case Et.L:return f.RS_BLOCK_TABLE[4*(i-1)+0];case Et.M:return f.RS_BLOCK_TABLE[4*(i-1)+1];case Et.Q:return f.RS_BLOCK_TABLE[4*(i-1)+2];case Et.H:return f.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},g.prototype={get:function(i){var a=Math.floor(i/8);return 1==(this.buffer[a]>>>7-i%8&1)},put:function(i,a){for(var l=0;l<a;l++)this.putBit(1==(i>>>a-l-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),i&&(this.buffer[a]|=128>>>this.length%8),this.length++}};var S=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(i){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof i&&(i={content:i}),i)for(var l in i)this.options[l]=i[l];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,p=function d(D,V){for(var L=function h(D){var V=encodeURI(D).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return V.length+(V.length!=D?3:0)}(D),P=1,x=0,U=0,A=S.length;U<=A;U++){var R=S[U];if(!R)throw new Error("Content too long: expected "+x+" but got "+L);switch(V){case"L":x=R[0];break;case"M":x=R[1];break;case"Q":x=R[2];break;case"H":x=R[3];break;default:throw new Error("Unknwon error correction level: "+V)}if(L<=x)break;P++}if(P>S.length)throw new Error("Content too long");return P}(m,this.options.ecl),y=function u(D){switch(D){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new Error("Unknwon error correction level: "+D)}}(this.options.ecl);this.qrcode=new T(p,y),this.qrcode.addData(m),this.qrcode.make()}_.prototype.svg=function(i){var a=this.options||{},l=this.qrcode.modules;typeof i>"u"&&(i={container:a.container||"svg"});for(var u=!(typeof a.pretty<"u"&&!a.pretty),d=u?"  ":"",h=u?"\r\n":"",m=a.width,p=a.height,y=l.length,D=m/(y+2*a.padding),V=p/(y+2*a.padding),L=typeof a.join<"u"&&!!a.join,P=typeof a.swap<"u"&&!!a.swap,x=!(typeof a.xmlDeclaration<"u"&&!a.xmlDeclaration),U=typeof a.predefined<"u"&&!!a.predefined,A=U?d+'<defs><path id="qrmodule" d="M0 0 h'+V+" v"+D+' H0 z" style="fill:'+a.color+';shape-rendering:crispEdges;" /></defs>'+h:"",R=d+'<rect x="0" y="0" width="'+m+'" height="'+p+'" style="fill:'+a.background+';shape-rendering:crispEdges;"/>'+h,O="",Z="",re=0;re<y;re++)for(var q=0;q<y;q++)if(l[q][re]){var X=q*D+a.padding*D,G=re*V+a.padding*V;if(P){var Y=X;X=G,G=Y}if(L){var le=D+X,Ie=V+G;X=Number.isInteger(X)?Number(X):X.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),Z+="M"+X+","+G+" V"+(Ie=Number.isInteger(Ie)?Number(Ie):Ie.toFixed(2))+" H"+le+" V"+G+" H"+X+" Z "}else O+=U?d+'<use x="'+X.toString()+'" y="'+G.toString()+'" href="#qrmodule" />'+h:d+'<rect x="'+X.toString()+'" y="'+G.toString()+'" width="'+D+'" height="'+V+'" style="fill:'+a.color+';shape-rendering:crispEdges;"/>'+h}L&&(O=d+'<path x="0" y="0" style="fill:'+a.color+';shape-rendering:crispEdges;" d="'+Z+'" />');var J="";switch(i.container){case"svg":x&&(J+='<?xml version="1.0" standalone="yes"?>'+h),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+p+'">'+h,J+=A+R+O,J+="</svg>";break;case"svg-viewbox":x&&(J+='<?xml version="1.0" standalone="yes"?>'+h),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+p+'">'+h,J+=A+R+O,J+="</svg>";break;case"g":J+='<g width="'+m+'" height="'+p+'">'+h,J+=A+R+O,J+="</g>";break;default:J+=(A+R+O).replace(/^\s+/,"")}return J},_.prototype.save=function(i,a){var l=this.svg();"function"!=typeof a&&(a=function(d,h){});try{_e(Object(function(){var h=new Error("Cannot find module 'fs'");throw h.code="MODULE_NOT_FOUND",h}())).writeFile(i,l,a)}catch(d){a(d)}},xr.exports=_},4412:(xr,or,_e)=>{"use strict";_e.d(or,{t:()=>T});var M=_e(1413);class T extends M.B{constructor(Et){super(),this._value=Et}get value(){return this.getValue()}_subscribe(Et){const o=super._subscribe(Et);return!o.closed&&Et.next(this._value),o}getValue(){const{hasError:Et,thrownError:o,_value:se}=this;if(Et)throw o;return this._throwIfClosed(),se}next(Et){super.next(this._value=Et)}}},1985:(xr,or,_e)=>{"use strict";_e.d(or,{c:()=>v});var M=_e(7707),T=_e(8359),et=_e(3494),Et=_e(1203),o=_e(1026),se=_e(8071),$=_e(9786);let v=(()=>{class S{constructor(i){i&&(this._subscribe=i)}lift(i){const a=new S;return a.source=this,a.operator=i,a}subscribe(i,a,l){const u=function g(S){return S&&S instanceof M.vU||function f(S){return S&&(0,se.T)(S.next)&&(0,se.T)(S.error)&&(0,se.T)(S.complete)}(S)&&(0,T.Uv)(S)}(i)?i:new M.Ms(i,a,l);return(0,$.Y)(()=>{const{operator:d,source:h}=this;u.add(d?d.call(u,h):h?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(i){try{return this._subscribe(i)}catch(a){i.error(a)}}forEach(i,a){return new(a=b(a))((l,u)=>{const d=new M.Ms({next:h=>{try{i(h)}catch(m){u(m),d.unsubscribe()}},error:u,complete:l});this.subscribe(d)})}_subscribe(i){var a;return null===(a=this.source)||void 0===a?void 0:a.subscribe(i)}[et.s](){return this}pipe(...i){return(0,Et.m)(i)(this)}toPromise(i){return new(i=b(i))((a,l)=>{let u;this.subscribe(d=>u=d,d=>l(d),()=>a(u))})}}return S.create=_=>new S(_),S})();function b(S){var _;return null!==(_=null!=S?S:o.$.Promise)&&void 0!==_?_:Promise}},1413:(xr,or,_e)=>{"use strict";_e.d(or,{B:()=>$});var M=_e(1985),T=_e(8359);const Et=(0,_e(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=_e(7908),se=_e(9786);let $=(()=>{class b extends M.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const S=new v(this,this);return S.operator=g,S}_throwIfClosed(){if(this.closed)throw new Et}next(g){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const S of this.currentObservers)S.next(g)}})}error(g){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:S}=this;for(;S.length;)S.shift().error(g)}})}complete(){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:S,isStopped:_,observers:i}=this;return S||_?T.Kn:(this.currentObservers=null,i.push(g),new T.yU(()=>{this.currentObservers=null,(0,o.o)(i,g)}))}_checkFinalizedStatuses(g){const{hasError:S,thrownError:_,isStopped:i}=this;S?g.error(_):i&&g.complete()}asObservable(){const g=new M.c;return g.source=this,g}}return b.create=(f,g)=>new v(f,g),b})();class v extends ${constructor(f,g){super(),this.destination=f,this.source=g}next(f){var g,S;null===(S=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===S||S.call(g,f)}error(f){var g,S;null===(S=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===S||S.call(g,f)}complete(){var f,g;null===(g=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===g||g.call(f)}_subscribe(f){var g,S;return null!==(S=null===(g=this.source)||void 0===g?void 0:g.subscribe(f))&&void 0!==S?S:T.Kn}}},7707:(xr,or,_e)=>{"use strict";_e.d(or,{Ms:()=>l,vU:()=>S});var M=_e(8071),T=_e(8359),et=_e(1026),Et=_e(5334),o=_e(5343);const se=b("C",void 0,void 0);function b(p,y,D){return{kind:p,value:y,error:D}}var f=_e(9270),g=_e(9786);class S extends T.yU{constructor(y){super(),this.isStopped=!1,y?(this.destination=y,(0,T.Uv)(y)&&y.add(this)):this.destination=m}static create(y,D,V){return new l(y,D,V)}next(y){this.isStopped?h(function v(p){return b("N",p,void 0)}(y),this):this._next(y)}error(y){this.isStopped?h(function $(p){return b("E",void 0,p)}(y),this):(this.isStopped=!0,this._error(y))}complete(){this.isStopped?h(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(y){this.destination.next(y)}_error(y){try{this.destination.error(y)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function i(p,y){return _.call(p,y)}class a{constructor(y){this.partialObserver=y}next(y){const{partialObserver:D}=this;if(D.next)try{D.next(y)}catch(V){u(V)}}error(y){const{partialObserver:D}=this;if(D.error)try{D.error(y)}catch(V){u(V)}else u(y)}complete(){const{partialObserver:y}=this;if(y.complete)try{y.complete()}catch(D){u(D)}}}class l extends S{constructor(y,D,V){let L;if(super(),(0,M.T)(y)||!y)L={next:null!=y?y:void 0,error:null!=D?D:void 0,complete:null!=V?V:void 0};else{let P;this&&et.$.useDeprecatedNextContext?(P=Object.create(y),P.unsubscribe=()=>this.unsubscribe(),L={next:y.next&&i(y.next,P),error:y.error&&i(y.error,P),complete:y.complete&&i(y.complete,P)}):L=y}this.destination=new a(L)}}function u(p){et.$.useDeprecatedSynchronousErrorHandling?(0,g.l)(p):(0,Et.m)(p)}function h(p,y){const{onStoppedNotification:D}=et.$;D&&f.f.setTimeout(()=>D(p,y))}const m={closed:!0,next:o.l,error:function d(p){throw p},complete:o.l}},8359:(xr,or,_e)=>{"use strict";_e.d(or,{Kn:()=>se,yU:()=>o,Uv:()=>$});var M=_e(8071);const et=(0,_e(1853).L)(b=>function(g){b(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((S,_)=>`${_+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});var Et=_e(7908);class o{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const i of g)i.remove(this);else g.remove(this);const{initialTeardown:S}=this;if((0,M.T)(S))try{S()}catch(i){f=i instanceof et?i.errors:[i]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const i of _)try{v(i)}catch(a){f=null!=f?f:[],a instanceof et?f=[...f,...a.errors]:f.push(a)}}if(f)throw new et(f)}}add(f){var g;if(f&&f!==this)if(this.closed)v(f);else{if(f instanceof o){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(f)}}_hasParent(f){const{_parentage:g}=this;return g===f||Array.isArray(g)&&g.includes(f)}_addParent(f){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(f),g):g?[g,f]:f}_removeParent(f){const{_parentage:g}=this;g===f?this._parentage=null:Array.isArray(g)&&(0,Et.o)(g,f)}remove(f){const{_finalizers:g}=this;g&&(0,Et.o)(g,f),f instanceof o&&f._removeParent(this)}}o.EMPTY=(()=>{const b=new o;return b.closed=!0,b})();const se=o.EMPTY;function $(b){return b instanceof o||b&&"closed"in b&&(0,M.T)(b.remove)&&(0,M.T)(b.add)&&(0,M.T)(b.unsubscribe)}function v(b){(0,M.T)(b)?b():b.unsubscribe()}},1026:(xr,or,_e)=>{"use strict";_e.d(or,{$:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(xr,or,_e)=>{"use strict";_e.d(or,{G:()=>se});var M=_e(1985),T=_e(8359),et=_e(9898),Et=_e(4360),o=_e(9974);class se extends M.c{constructor(v,b){super(),this.source=v,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new T.yU;const b=this.getSubject();v.add(this.source.subscribe((0,Et._)(b,void 0,()=>{this._teardown(),b.complete()},f=>{this._teardown(),b.error(f)},()=>this._teardown()))),v.closed&&(this._connection=null,v=T.yU.EMPTY)}return v}refCount(){return(0,et.B)()(this)}}},4572:(xr,or,_e)=>{"use strict";_e.d(or,{z:()=>f});var M=_e(1985),T=_e(3073),et=_e(6648),Et=_e(3669),o=_e(6450),se=_e(9326),$=_e(8496),v=_e(4360),b=_e(5225);function f(..._){const i=(0,se.lI)(_),a=(0,se.ms)(_),{args:l,keys:u}=(0,T.D)(_);if(0===l.length)return(0,et.H)([],i);const d=new M.c(function g(_,i,a=Et.D){return l=>{S(i,()=>{const{length:u}=_,d=new Array(u);let h=u,m=u;for(let p=0;p<u;p++)S(i,()=>{const y=(0,et.H)(_[p],i);let D=!1;y.subscribe((0,v._)(l,V=>{d[p]=V,D||(D=!0,m--),m||l.next(a(d.slice()))},()=>{--h||l.complete()}))},l)},l)}}(l,i,u?h=>(0,$.e)(u,h):Et.D));return a?d.pipe((0,o.I)(a)):d}function S(_,i,a){_?(0,b.N)(a,_,i):i()}},8793:(xr,or,_e)=>{"use strict";_e.d(or,{x:()=>o});var M=_e(6365),et=_e(9326),Et=_e(6648);function o(...se){return function T(){return(0,M.U)(1)}()((0,Et.H)(se,(0,et.lI)(se)))}},9030:(xr,or,_e)=>{"use strict";_e.d(or,{v:()=>et});var M=_e(1985),T=_e(8750);function et(Et){return new M.c(o=>{(0,T.Tg)(Et()).subscribe(o)})}},983:(xr,or,_e)=>{"use strict";_e.d(or,{w:()=>T});const T=new(_e(1985).c)(o=>o.complete())},6648:(xr,or,_e)=>{"use strict";_e.d(or,{H:()=>V});var M=_e(8750),T=_e(5225),et=_e(9974),Et=_e(4360);function o(L,P=0){return(0,et.N)((x,U)=>{x.subscribe((0,Et._)(U,A=>(0,T.N)(U,L,()=>U.next(A),P),()=>(0,T.N)(U,L,()=>U.complete(),P),A=>(0,T.N)(U,L,()=>U.error(A),P)))})}function se(L,P=0){return(0,et.N)((x,U)=>{U.add(L.schedule(()=>x.subscribe(U),P))})}var b=_e(1985),g=_e(4761),S=_e(8071);function i(L,P){if(!L)throw new Error("Iterable cannot be null");return new b.c(x=>{(0,T.N)(x,P,()=>{const U=L[Symbol.asyncIterator]();(0,T.N)(x,P,()=>{U.next().then(A=>{A.done?x.complete():x.next(A.value)})},0,!0)})})}var a=_e(5055),l=_e(7477),u=_e(7441),d=_e(5397),h=_e(7953),m=_e(591),p=_e(5196);function V(L,P){return P?function D(L,P){if(null!=L){if((0,a.l)(L))return function $(L,P){return(0,M.Tg)(L).pipe(se(P),o(P))}(L,P);if((0,u.X)(L))return function f(L,P){return new b.c(x=>{let U=0;return P.schedule(function(){U===L.length?x.complete():(x.next(L[U++]),x.closed||this.schedule())})})}(L,P);if((0,l.y)(L))return function v(L,P){return(0,M.Tg)(L).pipe(se(P),o(P))}(L,P);if((0,h.T)(L))return i(L,P);if((0,d.x)(L))return function _(L,P){return new b.c(x=>{let U;return(0,T.N)(x,P,()=>{U=L[g.l](),(0,T.N)(x,P,()=>{let A,R;try{({value:A,done:R}=U.next())}catch(O){return void x.error(O)}R?x.complete():x.next(A)},0,!0)}),()=>(0,S.T)(null==U?void 0:U.return)&&U.return()})}(L,P);if((0,p.U)(L))return function y(L,P){return i((0,p.C)(L),P)}(L,P)}throw(0,m.L)(L)}(L,P):(0,M.Tg)(L)}},3726:(xr,or,_e)=>{"use strict";_e.d(or,{R:()=>f});var M=_e(8750),T=_e(1985),et=_e(1397),Et=_e(7441),o=_e(8071),se=_e(6450);const $=["addListener","removeListener"],v=["addEventListener","removeEventListener"],b=["on","off"];function f(a,l,u,d){if((0,o.T)(u)&&(d=u,u=void 0),d)return f(a,l,u).pipe((0,se.I)(d));const[h,m]=function i(a){return(0,o.T)(a.addEventListener)&&(0,o.T)(a.removeEventListener)}(a)?v.map(p=>y=>a[p](l,y,u)):function S(a){return(0,o.T)(a.addListener)&&(0,o.T)(a.removeListener)}(a)?$.map(g(a,l)):function _(a){return(0,o.T)(a.on)&&(0,o.T)(a.off)}(a)?b.map(g(a,l)):[];if(!h&&(0,Et.X)(a))return(0,et.Z)(p=>f(p,l,u))((0,M.Tg)(a));if(!h)throw new TypeError("Invalid event target");return new T.c(p=>{const y=(...D)=>p.next(1<D.length?D:D[0]);return h(y),()=>m(y)})}function g(a,l){return u=>d=>a[u](l,d)}},8750:(xr,or,_e)=>{"use strict";_e.d(or,{Tg:()=>_});var M=_e(1635),T=_e(7441),et=_e(7477),Et=_e(1985),o=_e(5055),se=_e(7953),$=_e(591),v=_e(5397),b=_e(5196),f=_e(8071),g=_e(5334),S=_e(3494);function _(p){if(p instanceof Et.c)return p;if(null!=p){if((0,o.l)(p))return function i(p){return new Et.c(y=>{const D=p[S.s]();if((0,f.T)(D.subscribe))return D.subscribe(y);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,T.X)(p))return function a(p){return new Et.c(y=>{for(let D=0;D<p.length&&!y.closed;D++)y.next(p[D]);y.complete()})}(p);if((0,et.y)(p))return function l(p){return new Et.c(y=>{p.then(D=>{y.closed||(y.next(D),y.complete())},D=>y.error(D)).then(null,g.m)})}(p);if((0,se.T)(p))return d(p);if((0,v.x)(p))return function u(p){return new Et.c(y=>{for(const D of p)if(y.next(D),y.closed)return;y.complete()})}(p);if((0,b.U)(p))return function h(p){return d((0,b.C)(p))}(p)}throw(0,$.L)(p)}function d(p){return new Et.c(y=>{(function m(p,y){var D,V,L,P;return(0,M.sH)(this,void 0,void 0,function*(){try{for(D=(0,M.xN)(p);!(V=yield D.next()).done;)if(y.next(V.value),y.closed)return}catch(x){L={error:x}}finally{try{V&&!V.done&&(P=D.return)&&(yield P.call(D))}finally{if(L)throw L.error}}y.complete()})})(p,y).catch(D=>y.error(D))})}},7673:(xr,or,_e)=>{"use strict";_e.d(or,{of:()=>et});var M=_e(9326),T=_e(6648);function et(...Et){const o=(0,M.lI)(Et);return(0,T.H)(Et,o)}},8810:(xr,or,_e)=>{"use strict";_e.d(or,{$:()=>et});var M=_e(1985),T=_e(8071);function et(Et,o){const se=(0,T.T)(Et)?Et:()=>Et,$=v=>v.error(se());return new M.c(o?v=>o.schedule($,0,v):$)}},4360:(xr,or,_e)=>{"use strict";_e.d(or,{_:()=>T});var M=_e(7707);function T(Et,o,se,$,v){return new et(Et,o,se,$,v)}class et extends M.vU{constructor(o,se,$,v,b,f){super(o),this.onFinalize=b,this.shouldUnsubscribe=f,this._next=se?function(g){try{se(g)}catch(S){o.error(S)}}:super._next,this._error=v?function(g){try{v(g)}catch(S){o.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=$?function(){try{$()}catch(g){o.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(xr,or,_e)=>{"use strict";_e.d(or,{p:()=>et});var M=_e(9974),T=_e(4360);function et(Et,o){return(0,M.N)((se,$)=>{let v=0;se.subscribe((0,T._)($,b=>Et.call(o,b,v++)&&$.next(b)))})}},6354:(xr,or,_e)=>{"use strict";_e.d(or,{T:()=>et});var M=_e(9974),T=_e(4360);function et(Et,o){return(0,M.N)((se,$)=>{let v=0;se.subscribe((0,T._)($,b=>{$.next(Et.call(o,b,v++))}))})}},3703:(xr,or,_e)=>{"use strict";_e.d(or,{u:()=>T});var M=_e(6354);function T(et){return(0,M.T)(()=>et)}},6365:(xr,or,_e)=>{"use strict";_e.d(or,{U:()=>et});var M=_e(1397),T=_e(3669);function et(Et=1/0){return(0,M.Z)(T.D,Et)}},1397:(xr,or,_e)=>{"use strict";_e.d(or,{Z:()=>v});var M=_e(6354),T=_e(8750),et=_e(9974),Et=_e(5225),o=_e(4360),$=_e(8071);function v(b,f,g=1/0){return(0,$.T)(f)?v((S,_)=>(0,M.T)((i,a)=>f(S,i,_,a))((0,T.Tg)(b(S,_))),g):("number"==typeof f&&(g=f),(0,et.N)((S,_)=>function se(b,f,g,S,_,i,a,l){const u=[];let d=0,h=0,m=!1;const p=()=>{m&&!u.length&&!d&&f.complete()},y=V=>d<S?D(V):u.push(V),D=V=>{i&&f.next(V),d++;let L=!1;(0,T.Tg)(g(V,h++)).subscribe((0,o._)(f,P=>{null==_||_(P),i?y(P):f.next(P)},()=>{L=!0},void 0,()=>{if(L)try{for(d--;u.length&&d<S;){const P=u.shift();a?(0,Et.N)(f,a,()=>D(P)):D(P)}p()}catch(P){f.error(P)}}))};return b.subscribe((0,o._)(f,y,()=>{m=!0,p()})),()=>{null==l||l()}}(S,_,b,g)))}},9898:(xr,or,_e)=>{"use strict";_e.d(or,{B:()=>et});var M=_e(9974),T=_e(4360);function et(){return(0,M.N)((Et,o)=>{let se=null;Et._refCount++;const $=(0,T._)(o,void 0,void 0,void 0,()=>{if(!Et||Et._refCount<=0||0<--Et._refCount)return void(se=null);const v=Et._connection,b=se;se=null,v&&(!b||v===b)&&v.unsubscribe(),o.unsubscribe()});Et.subscribe($),$.closed||(se=Et.connect())})}},5558:(xr,or,_e)=>{"use strict";_e.d(or,{n:()=>Et});var M=_e(8750),T=_e(9974),et=_e(4360);function Et(o,se){return(0,T.N)(($,v)=>{let b=null,f=0,g=!1;const S=()=>g&&!b&&v.complete();$.subscribe((0,et._)(v,_=>{null==b||b.unsubscribe();let i=0;const a=f++;(0,M.Tg)(o(_,a)).subscribe(b=(0,et._)(v,l=>v.next(se?se(_,l,a,i++):l),()=>{b=null,S()}))},()=>{g=!0,S()}))})}},6697:(xr,or,_e)=>{"use strict";_e.d(or,{s:()=>Et});var M=_e(983),T=_e(9974),et=_e(4360);function Et(o){return o<=0?()=>M.w:(0,T.N)((se,$)=>{let v=0;se.subscribe((0,et._)($,b=>{++v<=o&&($.next(b),o<=v&&$.complete())}))})}},8141:(xr,or,_e)=>{"use strict";_e.d(or,{M:()=>o});var M=_e(8071),T=_e(9974),et=_e(4360),Et=_e(3669);function o(se,$,v){const b=(0,M.T)(se)||$||v?{next:se,error:$,complete:v}:se;return b?(0,T.N)((f,g)=>{var S;null===(S=b.subscribe)||void 0===S||S.call(b);let _=!0;f.subscribe((0,et._)(g,i=>{var a;null===(a=b.next)||void 0===a||a.call(b,i),g.next(i)},()=>{var i;_=!1,null===(i=b.complete)||void 0===i||i.call(b),g.complete()},i=>{var a;_=!1,null===(a=b.error)||void 0===a||a.call(b,i),g.error(i)},()=>{var i,a;_&&(null===(i=b.unsubscribe)||void 0===i||i.call(b)),null===(a=b.finalize)||void 0===a||a.call(b)}))}):Et.D}},9270:(xr,or,_e)=>{"use strict";_e.d(or,{f:()=>M});const M={setTimeout(T,et,...Et){const{delegate:o}=M;return null!=o&&o.setTimeout?o.setTimeout(T,et,...Et):setTimeout(T,et,...Et)},clearTimeout(T){const{delegate:et}=M;return((null==et?void 0:et.clearTimeout)||clearTimeout)(T)},delegate:void 0}},4761:(xr,or,_e)=>{"use strict";_e.d(or,{l:()=>T});const T=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(xr,or,_e)=>{"use strict";_e.d(or,{s:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(xr,or,_e)=>{"use strict";_e.d(or,{R0:()=>se,lI:()=>o,ms:()=>Et});var M=_e(8071),T=_e(9470);function et($){return $[$.length-1]}function Et($){return(0,M.T)(et($))?$.pop():void 0}function o($){return(0,T.m)(et($))?$.pop():void 0}function se($,v){return"number"==typeof et($)?$.pop():v}},3073:(xr,or,_e)=>{"use strict";_e.d(or,{D:()=>o});const{isArray:M}=Array,{getPrototypeOf:T,prototype:et,keys:Et}=Object;function o($){if(1===$.length){const v=$[0];if(M(v))return{args:v,keys:null};if(function se($){return $&&"object"==typeof $&&T($)===et}(v)){const b=Et(v);return{args:b.map(f=>v[f]),keys:b}}}return{args:$,keys:null}}},7908:(xr,or,_e)=>{"use strict";function M(T,et){if(T){const Et=T.indexOf(et);0<=Et&&T.splice(Et,1)}}_e.d(or,{o:()=>M})},1853:(xr,or,_e)=>{"use strict";function M(T){const Et=T(o=>{Error.call(o),o.stack=(new Error).stack});return Et.prototype=Object.create(Error.prototype),Et.prototype.constructor=Et,Et}_e.d(or,{L:()=>M})},8496:(xr,or,_e)=>{"use strict";function M(T,et){return T.reduce((Et,o,se)=>(Et[o]=et[se],Et),{})}_e.d(or,{e:()=>M})},9786:(xr,or,_e)=>{"use strict";_e.d(or,{Y:()=>et,l:()=>Et});var M=_e(1026);let T=null;function et(o){if(M.$.useDeprecatedSynchronousErrorHandling){const se=!T;if(se&&(T={errorThrown:!1,error:null}),o(),se){const{errorThrown:$,error:v}=T;if(T=null,$)throw v}}else o()}function Et(o){M.$.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=o)}},5225:(xr,or,_e)=>{"use strict";function M(T,et,Et,o=0,se=!1){const $=et.schedule(function(){Et(),se?T.add(this.schedule(null,o)):this.unsubscribe()},o);if(T.add($),!se)return $}_e.d(or,{N:()=>M})},3669:(xr,or,_e)=>{"use strict";function M(T){return T}_e.d(or,{D:()=>M})},7441:(xr,or,_e)=>{"use strict";_e.d(or,{X:()=>M});const M=T=>T&&"number"==typeof T.length&&"function"!=typeof T},7953:(xr,or,_e)=>{"use strict";_e.d(or,{T:()=>T});var M=_e(8071);function T(et){return Symbol.asyncIterator&&(0,M.T)(null==et?void 0:et[Symbol.asyncIterator])}},8071:(xr,or,_e)=>{"use strict";function M(T){return"function"==typeof T}_e.d(or,{T:()=>M})},5055:(xr,or,_e)=>{"use strict";_e.d(or,{l:()=>et});var M=_e(3494),T=_e(8071);function et(Et){return(0,T.T)(Et[M.s])}},5397:(xr,or,_e)=>{"use strict";_e.d(or,{x:()=>et});var M=_e(4761),T=_e(8071);function et(Et){return(0,T.T)(null==Et?void 0:Et[M.l])}},7477:(xr,or,_e)=>{"use strict";_e.d(or,{y:()=>T});var M=_e(8071);function T(et){return(0,M.T)(null==et?void 0:et.then)}},5196:(xr,or,_e)=>{"use strict";_e.d(or,{C:()=>et,U:()=>Et});var M=_e(1635),T=_e(8071);function et(o){return(0,M.AQ)(this,arguments,function*(){const $=o.getReader();try{for(;;){const{value:v,done:b}=yield(0,M.N3)($.read());if(b)return yield(0,M.N3)(void 0);yield yield(0,M.N3)(v)}}finally{$.releaseLock()}})}function Et(o){return(0,T.T)(null==o?void 0:o.getReader)}},9470:(xr,or,_e)=>{"use strict";_e.d(or,{m:()=>T});var M=_e(8071);function T(et){return et&&(0,M.T)(et.schedule)}},9974:(xr,or,_e)=>{"use strict";_e.d(or,{N:()=>et,S:()=>T});var M=_e(8071);function T(Et){return(0,M.T)(null==Et?void 0:Et.lift)}function et(Et){return o=>{if(T(o))return o.lift(function(se){try{return Et(se,this)}catch($){this.error($)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(xr,or,_e)=>{"use strict";_e.d(or,{I:()=>Et});var M=_e(6354);const{isArray:T}=Array;function Et(o){return(0,M.T)(se=>function et(o,se){return T(se)?o(...se):o(se)}(o,se))}},5343:(xr,or,_e)=>{"use strict";function M(){}_e.d(or,{l:()=>M})},1203:(xr,or,_e)=>{"use strict";_e.d(or,{F:()=>T,m:()=>et});var M=_e(3669);function T(...Et){return et(Et)}function et(Et){return 0===Et.length?M.D:1===Et.length?Et[0]:function(se){return Et.reduce(($,v)=>v($),se)}}},5334:(xr,or,_e)=>{"use strict";_e.d(or,{m:()=>et});var M=_e(1026),T=_e(9270);function et(Et){T.f.setTimeout(()=>{const{onUnhandledError:o}=M.$;if(!o)throw Et;o(Et)})}},591:(xr,or,_e)=>{"use strict";function M(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_e.d(or,{L:()=>M})},8996:(xr,or,_e)=>{var M={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function T(et){if(!_e.o(M,et))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+et+"'");throw se.code="MODULE_NOT_FOUND",se});var Et=M[et],o=Et[0];return Promise.all(Et.slice(1).map(_e.e)).then(()=>_e(o))}T.keys=()=>Object.keys(M),T.id=8996,xr.exports=T},5235:(xr,or,_e)=>{var M={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function T(et){if(!_e.o(M,et))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+et+"'");throw se.code="MODULE_NOT_FOUND",se});var Et=M[et],o=Et[0];return _e.e(Et[1]).then(()=>_e(o))}T.keys=()=>Object.keys(M),T.id=5235,xr.exports=T},4633:(xr,or,_e)=>{var M=_e(3738).default;function T(){"use strict";xr.exports=T=function(){return Et},xr.exports.__esModule=!0,xr.exports.default=xr.exports;var et,Et={},o=Object.prototype,se=o.hasOwnProperty,$=Object.defineProperty||function(te,X,G){te[X]=G.value},v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",f=v.asyncIterator||"@@asyncIterator",g=v.toStringTag||"@@toStringTag";function S(te,X,G){return Object.defineProperty(te,X,{value:G,enumerable:!0,configurable:!0,writable:!0}),te[X]}try{S({},"")}catch{S=function(G,Y,le){return G[Y]=le}}function _(te,X,G,Y){var Ie=Object.create((X&&X.prototype instanceof m?X:m).prototype),J=new re(Y||[]);return $(Ie,"_invoke",{value:A(te,G,J)}),Ie}function i(te,X,G){try{return{type:"normal",arg:te.call(X,G)}}catch(Y){return{type:"throw",arg:Y}}}Et.wrap=_;var a="suspendedStart",l="suspendedYield",u="executing",d="completed",h={};function m(){}function p(){}function y(){}var D={};S(D,b,function(){return this});var V=Object.getPrototypeOf,L=V&&V(V(q([])));L&&L!==o&&se.call(L,b)&&(D=L);var P=y.prototype=m.prototype=Object.create(D);function x(te){["next","throw","return"].forEach(function(X){S(te,X,function(G){return this._invoke(X,G)})})}function U(te,X){function G(le,Ie,J,j){var ne=i(te[le],te,Ie);if("throw"!==ne.type){var me=ne.arg,De=me.value;return De&&"object"==M(De)&&se.call(De,"__await")?X.resolve(De.__await).then(function($e){G("next",$e,J,j)},function($e){G("throw",$e,J,j)}):X.resolve(De).then(function($e){me.value=$e,J(me)},function($e){return G("throw",$e,J,j)})}j(ne.arg)}var Y;$(this,"_invoke",{value:function(Ie,J){function j(){return new X(function(ne,me){G(Ie,J,ne,me)})}return Y=Y?Y.then(j,j):j()}})}function A(te,X,G){var Y=a;return function(le,Ie){if(Y===u)throw Error("Generator is already running");if(Y===d){if("throw"===le)throw Ie;return{value:et,done:!0}}for(G.method=le,G.arg=Ie;;){var J=G.delegate;if(J){var j=R(J,G);if(j){if(j===h)continue;return j}}if("next"===G.method)G.sent=G._sent=G.arg;else if("throw"===G.method){if(Y===a)throw Y=d,G.arg;G.dispatchException(G.arg)}else"return"===G.method&&G.abrupt("return",G.arg);Y=u;var ne=i(te,X,G);if("normal"===ne.type){if(Y=G.done?d:l,ne.arg===h)continue;return{value:ne.arg,done:G.done}}"throw"===ne.type&&(Y=d,G.method="throw",G.arg=ne.arg)}}}function R(te,X){var G=X.method,Y=te.iterator[G];if(Y===et)return X.delegate=null,"throw"===G&&te.iterator.return&&(X.method="return",X.arg=et,R(te,X),"throw"===X.method)||"return"!==G&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+G+"' method")),h;var le=i(Y,te.iterator,X.arg);if("throw"===le.type)return X.method="throw",X.arg=le.arg,X.delegate=null,h;var Ie=le.arg;return Ie?Ie.done?(X[te.resultName]=Ie.value,X.next=te.nextLoc,"return"!==X.method&&(X.method="next",X.arg=et),X.delegate=null,h):Ie:(X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,h)}function O(te){var X={tryLoc:te[0]};1 in te&&(X.catchLoc=te[1]),2 in te&&(X.finallyLoc=te[2],X.afterLoc=te[3]),this.tryEntries.push(X)}function Z(te){var X=te.completion||{};X.type="normal",delete X.arg,te.completion=X}function re(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(O,this),this.reset(!0)}function q(te){if(te||""===te){var X=te[b];if(X)return X.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length)){var G=-1,Y=function le(){for(;++G<te.length;)if(se.call(te,G))return le.value=te[G],le.done=!1,le;return le.value=et,le.done=!0,le};return Y.next=Y}}throw new TypeError(M(te)+" is not iterable")}return p.prototype=y,$(P,"constructor",{value:y,configurable:!0}),$(y,"constructor",{value:p,configurable:!0}),p.displayName=S(y,g,"GeneratorFunction"),Et.isGeneratorFunction=function(te){var X="function"==typeof te&&te.constructor;return!!X&&(X===p||"GeneratorFunction"===(X.displayName||X.name))},Et.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,y):(te.__proto__=y,S(te,g,"GeneratorFunction")),te.prototype=Object.create(P),te},Et.awrap=function(te){return{__await:te}},x(U.prototype),S(U.prototype,f,function(){return this}),Et.AsyncIterator=U,Et.async=function(te,X,G,Y,le){void 0===le&&(le=Promise);var Ie=new U(_(te,X,G,Y),le);return Et.isGeneratorFunction(X)?Ie:Ie.next().then(function(J){return J.done?J.value:Ie.next()})},x(P),S(P,g,"Generator"),S(P,b,function(){return this}),S(P,"toString",function(){return"[object Generator]"}),Et.keys=function(te){var X=Object(te),G=[];for(var Y in X)G.push(Y);return G.reverse(),function le(){for(;G.length;){var Ie=G.pop();if(Ie in X)return le.value=Ie,le.done=!1,le}return le.done=!0,le}},Et.values=q,re.prototype={constructor:re,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=et,this.done=!1,this.delegate=null,this.method="next",this.arg=et,this.tryEntries.forEach(Z),!X)for(var G in this)"t"===G.charAt(0)&&se.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=et)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if("throw"===X.type)throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var G=this;function Y(me,De){return J.type="throw",J.arg=X,G.next=me,De&&(G.method="next",G.arg=et),!!De}for(var le=this.tryEntries.length-1;le>=0;--le){var Ie=this.tryEntries[le],J=Ie.completion;if("root"===Ie.tryLoc)return Y("end");if(Ie.tryLoc<=this.prev){var j=se.call(Ie,"catchLoc"),ne=se.call(Ie,"finallyLoc");if(j&&ne){if(this.prev<Ie.catchLoc)return Y(Ie.catchLoc,!0);if(this.prev<Ie.finallyLoc)return Y(Ie.finallyLoc)}else if(j){if(this.prev<Ie.catchLoc)return Y(Ie.catchLoc,!0)}else{if(!ne)throw Error("try statement without catch or finally");if(this.prev<Ie.finallyLoc)return Y(Ie.finallyLoc)}}}},abrupt:function(X,G){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var le=this.tryEntries[Y];if(le.tryLoc<=this.prev&&se.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var Ie=le;break}}Ie&&("break"===X||"continue"===X)&&Ie.tryLoc<=G&&G<=Ie.finallyLoc&&(Ie=null);var J=Ie?Ie.completion:{};return J.type=X,J.arg=G,Ie?(this.method="next",this.next=Ie.finallyLoc,h):this.complete(J)},complete:function(X,G){if("throw"===X.type)throw X.arg;return"break"===X.type||"continue"===X.type?this.next=X.arg:"return"===X.type?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):"normal"===X.type&&G&&(this.next=G),h},finish:function(X){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.finallyLoc===X)return this.complete(Y.completion,Y.afterLoc),Z(Y),h}},catch:function(X){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.tryLoc===X){var le=Y.completion;if("throw"===le.type){var Ie=le.arg;Z(Y)}return Ie}}throw Error("illegal catch attempt")},delegateYield:function(X,G,Y){return this.delegate={iterator:q(X),resultName:G,nextLoc:Y},"next"===this.method&&(this.arg=et),h}},Et}xr.exports=T,xr.exports.__esModule=!0,xr.exports.default=xr.exports},3738:xr=>{function or(_e){return xr.exports=or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},xr.exports.__esModule=!0,xr.exports.default=xr.exports,or(_e)}xr.exports=or,xr.exports.__esModule=!0,xr.exports.default=xr.exports},4756:(xr,or,_e)=>{var M=_e(4633)();xr.exports=M;try{regeneratorRuntime=M}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=M:Function("r","regeneratorRuntime = r")(M)}},177:(xr,or,_e)=>{"use strict";_e.d(or,{AJ:()=>Yt,MD:()=>er,N0:()=>pn,QT:()=>et,Sm:()=>l,Sq:()=>wr,T3:()=>No,UE:()=>Er,VF:()=>o,Vy:()=>Cr,Xr:()=>Ur,ZD:()=>Et,_b:()=>Re,aZ:()=>d,bT:()=>on,fw:()=>u,hb:()=>i,hj:()=>b,qQ:()=>$});var M=_e(3953);let T=null;function et(){return T}function Et(ce){var je;null!==(je=T)&&void 0!==je||(T=ce)}class o{}const $=new M.nKC("");let v=(()=>{var ce;class je{historyGo(Me){throw new Error("")}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>(0,M.WQX)(f),providedIn:"platform"}),je})();const b=new M.nKC("");let f=(()=>{var ce;class je extends v{constructor(){super(),this._doc=(0,M.WQX)($),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return et().getBaseHref(this._doc)}onPopState(Me){const it=et().getGlobalEventTarget(this._doc,"window");return it.addEventListener("popstate",Me,!1),()=>it.removeEventListener("popstate",Me)}onHashChange(Me){const it=et().getGlobalEventTarget(this._doc,"window");return it.addEventListener("hashchange",Me,!1),()=>it.removeEventListener("hashchange",Me)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Me){this._location.pathname=Me}pushState(Me,it,Tt){this._history.pushState(Me,it,Tt)}replaceState(Me,it,Tt){this._history.replaceState(Me,it,Tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Me=0){this._history.go(Me)}getState(){return this._history.state}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>new ce,providedIn:"platform"}),je})();function g(ce,je){if(0==ce.length)return je;if(0==je.length)return ce;let wt=0;return ce.endsWith("/")&&wt++,je.startsWith("/")&&wt++,2==wt?ce+je.substring(1):1==wt?ce+je:ce+"/"+je}function S(ce){const je=ce.match(/#|\?|$/),wt=je&&je.index||ce.length;return ce.slice(0,wt-("/"===ce[wt-1]?1:0))+ce.slice(wt)}function _(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let i=(()=>{var ce;class je{historyGo(Me){throw new Error("")}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>(0,M.WQX)(l),providedIn:"root"}),je})();const a=new M.nKC("");let l=(()=>{var ce;class je extends i{constructor(Me,it){var Tt,mr,Ir;super(),this._platformLocation=Me,this._removeListenerFns=[],this._baseHref=null!==(Tt=null!==(mr=null!=it?it:this._platformLocation.getBaseHrefFromDOM())&&void 0!==mr?mr:null===(Ir=(0,M.WQX)($).location)||void 0===Ir?void 0:Ir.origin)&&void 0!==Tt?Tt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Me){this._removeListenerFns.push(this._platformLocation.onPopState(Me),this._platformLocation.onHashChange(Me))}getBaseHref(){return this._baseHref}prepareExternalUrl(Me){return g(this._baseHref,Me)}path(Me=!1){const it=this._platformLocation.pathname+_(this._platformLocation.search),Tt=this._platformLocation.hash;return Tt&&Me?`${it}${Tt}`:it}pushState(Me,it,Tt,mr){const Ir=this.prepareExternalUrl(Tt+_(mr));this._platformLocation.pushState(Me,it,Ir)}replaceState(Me,it,Tt,mr){const Ir=this.prepareExternalUrl(Tt+_(mr));this._platformLocation.replaceState(Me,it,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Me=0){var it,Tt;null===(it=(Tt=this._platformLocation).historyGo)||void 0===it||it.call(Tt,Me)}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)(M.KVO(v),M.KVO(a,8))},ce.\u0275prov=M.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),je})(),u=(()=>{var ce;class je extends i{constructor(Me,it){super(),this._platformLocation=Me,this._baseHref="",this._removeListenerFns=[],null!=it&&(this._baseHref=it)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Me){this._removeListenerFns.push(this._platformLocation.onPopState(Me),this._platformLocation.onHashChange(Me))}getBaseHref(){return this._baseHref}path(Me=!1){var it;const Tt=null!==(it=this._platformLocation.hash)&&void 0!==it?it:"#";return Tt.length>0?Tt.substring(1):Tt}prepareExternalUrl(Me){const it=g(this._baseHref,Me);return it.length>0?"#"+it:it}pushState(Me,it,Tt,mr){let Ir=this.prepareExternalUrl(Tt+_(mr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.pushState(Me,it,Ir)}replaceState(Me,it,Tt,mr){let Ir=this.prepareExternalUrl(Tt+_(mr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.replaceState(Me,it,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Me=0){var it,Tt;null===(it=(Tt=this._platformLocation).historyGo)||void 0===it||it.call(Tt,Me)}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)(M.KVO(v),M.KVO(a,8))},ce.\u0275prov=M.jDH({token:ce,factory:ce.\u0275fac}),je})(),d=(()=>{var ce;class je{constructor(Me){this._subject=new M.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Me;const it=this._locationStrategy.getBaseHref();this._basePath=function y(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,wt]=ce.split(/\/\/[^\/]+/);return wt}return ce}(S(p(it))),this._locationStrategy.onPopState(Tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Tt.state,type:Tt.type})})}ngOnDestroy(){var Me;null===(Me=this._urlChangeSubscription)||void 0===Me||Me.unsubscribe(),this._urlChangeListeners=[]}path(Me=!1){return this.normalize(this._locationStrategy.path(Me))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Me,it=""){return this.path()==this.normalize(Me+_(it))}normalize(Me){return je.stripTrailingSlash(function m(ce,je){if(!ce||!je.startsWith(ce))return je;const wt=je.substring(ce.length);return""===wt||["/",";","?","#"].includes(wt[0])?wt:je}(this._basePath,p(Me)))}prepareExternalUrl(Me){return Me&&"/"!==Me[0]&&(Me="/"+Me),this._locationStrategy.prepareExternalUrl(Me)}go(Me,it="",Tt=null){this._locationStrategy.pushState(Tt,"",Me,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Me+_(it)),Tt)}replaceState(Me,it="",Tt=null){this._locationStrategy.replaceState(Tt,"",Me,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Me+_(it)),Tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Me=0){var it,Tt;null===(it=(Tt=this._locationStrategy).historyGo)||void 0===it||it.call(Tt,Me)}onUrlChange(Me){var it;return this._urlChangeListeners.push(Me),null!==(it=this._urlChangeSubscription)&&void 0!==it||(this._urlChangeSubscription=this.subscribe(Tt=>{this._notifyUrlChangeListeners(Tt.url,Tt.state)})),()=>{const Tt=this._urlChangeListeners.indexOf(Me);var mr;this._urlChangeListeners.splice(Tt,1),0===this._urlChangeListeners.length&&(null===(mr=this._urlChangeSubscription)||void 0===mr||mr.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Me="",it){this._urlChangeListeners.forEach(Tt=>Tt(Me,it))}subscribe(Me,it,Tt){return this._subject.subscribe({next:Me,error:it,complete:Tt})}}return(ce=je).normalizeQueryParams=_,ce.joinWithSlash=g,ce.stripTrailingSlash=S,ce.\u0275fac=function(Me){return new(Me||ce)(M.KVO(i))},ce.\u0275prov=M.jDH({token:ce,factory:()=>function h(){return new d((0,M.KVO)(i))}(),providedIn:"root"}),je})();function p(ce){return ce.replace(/\/index.html$/,"")}function Re(ce,je){je=encodeURIComponent(je);for(const wt of ce.split(";")){const Me=wt.indexOf("="),[it,Tt]=-1==Me?[wt,""]:[wt.slice(0,Me),wt.slice(Me+1)];if(it.trim()===je)return decodeURIComponent(Tt)}return null}class cr{constructor(je,wt,Me,it){this.$implicit=je,this.ngForOf=wt,this.index=Me,this.count=it}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{var ce;class je{set ngForOf(Me){this._ngForOf=Me,this._ngForOfDirty=!0}set ngForTrackBy(Me){this._trackByFn=Me}get ngForTrackBy(){return this._trackByFn}constructor(Me,it,Tt){this._viewContainer=Me,this._template=it,this._differs=Tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Me){Me&&(this._template=Me)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Me=this._ngForOf;!this._differ&&Me&&(this._differ=this._differs.find(Me).create(this.ngForTrackBy))}if(this._differ){const Me=this._differ.diff(this._ngForOf);Me&&this._applyChanges(Me)}}_applyChanges(Me){const it=this._viewContainer;Me.forEachOperation((Tt,mr,Ir)=>{if(null==Tt.previousIndex)it.createEmbeddedView(this._template,new cr(Tt.item,this._ngForOf,-1,-1),null===Ir?void 0:Ir);else if(null==Ir)it.remove(null===mr?void 0:mr);else if(null!==mr){const sn=it.get(mr);it.move(sn,Ir),Pr(sn,Tt)}});for(let Tt=0,mr=it.length;Tt<mr;Tt++){const sn=it.get(Tt).context;sn.index=Tt,sn.count=mr,sn.ngForOf=this._ngForOf}Me.forEachIdentityChange(Tt=>{Pr(it.get(Tt.currentIndex),Tt)})}static ngTemplateContextGuard(Me,it){return!0}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)(M.rXU(M.c1b),M.rXU(M.C4Q),M.rXU(M._q3))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),je})();function Pr(ce,je){ce.context.$implicit=je.item}let on=(()=>{var ce;class je{constructor(Me,it){this._viewContainer=Me,this._context=new Nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=it}set ngIf(Me){this._context.$implicit=this._context.ngIf=Me,this._updateView()}set ngIfThen(Me){Dn("ngIfThen",Me),this._thenTemplateRef=Me,this._thenViewRef=null,this._updateView()}set ngIfElse(Me){Dn("ngIfElse",Me),this._elseTemplateRef=Me,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Me,it){return!0}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)(M.rXU(M.c1b),M.rXU(M.C4Q))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),je})();class Nn{constructor(){this.$implicit=null,this.ngIf=null}}function Dn(ce,je){if(je&&!je.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,M.Tbb)(je)}'.`)}let No=(()=>{var ce;class je{constructor(Me){this._viewContainerRef=Me,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Me){if(this._shouldRecreateView(Me)){var it;const Tt=this._viewContainerRef;if(this._viewRef&&Tt.remove(Tt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const mr=this._createContextForwardProxy();this._viewRef=Tt.createEmbeddedView(this.ngTemplateOutlet,mr,{injector:null!==(it=this.ngTemplateOutletInjector)&&void 0!==it?it:void 0})}}_shouldRecreateView(Me){return!!Me.ngTemplateOutlet||!!Me.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Me,it,Tt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,it,Tt),get:(Me,it,Tt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,it,Tt)}})}}return(ce=je).\u0275fac=function(Me){return new(Me||ce)(M.rXU(M.c1b))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M.OA$]}),je})(),er=(()=>{var ce;class je{}return(ce=je).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275mod=M.$C({type:ce}),ce.\u0275inj=M.G2t({}),je})();const Yt="browser",gr="server";function Er(ce){return ce===Yt}function Cr(ce){return ce===gr}let Ur=(()=>{var ce;class je{}return(ce=je).\u0275prov=(0,M.jDH)({token:ce,providedIn:"root",factory:()=>Er((0,M.WQX)(M.Agw))?new Fr((0,M.WQX)($),window):new qr}),je})();class Fr{constructor(je,wt){this.document=je,this.window=wt,this.offset=()=>[0,0]}setOffset(je){this.offset=Array.isArray(je)?()=>je:je}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(je){this.window.scrollTo(je[0],je[1])}scrollToAnchor(je){const wt=function Gr(ce,je){const wt=ce.getElementById(je)||ce.getElementsByName(je)[0];if(wt)return wt;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Me=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let it=Me.currentNode;for(;it;){const Tt=it.shadowRoot;if(Tt){const mr=Tt.getElementById(je)||Tt.querySelector(`[name="${je}"]`);if(mr)return mr}it=Me.nextNode()}}return null}(this.document,je);wt&&(this.scrollToElement(wt),wt.focus())}setHistoryScrollRestoration(je){this.window.history.scrollRestoration=je}scrollToElement(je){const wt=je.getBoundingClientRect(),Me=wt.left+this.window.pageXOffset,it=wt.top+this.window.pageYOffset,Tt=this.offset();this.window.scrollTo(Me-Tt[0],it-Tt[1])}}class qr{setOffset(je){}getScrollPosition(){return[0,0]}scrollToPosition(je){}scrollToAnchor(je){}setHistoryScrollRestoration(je){}}class pn{}},3953:(xr,or,_e)=>{"use strict";function M(t,r){return Object.is(t,r)}_e.d(or,{iLQ:()=>Ad,sZ2:()=>xc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ti,BIS:()=>aS,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Ss,aKT:()=>Hl,uvJ:()=>Fs,zcH:()=>fi,bkB:()=>hi,$GK:()=>mn,nKC:()=>$r,zZn:()=>Bo,_q3:()=>om,MKu:()=>sm,xe9:()=>Id,Co$:()=>S0,Vns:()=>fa,SKi:()=>no,Xx1:()=>co,Agw:()=>Lh,PLl:()=>Xg,sFG:()=>nD,_9s:()=>Nf,czy:()=>Fc,WPN:()=>ia,kdw:()=>xa,C4Q:()=>au,NYb:()=>sI,giA:()=>p1,RxE:()=>a1,c1b:()=>nd,gXe:()=>wi,mal:()=>Fv,L39:()=>bj,EWP:()=>wj,a0P:()=>Aj,Ol2:()=>Qf,w6W:()=>ZD,oH4:()=>D1,SmG:()=>SI,Rfq:()=>Gs,WQX:()=>kr,QuC:()=>fn,EmA:()=>si,fpN:()=>LI,HJs:()=>Mj,N4e:()=>bm,vPA:()=>o0,O8t:()=>Ej,H3F:()=>l1,zAP:()=>rw,H8p:()=>Jd,KH2:()=>_l,TgB:()=>oa,wOt:()=>Rr,WHO:()=>h1,e01:()=>f1,lNU:()=>kn,h9k:()=>gy,$MX:()=>Rc,ZF7:()=>Xa,Kcf:()=>TS,e5t:()=>jS,UyX:()=>MS,cWb:()=>AS,osQ:()=>IS,H5H:()=>xp,mq5:()=>xb,JZv:()=>zn,LfX:()=>vn,plB:()=>Ni,jNT:()=>Xp,zjR:()=>m1,TL$:()=>sS,Tbb:()=>Xn,rcV:()=>Ti,Vt3:()=>Yf,GFd:()=>E0,OA$:()=>ih,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>hp,AVh:()=>vp,wni:()=>u_,VBU:()=>we,FsC:()=>ir,jDH:()=>Lr,G2t:()=>Wr,$C:()=>tt,EJ8:()=>_r,rXU:()=>Ya,nrm:()=>Sp,eu8:()=>Cp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Eb,xGo:()=>hg,KVO:()=>Yr,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Ap,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Qb,NAR:()=>Zb,Y8G:()=>gp,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Zh,n$t:()=>vy,Aen:()=>Zs,DNE:()=>tp,EFF:()=>S_,JRh:()=>Op,SpI:()=>Sd,Lme:()=>Pp,DH7:()=>O_,mxI:()=>kp,R50:()=>Rp,GBs:()=>c_});let T=null,et=!1,Et=1;const o=Symbol("SIGNAL");function se(t){const r=T;return T=t,r}const f={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function g(t){if(et)throw new Error("");if(null===T)return;T.consumerOnSignalRead(t);const r=T.nextProducerIndex++;V(T),r<T.producerNode.length&&T.producerNode[r]!==t&&D(T)&&y(T.producerNode[r],T.producerIndexOfThis[r]),T.producerNode[r]!==t&&(T.producerNode[r]=t,T.producerIndexOfThis[r]=D(T)?p(t,T,r):0),T.producerLastReadVersion[r]=t.version}function _(t){if((!D(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Et)){if(!t.producerMustRecompute(t)&&!h(t))return t.dirty=!1,void(t.lastCleanEpoch=Et);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Et}}function i(t){if(void 0===t.liveConsumerNode)return;const r=et;et=!0;try{for(const n of t.liveConsumerNode)n.dirty||l(n)}finally{et=r}}function a(){var t;return!1!==(null===(t=T)||void 0===t?void 0:t.consumerAllowSignalWrites)}function l(t){var r;t.dirty=!0,i(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function u(t){return t&&(t.nextProducerIndex=0),se(t)}function d(t,r){if(se(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(D(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)y(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function h(t){V(t);for(let r=0;r<t.producerNode.length;r++){const n=t.producerNode[r],s=t.producerLastReadVersion[r];if(s!==n.version||(_(n),s!==n.version))return!0}return!1}function m(t){if(V(t),D(t))for(let r=0;r<t.producerNode.length;r++)y(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function p(t,r,n){if(L(t),0===t.liveConsumerNode.length&&P(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=p(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(r)-1}function y(t,r){if(L(t),1===t.liveConsumerNode.length&&P(t))for(let s=0;s<t.producerNode.length;s++)y(t.producerNode[s],t.producerIndexOfThis[s]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];V(c),c.producerIndexOfThis[s]=r}}function D(t){var r,n;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}function V(t){var r,n,s;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}function L(t){var r,n;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}function P(t){return void 0!==t.producerNode}const U=Symbol("UNSET"),A=Symbol("COMPUTING"),R=Symbol("ERRORED"),O={...f,value:U,dirty:!0,error:null,equal:M,producerMustRecompute:t=>t.value===U||t.value===A,producerRecomputeValue(t){if(t.value===A)throw new Error("Detected cycle in computations.");const r=t.value;t.value=A;const n=u(t);let s;try{s=t.computation()}catch(c){s=R,t.error=c}finally{d(t,n)}r!==U&&r!==R&&s!==R&&t.equal(r,s)?t.value=r:(t.value=s,t.version++)}};let re=function Z(){throw new Error};function q(){re()}let X=null;function Ie(t,r){a()||q(),t.equal(t.value,r)||(t.value=r,function me(t){var r;t.version++,function S(){Et++}(),i(t),null===(r=X)||void 0===r||r()}(t))}const ne={...f,equal:M,value:void 0};var _n,He=_e(4412),ot=_e(1413),at=_e(8359),Ue=_e(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const kn="https://g.co/ng/security#xss";class Rr extends Error{constructor(r,n){super(function go(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,n)),this.code=r}}function Bn(t){return{toString:t}.toString()}const Go="__parameters__";function bs(t,r,n){return Bn(()=>{const s=function Os(t){return function(...n){if(t){const s=t(...n);for(const c in s)this[c]=s[c]}}}(r);function c(...C){if(this instanceof c)return s.apply(this,C),this;const k=new c(...C);return Q.annotation=k,Q;function Q(ae,Ce,Ne){const Ke=ae.hasOwnProperty(Go)?ae[Go]:Object.defineProperty(ae,Go,{value:[]})[Go];for(;Ke.length<=Ne;)Ke.push(null);return(Ke[Ne]=Ke[Ne]||[]).push(k),ae}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const zn=globalThis;function En(t){for(let r in t)if(t[r]===En)return r;throw Error("Could not find renamed property on target object.")}function Ps(t,r){for(const n in r)r.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=r[n])}function Xn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function Rs(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ws=En({__forward_ref__:En});function Gs(t){return t.__forward_ref__=Gs,t.toString=function(){return Xn(this())},t}function Hr(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(ws)&&t.__forward_ref__===Gs}function Lr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qr(t){return qn(t,Kn)||qn(t,Tn)}function vn(t){return null!==Qr(t)}function qn(t,r){return t.hasOwnProperty(r)?t[r]:null}function so(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Mn))?t[fo]:null}const Kn=En({\u0275prov:En}),fo=En({\u0275inj:En}),Tn=En({ngInjectableDef:En}),Mn=En({ngInjectorDef:En});class $r{constructor(r,n){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Lr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $i(t){return t&&!!t.\u0275providers}const vi=En({\u0275cmp:En}),wa=En({\u0275dir:En}),Vi=En({\u0275pipe:En}),Ea=En({\u0275mod:En}),ks=En({\u0275fac:En}),oi=En({__NG_ELEMENT_ID__:En}),Sa=En({__NG_ENV_ID__:En});function an(t){return"string"==typeof t?t:null==t?"":String(t)}function Gi(t,r){throw new Rr(-201,!1)}var mn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mn||{});let Hs;function bi(){return Hs}function Io(t){const r=Hs;return Hs=t,r}function ds(t,r,n){const s=Qr(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&mn.Optional?null:void 0!==r?r:void Gi()}const ce={},je="__NG_DI_FLAG__",wt="ngTempTokenPath",it=/\n/gm,mr="__source";let Ir;function nn(t){const r=Ir;return Ir=t,r}function xn(t,r=mn.Default){if(void 0===Ir)throw new Rr(-203,!1);return null===Ir?ds(t,void 0,r):Ir.get(t,r&mn.Optional?null:void 0,r)}function Yr(t,r=mn.Default){return(bi()||xn)(Hr(t),r)}function kr(t,r=mn.Default){return Yr(t,Jn(r))}function Jn(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hs(t){const r=[];for(let n=0;n<t.length;n++){const s=Hr(t[n]);if(Array.isArray(s)){if(0===s.length)throw new Rr(900,!1);let c,C=mn.Default;for(let k=0;k<s.length;k++){const Q=s[k],ae=zs(Q);"number"==typeof ae?-1===ae?c=Q.token:C|=ae:c=Q}r.push(Yr(c,C))}else r.push(Yr(s))}return r}function po(t,r){return t[je]=r,t.prototype[je]=r,t}function zs(t){return t[je]}const co=po(bs("Optional"),8),xa=po(bs("SkipSelf"),4);function _i(t,r){return t.hasOwnProperty(ks)?t[ks]:null}function ji(t,r){t.forEach(n=>Array.isArray(n)?ji(n,r):r(n))}function Gd(t,r,n){r>=t.length?t.push(n):t.splice(r,0,n)}function Ta(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ns(t,r,n){let s=zi(t,r);return s>=0?t[1|s]=n:(s=~s,function xl(t,r,n,s){let c=t.length;if(c==r)t.push(n,s);else if(1===c)t.push(s,t[0]),t[0]=n;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=n,t[r+1]=s}}(t,s,r,n)),s}function zu(t,r){const n=zi(t,r);if(n>=0)return t[1|n]}function zi(t,r){return function Dl(t,r,n){let s=0,c=t.length>>n;for(;c!==s;){const C=s+(c-s>>1),k=t[C<<n];if(r===k)return C<<n;k>r?c=C:s=C+1}return~(c<<n)}(t,r,1)}const Es={},Sn=[],Ss=new $r(""),Wu=new $r("",-1),Xu=new $r("");class Wi{get(r,n=ce){if(n===ce){const s=new Error(`NullInjectorError: No provider for ${Xn(r)}!`);throw s.name="NullInjectorError",s}return n}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{}),Ei=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ei||{});function cm(t,r,n){let s=t.length;for(;;){const c=t.indexOf(r,n);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const C=r.length;if(c+C===s||t.charCodeAt(c+C)<=32)return c}n=c+1}}function Tl(t,r,n){let s=0;for(;s<n.length;){const c=n[s];if("number"==typeof c){if(0!==c)break;s++;const C=n[s++],k=n[s++],Q=n[s++];t.setAttribute(r,k,Q,C)}else{const C=c,k=n[++s];Hd(C)?t.setProperty(r,C,k):t.setAttribute(r,C,k),s++}}return s}function qu(t){return 3===t||4===t||6===t}function Hd(t){return 64===t.charCodeAt(0)}function Pi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let n=-1;for(let s=0;s<r.length;s++){const c=r[s];"number"==typeof c?n=c:0===n||Ku(t,n,c,null,-1===n||2===n?r[++s]:null)}}return t}function Ku(t,r,n,s,c){let C=0,k=t.length;if(-1===r)k=-1;else for(;C<t.length;){const Q=t[C++];if("number"==typeof Q){if(Q===r){k=-1;break}if(Q>r){k=C-1;break}}}for(;C<t.length;){const Q=t[C];if("number"==typeof Q)break;if(Q===n){if(null===s)return void(null!==c&&(t[C+1]=c));if(s===t[C+1])return void(t[C+2]=c)}C++,null!==s&&C++,null!==c&&C++}-1!==k&&(t.splice(k,0,r),C=k+1),t.splice(C++,0,n),null!==s&&t.splice(C++,0,s),null!==c&&t.splice(C++,0,c)}const Yu="ng-template";function zd(t,r,n,s){let c=0;if(s){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==cm(r[c+1].toLowerCase(),n,0))return!0}else if(Al(t))return!1;if(c=r.indexOf(1,c),c>-1){let C;for(;++c<r.length&&"string"==typeof(C=r[c]);)if(C.toLowerCase()===n)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Wd(t,r,n){return r===(4!==t.type||n?t.value:Yu)}function Xd(t,r,n){let s=4;const c=t.attrs,C=null!==c?function hm(t){for(let r=0;r<t.length;r++)if(qu(t[r]))return r;return t.length}(c):0;let k=!1;for(let Q=0;Q<r.length;Q++){const ae=r[Q];if("number"!=typeof ae){if(!k)if(4&s){if(s=2|1&s,""!==ae&&!Wd(t,ae,n)||""===ae&&1===r.length){if(Cs(s))return!1;k=!0}}else if(8&s){if(null===c||!zd(t,c,ae,n)){if(Cs(s))return!1;k=!0}}else{const Ce=r[++Q],Ne=Ju(ae,c,Al(t),n);if(-1===Ne){if(Cs(s))return!1;k=!0;continue}if(""!==Ce){let Ke;if(Ke=Ne>C?"":c[Ne+1].toLowerCase(),2&s&&Ce!==Ke){if(Cs(s))return!1;k=!0}}}}else{if(!k&&!Cs(s)&&!Cs(ae))return!1;if(k&&Cs(ae))continue;k=!1,s=ae|1&s}}return Cs(s)||k}function Cs(t){return!(1&t)}function Ju(t,r,n,s){if(null===r)return-1;let c=0;if(s||!n){let C=!1;for(;c<r.length;){const k=r[c];if(k===t)return c;if(3===k||6===k)C=!0;else{if(1===k||2===k){let Q=r[++c];for(;"string"==typeof Q;)Q=r[++c];continue}if(4===k)break;if(0===k){c+=4;continue}}c+=C?1:2}return-1}return function fm(t,r){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===r)return n;n++}return-1}(r,t)}function Zu(t,r,n=!1){for(let s=0;s<r.length;s++)if(Xd(t,r[s],n))return!0;return!1}function pm(t,r){e:for(let n=0;n<r.length;n++){const s=r[n];if(t.length===s.length){for(let c=0;c<t.length;c++)if(t[c]!==s[c])continue e;return!0}}return!1}function qd(t,r){return t?":not("+r.trim()+")":r}function mm(t){let r=t[0],n=1,s=2,c="",C=!1;for(;n<t.length;){let k=t[n];if("string"==typeof k)if(2&s){const Q=t[++n];c+="["+k+(Q.length>0?'="'+Q+'"':"")+"]"}else 8&s?c+="."+k:4&s&&(c+=" "+k);else""!==c&&!Cs(k)&&(r+=qd(C,c),c=""),s=k,C=C||!Cs(s);n++}return""!==c&&(r+=qd(C,c)),r}function we(t){return Bn(()=>{var r;const n=ro(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||Sn,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(s);const c=t.dependencies;return s.directiveDefs=Fo(c,!1),s.pipeDefs=Fo(c,!0),s.id=function fs(t){let r=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of n)r=Math.imul(31,r)+c.charCodeAt(0)|0;return r+=2147483648,"c"+r}(s),s})}function de(t){return qt(t)||Or(t)}function xe(t){return null!==t}function tt(t){return Bn(()=>({type:t.type,bootstrap:t.bootstrap||Sn,declarations:t.declarations||Sn,imports:t.imports||Sn,exports:t.exports||Sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lt(t,r){if(null==t)return Es;const n={};for(const c in t)if(t.hasOwnProperty(c)){const C=t[c];let k,Q,ae=Ei.None;var s;Array.isArray(C)?(ae=C[0],k=C[1],Q=null!==(s=C[2])&&void 0!==s?s:k):(k=C,Q=C),r?(n[k]=ae!==Ei.None?[c,ae]:c,r[k]=Q):n[k]=c}return n}function ir(t){return Bn(()=>{const r=ro(t);return Wo(r),r})}function _r(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qt(t){return t[vi]||null}function Or(t){return t[wa]||null}function Xr(t){return t[Vi]||null}function fn(t){const r=qt(t)||Or(t)||Xr(t);return null!==r&&r.standalone}function Jr(t,r){const n=t[Ea]||null;if(!n&&!0===r)throw new Error(`Type ${Xn(t)} does not have '\u0275mod' property.`);return n}function ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Es,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lt(t.inputs,r),outputs:lt(t.outputs),debugInfo:null}}function Wo(t){var r;null===(r=t.features)||void 0===r||r.forEach(n=>n(t))}function Fo(t,r){if(!t)return null;const n=r?Xr:de;return()=>("function"==typeof t?t():t).map(s=>n(s)).filter(xe)}function si(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:qi(0,t),\u0275fromNgModule:!0}}function qi(t,...r){const n=[],s=new Set;let c;const C=k=>{n.push(k)};return ji(r,k=>{const Q=k;Si(Q,C,[],s)&&(c||(c=[]),c.push(Q))}),void 0!==c&&Qu(c,C),n}function Qu(t,r){for(let n=0;n<t.length;n++){const{ngModule:s,providers:c}=t[n];Kd(c,C=>{r(C,s)})}}function Si(t,r,n,s){if(!(t=Hr(t)))return!1;let c=null,C=so(t);const k=!C&&qt(t);if(C||k){if(k&&!k.standalone)return!1;c=t}else{const ae=t.ngModule;if(C=so(ae),!C)return!1;c=ae}const Q=s.has(c);if(k){if(Q)return!1;if(s.add(c),k.dependencies){const ae="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const Ce of ae)Si(Ce,r,n,s)}}else{if(!C)return!1;{if(null!=C.imports&&!Q){let Ce;s.add(c);try{ji(C.imports,Ne=>{Si(Ne,r,n,s)&&(Ce||(Ce=[]),Ce.push(Ne))})}finally{}void 0!==Ce&&Qu(Ce,r)}if(!Q){const Ce=_i(c)||(()=>new c);r({provide:c,useFactory:Ce,deps:Sn},c),r({provide:Xu,useValue:c,multi:!0},c),r({provide:Ss,useValue:()=>Yr(c),multi:!0},c)}const ae=C.providers;if(null!=ae&&!Q){const Ce=t;Kd(ae,Ne=>{r(Ne,Ce)})}}}return c!==t&&void 0!==t.providers}function Kd(t,r){for(let n of t)$i(n)&&(n=n.\u0275providers),Array.isArray(n)?Kd(n,r):r(n)}const pw=En({provide:String,useValue:En});function Yd(t){return null!==t&&"object"==typeof t&&pw in t}function Ki(t){return"function"==typeof t}const Jd=new $r(""),ec={},gw={};let Zd;function tc(){return void 0===Zd&&(Zd=new Wi),Zd}class Fs{}class Ia extends Fs{get destroyed(){return this._destroyed}constructor(r,n,s,c){super(),this.parent=n,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eh(r,k=>this.processProvider(k)),this.records.set(Wu,ja(void 0,this)),c.has("environment")&&this.records.set(Fs,ja(void 0,this));const C=this.records.get(Jd);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(Xu,Sn,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=se(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const n=nn(this),s=Io(void 0);try{return r()}finally{nn(n),Io(s)}}get(r,n=ce,s=mn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Sa))return r[Sa](this);s=Jn(s);const C=nn(this),k=Io(void 0);try{if(!(s&mn.SkipSelf)){let ae=this.records.get(r);if(void 0===ae){const Ce=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof $r}(r)&&Qr(r);ae=Ce&&this.injectableDefInScope(Ce)?ja(Qd(r),ec):null,this.records.set(r,ae)}if(null!=ae)return this.hydrate(r,ae)}return(s&mn.Self?tc():this.parent).get(r,n=s&mn.Optional&&n===ce?null:n)}catch(Q){if("NullInjectorError"===Q.name){if((Q[wt]=Q[wt]||[]).unshift(Xn(r)),C)throw Q;return function Ns(t,r,n,s){const c=t[wt];throw r[mr]&&c.unshift(r[mr]),t.message=function Ws(t,r,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Xn(r);if(Array.isArray(r))c=r.map(Xn).join(" -> ");else if("object"==typeof r){let C=[];for(let k in r)if(r.hasOwnProperty(k)){let Q=r[k];C.push(k+":"+("string"==typeof Q?JSON.stringify(Q):Xn(Q)))}c=`{${C.join(", ")}}`}return`${n}${s?"("+s+")":""}[${c}]: ${t.replace(it,"\n  ")}`}("\n"+t.message,c,n,s),t.ngTokenPath=c,t[wt]=null,t}(Q,r,"R3InjectorError",this.source)}throw Q}finally{Io(k),nn(C)}}resolveInjectorInitializers(){const r=se(null),n=nn(this),s=Io(void 0);try{const C=this.get(Ss,Sn,mn.Self);for(const k of C)k()}finally{nn(n),Io(s),se(r)}}toString(){const r=[],n=this.records;for(const s of n.keys())r.push(Xn(s));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Rr(205,!1)}processProvider(r){let n=Ki(r=Hr(r))?r:Hr(r&&r.provide);const s=function vw(t){return Yd(t)?ja(void 0,t.useValue):ja(vm(t),ec)}(r);if(!Ki(r)&&!0===r.multi){let c=this.records.get(n);c||(c=ja(void 0,ec,!0),c.factory=()=>hs(c.multi),this.records.set(n,c)),n=r,c.multi.push(r)}this.records.set(n,s)}hydrate(r,n){const s=se(null);try{return n.value===ec&&(n.value=gw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(s)}}injectableDefInScope(r){if(!r.providedIn)return!1;const n=Hr(r.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(r){const n=this._onDestroyHooks.indexOf(r);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qd(t){const r=Qr(t),n=null!==r?r.factory:_i(t);if(null!==n)return n;if(t instanceof $r)throw new Rr(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new Rr(204,!1);const n=function to(t){return t&&(t[Kn]||t[Tn])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Rr(204,!1)}function vm(t,r,n){let s;if(Ki(t)){const c=Hr(t);return _i(c)||Qd(c)}if(Yd(t))s=()=>Hr(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...hs(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))s=()=>Yr(Hr(t.useExisting));else{const c=Hr(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _i(c)||Qd(c);s=()=>new c(...hs(t.deps))}return s}function ja(t,r,n=!1){return{factory:t,value:r,multi:n?[]:void 0}}function eh(t,r){for(const n of t)Array.isArray(n)?eh(n,r):n&&$i(n)?eh(n.\u0275providers,r):r(n)}function bm(t,r){t instanceof Ia&&t.assertNotDestroyed();const s=nn(t),c=Io(void 0);try{return r()}finally{nn(s),Io(c)}}function _m(){return void 0!==bi()||null!=function sn(){return Ir}()}const io=0,Nr=1,en=2,xo=3,qs=4,Xo=5,os=6,Yi=7,Zn=8,Do=9,ii=10,ln=11,jl=12,Em=13,Pa=14,ao=15,Ji=16,Ra=17,ai=18,ka=19,Sm=20,Ri=21,Ol=22,Us=23,Zr=25,rh=1,li=7,Na=9,yo=10;var sc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sc||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[rh]}function Zo(t){return Array.isArray(t)&&!0===t[rh]}function nh(t){return!!(4&t.flags)}function Zi(t){return t.componentOffset>-1}function ic(t){return!(1&~t.flags)}function Ks(t){return!!t.template}function Rl(t){return!!(512&t[en])}class Rw{constructor(r,n,s){this.previousValue=r,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function Tm(t,r,n,s){null!==r?r.applyValueToInputSignal(r,s):t[n]=s}function ih(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),kw}function kw(){const t=Im(this),r=null==t?void 0:t.current;if(r){const n=t.previous;if(n===Es)t.previous=r;else for(let s in r)n[s]=r[s];t.current=null,this.ngOnChanges(r)}}function Nw(t,r,n,s,c){const C=this.declaredInputs[s],k=Im(t)||function Lw(t,r){return t[Mm]=r}(t,{previous:Es,current:null}),Q=k.current||(k.current={}),ae=k.previous,Ce=ae[C];Q[C]=new Rw(Ce&&Ce.currentValue,n,ae===Es),Tm(t,r,c,n)}ih.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const ui=function(t,r,n){};function jn(t){for(;Array.isArray(t);)t=t[io];return t}function kl(t,r){return jn(r[t])}function ss(t,r){return jn(r[t.index])}function Nl(t,r){return t.data[r]}function xs(t,r){const n=r[t];return Uo(n)?n:n[io]}function uh(t){return!(128&~t[en])}function Bs(t,r){return null==r?null:t[r]}function Pm(t){t[Ra]=0}function Rm(t){1024&t[en]||(t[en]|=1024,uh(t)&&ac(t))}function Ll(t){var r;return!!(9216&t[en]||null!==(r=t[Us])&&void 0!==r&&r.dirty)}function ch(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(7),64&t[en]&&(t[en]|=1024),Ll(t)&&ac(t)}function ac(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(0);let n=Ci(t);for(;null!==n&&!(8192&n[en])&&(n[en]|=8192,uh(n));)n=Ci(n)}function lc(t,r){if(!(256&~t[en]))throw new Rr(911,!1);null===t[Ri]&&(t[Ri]=[]),t[Ri].push(r)}function Ci(t){const r=t[xo];return Zo(r)?r[xo]:r}const un={lFrame:Km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return un.bindingsEnabled}function ea(){return null!==un.skipHydrationRootTNode}function Sr(){return un.lFrame.lView}function gn(){return un.lFrame.tView}function Fm(t){return un.lFrame.contextLView=t,t[Zn]}function Um(t){return un.lFrame.contextLView=null,t}function Hn(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return un.lFrame.currentTNode}function Ys(t,r){const n=un.lFrame;n.currentTNode=t,n.isParent=r}function fh(){return un.lFrame.isParent}function ph(){un.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Js(){return un.lFrame.bindingIndex++}function Di(t){const r=un.lFrame,n=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,n}function Jw(t,r){const n=un.lFrame;n.bindingIndex=n.bindingRootIndex=t,mh(r)}function mh(t){un.lFrame.currentDirectiveIndex=t}function yh(){return un.lFrame.currentQueryIndex}function cc(t){un.lFrame.currentQueryIndex=t}function Qw(t){const r=t[Nr];return 2===r.type?r.declTNode:1===r.type?t[Xo]:null}function Xm(t,r,n){if(n&mn.SkipSelf){let c=r,C=t;for(;!(c=c.parent,null!==c||n&mn.Host||(c=Qw(C),null===c||(C=C[Pa],10&c.type))););if(null===c)return!1;r=c,t=C}const s=un.lFrame=qm();return s.currentTNode=r,s.lView=t,!0}function vh(t){const r=qm(),n=t[Nr];un.lFrame=r,r.currentTNode=n.firstChild,r.lView=t,r.tView=n,r.contextLView=t,r.bindingIndex=n.bindingStartIndex,r.inI18n=!1}function qm(){const t=un.lFrame,r=null===t?null:t.child;return null===r?Km(t):r}function Km(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ym(){const t=un.lFrame;return un.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function bh(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qo(){return un.lFrame.selectedIndex}function ta(t){un.lFrame.selectedIndex=t}function Qn(){const t=un.lFrame;return Nl(t.tView,t.selectedIndex)}let Qm=!0;function Ul(){return Qm}function ci(t){Qm=t}function dc(t,r){for(let Ce=r.directiveStart,Ne=r.directiveEnd;Ce<Ne;Ce++){const St=t.data[Ce].type.prototype,{ngAfterContentInit:jt,ngAfterContentChecked:Mt,ngAfterViewInit:dr,ngAfterViewChecked:Ar,ngOnDestroy:jr}=St;var n,s,c,C,k,Q,ae;jt&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-Ce,jt),Mt&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(Ce,Mt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(Ce,Mt)),dr&&(null!==(C=t.viewHooks)&&void 0!==C?C:t.viewHooks=[]).push(-Ce,dr),Ar&&((null!==(k=t.viewHooks)&&void 0!==k?k:t.viewHooks=[]).push(Ce,Ar),(null!==(Q=t.viewCheckHooks)&&void 0!==Q?Q:t.viewCheckHooks=[]).push(Ce,Ar)),null!=jr&&(null!==(ae=t.destroyHooks)&&void 0!==ae?ae:t.destroyHooks=[]).push(Ce,jr)}}function hc(t,r,n){eg(t,r,3,n)}function fc(t,r,n,s){(3&t[en])===n&&eg(t,r,n,s)}function _h(t,r){let n=t[en];(3&n)===r&&(n&=16383,n+=1,t[en]=n)}function eg(t,r,n,s){const C=null!=s?s:-1,k=r.length-1;let Q=0;for(let ae=void 0!==s?65535&t[Ra]:0;ae<k;ae++)if("number"==typeof r[ae+1]){if(Q=r[ae],null!=s&&Q>=s)break}else r[ae]<0&&(t[Ra]+=65536),(Q<C||-1==C)&&(iE(t,n,r,ae),t[Ra]=(4294901760&t[Ra])+ae+2),ae++}function tg(t,r){ui(4,t,r);const n=se(null);try{r.call(t)}finally{se(n),ui(5,t,r)}}function iE(t,r,n,s){const c=n[s]<0,C=n[s+1],Q=t[c?-n[s]:n[s]];c?t[en]>>14<t[Ra]>>16&&(3&t[en])===r&&(t[en]+=16384,tg(Q,C)):tg(Q,C)}const La=-1;class Bl{constructor(r,n,s){this.factory=r,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}const Eh={};class ra{constructor(r,n){this.injector=r,this.parentInjector=n}get(r,n,s){s=Jn(s);const c=this.injector.get(r,Eh,s);return c!==Eh||n===Eh?c:this.parentInjector.get(r,n,s)}}function Sh(t){return t!==La}function $l(t){return 32767&t}function Vl(t,r){let n=function cE(t){return t>>16}(t),s=r;for(;n>0;)s=s[Pa],n--;return s}let Ch=!0;function pc(t){const r=Ch;return Ch=t,r}const ng=255,og=5;let hE=0;const di={};function mc(t,r){const n=sg(t,r);if(-1!==n)return n;const s=r[Nr];s.firstCreatePass&&(t.injectorIndex=r.length,xh(s.data,t),xh(r,null),xh(s.blueprint,null));const c=gc(t,r),C=t.injectorIndex;if(Sh(c)){const k=$l(c),Q=Vl(c,r),ae=Q[Nr].data;for(let Ce=0;Ce<8;Ce++)r[C+Ce]=Q[k+Ce]|ae[k+Ce]}return r[C+8]=c,C}function xh(t,r){t.push(0,0,0,0,0,0,0,0,r)}function sg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,s=null,c=r;for(;null!==c;){if(s=fg(c),null===s)return La;if(n++,c=c[Pa],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return La}function Dh(t,r,n){!function fE(t,r,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(oi)&&(s=n[oi]),null==s&&(s=n[oi]=hE++);const c=s&ng;r.data[t+(c>>og)]|=1<<c}(t,r,n)}function ig(t,r,n){if(n&mn.Optional||void 0!==t)return t;Gi()}function ag(t,r,n,s){if(n&mn.Optional&&void 0===s&&(s=null),!(n&(mn.Self|mn.Host))){const c=t[Do],C=Io(void 0);try{return c?c.get(r,s,n&mn.Optional):ds(r,s,n&mn.Optional)}finally{Io(C)}}return ig(s,0,n)}function lg(t,r,n,s=mn.Default,c){if(null!==t){if(2048&r[en]&&!(s&mn.Self)){const k=function vE(t,r,n,s,c){let C=t,k=r;for(;null!==C&&null!==k&&2048&k[en]&&!(512&k[en]);){const Q=ug(C,k,n,s|mn.Self,di);if(Q!==di)return Q;let ae=C.parent;if(!ae){const Ce=k[Sm];if(Ce){const Ne=Ce.get(n,di,s);if(Ne!==di)return Ne}ae=fg(k),k=k[Pa]}C=ae}return c}(t,r,n,s,di);if(k!==di)return k}const C=ug(t,r,n,s,di);if(C!==di)return C}return ag(r,n,s,c)}function ug(t,r,n,s,c){const C=function gE(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oi)?t[oi]:void 0;return"number"==typeof r?r>=0?r&ng:yE:r}(n);if("function"==typeof C){if(!Xm(r,t,s))return s&mn.Host?ig(c,0,s):ag(r,n,s,c);try{let k;if(k=C(s),null!=k||s&mn.Optional)return k;Gi()}finally{Jm()}}else if("number"==typeof C){let k=null,Q=sg(t,r),ae=La,Ce=s&mn.Host?r[ao][Xo]:null;for((-1===Q||s&mn.SkipSelf)&&(ae=-1===Q?gc(t,r):r[Q+8],ae!==La&&dg(s,!1)?(k=r[Nr],Q=$l(ae),r=Vl(ae,r)):Q=-1);-1!==Q;){const Ne=r[Nr];if(cg(C,Q,Ne.data)){const Ke=mE(Q,r,n,k,s,Ce);if(Ke!==di)return Ke}ae=r[Q+8],ae!==La&&dg(s,r[Nr].data[Q+8]===Ce)&&cg(C,Q,r)?(k=Ne,Q=$l(ae),r=Vl(ae,r)):Q=-1}}return c}function mE(t,r,n,s,c,C){const k=r[Nr],Q=k.data[t+8],Ne=yc(Q,k,n,null==s?Zi(Q)&&Ch:s!=k&&!!(3&Q.type),c&mn.Host&&C===Q);return null!==Ne?na(r,k,Ne,Q):di}function yc(t,r,n,s,c){const C=t.providerIndexes,k=r.data,Q=1048575&C,ae=t.directiveStart,Ne=C>>20,St=c?Q+Ne:t.directiveEnd;for(let jt=s?Q:Q+Ne;jt<St;jt++){const Mt=k[jt];if(jt<ae&&n===Mt||jt>=ae&&Mt.type===n)return jt}if(c){const jt=k[ae];if(jt&&Ks(jt)&&jt.type===n)return ae}return null}function na(t,r,n,s){let c=t[n];const C=r.data;if(function aE(t){return t instanceof Bl}(c)){const k=c;k.resolving&&function Hu(t,r){throw r&&r.join(" > "),new Rr(-200,t)}(function An(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():an(t)}(C[n]));const Q=pc(k.canSeeViewProviders);k.resolving=!0;const Ce=k.injectImpl?Io(k.injectImpl):null;Xm(t,s,mn.Default);try{c=t[n]=k.factory(void 0,C,t,s),r.firstCreatePass&&n>=s.directiveStart&&function sE(t,r,n){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:C}=r.type.prototype;if(s){var k,Q;const Ke=Am(r);(null!==(k=n.preOrderHooks)&&void 0!==k?k:n.preOrderHooks=[]).push(t,Ke),(null!==(Q=n.preOrderCheckHooks)&&void 0!==Q?Q:n.preOrderCheckHooks=[]).push(t,Ke)}var ae,Ce,Ne;c&&(null!==(ae=n.preOrderHooks)&&void 0!==ae?ae:n.preOrderHooks=[]).push(0-t,c),C&&((null!==(Ce=n.preOrderHooks)&&void 0!==Ce?Ce:n.preOrderHooks=[]).push(t,C),(null!==(Ne=n.preOrderCheckHooks)&&void 0!==Ne?Ne:n.preOrderCheckHooks=[]).push(t,C))}(n,C[n],r)}finally{null!==Ce&&Io(Ce),pc(Q),k.resolving=!1,Jm()}}return c}function cg(t,r,n){return!!(n[r+(t>>og)]&1<<t)}function dg(t,r){return!(t&mn.Self||t&mn.Host&&r)}class Oo{constructor(r,n){this._tNode=r,this._lView=n}get(r,n,s){return lg(this._tNode,this._lView,r,Jn(s),n)}}function yE(){return new Oo(Hn(),Sr())}function hg(t){return Bn(()=>{const r=t.prototype.constructor,n=r[ks]||Th(r),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const C=c[ks]||Th(c);if(C&&C!==n)return C;c=Object.getPrototypeOf(c)}return C=>new C})}function Th(t){return Ho(t)?()=>{const r=Th(Hr(t));return r&&r()}:_i(t)}function fg(t){const r=t[Nr],n=r.type;return 2===n?r.declTNode:1===n?t[Xo]:null}function vc(t){return function pE(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const n=t.attrs;if(n){const s=n.length;let c=0;for(;c<s;){const C=n[c];if(qu(C))break;if(0===C)c+=2;else if("number"==typeof C)for(c++;c<s&&"string"==typeof n[c];)c++;else{if(C===r)return n[c+1];c+=2}}}return null}(Hn(),t)}function vg(t,r=null,n=null,s){const c=bg(t,r,n,s);return c.resolveInjectorInitializers(),c}function bg(t,r=null,n=null,s,c=new Set){const C=[n||Sn,Ml(t)];return s=s||("object"==typeof t?void 0:Xn(t)),new Ia(C,r||tc(),s||null,c)}class Bo{static create(r,n){if(Array.isArray(r))return vg({name:""},n,r,"");{var s;const c=null!==(s=r.name)&&void 0!==s?s:"";return vg({name:c},r.parent,r.providers,c)}}}(_n=Bo).THROW_IF_NOT_FOUND=ce,_n.NULL=new Wi,_n.\u0275prov=Lr({token:_n,providedIn:"any",factory:()=>Yr(Wu)}),_n.__NG_ELEMENT_ID__=-1,new $r("").__NG_ELEMENT_ID__=t=>{const r=Hn();if(null===r)throw new Rr(204,!1);if(2&r.type)return r.value;if(t&mn.Optional)return null;throw new Rr(204,!1)};function Mh(t){return t.ngOriginalError}let Gl=(()=>{var t;class r{}return(t=r).__NG_ELEMENT_ID__=AE,t.__NG_ENV_ID__=n=>n,r})();class TE extends Gl{constructor(r){super(),this._lView=r}onDestroy(r){return lc(this._lView,r),()=>function dh(t,r){if(null===t[Ri])return;const n=t[Ri].indexOf(r);-1!==n&&t[Ri].splice(n,1)}(this._lView,r)}}function AE(){return new TE(Sr())}let oa=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();const hi=class ME extends ot.B{constructor(r=!1){var n,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,_m()&&(this.destroyRef=null!==(n=kr(Gl,{optional:!0}))&&void 0!==n?n:void 0,this.pendingTasks=null!==(s=kr(oa,{optional:!0}))&&void 0!==s?s:void 0)}emit(r){const n=se(null);try{super.next(r)}finally{se(n)}}subscribe(r,n,s){let c=r,C=n||(()=>null),k=s;if(r&&"object"==typeof r){var Q,ae,Ce;const Ke=r;c=null===(Q=Ke.next)||void 0===Q?void 0:Q.bind(Ke),C=null===(ae=Ke.error)||void 0===ae?void 0:ae.bind(Ke),k=null===(Ce=Ke.complete)||void 0===Ce?void 0:Ce.bind(Ke)}this.__isAsync&&(C=this.wrapInTimeout(C),c&&(c=this.wrapInTimeout(c)),k&&(k=this.wrapInTimeout(k)));const Ne=super.subscribe({next:c,error:C,complete:k});return r instanceof at.yU&&r.add(Ne),Ne}wrapInTimeout(r){return n=>{var s;const c=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var C;r(n),void 0!==c&&(null===(C=this.pendingTasks)||void 0===C||C.remove(c))})}}};function _c(...t){}function wg(t){let r,n;function s(){t=_c;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),s()})),()=>s()}function Eg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class no{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),typeof Zone>"u")throw new Rr(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&n,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,function OE(t){const r=()=>{!function jE(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,Ih(t),t.isCheckStableRunning=!1})}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,c,C,k,Q)=>{if(function PE(t){return xg(t,"__ignore_ng_zone__")}(Q))return n.invokeTask(c,C,k,Q);try{return Sg(t),n.invokeTask(c,C,k,Q)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||t.shouldCoalesceRunChangeDetection)&&r(),Cg(t)}},onInvoke:(n,s,c,C,k,Q,ae)=>{try{return Sg(t),n.invoke(c,C,k,Q,ae)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function RE(t){return xg(t,"__scheduler_tick__")}(Q)&&r(),Cg(t)}},onHasTask:(n,s,c,C)=>{n.hasTask(c,C),s===c&&("microTask"==C.change?(t._hasPendingMicrotasks=C.microTask,jh(t),Ih(t)):"macroTask"==C.change&&(t.hasPendingMacrotasks=C.macroTask))},onHandleError:(n,s,c,C)=>(n.handleError(c,C),t.runOutsideAngular(()=>t.onError.emit(C)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Rr(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Rr(909,!1)}run(r,n,s){return this._inner.run(r,n,s)}runTask(r,n,s,c){const C=this._inner,k=C.scheduleEventTask("NgZoneEvent: "+c,r,IE,_c,_c);try{return C.runTask(k,n,s)}finally{C.cancelTask(k)}}runGuarded(r,n,s){return this._inner.runGuarded(r,n,s)}runOutsideAngular(r){return this._outer.run(r)}}const IE={};function Ih(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Sg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cg(t){t._nesting--,Ih(t)}class Oh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(r,n,s){return r.apply(n,s)}runGuarded(r,n,s){return r.apply(n,s)}runOutsideAngular(r){return r()}runTask(r,n,s,c){return r.apply(n,s)}}function xg(t,r){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0])||void 0===n||null===(n=n.data)||void 0===n?void 0:n[r])}class fi{constructor(){this._console=console}handleError(r){const n=this._findOriginalError(r);this._console.error("ERROR",r),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(r){let n=r&&Mh(r);for(;n&&Mh(n);)n=Mh(n);return n||null}}const NE=new $r("",{providedIn:"root",factory:()=>{const t=kr(no),r=kr(fi);return n=>t.runOutsideAngular(()=>r.handleError(n))}});function LE(){return Ba(Hn(),Sr())}function Ba(t,r){return new Hl(ss(t,r))}let Hl=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=LE,r})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FE(){return this._results[Symbol.iterator]()}class Ph{get changes(){var r;return null!==(r=this._changes)&&void 0!==r?r:this._changes=new hi}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Ph.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=FE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,n){return this._results.reduce(r,n)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,n){this.dirty=!1;const s=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Vd(t,r,n){if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],C=r[s];if(n&&(c=n(c),C=n(C)),C!==c)return!1}return!0}(this._results,s,n))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){var r;this.dirty=!0,null===(r=this._onDirty)||void 0===r||r.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const Rh=new Map;let BE=0;const Sc="__ngContext__";function Qo(t,r){Uo(r)?(t[Sc]=r[ka],function VE(t){Rh.set(t[ka],t)}(r)):t[Sc]=r}function Lg(t){return Ug(t[jl])}function Fg(t){return Ug(t[qs])}function Ug(t){for(;null!==t&&!Zo(t);)t=t[qs];return t}let Nh;function sS(t){Nh=t}const xc=new $r("",{providedIn:"root",factory:()=>iS}),iS="ng",Xg=new $r(""),Lh=new $r("",{providedIn:"platform",factory:()=>"unknown"}),aS=new $r("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ki(){if(void 0!==Nh)return Nh;if(typeof document<"u")return document;throw new Rr(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let qg=()=>null;function Vh(t,r,n=!1){return qg(t,r,n)}const ry=new $r("",{providedIn:"root",factory:()=>!1});let Oc,Pc;function Wa(t){var r;return(null===(r=function Xh(){if(void 0===Oc&&(Oc=null,zn.trustedTypes))try{Oc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oc}())||void 0===r?void 0:r.createHTML(t))||t}function ay(t){var r;return(null===(r=function qh(){if(void 0===Pc&&(Pc=null,zn.trustedTypes))try{Pc=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===r?void 0:r.createScriptURL(t))||t}class sa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kn})`}}class wS extends sa{getTypeName(){return"HTML"}}class ES extends sa{getTypeName(){return"Style"}}class SS extends sa{getTypeName(){return"Script"}}class CS extends sa{getTypeName(){return"URL"}}class xS extends sa{getTypeName(){return"ResourceURL"}}function Ti(t){return t instanceof sa?t.changingThisBreaksApplicationSecurity:t}function Xa(t,r){const n=function DS(t){return t instanceof sa&&t.getTypeName()||null}(t);if(null!=n&&n!==r){if("ResourceURL"===n&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${n} (see ${kn})`)}return n===r}function TS(t){return new wS(t)}function AS(t){return new ES(t)}function MS(t){return new SS(t)}function IS(t){return new CS(t)}function jS(t){return new xS(t)}class OS{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const n=(new window.DOMParser).parseFromString(Wa(r),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(r):(n.removeChild(n.firstChild),n)}catch{return null}}}class PS{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const n=this.inertDocument.createElement("template");return n.innerHTML=Wa(r),n}}const kS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(kS)?t:"unsafe:"+t}function Ai(t){const r={};for(const n of t.split(","))r[n]=!0;return r}function Ql(...t){const r={};for(const n of t)for(const s in n)n.hasOwnProperty(s)&&(r[s]=!0);return r}const uy=Ai("area,br,col,hr,img,wbr"),cy=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=Ai("rp,rt"),Kh=Ql(uy,Ql(cy,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(dy,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(dy,cy)),Yh=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Ql(Yh,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NS=Ai("script,style,template");class LS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let n=r.firstChild,s=!0,c=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)c.push(n),n=BS(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let C=US(n);if(C){n=C;break}n=c.pop()}return this.buf.join("")}startElement(r){const n=fy(r).toLowerCase();if(!Kh.hasOwnProperty(n))return this.sanitizedSomething=!0,!NS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=r.attributes;for(let c=0;c<s.length;c++){const C=s.item(c),k=C.name,Q=k.toLowerCase();if(!hy.hasOwnProperty(Q)){this.sanitizedSomething=!0;continue}let ae=C.value;Yh[Q]&&(ae=Rc(ae)),this.buf.push(" ",k,'="',my(ae),'"')}return this.buf.push(">"),!0}endElement(r){const n=fy(r).toLowerCase();Kh.hasOwnProperty(n)&&!uy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(r){this.buf.push(my(r))}}function US(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw py(r);return r}function BS(t){const r=t.firstChild;if(r&&function FS(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw py(r);return r}function fy(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VS=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($S,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(VS,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kc;function gy(t,r){let n=null;try{kc=kc||function ly(t){const r=new PS(t);return function RS(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new OS(r):r}(t);let s=r?String(r):"";n=kc.getInertBodyElement(s);let c=5,C=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=C,C=n.innerHTML,n=kc.getInertBodyElement(s)}while(s!==C);return Wa((new LS).sanitizeChildren(Jh(n)||n))}finally{if(n){const s=Jh(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Jh(t){return"content"in t&&function GS(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ia=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ia||{});function Zh(t){const r=eu();return r?r.sanitize(ia.URL,t)||"":Xa(t,"URL")?Ti(t):Rc(an(t))}function yy(t){const r=eu();if(r)return ay(r.sanitize(ia.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ti(t));throw new Rr(904,!1)}function vy(t,r,n){return function KS(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?yy:Zh}(r,n)(t)}function eu(){const t=Sr();return t&&t[ii].sanitizer}const YS=/^>|^->|<!--|-->|--!>|<!-$/g,JS=/(<|>)/g,ZS="\u200b$1\u200b";function Ds(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let tf;function rf(t,r){return tf(t,r)}function Ka(t,r,n,s,c){if(null!=s){let C,k=!1;Zo(s)?C=s:Uo(s)&&(k=!0,s=s[io]);const Q=jn(s);0===t&&null!==n?null==c?jy(r,n,Q):aa(r,n,Q,c||null,!0):1===t&&null!==n?aa(r,n,Q,c||null,!0):2===t?function ru(t,r,n){const s=$c(t,r);s&&function gC(t,r,n,s){t.removeChild(r,n,s)}(t,s,r,n)}(r,Q,k):3===t&&r.destroyNode(Q),null!=C&&function bC(t,r,n,s,c){const C=n[li];C!==jn(n)&&Ka(r,t,s,C,c);for(let Q=yo;Q<n.length;Q++){const ae=n[Q];Gc(ae[Nr],ae,t,r,s,C)}}(r,t,C,n,c)}}function sf(t,r){return t.createComment(function by(t){return t.replace(YS,r=>r.replace(JS,ZS))}(r))}function Uc(t,r,n){return t.createElement(r,n)}function Ay(t,r){var n;null===(n=r[ii].changeDetectionScheduler)||void 0===n||n.notify(8),Gc(t,r,r[ln],2,null,null)}function My(t,r){const n=t[Na],s=r[xo];(Uo(s)||r[ao]!==s[xo][ao])&&(t[en]|=sc.HasTransplantedViews),null===n?t[Na]=[r]:n.push(r)}function af(t,r){const n=t[Na],s=n.indexOf(r);n.splice(s,1)}function tu(t,r){if(t.length<=yo)return;const n=yo+r,s=t[n];if(s){const c=s[Ji];null!==c&&c!==t&&af(c,s),r>0&&(t[n-1][qs]=s[qs]);const C=Ta(t,yo+r);!function cC(t,r){Ay(t,r),r[io]=null,r[Xo]=null}(s[Nr],s);const k=C[ai];null!==k&&k.detachView(C[Nr]),s[xo]=null,s[qs]=null,s[en]&=-129}return s}function Bc(t,r){if(!(256&r[en])){const n=r[ln];n.destroyNode&&Gc(t,r,n,3,null,null),function hC(t){let r=t[jl];if(!r)return lf(t[Nr],t);for(;r;){let n=null;if(Uo(r))n=r[jl];else{const s=r[yo];s&&(n=s)}if(!n){for(;r&&!r[qs]&&r!==t;)Uo(r)&&lf(r[Nr],r),r=r[xo];null===r&&(r=t),Uo(r)&&lf(r[Nr],r),n=r&&r[qs]}r=n}}(r)}}function lf(t,r){if(256&r[en])return;const n=se(null);try{r[en]&=-129,r[en]|=256,r[Us]&&m(r[Us]),function mC(t,r){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const c=r[n[s]];if(!(c instanceof Bl)){const C=n[s+1];if(Array.isArray(C))for(let k=0;k<C.length;k+=2){const Q=c[C[k]],ae=C[k+1];ui(4,Q,ae);try{ae.call(Q)}finally{ui(5,Q,ae)}}else{ui(4,c,C);try{C.call(c)}finally{ui(5,c,C)}}}}}(t,r),function pC(t,r){const n=t.cleanup,s=r[Yi];if(null!==n)for(let C=0;C<n.length-1;C+=2)if("string"==typeof n[C]){const k=n[C+3];k>=0?s[k]():s[-k].unsubscribe(),C+=2}else n[C].call(s[n[C+1]]);null!==s&&(r[Yi]=null);const c=r[Ri];if(null!==c){r[Ri]=null;for(let C=0;C<c.length;C++)(0,c[C])()}}(t,r),1===r[Nr].type&&r[ln].destroy();const s=r[Ji];if(null!==s&&Zo(r[xo])){s!==r[xo]&&af(s,r);const c=r[ai];null!==c&&c.detachView(t)}!function GE(t){Rh.delete(t[ka])}(r)}finally{se(n)}}function uf(t,r,n){return function Iy(t,r,n){let s=r;for(;null!==s&&168&s.type;)s=(r=s).parent;if(null===s)return n[io];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:C}=t.data[s.directiveStart+c];if(C===wi.None||C===wi.Emulated)return null}return ss(s,n)}}(t,r.parent,n)}function aa(t,r,n,s,c){t.insertBefore(r,n,s,c)}function jy(t,r,n){t.appendChild(r,n)}function Oy(t,r,n,s,c){null!==s?aa(t,r,n,s,c):jy(t,r,n)}function $c(t,r){return t.parentNode(r)}function Py(t,r,n){return ky(t,r,n)}let cf,ky=function Ry(t,r,n){return 40&t.type?ss(t,n):null};function Vc(t,r,n,s){const c=uf(t,s,r),C=r[ln],Q=Py(s.parent||r[Xo],s,r);if(null!=c)if(Array.isArray(n))for(let ae=0;ae<n.length;ae++)Oy(C,c,n[ae],Q,!1);else Oy(C,c,n,Q,!1);void 0!==cf&&cf(C,s,r,n,c)}function la(t,r){if(null!==r){const n=r.type;if(3&n)return ss(r,t);if(4&n)return df(-1,t[r.index]);if(8&n){const s=r.child;if(null!==s)return la(t,s);{const c=t[r.index];return Zo(c)?df(-1,c):jn(c)}}if(128&n)return la(t,r.next);if(32&n)return rf(r,t)()||jn(t[r.index]);{const s=Ly(t,r);return null!==s?Array.isArray(s)?s[0]:la(Ci(t[ao]),s):la(t,r.next)}}return null}function Ly(t,r){return null!==r?t[ao][Xo].projection[r.projection]:null}function df(t,r){const n=yo+t+1;if(n<r.length){const s=r[n],c=s[Nr].firstChild;if(null!==c)return la(s,c)}return r[li]}function hf(t,r,n,s,c,C,k){for(;null!=n;){if(128===n.type){n=n.next;continue}const Q=s[n.index],ae=n.type;if(k&&0===r&&(Q&&Qo(jn(Q),s),n.flags|=2),32&~n.flags)if(8&ae)hf(t,r,n.child,s,c,C,!1),Ka(r,t,c,Q,C);else if(32&ae){const Ce=rf(n,s);let Ne;for(;Ne=Ce();)Ka(r,t,c,Ne,C);Ka(r,t,c,Q,C)}else 16&ae?Uy(t,r,s,n,c,C):Ka(r,t,c,Q,C);n=k?n.projectionNext:n.next}}function Gc(t,r,n,s,c,C){hf(n,s,t.firstChild,r,c,C,!1)}function Uy(t,r,n,s,c,C){const k=n[ao],ae=k[Xo].projection[s.projection];if(Array.isArray(ae))for(let Ce=0;Ce<ae.length;Ce++)Ka(r,t,c,ae[Ce],C);else{let Ce=ae;const Ne=k[xo];wc(s)&&(Ce.flags|=128),hf(t,r,Ce,Ne,c,C,!0)}}function By(t,r,n){""===n?t.removeAttribute(r,"class"):t.setAttribute(r,"class",n)}function $y(t,r,n){const{mergedAttrs:s,classes:c,styles:C}=n;null!==s&&Tl(t,r,s),null!==c&&By(t,r,c),null!==C&&function wC(t,r,n){t.setAttribute(r,"style",n)}(t,r,C)}const cn={};function Vy(t=1){Gy(gn(),Sr(),qo()+t,!1)}function Gy(t,r,n,s){if(!s)if(3&~r[en]){const C=t.preOrderHooks;null!==C&&fc(r,C,0,n)}else{const C=t.preOrderCheckHooks;null!==C&&hc(r,C,n)}ta(n)}function Ya(t,r=mn.Default){const n=Sr();return null===n?Yr(t,r):lg(Hn(),n,Hr(t),r)}function Hy(){throw new Error("invalid")}function zy(t,r,n,s,c,C){const k=se(null);try{let Q=null;c&Ei.SignalBased&&(Q=r[s][o]),null!==Q&&void 0!==Q.transformFn&&(C=Q.transformFn(C)),c&Ei.HasDecoratorInputTransform&&(C=t.inputTransforms[s].call(r,C)),null!==t.setInput?t.setInput(r,Q,C,n,s):Tm(r,Q,s,C)}finally{se(k)}}function Hc(t,r,n,s,c,C,k,Q,ae,Ce,Ne){const Ke=r.blueprint.slice();return Ke[io]=c,Ke[en]=204|s,(null!==Ce||t&&2048&t[en])&&(Ke[en]|=2048),Pm(Ke),Ke[xo]=Ke[Pa]=t,Ke[Zn]=n,Ke[ii]=k||t&&t[ii],Ke[ln]=Q||t&&t[ln],Ke[Do]=ae||t&&t[Do]||null,Ke[Xo]=C,Ke[ka]=function $E(){return BE++}(),Ke[os]=Ne,Ke[Sm]=Ce,Ke[ao]=2==r.type?t[ao]:Ke,Ke}function ua(t,r,n,s,c){let C=t.data[r];if(null===C)C=function ff(t,r,n,s,c){const C=Bm(),k=fh(),ae=t.data[r]=function MC(t,r,n,s,c,C){let k=r?r.injectorIndex:-1,Q=0;return ea()&&(Q|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:k,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Q,providerIndexes:0,value:c,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?C:C&&C.parent,n,r,s,c);return null===t.firstChild&&(t.firstChild=ae),null!==C&&(k?null==C.child&&null!==ae.parent&&(C.child=ae):null===C.next&&(C.next=ae,ae.prev=C)),ae}(t,r,n,s,c),function Yw(){return un.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=n,C.value=s,C.attrs=c;const k=function Fl(){const t=un.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();C.injectorIndex=null===k?-1:k.injectorIndex}return Ys(C,!0),C}function nu(t,r,n,s){if(0===n)return-1;const c=r.length;for(let C=0;C<n;C++)r.push(s),t.blueprint.push(s),t.data.push(null);return c}function Wy(t,r,n,s,c){const C=qo(),k=2&s;try{ta(-1),k&&r.length>Zr&&Gy(t,r,Zr,!1),ui(k?2:0,c),n(s,c)}finally{ta(C),ui(k?3:1,c)}}function pf(t,r,n){if(nh(r)){const s=se(null);try{const C=r.directiveEnd;for(let k=r.directiveStart;k<C;k++){const Q=t.data[k];Q.contentQueries&&Q.contentQueries(1,n[k],k)}}finally{se(s)}}}function mf(t,r,n){Lm()&&(function NC(t,r,n,s){const c=n.directiveStart,C=n.directiveEnd;Zi(n)&&function GC(t,r,n){const s=ss(r,t),c=Xy(n);let k=16;n.signals?k=4096:n.onPush&&(k=64);const Q=zc(t,Hc(t,c,null,k,s,r,null,t[ii].rendererFactory.createRenderer(s,n),null,null,null));t[r.index]=Q}(r,n,t.data[c+n.componentOffset]),t.firstCreatePass||mc(n,r),Qo(s,r);const k=n.initialInputs;for(let Q=c;Q<C;Q++){const ae=t.data[Q],Ce=na(r,t,Q,n);Qo(Ce,r),null!==k&&HC(0,Q-c,Ce,ae,0,k),Ks(ae)&&(xs(n.index,r)[Zn]=na(r,t,Q,n))}}(t,r,n,ss(n,r)),!(64&~n.flags)&&Zy(t,r,n))}function gf(t,r,n=ss){const s=r.localNames;if(null!==s){let c=r.index+1;for(let C=0;C<s.length;C+=2){const k=s[C+1],Q=-1===k?n(r,t):t[k];t[c++]=Q}}}function Xy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=yf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function yf(t,r,n,s,c,C,k,Q,ae,Ce,Ne){const Ke=Zr+s,St=Ke+c,jt=function SC(t,r){const n=[];for(let s=0;s<r;s++)n.push(s<t?null:cn);return n}(Ke,St),Mt="function"==typeof Ce?Ce():Ce;return jt[Nr]={type:t,blueprint:jt,template:n,queries:null,viewQuery:Q,declTNode:r,data:jt.slice().fill(null,Ke),bindingStartIndex:Ke,expandoStartIndex:St,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:ae,consts:Mt,incompleteFirstPass:!1,ssrId:Ne}}let qy=()=>null;function Ky(t,r,n,s,c){for(let k in r){var C;if(!r.hasOwnProperty(k))continue;const Q=r[k];if(void 0===Q)continue;null!==(C=s)&&void 0!==C||(s={});let ae,Ce=Ei.None;Array.isArray(Q)?(ae=Q[0],Ce=Q[1]):ae=Q;let Ne=k;if(null!==c){if(!c.hasOwnProperty(k))continue;Ne=c[k]}0===t?Yy(s,n,Ne,ae,Ce):Yy(s,n,Ne,ae)}return s}function Yy(t,r,n,s,c){let C;t.hasOwnProperty(n)?(C=t[n]).push(r,s):C=t[n]=[r,s],void 0!==c&&C.push(c)}function gs(t,r,n,s,c,C,k,Q){const ae=ss(r,n);let Ne,Ce=r.inputs;!Q&&null!=Ce&&(Ne=Ce[s])?(Ef(t,n,Ne,s,c),Zi(r)&&function OC(t,r){const n=xs(r,t);16&n[en]||(n[en]|=64)}(n,r.index)):3&r.type&&(s=function jC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=k?k(c,r.value||"",s):c,C.setProperty(ae,s,c))}function vf(t,r,n,s){if(Lm()){const c=null===s?null:{"":-1},C=function FC(t,r){const n=t.directiveRegistry;let s=null,c=null;if(n)for(let k=0;k<n.length;k++){const Q=n[k];if(Zu(r,Q.selectors,!1))if(s||(s=[]),Ks(Q))if(null!==Q.findHostDirectiveDefs){const ae=[];c=c||new Map,Q.findHostDirectiveDefs(Q,ae,c),s.unshift(...ae,Q),bf(t,r,ae.length)}else s.unshift(Q),bf(t,r,0);else{var C;c=c||new Map,null===(C=Q.findHostDirectiveDefs)||void 0===C||C.call(Q,Q,s,c),s.push(Q)}}return null===s?null:[s,c]}(t,n);let k,Q;null===C?k=Q=null:[k,Q]=C,null!==k&&Jy(t,r,n,k,c,Q),c&&function UC(t,r,n){if(r){const s=t.localNames=[];for(let c=0;c<r.length;c+=2){const C=n[r[c+1]];if(null==C)throw new Rr(-301,!1);s.push(r[c],C)}}}(n,s,c)}n.mergedAttrs=Pi(n.mergedAttrs,n.attrs)}function Jy(t,r,n,s,c,C){for(let Ke=0;Ke<s.length;Ke++)Dh(mc(n,r),t,s[Ke].type);!function $C(t,r,n){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+n,t.providerIndexes=r}(n,t.data.length,s.length);for(let Ke=0;Ke<s.length;Ke++){const St=s[Ke];St.providersResolver&&St.providersResolver(St)}let k=!1,Q=!1,ae=nu(t,r,s.length,null);for(let Ke=0;Ke<s.length;Ke++){const St=s[Ke];n.mergedAttrs=Pi(n.mergedAttrs,St.hostAttrs),VC(t,n,r,ae,St),BC(ae,St,c),null!==St.contentQueries&&(n.flags|=4),(null!==St.hostBindings||null!==St.hostAttrs||0!==St.hostVars)&&(n.flags|=64);const jt=St.type.prototype;var Ce,Ne;!k&&(jt.ngOnChanges||jt.ngOnInit||jt.ngDoCheck)&&((null!==(Ce=t.preOrderHooks)&&void 0!==Ce?Ce:t.preOrderHooks=[]).push(n.index),k=!0),Q||!jt.ngOnChanges&&!jt.ngDoCheck||((null!==(Ne=t.preOrderCheckHooks)&&void 0!==Ne?Ne:t.preOrderCheckHooks=[]).push(n.index),Q=!0),ae++}!function IC(t,r,n){const c=r.directiveEnd,C=t.data,k=r.attrs,Q=[];let ae=null,Ce=null;for(let Ne=r.directiveStart;Ne<c;Ne++){const Ke=C[Ne],St=n?n.get(Ke):null,Mt=St?St.outputs:null;ae=Ky(0,Ke.inputs,Ne,ae,St?St.inputs:null),Ce=Ky(1,Ke.outputs,Ne,Ce,Mt);const dr=null===ae||null===k||Al(r)?null:zC(ae,Ne,k);Q.push(dr)}null!==ae&&(ae.hasOwnProperty("class")&&(r.flags|=8),ae.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=Q,r.inputs=ae,r.outputs=Ce}(t,n,C)}function Zy(t,r,n){const s=n.directiveStart,c=n.directiveEnd,C=n.index,k=function Zw(){return un.lFrame.currentDirectiveIndex}();try{ta(C);for(let Q=s;Q<c;Q++){const ae=t.data[Q],Ce=r[Q];mh(Q),(null!==ae.hostBindings||0!==ae.hostVars||null!==ae.hostAttrs)&&LC(ae,Ce)}}finally{ta(-1),mh(k)}}function LC(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function bf(t,r,n){var s;r.componentOffset=n,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(r.index)}function BC(t,r,n){if(n){if(r.exportAs)for(let s=0;s<r.exportAs.length;s++)n[r.exportAs[s]]=t;Ks(r)&&(n[""]=t)}}function VC(t,r,n,s,c){t.data[s]=c;const C=c.factory||(c.factory=_i(c.type)),k=new Bl(C,Ks(c),Ya);t.blueprint[s]=k,n[s]=k,function RC(t,r,n,s,c){const C=c.hostBindings;if(C){let k=t.hostBindingOpCodes;null===k&&(k=t.hostBindingOpCodes=[]);const Q=~r.index;(function kC(t){let r=t.length;for(;r>0;){const n=t[--r];if("number"==typeof n&&n<0)return n}return 0})(k)!=Q&&k.push(Q),k.push(n,s,C)}}(t,r,s,nu(t,n,c.hostVars,cn),c)}function pi(t,r,n,s,c,C){const k=ss(t,r);!function _f(t,r,n,s,c,C,k){if(null==C)t.removeAttribute(r,c,n);else{const Q=null==k?an(C):k(C,s||"",c);t.setAttribute(r,c,Q,n)}}(r[ln],k,C,t.value,n,s,c)}function HC(t,r,n,s,c,C){const k=C[r];if(null!==k)for(let Q=0;Q<k.length;)zy(s,n,k[Q++],k[Q++],k[Q++],k[Q++])}function zC(t,r,n){let s=null,c=0;for(;c<n.length;){const C=n[c];if(0!==C)if(5!==C){if("number"==typeof C)break;if(t.hasOwnProperty(C)){null===s&&(s=[]);const k=t[C];for(let Q=0;Q<k.length;Q+=3)if(k[Q]===r){s.push(C,k[Q+1],k[Q+2],n[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function Qy(t,r,n,s){return[t,!0,0,r,null,s,null,n,null,null]}function ev(t,r){const n=t.contentQueries;if(null!==n){const s=se(null);try{for(let c=0;c<n.length;c+=2){const k=n[c+1];if(-1!==k){const Q=t.data[k];cc(n[c]),Q.contentQueries(2,r[k],k)}}}finally{se(s)}}}function zc(t,r){return t[jl]?t[Em][qs]=r:t[jl]=r,t[Em]=r,r}function wf(t,r,n){cc(0);const s=se(null);try{r(t,n)}finally{se(s)}}function tv(t){var r;return null!==(r=t[Yi])&&void 0!==r?r:t[Yi]=[]}function rv(t){var r;return null!==(r=t.cleanup)&&void 0!==r?r:t.cleanup=[]}function Wc(t,r){const n=t[Do],s=n?n.get(fi,null):null;s&&s.handleError(r)}function Ef(t,r,n,s,c){for(let C=0;C<n.length;){const k=n[C++],Q=n[C++],ae=n[C++];zy(t.data[k],r[k],s,Q,ae,c)}}function Mi(t,r,n){const s=kl(r,t);!function Ty(t,r,n){t.setValue(r,n)}(t[ln],s,n)}function WC(t,r){const n=xs(r,t),s=n[Nr];!function XC(t,r){for(let n=r.length;n<t.blueprint.length;n++)r.push(t.blueprint[n])}(s,n);const c=n[io];null!==c&&null===n[os]&&(n[os]=Vh(c,n[Do])),Sf(s,n,n[Zn])}function Sf(t,r,n){vh(r);try{var s;const c=t.viewQuery;null!==c&&wf(1,c,n);const C=t.template;null!==C&&Wy(t,r,C,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=r[ai])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&ev(t,r),t.staticViewQueries&&wf(2,t.viewQuery,n);const k=t.components;null!==k&&function qC(t,r){for(let n=0;n<r.length;n++)WC(t,r[n])}(r,k)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[en]&=-5,bh()}}function Ja(t,r,n,s){const c=se(null);try{var C,k,Q;const ae=r.tView,Ke=Hc(t,ae,n,4096&t[en]?4096:16,null,r,null,null,null!==(C=null==s?void 0:s.injector)&&void 0!==C?C:null,null!==(k=null==s?void 0:s.embeddedViewInjector)&&void 0!==k?k:null,null!==(Q=null==s?void 0:s.dehydratedView)&&void 0!==Q?Q:null);Ke[Ji]=t[r.index];const jt=t[ai];return null!==jt&&(Ke[ai]=jt.createEmbeddedView(ae)),Sf(ae,Ke,n),Ke}finally{se(c)}}function ca(t,r){return!r||null===r.firstChild||wc(t)}function Za(t,r,n,s=!0){const c=r[Nr];if(function fC(t,r,n,s){const c=yo+s,C=n.length;s>0&&(n[c-1][qs]=r),s<C-yo?(r[qs]=n[c],Gd(n,yo+s,r)):(n.push(r),r[qs]=null),r[xo]=n;const k=r[Ji];null!==k&&n!==k&&My(k,r);const Q=r[ai];null!==Q&&Q.insertView(t),ch(r),r[en]|=128}(c,r,t,n),s){const k=df(n,t),Q=r[ln],ae=$c(Q,t[li]);null!==ae&&function dC(t,r,n,s,c,C){s[io]=c,s[Xo]=r,Gc(t,s,n,1,c,C)}(c,t[Xo],Q,r,ae,k)}const C=r[os];null!==C&&null!==C.firstChild&&(C.firstChild=null)}function ou(t,r,n,s,c=!1){for(;null!==n;){if(128===n.type){n=c?n.projectionNext:n.next;continue}const C=r[n.index];null!==C&&s.push(jn(C)),Zo(C)&&sv(C,s);const k=n.type;if(8&k)ou(t,r,n.child,s);else if(32&k){const Q=rf(n,r);let ae;for(;ae=Q();)s.push(ae)}else if(16&k){const Q=Ly(r,n);if(Array.isArray(Q))s.push(...Q);else{const ae=Ci(r[ao]);ou(ae[Nr],ae,Q,s,!0)}}n=c?n.projectionNext:n.next}return s}function sv(t,r){for(let n=yo;n<t.length;n++){const s=t[n],c=s[Nr].firstChild;null!==c&&ou(s[Nr],s,c,r)}t[li]!==t[io]&&r.push(t[li])}let iv=[];const ZC={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Us]=this}},ex={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let r=Ci(t.lView);for(;r&&!av(r[Nr]);)r=Ci(r);r&&Rm(r)},consumerOnSignalRead(){this.lView[Us]=this}};function av(t){return 2!==t.type}const tx=100;function Xc(t,r=!0,n=0){const s=t[ii],c=s.rendererFactory;var k;null===(k=c.begin)||void 0===k||k.call(c);try{!function rx(t,r){const n=Gm();try{Hm(!0),xf(t,r);let s=0;for(;Ll(t);){if(s===tx)throw new Rr(103,!1);s++,xf(t,1)}}finally{Hm(n)}}(t,n)}catch(Ce){throw r&&Wc(t,Ce),Ce}finally{var Q,ae;null===(Q=c.end)||void 0===Q||Q.call(c),null===(ae=s.inlineEffectRunner)||void 0===ae||ae.flush()}}function nx(t,r,n,s){var c;const C=r[en];if(!(256&~C))return;null===(c=r[ii].inlineEffectRunner)||void 0===c||c.flush(),vh(r);let ae=!0,Ce=null,Ne=null;av(t)?(Ne=function KC(t){var r;return null!==(r=t[Us])&&void 0!==r?r:function YC(t){var r;const n=null!==(r=iv.pop())&&void 0!==r?r:Object.create(ZC);return n.lView=t,n}(t)}(r),Ce=u(Ne)):null===function $(){return T}()?(ae=!1,Ne=function QC(t){var r;const n=null!==(r=t[Us])&&void 0!==r?r:Object.create(ex);return n.lView=t,n}(r),Ce=u(Ne)):r[Us]&&(m(r[Us]),r[Us]=null);try{Pm(r),function zm(t){return un.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Wy(t,r,n,2,s);const Ke=!(3&~C);if(Ke){const Mt=t.preOrderCheckHooks;null!==Mt&&hc(r,Mt,null)}else{const Mt=t.preOrderHooks;null!==Mt&&fc(r,Mt,0,null),_h(r,0)}if(function ox(t){for(let r=Lg(t);null!==r;r=Fg(r)){if(!(r[en]&sc.HasTransplantedViews))continue;const n=r[Na];for(let s=0;s<n.length;s++)Rm(n[s])}}(r),uv(r,0),null!==t.contentQueries&&ev(t,r),Ke){const Mt=t.contentCheckHooks;null!==Mt&&hc(r,Mt)}else{const Mt=t.contentHooks;null!==Mt&&fc(r,Mt,1),_h(r,1)}!function EC(t,r){const n=t.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const c=n[s];if(c<0)ta(~c);else{const C=c,k=n[++s],Q=n[++s];Jw(k,C),Q(2,r[C])}}}finally{ta(-1)}}(t,r);const St=t.components;null!==St&&dv(r,St,0);const jt=t.viewQuery;if(null!==jt&&wf(2,jt,s),Ke){const Mt=t.viewCheckHooks;null!==Mt&&hc(r,Mt)}else{const Mt=t.viewHooks;null!==Mt&&fc(r,Mt,2),_h(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Ol]){for(const Mt of r[Ol])Mt();r[Ol]=null}r[en]&=-73}catch(Ke){throw ac(r),Ke}finally{null!==Ne&&(d(Ne,Ce),ae&&function JC(t){t.lView[Us]!==t&&(t.lView=null,iv.push(t))}(Ne)),bh()}}function uv(t,r){for(let n=Lg(t);null!==n;n=Fg(n))for(let s=yo;s<n.length;s++)cv(n[s],r)}function sx(t,r,n){cv(xs(r,t),n)}function cv(t,r){uh(t)&&xf(t,r)}function xf(t,r){const s=t[Nr],c=t[en],C=t[Us];let k=!!(0===r&&16&c);if(k||(k=!!(64&c&&0===r)),k||(k=!!(1024&c)),k||(k=!(null==C||!C.dirty||!h(C))),k||(k=!1),C&&(C.dirty=!1),t[en]&=-9217,k)nx(s,t,s.template,t[Zn]);else if(8192&c){uv(t,1);const Q=s.components;null!==Q&&dv(t,Q,1)}}function dv(t,r,n){for(let s=0;s<r.length;s++)sx(t,r[s],n)}function su(t,r){var n;const s=Gm()?64:1088;for(null===(n=t[ii].changeDetectionScheduler)||void 0===n||n.notify(r);t;){t[en]|=s;const c=Ci(t);if(Rl(t)&&!c)return t;t=c}return null}class iu{get rootNodes(){const r=this._lView,n=r[Nr];return ou(n,r,n.firstChild,[])}constructor(r,n,s=!0){this._lView=r,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(r){this._lView[Zn]=r}get destroyed(){return!(256&~this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[xo];if(Zo(r)){const n=r[8],s=n?n.indexOf(this):-1;s>-1&&(tu(r,s),Ta(n,s))}this._attachedToViewContainer=!1}Bc(this._lView[Nr],this._lView)}onDestroy(r){lc(this._lView,r)}markForCheck(){su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[en]&=-129}reattach(){ch(this._lView),this._lView[en]|=128}detectChanges(){this._lView[en]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Rr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=Rl(this._lView),n=this._lView[Ji];null!==n&&!r&&af(n,this._lView),Ay(this._lView[Nr],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Rr(902,!1);this._appRef=r;const n=Rl(this._lView),s=this._lView[Ji];null!==s&&!n&&My(s,this._lView),ch(this._lView)}}let au=(()=>{class r{}return r.__NG_ELEMENT_ID__=lx,r})();const ix=au,ax=class extends ix{constructor(r,n,s){super(),this._declarationLView=r,this._declarationTContainer=n,this.elementRef=s}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,n){return this.createEmbeddedViewImpl(r,n)}createEmbeddedViewImpl(r,n,s){const c=Ja(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:n,dehydratedView:s});return new iu(c)}};function lx(){return qc(Hn(),Sr())}function qc(t,r){return 4&t.type?new ax(r,t,Ba(t,r)):null}let Ov=()=>null;function ha(t,r){return Ov(t,r)}class el{}const mu=new $r("",{providedIn:"root",factory:()=>!1}),Pv=new $r("");class eD{}class Rv{}class rD{resolveComponentFactory(r){throw function tD(t){const r=Error(`No component factory found for ${Xn(t)}.`);return r.ngComponent=t,r}(r)}}class gu{}gu.NULL=new rD;class Nf{}let nD=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function oD(){const t=Sr(),n=xs(Hn().index,t);return(Uo(n)?n:t)[ln]}(),r})(),sD=(()=>{var t;class r{}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>null}),r})();const Nv=new Set;function as(t){var r,n;Nv.has(t)||(Nv.add(t),null===(r=performance)||void 0===r||null===(n=r.mark)||void 0===n||n.call(r,"mark_feature_usage",{detail:{feature:t}}))}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{});const Lv={destroy(){}};function Fv(t,r){var n,s;!r&&function rc(t){if(!_m())throw new Rr(-203,!1)}();const c=null!==(n=null==r?void 0:r.injector)&&void 0!==n?n:kr(Bo);return function ms(t){return"browser"===(null!=t?t:kr(Bo)).get(Lh)}(c)?(as("NgAfterNextRender"),function Uv(t,r,n,s){var c;const C=function aD(t,r){if(t instanceof Function)switch(r){case ls.EarlyRead:return{earlyRead:t};case ls.Write:return{write:t};case ls.MixedReadWrite:return{mixedReadWrite:t};case ls.Read:return{read:t}}return t}(t,s),k=r.get(ed),Q=null!==(c=k.handler)&&void 0!==c?c:k.handler=new uD,ae=[],Ce=[],Ne=()=>{for(const Mt of Ce)Q.unregister(Mt);Ke()},Ke=r.get(Gl).onDestroy(Ne);let St=0;const jt=(Mt,dr)=>{if(!dr)return;const Ar=n?(...yr)=>(St--,St<1&&Ne(),dr(...yr)):dr,jr=bm(r,()=>new lD(Mt,ae,Ar));Q.register(jr),Ce.push(jr),St++};return jt(ls.EarlyRead,C.earlyRead),jt(ls.Write,C.write),jt(ls.MixedReadWrite,C.mixedReadWrite),jt(ls.Read,C.read),{destroy:Ne}}(t,c,!0,null!==(s=null==r?void 0:r.phase)&&void 0!==s?s:ls.MixedReadWrite)):Lv}class lD{constructor(r,n,s){var c;this.phase=r,this.pipelinedArgs=n,this.callbackFn=s,this.zone=kr(no),this.errorHandler=kr(fi,{optional:!0}),null===(c=kr(el,{optional:!0}))||void 0===c||c.notify(6)}invoke(){try{const n=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,n)}catch(n){var r;null===(r=this.errorHandler)||void 0===r||r.handleError(n)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[ls.EarlyRead]:new Set,[ls.Write]:new Set,[ls.MixedReadWrite]:new Set,[ls.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const n of r)n.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var s;this.executeInternalCallbacks(),null===(s=this.handler)||void 0===s||s.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of s)c()}ngOnDestroy(){var s;null===(s=this.handler)||void 0===s||s.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();function Ni(t){return!!Jr(t)}function rd(t,r,n){let s=n?t.styles:null,c=n?t.classes:null,C=0;if(null!==r)for(let k=0;k<r.length;k++){const Q=r[k];"number"==typeof Q?C=Q:1==C?c=Rs(c,Q):2==C&&(s=Rs(s,Q+": "+r[++k]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=c:t.classesWithoutHost=c}class Vv extends gu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const n=qt(r);return new bu(n,this.ngModule)}}function Gv(t,r){const n=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const c=t[s];if(void 0===c)continue;const C=Array.isArray(c),k=C?c[0]:c;n.push(r?{propName:k,templateName:s,isSignal:!!((C?c[1]:Ei.None)&Ei.SignalBased)}:{propName:k,templateName:s})}return n}class bu extends Rv{get inputs(){const r=this.componentDef,n=r.inputTransforms,s=Gv(r.inputs,!0);if(null!==n)for(const c of s)n.hasOwnProperty(c.propName)&&(c.transform=n[c.propName]);return s}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(r,n){super(),this.componentDef=r,this.ngModule=n,this.componentType=r.type,this.selector=function oe(t){return t.map(mm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!n}create(r,n,s,c){const C=se(null);try{var Q;let ae=(c=c||this.ngModule)instanceof Fs?c:null===(Q=c)||void 0===Q?void 0:Q.injector;ae&&null!==this.componentDef.getStandaloneInjector&&(ae=this.componentDef.getStandaloneInjector(ae)||ae);const Ce=ae?new ra(r,ae):r,Ne=Ce.get(Nf,null);if(null===Ne)throw new Rr(407,!1);const Ke=Ce.get(sD,null),Mt={rendererFactory:Ne,sanitizer:Ke,inlineEffectRunner:null,afterRenderEventManager:Ce.get(ed,null),changeDetectionScheduler:Ce.get(el,null)},dr=Ne.createRenderer(null,this.componentDef),Ar=this.componentDef.selectors[0][0]||"div",jr=s?function CC(t,r,n,s){const C=s.get(ry,!1)||n===wi.ShadowDom,k=t.selectRootElement(r,C);return function xC(t){qy(t)}(k),k}(dr,s,this.componentDef.encapsulation,Ce):Uc(dr,Ar,function hD(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ar));let yr=512;this.componentDef.signals?yr|=4096:this.componentDef.onPush||(yr|=16);let rn=null;null!==jr&&(rn=Vh(jr,Ce,!0));const dn=yf(0,null,null,1,0,null,null,null,null,null,null),On=Hc(null,dn,null,yr,null,null,Mt,dr,Ce,null,rn);let Ko,es;vh(On);try{const ri=this.componentDef;let ba,um=null;ri.findHostDirectiveDefs?(ba=[],um=new Map,ri.findHostDirectiveDefs(ri,ba,um),ba.push(ri)):ba=[ri];const Ij=function pD(t,r){const n=t[Nr],s=Zr;return t[s]=r,ua(n,s,2,"#host",null)}(On,jr),jj=function mD(t,r,n,s,c,C,k){const Q=c[Nr];!function gD(t,r,n,s){for(const c of t)r.mergedAttrs=Pi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(rd(r,r.mergedAttrs,!0),null!==n&&$y(s,n,r))}(s,t,r,k);let ae=null;null!==r&&(ae=Vh(r,c[Do]));const Ce=C.rendererFactory.createRenderer(r,n);let Ne=16;n.signals?Ne=4096:n.onPush&&(Ne=64);const Ke=Hc(c,Xy(n),null,Ne,c[t.index],t,C,Ce,null,null,ae);return Q.firstCreatePass&&bf(Q,t,s.length-1),zc(c,Ke),c[t.index]=Ke}(Ij,jr,ri,ba,On,Mt,dr);es=Nl(dn,Zr),jr&&function vD(t,r,n,s){if(s)Tl(t,n,["ng-version","18.1.3"]);else{const{attrs:c,classes:C}=function he(t){const r=[],n=[];let s=1,c=2;for(;s<t.length;){let C=t[s];if("string"==typeof C)2===c?""!==C&&r.push(C,t[++s]):8===c&&n.push(C);else{if(!Cs(c))break;c=C}s++}return{attrs:r,classes:n}}(r.selectors[0]);c&&Tl(t,n,c),C&&C.length>0&&By(t,n,C.join(" "))}}(dr,ri,jr,s),void 0!==n&&function bD(t,r,n){const s=t.projection=[];for(let c=0;c<r.length;c++){const C=n[c];s.push(null!=C?Array.from(C):null)}}(es,this.ngContentSelectors,n),Ko=function yD(t,r,n,s,c,C){const k=Hn(),Q=c[Nr],ae=ss(k,c);Jy(Q,c,k,n,null,s);for(let Ne=0;Ne<n.length;Ne++)Qo(na(c,Q,k.directiveStart+Ne,k),c);Zy(Q,c,k),ae&&Qo(ae,c);const Ce=na(c,Q,k.directiveStart+k.componentOffset,k);if(t[Zn]=c[Zn]=Ce,null!==C)for(const Ne of C)Ne(Ce,r);return pf(Q,k,c),Ce}(jj,ri,ba,um,On,[_D]),Sf(dn,On,null)}finally{bh()}return new fD(this.componentType,Ko,Ba(es,On),On,es)}finally{se(C)}}}class fD extends eD{constructor(r,n,s,c,C){super(),this.location=s,this._rootLView=c,this._tNode=C,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new iu(c,void 0,!1),this.componentType=r}setInput(r,n){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[r])){var C;if(null!==(C=this.previousInputValues)&&void 0!==C||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),n))return;const k=this._rootLView;Ef(k[Nr],k,c,r,n),this.previousInputValues.set(r,n),su(xs(this._tNode.index,k),1)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function _D(){const t=Hn();dc(Sr()[Nr],t)}let nd=(()=>{class r{}return r.__NG_ELEMENT_ID__=wD,r})();function wD(){return Wv(Hn(),Sr())}const ED=nd,Hv=class extends ED{constructor(r,n,s){super(),this._lContainer=r,this._hostTNode=n,this._hostLView=s}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const r=gc(this._hostTNode,this._hostLView);if(Sh(r)){const n=Vl(r,this._hostLView),s=$l(r);return new Oo(n[Nr].data[s+8],n)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const n=zv(this._lContainer);return null!==n&&n[r]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(r,n,s){let c,C;"number"==typeof s?c=s:null!=s&&(c=s.index,C=s.injector);const k=ha(this._lContainer,r.ssrId),Q=r.createEmbeddedViewImpl(n||{},C,k);return this.insertImpl(Q,c,ca(this._hostTNode,k)),Q}createComponent(r,n,s,c,C){var k,Q,ae;const Ce=r&&!function Il(t){return"function"==typeof t}(r);let Ne;if(Ce)Ne=n;else{const jr=n||{};Ne=jr.index,s=jr.injector,c=jr.projectableNodes,C=jr.environmentInjector||jr.ngModuleRef}const Ke=Ce?r:new bu(qt(r)),St=s||this.parentInjector;if(!C&&null==Ke.ngModule){const yr=(Ce?St:this.parentInjector).get(Fs,null);yr&&(C=yr)}const jt=qt(null!==(k=Ke.componentType)&&void 0!==k?k:{}),Mt=ha(this._lContainer,null!==(Q=null==jt?void 0:jt.id)&&void 0!==Q?Q:null),dr=null!==(ae=null==Mt?void 0:Mt.firstChild)&&void 0!==ae?ae:null,Ar=Ke.create(St,c,dr,C);return this.insertImpl(Ar.hostView,Ne,ca(this._hostTNode,Mt)),Ar}insert(r,n){return this.insertImpl(r,n,!0)}insertImpl(r,n,s){const c=r._lView;if(function $w(t){return Zo(t[xo])}(c)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ae=c[xo],Ce=new Hv(ae,ae[Xo],ae[xo]);Ce.detach(Ce.indexOf(r))}}const C=this._adjustIndex(n),k=this._lContainer;return Za(k,c,C,s),r.attachToViewContainerRef(),Gd(Bf(k),C,r),r}move(r,n){return this.insert(r,n)}indexOf(r){const n=zv(this._lContainer);return null!==n?n.indexOf(r):-1}remove(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);s&&(Ta(Bf(this._lContainer),n),Bc(s[Nr],s))}detach(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);return s&&null!=Ta(Bf(this._lContainer),n)?new iu(s):null}_adjustIndex(r,n=0){return null==r?this.length+n:r}};function zv(t){return t[8]}function Bf(t){return t[8]||(t[8]=[])}function Wv(t,r){let n;const s=r[t.index];return Zo(s)?n=s:(n=Qy(s,r,null,t),r[t.index]=n,zc(r,n)),Xv(n,r,t,s),new Hv(n,t,r)}let Xv=function Kv(t,r,n,s){if(t[li])return;let c;c=8&n.type?jn(s):function SD(t,r){const n=t[ln],s=n.createComment(""),c=ss(r,t);return aa(n,$c(n,c),s,function yC(t,r){return t.nextSibling(r)}(n,c),!1),s}(r,n),t[li]=c},$f=()=>!1;class Vf{constructor(r){this.queryList=r,this.matches=null}clone(){return new Vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const n=r.queries;if(null!==n){const s=null!==r.contentQueries?r.contentQueries[0]:n.length,c=[];for(let C=0;C<s;C++){const k=n.getByIndex(C);c.push(this.queries[k.indexInDeclarationView].clone())}return new Gf(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let n=0;n<this.queries.length;n++)null!==qf(r,n).matches&&this.queries[n].setDirty()}}class Yv{constructor(r,n,s=null){this.flags=n,this.read=s,this.predicate="string"==typeof r?function jD(t){return t.split(",").map(r=>r.trim())}(r):r}}class Hf{constructor(r=[]){this.queries=r}elementStart(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(r,n)}elementEnd(r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(r)}embeddedTView(r){let n=null;for(let s=0;s<this.length;s++){const c=null!==n?n.length:0,C=this.getByIndex(s).embeddedTView(r,c);C&&(C.indexInDeclarationView=s,null!==n?n.push(C):n=[C])}return null!==n?new Hf(n):null}template(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(r,n)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class zf{constructor(r,n=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(r,n){this.isApplyingToNode(n)&&this.matchTNode(r,n)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,n){this.elementStart(r,n)}embeddedTView(r,n){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,n),new zf(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let s=r.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(r,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const C=s[c];this.matchTNodeWithReadOption(r,n,TD(n,C)),this.matchTNodeWithReadOption(r,n,yc(n,r,C,!1,!1))}else s===au?4&n.type&&this.matchTNodeWithReadOption(r,n,-1):this.matchTNodeWithReadOption(r,n,yc(n,r,s,!1,!1))}matchTNodeWithReadOption(r,n,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Hl||c===nd||c===au&&4&n.type)this.addMatch(n.index,-2);else{const C=yc(n,r,c,!1,!1);null!==C&&this.addMatch(n.index,C)}else this.addMatch(n.index,s)}}addMatch(r,n){null===this.matches?this.matches=[r,n]:this.matches.push(r,n)}}function TD(t,r){const n=t.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===r)return n[s+1];return null}function MD(t,r,n,s){return-1===n?function AD(t,r){return 11&t.type?Ba(t,r):4&t.type?qc(t,r):null}(r,t):-2===n?function ID(t,r,n){return n===Hl?Ba(r,t):n===au?qc(r,t):n===nd?Wv(r,t):void 0}(t,r,s):na(t,t[Nr],n,r)}function Jv(t,r,n,s){const c=r[ai].queries[s];if(null===c.matches){const C=t.data,k=n.matches,Q=[];for(let ae=0;null!==k&&ae<k.length;ae+=2){const Ce=k[ae];Q.push(Ce<0?null:MD(r,C[Ce],k[ae+1],n.metadata.read))}c.matches=Q}return c.matches}function Wf(t,r,n,s){const c=t.queries.getByIndex(n),C=c.matches;if(null!==C){const k=Jv(t,r,c,n);for(let Q=0;Q<C.length;Q+=2){const ae=C[Q];if(ae>0)s.push(k[Q/2]);else{const Ce=C[Q+1],Ne=r[-ae];for(let Ke=yo;Ke<Ne.length;Ke++){const St=Ne[Ke];St[Ji]===St[xo]&&Wf(St[Nr],St,Ce,s)}if(null!==Ne[Na]){const Ke=Ne[Na];for(let St=0;St<Ke.length;St++){const jt=Ke[St];Wf(jt[Nr],jt,Ce,s)}}}}}return s}function Zv(t,r,n){var s;const c=new Ph(!(4&~n));return function AC(t,r,n,s){const c=tv(r);c.push(n),t.firstCreatePass&&rv(t).push(s,c.length-1)}(t,r,c,c.destroy),(null!==(s=r[ai])&&void 0!==s?s:r[ai]=new Gf).queries.push(new Vf(c))-1}function t0(t,r,n){null===t.queries&&(t.queries=new Hf),t.queries.track(new zf(r,n))}function qf(t,r){return t.queries.getByIndex(r)}function r0(t,r){const n=t[Nr],s=qf(n,r);return s.crossesNgTemplate?Wf(n,t,r,[]):Jv(n,t,s,r)}function o0(t,r){as("NgSignals");const n=function G(t){const r=Object.create(ne);r.value=t;const n=()=>(g(r),r.value);return n[o]=r,n}(t),s=n[o];return null!=r&&r.equal&&(s.equal=r.equal),n.set=c=>Ie(s,c),n.update=c=>function J(t,r){a()||q(),Ie(t,r(t.value))}(s,c),n.asReadonly=s0.bind(n),n}function s0(){const t=this[o];if(void 0===t.readonlyFn){const r=()=>this();r[o]=t,t.readonlyFn=r}return t.readonlyFn}function a0(t){return function n0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Yf(t){let r=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const s=[t];for(;r;){let c;if(Ks(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Rr(903,!1);c=r.\u0275dir}if(c){if(n){s.push(c);const k=t;k.inputs=sd(t.inputs),k.inputTransforms=sd(t.inputTransforms),k.declaredInputs=sd(t.declaredInputs),k.outputs=sd(t.outputs);const Q=c.hostBindings;Q&&WD(t,Q);const ae=c.viewQuery,Ce=c.contentQueries;if(ae&&HD(t,ae),Ce&&zD(t,Ce),VD(t,c),Ps(t.outputs,c.outputs),Ks(c)&&c.data.animation){const Ne=t.data;Ne.animation=(Ne.animation||[]).concat(c.data.animation)}}const C=c.features;if(C)for(let k=0;k<C.length;k++){const Q=C[k];Q&&Q.ngInherit&&Q(t),Q===Yf&&(n=!1)}}r=Object.getPrototypeOf(r)}!function GD(t){let r=0,n=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=r+=c.hostVars,c.hostAttrs=Pi(c.hostAttrs,n=Pi(n,c.hostAttrs))}}(s)}function VD(t,r){for(const s in r.inputs){if(!r.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const c=r.inputs[s];if(void 0!==c&&(t.inputs[s]=c,t.declaredInputs[s]=r.declaredInputs[s],null!==r.inputTransforms)){var n;const C=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(C))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[C]=r.inputTransforms[C]}}}function sd(t){return t===Es?{}:t===Sn?[]:t}function HD(t,r){const n=t.viewQuery;t.viewQuery=n?(s,c)=>{r(s,c),n(s,c)}:r}function zD(t,r){const n=t.contentQueries;t.contentQueries=n?(s,c,C)=>{r(s,c,C),n(s,c,C)}:r}function WD(t,r){const n=t.hostBindings;t.hostBindings=n?(s,c)=>{r(s,c),n(s,c)}:r}function E0(t){const r=t.inputConfig,n={};for(const s in r)if(r.hasOwnProperty(s)){const c=r[s];Array.isArray(c)&&c[3]&&(n[s]=c[3])}t.inputTransforms=n}class fa{}class S0{}function ZD(t,r){return new Jf(t,null!=r?r:null,[])}class Jf extends fa{constructor(r,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const c=Jr(r);this._bootstrapComponents=Ds(c.bootstrap),this._r3Injector=bg(r,n,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...s],Xn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Zf extends S0{constructor(r){super(),this.moduleType=r}create(r){return new Jf(this.moduleType,r,[])}}class C0 extends fa{constructor(r){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const n=new Ia([...r.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],r.parent||tc(),r.debugName,new Set(["environment"]));this.injector=n,r.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qf(t,r,n=null){return new C0({providers:t,parent:r,debugName:n,runEnvironmentInitializers:!0}).injector}function id(t){return!!ep(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ep(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,r,n){return!Object.is(t[r],n)&&(t[r]=n,!0)}function Eu(t,r,n,s,c,C,k,Q,ae,Ce){const Ne=n+Zr,Ke=r.firstCreatePass?function oT(t,r,n,s,c,C,k,Q,ae){const Ce=r.consts,Ne=ua(r,t,4,k||null,Q||null);vf(r,n,Ne,Bs(Ce,ae)),dc(r,Ne);const Ke=Ne.tView=yf(2,Ne,s,c,C,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ce,null);return null!==r.queries&&(r.queries.template(r,Ne),Ke.queries=r.queries.embeddedTView(Ne)),Ne}(Ne,r,t,s,c,C,k,Q,ae):r.data[Ne];Ys(Ke,!1);const St=x0(r,t,Ke,n);Ul()&&Vc(r,t,St,Ke),Qo(St,t);const jt=Qy(St,t,St,Ke);return t[Ne]=jt,zc(t,jt),function qv(t,r,n){return $f(t,r,n)}(jt,Ke,t),ic(Ke)&&mf(r,t,Ke),null!=ae&&gf(t,Ke,Ce),Ke}function tp(t,r,n,s,c,C,k,Q){const ae=Sr(),Ce=gn();return Eu(ae,Ce,t,r,n,s,c,Bs(Ce.consts,C),k,Q),tp}let x0=function D0(t,r,n,s){return ci(!0),r[ln].createComment("")};function hp(t,r,n,s){const c=Sr();return vo(c,Js(),r)&&(gn(),pi(Qn(),c,t,r,n,s)),hp}function dl(t,r,n,s,c,C){const Q=function pa(t,r,n,s){const c=vo(t,r,n);return vo(t,r+1,s)||c}(t,function xi(){return un.lFrame.bindingIndex}(),n,c);return Di(2),Q?r+an(n)+s+an(c)+C:cn}function fd(t,r){return t<<17|r<<2}function Ui(t){return t>>17&32767}function fp(t){return 2|t}function ga(t){return(131068&t)>>2}function pp(t,r){return-131069&t|r<<2}function mp(t){return 1|t}function nb(t,r,n,s){const c=t[n+1],C=null===r;let k=s?Ui(c):ga(c),Q=!1;for(;0!==k&&(!1===Q||C);){const Ce=t[k+1];GT(t[k],r)&&(Q=!0,t[k+1]=s?mp(Ce):fp(Ce)),k=s?Ui(Ce):ga(Ce)}Q&&(t[n+1]=s?fp(c):mp(c))}function GT(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&zi(t,r)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function ib(t,r){const n=Po.textEnd;let s=Po.key=vl(t,r,n);return n===s?-1:(s=Po.keyEnd=function qT(t,r,n){let s;for(;r<n&&(45===(s=t.charCodeAt(r))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)r++;return r}(t,s,n),s=lb(t,s,n),s=Po.value=vl(t,s,n),s=Po.valueEnd=function KT(t,r,n){let s=-1,c=-1,C=-1,k=r,Q=k;for(;k<n;){const ae=t.charCodeAt(k++);if(59===ae)return Q;34===ae||39===ae?Q=k=ub(t,ae,k,n):r===k-4&&85===C&&82===c&&76===s&&40===ae?Q=k=ub(t,41,k,n):ae>32&&(Q=k),C=c,c=s,s=-33&ae}return Q}(t,s,n),lb(t,s,n))}function vl(t,r,n){for(;r<n&&t.charCodeAt(r)<=32;)r++;return r}function lb(t,r,n,s){return(r=vl(t,r,n))<n&&r++,r}function ub(t,r,n,s){let c=-1,C=n;for(;C<s;){const k=t.charCodeAt(C++);if(k==r&&92!==c)return C;c=92==k&&92===c?0:k}throw new Error}function gp(t,r,n){const s=Sr();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),gp}function yp(t,r,n,s,c){const k=c?"class":"style";Ef(t,n,r.inputs[k],k,s)}function vp(t,r){return function Qs(t,r,n,s){const c=Sr(),C=gn(),k=Di(2);C.firstUpdatePass&&hb(C,t,k,s),r!==cn&&vo(c,k,r)&&pb(C,C.data[qo()],c,c[ln],t,c[k+1]=function sA(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Xn(Ti(t)))),t}(r,n),s,k)}(t,r,null,!0),vp}function Zs(t){!function ei(t,r,n,s){const c=gn(),C=Di(2);c.firstUpdatePass&&hb(c,null,C,s);const k=Sr();if(n!==cn&&vo(k,C,n)){const Q=c.data[qo()];if(gb(Q,s)&&!db(c,C)){let ae=s?Q.classesWithoutHost:Q.stylesWithoutHost;null!==ae&&(n=Rs(ae,n||"")),yp(c,Q,k,n,s)}else!function oA(t,r,n,s,c,C,k,Q){c===cn&&(c=Sn);let ae=0,Ce=0,Ne=0<c.length?c[0]:null,Ke=0<C.length?C[0]:null;for(;null!==Ne||null!==Ke;){const St=ae<c.length?c[ae+1]:void 0,jt=Ce<C.length?C[Ce+1]:void 0;let dr,Mt=null;Ne===Ke?(ae+=2,Ce+=2,St!==jt&&(Mt=Ke,dr=jt)):null===Ke||null!==Ne&&Ne<Ke?(ae+=2,Mt=Ne):(Ce+=2,Mt=Ke,dr=jt),null!==Mt&&pb(t,r,n,s,Mt,dr,k,Q),Ne=ae<c.length?c[ae]:null,Ke=Ce<C.length?C[Ce]:null}}(c,Q,k,k[ln],k[C+1],k[C+1]=function rA(t,r,n){if(null==n||""===n)return Sn;const s=[],c=Ti(n);if(Array.isArray(c))for(let C=0;C<c.length;C++)t(s,c[C],!0);else if("object"==typeof c)for(const C in c)c.hasOwnProperty(C)&&t(s,C,c[C]);else"string"==typeof c&&r(s,c);return s}(t,r,n),s,C)}}(fb,YT,t,!1)}function YT(t,r){for(let n=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),ib(t,vl(t,0,Po.textEnd))}(r);n>=0;n=ib(r,n))fb(t,ob(r),HT(r))}function db(t,r){return r>=t.expandoStartIndex}function hb(t,r,n,s){const c=t.data;if(null===c[n+1]){const C=c[qo()],k=db(t,n);gb(C,s)&&null===r&&!k&&(r=!1),r=function ZT(t,r,n,s){const c=function gh(t){const r=un.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let C=s?r.residualClasses:r.residualStyles;if(null===c)0===(s?r.classBindings:r.styleBindings)&&(n=Du(n=bp(null,t,r,n,s),r.attrs,s),C=null);else{const k=r.directiveStylingLast;if(-1===k||t[k]!==c)if(n=bp(c,t,r,n,s),null===C){let ae=function QT(t,r,n){const s=n?r.classBindings:r.styleBindings;if(0!==ga(s))return t[Ui(s)]}(t,r,s);void 0!==ae&&Array.isArray(ae)&&(ae=bp(null,t,r,ae[1],s),ae=Du(ae,r.attrs,s),function eA(t,r,n,s){t[Ui(n?r.classBindings:r.styleBindings)]=s}(t,r,s,ae))}else C=function tA(t,r,n){let s;const c=r.directiveEnd;for(let C=1+r.directiveStylingLast;C<c;C++)s=Du(s,t[C].hostAttrs,n);return Du(s,r.attrs,n)}(t,r,s)}return void 0!==C&&(s?r.residualClasses=C:r.residualStyles=C),n}(c,C,r,s),function $T(t,r,n,s,c,C){let k=C?r.classBindings:r.styleBindings,Q=Ui(k),ae=ga(k);t[s]=n;let Ne,Ce=!1;if(Array.isArray(n)?(Ne=n[1],(null===Ne||zi(n,Ne)>0)&&(Ce=!0)):Ne=n,c)if(0!==ae){const St=Ui(t[Q+1]);t[s+1]=fd(St,Q),0!==St&&(t[St+1]=pp(t[St+1],s)),t[Q+1]=function UT(t,r){return 131071&t|r<<17}(t[Q+1],s)}else t[s+1]=fd(Q,0),0!==Q&&(t[Q+1]=pp(t[Q+1],s)),Q=s;else t[s+1]=fd(ae,0),0===Q?Q=s:t[ae+1]=pp(t[ae+1],s),ae=s;Ce&&(t[s+1]=fp(t[s+1])),nb(t,Ne,s,!0),nb(t,Ne,s,!1),function VT(t,r,n,s,c){const C=c?t.residualClasses:t.residualStyles;null!=C&&"string"==typeof r&&zi(C,r)>=0&&(n[s+1]=mp(n[s+1]))}(r,Ne,t,s,C),k=fd(Q,ae),C?r.classBindings=k:r.styleBindings=k}(c,C,r,n,k,s)}}function bp(t,r,n,s,c){let C=null;const k=n.directiveEnd;let Q=n.directiveStylingLast;for(-1===Q?Q=n.directiveStart:Q++;Q<k&&(C=r[Q],s=Du(s,C.hostAttrs,c),C!==t);)Q++;return null!==t&&(n.directiveStylingLast=Q),s}function Du(t,r,n){const s=n?1:2;let c=-1;if(null!==r)for(let C=0;C<r.length;C++){const k=r[C];"number"==typeof k?c=k:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ns(t,k,!!n||r[++C]))}return void 0===t?null:t}function fb(t,r,n){ns(t,r,Ti(n))}function pb(t,r,n,s,c,C,k,Q){if(!(3&r.type))return;const ae=t.data,Ce=ae[Q+1],Ne=function BT(t){return!(1&~t)}(Ce)?mb(ae,r,n,c,ga(Ce),k):void 0;pd(Ne)||(pd(C)||function FT(t){return!(2&~t)}(Ce)&&(C=mb(ae,null,n,c,Q,k)),function _C(t,r,n,s,c){if(r)c?t.addClass(n,s):t.removeClass(n,s);else{let C=-1===s.indexOf("-")?void 0:Fc.DashCase;null==c?t.removeStyle(n,s,C):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),C|=Fc.Important),t.setStyle(n,s,c,C))}}(s,k,kl(qo(),n),c,C))}function mb(t,r,n,s,c,C){const k=null===r;let Q;for(;c>0;){const ae=t[c],Ce=Array.isArray(ae),Ne=Ce?ae[1]:ae,Ke=null===Ne;let St=n[c+1];St===cn&&(St=Ke?Sn:void 0);let jt=Ke?zu(St,s):Ne===s?St:void 0;if(Ce&&!pd(jt)&&(jt=zu(ae,s)),pd(jt)&&(Q=jt,k))return Q;const Mt=t[c+1];c=k?Ui(Mt):ga(Mt)}if(null!==r){let ae=C?r.residualClasses:r.residualStyles;null!=ae&&(Q=zu(ae,s))}return Q}function pd(t){return void 0!==t}function gb(t,r){return!!(t.flags&(r?8:16))}function gd(t,r,n,s){const c=Sr(),C=gn(),k=Zr+t,Q=c[ln],ae=C.firstCreatePass?function AA(t,r,n,s,c,C){const k=r.consts,ae=ua(r,t,2,s,Bs(k,c));return vf(r,n,ae,Bs(k,C)),null!==ae.attrs&&rd(ae,ae.attrs,!1),null!==ae.mergedAttrs&&rd(ae,ae.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ae),ae}(k,C,c,r,n,s):C.data[k],Ce=_b(C,c,ae,Q,r,t);c[k]=Ce;const Ne=ic(ae);return Ys(ae,!0),$y(Q,Ce,ae),!function rl(t){return!(32&~t.flags)}(ae)&&Ul()&&Vc(C,c,Ce,ae),0===function Vw(){return un.lFrame.elementDepthCount}()&&Qo(Ce,c),function Gw(){un.lFrame.elementDepthCount++}(),Ne&&(mf(C,c,ae),pf(C,ae,c)),null!==s&&gf(c,ae),gd}function yd(){let t=Hn();fh()?ph():(t=t.parent,Ys(t,!1));const r=t;(function zw(t){return un.skipHydrationRootTNode===t})(r)&&function Kw(){un.skipHydrationRootTNode=null}(),function Hw(){un.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(dc(n,t),nh(t)&&n.queries.elementEnd(t)),null!=r.classesWithoutHost&&function lE(t){return!!(8&t.flags)}(r)&&yp(n,r,Sr(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function uE(t){return!!(16&t.flags)}(r)&&yp(n,r,Sr(),r.stylesWithoutHost,!1),yd}function Sp(t,r,n,s){return gd(t,r,n,s),yd(),Sp}let _b=(t,r,n,s,c,C)=>(ci(!0),Uc(s,c,function Zm(){return un.lFrame.currentNamespace}()));function vd(t,r,n){const s=Sr(),c=gn(),C=t+Zr,k=c.firstCreatePass?function jA(t,r,n,s,c){const C=r.consts,k=Bs(C,s),Q=ua(r,t,8,"ng-container",k);return null!==k&&rd(Q,k,!0),vf(r,n,Q,Bs(C,c)),null!==r.queries&&r.queries.elementStart(r,Q),Q}(C,c,s,r,n):c.data[C];Ys(k,!0);const Q=wb(c,s,k,t);return s[C]=Q,Ul()&&Vc(c,s,Q,k),Qo(Q,s),ic(k)&&(mf(c,s,k),pf(c,k,s)),null!=n&&gf(s,k),vd}function bd(){let t=Hn();const r=gn();return fh()?ph():(t=t.parent,Ys(t,!1)),r.firstCreatePass&&(dc(r,t),nh(t)&&r.queries.elementEnd(t)),bd}function Cp(t,r,n){return vd(t,r,n),bd(),Cp}let wb=(t,r,n,s)=>(ci(!0),sf(r[ln],""));function Eb(){return Sr()}const ya=void 0;var kA=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RA(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let bl={};function xp(t){const r=function NA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Db(r);if(n)return n;const s=r.split("-")[0];if(n=Db(s),n)return n;if("en"===s)return kA;throw new Rr(701,!1)}function xb(t){return xp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,r,n)=>{};function Ap(t,r,n,s){const c=Sr(),C=gn(),k=Hn();return Mp(C,c,c[ln],k,t,r,s),Ap}function Mp(t,r,n,s,c,C,k){const Q=ic(s),Ce=t.firstCreatePass&&rv(t),Ne=r[Zn],Ke=tv(r);let St=!0;if(3&s.type||k){const dr=ss(s,r),Ar=k?k(dr):dr,jr=Ke.length,yr=k?dn=>k(jn(dn[s.index])):s.index;let rn=null;if(!k&&Q&&(rn=function S2(t,r,n,s){const c=t.cleanup;if(null!=c)for(let C=0;C<c.length-1;C+=2){const k=c[C];if(k===n&&c[C+1]===s){const Q=r[Yi],ae=c[C+2];return Q.length>ae?Q[ae]:null}"string"==typeof k&&(C+=2)}return null}(t,r,c,s.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=C,rn.__ngLastListenerFn__=C,St=!1;else{C=Yb(s,r,Ne,C),Wb(dr,c,C);const dn=n.listen(Ar,c,C);Ke.push(C,dn),Ce&&Ce.push(c,yr,jr,jr+1)}}else C=Yb(s,r,Ne,C);const jt=s.outputs;let Mt;if(St&&null!==jt&&(Mt=jt[c])){const dr=Mt.length;if(dr)for(let Ar=0;Ar<dr;Ar+=2){const On=r[Mt[Ar]][Mt[Ar+1]].subscribe(C),Ko=Ke.length;Ke.push(C,On),Ce&&Ce.push(c,s.index,Ko,-(Ko+1))}}}function Kb(t,r,n,s){const c=se(null);try{return ui(6,r,n),!1!==n(s)}catch(C){return Wc(t,C),!1}finally{ui(7,r,n),se(c)}}function Yb(t,r,n,s){return function c(C){if(C===Function)return s;su(t.componentOffset>-1?xs(t.index,r):r,5);let Q=Kb(r,n,s,C),ae=c.__ngNextListenerFn__;for(;ae;)Q=Kb(r,n,ae,C)&&Q,ae=ae.__ngNextListenerFn__;return Q}}function Jb(t=1){return function eE(t){return(un.lFrame.contextLView=function km(t,r){for(;t>0;)r=r[Pa],t--;return r}(t,un.lFrame.contextLView))[Zn]}(t)}function C2(t,r){let n=null;const s=function dm(t){const r=t.attrs;if(null!=r){const n=r.indexOf(5);if(!(1&n))return r[n+1]}return null}(t);for(let c=0;c<r.length;c++){const C=r[c];if("*"!==C){if(null===s?Zu(t,C,!0):pm(s,C))return c}else n=c}return n}function Zb(t){const r=Sr()[ao][Xo];if(!r.projection){const s=r.projection=function Oi(t,r){const n=[];for(let s=0;s<t;s++)n.push(r);return n}(t?t.length:1,null),c=s.slice();let C=r.child;for(;null!==C;){if(128!==C.type){const k=t?C2(C,t):0;null!==k&&(c[k]?c[k].projectionNext=C:s[k]=C,c[k]=C)}C=C.next}}}function Qb(t,r=0,n,s,c,C){const k=Sr(),Q=gn(),ae=s?t+1:null;null!==ae&&Eu(k,Q,ae,s,c,C,null,n);const Ce=ua(Q,Zr+t,16,null,n||null);null===Ce.projection&&(Ce.projection=r),ph();const Ke=!k[os]||ea();null===k[ao][Xo].projection[Ce.projection]&&null!==ae?function x2(t,r,n){const s=Zr+n,c=r.data[s],C=t[s],k=ha(C,c.tView.ssrId);Za(C,Ja(t,c,void 0,{dehydratedView:k}),0,ca(c,k))}(k,Q,ae):Ke&&32&~Ce.flags&&function vC(t,r,n){Uy(r[ln],0,r,n,uf(t,n,r),Py(n.parent||r[Xo],n,r))}(Q,k,Ce)}function u_(t,r,n,s){!function e0(t,r,n,s){const c=gn();if(c.firstCreatePass){const C=Hn();t0(c,new Yv(r,n,s),C.index),function OD(t,r){const n=t.contentQueries||(t.contentQueries=[]);r!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,r)}(c,t),!(2&~n)&&(c.staticContentQueries=!0)}return Zv(c,Sr(),n)}(t,r,n,s)}function c_(t,r,n){!function Qv(t,r,n){const s=gn();return s.firstCreatePass&&(t0(s,new Yv(t,r,n),-1),!(2&~r)&&(s.staticViewQueries=!0)),Zv(s,Sr(),r)}(t,r,n)}function d_(t){const r=Sr(),n=gn(),s=yh();cc(s+1);const c=qf(n,s);if(t.dirty&&function Bw(t){return!(4&~t[en])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const C=r0(r,s);t.reset(C,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function Xf(t,r){return t[ai].queries[r].queryList}(Sr(),yh())}function f_(t){return function Qi(t,r){return t[r]}(function $m(){return un.lFrame.contextLView}(),Zr+t)}function S_(t,r=""){const n=Sr(),s=gn(),c=t+Zr,C=s.firstCreatePass?ua(s,c,1,r,null):s.data[c],k=C_(s,n,C,r,t);n[c]=k,Ul()&&Vc(s,n,k,C),Ys(C,!1)}let C_=(t,r,n,s,c)=>(ci(!0),function nf(t,r){return t.createText(r)}(r[ln],s));function Op(t){return Sd("",t,""),Op}function Sd(t,r,n){const s=Sr(),c=function cl(t,r,n,s){return vo(t,Js(),n)?r+an(n)+s:cn}(s,t,r,n);return c!==cn&&Mi(s,qo(),c),Sd}function Pp(t,r,n,s,c){const C=Sr(),k=dl(C,t,r,n,s,c);return k!==cn&&Mi(C,qo(),k),Pp}function Rp(t,r,n){a0(r)&&(r=r());const s=Sr();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),Rp}function O_(t,r){const n=a0(t);return n&&t.set(r),n}function kp(t,r){const n=Sr(),s=gn(),c=Hn();return Mp(s,n,n[ln],c,t,r),kp}function Np(t,r,n,s,c){if(t=Hr(t),Array.isArray(t))for(let C=0;C<t.length;C++)Np(t[C],r,n,s,c);else{const C=gn(),k=Sr(),Q=Hn();let ae=Ki(t)?t:Hr(t.provide);const Ce=vm(t),Ne=1048575&Q.providerIndexes,Ke=Q.directiveStart,St=Q.providerIndexes>>20;if(Ki(t)||!t.multi){const jt=new Bl(Ce,c,Ya),Mt=Fp(ae,r,c?Ne:Ne+St,Ke);-1===Mt?(Dh(mc(Q,k),C,ae),Lp(C,t,r.length),r.push(ae),Q.directiveStart++,Q.directiveEnd++,c&&(Q.providerIndexes+=1048576),n.push(jt),k.push(jt)):(n[Mt]=jt,k[Mt]=jt)}else{const jt=Fp(ae,r,Ne+St,Ke),Mt=Fp(ae,r,Ne,Ne+St),Ar=Mt>=0&&n[Mt];if(c&&!Ar||!c&&!(jt>=0&&n[jt])){Dh(mc(Q,k),C,ae);const jr=function z2(t,r,n,s,c){const C=new Bl(t,n,Ya);return C.multi=[],C.index=r,C.componentProviders=0,k_(C,c,s&&!n),C}(c?H2:G2,n.length,c,s,Ce);!c&&Ar&&(n[Mt].providerFactory=jr),Lp(C,t,r.length,0),r.push(ae),Q.directiveStart++,Q.directiveEnd++,c&&(Q.providerIndexes+=1048576),n.push(jr),k.push(jr)}else Lp(C,t,jt>-1?jt:Mt,k_(n[c?Mt:jt],Ce,!c&&s));!c&&s&&Ar&&n[Mt].componentProviders++}}}function Lp(t,r,n,s){const c=Ki(r),C=function mw(t){return!!t.useClass}(r);if(c||C){const ae=(C?Hr(r.useClass):r).prototype.ngOnDestroy;if(ae){const Ce=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const Ne=Ce.indexOf(n);-1===Ne?Ce.push(n,[s,ae]):Ce[Ne+1].push(s,ae)}else Ce.push(n,ae)}}}function k_(t,r,n){return n&&t.componentProviders++,t.multi.push(r)-1}function Fp(t,r,n,s){for(let c=n;c<s;c++)if(r[c]===t)return c;return-1}function G2(t,r,n,s){return Up(this.multi,[])}function H2(t,r,n,s){const c=this.multi;let C;if(this.providerFactory){const k=this.providerFactory.componentProviders,Q=na(n,n[Nr],this.providerFactory.index,s);C=Q.slice(0,k),Up(c,C);for(let ae=k;ae<Q.length;ae++)C.push(Q[ae])}else C=[],Up(c,C);return C}function Up(t,r){for(let n=0;n<t.length;n++)r.push((0,t[n])());return r}function N_(t,r=[]){return n=>{n.providersResolver=(s,c)=>function V2(t,r,n){const s=gn();if(s.firstCreatePass){const c=Ks(t);Np(n,s.data,s.blueprint,c,!0),Np(r,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,r)}}let W2=(()=>{var t;class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=qi(0,s.type),C=c.length>0?Qf([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,C)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Lr({token:t,providedIn:"environment",factory:()=>new t(Yr(Fs))}),r})();function L_(t){as("NgStandalone"),t.getStandaloneInjector=r=>r.get(W2).getOrCreateStandaloneInjector(t)}function B_(t,r,n){const s=function is(){const t=un.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=Sr();return c[s]===cn?function mi(t,r,n){return t[r]=n}(c,s,n?r.call(n):r()):function wu(t,r){return t[r]}(c,s)}class a1{constructor(r){this.full=r;const n=r.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let l1=(()=>{var t;class r{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const h1=new $r(""),f1=new $r("");let Wp,sI=(()=>{var t;class r{constructor(s,c,C){this._ngZone=s,this.registry=c,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function iI(t){Wp=t}(C),C.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,C){let k=-1;c&&c>0&&(k=setTimeout(()=>{this._callbacks=this._callbacks.filter(Q=>Q.timeoutId!==k),s()},c)),this._callbacks.push({doneCb:s,timeoutId:k,updateCb:C})}whenStable(s,c,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,C),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,C){return[]}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(no),Yr(p1),Yr(f1))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac}),r})(),p1=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){var C,k;return null!==(C=null===(k=Wp)||void 0===k?void 0:k.findTestabilityInTree(this,s,c))&&void 0!==C?C:null}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new $r("");let qp=(()=>{var t;class r{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,C)=>{this.resolve=c,this.reject=C}),this.appInits=null!==(s=kr(g1,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const C of this.appInits){const k=C();if(Xp(k))s.push(k);else if(m1(k)){const Q=new Promise((ae,Ce)=>{k.subscribe({complete:ae,error:Ce})});s.push(Q)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(C=>{this.reject(C)}),0===s.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Ad=new $r("");function b1(t,r){return Array.isArray(r)?r.reduce(b1,t):{...t,...r}}let ti=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kr(NE),this.afterRenderEffectManager=kr(ed),this.zonelessEnabled=kr(mu),this.externalTestViews=new Set,this.beforeRender=new ot.B,this.afterTick=new ot.B,this.componentTypes=[],this.components=[],this.isStable=kr(oa).hasPendingTasks.pipe((0,Ue.T)(s=>!s)),this._injector=kr(Fs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const C=s instanceof Rv;if(!this._injector.get(qp).done)throw!C&&fn(s),new Rr(405,!1);let Q;Q=C?s:this._injector.get(gu).resolveComponentFactory(s),this.componentTypes.push(Q.componentType);const ae=function aI(t){return t.isBoundToModule}(Q)?void 0:this._injector.get(fa),Ne=Q.create(Bo.NULL,[],c||Q.selector,ae),Ke=Ne.location.nativeElement,St=Ne.injector.get(h1,null);return null==St||St.registerApplication(Ke),Ne.onDestroy(()=>{this.detachView(Ne.hostView),Md(this.components,Ne),null==St||St.unregisterApplication(Ke)}),this._loadComponent(Ne),Ne}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new Rr(101,!1);const c=se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(C){this.internalErrorHandler(C)}finally{this._runningTick=!1,se(c),this.afterTick.next()}}detectChangesInAttachedViews(s){let c=null;this._injector.destroyed||(c=this._injector.get(Nf,null,{optional:!0}));let C=0;const k=this.afterRenderEffectManager;for(;C<10;){const jt=0===C;if(s||!jt){this.beforeRender.next(jt);for(let{_lView:Mt,notifyErrorHandler:dr}of this._views)uI(Mt,dr,jt,this.zonelessEnabled)}else{var Q,ae,Ce,Ne,Ke,St;null===(Q=c)||void 0===Q||null===(ae=(Ce=Q).begin)||void 0===ae||ae.call(Ce),null===(Ne=c)||void 0===Ne||null===(Ke=(St=Ne).end)||void 0===Ke||Ke.call(St)}if(C++,k.executeInternalCallbacks(),!this.allViews.some(({_lView:Mt})=>Ll(Mt))&&(k.execute(),!this.allViews.some(({_lView:Mt})=>Ll(Mt))))break}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;Md(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Ad,[]);[...this._bootstrapListeners,...c].forEach(C=>C(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Md(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Rr(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Md(t,r){const n=t.indexOf(r);n>-1&&t.splice(n,1)}function uI(t,r,n,s){(n||Ll(t))&&Xc(t,r,n&&!s?0:1)}class cI{constructor(r,n){this.ngModuleFactory=r,this.componentFactories=n}}let dI=(()=>{var t;class r{compileModuleSync(s){return new Zf(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),k=Ds(Jr(s).declarations).reduce((Q,ae)=>{const Ce=qt(ae);return Ce&&Q.push(new bu(Ce)),Q},[]);return new cI(c,k)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),pI=(()=>{var t;class r{constructor(){this.zone=kr(no),this.changeDetectionScheduler=kr(el),this.applicationRef=kr(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Kp({ngZoneFactory:t,ignoreChangesOutsideZone:r}){var n;return null!==(n=t)&&void 0!==n||(t=()=>new no(Yp())),[{provide:no,useFactory:t},{provide:Ss,multi:!0,useFactory:()=>{const s=kr(pI,{optional:!0});return()=>s.initialize()}},{provide:Ss,multi:!0,useFactory:()=>{const s=kr(gI);return()=>{s.initialize()}}},!0===r?{provide:Pv,useValue:!0}:[]]}function Yp(t){var r,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}let gI=(()=>{var t;class r{constructor(){this.subscription=new at.yU,this.initialized=!1,this.zone=kr(no),this.pendingTasks=kr(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;no.assertInAngularZone(),null!==(c=s)&&void 0!==c||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),Lu=(()=>{var t;class r{constructor(){var s;this.appRef=kr(ti),this.taskService=kr(oa),this.ngZone=kr(no),this.zonelessEnabled=kr(mu),this.disableScheduling=null!==(s=kr(Pv,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Oh||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const c=this.useMicrotaskScheduler?Eg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&no.isInAngularZone())}tick(s){if(this.runningTick||this.appRef.destroyed)return;const c=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(s)},void 0,this.schedulerTickApplyArgs)}catch(C){throw this.taskService.remove(c),C}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Eg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(c)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const c=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(c)}}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Id=new $r("",{providedIn:"root",factory:()=>kr(Id,mn.Optional|mn.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new $r("",{providedIn:"root",factory:()=>"USD"}),Zp=new $r("");let C1=(()=>{var t;class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const C=function kE(t="zone.js",r){return"noop"===t?new Oh:"zone.js"===t?new no(r):t}(null==c?void 0:c.ngZone,Yp({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return C.run(()=>{const Q=function QD(t,r,n){return new Jf(t,r,n)}(s.moduleType,this.injector,[...Kp({ngZoneFactory:()=>C,ignoreChangesOutsideZone:null==c?void 0:c.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),ae=Q.injector.get(fi,null);return C.runOutsideAngular(()=>{const Ce=C.onError.subscribe({next:Ne=>{ae.handleError(Ne)}});Q.onDestroy(()=>{Md(this._modules,Q),Ce.unsubscribe()})}),function v1(t,r,n){try{const s=n();return Xp(s)?s.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw r.runOutsideAngular(()=>t.handleError(s)),s}}(ae,C,()=>{const Ce=Q.injector.get(qp);return Ce.runInitializers(),Ce.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(Id,wl)||wl),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(s,c=[]){const C=b1({},c);return function fI(t,r,n){const s=new Zf(n);return Promise.resolve(s)}(0,0,s).then(k=>this.bootstrapModuleFactory(k,C))}_moduleDoBootstrap(s){const c=s.injector.get(ti);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(C=>c.bootstrap(C));else{if(!s.instance.ngDoBootstrap)throw new Rr(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rr(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(Zp,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(Bo))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Bi=null;const x1=new $r("");function D1(t,r,n=[]){const s=`Platform: ${r}`,c=new $r(s);return(C=[])=>{let k=Qp();if(!k||k.injector.get(x1,!1)){const Q=[...n,...C,{provide:c,useValue:!0}];t?t(Q):function _I(t){if(Bi&&!Bi.get(x1,!1))throw new Rr(400,!1);(function y1(){!function te(t){re=t}(()=>{throw new Rr(600,!1)})})(),Bi=t;const r=t.get(C1);(function A1(t){const r=t.get(Xg,null);null==r||r.forEach(n=>n())})(t)}(function T1(t=[],r){return Bo.create({name:r,providers:[{provide:Jd,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Bi=null])},...t]})}(Q,s))}return function wI(t){const r=Qp();if(!r)throw new Rr(401,!1);return r}()}}function Qp(){var t,r;return null!==(t=null===(r=Bi)||void 0===r?void 0:r.get(C1))&&void 0!==t?t:null}function SI(){}let I1=(()=>{class r{}return r.__NG_ELEMENT_ID__=CI,r})();function CI(t){return function xI(t,r,n){if(Zi(t)&&!n){const s=xs(t.index,r);return new iu(s,s)}return 175&t.type?new iu(r[ao],r):null}(Hn(),Sr(),!(16&~t))}class R1{constructor(){}supports(r){return id(r)}create(r){return new II(r)}}const MI=(t,r)=>r;class II{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||MI}forEachItem(r){let n;for(n=this._itHead;null!==n;n=n._next)r(n)}forEachOperation(r){let n=this._itHead,s=this._removalsHead,c=0,C=null;for(;n||s;){const k=!s||n&&n.currentIndex<N1(s,c,C)?n:s,Q=N1(k,c,C),ae=k.currentIndex;if(k===s)c--,s=s._nextRemoved;else if(n=n._next,null==k.previousIndex)c++;else{C||(C=[]);const Ce=Q-c,Ne=ae-c;if(Ce!=Ne){for(let St=0;St<Ce;St++){const jt=St<C.length?C[St]:C[St]=0,Mt=jt+St;Ne<=Mt&&Mt<Ce&&(C[St]=jt+1)}C[k.previousIndex]=Ne-Ce}}Q!==ae&&r(k,Q,ae)}}forEachPreviousItem(r){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachMovedItem(r){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}forEachIdentityChange(r){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)r(n)}diff(r){if(null==r&&(r=[]),!id(r))throw new Rr(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,C,k,n=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(let Q=0;Q<this.length;Q++)C=r[Q],k=this._trackByFn(Q,C),null!==n&&Object.is(n.trackById,k)?(s&&(n=this._verifyReinsertion(n,C,k,Q)),Object.is(n.item,C)||this._addIdentityChange(n,C)):(n=this._mismatch(n,C,k,Q),s=!0),n=n._next}else c=0,function rT(t,r){if(Array.isArray(t))for(let n=0;n<t.length;n++)r(t[n]);else{const n=t[Symbol.iterator]();let s;for(;!(s=n.next()).done;)r(s.value)}}(r,Q=>{k=this._trackByFn(c,Q),null!==n&&Object.is(n.trackById,k)?(s&&(n=this._verifyReinsertion(n,Q,k,c)),Object.is(n.item,Q)||this._addIdentityChange(n,Q)):(n=this._mismatch(n,Q,k,c),s=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,n,s,c){let C;return null===r?C=this._itTail:(C=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._reinsertAfter(r,C,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._moveAfter(r,C,c)):r=this._addAfter(new jI(n,s),C,c),r}_verifyReinsertion(r,n,s,c){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==C?r=this._reinsertAfter(C,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const n=r._next;this._addToRemovals(this._unlink(r)),r=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,C=r._nextRemoved;return null===c?this._removalsHead=C:c._nextRemoved=C,null===C?this._removalsTail=c:C._prevRemoved=c,this._insertAfter(r,n,s),this._addToMoves(r,s),r}_moveAfter(r,n,s){return this._unlink(r),this._insertAfter(r,n,s),this._addToMoves(r,s),r}_addAfter(r,n,s){return this._insertAfter(r,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,n,s){const c=null===n?this._itHead:n._next;return r._next=c,r._prev=n,null===c?this._itTail=r:c._prev=r,null===n?this._itHead=r:n._next=r,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(r),r.currentIndex=s,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const n=r._prev,s=r._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,r}_addToMoves(r,n){return r.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,n){return r.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class jI{constructor(r,n){this.item=r,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,r))return s;return null}remove(r){const n=r._prevDup,s=r._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class k1{constructor(){this.map=new Map}put(r){const n=r.trackById;let s=this.map.get(n);s||(s=new OI,this.map.set(n,s)),s.add(r)}get(r,n){const c=this.map.get(r);return c?c.get(r,n):null}remove(r){const n=r.trackById;return this.map.get(n).remove(r)&&this.map.delete(n),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,r,n){const s=t.previousIndex;if(null===s)return s;let c=0;return n&&s<n.length&&(c=n[s]),s+r+c}class L1{constructor(){}supports(r){return r instanceof Map||ep(r)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let n;for(n=this._mapHead;null!==n;n=n._next)r(n)}forEachPreviousItem(r){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)r(n)}forEachChangedItem(r){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}diff(r){if(r){if(!(r instanceof Map||ep(r)))throw new Rr(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(r,(s,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const C=this._getOrCreateRecordForKey(c,s);n=this._insertBeforeOrAppend(n,C)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,n){if(r){const s=r._prev;return n._next=r,n._prev=s,r._prev=n,s&&(s._next=n),r===this._mapHead&&(this._mapHead=n),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(r,n){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,n);const C=c._prev,k=c._next;return C&&(C._next=k),k&&(k._prev=C),c._next=null,c._prev=null,c}const s=new RI(r);return this._records.set(r,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,n){Object.is(n,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=n,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,n){r instanceof Map?r.forEach(n):Object.keys(r).forEach(s=>n(r[s],s))}}class RI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new R1])}let om=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(null!=c){const C=c.factories.slice();s=s.concat(C)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||F1()),deps:[[r,new xa,new co]]}}find(s){const c=this.factories.find(C=>C.supports(s));if(null!=c)return c;throw new Rr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:F1}),r})();function U1(){return new sm([new L1])}let sm=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(c){const C=c.factories.slice();s=s.concat(C)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||U1()),deps:[[r,new xa,new co]]}}find(s){const c=this.factories.find(C=>C.supports(s));if(c)return c;throw new Rr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:U1}),r})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class r{constructor(s){}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(ti))},t.\u0275mod=tt({type:t}),t.\u0275inj=Wr({}),r})();const rw=new $r("");function bj(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wj(t,r){as("NgSignals");const n=function x(t){const r=Object.create(O);r.computation=t;const n=()=>{if(_(r),g(r),r.value===R)throw r.error;return r.value};return n[o]=r,n}(t);return null!=r&&r.equal&&(n[o].equal=r.equal),n}function Ej(t){const r=se(null);try{return t()}finally{se(r)}}function Aj(t,r){const n=qt(t),s=r.elementInjector||tc();return new bu(n).create(s,r.projectableNodes,r.hostElement,r.environmentInjector)}function Mj(t){const r=qt(t);if(!r)return null;const n=new bu(r);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4341:(xr,or,_e)=>{"use strict";_e.d(or,{me:()=>y,YN:()=>gt,zX:()=>Go,VZ:()=>Co,cz:()=>L,kq:()=>l,vO:()=>ft,BC:()=>tr,vS:()=>Yo});var M=_e(3953),T=_e(177),et=_e(6648),Et=_e(1985),o=_e(3073),se=_e(8750),$=_e(9326),v=_e(4360),b=_e(6450),f=_e(8496),S=_e(1413),_=_e(6354);let i=(()=>{var ve;class ie{constructor(ge,Be){this._renderer=ge,this._elementRef=Be,this.onChange=Nt=>{},this.onTouched=()=>{}}setProperty(ge,Be){this._renderer.setProperty(this._elementRef.nativeElement,ge,Be)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)(M.rXU(M.sFG),M.rXU(M.aKT))},ve.\u0275dir=M.FsC({type:ve}),ie})(),a=(()=>{var ve;class ie extends i{}return(ve=ie).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,features:[M.Vt3]}),ie})();const l=new M.nKC(""),h={provide:l,useExisting:(0,M.Rfq)(()=>y),multi:!0},p=new M.nKC("");let y=(()=>{var ve;class ie extends i{constructor(ge,Be,Nt){super(ge,Be),this._compositionMode=Nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function m(){const ve=(0,T.QT)()?(0,T.QT)().getUserAgent():"";return/android (\d+)/.test(ve.toLowerCase())}())}writeValue(ge){this.setProperty("value",null==ge?"":ge)}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)(M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(p,8))},ve.\u0275dir=M.FsC({type:ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,Be){1&ge&&M.bIt("input",function(Wt){return Be._handleInput(Wt.target.value)})("blur",function(){return Be.onTouched()})("compositionstart",function(){return Be._compositionStart()})("compositionend",function(Wt){return Be._compositionEnd(Wt.target.value)})},features:[M.Jv_([h]),M.Vt3]}),ie})();function D(ve){return null==ve||("string"==typeof ve||Array.isArray(ve))&&0===ve.length}const L=new M.nKC(""),P=new M.nKC("");function G(ve){return null}function Y(ve){return null!=ve}function le(ve){return(0,M.jNT)(ve)?(0,et.H)(ve):ve}function Ie(ve){let ie={};return ve.forEach(be=>{ie=null!=be?{...ie,...be}:ie}),0===Object.keys(ie).length?null:ie}function J(ve,ie){return ie.map(be=>be(ve))}function ne(ve){return ve.map(ie=>function j(ve){return!ve.validate}(ie)?ie:be=>ie.validate(be))}function De(ve){return null!=ve?function me(ve){if(!ve)return null;const ie=ve.filter(Y);return 0==ie.length?null:function(be){return Ie(J(be,ie))}}(ne(ve)):null}function qe(ve){return null!=ve?function $e(ve){if(!ve)return null;const ie=ve.filter(Y);return 0==ie.length?null:function(be){return function g(...ve){const ie=(0,$.ms)(ve),{args:be,keys:ge}=(0,o.D)(ve),Be=new Et.c(Nt=>{const{length:Wt}=be;if(!Wt)return void Nt.complete();const sr=new Array(Wt);let Br=Wt,Lr=Wt;for(let zr=0;zr<Wt;zr++){let Wr=!1;(0,se.Tg)(be[zr]).subscribe((0,v._)(Nt,Qr=>{Wr||(Wr=!0,Lr--),sr[zr]=Qr},()=>Br--,void 0,()=>{(!Br||!Wr)&&(Lr||Nt.next(ge?(0,f.e)(ge,sr):sr),Nt.complete())}))}});return ie?Be.pipe((0,b.I)(ie)):Be}(J(be,ie).map(le)).pipe((0,_.T)(Ie))}}(ne(ve)):null}function ut(ve,ie){return null===ve?[ie]:Array.isArray(ve)?[...ve,ie]:[ve,ie]}function at(ve){return ve?Array.isArray(ve)?ve:[ve]:[]}function Ue(ve,ie){return Array.isArray(ve)?ve.includes(ie):ve===ie}function nt(ve,ie){const be=at(ie);return at(ve).forEach(Be=>{Ue(be,Be)||be.push(Be)}),be}function Ye(ve,ie){return at(ie).filter(be=>!Ue(ve,be))}class st{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=De(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,be){return!!this.control&&this.control.hasError(ie,be)}getError(ie,be){return this.control?this.control.getError(ie,be):null}}class Ze extends st{get formDirective(){return null}get path(){return null}}class ft extends st{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ot{constructor(ie){this._cd=ie}get isTouched(){var ie,be,ge;return null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||null===(be=ie._touched)||void 0===be||be.call(ie),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.touched)}get isUntouched(){var ie;return!(null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||!ie.untouched)}get isPristine(){var ie,be,ge;return null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||null===(be=ie._pristine)||void 0===be||be.call(ie),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.pristine)}get isDirty(){var ie;return!(null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||!ie.dirty)}get isValid(){var ie,be,ge;return null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||null===(be=ie._status)||void 0===be||be.call(ie),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.valid)}get isInvalid(){var ie;return!(null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||!ie.invalid)}get isPending(){var ie;return!(null===(ie=this._cd)||void 0===ie||null===(ie=ie.control)||void 0===ie||!ie.pending)}get isSubmitted(){var ie,be,ge;return null===(ie=this._cd)||void 0===ie||null===(be=ie._submitted)||void 0===be||be.call(ie),!(null===(ge=this._cd)||void 0===ge||!ge.submitted)}}let tr=(()=>{var ve;class ie extends Ot{constructor(ge){super(ge)}}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)(M.rXU(ft,2))},ve.\u0275dir=M.FsC({type:ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,Be){2&ge&&M.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)},features:[M.Vt3]}),ie})();const vt="VALID",Lt="INVALID",bt="PENDING",Pt="DISABLED";class fr{}class dt extends fr{constructor(ie,be){super(),this.value=ie,this.source=be}}class xt extends fr{constructor(ie,be){super(),this.pristine=ie,this.source=be}}class nr extends fr{constructor(ie,be){super(),this.touched=ie,this.source=be}}class Kt extends fr{constructor(ie,be){super(),this.status=ie,this.source=be}}function Te(ve){return null!=ve&&!Array.isArray(ve)&&"object"==typeof ve}class H{constructor(ie,be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,M.EWP)(()=>this.statusReactive()),this.statusReactive=(0,M.vPA)(void 0),this._pristine=(0,M.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,M.vPA)(!0),this._touched=(0,M.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,M.vPA)(!1),this._events=new S.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ie),this._assignAsyncValidators(be)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get status(){return(0,M.O8t)(this.statusReactive)}set status(ie){(0,M.O8t)(()=>this.statusReactive.set(ie))}get valid(){return this.status===vt}get invalid(){return this.status===Lt}get pending(){return this.status==bt}get disabled(){return this.status===Pt}get enabled(){return this.status!==Pt}get pristine(){return(0,M.O8t)(this.pristineReactive)}set pristine(ie){(0,M.O8t)(()=>this.pristineReactive.set(ie))}get dirty(){return!this.pristine}get touched(){return(0,M.O8t)(this.touchedReactive)}set touched(ie){(0,M.O8t)(()=>this.touchedReactive.set(ie))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(nt(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(nt(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Ye(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Ye(ie,this._rawAsyncValidators))}hasValidator(ie){return Ue(this._rawValidators,ie)}hasAsyncValidator(ie){return Ue(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){var be;const ge=!1===this.touched;this.touched=!0;const Be=null!==(be=ie.sourceControl)&&void 0!==be?be:this;this._parent&&!ie.onlySelf&&this._parent.markAsTouched({...ie,sourceControl:Be}),ge&&!1!==ie.emitEvent&&this._events.next(new nr(!0,Be))}markAllAsTouched(ie={}){this.markAsTouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:this}),this._forEachChild(be=>be.markAllAsTouched(ie))}markAsUntouched(ie={}){var be;const ge=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Be=null!==(be=ie.sourceControl)&&void 0!==be?be:this;this._forEachChild(Nt=>{Nt.markAsUntouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:Be})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,Be),ge&&!1!==ie.emitEvent&&this._events.next(new nr(!1,Be))}markAsDirty(ie={}){var be;const ge=!0===this.pristine;this.pristine=!1;const Be=null!==(be=ie.sourceControl)&&void 0!==be?be:this;this._parent&&!ie.onlySelf&&this._parent.markAsDirty({...ie,sourceControl:Be}),ge&&!1!==ie.emitEvent&&this._events.next(new xt(!1,Be))}markAsPristine(ie={}){var be;const ge=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Be=null!==(be=ie.sourceControl)&&void 0!==be?be:this;this._forEachChild(Nt=>{Nt.markAsPristine({onlySelf:!0,emitEvent:ie.emitEvent})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,Be),ge&&!1!==ie.emitEvent&&this._events.next(new xt(!0,Be))}markAsPending(ie={}){var be;this.status=bt;const ge=null!==(be=ie.sourceControl)&&void 0!==be?be:this;!1!==ie.emitEvent&&(this._events.next(new Kt(this.status,ge)),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.markAsPending({...ie,sourceControl:ge})}disable(ie={}){var be;const ge=this._parentMarkedDirty(ie.onlySelf);this.status=Pt,this.errors=null,this._forEachChild(Nt=>{Nt.disable({...ie,onlySelf:!0})}),this._updateValue();const Be=null!==(be=ie.sourceControl)&&void 0!==be?be:this;!1!==ie.emitEvent&&(this._events.next(new dt(this.value,Be)),this._events.next(new Kt(this.status,Be)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:ge},this),this._onDisabledChange.forEach(Nt=>Nt(!0))}enable(ie={}){const be=this._parentMarkedDirty(ie.onlySelf);this.status=vt,this._forEachChild(ge=>{ge.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:be},this),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ie,be){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine({},be),this._parent._updateTouched({},be))}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){var be;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Be=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===bt)&&this._runAsyncValidator(Be,ie.emitEvent)}const ge=null!==(be=ie.sourceControl)&&void 0!==be?be:this;!1!==ie.emitEvent&&(this._events.next(new dt(this.value,ge)),this._events.next(new Kt(this.status,ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity({...ie,sourceControl:ge})}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(be=>be._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pt:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie,be){if(this.asyncValidator){this.status=bt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==be};const ge=le(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(Be=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Be,{emitEvent:be,shouldHaveEmitted:ie})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ie,be;this._asyncValidationSubscription.unsubscribe();const ge=null!==(ie=null===(be=this._hasOwnPendingAsyncValidator)||void 0===be?void 0:be.emitEvent)&&void 0!==ie&&ie;return this._hasOwnPendingAsyncValidator=null,ge}return!1}setErrors(ie,be={}){this.errors=ie,this._updateControlsErrors(!1!==be.emitEvent,this,be.shouldHaveEmitted)}get(ie){let be=ie;return null==be||(Array.isArray(be)||(be=be.split(".")),0===be.length)?null:be.reduce((ge,Be)=>ge&&ge._find(Be),this)}getError(ie,be){const ge=be?this.get(be):this;return ge&&ge.errors?ge.errors[ie]:null}hasError(ie,be){return!!this.getError(ie,be)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie,be,ge){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),(ie||ge)&&this._events.next(new Kt(this.status,be)),this._parent&&this._parent._updateControlsErrors(ie,be,ge)}_initObservables(){this.valueChanges=new M.bkB,this.statusChanges=new M.bkB}_calculateStatus(){return this._allControlsDisabled()?Pt:this.errors?Lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bt)?bt:this._anyControlsHaveStatus(Lt)?Lt:vt}_anyControlsHaveStatus(ie){return this._anyControls(be=>be.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie,be){const ge=!this._anyControlsDirty(),Be=this.pristine!==ge;this.pristine=ge,this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,be),Be&&this._events.next(new xt(this.pristine,be))}_updateTouched(ie={},be){this.touched=this._anyControlsTouched(),this._events.next(new nr(this.touched,be)),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,be)}_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){Te(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function Mr(ve){return Array.isArray(ve)?De(ve):ve||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function fe(ve){return Array.isArray(ve)?qe(ve):ve||null}(this._rawAsyncValidators)}}const Fe=new M.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$t}),$t="always";function Dr(ve,ie,be=$t){var ge,Be;(function ze(ve,ie){const be=function He(ve){return ve._rawValidators}(ve);null!==ie.validator?ve.setValidators(ut(be,ie.validator)):"function"==typeof be&&ve.setValidators([be]);const ge=function ot(ve){return ve._rawAsyncValidators}(ve);null!==ie.asyncValidator?ve.setAsyncValidators(ut(ge,ie.asyncValidator)):"function"==typeof ge&&ve.setAsyncValidators([ge]);const Be=()=>ve.updateValueAndValidity();Xe(ie._rawValidators,Be),Xe(ie._rawAsyncValidators,Be)})(ve,ie),ie.valueAccessor.writeValue(ve.value),(ve.disabled||"always"===be)&&(null===(ge=(Be=ie.valueAccessor).setDisabledState)||void 0===ge||ge.call(Be,ve.disabled)),function Bt(ve,ie){ie.valueAccessor.registerOnChange(be=>{ve._pendingValue=be,ve._pendingChange=!0,ve._pendingDirty=!0,"change"===ve.updateOn&&wr(ve,ie)})}(ve,ie),function Pr(ve,ie){const be=(ge,Be)=>{ie.valueAccessor.writeValue(ge),Be&&ie.viewToModelUpdate(ge)};ve.registerOnChange(be),ie._registerOnDestroy(()=>{ve._unregisterOnChange(be)})}(ve,ie),function cr(ve,ie){ie.valueAccessor.registerOnTouched(()=>{ve._pendingTouched=!0,"blur"===ve.updateOn&&ve._pendingChange&&wr(ve,ie),"submit"!==ve.updateOn&&ve.markAsTouched()})}(ve,ie),function mt(ve,ie){if(ie.valueAccessor.setDisabledState){const be=ge=>{ie.valueAccessor.setDisabledState(ge)};ve.registerOnDisabledChange(be),ie._registerOnDestroy(()=>{ve._unregisterOnDisabledChange(be)})}}(ve,ie)}function Xe(ve,ie){ve.forEach(be=>{be.registerOnValidatorChange&&be.registerOnValidatorChange(ie)})}function wr(ve,ie){ve._pendingDirty&&ve.markAsDirty(),ve.setValue(ve._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1}function Vo(ve,ie){const be=ve.indexOf(ie);be>-1&&ve.splice(be,1)}function oo(ve){return"object"==typeof ve&&null!==ve&&2===Object.keys(ve).length&&"value"in ve&&"disabled"in ve}Promise.resolve();const cs=class extends H{constructor(ie=null,be,ge){super(function hr(ve){return(Te(ve)?ve.validators:ve)||null}(be),function W(ve,ie){return(Te(ie)?ie.asyncValidators:ve)||null}(ge,be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ie),this._setUpdateStrategy(be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Te(be)&&(be.nonNullable||be.initialValueIsDefault)&&(this.defaultValue=oo(ie)?ie.value:ie)}setValue(ie,be={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==be.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==be.emitViewToModelChange)),this.updateValueAndValidity(be)}patchValue(ie,be={}){this.setValue(ie,be)}reset(ie=this.defaultValue,be={}){this._applyFormState(ie),this.markAsPristine(be),this.markAsUntouched(be),this.setValue(this.value,be),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){Vo(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){Vo(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){oo(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}},mo={provide:ft,useExisting:(0,M.Rfq)(()=>Yo)},ts=Promise.resolve();let Yo=(()=>{var ve;class ie extends ft{constructor(ge,Be,Nt,Wt,sr,Br){super(),this._changeDetectorRef=sr,this.callSetDisabledState=Br,this.control=new cs,this._registered=!1,this.name="",this.update=new M.bkB,this._parent=ge,this._setValidators(Be),this._setAsyncValidators(Nt),this.valueAccessor=function eo(ve,ie){if(!ie)return null;let be,ge,Be;return Array.isArray(ie),ie.forEach(Nt=>{Nt.constructor===y?be=Nt:function Ln(ve){return Object.getPrototypeOf(ve.constructor)===a}(Nt)?ge=Nt:Be=Nt}),Be||ge||be||null}(0,Wt)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const Be=ge.name.previousValue;this.formDirective.removeControl({name:Be,path:this._getPath(Be)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),function bn(ve,ie){if(!ve.hasOwnProperty("model"))return!1;const be=ve.model;return!!be.isFirstChange()||!Object.is(ie,be.currentValue)}(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){ts.then(()=>{var Be;this.control.setValue(ge,{emitViewToModelChange:!1}),null===(Be=this._changeDetectorRef)||void 0===Be||Be.markForCheck()})}_updateDisabled(ge){const Be=ge.isDisabled.currentValue,Nt=0!==Be&&(0,M.L39)(Be);ts.then(()=>{var Wt;Nt&&!this.control.disabled?this.control.disable():!Nt&&this.control.disabled&&this.control.enable(),null===(Wt=this._changeDetectorRef)||void 0===Wt||Wt.markForCheck()})}_getPath(ge){return this._parent?function Ut(ve,ie){return[...ie.path,ve]}(ge,this._parent):[ge]}}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)(M.rXU(Ze,9),M.rXU(L,10),M.rXU(P,10),M.rXU(l,10),M.rXU(M.gRc,8),M.rXU(Fe,8))},ve.\u0275dir=M.FsC({type:ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[M.Jv_([mo]),M.Vt3,M.OA$]}),ie})();function ho(ve){return"number"==typeof ve?ve:parseFloat(ve)}let Bn=(()=>{var ve;class ie{constructor(){this._validator=G}ngOnChanges(ge){if(this.inputName in ge){const Be=this.normalizeInput(ge[this.inputName].currentValue);this._enabled=this.enabled(Be),this._validator=this._enabled?this.createValidator(Be):G,this._onChange&&this._onChange()}}validate(ge){return this._validator(ge)}registerOnValidatorChange(ge){this._onChange=ge}enabled(ge){return null!=ge}}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275dir=M.FsC({type:ve,features:[M.OA$]}),ie})();const Vr={provide:L,useExisting:(0,M.Rfq)(()=>Go),multi:!0};let Go=(()=>{var ve;class ie extends Bn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function R(ve){return ie=>{if(D(ie.value)||D(ve))return null;const be=parseFloat(ie.value);return!isNaN(be)&&be>ve?{max:{max:ve,actual:ie.value}}:null}}(ge)}}return(ve=ie).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ge,Be){2&ge&&M.BMQ("max",Be._enabled?Be.max:null)},inputs:{max:"max"},features:[M.Jv_([Vr]),M.Vt3]}),ie})();const Jo={provide:L,useExisting:(0,M.Rfq)(()=>Co),multi:!0};let Co=(()=>{var ve;class ie extends Bn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function A(ve){return ie=>{if(D(ie.value)||D(ve))return null;const be=parseFloat(ie.value);return!isNaN(be)&&be<ve?{min:{min:ve,actual:ie.value}}:null}}(ge)}}return(ve=ie).\u0275fac=(()=>{let be;return function(Be){return(be||(be=M.xGo(ve)))(Be||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ge,Be){2&ge&&M.BMQ("min",Be._enabled?Be.min:null)},inputs:{min:"min"},features:[M.Jv_([Jo]),M.Vt3]}),ie})(),E=(()=>{var ve;class ie{}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=M.$C({type:ve}),ve.\u0275inj=M.G2t({}),ie})(),gt=(()=>{var ve;class ie{static withConfig(ge){var Be;return{ngModule:ie,providers:[{provide:Fe,useValue:null!==(Be=ge.callSetDisabledState)&&void 0!==Be?Be:$t}]}}}return(ve=ie).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=M.$C({type:ve}),ve.\u0275inj=M.G2t({imports:[E]}),ie})()},345:(xr,or,_e)=>{"use strict";_e.d(or,{Bb:()=>at,hE:()=>Ye,sG:()=>qe,up:()=>Ve});var M=_e(177),T=_e(3953);class et extends M.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Et extends et{static makeCurrent(){(0,M.ZD)(new Et)}onAndCancel(vt,Lt,bt){return vt.addEventListener(Lt,bt),()=>{vt.removeEventListener(Lt,bt)}}dispatchEvent(vt,Lt){vt.dispatchEvent(Lt)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,Lt){return(Lt=Lt||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,Lt){return"window"===Lt?window:"document"===Lt?vt:"body"===Lt?vt.body:null}getBaseHref(vt){const Lt=function se(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==Lt?null:function $(Rt){return new URL(Rt,document.baseURI).pathname}(Lt)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,M._b)(document.cookie,vt)}}let o=null,b=(()=>{var Rt;class vt{build(){return new XMLHttpRequest}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const f=new T.nKC("");let g=(()=>{var Rt;class vt{constructor(bt,Pt){this._zone=Pt,this._eventNameToPlugin=new Map,bt.forEach(fr=>{fr.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,Pt,fr){return this._findPluginFor(Pt).addEventListener(bt,Pt,fr)}getZone(){return this._zone}_findPluginFor(bt){let Pt=this._eventNameToPlugin.get(bt);if(Pt)return Pt;if(Pt=this._plugins.find(dt=>dt.supports(bt)),!Pt)throw new T.wOt(5101,!1);return this._eventNameToPlugin.set(bt,Pt),Pt}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(f),T.KVO(T.SKi))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();class S{constructor(vt){this._doc=vt}}const _="ng-app-id";let i=(()=>{var Rt;class vt{constructor(bt,Pt,fr,dt={}){this.doc=bt,this.appId=Pt,this.nonce=fr,this.platformId=dt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,M.Vy)(dt),this.resetHostNodes()}addStyles(bt){for(const Pt of bt)1===this.changeUsageCount(Pt,1)&&this.onStyleAdded(Pt)}removeStyles(bt){for(const Pt of bt)this.changeUsageCount(Pt,-1)<=0&&this.onStyleRemoved(Pt)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(Pt=>Pt.remove()),bt.clear());for(const Pt of this.getAllStyles())this.onStyleRemoved(Pt);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const Pt of this.getAllStyles())this.addStyleToHost(bt,Pt)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const Pt of this.hostNodes)this.addStyleToHost(Pt,bt)}onStyleRemoved(bt){var Pt;const fr=this.styleRef;null===(Pt=fr.get(bt))||void 0===Pt||null===(Pt=Pt.elements)||void 0===Pt||Pt.forEach(dt=>dt.remove()),fr.delete(bt)}collectServerRenderedStyles(){var bt;const Pt=null===(bt=this.doc.head)||void 0===bt?void 0:bt.querySelectorAll(`style[${_}="${this.appId}"]`);if(null!=Pt&&Pt.length){const fr=new Map;return Pt.forEach(dt=>{null!=dt.textContent&&fr.set(dt.textContent,dt)}),fr}return null}changeUsageCount(bt,Pt){const fr=this.styleRef;if(fr.has(bt)){const dt=fr.get(bt);return dt.usage+=Pt,dt.usage}return fr.set(bt,{usage:Pt,elements:[]}),Pt}getStyleElement(bt,Pt){const fr=this.styleNodesInDOM,dt=null==fr?void 0:fr.get(Pt);if((null==dt?void 0:dt.parentNode)===bt)return fr.delete(Pt),dt.removeAttribute(_),dt;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=Pt,this.platformIsServer&&xt.setAttribute(_,this.appId),bt.appendChild(xt),xt}}addStyleToHost(bt,Pt){var fr;const dt=this.getStyleElement(bt,Pt),xt=this.styleRef,nr=null===(fr=xt.get(Pt))||void 0===fr?void 0:fr.elements;nr?nr.push(dt):xt.set(Pt,{elements:[dt],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(M.qQ),T.KVO(T.sZ2),T.KVO(T.BIS,8),T.KVO(T.Agw))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l=/%COMP%/g,u="%COMP%",d=`_nghost-${u}`,h=`_ngcontent-${u}`,p=new T.nKC("",{providedIn:"root",factory:()=>!0});function V(Rt,vt){return vt.map(Lt=>Lt.replace(l,Rt))}let L=(()=>{var Rt;class vt{constructor(bt,Pt,fr,dt,xt,nr,Kt,ur=null){this.eventManager=bt,this.sharedStylesHost=Pt,this.appId=fr,this.removeStylesOnCompDestroy=dt,this.doc=xt,this.platformId=nr,this.ngZone=Kt,this.nonce=ur,this.rendererByCompId=new Map,this.platformIsServer=(0,M.Vy)(nr),this.defaultRenderer=new P(bt,xt,Kt,this.platformIsServer)}createRenderer(bt,Pt){if(!bt||!Pt)return this.defaultRenderer;this.platformIsServer&&Pt.encapsulation===T.gXe.ShadowDom&&(Pt={...Pt,encapsulation:T.gXe.Emulated});const fr=this.getOrCreateRenderer(bt,Pt);return fr instanceof Z?fr.applyToHost(bt):fr instanceof O&&fr.applyStyles(),fr}getOrCreateRenderer(bt,Pt){const fr=this.rendererByCompId;let dt=fr.get(Pt.id);if(!dt){const xt=this.doc,nr=this.ngZone,Kt=this.eventManager,ur=this.sharedStylesHost,vr=this.removeStylesOnCompDestroy,hr=this.platformIsServer;switch(Pt.encapsulation){case T.gXe.Emulated:dt=new Z(Kt,ur,Pt,this.appId,vr,xt,nr,hr);break;case T.gXe.ShadowDom:return new R(Kt,ur,bt,Pt,xt,nr,this.nonce,hr);default:dt=new O(Kt,ur,Pt,vr,xt,nr,hr)}fr.set(Pt.id,dt)}return dt}ngOnDestroy(){this.rendererByCompId.clear()}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(g),T.KVO(i),T.KVO(T.sZ2),T.KVO(p),T.KVO(M.qQ),T.KVO(T.Agw),T.KVO(T.SKi),T.KVO(T.BIS))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();class P{constructor(vt,Lt,bt,Pt){this.eventManager=vt,this.doc=Lt,this.ngZone=bt,this.platformIsServer=Pt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(vt,Lt){return Lt?this.doc.createElementNS(a[Lt]||Lt,vt):this.doc.createElement(vt)}createComment(vt){return this.doc.createComment(vt)}createText(vt){return this.doc.createTextNode(vt)}appendChild(vt,Lt){(A(vt)?vt.content:vt).appendChild(Lt)}insertBefore(vt,Lt,bt){vt&&(A(vt)?vt.content:vt).insertBefore(Lt,bt)}removeChild(vt,Lt){vt&&vt.removeChild(Lt)}selectRootElement(vt,Lt){let bt="string"==typeof vt?this.doc.querySelector(vt):vt;if(!bt)throw new T.wOt(-5104,!1);return Lt||(bt.textContent=""),bt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,Lt,bt,Pt){if(Pt){Lt=Pt+":"+Lt;const fr=a[Pt];fr?vt.setAttributeNS(fr,Lt,bt):vt.setAttribute(Lt,bt)}else vt.setAttribute(Lt,bt)}removeAttribute(vt,Lt,bt){if(bt){const Pt=a[bt];Pt?vt.removeAttributeNS(Pt,Lt):vt.removeAttribute(`${bt}:${Lt}`)}else vt.removeAttribute(Lt)}addClass(vt,Lt){vt.classList.add(Lt)}removeClass(vt,Lt){vt.classList.remove(Lt)}setStyle(vt,Lt,bt,Pt){Pt&(T.czy.DashCase|T.czy.Important)?vt.style.setProperty(Lt,bt,Pt&T.czy.Important?"important":""):vt.style[Lt]=bt}removeStyle(vt,Lt,bt){bt&T.czy.DashCase?vt.style.removeProperty(Lt):vt.style[Lt]=""}setProperty(vt,Lt,bt){null!=vt&&(vt[Lt]=bt)}setValue(vt,Lt){vt.nodeValue=Lt}listen(vt,Lt,bt){if("string"==typeof vt&&!(vt=(0,M.QT)().getGlobalEventTarget(this.doc,vt)))throw new Error(`Unsupported event target ${vt} for event ${Lt}`);return this.eventManager.addEventListener(vt,Lt,this.decoratePreventDefault(bt))}decoratePreventDefault(vt){return Lt=>{if("__ngUnwrap__"===Lt)return vt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>vt(Lt)):vt(Lt))&&Lt.preventDefault()}}}function A(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class R extends P{constructor(vt,Lt,bt,Pt,fr,dt,xt,nr){super(vt,fr,dt,nr),this.sharedStylesHost=Lt,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=V(Pt.id,Pt.styles);for(const ur of Kt){const vr=document.createElement("style");xt&&vr.setAttribute("nonce",xt),vr.textContent=ur,this.shadowRoot.appendChild(vr)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}appendChild(vt,Lt){return super.appendChild(this.nodeOrShadowRoot(vt),Lt)}insertBefore(vt,Lt,bt){return super.insertBefore(this.nodeOrShadowRoot(vt),Lt,bt)}removeChild(vt,Lt){return super.removeChild(this.nodeOrShadowRoot(vt),Lt)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class O extends P{constructor(vt,Lt,bt,Pt,fr,dt,xt,nr){super(vt,fr,dt,xt),this.sharedStylesHost=Lt,this.removeStylesOnCompDestroy=Pt,this.styles=nr?V(nr,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Z extends O{constructor(vt,Lt,bt,Pt,fr,dt,xt,nr){const Kt=Pt+"-"+bt.id;super(vt,Lt,bt,fr,dt,xt,nr,Kt),this.contentAttr=function y(Rt){return h.replace(l,Rt)}(Kt),this.hostAttr=function D(Rt){return d.replace(l,Rt)}(Kt)}applyToHost(vt){this.applyStyles(),this.setAttribute(vt,this.hostAttr,"")}createElement(vt,Lt){const bt=super.createElement(vt,Lt);return super.setAttribute(bt,this.contentAttr,""),bt}}let re=(()=>{var Rt;class vt extends S{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,Pt,fr){return bt.addEventListener(Pt,fr,!1),()=>this.removeEventListener(bt,Pt,fr)}removeEventListener(bt,Pt,fr){return bt.removeEventListener(Pt,fr)}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})(),q=(()=>{var Rt;class vt extends S{constructor(bt){super(bt),this.delegate=(0,T.WQX)(T.zAP,{optional:!0})}supports(bt){return!!this.delegate&&this.delegate.supports(bt)}addEventListener(bt,Pt,fr){return this.delegate.addEventListener(bt,Pt,fr)}removeEventListener(bt,Pt,fr){return this.delegate.removeEventListener(bt,Pt,fr)}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const te=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let Y=(()=>{var Rt;class vt extends S{constructor(bt){super(bt)}supports(bt){return null!=vt.parseEventName(bt)}addEventListener(bt,Pt,fr){const dt=vt.parseEventName(Pt),xt=vt.eventCallback(dt.fullKey,fr,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.QT)().onAndCancel(bt,dt.domEventName,xt))}static parseEventName(bt){const Pt=bt.toLowerCase().split("."),fr=Pt.shift();if(0===Pt.length||"keydown"!==fr&&"keyup"!==fr)return null;const dt=vt._normalizeKey(Pt.pop());let xt="",nr=Pt.indexOf("code");if(nr>-1&&(Pt.splice(nr,1),xt="code."),te.forEach(ur=>{const vr=Pt.indexOf(ur);vr>-1&&(Pt.splice(vr,1),xt+=ur+".")}),xt+=dt,0!=Pt.length||0===dt.length)return null;const Kt={};return Kt.domEventName=fr,Kt.fullKey=xt,Kt}static matchEventFullKeyCode(bt,Pt){let fr=X[bt.key]||bt.key,dt="";return Pt.indexOf("code.")>-1&&(fr=bt.code,dt="code."),!(null==fr||!fr)&&(fr=fr.toLowerCase()," "===fr?fr="space":"."===fr&&(fr="dot"),te.forEach(xt=>{xt!==fr&&(0,G[xt])(bt)&&(dt+=xt+".")}),dt+=fr,dt===Pt)}static eventCallback(bt,Pt,fr){return dt=>{vt.matchEventFullKeyCode(dt,bt)&&fr.runGuarded(()=>Pt(dt))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const qe=(0,T.oH4)(T.fpN,"browser",[{provide:T.Agw,useValue:M.AJ},{provide:T.PLl,useValue:function ne(){Et.makeCurrent()},multi:!0},{provide:M.qQ,useFactory:function De(){return(0,T.TL$)(document),document},deps:[]}]),ut=new T.nKC(""),He=[{provide:T.e01,useClass:class v{addToWindow(vt){T.JZv.getAngularTestability=(bt,Pt=!0)=>{const fr=vt.findTestabilityInTree(bt,Pt);if(null==fr)throw new T.wOt(5103,!1);return fr},T.JZv.getAllAngularTestabilities=()=>vt.getAllTestabilities(),T.JZv.getAllAngularRootElements=()=>vt.getAllRootElements(),T.JZv.frameworkStabilizers||(T.JZv.frameworkStabilizers=[]),T.JZv.frameworkStabilizers.push(bt=>{const Pt=T.JZv.getAllAngularTestabilities();let fr=Pt.length;const dt=function(){fr--,0==fr&&bt()};Pt.forEach(xt=>{xt.whenStable(dt)})})}findTestabilityInTree(vt,Lt,bt){if(null==Lt)return null;const Pt=vt.getTestability(Lt);return null!=Pt?Pt:bt?(0,M.QT)().isShadowRoot(Lt)?this.findTestabilityInTree(vt,Lt.host,!0):this.findTestabilityInTree(vt,Lt.parentElement,!0):null}},deps:[]},{provide:T.WHO,useClass:T.NYb,deps:[T.SKi,T.giA,T.e01]},{provide:T.NYb,useClass:T.NYb,deps:[T.SKi,T.giA,T.e01]}],ot=[{provide:T.H8p,useValue:"root"},{provide:T.zcH,useFactory:function me(){return new T.zcH},deps:[]},{provide:f,useClass:re,multi:!0,deps:[M.qQ,T.SKi,T.Agw]},{provide:f,useClass:Y,multi:!0,deps:[M.qQ]},{provide:f,useClass:q,multi:!0},L,i,g,{provide:T._9s,useExisting:L},{provide:M.N0,useClass:b,deps:[]},[]];let at=(()=>{var Rt;class vt{constructor(bt){}static withServerTransition(bt){return{ngModule:vt,providers:[{provide:T.sZ2,useValue:bt.appId}]}}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(ut,12))},Rt.\u0275mod=T.$C({type:Rt}),Rt.\u0275inj=T.G2t({providers:[...ot,...He],imports:[M.MD,T.Hbi]}),vt})(),Ye=(()=>{var Rt;class vt{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),vt})(),Ve=(()=>{var Rt;class vt{}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)},Rt.\u0275prov=T.jDH({token:Rt,factory:function(bt){let Pt=null;return Pt=bt?new(bt||Rt):T.KVO(We),Pt},providedIn:"root"}),vt})(),We=(()=>{var Rt;class vt extends Ve{constructor(bt){super(),this._doc=bt}sanitize(bt,Pt){if(null==Pt)return null;switch(bt){case T.WPN.NONE:return Pt;case T.WPN.HTML:return(0,T.ZF7)(Pt,"HTML")?(0,T.rcV)(Pt):(0,T.h9k)(this._doc,String(Pt)).toString();case T.WPN.STYLE:return(0,T.ZF7)(Pt,"Style")?(0,T.rcV)(Pt):Pt;case T.WPN.SCRIPT:if((0,T.ZF7)(Pt,"Script"))return(0,T.rcV)(Pt);throw new T.wOt(5200,!1);case T.WPN.URL:return(0,T.ZF7)(Pt,"URL")?(0,T.rcV)(Pt):(0,T.$MX)(String(Pt));case T.WPN.RESOURCE_URL:if((0,T.ZF7)(Pt,"ResourceURL"))return(0,T.rcV)(Pt);throw new T.wOt(5201,!1);default:throw new T.wOt(5202,!1)}}bypassSecurityTrustHtml(bt){return(0,T.Kcf)(bt)}bypassSecurityTrustStyle(bt){return(0,T.cWb)(bt)}bypassSecurityTrustScript(bt){return(0,T.UyX)(bt)}bypassSecurityTrustUrl(bt){return(0,T.osQ)(bt)}bypassSecurityTrustResourceUrl(bt){return(0,T.e5t)(bt)}}return(Rt=vt).\u0275fac=function(bt){return new(bt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),vt})()},9858:(xr,or,_e)=>{"use strict";_e.d(or,{nX:()=>Fr,Zp:()=>Dt,Z:()=>Gn,Xk:()=>He,Kp:()=>ji,b:()=>Yr,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>Ht});var M=_e(3953),T=_e(1985),et=_e(8071),o=_e(6648),se=_e(7673),$=_e(4412),v=_e(4572);const f=(0,_e(1853).L)(oe=>function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"});var g=_e(8793),S=_e(9030),_=_e(1203),i=_e(8810),a=_e(983),l=_e(17),u=_e(1413),d=_e(8359),h=_e(177),m=_e(6354),p=_e(5558),y=_e(6697),D=_e(9326),V=_e(9974),P=_e(5964),x=_e(1397),U=_e(4360);function A(oe){return(0,V.N)((he,we)=>{let de=!1;he.subscribe((0,U._)(we,xe=>{de=!0,we.next(xe)},()=>{de||we.next(oe),we.complete()}))})}function R(oe=O){return(0,V.N)((he,we)=>{let de=!1;he.subscribe((0,U._)(we,xe=>{de=!0,we.next(xe)},()=>de?we.complete():we.error(oe())))})}function O(){return new f}var Z=_e(3669);function re(oe,he){const we=arguments.length>=2;return de=>de.pipe(oe?(0,P.p)((xe,tt)=>oe(xe,tt,de)):Z.D,(0,y.s)(1),we?A(he):R(()=>new f))}function q(oe,he){return(0,et.T)(he)?(0,x.Z)(oe,he,1):(0,x.Z)(oe,1)}var te=_e(8141),X=_e(8750);function G(oe){return(0,V.N)((he,we)=>{let tt,de=null,xe=!1;de=he.subscribe((0,U._)(we,void 0,void 0,lt=>{tt=(0,X.Tg)(oe(lt,G(oe)(he))),de?(de.unsubscribe(),de=null,tt.subscribe(we)):xe=!0})),xe&&(de.unsubscribe(),de=null,tt.subscribe(we))})}function Ie(oe){return oe<=0?()=>a.w:(0,V.N)((he,we)=>{let de=[];he.subscribe((0,U._)(we,xe=>{de.push(xe),oe<de.length&&de.shift()},()=>{for(const xe of de)we.next(xe);we.complete()},void 0,()=>{de=null}))})}var j=_e(3703);function ne(oe){return(0,V.N)((he,we)=>{try{he.subscribe(we)}finally{we.add(oe)}})}var me=_e(9898),De=_e(5343),qe=_e(6365),ut=_e(345);const He="primary",ot=Symbol("RouteTitle");class at{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const we=this.params[he];return Array.isArray(we)?we[0]:we}return null}getAll(he){if(this.has(he)){const we=this.params[he];return Array.isArray(we)?we:[we]}return[]}get keys(){return Object.keys(this.params)}}function Ue(oe){return new at(oe)}function nt(oe,he,we){const de=we.path.split("/");if(de.length>oe.length||"full"===we.pathMatch&&(he.hasChildren()||de.length<oe.length))return null;const xe={};for(let tt=0;tt<de.length;tt++){const lt=de[tt],ir=oe[tt];if(":"===lt[0])xe[lt.substring(1)]=ir;else if(lt!==ir.path)return null}return{consumed:oe.slice(0,de.length),posParams:xe}}function st(oe,he){const we=oe?Ze(oe):void 0,de=he?Ze(he):void 0;if(!we||!de||we.length!=de.length)return!1;let xe;for(let tt=0;tt<we.length;tt++)if(xe=we[tt],!ft(oe[xe],he[xe]))return!1;return!0}function Ze(oe){return[...Object.keys(oe),...Object.getOwnPropertySymbols(oe)]}function ft(oe,he){if(Array.isArray(oe)&&Array.isArray(he)){if(oe.length!==he.length)return!1;const we=[...oe].sort(),de=[...he].sort();return we.every((xe,tt)=>de[tt]===xe)}return oe===he}function Ot(oe){return oe.length>0?oe[oe.length-1]:null}function ar(oe){return function Et(oe){return!!oe&&(oe instanceof T.c||(0,et.T)(oe.lift)&&(0,et.T)(oe.subscribe))}(oe)?oe:(0,M.jNT)(oe)?(0,o.H)(Promise.resolve(oe)):(0,se.of)(oe)}const Vt={exact:function Zt(oe,he,we){if(!It(oe.segments,he.segments)||!Gt(oe.segments,he.segments,we)||oe.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!oe.children[de]||!Zt(oe.children[de],he.children[de],we))return!1;return!0},subset:Ct},tr={exact:function br(oe,he){return st(oe,he)},subset:function pr(oe,he){return Object.keys(he).length<=Object.keys(oe).length&&Object.keys(he).every(we=>ft(oe[we],he[we]))},ignored:()=>!0};function zt(oe,he,we){return Vt[we.paths](oe.root,he.root,we.matrixParams)&&tr[we.queryParams](oe.queryParams,he.queryParams)&&!("exact"===we.fragment&&oe.fragment!==he.fragment)}function Ct(oe,he,we){return lr(oe,he,he.segments,we)}function lr(oe,he,we,de){if(oe.segments.length>we.length){const xe=oe.segments.slice(0,we.length);return!(!It(xe,we)||he.hasChildren()||!Gt(xe,we,de))}if(oe.segments.length===we.length){if(!It(oe.segments,we)||!Gt(oe.segments,we,de))return!1;for(const xe in he.children)if(!oe.children[xe]||!Ct(oe.children[xe],he.children[xe],de))return!1;return!0}{const xe=we.slice(0,oe.segments.length),tt=we.slice(oe.segments.length);return!!(It(oe.segments,xe)&&Gt(oe.segments,xe,de)&&oe.children[He])&&lr(oe.children[He],he,tt,de)}}function Gt(oe,he,we){return he.every((de,xe)=>tr[we](oe[xe].parameters,de.parameters))}class Ve{constructor(he=new We([],{}),we={},de=null){this.root=he,this.queryParams=we,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return Ft.serialize(this)}}class We{constructor(he,we){this.segments=he,this.children=we,this.parent=null,Object.values(we).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class Oe{constructor(he,we){this.path=he,this.parameters=we}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=Ue(this.parameters)),this._parameterMap}toString(){return dt(this)}}function It(oe,he){return oe.length===he.length&&oe.every((we,de)=>we.path===he[de].path)}let Ht=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:()=>new yt,providedIn:"root"}),he})();class yt{parse(he){const we=new w(he);return new Ve(we.parseRootSegment(),we.parseQueryParams(),we.parseFragment())}serialize(he){const we=`/${rr(he.root,!0)}`,de=function nr(oe){const he=Object.entries(oe).map(([we,de])=>Array.isArray(de)?de.map(xe=>`${vt(we)}=${vt(xe)}`).join("&"):`${vt(we)}=${vt(de)}`).filter(we=>we);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${we}${de}${"string"==typeof he.fragment?`#${function Lt(oe){return encodeURI(oe)}(he.fragment)}`:""}`}}const Ft=new yt;function Jt(oe){return oe.segments.map(he=>dt(he)).join("/")}function rr(oe,he){if(!oe.hasChildren())return Jt(oe);if(he){const we=oe.children[He]?rr(oe.children[He],!1):"",de=[];return Object.entries(oe.children).forEach(([xe,tt])=>{xe!==He&&de.push(`${xe}:${rr(tt,!1)}`)}),de.length>0?`${we}(${de.join("//")})`:we}{const we=function At(oe,he){let we=[];return Object.entries(oe.children).forEach(([de,xe])=>{de===He&&(we=we.concat(he(xe,de)))}),Object.entries(oe.children).forEach(([de,xe])=>{de!==He&&(we=we.concat(he(xe,de)))}),we}(oe,(de,xe)=>xe===He?[rr(oe.children[He],!1)]:[`${xe}:${rr(de,!1)}`]);return 1===Object.keys(oe.children).length&&null!=oe.children[He]?`${Jt(oe)}/${we[0]}`:`${Jt(oe)}/(${we.join("//")})`}}function Rt(oe){return encodeURIComponent(oe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vt(oe){return Rt(oe).replace(/%3B/gi,";")}function bt(oe){return Rt(oe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pt(oe){return decodeURIComponent(oe)}function fr(oe){return Pt(oe.replace(/\+/g,"%20"))}function dt(oe){return`${bt(oe.path)}${function xt(oe){return Object.entries(oe).map(([he,we])=>`;${bt(he)}=${bt(we)}`).join("")}(oe.parameters)}`}const Kt=/^[^\/()?;#]+/;function ur(oe){const he=oe.match(Kt);return he?he[0]:""}const vr=/^[^\/()?;=#]+/,Mr=/^[^=?&#]+/,fe=/^[^&#]+/;class w{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let we={};this.peekStartsWith("/(")&&(this.capture("/"),we=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(we).length>0)&&(de[He]=new We(he,we)),de}parseSegment(){const he=ur(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new M.wOt(4009,!1);return this.capture(he),new Oe(Pt(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const we=function hr(oe){const he=oe.match(vr);return he?he[0]:""}(this.remaining);if(!we)return;this.capture(we);let de="";if(this.consumeOptional("=")){const xe=ur(this.remaining);xe&&(de=xe,this.capture(de))}he[Pt(we)]=Pt(de)}parseQueryParam(he){const we=function W(oe){const he=oe.match(Mr);return he?he[0]:""}(this.remaining);if(!we)return;this.capture(we);let de="";if(this.consumeOptional("=")){const lt=function Te(oe){const he=oe.match(fe);return he?he[0]:""}(this.remaining);lt&&(de=lt,this.capture(de))}const xe=fr(we),tt=fr(de);if(he.hasOwnProperty(xe)){let lt=he[xe];Array.isArray(lt)||(lt=[lt],he[xe]=lt),lt.push(tt)}else he[xe]=tt}parseParens(he){const we={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=ur(this.remaining),xe=this.remaining[de.length];if("/"!==xe&&")"!==xe&&";"!==xe)throw new M.wOt(4010,!1);let tt;de.indexOf(":")>-1?(tt=de.slice(0,de.indexOf(":")),this.capture(tt),this.capture(":")):he&&(tt=He);const lt=this.parseChildren();we[tt]=1===Object.keys(lt).length?lt[He]:new We([],lt),this.consumeOptional("//")}return we}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new M.wOt(4011,!1)}}function I(oe){return oe.segments.length>0?new We([],{[He]:oe}):oe}function H(oe){const he={};for(const[de,xe]of Object.entries(oe.children)){const tt=H(xe);if(de===He&&0===tt.segments.length&&tt.hasChildren())for(const[lt,ir]of Object.entries(tt.children))he[lt]=ir;else(tt.segments.length>0||tt.hasChildren())&&(he[de]=tt)}return function F(oe){if(1===oe.numberOfChildren&&oe.children[He]){const he=oe.children[He];return new We(oe.segments.concat(he.segments),he.children)}return oe}(new We(oe.segments,he))}function z(oe){return oe instanceof Ve}function ue(oe){var he;let we;const tt=I(function de(lt){const ir={};for(const qt of lt.children){const Or=de(qt);ir[qt.outlet]=Or}const _r=new We(lt.url,ir);return lt===oe&&(we=_r),_r}(oe.root));return null!==(he=we)&&void 0!==he?he:tt}function Se(oe,he,we,de){let xe=oe;for(;xe.parent;)xe=xe.parent;if(0===he.length)return $t(xe,xe,xe,we,de);const tt=function Re(oe){if("string"==typeof oe[0]&&1===oe.length&&"/"===oe[0])return new Dr(!0,0,oe);let he=0,we=!1;const de=oe.reduce((xe,tt,lt)=>{if("object"==typeof tt&&null!=tt){if(tt.outlets){const ir={};return Object.entries(tt.outlets).forEach(([_r,qt])=>{ir[_r]="string"==typeof qt?qt.split("/"):qt}),[...xe,{outlets:ir}]}if(tt.segmentPath)return[...xe,tt.segmentPath]}return"string"!=typeof tt?[...xe,tt]:0===lt?(tt.split("/").forEach((ir,_r)=>{0==_r&&"."===ir||(0==_r&&""===ir?we=!0:".."===ir?he++:""!=ir&&xe.push(ir))}),xe):[...xe,tt]},[]);return new Dr(we,he,de)}(he);if(tt.toRoot())return $t(xe,xe,new We([],{}),we,de);const lt=function mt(oe,he,we){if(oe.isAbsolute)return new Xe(he,!0,0);if(!we)return new Xe(he,!1,NaN);if(null===we.parent)return new Xe(we,!0,0);const de=ke(oe.commands[0])?0:1;return function ze(oe,he,we){let de=oe,xe=he,tt=we;for(;tt>xe;){if(tt-=xe,de=de.parent,!de)throw new M.wOt(4005,!1);xe=de.segments.length}return new Xe(de,!1,xe-tt)}(we,we.segments.length-1+de,oe.numberOfDoubleDots)}(tt,xe,oe),ir=lt.processChildren?cr(lt.segmentGroup,lt.index,tt.commands):Bt(lt.segmentGroup,lt.index,tt.commands);return $t(xe,lt.segmentGroup,ir,we,de)}function ke(oe){return"object"==typeof oe&&null!=oe&&!oe.outlets&&!oe.segmentPath}function Fe(oe){return"object"==typeof oe&&null!=oe&&oe.outlets}function $t(oe,he,we,de,xe){let lt,tt={};de&&Object.entries(de).forEach(([_r,qt])=>{tt[_r]=Array.isArray(qt)?qt.map(Or=>`${Or}`):`${qt}`}),lt=oe===he?we:Ut(oe,he,we);const ir=I(H(lt));return new Ve(ir,tt,xe)}function Ut(oe,he,we){const de={};return Object.entries(oe.children).forEach(([xe,tt])=>{de[xe]=tt===he?we:Ut(tt,he,we)}),new We(oe.segments,de)}class Dr{constructor(he,we,de){if(this.isAbsolute=he,this.numberOfDoubleDots=we,this.commands=de,he&&de.length>0&&ke(de[0]))throw new M.wOt(4003,!1);const xe=de.find(Fe);if(xe&&xe!==Ot(de))throw new M.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xe{constructor(he,we,de){this.segmentGroup=he,this.processChildren=we,this.index=de}}function Bt(oe,he,we){var de;if(null!==(de=oe)&&void 0!==de||(oe=new We([],{})),0===oe.segments.length&&oe.hasChildren())return cr(oe,he,we);const xe=function wr(oe,he,we){let de=0,xe=he;const tt={match:!1,pathIndex:0,commandIndex:0};for(;xe<oe.segments.length;){if(de>=we.length)return tt;const lt=oe.segments[xe],ir=we[de];if(Fe(ir))break;const _r=`${ir}`,qt=de<we.length-1?we[de+1]:null;if(xe>0&&void 0===_r)break;if(_r&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!Nn(_r,qt,lt))return tt;de+=2}else{if(!Nn(_r,{},lt))return tt;de++}xe++}return{match:!0,pathIndex:xe,commandIndex:de}}(oe,he,we),tt=we.slice(xe.commandIndex);if(xe.match&&xe.pathIndex<oe.segments.length){const lt=new We(oe.segments.slice(0,xe.pathIndex),{});return lt.children[He]=new We(oe.segments.slice(xe.pathIndex),oe.children),cr(lt,0,tt)}return xe.match&&0===tt.length?new We(oe.segments,{}):xe.match&&!oe.hasChildren()?Pr(oe,he,we):xe.match?cr(oe,0,tt):Pr(oe,he,we)}function cr(oe,he,we){if(0===we.length)return new We(oe.segments,{});{const de=function ht(oe){return Fe(oe[0])?oe[0].outlets:{[He]:oe}}(we),xe={};if(Object.keys(de).some(tt=>tt!==He)&&oe.children[He]&&1===oe.numberOfChildren&&0===oe.children[He].segments.length){const tt=cr(oe.children[He],he,we);return new We(oe.segments,tt.children)}return Object.entries(de).forEach(([tt,lt])=>{"string"==typeof lt&&(lt=[lt]),null!==lt&&(xe[tt]=Bt(oe.children[tt],he,lt))}),Object.entries(oe.children).forEach(([tt,lt])=>{void 0===de[tt]&&(xe[tt]=lt)}),new We(oe.segments,xe)}}function Pr(oe,he,we){const de=oe.segments.slice(0,he);let xe=0;for(;xe<we.length;){const tt=we[xe];if(Fe(tt)){const _r=tn(tt.outlets);return new We(de,_r)}if(0===xe&&ke(we[0])){de.push(new Oe(oe.segments[he].path,on(we[0]))),xe++;continue}const lt=Fe(tt)?tt.outlets[He]:`${tt}`,ir=xe<we.length-1?we[xe+1]:null;lt&&ir&&ke(ir)?(de.push(new Oe(lt,on(ir))),xe+=2):(de.push(new Oe(lt,{})),xe++)}return new We(de,{})}function tn(oe){const he={};return Object.entries(oe).forEach(([we,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[we]=Pr(new We([],{}),0,de))}),he}function on(oe){const he={};return Object.entries(oe).forEach(([we,de])=>he[we]=`${de}`),he}function Nn(oe,he,we){return oe==we.path&&st(he,we.parameters)}const Dn="imperative";var Kr=function(oe){return oe[oe.NavigationStart=0]="NavigationStart",oe[oe.NavigationEnd=1]="NavigationEnd",oe[oe.NavigationCancel=2]="NavigationCancel",oe[oe.NavigationError=3]="NavigationError",oe[oe.RoutesRecognized=4]="RoutesRecognized",oe[oe.ResolveStart=5]="ResolveStart",oe[oe.ResolveEnd=6]="ResolveEnd",oe[oe.GuardsCheckStart=7]="GuardsCheckStart",oe[oe.GuardsCheckEnd=8]="GuardsCheckEnd",oe[oe.RouteConfigLoadStart=9]="RouteConfigLoadStart",oe[oe.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",oe[oe.ChildActivationStart=11]="ChildActivationStart",oe[oe.ChildActivationEnd=12]="ChildActivationEnd",oe[oe.ActivationStart=13]="ActivationStart",oe[oe.ActivationEnd=14]="ActivationEnd",oe[oe.Scroll=15]="Scroll",oe[oe.NavigationSkipped=16]="NavigationSkipped",oe}(Kr||{});class yn{constructor(he,we){this.id=he,this.url=we}}class Gn extends yn{constructor(he,we,de="imperative",xe=null){super(he,we),this.type=Kr.NavigationStart,this.navigationTrigger=de,this.restoredState=xe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bn extends yn{constructor(he,we,de){super(he,we),this.urlAfterRedirects=de,this.type=Kr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(oe){return oe[oe.Redirect=0]="Redirect",oe[oe.SupersededByNewNavigation=1]="SupersededByNewNavigation",oe[oe.NoDataFromResolver=2]="NoDataFromResolver",oe[oe.GuardRejected=3]="GuardRejected",oe}(Ln||{}),To=function(oe){return oe[oe.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",oe[oe.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",oe}(To||{});class eo extends yn{constructor(he,we,de,xe){super(he,we),this.reason=de,this.code=xe,this.type=Kr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends yn{constructor(he,we,de,xe){super(he,we),this.reason=de,this.code=xe,this.type=Kr.NavigationSkipped}}class ko extends yn{constructor(he,we,de,xe){super(he,we),this.error=de,this.target=xe,this.type=Kr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends yn{constructor(he,we,de,xe){super(he,we),this.urlAfterRedirects=de,this.state=xe,this.type=Kr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends yn{constructor(he,we,de,xe){super(he,we),this.urlAfterRedirects=de,this.state=xe,this.type=Kr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends yn{constructor(he,we,de,xe,tt){super(he,we),this.urlAfterRedirects=de,this.state=xe,this.shouldActivate=tt,this.type=Kr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends yn{constructor(he,we,de,xe){super(he,we),this.urlAfterRedirects=de,this.state=xe,this.type=Kr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends yn{constructor(he,we,de,xe){super(he,we),this.urlAfterRedirects=de,this.state=xe,this.type=Kr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ye{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(he){this.snapshot=he,this.type=Kr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(he){this.snapshot=he,this.type=Kr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(he,we,de){this.routerEvent=he,this.position=we,this.anchor=de,this.type=Kr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qt{}class hn{constructor(he,we){this.url=he,this.navigationBehaviorOptions=we}}function Yn(oe){return oe.outlet||He}function Le(oe){var he;if(!oe)return null;if(null!==(he=oe.routeConfig)&&void 0!==he&&he._injector)return oe.routeConfig._injector;for(let we=oe.parent;we;we=we.parent){const de=we.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class rt{get injector(){var he,we;return null!==(he=Le(null===(we=this.route)||void 0===we?void 0:we.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new Dt(this.rootInjector),this.attachRef=null}}let Dt=(()=>{var oe;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,xe){const tt=this.getOrCreateContext(de);tt.outlet=xe,this.contexts.set(de,tt)}onChildOutletDestroyed(de){const xe=this.getContext(de);xe&&(xe.outlet=null,xe.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let xe=this.getContext(de);return xe||(xe=new rt(this.rootInjector),this.contexts.set(de,xe)),xe}getContext(de){return this.contexts.get(de)||null}}return(oe=he).\u0275fac=function(de){return new(de||oe)(M.KVO(M.uvJ))},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();class kt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const we=this.pathFromRoot(he);return we.length>1?we[we.length-2]:null}children(he){const we=er(he,this._root);return we?we.children.map(de=>de.value):[]}firstChild(he){const we=er(he,this._root);return we&&we.children.length>0?we.children[0].value:null}siblings(he){const we=Yt(he,this._root);return we.length<2?[]:we[we.length-2].children.map(xe=>xe.value).filter(xe=>xe!==he)}pathFromRoot(he){return Yt(he,this._root).map(we=>we.value)}}function er(oe,he){if(oe===he.value)return he;for(const we of he.children){const de=er(oe,we);if(de)return de}return null}function Yt(oe,he){if(oe===he.value)return[he];for(const we of he.children){const de=Yt(oe,we);if(de.length)return de.unshift(he),de}return[]}class gr{constructor(he,we){this.value=he,this.children=we}toString(){return`TreeNode(${this.value})`}}function Er(oe){const he={};return oe&&oe.children.forEach(we=>he[we.value.outlet]=we),he}class Cr extends kt{constructor(he,we){super(he),this.snapshot=we,_n(this,he)}toString(){return this.snapshot.toString()}}function Tr(oe){const he=function Ur(oe){const tt=new qr([],{},{},"",{},He,oe,null,{});return new pn("",new gr(tt,[]))}(oe),we=new $.t([new Oe("",{})]),de=new $.t({}),xe=new $.t({}),tt=new $.t({}),lt=new $.t(""),ir=new Fr(we,de,tt,lt,xe,He,oe,he.root);return ir.snapshot=he.root,new Cr(new gr(ir,[]),he)}class Fr{constructor(he,we,de,xe,tt,lt,ir,_r){var qt,Or;this.urlSubject=he,this.paramsSubject=we,this.queryParamsSubject=de,this.fragmentSubject=xe,this.dataSubject=tt,this.outlet=lt,this.component=ir,this._futureSnapshot=_r,this.title=null!==(qt=null===(Or=this.dataSubject)||void 0===Or?void 0:Or.pipe((0,m.T)(Xr=>Xr[ot])))&&void 0!==qt?qt:(0,se.of)(void 0),this.url=he,this.params=we,this.queryParams=de,this.fragment=xe,this.data=tt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,m.T)(we=>Ue(we)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,m.T)(we=>Ue(we)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(oe,he,we="emptyOnly"){var de;let xe;const{routeConfig:tt}=oe;var lt;return xe=null===he||"always"!==we&&""!==(null==tt?void 0:tt.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...oe.params},data:{...oe.data},resolve:{...oe.data,...null!==(lt=oe._resolvedData)&&void 0!==lt?lt:{}}}:{params:{...he.params,...oe.params},data:{...he.data,...oe.data},resolve:{...oe.data,...he.data,...null==tt?void 0:tt.data,...oe._resolvedData}},tt&&Rr(tt)&&(xe.resolve[ot]=tt.title),xe}class qr{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[ot]}constructor(he,we,de,xe,tt,lt,ir,_r,qt){this.url=he,this.params=we,this.queryParams=de,this.fragment=xe,this.data=tt,this.outlet=lt,this.component=ir,this.routeConfig=_r,this._resolve=qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=Ue(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pn extends kt{constructor(he,we){super(we),this.url=he,_n(this,we)}toString(){return wn(this._root)}}function _n(oe,he){he.value._routerState=oe,he.children.forEach(we=>_n(oe,we))}function wn(oe){const he=oe.children.length>0?` { ${oe.children.map(wn).join(", ")} } `:"";return`${oe.value}${he}`}function Un(oe){if(oe.snapshot){const he=oe.snapshot,we=oe._futureSnapshot;oe.snapshot=we,st(he.queryParams,we.queryParams)||oe.queryParamsSubject.next(we.queryParams),he.fragment!==we.fragment&&oe.fragmentSubject.next(we.fragment),st(he.params,we.params)||oe.paramsSubject.next(we.params),function Ye(oe,he){if(oe.length!==he.length)return!1;for(let we=0;we<oe.length;++we)if(!st(oe[we],he[we]))return!1;return!0}(he.url,we.url)||oe.urlSubject.next(we.url),st(he.data,we.data)||oe.dataSubject.next(we.data)}else oe.snapshot=oe._futureSnapshot,oe.dataSubject.next(oe._futureSnapshot.data)}function kn(oe,he){const we=st(oe.params,he.params)&&function Je(oe,he){return It(oe,he)&&oe.every((we,de)=>st(we.parameters,he[de].parameters))}(oe.url,he.url);return we&&!(!oe.parent!=!he.parent)&&(!oe.parent||kn(oe.parent,he.parent))}function Rr(oe){return"string"==typeof oe.title||null===oe.title}let go=(()=>{var oe;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=He,this.activateEvents=new M.bkB,this.deactivateEvents=new M.bkB,this.attachEvents=new M.bkB,this.detachEvents=new M.bkB,this.parentContexts=(0,M.WQX)(Dt),this.location=(0,M.WQX)(M.c1b),this.changeDetector=(0,M.WQX)(M.gRc),this.inputBinder=(0,M.WQX)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:xe,previousValue:tt}=de.name;if(xe)return;this.isTrackedInParentContexts(tt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(tt)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var xe;return(null===(xe=this.parentContexts.getContext(de))||void 0===xe?void 0:xe.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,xe){var tt;this.activated=de,this._activatedRoute=xe,this.location.insert(de.hostView),null===(tt=this.inputBinder)||void 0===tt||tt.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,xe){var tt;if(this.isActivated)throw new M.wOt(4013,!1);this._activatedRoute=de;const lt=this.location,_r=de.snapshot.component,qt=this.parentContexts.getOrCreateContext(this.name).children,Or=new Lo(de,qt,lt.injector);this.activated=lt.createComponent(_r,{index:lt.length,injector:Or,environmentInjector:xe}),this.changeDetector.markForCheck(),null===(tt=this.inputBinder)||void 0===tt||tt.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275dir=M.FsC({type:oe,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,we,de){this.route=he,this.childContexts=we,this.parent=de}get(he,we){return he===Fr?this.route:he===Dt?this.childContexts:this.parent.get(he,we)}}const Pn=new M.nKC("");let js=(()=>{var oe;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var xe;null===(xe=this.outletDataSubscriptions.get(de))||void 0===xe||xe.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:xe}=de,tt=(0,v.z)([xe.queryParams,xe.params,xe.data]).pipe((0,p.n)(([lt,ir,_r],qt)=>(_r={...lt,...ir,..._r},0===qt?(0,se.of)(_r):Promise.resolve(_r)))).subscribe(lt=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==xe||null===xe.component)return void this.unsubscribeFromRouteData(de);const ir=(0,M.HJs)(xe.component);if(ir)for(const{templateName:_r}of ir.inputs)de.activatedComponentRef.setInput(_r,lt[_r]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,tt)}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac}),he})();function ho(oe,he,we){if(we&&oe.shouldReuseRoute(he.value,we.value.snapshot)){const de=we.value;de._futureSnapshot=he.value;const xe=function Bn(oe,he,we){return he.children.map(de=>{for(const xe of we.children)if(oe.shouldReuseRoute(de.value,xe.value.snapshot))return ho(oe,de,xe);return ho(oe,de)})}(oe,he,we);return new gr(de,xe)}{if(oe.shouldAttach(he.value)){const tt=oe.retrieve(he.value);if(null!==tt){const lt=tt.route;return lt.value._futureSnapshot=he.value,lt.children=he.children.map(ir=>ho(oe,ir)),lt}}const de=function Vr(oe){return new Fr(new $.t(oe.url),new $.t(oe.params),new $.t(oe.queryParams),new $.t(oe.fragment),new $.t(oe.data),oe.outlet,oe.component,oe)}(he.value),xe=he.children.map(tt=>ho(oe,tt));return new gr(de,xe)}}class Go{constructor(he,we){this.redirectTo=he,this.navigationBehaviorOptions=we}}const Jo="ngNavigationCancelingError";function Co(oe,he){const{redirectTo:we,navigationBehaviorOptions:de}=z(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,xe=Os(!1,Ln.Redirect);return xe.url=we,xe.navigationBehaviorOptions=de,xe}function Os(oe,he){const we=new Error(`NavigationCancelingError: ${oe||""}`);return we[Jo]=!0,we.cancellationCode=he,we}function Cn(oe){return!!oe&&oe[Jo]}class Mo{constructor(he,we,de,xe,tt){this.routeReuseStrategy=he,this.futureState=we,this.currState=de,this.forwardEvent=xe,this.inputBindingEnabled=tt}activate(he){const we=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(we,de,he),Un(this.futureState.root),this.activateChildRoutes(we,de,he)}deactivateChildRoutes(he,we,de){const xe=Er(we);he.children.forEach(tt=>{const lt=tt.value.outlet;this.deactivateRoutes(tt,xe[lt],de),delete xe[lt]}),Object.values(xe).forEach(tt=>{this.deactivateRouteAndItsChildren(tt,de)})}deactivateRoutes(he,we,de){const xe=he.value,tt=we?we.value:null;if(xe===tt)if(xe.component){const lt=de.getContext(xe.outlet);lt&&this.deactivateChildRoutes(he,we,lt.children)}else this.deactivateChildRoutes(he,we,de);else tt&&this.deactivateRouteAndItsChildren(we,de)}deactivateRouteAndItsChildren(he,we){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,we):this.deactivateRouteAndOutlet(he,we)}detachAndStoreRouteSubtree(he,we){const de=we.getContext(he.value.outlet),xe=de&&he.value.component?de.children:we,tt=Er(he);for(const lt of Object.values(tt))this.deactivateRouteAndItsChildren(lt,xe);if(de&&de.outlet){const lt=de.outlet.detach(),ir=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:lt,route:he,contexts:ir})}}deactivateRouteAndOutlet(he,we){const de=we.getContext(he.value.outlet),xe=de&&he.value.component?de.children:we,tt=Er(he);for(const lt of Object.values(tt))this.deactivateRouteAndItsChildren(lt,xe);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,we,de){const xe=Er(we);he.children.forEach(tt=>{this.activateRoutes(tt,xe[tt.value.outlet],de),this.forwardEvent(new Ee(tt.value.snapshot))}),he.children.length&&this.forwardEvent(new Ge(he.value.snapshot))}activateRoutes(he,we,de){const xe=he.value,tt=we?we.value:null;if(Un(xe),xe===tt)if(xe.component){const lt=de.getOrCreateContext(xe.outlet);this.activateChildRoutes(he,we,lt.children)}else this.activateChildRoutes(he,we,de);else if(xe.component){const lt=de.getOrCreateContext(xe.outlet);if(this.routeReuseStrategy.shouldAttach(xe.snapshot)){const ir=this.routeReuseStrategy.retrieve(xe.snapshot);this.routeReuseStrategy.store(xe.snapshot,null),lt.children.onOutletReAttached(ir.contexts),lt.attachRef=ir.componentRef,lt.route=ir.route.value,lt.outlet&&lt.outlet.attach(ir.componentRef,ir.route.value),Un(ir.route.value),this.activateChildRoutes(he,null,lt.children)}else lt.attachRef=null,lt.route=xe,lt.outlet&&lt.outlet.activateWith(xe,lt.injector),this.activateChildRoutes(he,null,lt.children)}else this.activateChildRoutes(he,null,de)}}class En{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class Ps{constructor(he,we){this.component=he,this.route=we}}function Xn(oe,he,we){const de=oe._root;return ws(de,he?he._root:null,we,[de.value])}function _s(oe,he){const we=Symbol(),de=he.get(oe,we);return de===we?"function"!=typeof oe||(0,M.LfX)(oe)?he.get(oe):oe:de}function ws(oe,he,we,de,xe={canDeactivateChecks:[],canActivateChecks:[]}){const tt=Er(he);return oe.children.forEach(lt=>{(function Gs(oe,he,we,de,xe={canDeactivateChecks:[],canActivateChecks:[]}){const tt=oe.value,lt=he?he.value:null,ir=we?we.getContext(oe.value.outlet):null;if(lt&&tt.routeConfig===lt.routeConfig){const _r=function Hr(oe,he,we){if("function"==typeof we)return we(oe,he);switch(we){case"pathParamsChange":return!It(oe.url,he.url);case"pathParamsOrQueryParamsChange":return!It(oe.url,he.url)||!st(oe.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kn(oe,he)||!st(oe.queryParams,he.queryParams);default:return!kn(oe,he)}}(lt,tt,tt.routeConfig.runGuardsAndResolvers);_r?xe.canActivateChecks.push(new En(de)):(tt.data=lt.data,tt._resolvedData=lt._resolvedData),ws(oe,he,tt.component?ir?ir.children:null:we,de,xe),_r&&ir&&ir.outlet&&ir.outlet.isActivated&&xe.canDeactivateChecks.push(new Ps(ir.outlet.component,lt))}else lt&&Ho(he,ir,xe),xe.canActivateChecks.push(new En(de)),ws(oe,null,tt.component?ir?ir.children:null:we,de,xe)})(lt,tt[lt.value.outlet],we,de.concat([lt.value]),xe),delete tt[lt.value.outlet]}),Object.entries(tt).forEach(([lt,ir])=>Ho(ir,we.getContext(lt),xe)),xe}function Ho(oe,he,we){const de=Er(oe),xe=oe.value;Object.entries(de).forEach(([tt,lt])=>{Ho(lt,xe.component?he?he.children.getContext(tt):null:he,we)}),we.canDeactivateChecks.push(new Ps(xe.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,xe))}function E(oe){return"function"==typeof oe}function Qe(oe){return oe instanceof f||"EmptyError"===(null==oe?void 0:oe.name)}const _t=Symbol("INITIAL_VALUE");function gt(){return(0,p.n)(oe=>(0,v.z)(oe.map(he=>he.pipe((0,y.s)(1),function L(...oe){const he=(0,D.lI)(oe);return(0,V.N)((we,de)=>{(he?(0,g.x)(oe,we,he):(0,g.x)(oe,we)).subscribe(de)})}(_t)))).pipe((0,m.T)(he=>{for(const we of he)if(!0!==we){if(we===_t)return _t;if(!1===we||Xt(we))return we}return!0}),(0,P.p)(he=>he!==_t),(0,y.s)(1)))}function Xt(oe){return z(oe)||oe instanceof Go}function Lr(oe){return(0,_.F)((0,te.M)(he=>{if("boolean"!=typeof he)throw Co(0,he)}),(0,m.T)(he=>!0===he))}class Wr{constructor(he){this.segmentGroup=he||null}}class Qr extends Error{constructor(he){super(),this.urlTree=he}}function vn(oe){return(0,i.$)(new Wr(oe))}class Kn{constructor(he,we){this.urlSerializer=he,this.urlTree=we}lineralizeSegments(he,we){let de=[],xe=we.root;for(;;){if(de=de.concat(xe.segments),0===xe.numberOfChildren)return(0,se.of)(de);if(xe.numberOfChildren>1||!xe.children[He])return(0,i.$)(new M.wOt(4e3,!1));xe=xe.children[He]}}applyRedirectCommands(he,we,de,xe,tt){if("string"!=typeof we){const ir=we,{queryParams:_r,fragment:qt,routeConfig:Or,url:Xr,outlet:fn,params:Jr,data:ro,title:Wo}=xe,Fo=(0,M.N4e)(tt,()=>ir({params:Jr,data:ro,queryParams:_r,fragment:qt,routeConfig:Or,url:Xr,outlet:fn,title:Wo}));if(Fo instanceof Ve)throw new Qr(Fo);we=Fo}const lt=this.applyRedirectCreateUrlTree(we,this.urlSerializer.parse(we),he,de);if("/"===we[0])throw new Qr(lt);return lt}applyRedirectCreateUrlTree(he,we,de,xe){const tt=this.createSegmentGroup(he,we.root,de,xe);return new Ve(tt,this.createQueryParams(we.queryParams,this.urlTree.queryParams),we.fragment)}createQueryParams(he,we){const de={};return Object.entries(he).forEach(([xe,tt])=>{if("string"==typeof tt&&":"===tt[0]){const ir=tt.substring(1);de[xe]=we[ir]}else de[xe]=tt}),de}createSegmentGroup(he,we,de,xe){const tt=this.createSegments(he,we.segments,de,xe);let lt={};return Object.entries(we.children).forEach(([ir,_r])=>{lt[ir]=this.createSegmentGroup(he,_r,de,xe)}),new We(tt,lt)}createSegments(he,we,de,xe){return we.map(tt=>":"===tt.path[0]?this.findPosParam(he,tt,xe):this.findOrReturn(tt,de))}findPosParam(he,we,de){const xe=de[we.path.substring(1)];if(!xe)throw new M.wOt(4001,!1);return xe}findOrReturn(he,we){let de=0;for(const xe of we){if(xe.path===he.path)return we.splice(de),xe;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tn(oe,he,we,de,xe){const tt=Mn(oe,he,we);return tt.matched?(de=function mo(oe,he){var we;return oe.providers&&!oe._injector&&(oe._injector=(0,M.Ol2)(oe.providers,he,`Route: ${oe.path}`)),null!==(we=oe._injector)&&void 0!==we?we:he}(he,de),function zr(oe,he,we,de){const xe=he.canMatch;if(!xe||0===xe.length)return(0,se.of)(!0);const tt=xe.map(lt=>{const ir=_s(lt,oe);return ar(function Pe(oe){return oe&&E(oe.canMatch)}(ir)?ir.canMatch(he,we):(0,M.N4e)(oe,()=>ir(he,we)))});return(0,se.of)(tt).pipe(gt(),Lr())}(de,he,we).pipe((0,m.T)(lt=>!0===lt?tt:{...fo}))):(0,se.of)(tt)}function Mn(oe,he,we){var de,xe;if("**"===he.path)return function $r(oe){return{matched:!0,parameters:oe.length>0?Ot(oe).parameters:{},consumedSegments:oe,remainingSegments:[],positionalParamSegments:{}}}(we);if(""===he.path)return"full"===he.pathMatch&&(oe.hasChildren()||we.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:we,parameters:{},positionalParamSegments:{}};const lt=(he.matcher||nt)(we,oe,he);if(!lt)return{...fo};const ir={};Object.entries(null!==(de=lt.posParams)&&void 0!==de?de:{}).forEach(([qt,Or])=>{ir[qt]=Or.path});const _r=lt.consumed.length>0?{...ir,...lt.consumed[lt.consumed.length-1].parameters}:ir;return{matched:!0,consumedSegments:lt.consumed,remainingSegments:we.slice(lt.consumed.length),parameters:_r,positionalParamSegments:null!==(xe=lt.posParams)&&void 0!==xe?xe:{}}}function $n(oe,he,we,de){return we.length>0&&function Rn(oe,he,we){return we.some(de=>rs(oe,he,de)&&Yn(de)!==He)}(oe,we,de)?{segmentGroup:new We(he,lo(de,new We(we,oe.children))),slicedSegments:[]}:0===we.length&&function uo(oe,he,we){return we.some(de=>rs(oe,he,de))}(oe,we,de)?{segmentGroup:new We(oe.segments,Vn(oe,we,de,oe.children)),slicedSegments:we}:{segmentGroup:new We(oe.segments,oe.children),slicedSegments:we}}function Vn(oe,he,we,de){const xe={};for(const tt of we)if(rs(oe,he,tt)&&!de[Yn(tt)]){const lt=new We([],{});xe[Yn(tt)]=lt}return{...de,...xe}}function lo(oe,he){const we={};we[He]=he;for(const de of oe)if(""===de.path&&Yn(de)!==He){const xe=new We([],{});we[Yn(de)]=xe}return we}function rs(oe,he,we){return(!(oe.hasChildren()||he.length>0)||"full"!==we.pathMatch)&&""===we.path}class Ud{}class vi{constructor(he,we,de,xe,tt,lt,ir){this.injector=he,this.configLoader=we,this.rootComponentType=de,this.config=xe,this.urlTree=tt,this.paramsInheritanceStrategy=lt,this.urlSerializer=ir,this.applyRedirects=new Kn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new M.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=$n(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,m.T)(({children:we,rootSnapshot:de})=>{const xe=new gr(de,we),tt=new pn("",xe),lt=function B(oe,he,we=null,de=null){return Se(ue(oe),he,we,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return lt.queryParams=this.urlTree.queryParams,tt.url=this.urlSerializer.serialize(lt),{state:tt,tree:lt}}))}match(he){const we=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),He,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,He,we).pipe((0,m.T)(de=>({children:de,rootSnapshot:we})),G(de=>{if(de instanceof Qr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Wr?this.noMatchError(de):de}))}processSegmentGroup(he,we,de,xe,tt){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,we,de,tt):this.processSegment(he,we,de,de.segments,xe,!0,tt).pipe((0,m.T)(lt=>lt instanceof gr?[lt]:[]))}processChildren(he,we,de,xe){const tt=[];for(const lt of Object.keys(de.children))"primary"===lt?tt.unshift(lt):tt.push(lt);return(0,o.H)(tt).pipe(q(lt=>{const ir=de.children[lt],_r=function So(oe,he){const we=oe.filter(de=>Yn(de)===he);return we.push(...oe.filter(de=>Yn(de)!==he)),we}(we,lt);return this.processSegmentGroup(he,_r,ir,lt,xe)}),function le(oe,he){return(0,V.N)(function Y(oe,he,we,de,xe){return(tt,lt)=>{let ir=we,_r=he,qt=0;tt.subscribe((0,U._)(lt,Or=>{const Xr=qt++;_r=ir?oe(_r,Or,Xr):(ir=!0,Or),de&&lt.next(_r)},xe&&(()=>{ir&&lt.next(_r),lt.complete()})))}}(oe,he,arguments.length>=2,!0))}((lt,ir)=>(lt.push(...ir),lt)),A(null),function J(oe,he){const we=arguments.length>=2;return de=>de.pipe(oe?(0,P.p)((xe,tt)=>oe(xe,tt,de)):Z.D,Ie(1),we?A(he):R(()=>new f))}(),(0,x.Z)(lt=>{if(null===lt)return vn(de);const ir=Ea(lt);return function wa(oe){oe.sort((he,we)=>he.value.outlet===He?-1:we.value.outlet===He?1:he.value.outlet.localeCompare(we.value.outlet))}(ir),(0,se.of)(ir)}))}processSegment(he,we,de,xe,tt,lt,ir){return(0,o.H)(we).pipe(q(_r=>{var qt;return this.processSegmentAgainstRoute(null!==(qt=_r._injector)&&void 0!==qt?qt:he,we,_r,de,xe,tt,lt,ir).pipe(G(Or=>{if(Or instanceof Wr)return(0,se.of)(null);throw Or}))}),re(_r=>!!_r),G(_r=>{if(Qe(_r))return function _a(oe,he,we){return 0===he.length&&!oe.children[we]}(de,xe,tt)?(0,se.of)(new Ud):vn(de);throw _r}))}processSegmentAgainstRoute(he,we,de,xe,tt,lt,ir,_r){return function ni(oe,he,we,de){return!!(Yn(oe)===de||de!==He&&rs(he,we,oe))&&Mn(he,oe,we).matched}(de,xe,tt,lt)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,xe,de,tt,lt,_r):this.allowRedirects&&ir?this.expandSegmentAgainstRouteUsingRedirect(he,xe,we,de,tt,lt,_r):vn(xe):vn(xe)}expandSegmentAgainstRouteUsingRedirect(he,we,de,xe,tt,lt,ir){var _r,qt;const{matched:Or,parameters:Xr,consumedSegments:fn,positionalParamSegments:Jr,remainingSegments:ro}=Mn(we,xe,tt);if(!Or)return vn(we);"string"==typeof xe.redirectTo&&"/"===xe.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new qr(tt,Xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(xe),Yn(xe),null!==(_r=null!==(qt=xe.component)&&void 0!==qt?qt:xe._loadedComponent)&&void 0!==_r?_r:null,xe,Sa(xe)),Fo=Gr(Wo,ir,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xi=this.applyRedirects.applyRedirectCommands(fn,xe.redirectTo,Jr,Wo,he);return this.applyRedirects.lineralizeSegments(xe,Xi).pipe((0,x.Z)(fs=>this.processSegment(he,de,we,fs.concat(ro),lt,!1,ir)))}matchSegmentAgainstRoute(he,we,de,xe,tt,lt){const ir=Tn(we,de,xe,he);return"**"===de.path&&(we.children={}),ir.pipe((0,p.n)(_r=>{var qt;return _r.matched?(he=null!==(qt=de._injector)&&void 0!==qt?qt:he,this.getChildConfig(he,de,xe).pipe((0,p.n)(({routes:Or})=>{var Xr,fn,Jr;const ro=null!==(Xr=de._loadedInjector)&&void 0!==Xr?Xr:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xi}=_r,fs=new qr(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(de),Yn(de),null!==(fn=null!==(Jr=de.component)&&void 0!==Jr?Jr:de._loadedComponent)&&void 0!==fn?fn:null,de,Sa(de)),si=Gr(fs,lt,this.paramsInheritanceStrategy);fs.params=Object.freeze(si.params),fs.data=Object.freeze(si.data);const{segmentGroup:Ml,slicedSegments:qi}=$n(we,Fo,Xi,Or);if(0===qi.length&&Ml.hasChildren())return this.processChildren(ro,Or,Ml,fs).pipe((0,m.T)(Si=>new gr(fs,Si)));if(0===Or.length&&0===qi.length)return(0,se.of)(new gr(fs,[]));const Qu=Yn(de)===tt;return this.processSegment(ro,Or,Ml,qi,Qu?He:tt,!0,fs).pipe((0,m.T)(Si=>new gr(fs,Si instanceof gr?[Si]:[])))}))):vn(we)}))}getChildConfig(he,we,de){return we.children?(0,se.of)({routes:we.children,injector:he}):we.loadChildren?void 0!==we._loadedRoutes?(0,se.of)({routes:we._loadedRoutes,injector:we._loadedInjector}):function Br(oe,he,we,de){const xe=he.canLoad;if(void 0===xe||0===xe.length)return(0,se.of)(!0);const tt=xe.map(lt=>{const ir=_s(lt,oe);return ar(function K(oe){return oe&&E(oe.canLoad)}(ir)?ir.canLoad(he,we):(0,M.N4e)(oe,()=>ir(he,we)))});return(0,se.of)(tt).pipe(gt(),Lr())}(he,we,de).pipe((0,x.Z)(xe=>xe?this.configLoader.loadChildren(he,we).pipe((0,te.M)(tt=>{we._loadedRoutes=tt.routes,we._loadedInjector=tt.injector})):function so(oe){return(0,i.$)(Os(!1,Ln.GuardRejected))}())):(0,se.of)({routes:[],injector:he})}}function Vi(oe){const he=oe.value.routeConfig;return he&&""===he.path}function Ea(oe){const he=[],we=new Set;for(const de of oe){if(!Vi(de)){he.push(de);continue}const xe=he.find(tt=>de.value.routeConfig===tt.value.routeConfig);void 0!==xe?(xe.children.push(...de.children),we.add(xe)):he.push(de)}for(const de of we){const xe=Ea(de.children);he.push(new gr(de.value,xe))}return he.filter(de=>!we.has(de))}function oi(oe){return oe.data||{}}function Sa(oe){return oe.resolve||{}}function Vu(oe){const he=oe.children.map(we=>Vu(we)).flat();return[oe,...he]}function Ca(oe){return(0,p.n)(he=>{const we=oe(he);return we?(0,o.H)(we).pipe((0,m.T)(()=>he)):(0,se.of)(he)})}let Gi=(()=>{var oe;class he{buildTitle(de){let xe,tt=de.root;for(;void 0!==tt;){var lt;xe=null!==(lt=this.getResolvedTitleForRoute(tt))&&void 0!==lt?lt:xe,tt=tt.children.find(ir=>ir.outlet===He)}return xe}getResolvedTitleForRoute(de){return de.data[ot]}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:()=>(0,M.WQX)(mn),providedIn:"root"}),he})(),mn=(()=>{var oe;class he extends Gi{constructor(de){super(),this.title=de}updateTitle(de){const xe=this.buildTitle(de);void 0!==xe&&this.title.setTitle(xe)}}return(oe=he).\u0275fac=function(de){return new(de||oe)(M.KVO(ut.hE))},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();const Hs=new M.nKC("",{providedIn:"root",factory:()=>({})});let bi=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275cmp=M.VBU({type:oe,selectors:[["ng-component"]],standalone:!0,features:[M.aNF],decls:1,vars:0,template:function(de,xe){1&de&&M.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(oe){const he=oe.children&&oe.children.map(Io),we=he?{...oe,children:he}:{...oe};return!we.component&&!we.loadComponent&&(he||we.loadChildren)&&we.outlet&&we.outlet!==He&&(we.component=bi),we}const ds=new M.nKC("");let Cl=(()=>{var oe;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.WQX)(M.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,se.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const xe=ar(de.loadComponent()).pipe((0,m.T)(je),(0,te.M)(lt=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=lt}),ne(()=>{this.componentLoaders.delete(de)})),tt=new l.G(xe,()=>new u.B).pipe((0,me.B)());return this.componentLoaders.set(de,tt),tt}loadChildren(de,xe){if(this.childrenLoaders.get(xe))return this.childrenLoaders.get(xe);if(xe._loadedRoutes)return(0,se.of)({routes:xe._loadedRoutes,injector:xe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(xe);const lt=function $d(oe,he,we,de){return ar(oe.loadChildren()).pipe((0,m.T)(je),(0,x.Z)(xe=>xe instanceof M.Co$||Array.isArray(xe)?(0,se.of)(xe):(0,o.H)(he.compileModuleAsync(xe))),(0,m.T)(xe=>{de&&de(oe);let tt,lt,ir=!1;return Array.isArray(xe)?(lt=xe,!0):(tt=xe.create(we).injector,lt=tt.get(ds,[],{optional:!0,self:!0}).flat()),{routes:lt.map(Io),injector:tt}}))}(xe,this.compiler,de,this.onLoadEndListener).pipe(ne(()=>{this.childrenLoaders.delete(xe)})),ir=new l.G(lt,()=>new u.B).pipe((0,me.B)());return this.childrenLoaders.set(xe,ir),ir}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();function je(oe){return function ce(oe){return oe&&"object"==typeof oe&&"default"in oe}(oe)?oe.default:oe}let wt=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:()=>(0,M.WQX)(Me),providedIn:"root"}),he})(),Me=(()=>{var oe;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,xe){return de}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();const it=new M.nKC(""),Tt=new M.nKC("");function mr(oe,he,we){const de=oe.get(Tt),xe=oe.get(h.qQ);return oe.get(M.SKi).runOutsideAngular(()=>{if(!xe.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(qt=>setTimeout(qt));let tt;const lt=new Promise(qt=>{tt=qt}),ir=xe.startViewTransition(()=>(tt(),function Ir(oe){return new Promise(he=>{(0,M.mal)({read:()=>setTimeout(he)},{injector:oe})})}(oe))),{onViewTransitionCreated:_r}=de;return _r&&(0,M.N4e)(oe,()=>_r({transition:ir,from:he,to:we})),lt})}const sn=new M.nKC("");let nn=(()=>{var oe;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.B,this.transitionAbortSubject=new u.B,this.configLoader=(0,M.WQX)(Cl),this.environmentInjector=(0,M.WQX)(M.uvJ),this.urlSerializer=(0,M.WQX)(Ht),this.rootContexts=(0,M.WQX)(Dt),this.location=(0,M.WQX)(h.aZ),this.inputBindingEnabled=null!==(0,M.WQX)(Pn,{optional:!0}),this.titleStrategy=(0,M.WQX)(Gi),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,M.WQX)(wt),this.createViewTransition=(0,M.WQX)(it,{optional:!0}),this.navigationErrorHandler=(0,M.WQX)(sn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=tt=>this.events.next(new vs(tt)),this.configLoader.onLoadStartListener=tt=>this.events.next(new cs(tt))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var xe;const tt=++this.navigationId;null===(xe=this.transitions)||void 0===xe||xe.next({...this.transitions.value,...de,id:tt})}setupNavigations(de,xe,tt){return this.transitions=new $.t({id:0,currentUrlTree:xe,currentRawUrl:xe,extractedUrl:this.urlHandlingStrategy.extract(xe),urlAfterRedirects:this.urlHandlingStrategy.extract(xe),rawUrl:xe,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dn,restoredState:null,currentSnapshot:tt.snapshot,targetSnapshot:null,currentRouterState:tt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,P.p)(lt=>0!==lt.id),(0,m.T)(lt=>({...lt,extractedUrl:this.urlHandlingStrategy.extract(lt.rawUrl)})),(0,p.n)(lt=>{let ir=!1,_r=!1;return(0,se.of)(lt).pipe((0,p.n)(qt=>{var Or;if(this.navigationId>lt.id)return this.cancelNavigationTransition(lt,"",Ln.SupersededByNewNavigation),a.w;this.currentTransition=lt,this.currentNavigation={id:qt.id,initialUrl:qt.rawUrl,extractedUrl:qt.extractedUrl,targetBrowserUrl:"string"==typeof qt.extras.browserUrl?this.urlSerializer.parse(qt.extras.browserUrl):qt.extras.browserUrl,trigger:qt.source,extras:qt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Xr=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),fn=null!==(Or=qt.extras.onSameUrlNavigation)&&void 0!==Or?Or:de.onSameUrlNavigation;if(!Xr&&"reload"!==fn){const Jr="";return this.events.next(new wo(qt.id,this.urlSerializer.serialize(qt.rawUrl),Jr,To.IgnoredSameUrlNavigation)),qt.resolve(!1),a.w}if(this.urlHandlingStrategy.shouldProcessUrl(qt.rawUrl))return(0,se.of)(qt).pipe((0,p.n)(Jr=>{var ro,Wo;const Fo=null===(ro=this.transitions)||void 0===ro?void 0:ro.getValue();return this.events.next(new Gn(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),Jr.source,Jr.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?a.w:Promise.resolve(Jr)}),function an(oe,he,we,de,xe,tt){return(0,x.Z)(lt=>function $u(oe,he,we,de,xe,tt,lt="emptyOnly"){return new vi(oe,he,we,de,xe,lt,tt).recognize()}(oe,he,we,de,lt.extractedUrl,xe,tt).pipe((0,m.T)(({state:ir,tree:_r})=>({...lt,targetSnapshot:ir,urlAfterRedirects:_r}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,te.M)(Jr=>{lt.targetSnapshot=Jr.targetSnapshot,lt.urlAfterRedirects=Jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jr.urlAfterRedirects};const ro=new No(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),this.urlSerializer.serialize(Jr.urlAfterRedirects),Jr.targetSnapshot);this.events.next(ro)}));if(Xr&&this.urlHandlingStrategy.shouldProcessUrl(qt.currentRawUrl)){const{id:Jr,extractedUrl:ro,source:Wo,restoredState:Fo,extras:Xi}=qt,fs=new Gn(Jr,this.urlSerializer.serialize(ro),Wo,Fo);this.events.next(fs);const si=Tr(this.rootComponentType).snapshot;return this.currentTransition=lt={...qt,targetSnapshot:si,urlAfterRedirects:ro,extras:{...Xi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ro,(0,se.of)(lt)}{const Jr="";return this.events.next(new wo(qt.id,this.urlSerializer.serialize(qt.extractedUrl),Jr,To.IgnoredByUrlHandlingStrategy)),qt.resolve(!1),a.w}}),(0,te.M)(qt=>{const Or=new $o(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(Or)}),(0,m.T)(qt=>(this.currentTransition=lt={...qt,guards:Xn(qt.targetSnapshot,qt.currentSnapshot,this.rootContexts)},lt)),function ve(oe,he){return(0,x.Z)(we=>{const{targetSnapshot:de,currentSnapshot:xe,guards:{canActivateChecks:tt,canDeactivateChecks:lt}}=we;return 0===lt.length&&0===tt.length?(0,se.of)({...we,guardsResult:!0}):function ie(oe,he,we,de){return(0,o.H)(oe).pipe((0,x.Z)(xe=>function sr(oe,he,we,de,xe){const tt=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!tt||0===tt.length)return(0,se.of)(!0);const lt=tt.map(ir=>{var _r;const qt=null!==(_r=Le(he))&&void 0!==_r?_r:xe,Or=_s(ir,qt);return ar(function Ae(oe){return oe&&E(oe.canDeactivate)}(Or)?Or.canDeactivate(oe,he,we,de):(0,M.N4e)(qt,()=>Or(oe,he,we,de))).pipe(re())});return(0,se.of)(lt).pipe(gt())}(xe.component,xe.route,we,he,de)),re(xe=>!0!==xe,!0))}(lt,de,xe,oe).pipe((0,x.Z)(ir=>ir&&function N(oe){return"boolean"==typeof oe}(ir)?function be(oe,he,we,de){return(0,o.H)(he).pipe(q(xe=>(0,g.x)(function Be(oe,he){return null!==oe&&he&&he(new ye(oe)),(0,se.of)(!0)}(xe.route.parent,de),function ge(oe,he){return null!==oe&&he&&he(new ct(oe)),(0,se.of)(!0)}(xe.route,de),function Wt(oe,he,we){const de=he[he.length-1],tt=he.slice(0,he.length-1).reverse().map(lt=>function Rs(oe){const he=oe.routeConfig?oe.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:oe,guards:he}:null}(lt)).filter(lt=>null!==lt).map(lt=>(0,S.v)(()=>{const ir=lt.guards.map(_r=>{var qt;const Or=null!==(qt=Le(lt.node))&&void 0!==qt?qt:we,Xr=_s(_r,Or);return ar(function pe(oe){return oe&&E(oe.canActivateChild)}(Xr)?Xr.canActivateChild(de,oe):(0,M.N4e)(Or,()=>Xr(de,oe))).pipe(re())});return(0,se.of)(ir).pipe(gt())}));return(0,se.of)(tt).pipe(gt())}(oe,xe.path,we),function Nt(oe,he,we){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,se.of)(!0);const xe=de.map(tt=>(0,S.v)(()=>{var lt;const ir=null!==(lt=Le(he))&&void 0!==lt?lt:we,_r=_s(tt,ir);return ar(function ee(oe){return oe&&E(oe.canActivate)}(_r)?_r.canActivate(he,oe):(0,M.N4e)(ir,()=>_r(he,oe))).pipe(re())}));return(0,se.of)(xe).pipe(gt())}(oe,xe.route,we))),re(xe=>!0!==xe,!0))}(de,tt,oe,he):(0,se.of)(ir)),(0,m.T)(ir=>({...we,guardsResult:ir})))})}(this.environmentInjector,qt=>this.events.next(qt)),(0,te.M)(qt=>{if(lt.guardsResult=qt.guardsResult,qt.guardsResult&&"boolean"!=typeof qt.guardsResult)throw Co(0,qt.guardsResult);const Or=new Wn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot,!!qt.guardsResult);this.events.next(Or)}),(0,P.p)(qt=>!!qt.guardsResult||(this.cancelNavigationTransition(qt,"",Ln.GuardRejected),!1)),Ca(qt=>{if(qt.guards.canActivateChecks.length)return(0,se.of)(qt).pipe((0,te.M)(Or=>{const Xr=new Vo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}),(0,p.n)(Or=>{let Xr=!1;return(0,se.of)(Or).pipe(function An(oe,he){return(0,x.Z)(we=>{const{targetSnapshot:de,guards:{canActivateChecks:xe}}=we;if(!xe.length)return(0,se.of)(we);const tt=new Set(xe.map(_r=>_r.route)),lt=new Set;for(const _r of tt)if(!lt.has(_r))for(const qt of Vu(_r))lt.add(qt);let ir=0;return(0,o.H)(lt).pipe(q(_r=>tt.has(_r)?function Gu(oe,he,we,de){const xe=oe.routeConfig,tt=oe._resolve;return void 0!==(null==xe?void 0:xe.title)&&!Rr(xe)&&(tt[ot]=xe.title),function Hu(oe,he,we,de){const xe=Ze(oe);if(0===xe.length)return(0,se.of)({});const tt={};return(0,o.H)(xe).pipe((0,x.Z)(lt=>function Bd(oe,he,we,de){var xe;const tt=null!==(xe=Le(he))&&void 0!==xe?xe:de,lt=_s(oe,tt);return ar(lt.resolve?lt.resolve(he,we):(0,M.N4e)(tt,()=>lt(he,we)))}(oe[lt],he,we,de).pipe(re(),(0,te.M)(ir=>{if(ir instanceof Go)throw Co(new yt,ir);tt[lt]=ir}))),Ie(1),(0,j.u)(tt),G(lt=>Qe(lt)?a.w:(0,i.$)(lt)))}(tt,oe,he,de).pipe((0,m.T)(lt=>(oe._resolvedData=lt,oe.data=Gr(oe,oe.parent,we).resolve,null)))}(_r,de,oe,he):(_r.data=Gr(_r,_r.parent,oe).resolve,(0,se.of)(void 0))),(0,te.M)(()=>ir++),Ie(1),(0,x.Z)(_r=>ir===lt.size?(0,se.of)(we):a.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,te.M)({next:()=>Xr=!0,complete:()=>{Xr||this.cancelNavigationTransition(Or,"",Ln.NoDataFromResolver)}}))}),(0,te.M)(Or=>{const Xr=new oo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}))}),Ca(qt=>{const Or=Xr=>{var fn;const Jr=[];null!==(fn=Xr.routeConfig)&&void 0!==fn&&fn.loadComponent&&!Xr.routeConfig._loadedComponent&&Jr.push(this.configLoader.loadComponent(Xr.routeConfig).pipe((0,te.M)(ro=>{Xr.component=ro}),(0,m.T)(()=>{})));for(const ro of Xr.children)Jr.push(...Or(ro));return Jr};return(0,v.z)(Or(qt.targetSnapshot.root)).pipe(A(null),(0,y.s)(1))}),Ca(()=>this.afterPreactivation()),(0,p.n)(()=>{var qt;const{currentSnapshot:Or,targetSnapshot:Xr}=lt,fn=null===(qt=this.createViewTransition)||void 0===qt?void 0:qt.call(this,this.environmentInjector,Or.root,Xr.root);return fn?(0,o.H)(fn).pipe((0,m.T)(()=>lt)):(0,se.of)(lt)}),(0,m.T)(qt=>{const Or=function yi(oe,he,we){const de=ho(oe,he._root,we?we._root:void 0);return new Cr(de,he)}(de.routeReuseStrategy,qt.targetSnapshot,qt.currentRouterState);return this.currentTransition=lt={...qt,targetRouterState:Or},this.currentNavigation.targetRouterState=Or,lt}),(0,te.M)(()=>{this.events.next(new Qt)}),((oe,he,we,de)=>(0,m.T)(xe=>(new Mo(he,xe.targetRouterState,xe.currentRouterState,we,de).activate(oe),xe)))(this.rootContexts,de.routeReuseStrategy,qt=>this.events.next(qt),this.inputBindingEnabled),(0,y.s)(1),(0,te.M)({next:qt=>{var Or;ir=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects))),null===(Or=this.titleStrategy)||void 0===Or||Or.updateTitle(qt.targetRouterState.snapshot),qt.resolve(!0)},complete:()=>{ir=!0}}),function $e(oe){return(0,V.N)((he,we)=>{(0,X.Tg)(oe).subscribe((0,U._)(we,()=>we.complete(),De.l)),!we.closed&&he.subscribe(we)})}(this.transitionAbortSubject.pipe((0,te.M)(qt=>{throw qt}))),ne(()=>{var qt;!ir&&!_r&&this.cancelNavigationTransition(lt,"",Ln.SupersededByNewNavigation),(null===(qt=this.currentTransition)||void 0===qt?void 0:qt.id)===lt.id&&(this.currentNavigation=null,this.currentTransition=null)}),G(qt=>{if(_r=!0,Cn(qt))this.events.next(new eo(lt.id,this.urlSerializer.serialize(lt.extractedUrl),qt.message,qt.cancellationCode)),function bs(oe){return Cn(oe)&&z(oe.url)}(qt)?this.events.next(new hn(qt.url,qt.navigationBehaviorOptions)):lt.resolve(!1);else{var Or;const Xr=new ko(lt.id,this.urlSerializer.serialize(lt.extractedUrl),qt,null!==(Or=lt.targetSnapshot)&&void 0!==Or?Or:void 0);try{const fn=(0,M.N4e)(this.environmentInjector,()=>{var Jr;return null===(Jr=this.navigationErrorHandler)||void 0===Jr?void 0:Jr.call(this,Xr)});if(fn instanceof Go){const{message:Jr,cancellationCode:ro}=Co(0,fn);this.events.next(new eo(lt.id,this.urlSerializer.serialize(lt.extractedUrl),Jr,ro)),this.events.next(new hn(fn.redirectTo,fn.navigationBehaviorOptions))}else{this.events.next(Xr);const Jr=de.errorHandler(qt);lt.resolve(!!Jr)}}catch(fn){this.options.resolveNavigationPromiseOnError?lt.resolve(!1):lt.reject(fn)}}return a.w}))}))}cancelNavigationTransition(de,xe,tt){const lt=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),xe,tt);this.events.next(lt),de.resolve(!1)}isUpdatingInternalState(){var de,xe;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(xe=this.currentTransition)||void 0===xe?void 0:xe.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,xe,tt,lt;const ir=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),_r=null!==(de=null===(xe=this.currentNavigation)||void 0===xe?void 0:xe.targetBrowserUrl)&&void 0!==de?de:null===(tt=this.currentNavigation)||void 0===tt?void 0:tt.extractedUrl;return ir.toString()!==(null==_r?void 0:_r.toString())&&!(null!==(lt=this.currentNavigation)&&void 0!==lt&&lt.extras.skipLocationChange)}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();function xn(oe){return oe!==Dn}let Yr=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:()=>(0,M.WQX)(kr),providedIn:"root"}),he})();class In{shouldDetach(he){return!1}store(he,we){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,we){return he.routeConfig===we.routeConfig}}let kr=(()=>{var oe;class he extends In{}return(oe=he).\u0275fac=(()=>{let we;return function(xe){return(we||(we=M.xGo(oe)))(xe||oe)}})(),oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})(),Jn=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:()=>(0,M.WQX)(hs),providedIn:"root"}),he})(),hs=(()=>{var oe;class he extends Jn{constructor(){super(...arguments),this.location=(0,M.WQX)(h.aZ),this.urlSerializer=(0,M.WQX)(Ht),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,M.WQX)(wt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,xe;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(xe=this.restoredState())||void 0===xe?void 0:xe.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(xe=>{"popstate"===xe.type&&de(xe.url,xe.state)})}handleRouterEvent(de,xe){if(de instanceof Gn)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=xe.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!xe.extras.skipLocationChange){var tt;const ir=this.urlHandlingStrategy.merge(xe.finalUrl,xe.initialUrl);this.setBrowserUrl(null!==(tt=xe.targetBrowserUrl)&&void 0!==tt?tt:ir,xe)}}else if(de instanceof Qt){var lt;this.currentUrlTree=xe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(xe.finalUrl,xe.initialUrl),this.routerState=xe.targetRouterState,"deferred"!==this.urlUpdateStrategy||xe.extras.skipLocationChange||this.setBrowserUrl(null!==(lt=xe.targetBrowserUrl)&&void 0!==lt?lt:this.rawUrlTree,xe)}else de instanceof eo&&(de.code===Ln.GuardRejected||de.code===Ln.NoDataFromResolver)?this.restoreHistory(xe):de instanceof ko?this.restoreHistory(xe,!0):de instanceof bn&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,xe){const tt=de instanceof Ve?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(tt)||xe.extras.replaceUrl){const ir={...xe.extras.state,...this.generateNgRouterState(xe.id,this.browserPageId)};this.location.replaceState(tt,"",ir)}else{const lt={...xe.extras.state,...this.generateNgRouterState(xe.id,this.browserPageId+1)};this.location.go(tt,"",lt)}}restoreHistory(de,xe=!1){if("computed"===this.canceledNavigationResolution){const lt=this.currentPageId-this.browserPageId;0!==lt?this.location.historyGo(lt):this.currentUrlTree===de.finalUrl&&0===lt&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(xe&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var xe;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(xe=de.finalUrl)&&void 0!==xe?xe:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,xe){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:xe}:{navigationId:de}}}return(oe=he).\u0275fac=(()=>{let we;return function(xe){return(we||(we=M.xGo(oe)))(xe||oe)}})(),oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();var po=function(oe){return oe[oe.COMPLETE=0]="COMPLETE",oe[oe.FAILED=1]="FAILED",oe[oe.REDIRECTING=2]="REDIRECTING",oe}(po||{});function zs(oe,he){oe.events.pipe((0,P.p)(we=>we instanceof bn||we instanceof eo||we instanceof ko||we instanceof wo),(0,m.T)(we=>we instanceof bn||we instanceof wo?po.COMPLETE:we instanceof eo&&(we.code===Ln.Redirect||we.code===Ln.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,P.p)(we=>we!==po.REDIRECTING),(0,y.s)(1)).subscribe(()=>{he()})}function Ns(oe){throw oe}const Ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ls={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var oe;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,xe;this.disposed=!1,this.console=(0,M.WQX)(M.H3F),this.stateManager=(0,M.WQX)(Jn),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.pendingTasks=(0,M.WQX)(M.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,M.WQX)(nn),this.urlSerializer=(0,M.WQX)(Ht),this.location=(0,M.WQX)(h.aZ),this.urlHandlingStrategy=(0,M.WQX)(wt),this._events=new u.B,this.errorHandler=this.options.errorHandler||Ns,this.navigated=!1,this.routeReuseStrategy=(0,M.WQX)(Yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(xe=(0,M.WQX)(ds,{optional:!0}))||void 0===xe?void 0:xe.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,M.WQX)(Pn,{optional:!0}),this.eventsSubscription=new d.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:tt=>{this.console.warn(tt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(xe=>{try{const tt=this.navigationTransitions.currentTransition,lt=this.navigationTransitions.currentNavigation;if(null!==tt&&null!==lt)if(this.stateManager.handleRouterEvent(xe,lt),xe instanceof eo&&xe.code!==Ln.Redirect&&xe.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(xe instanceof bn)this.navigated=!0;else if(xe instanceof hn){const ir=xe.navigationBehaviorOptions,_r=this.urlHandlingStrategy.merge(xe.url,tt.currentRawUrl),qt={browserUrl:tt.extras.browserUrl,info:tt.extras.info,skipLocationChange:tt.extras.skipLocationChange,replaceUrl:tt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||xn(tt.source),...ir};this.scheduleNavigation(_r,Dn,null,qt,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}(function xa(oe){return!(oe instanceof Qt||oe instanceof hn)})(xe)&&this._events.next(xe)}catch(tt){this.navigationTransitions.transitionAbortSubject.next(tt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((xe,tt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(xe,"popstate",tt)},0)}))}navigateToSyncWithBrowser(de,xe,tt){const lt={replaceUrl:!0},ir=null!=tt&&tt.navigationId?tt:null;if(tt){const qt={...tt};delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(lt.state=qt)}const _r=this.parseUrl(de);this.scheduleNavigation(_r,xe,ir,lt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,xe={}){const{relativeTo:tt,queryParams:lt,fragment:ir,queryParamsHandling:_r,preserveFragment:qt}=xe,Or=qt?this.currentUrlTree.fragment:ir;let fn,Xr=null;switch(_r){case"merge":Xr={...this.currentUrlTree.queryParams,...lt};break;case"preserve":Xr=this.currentUrlTree.queryParams;break;default:Xr=lt||null}null!==Xr&&(Xr=this.removeEmptyProps(Xr));try{fn=ue(tt?tt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),fn=this.currentUrlTree.root}return Se(fn,de,Xr,null!=Or?Or:null)}navigateByUrl(de,xe={skipLocationChange:!1}){const tt=z(de)?de:this.parseUrl(de),lt=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(lt,Dn,null,xe)}navigate(de,xe={skipLocationChange:!1}){return function Hi(oe){for(let he=0;he<oe.length;he++)if(null==oe[he])throw new M.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,xe),xe)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,xe){let tt;if(tt=!0===xe?{...Ws}:!1===xe?{...Ls}:xe,z(de))return zt(this.currentUrlTree,de,tt);const lt=this.parseUrl(de);return zt(this.currentUrlTree,lt,tt)}removeEmptyProps(de){return Object.entries(de).reduce((xe,[tt,lt])=>(null!=lt&&(xe[tt]=lt),xe),{})}scheduleNavigation(de,xe,tt,lt,ir){if(this.disposed)return Promise.resolve(!1);let _r,qt,Or;ir?(_r=ir.resolve,qt=ir.reject,Or=ir.promise):Or=new Promise((fn,Jr)=>{_r=fn,qt=Jr});const Xr=this.pendingTasks.add();return zs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xr))}),this.navigationTransitions.handleNavigationRequest({source:xe,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:lt,resolve:_r,reject:qt,promise:Or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Or.catch(fn=>Promise.reject(fn))}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var oe;class he{constructor(de,xe,tt,lt,ir,_r){var qt;this.router=de,this.route=xe,this.tabIndexAttribute=tt,this.renderer=lt,this.el=ir,this.locationStrategy=_r,this.href=null,this.onChanges=new u.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Or=null===(qt=ir.nativeElement.tagName)||void 0===qt?void 0:qt.toLowerCase();this.isAnchorElement="a"===Or||"area"===Or,this.isAnchorElement?this.subscription=de.events.subscribe(Xr=>{Xr instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=z(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,xe,tt,lt,ir){const _r=this.urlTree;return!!(null===_r||this.isAnchorElement&&(0!==de||xe||tt||lt||ir||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_r,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const xe=this.urlTree;this.href=null!==xe&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(xe)):null;const tt=null===this.href?null:(0,M.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",tt)}applyAttributeValue(de,xe){const tt=this.renderer,lt=this.el.nativeElement;null!==xe?tt.setAttribute(lt,de,xe):tt.removeAttribute(lt,de)}get urlTree(){return null===this.routerLinkInput?null:z(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(oe=he).\u0275fac=function(de){return new(de||oe)(M.rXU(co),M.rXU(Fr),M.kS0("tabindex"),M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(h.hb))},oe.\u0275dir=M.FsC({type:oe,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,xe){1&de&&M.bIt("click",function(lt){return xe.onClick(lt.button,lt.ctrlKey,lt.shiftKey,lt.altKey,lt.metaKey)}),2&de&&M.BMQ("target",xe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",M.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",M.L39],replaceUrl:[2,"replaceUrl","replaceUrl",M.L39],routerLink:"routerLink"},standalone:!0,features:[M.GFd,M.OA$]}),he})();class zo{}let ji=(()=>{var oe;class he{preload(de,xe){return xe().pipe(G(()=>(0,se.of)(null)))}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var oe;class he{constructor(de,xe,tt,lt,ir){this.router=de,this.injector=tt,this.preloadingStrategy=lt,this.loader=ir}setUpPreloading(){this.subscription=this.router.events.pipe((0,P.p)(de=>de instanceof bn),q(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,xe){const tt=[];for(const qt of xe){var lt,ir;qt.providers&&!qt._injector&&(qt._injector=(0,M.Ol2)(qt.providers,de,`Route: ${qt.path}`));const Or=null!==(lt=qt._injector)&&void 0!==lt?lt:de,Xr=null!==(ir=qt._loadedInjector)&&void 0!==ir?ir:Or;var _r;(qt.loadChildren&&!qt._loadedRoutes&&void 0===qt.canLoad||qt.loadComponent&&!qt._loadedComponent)&&tt.push(this.preloadConfig(Or,qt)),(qt.children||qt._loadedRoutes)&&tt.push(this.processRoutes(Xr,null!==(_r=qt.children)&&void 0!==_r?_r:qt._loadedRoutes))}return(0,o.H)(tt).pipe((0,qe.U)())}preloadConfig(de,xe){return this.preloadingStrategy.preload(xe,()=>{let tt;tt=xe.loadChildren&&void 0===xe.canLoad?this.loader.loadChildren(de,xe):(0,se.of)(null);const lt=tt.pipe((0,x.Z)(ir=>{var _r;return null===ir?(0,se.of)(void 0):(xe._loadedRoutes=ir.routes,xe._loadedInjector=ir.injector,this.processRoutes(null!==(_r=ir.injector)&&void 0!==_r?_r:de,ir.routes))}));if(xe.loadComponent&&!xe._loadedComponent){const ir=this.loader.loadComponent(xe);return(0,o.H)([lt,ir]).pipe((0,qe.U)())}return lt})}}return(oe=he).\u0275fac=function(de){return new(de||oe)(M.KVO(co),M.KVO(M.Ql9),M.KVO(M.uvJ),M.KVO(zo),M.KVO(Cl))},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();const Oi=new M.nKC("");let Aa=(()=>{var oe;class he{constructor(de,xe,tt,lt,ir={}){this.urlSerializer=de,this.transitions=xe,this.viewportScroller=tt,this.zone=lt,this.options=ir,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ir.scrollPositionRestoration||(ir.scrollPositionRestoration="disabled"),ir.anchorScrolling||(ir.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Gn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof bn?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof pt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,xe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,xe))})},0)})}ngOnDestroy(){var de,xe;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(xe=this.scrollEventsSubscription)||void 0===xe||xe.unsubscribe()}}return(oe=he).\u0275fac=function(de){M.QTQ()},oe.\u0275prov=M.jDH({token:oe,factory:oe.\u0275fac}),he})();function Xs(oe,he){return{\u0275kind:oe,\u0275providers:he}}function Dl(){const oe=(0,M.WQX)(M.zZn);return he=>{var we,de;const xe=oe.get(M.o8S);if(he!==xe.components[0])return;const tt=oe.get(co),lt=oe.get(Es);1===oe.get(Sn)&&tt.initialNavigation(),null===(we=oe.get(Wi,null,M.$GK.Optional))||void 0===we||we.setUpPreloading(),null===(de=oe.get(Oi,null,M.$GK.Optional))||void 0===de||de.init(),tt.resetRootComponentType(xe.componentTypes[0]),lt.closed||(lt.next(),lt.complete(),lt.unsubscribe())}}const Es=new M.nKC("",{factory:()=>new u.B}),Sn=new M.nKC("",{providedIn:"root",factory:()=>1}),Wi=new M.nKC("");function Ma(oe){return Xs(0,[{provide:Wi,useExisting:Ta},{provide:zo,useExisting:oe}])}function qu(oe){return Xs(9,[{provide:it,useValue:mr},{provide:Tt,useValue:{skipNextTransition:!(null==oe||!oe.skipInitialTransition),...oe}}])}const Pi=new M.nKC("ROUTER_FORROOT_GUARD"),Ku=[h.aZ,{provide:Ht,useClass:yt},co,Dt,{provide:Fr,useFactory:function xl(oe){return oe.routerState.root},deps:[co]},Cl,[]];let Yu=(()=>{var oe;class he{constructor(de){}static forRoot(de,xe){return{ngModule:he,providers:[Ku,[],{provide:ds,multi:!0,useValue:de},{provide:Pi,useFactory:Xd,deps:[[co,new M.Xx1,new M.kdw]]},{provide:Hs,useValue:xe||{}},null!=xe&&xe.useHash?{provide:h.hb,useClass:h.fw}:{provide:h.hb,useClass:h.Sm},{provide:Oi,useFactory:()=>{const oe=(0,M.WQX)(h.Xr),he=(0,M.WQX)(M.SKi),we=(0,M.WQX)(Hs),de=(0,M.WQX)(nn),xe=(0,M.WQX)(Ht);return we.scrollOffset&&oe.setOffset(we.scrollOffset),new Aa(xe,de,oe,he,we)}},null!=xe&&xe.preloadingStrategy?Ma(xe.preloadingStrategy).\u0275providers:[],null!=xe&&xe.initialNavigation?Cs(xe):[],null!=xe&&xe.bindToComponentInputs?Xs(8,[js,{provide:Pn,useExisting:js}]).\u0275providers:[],null!=xe&&xe.enableViewTransitions?qu().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:M.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:ds,multi:!0,useValue:de}]}}}return(oe=he).\u0275fac=function(de){return new(de||oe)(M.KVO(Pi,8))},oe.\u0275mod=M.$C({type:oe}),oe.\u0275inj=M.G2t({}),he})();function Xd(oe){return"guarded"}function Cs(oe){return["disabled"===oe.initialNavigation?Xs(3,[{provide:M.hnV,multi:!0,useFactory:()=>{const he=(0,M.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:Sn,useValue:2}]).\u0275providers:[],"enabledBlocking"===oe.initialNavigation?Xs(2,[{provide:Sn,useValue:0},{provide:M.hnV,multi:!0,deps:[M.zZn],useFactory:he=>{const we=he.get(h.hj,Promise.resolve());return()=>we.then(()=>new Promise(de=>{const xe=he.get(co),tt=he.get(Es);zs(xe,()=>{de(!0)}),he.get(nn).afterPreactivation=()=>(de(!0),tt.closed?(0,se.of)(void 0):tt),xe.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new M.nKC("")},3656:(xr,or,_e)=>{"use strict";_e.d(or,{Yq:()=>Ot,TS:()=>Ye,sR:()=>st,el:()=>fe,Sb:()=>Ht,QE:()=>F,CF:()=>Je,Rg:()=>nr,p4:()=>z,jM:()=>Ut,q9:()=>ot,y8:()=>ft,Kb:()=>Dr,OD:()=>qe,CE:()=>Te,pF:()=>w,fL:()=>ue,YV:()=>hr,er:()=>B,z3:()=>Se});var M=_e(467),T=_e(9842),et=_e(3953),Et=_e(9858),o=_e(177),se=_e(5531),$=_e(4442);var A=_e(1413),R=_e(3726),O=_e(4412),Z=_e(4572),re=_e(7673),q=_e(1635),te=_e(5964),X=_e(5558),G=_e(3669),Y=_e(9974),le=_e(4360);function J(Re,Xe){return Re===Xe}var j=_e(4341);const ne=["tabsInner"];let qe=(()=>{var Re;class Xe{constructor(ze,ht){(0,T.A)(this,"doc",void 0),(0,T.A)(this,"_readyPromise",void 0),(0,T.A)(this,"win",void 0),(0,T.A)(this,"backButton",new A.B),(0,T.A)(this,"keyboardDidShow",new A.B),(0,T.A)(this,"keyboardDidHide",new A.B),(0,T.A)(this,"pause",new A.B),(0,T.A)(this,"resume",new A.B),(0,T.A)(this,"resize",new A.B),this.doc=ze,ht.run(()=>{var Bt;let cr;this.win=ze.defaultView,this.backButton.subscribeWithPriority=function(wr,Pr){return this.subscribe(tn=>tn.register(wr,on=>ht.run(()=>Pr(on))))},He(this.pause,ze,"pause",ht),He(this.resume,ze,"resume",ht),He(this.backButton,ze,"ionBackButton",ht),He(this.resize,this.win,"resize",ht),He(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ht),He(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ht),this._readyPromise=new Promise(wr=>{cr=wr}),null!==(Bt=this.win)&&void 0!==Bt&&Bt.cordova?ze.addEventListener("deviceready",()=>{cr("cordova")},{once:!0}):cr("dom")})}is(ze){return(0,se.a)(this.win,ze)}platforms(){return(0,se.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ze){return ut(this.win.location.href,ze)}isLandscape(){return!this.isPortrait()}isPortrait(){var ze,ht;return null===(ze=(ht=this.win).matchMedia)||void 0===ze?void 0:ze.call(ht,"(orientation: portrait)").matches}testUserAgent(ze){const ht=this.win.navigator;return!!(null!=ht&&ht.userAgent&&ht.userAgent.indexOf(ze)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.KVO(o.qQ),et.KVO(et.SKi))}),(0,T.A)(Xe,"\u0275prov",et.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})),Xe})();const ut=(Re,Xe)=>{Xe=Xe.replace(/[[\]\\]/g,"\\$&");const ze=new RegExp("[\\?&]"+Xe+"=([^&#]*)").exec(Re);return ze?decodeURIComponent(ze[1].replace(/\+/g," ")):null},He=(Re,Xe,mt,ze)=>{Xe&&Xe.addEventListener(mt,ht=>{ze.run(()=>{Re.next(null!=ht?ht.detail:void 0)})})};let ot=(()=>{var Re;class Xe{constructor(ze,ht,Bt,cr){(0,T.A)(this,"location",void 0),(0,T.A)(this,"serializer",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"topOutlet",void 0),(0,T.A)(this,"direction",Ue),(0,T.A)(this,"animated",nt),(0,T.A)(this,"animationBuilder",void 0),(0,T.A)(this,"guessDirection","forward"),(0,T.A)(this,"guessAnimation",void 0),(0,T.A)(this,"lastNavId",-1),this.location=ht,this.serializer=Bt,this.router=cr,cr&&cr.events.subscribe(wr=>{if(wr instanceof Et.Z){const Pr=wr.restoredState?wr.restoredState.navigationId:wr.id;this.guessDirection=this.guessAnimation=Pr<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?wr.id:Pr}}),ze.backButton.subscribeWithPriority(0,wr=>{this.pop(),wr()})}navigateForward(ze,ht={}){return this.setDirection("forward",ht.animated,ht.animationDirection,ht.animation),this.navigate(ze,ht)}navigateBack(ze,ht={}){return this.setDirection("back",ht.animated,ht.animationDirection,ht.animation),this.navigate(ze,ht)}navigateRoot(ze,ht={}){return this.setDirection("root",ht.animated,ht.animationDirection,ht.animation),this.navigate(ze,ht)}back(ze={animated:!0,animationDirection:"back"}){return this.setDirection("back",ze.animated,ze.animationDirection,ze.animation),this.location.back()}pop(){var ze=this;return(0,M.A)(function*(){let ht=ze.topOutlet;for(;ht;){if(yield ht.pop())return!0;ht=ht.parentOutlet}return!1})()}setDirection(ze,ht,Bt,cr){this.direction=ze,this.animated=at(ze,ht,Bt),this.animationBuilder=cr}setTopOutlet(ze){this.topOutlet=ze}consumeTransition(){let ht,ze="root";const Bt=this.animationBuilder;return"auto"===this.direction?(ze=this.guessDirection,ht=this.guessAnimation):(ht=this.animated,ze=this.direction),this.direction=Ue,this.animated=nt,this.animationBuilder=void 0,{direction:ze,animation:ht,animationBuilder:Bt}}navigate(ze,ht){if(Array.isArray(ze))return this.router.navigate(ze,ht);{const Bt=this.serializer.parse(ze.toString());return void 0!==ht.queryParams&&(Bt.queryParams={...ht.queryParams}),void 0!==ht.fragment&&(Bt.fragment=ht.fragment),this.router.navigateByUrl(Bt,ht)}}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.KVO(qe),et.KVO(o.aZ),et.KVO(Et.Sd),et.KVO(Et.Ix,8))}),(0,T.A)(Xe,"\u0275prov",et.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})),Xe})();const at=(Re,Xe,mt)=>{if(!1!==Xe){if(void 0!==mt)return mt;if("forward"===Re||"back"===Re)return Re;if("root"===Re&&!0===Xe)return"forward"}},Ue="auto",nt=void 0;let Ye=(()=>{var Re;class Xe{get(ze,ht){const Bt=Ze();return Bt?Bt.get(ze,ht):null}getBoolean(ze,ht){const Bt=Ze();return!!Bt&&Bt.getBoolean(ze,ht)}getNumber(ze,ht){const Bt=Ze();return Bt?Bt.getNumber(ze,ht):0}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)}),(0,T.A)(Xe,"\u0275prov",et.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})),Xe})();const st=new et.nKC("USERCONFIG"),Ze=()=>{if(typeof window<"u"){const Re=window.Ionic;if(null!=Re&&Re.config)return Re.config}return null};class ft{constructor(Xe={}){(0,T.A)(this,"data",void 0),this.data=Xe,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Xe){return this.data[Xe]}}let Ot=(()=>{var Re;class Xe{constructor(){(0,T.A)(this,"zone",(0,et.WQX)(et.SKi)),(0,T.A)(this,"applicationRef",(0,et.WQX)(et.o8S)),(0,T.A)(this,"config",(0,et.WQX)(st))}create(ze,ht,Bt){var cr;return new ar(ze,ht,this.applicationRef,this.zone,Bt,null!==(cr=this.config.useSetInputAPI)&&void 0!==cr&&cr)}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)}),(0,T.A)(Xe,"\u0275prov",et.jDH({token:Re,factory:Re.\u0275fac})),Xe})();class ar{constructor(Xe,mt,ze,ht,Bt,cr){(0,T.A)(this,"environmentInjector",void 0),(0,T.A)(this,"injector",void 0),(0,T.A)(this,"applicationRef",void 0),(0,T.A)(this,"zone",void 0),(0,T.A)(this,"elementReferenceKey",void 0),(0,T.A)(this,"enableSignalsSupport",void 0),(0,T.A)(this,"elRefMap",new WeakMap),(0,T.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Xe,this.injector=mt,this.applicationRef=ze,this.zone=ht,this.elementReferenceKey=Bt,this.enableSignalsSupport=cr}attachViewToDom(Xe,mt,ze,ht){return this.zone.run(()=>new Promise(Bt=>{const cr={...ze};void 0!==this.elementReferenceKey&&(cr[this.elementReferenceKey]=Xe),Bt(Vt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Xe,mt,cr,ht,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Xe,mt){return this.zone.run(()=>new Promise(ze=>{const ht=this.elRefMap.get(mt);if(ht){ht.destroy(),this.elRefMap.delete(mt);const Bt=this.elEventsMap.get(mt);Bt&&(Bt(),this.elEventsMap.delete(mt))}ze()}))}}const Vt=(Re,Xe,mt,ze,ht,Bt,cr,wr,Pr,tn,on,Nn)=>{const Dn=et.zZn.create({providers:Zt(Pr),parent:mt}),Kr=(0,et.a0P)(wr,{environmentInjector:Xe,elementInjector:Dn}),yn=Kr.instance,Gn=Kr.location.nativeElement;if(Pr)if(on&&void 0!==yn[on]&&console.error(`[Ionic Error]: ${on} is a reserved property when using ${cr.tagName.toLowerCase()}. Rename or remove the "${on}" property from ${wr.name}.`),!0===Nn&&void 0!==Kr.setInput){const{modal:Ln,popover:To,...eo}=Pr;for(const wo in eo)Kr.setInput(wo,eo[wo]);void 0!==Ln&&Object.assign(yn,{modal:Ln}),void 0!==To&&Object.assign(yn,{popover:To})}else Object.assign(yn,Pr);if(tn)for(const Ln of tn)Gn.classList.add(Ln);const bn=zt(Re,yn,Gn);return cr.appendChild(Gn),ze.attachView(Kr.hostView),ht.set(Gn,Kr),Bt.set(Gn,bn),Gn},tr=[$.L,$.a,$.b,$.c,$.d],zt=(Re,Xe,mt)=>Re.run(()=>{const ze=tr.filter(ht=>"function"==typeof Xe[ht]).map(ht=>{const Bt=cr=>Xe[ht](cr.detail);return mt.addEventListener(ht,Bt),()=>mt.removeEventListener(ht,Bt)});return()=>ze.forEach(ht=>ht())}),br=new et.nKC("NavParamsToken"),Zt=Re=>[{provide:br,useValue:Re},{provide:ft,useFactory:pr,deps:[br]}],pr=Re=>new ft(Re),Ct=(Re,Xe)=>{const mt=Re.prototype;Xe.forEach(ze=>{Object.defineProperty(mt,ze,{get(){return this.el[ze]},set(ht){this.z.runOutsideAngular(()=>this.el[ze]=ht)}})})},lr=(Re,Xe)=>{const mt=Re.prototype;Xe.forEach(ze=>{mt[ze]=function(){const ht=arguments;return this.z.runOutsideAngular(()=>this.el[ze].apply(this.el,ht))}})},Gt=(Re,Xe,mt)=>{mt.forEach(ze=>Re[ze]=(0,R.R)(Xe,ze))};function Ve(Re){return function(mt){const{defineCustomElementFn:ze,inputs:ht,methods:Bt}=Re;return void 0!==ze&&ze(),ht&&Ct(mt,ht),Bt&&lr(mt,Bt),mt}}const We=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Oe=["present","dismiss","onDidDismiss","onWillDismiss"];let Je=(()=>{var Re;let Xe=((0,T.A)(Re=class{constructor(ze,ht,Bt){(0,T.A)(this,"z",void 0),(0,T.A)(this,"template",void 0),(0,T.A)(this,"isCmpOpen",!1),(0,T.A)(this,"el",void 0),this.z=Bt,this.el=ht.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ze.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ze.detectChanges()}),Gt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ze){return new(ze||Re)(et.rXU(et.gRc),et.rXU(et.aKT),et.rXU(et.SKi))}),(0,T.A)(Re,"\u0275dir",et.FsC({type:Re,selectors:[["ion-popover"]],contentQueries:function(ze,ht,Bt){if(1&ze&&et.wni(Bt,et.C4Q,5),2&ze){let cr;et.mGM(cr=et.lsd())&&(ht.template=cr.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Re);return Xe=(0,q.Cg)([Ve({inputs:We,methods:Oe})],Xe),Xe})();const It=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],At=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ht=(()=>{var Re;let Xe=((0,T.A)(Re=class{constructor(ze,ht,Bt){(0,T.A)(this,"z",void 0),(0,T.A)(this,"template",void 0),(0,T.A)(this,"isCmpOpen",!1),(0,T.A)(this,"el",void 0),this.z=Bt,this.el=ht.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ze.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ze.detectChanges()}),Gt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ze){return new(ze||Re)(et.rXU(et.gRc),et.rXU(et.aKT),et.rXU(et.SKi))}),(0,T.A)(Re,"\u0275dir",et.FsC({type:Re,selectors:[["ion-modal"]],contentQueries:function(ze,ht,Bt){if(1&ze&&et.wni(Bt,et.C4Q,5),2&ze){let cr;et.mGM(cr=et.lsd())&&(ht.template=cr.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Re);return Xe=(0,q.Cg)([Ve({inputs:It,methods:At})],Xe),Xe})();const Ft=(Re,Xe)=>((Re=Re.filter(mt=>mt.stackId!==Xe.stackId)).push(Xe),Re),Rt=(Re,Xe)=>{const mt=Re.createUrlTree(["."],{relativeTo:Xe});return Re.serializeUrl(mt)},vt=(Re,Xe)=>!Xe||Re.stackId!==Xe.stackId,Lt=(Re,Xe)=>{if(!Re)return;const mt=bt(Xe);for(let ze=0;ze<mt.length;ze++){if(ze>=Re.length)return mt[ze];if(mt[ze]!==Re[ze])return}},bt=Re=>Re.split("/").map(Xe=>Xe.trim()).filter(Xe=>""!==Xe),Pt=Re=>{Re&&(Re.ref.destroy(),Re.unlistenEvents())};class fr{constructor(Xe,mt,ze,ht,Bt,cr){(0,T.A)(this,"containerEl",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"zone",void 0),(0,T.A)(this,"location",void 0),(0,T.A)(this,"views",[]),(0,T.A)(this,"runningTask",void 0),(0,T.A)(this,"skipTransition",!1),(0,T.A)(this,"tabsPrefix",void 0),(0,T.A)(this,"activeView",void 0),(0,T.A)(this,"nextId",0),this.containerEl=mt,this.router=ze,this.navCtrl=ht,this.zone=Bt,this.location=cr,this.tabsPrefix=void 0!==Xe?bt(Xe):void 0}createView(Xe,mt){var ze;const ht=Rt(this.router,mt),Bt=null==Xe||null===(ze=Xe.location)||void 0===ze?void 0:ze.nativeElement,cr=zt(this.zone,Xe.instance,Bt);return{id:this.nextId++,stackId:Lt(this.tabsPrefix,ht),unlistenEvents:cr,element:Bt,ref:Xe,url:ht}}getExistingView(Xe){const mt=Rt(this.router,Xe),ze=this.views.find(ht=>ht.url===mt);return ze&&ze.ref.changeDetectorRef.reattach(),ze}setActive(Xe){var mt,ze;const ht=this.navCtrl.consumeTransition();let{direction:Bt,animation:cr,animationBuilder:wr}=ht;const Pr=this.activeView,tn=vt(Xe,Pr);tn&&(Bt="back",cr=void 0);const on=this.views.slice();let Nn;const Dn=this.router;Dn.getCurrentNavigation?Nn=Dn.getCurrentNavigation():null!==(mt=Dn.navigations)&&void 0!==mt&&mt.value&&(Nn=Dn.navigations.value),null!==(ze=Nn)&&void 0!==ze&&null!==(ze=ze.extras)&&void 0!==ze&&ze.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Kr=this.views.includes(Xe),yn=this.insertView(Xe,Bt);Kr||Xe.ref.changeDetectorRef.detectChanges();const Gn=Xe.animationBuilder;return void 0===wr&&"back"===Bt&&!tn&&void 0!==Gn&&(wr=Gn),Pr&&(Pr.animationBuilder=wr),this.zone.runOutsideAngular(()=>this.wait(()=>(Pr&&Pr.ref.changeDetectorRef.detach(),Xe.ref.changeDetectorRef.reattach(),this.transition(Xe,Pr,cr,this.canGoBack(1),!1,wr).then(()=>dt(Xe,yn,on,this.location,this.zone)).then(()=>({enteringView:Xe,direction:Bt,animation:cr,tabSwitch:tn})))))}canGoBack(Xe,mt=this.getActiveStackId()){return this.getStack(mt).length>Xe}pop(Xe,mt=this.getActiveStackId()){return this.zone.run(()=>{const ze=this.getStack(mt);if(ze.length<=Xe)return Promise.resolve(!1);const ht=ze[ze.length-Xe-1];let Bt=ht.url;const cr=ht.savedData;if(cr){var wr;const tn=cr.get("primary");null!=tn&&null!==(wr=tn.route)&&void 0!==wr&&null!==(wr=wr._routerState)&&void 0!==wr&&wr.snapshot.url&&(Bt=tn.route._routerState.snapshot.url)}const{animationBuilder:Pr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Bt,{...ht.savedExtras,animation:Pr}).then(()=>!0)})}startBackTransition(){const Xe=this.activeView;if(Xe){const mt=this.getStack(Xe.stackId),ze=mt[mt.length-2],ht=ze.animationBuilder;return this.wait(()=>this.transition(ze,Xe,"back",this.canGoBack(2),!0,ht))}return Promise.resolve()}endBackTransition(Xe){Xe?(this.skipTransition=!0,this.pop(1)):this.activeView&&xt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Xe){const mt=this.getStack(Xe);return mt.length>0?mt[mt.length-1]:void 0}getRootUrl(Xe){const mt=this.getStack(Xe);return mt.length>0?mt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Pt),this.activeView=void 0,this.views=[]}getStack(Xe){return this.views.filter(mt=>mt.stackId===Xe)}insertView(Xe,mt){return this.activeView=Xe,this.views=((Re,Xe,mt)=>"root"===mt?Ft(Re,Xe):"forward"===mt?((Re,Xe)=>(Re.indexOf(Xe)>=0?Re=Re.filter(ze=>ze.stackId!==Xe.stackId||ze.id<=Xe.id):Re.push(Xe),Re))(Re,Xe):((Re,Xe)=>Re.indexOf(Xe)>=0?Re.filter(ze=>ze.stackId!==Xe.stackId||ze.id<=Xe.id):Ft(Re,Xe))(Re,Xe))(this.views,Xe,mt),this.views.slice()}transition(Xe,mt,ze,ht,Bt,cr){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(mt===Xe)return Promise.resolve(!1);const wr=Xe?Xe.element:void 0,Pr=mt?mt.element:void 0,tn=this.containerEl;return wr&&wr!==Pr&&(wr.classList.add("ion-page"),wr.classList.add("ion-page-invisible"),tn.commit)?tn.commit(wr,Pr,{duration:void 0===ze?0:void 0,direction:ze,showGoBack:ht,progressAnimation:Bt,animationBuilder:cr}):Promise.resolve(!1)}wait(Xe){var mt=this;return(0,M.A)(function*(){void 0!==mt.runningTask&&(yield mt.runningTask,mt.runningTask=void 0);const ze=mt.runningTask=Xe();return ze.finally(()=>mt.runningTask=void 0),ze})()}}const dt=(Re,Xe,mt,ze,ht)=>"function"==typeof requestAnimationFrame?new Promise(Bt=>{requestAnimationFrame(()=>{xt(Re,Xe,mt,ze,ht),Bt()})}):Promise.resolve(),xt=(Re,Xe,mt,ze,ht)=>{ht.run(()=>mt.filter(Bt=>!Xe.includes(Bt)).forEach(Pt)),Xe.forEach(Bt=>{const wr=ze.path().split("?")[0].split("#")[0];if(Bt!==Re&&Bt.url!==wr){const Pr=Bt.element;Pr.setAttribute("aria-hidden","true"),Pr.classList.add("ion-page-hidden"),Bt.ref.changeDetectorRef.detach()}})};let nr=(()=>{var Re;class Xe{get activatedComponentRef(){return this.activated}set animation(ze){this.nativeEl.animation=ze}set animated(ze){this.nativeEl.animated=ze}set swipeGesture(ze){this._swipeGesture=ze,this.nativeEl.swipeHandler=ze?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ht=>this.stackCtrl.endBackTransition(ht)}:void 0}constructor(ze,ht,Bt,cr,wr,Pr,tn,on){(0,T.A)(this,"parentOutlet",void 0),(0,T.A)(this,"nativeEl",void 0),(0,T.A)(this,"activatedView",null),(0,T.A)(this,"tabsPrefix",void 0),(0,T.A)(this,"_swipeGesture",void 0),(0,T.A)(this,"stackCtrl",void 0),(0,T.A)(this,"proxyMap",new WeakMap),(0,T.A)(this,"currentActivatedRoute$",new O.t(null)),(0,T.A)(this,"activated",null),(0,T.A)(this,"_activatedRoute",null),(0,T.A)(this,"name",Et.Xk),(0,T.A)(this,"stackWillChange",new et.bkB),(0,T.A)(this,"stackDidChange",new et.bkB),(0,T.A)(this,"activateEvents",new et.bkB),(0,T.A)(this,"deactivateEvents",new et.bkB),(0,T.A)(this,"parentContexts",(0,et.WQX)(Et.Zp)),(0,T.A)(this,"location",(0,et.WQX)(et.c1b)),(0,T.A)(this,"environmentInjector",(0,et.WQX)(et.uvJ)),(0,T.A)(this,"inputBinder",(0,et.WQX)(ur,{optional:!0})),(0,T.A)(this,"supportsBindingToComponentInputs",!0),(0,T.A)(this,"config",(0,et.WQX)(Ye)),(0,T.A)(this,"navCtrl",(0,et.WQX)(ot)),this.parentOutlet=on,this.nativeEl=cr.nativeElement,this.name=ze||Et.Xk,this.tabsPrefix="true"===ht?Rt(wr,tn):void 0,this.stackCtrl=new fr(this.tabsPrefix,this.nativeEl,wr,this.navCtrl,Pr,Bt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ze;this.stackCtrl.destroy(),null===(ze=this.inputBinder)||void 0===ze||ze.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ze=this.getContext();null!=ze&&ze.route&&this.activateWith(ze.route,ze.injector)}new Promise(ze=>((Re,Xe)=>{Re.componentOnReady?Re.componentOnReady().then(mt=>Xe(mt)):(Re=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re)})(()=>Xe(Re))})(this.nativeEl,ze)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ze,ht){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ht=this.getContext();this.activatedView.savedData=new Map(ht.children.contexts);const Bt=this.activatedView.savedData.get("primary");if(Bt&&ht.route&&(Bt.route={...ht.route}),this.activatedView.savedExtras={},ht.route){const cr=ht.route.snapshot;this.activatedView.savedExtras.queryParams=cr.queryParams,this.activatedView.savedExtras.fragment=cr.fragment}}const ze=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ze)}}activateWith(ze,ht){var Bt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ze;let cr,wr=this.stackCtrl.getExistingView(ze);if(wr){cr=this.activated=wr.ref;const on=wr.savedData;on&&(this.getContext().children.contexts=on),this.updateActivatedRouteProxy(cr.instance,ze)}else{var Pr;const on=ze._futureSnapshot,Nn=this.parentContexts.getOrCreateContext(this.name).children,Dn=new O.t(null),Kr=this.createActivatedRouteProxy(Dn,ze),yn=new Kt(Kr,Nn,this.location.injector),Gn=null!==(Pr=on.routeConfig.component)&&void 0!==Pr?Pr:on.component;cr=this.activated=this.outletContent.createComponent(Gn,{index:this.outletContent.length,injector:yn,environmentInjector:null!=ht?ht:this.environmentInjector}),Dn.next(cr.instance),wr=this.stackCtrl.createView(this.activated,ze),this.proxyMap.set(cr.instance,Kr),this.currentActivatedRoute$.next({component:cr.instance,activatedRoute:ze})}null===(Bt=this.inputBinder)||void 0===Bt||Bt.bindActivatedRouteToOutletComponent(this),this.activatedView=wr,this.navCtrl.setTopOutlet(this);const tn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:wr,tabSwitch:vt(wr,tn)}),this.stackCtrl.setActive(wr).then(on=>{this.activateEvents.emit(cr.instance),this.stackDidChange.emit(on)})}canGoBack(ze=1,ht){return this.stackCtrl.canGoBack(ze,ht)}pop(ze=1,ht){return this.stackCtrl.pop(ze,ht)}getLastUrl(ze){const ht=this.stackCtrl.getLastUrl(ze);return ht?ht.url:void 0}getLastRouteView(ze){return this.stackCtrl.getLastUrl(ze)}getRootView(ze){return this.stackCtrl.getRootUrl(ze)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ze,ht){const Bt=new Et.nX;return Bt._futureSnapshot=ht._futureSnapshot,Bt._routerState=ht._routerState,Bt.snapshot=ht.snapshot,Bt.outlet=ht.outlet,Bt.component=ht.component,Bt._paramMap=this.proxyObservable(ze,"paramMap"),Bt._queryParamMap=this.proxyObservable(ze,"queryParamMap"),Bt.url=this.proxyObservable(ze,"url"),Bt.params=this.proxyObservable(ze,"params"),Bt.queryParams=this.proxyObservable(ze,"queryParams"),Bt.fragment=this.proxyObservable(ze,"fragment"),Bt.data=this.proxyObservable(ze,"data"),Bt}proxyObservable(ze,ht){return ze.pipe((0,te.p)(Bt=>!!Bt),(0,X.n)(Bt=>this.currentActivatedRoute$.pipe((0,te.p)(cr=>null!==cr&&cr.component===Bt),(0,X.n)(cr=>cr&&cr.activatedRoute[ht]),function Ie(Re,Xe=G.D){return Re=null!=Re?Re:J,(0,Y.N)((mt,ze)=>{let ht,Bt=!0;mt.subscribe((0,le._)(ze,cr=>{const wr=Xe(cr);(Bt||!Re(ht,wr))&&(Bt=!1,ht=wr,ze.next(cr))}))})}())))}updateActivatedRouteProxy(ze,ht){const Bt=this.proxyMap.get(ze);if(!Bt)throw new Error("Could not find activated route proxy for view");Bt._futureSnapshot=ht._futureSnapshot,Bt._routerState=ht._routerState,Bt.snapshot=ht.snapshot,Bt.outlet=ht.outlet,Bt.component=ht.component,this.currentActivatedRoute$.next({component:ze,activatedRoute:ht})}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.kS0("name"),et.kS0("tabs"),et.rXU(o.aZ),et.rXU(et.aKT),et.rXU(Et.Ix),et.rXU(et.SKi),et.rXU(Et.nX),et.rXU(Re,12))}),(0,T.A)(Xe,"\u0275dir",et.FsC({type:Re,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Xe})();class Kt{constructor(Xe,mt,ze){(0,T.A)(this,"route",void 0),(0,T.A)(this,"childContexts",void 0),(0,T.A)(this,"parent",void 0),this.route=Xe,this.childContexts=mt,this.parent=ze}get(Xe,mt){return Xe===Et.nX?this.route:Xe===Et.Zp?this.childContexts:this.parent.get(Xe,mt)}}const ur=new et.nKC("");let vr=(()=>{var Re;class Xe{constructor(){(0,T.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ze){this.unsubscribeFromRouteData(ze),this.subscribeToRouteData(ze)}unsubscribeFromRouteData(ze){var ht;null===(ht=this.outletDataSubscriptions.get(ze))||void 0===ht||ht.unsubscribe(),this.outletDataSubscriptions.delete(ze)}subscribeToRouteData(ze){const{activatedRoute:ht}=ze,Bt=(0,Z.z)([ht.queryParams,ht.params,ht.data]).pipe((0,X.n)(([cr,wr,Pr],tn)=>(Pr={...cr,...wr,...Pr},0===tn?(0,re.of)(Pr):Promise.resolve(Pr)))).subscribe(cr=>{if(!ze.isActivated||!ze.activatedComponentRef||ze.activatedRoute!==ht||null===ht.component)return void this.unsubscribeFromRouteData(ze);const wr=(0,et.HJs)(ht.component);if(wr)for(const{templateName:Pr}of wr.inputs)ze.activatedComponentRef.setInput(Pr,cr[Pr]);else this.unsubscribeFromRouteData(ze)});this.outletDataSubscriptions.set(ze,Bt)}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)}),(0,T.A)(Xe,"\u0275prov",et.jDH({token:Re,factory:Re.\u0275fac})),Xe})();const hr=()=>({provide:ur,useFactory:Mr,deps:[Et.Ix]});function Mr(Re){return null!=Re&&Re.componentInputBindingEnabled?new vr:null}const W=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let fe=(()=>{var Re;let Xe=((0,T.A)(Re=class{constructor(ze,ht,Bt,cr,wr,Pr){(0,T.A)(this,"routerOutlet",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"config",void 0),(0,T.A)(this,"r",void 0),(0,T.A)(this,"z",void 0),(0,T.A)(this,"el",void 0),this.routerOutlet=ze,this.navCtrl=ht,this.config=Bt,this.r=cr,this.z=wr,Pr.detach(),this.el=this.r.nativeElement}onClick(ze){var ht;const Bt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ht=this.routerOutlet)&&void 0!==ht&&ht.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ze.preventDefault()):null!=Bt&&(this.navCtrl.navigateBack(Bt,{animation:this.routerAnimation}),ze.preventDefault())}},"\u0275fac",function(ze){return new(ze||Re)(et.rXU(nr,8),et.rXU(ot),et.rXU(Ye),et.rXU(et.aKT),et.rXU(et.SKi),et.rXU(et.gRc))}),(0,T.A)(Re,"\u0275dir",et.FsC({type:Re,hostBindings:function(ze,ht){1&ze&&et.bIt("click",function(cr){return ht.onClick(cr)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Re);return Xe=(0,q.Cg)([Ve({inputs:W})],Xe),Xe})(),Te=(()=>{var Re;class Xe{constructor(ze,ht,Bt,cr,wr){(0,T.A)(this,"locationStrategy",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"elementRef",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"routerLink",void 0),(0,T.A)(this,"routerDirection","forward"),(0,T.A)(this,"routerAnimation",void 0),this.locationStrategy=ze,this.navCtrl=ht,this.elementRef=Bt,this.router=cr,this.routerLink=wr}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ze;if(null!==(ze=this.routerLink)&&void 0!==ze&&ze.urlTree){const ht=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ht}}onClick(ze){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ze.preventDefault()}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.rXU(o.hb),et.rXU(ot),et.rXU(et.aKT),et.rXU(Et.Ix),et.rXU(Et.Wk,8))}),(0,T.A)(Xe,"\u0275dir",et.FsC({type:Re,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ze,ht){1&ze&&et.bIt("click",function(cr){return ht.onClick(cr)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[et.OA$]})),Xe})(),w=(()=>{var Re;class Xe{constructor(ze,ht,Bt,cr,wr){(0,T.A)(this,"locationStrategy",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"elementRef",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"routerLink",void 0),(0,T.A)(this,"routerDirection","forward"),(0,T.A)(this,"routerAnimation",void 0),this.locationStrategy=ze,this.navCtrl=ht,this.elementRef=Bt,this.router=cr,this.routerLink=wr}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ze;if(null!==(ze=this.routerLink)&&void 0!==ze&&ze.urlTree){const ht=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ht}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.rXU(o.hb),et.rXU(ot),et.rXU(et.aKT),et.rXU(Et.Ix),et.rXU(Et.Wk,8))}),(0,T.A)(Xe,"\u0275dir",et.FsC({type:Re,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ze,ht){1&ze&&et.bIt("click",function(){return ht.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[et.OA$]})),Xe})();const I=["animated","animation","root","rootParams","swipeGesture"],H=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let F=(()=>{var Re;let Xe=((0,T.A)(Re=class{constructor(ze,ht,Bt,cr,wr,Pr){(0,T.A)(this,"z",void 0),(0,T.A)(this,"el",void 0),this.z=wr,Pr.detach(),this.el=ze.nativeElement,ze.nativeElement.delegate=cr.create(ht,Bt),Gt(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ze){return new(ze||Re)(et.rXU(et.aKT),et.rXU(et.uvJ),et.rXU(et.zZn),et.rXU(Ot),et.rXU(et.SKi),et.rXU(et.gRc))}),(0,T.A)(Re,"\u0275dir",et.FsC({type:Re,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Re);return Xe=(0,q.Cg)([Ve({inputs:I,methods:H})],Xe),Xe})(),z=(()=>{var Re;class Xe{constructor(ze){(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"tabsInner",void 0),(0,T.A)(this,"ionTabsWillChange",new et.bkB),(0,T.A)(this,"ionTabsDidChange",new et.bkB),(0,T.A)(this,"tabBarSlot","bottom"),this.navCtrl=ze}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ze,tabSwitch:ht}){const Bt=ze.stackId;ht&&void 0!==Bt&&this.ionTabsWillChange.emit({tab:Bt})}onStackDidChange({enteringView:ze,tabSwitch:ht}){const Bt=ze.stackId;ht&&void 0!==Bt&&(this.tabBar&&(this.tabBar.selectedTab=Bt),this.ionTabsDidChange.emit({tab:Bt}))}select(ze){const ht="string"==typeof ze,Bt=ht?ze:ze.detail.tab,cr=this.outlet.getActiveStackId()===Bt,wr=`${this.outlet.tabsPrefix}/${Bt}`;if(ht||ze.stopPropagation(),cr){const Pr=this.outlet.getActiveStackId(),tn=this.outlet.getLastRouteView(Pr);if((null==tn?void 0:tn.url)===wr)return;const on=this.outlet.getRootView(Bt);return this.navCtrl.navigateRoot(wr,{...on&&wr===on.url&&on.savedExtras,animated:!0,animationDirection:"back"})}{const Pr=this.outlet.getLastRouteView(Bt);return this.navCtrl.navigateRoot((null==Pr?void 0:Pr.url)||wr,{...null==Pr?void 0:Pr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ze=>{const ht=ze.el.getAttribute("slot");ht!==this.tabBarSlot&&(this.tabBarSlot=ht,this.relocateTabBar())})}relocateTabBar(){const ze=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ze):this.tabsInner.nativeElement.after(ze)}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.rXU(ot))}),(0,T.A)(Xe,"\u0275dir",et.FsC({type:Re,selectors:[["ion-tabs"]],viewQuery:function(ze,ht){if(1&ze&&et.GBs(ne,7,et.aKT),2&ze){let Bt;et.mGM(Bt=et.lsd())&&(ht.tabsInner=Bt.first)}},hostBindings:function(ze,ht){1&ze&&et.bIt("ionTabButtonClick",function(cr){return ht.select(cr)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Xe})();const B=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re);let ue=(()=>{var Re;class Xe{constructor(ze,ht){(0,T.A)(this,"injector",void 0),(0,T.A)(this,"elementRef",void 0),(0,T.A)(this,"onChange",()=>{}),(0,T.A)(this,"onTouched",()=>{}),(0,T.A)(this,"lastValue",void 0),(0,T.A)(this,"statusChanges",void 0),this.injector=ze,this.elementRef=ht}writeValue(ze){this.elementRef.nativeElement.value=this.lastValue=ze,Se(this.elementRef)}handleValueChange(ze,ht){ze===this.elementRef.nativeElement&&(ht!==this.lastValue&&(this.lastValue=ht,this.onChange(ht)),Se(this.elementRef))}_handleBlurEvent(ze){ze===this.elementRef.nativeElement&&(this.onTouched(),Se(this.elementRef))}registerOnChange(ze){this.onChange=ze}registerOnTouched(ze){this.onTouched=ze}setDisabledState(ze){this.elementRef.nativeElement.disabled=ze}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ze;try{ze=this.injector.get(j.vO)}catch{}if(!ze)return;ze.statusChanges&&(this.statusChanges=ze.statusChanges.subscribe(()=>Se(this.elementRef)));const ht=ze.control;ht&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(cr=>{if(typeof ht[cr]<"u"){const wr=ht[cr].bind(ht);ht[cr]=(...Pr)=>{wr(...Pr),Se(this.elementRef)}}})}}return Re=Xe,(0,T.A)(Xe,"\u0275fac",function(ze){return new(ze||Re)(et.rXU(et.zZn),et.rXU(et.aKT))}),(0,T.A)(Xe,"\u0275dir",et.FsC({type:Re,hostBindings:function(ze,ht){1&ze&&et.bIt("ionBlur",function(cr){return ht._handleBlurEvent(cr.target)})}})),Xe})();const Se=Re=>{B(()=>{const Xe=Re.nativeElement,mt=null!=Xe.value&&Xe.value.toString().length>0,ze=ke(Xe);Fe(Xe,ze);const ht=Xe.closest("ion-item");ht&&Fe(ht,mt?[...ze,"item-has-value"]:ze)})},ke=Re=>{const Xe=Re.classList,mt=[];for(let ze=0;ze<Xe.length;ze++){const ht=Xe.item(ze);null!==ht&&$t(ht,"ng-")&&mt.push(`ion-${ht.substring(3)}`)}return mt},Fe=(Re,Xe)=>{const mt=Re.classList;mt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),mt.add(...Xe)},$t=(Re,Xe)=>Re.substring(0,Xe.length)===Xe;class Ut{shouldDetach(Xe){return!1}shouldAttach(Xe){return!1}store(Xe,mt){}retrieve(Xe){return null}shouldReuseRoute(Xe,mt){if(Xe.routeConfig!==mt.routeConfig)return!1;const ze=Xe.params,ht=mt.params,Bt=Object.keys(ze),cr=Object.keys(ht);if(Bt.length!==cr.length)return!1;for(const wr of Bt)if(ht[wr]!==ze[wr])return!1;return!0}}class Dr{constructor(Xe){(0,T.A)(this,"ctrl",void 0),this.ctrl=Xe}create(Xe){return this.ctrl.create(Xe||{})}dismiss(Xe,mt,ze){return this.ctrl.dismiss(Xe,mt,ze)}getTop(){return this.ctrl.getTop()}}},5374:(xr,or,_e)=>{"use strict";_e.d(or,{hG:()=>Gn,Hx:()=>bn,hB:()=>D,xk:()=>Z,YH:()=>re,Zy:()=>te,U1:()=>X,mC:()=>G,el:()=>Bt,In:()=>le,Jm:()=>j,QW:()=>ne,b_:()=>me,I9:()=>De,ME:()=>$e,HW:()=>qe,tN:()=>ut,eY:()=>He,ZB:()=>ot,hU:()=>at,W9:()=>Ue,A9:()=>nt,M0:()=>Ot,lO:()=>ar,eU:()=>Vt,iq:()=>tr,$w:()=>pr,uz:()=>lr,Dg:()=>Gt,he:()=>It,nf:()=>At,AF:()=>Ht,T6:()=>yn,Sb:()=>tn,CF:()=>on,KO:()=>xt,f0:()=>nr,Ob:()=>Kt,Rg:()=>ze,ln:()=>fe,Nm:()=>H,Ip:()=>F,Jq:()=>Se,qW:()=>ke,p4:()=>ht,BC:()=>Dr,BY:()=>Xe,ai:()=>mt,bv:()=>vs,Xi:()=>eo,W3:()=>ko,su:()=>V,Je:()=>L,Gw:()=>P});var M=_e(9842),T=_e(3953),et=_e(4341),Et=_e(3656),o=_e(1635),se=_e(3726),$=_e(177),v=_e(9858),b=_e(617),g=_e(467),S=_e(8393);const i=_e(4921).i,a=function(){var ye=(0,g.A)(function*(Ge,ct){if(!(typeof window>"u"))return yield i(),(0,S.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),ct)});return function(ct,Ee){return ye.apply(this,arguments)}}(),l=["*"],u=["outletContent"],d=["outlet"],h=[[["","slot","top"]],"*"],m=["[slot=top]","*"];function p(ye,Ge){if(1&ye&&(T.j41(0,"div",1),T.eu8(1,2),T.k0s()),2&ye){const ct=T.XpG();T.R7$(),T.Y8G("ngTemplateOutlet",ct.template)}}function y(ye,Ge){if(1&ye&&T.eu8(0,1),2&ye){const ct=T.XpG();T.Y8G("ngTemplateOutlet",ct.template)}}let D=(()=>{var ye;class Ge extends Et.fL{constructor(Ee,pt){super(Ee,pt)}writeValue(Ee){this.elementRef.nativeElement.checked=this.lastValue=Ee,(0,Et.z3)(this.elementRef)}_handleIonChange(Ee){this.handleValueChange(Ee,Ee.checked)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ge,"\u0275dir",T.FsC({type:ye,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionChange",function(hn){return pt._handleIonChange(hn.target)})},features:[T.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ge})(),V=(()=>{var ye;class Ge extends Et.fL{constructor(Ee,pt){super(Ee,pt),(0,M.A)(this,"el",void 0),this.el=pt}handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}registerOnChange(Ee){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?pt=>{Ee(""===pt?null:parseFloat(pt))}:Ee)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ge,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionInput",function(hn){return pt.handleInputEvent(hn.target)})},features:[T.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ge})(),L=(()=>{var ye;class Ge extends Et.fL{constructor(Ee,pt){super(Ee,pt)}_handleChangeEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ge,"\u0275dir",T.FsC({type:ye,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionChange",function(hn){return pt._handleChangeEvent(hn.target)})},features:[T.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ge})(),P=(()=>{var ye;class Ge extends Et.fL{constructor(Ee,pt){super(Ee,pt)}_handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ge,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionInput",function(hn){return pt._handleInputEvent(hn.target)})},features:[T.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ge})();const x=(ye,Ge)=>{const ct=ye.prototype;Ge.forEach(Ee=>{Object.defineProperty(ct,Ee,{get(){return this.el[Ee]},set(pt){this.z.runOutsideAngular(()=>this.el[Ee]=pt)},configurable:!0})})},U=(ye,Ge)=>{const ct=ye.prototype;Ge.forEach(Ee=>{ct[Ee]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[Ee].apply(this.el,pt))}})},A=(ye,Ge,ct)=>{ct.forEach(Ee=>ye[Ee]=(0,se.R)(Ge,Ee))};function O(ye){return function(ct){const{defineCustomElementFn:Ee,inputs:pt,methods:Qt}=ye;return void 0!==Ee&&Ee(),pt&&x(ct,pt),Qt&&U(ct,Qt),ct}}let Z=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],Ge),Ge})(),re=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],Ge),Ge})(),te=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],Ge),Ge})(),X=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-app"]],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({})],Ge),Ge})(),G=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-avatar"]],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({})],Ge),Ge})(),le=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode"]})],Ge),Ge})(),j=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Ge),Ge})(),ne=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["collapse"]})],Ge),Ge})(),me=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],Ge),Ge})(),De=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["mode"]})],Ge),Ge})(),$e=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode","translucent"]})],Ge),Ge})(),qe=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode"]})],Ge),Ge})(),ut=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode"]})],Ge),Ge})(),He=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],Ge),Ge})(),ot=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","disabled","mode","outline"]})],Ge),Ge})(),at=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Ge),Ge})(),Ue=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Ge),Ge})(),nt=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],Ge),Ge})(),Ot=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["collapse","mode","translucent"]})],Ge),Ge})(),ar=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["fixed"]})],Ge),Ge})(),Vt=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["collapse","mode","translucent"]})],Ge),Ge})(),tr=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Ge),Ge})(),pr=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Ge),Ge})(),lr=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Ge),Ge})(),Gt=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode","sticky"]})],Ge),Ge})(),It=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode","position"]})],Ge),Ge})(),At=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Ge),Ge})(),Ht=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","lines","mode"]})],Ge),Ge})(),xt=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],Ge),Ge})(),nr=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["allowEmptySelection","compareWith","name","value"]})],Ge),Ge})(),Kt=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],Ge),Ge})(),fe=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-row"]],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({})],Ge),Ge})(),H=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],Ge),Ge})(),F=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["disabled","value"]})],Ge),Ge})(),Se=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode","selectedTab","translucent"]})],Ge),Ge})(),ke=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],Ge),Ge})(),Dr=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","size"]})],Ge),Ge})(),Xe=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement,A(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],Ge),Ge})(),mt=(()=>{var ye;let Ge=((0,M.A)(ye=class{constructor(Ee,pt,Qt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ge=(0,o.Cg)([O({inputs:["color","mode"]})],Ge),Ge})(),ze=(()=>{var ye;class Ge extends Et.Rg{constructor(Ee,pt,Qt,hn,Fn,mo,ts,Yo){super(Ee,pt,Qt,hn,Fn,mo,ts,Yo),(0,M.A)(this,"parentOutlet",void 0),(0,M.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)(T.kS0("name"),T.kS0("tabs"),T.rXU($.aZ),T.rXU(T.aKT),T.rXU(v.Ix),T.rXU(T.SKi),T.rXU(v.nX),T.rXU(ye,12))}),(0,M.A)(Ge,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-router-outlet"]],viewQuery:function(Ee,pt){if(1&Ee&&T.GBs(u,7,T.c1b),2&Ee){let Qt;T.mGM(Qt=T.lsd())&&(pt.outletContent=Qt.first)}},features:[T.Vt3],ngContentSelectors:l,decls:3,vars:0,consts:[["outletContent",""]],template:function(Ee,pt){1&Ee&&(T.NAR(),T.qex(0,null,0),T.SdG(2),T.bVm())},encapsulation:2})),Ge})(),ht=(()=>{var ye;class Ge extends Et.p4{constructor(...Ee){super(...Ee),(0,M.A)(this,"outlet",void 0),(0,M.A)(this,"tabBar",void 0),(0,M.A)(this,"tabBars",void 0)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",(()=>{let ct;return function(pt){return(ct||(ct=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ge,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-tabs"]],contentQueries:function(Ee,pt,Qt){if(1&Ee&&(T.wni(Qt,Se,5),T.wni(Qt,Se,4)),2&Ee){let hn;T.mGM(hn=T.lsd())&&(pt.tabBar=hn.first),T.mGM(hn=T.lsd())&&(pt.tabBars=hn)}},viewQuery:function(Ee,pt){if(1&Ee&&T.GBs(d,5,ze),2&Ee){let Qt;T.mGM(Qt=T.lsd())&&(pt.outlet=Qt.first)}},features:[T.Vt3],ngContentSelectors:m,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Ee,pt){if(1&Ee){const Qt=T.RV6();T.NAR(h),T.SdG(0),T.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),T.bIt("stackWillChange",function(Fn){return T.eBV(Qt),T.Njj(pt.onStackWillChange(Fn))})("stackDidChange",function(Fn){return T.eBV(Qt),T.Njj(pt.onStackDidChange(Fn))}),T.k0s()(),T.SdG(5,1)}},dependencies:[ze],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),Ge})(),Bt=(()=>{var ye;class Ge extends Et.el{constructor(Ee,pt,Qt,hn,Fn,mo){super(Ee,pt,Qt,hn,Fn,mo)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(ze,8),T.rXU(Et.q9),T.rXU(Et.TS),T.rXU(T.aKT),T.rXU(T.SKi),T.rXU(T.gRc))}),(0,M.A)(Ge,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-back-button"]],features:[T.Vt3],ngContentSelectors:l,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),Ge})(),tn=(()=>{var ye;class Ge extends Et.Sb{}return ye=Ge,(0,M.A)(Ge,"\u0275fac",(()=>{let ct;return function(pt){return(ct||(ct=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ge,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-modal"]],features:[T.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Ee,pt){1&Ee&&T.DNE(0,p,2,1,"div",0),2&Ee&&T.Y8G("ngIf",pt.isCmpOpen||pt.keepContentsMounted)},dependencies:[$.bT,$.T3],encapsulation:2,changeDetection:0})),Ge})(),on=(()=>{var ye;class Ge extends Et.CF{}return ye=Ge,(0,M.A)(Ge,"\u0275fac",(()=>{let ct;return function(pt){return(ct||(ct=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ge,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-popover"]],features:[T.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Ee,pt){1&Ee&&T.DNE(0,y,1,1,"ng-container",0),2&Ee&&T.Y8G("ngIf",pt.isCmpOpen||pt.keepContentsMounted)},dependencies:[$.bT,$.T3],encapsulation:2,changeDetection:0})),Ge})();const Nn={provide:et.cz,useExisting:(0,T.Rfq)(()=>Dn),multi:!0};let Dn=(()=>{var ye;class Ge extends et.zX{}return ye=Ge,(0,M.A)(Ge,"\u0275fac",(()=>{let ct;return function(pt){return(ct||(ct=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ge,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ee,pt){2&Ee&&T.BMQ("max",pt._enabled?pt.max:null)},features:[T.Jv_([Nn]),T.Vt3]})),Ge})();const Kr={provide:et.cz,useExisting:(0,T.Rfq)(()=>yn),multi:!0};let yn=(()=>{var ye;class Ge extends et.VZ{}return ye=Ge,(0,M.A)(Ge,"\u0275fac",(()=>{let ct;return function(pt){return(ct||(ct=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ge,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,pt){2&Ee&&T.BMQ("min",pt._enabled?pt.min:null)},features:[T.Jv_([Kr]),T.Vt3]})),Ge})(),Gn=(()=>{var ye;class Ge extends Et.Kb{constructor(){super(b.TN)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ge,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),Ge})(),bn=(()=>{var ye;class Ge{create(Ee){return(0,b.JI)(Ee)}easingTime(Ee,pt,Qt,hn,Fn){return(0,b.sE)(Ee,pt,Qt,hn,Fn)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ge,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),Ge})(),eo=(()=>{var ye;class Ge extends Et.Kb{constructor(){super(b.FJ)}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ge,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),Ge})(),ko=(()=>{var ye;class Ge extends Et.Kb{constructor(){super(b.OZ),(0,M.A)(this,"angularDelegate",(0,T.WQX)(Et.Yq)),(0,M.A)(this,"injector",(0,T.WQX)(T.zZn)),(0,M.A)(this,"environmentInjector",(0,T.WQX)(T.uvJ))}create(Ee){return super.create({...Ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ge,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac})),Ge})();class $o extends Et.Kb{constructor(){super(b.mF),(0,M.A)(this,"angularDelegate",(0,T.WQX)(Et.Yq)),(0,M.A)(this,"injector",(0,T.WQX)(T.zZn)),(0,M.A)(this,"environmentInjector",(0,T.WQX)(T.uvJ))}create(Ge){return super.create({...Ge,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(ye,Ge,ct)=>()=>{const Ee=Ge.defaultView;if(Ee&&typeof window<"u"){(0,b.QX)({...ye,_zoneGate:Qt=>ct.run(Qt)});const pt="__zone_symbol__addEventListener"in Ge.body?"__zone_symbol__addEventListener":"addEventListener";return function f(){var ye=[];if(typeof window<"u"){var Ge=window;(!Ge.customElements||Ge.Element&&(!Ge.Element.prototype.closest||!Ge.Element.prototype.matches||!Ge.Element.prototype.remove||!Ge.Element.prototype.getRootNode))&&ye.push(_e.e(7278).then(_e.t.bind(_e,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ge.NodeList&&!Ge.NodeList.prototype.forEach||!Ge.fetch||!function(){try{var Ee=new URL("b","http://a");return Ee.pathname="c%20d","http://a/c%20d"===Ee.href&&Ee.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&ye.push(_e.e(9329).then(_e.t.bind(_e,7783,23)))}return Promise.all(ye)}().then(()=>a(Ee,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Et.er,jmp:Qt=>ct.runOutsideAngular(Qt),ael(Qt,hn,Fn,mo){Qt[pt](hn,Fn,mo)},rel(Qt,hn,Fn,mo){Qt.removeEventListener(hn,Fn,mo)}}))}};let vs=(()=>{var ye;class Ge{static forRoot(Ee={}){return{ngModule:Ge,providers:[{provide:Et.sR,useValue:Ee},{provide:T.hnV,useFactory:Vo,multi:!0,deps:[Et.sR,$.qQ,T.SKi]},Et.Yq,(0,Et.YV)()]}}}return ye=Ge,(0,M.A)(Ge,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ge,"\u0275mod",T.$C({type:ye})),(0,M.A)(Ge,"\u0275inj",T.G2t({providers:[ko,$o],imports:[$.MD]})),Ge})()},467:(xr,or,_e)=>{"use strict";function M(et,Et,o,se,$,v,b){try{var f=et[v](b),g=f.value}catch(S){return void o(S)}f.done?Et(g):Promise.resolve(g).then(se,$)}function T(et){return function(){var Et=this,o=arguments;return new Promise(function(se,$){var v=et.apply(Et,o);function b(g){M(v,se,$,b,f,"next",g)}function f(g){M(v,se,$,b,f,"throw",g)}b(void 0)})}}_e.d(or,{A:()=>T})},9842:(xr,or,_e)=>{"use strict";function M(o){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(o)}function Et(o,se,$){return(se=function et(o){var se=function T(o,se){if("object"!=M(o)||!o)return o;var $=o[Symbol.toPrimitive];if(void 0!==$){var v=$.call(o,se||"default");if("object"!=M(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===se?String:Number)(o)}(o,"string");return"symbol"==M(se)?se:se+""}(se))in o?Object.defineProperty(o,se,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[se]=$,o}_e.d(or,{A:()=>Et})},1635:(xr,or,_e)=>{"use strict";function o(X,G,Y,le){var j,Ie=arguments.length,J=Ie<3?G:null===le?le=Object.getOwnPropertyDescriptor(G,Y):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(X,G,Y,le);else for(var ne=X.length-1;ne>=0;ne--)(j=X[ne])&&(J=(Ie<3?j(J):Ie>3?j(G,Y,J):j(G,Y))||J);return Ie>3&&J&&Object.defineProperty(G,Y,J),J}function S(X,G,Y,le){return new(Y||(Y=Promise))(function(J,j){function ne($e){try{De(le.next($e))}catch(qe){j(qe)}}function me($e){try{De(le.throw($e))}catch(qe){j(qe)}}function De($e){$e.done?J($e.value):function Ie(J){return J instanceof Y?J:new Y(function(j){j(J)})}($e.value).then(ne,me)}De((le=le.apply(X,G||[])).next())})}function p(X){return this instanceof p?(this.v=X,this):new p(X)}function y(X,G,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,le=Y.apply(X,G||[]),J=[];return Ie={},ne("next"),ne("throw"),ne("return",function j(He){return function(ot){return Promise.resolve(ot).then(He,qe)}}),Ie[Symbol.asyncIterator]=function(){return this},Ie;function ne(He,ot){le[He]&&(Ie[He]=function(at){return new Promise(function(Ue,nt){J.push([He,at,Ue,nt])>1||me(He,at)})},ot&&(Ie[He]=ot(Ie[He])))}function me(He,ot){try{!function De(He){He.value instanceof p?Promise.resolve(He.value.v).then($e,qe):ut(J[0][2],He)}(le[He](ot))}catch(at){ut(J[0][3],at)}}function $e(He){me("next",He)}function qe(He){me("throw",He)}function ut(He,ot){He(ot),J.shift(),J.length&&me(J[0][0],J[0][1])}}function V(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,G=X[Symbol.asyncIterator];return G?G.call(X):(X=function l(X){var G="function"==typeof Symbol&&Symbol.iterator,Y=G&&X[G],le=0;if(Y)return Y.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&le>=X.length&&(X=void 0),{value:X&&X[le++],done:!X}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),Y={},le("next"),le("throw"),le("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function le(J){Y[J]=X[J]&&function(j){return new Promise(function(ne,me){!function Ie(J,j,ne,me){Promise.resolve(me).then(function(De){J({value:De,done:ne})},j)}(ne,me,(j=X[J](j)).done,j.value)})}}}_e.d(or,{AQ:()=>y,Cg:()=>o,N3:()=>p,sH:()=>S,xN:()=>V}),"function"==typeof SuppressedError&&SuppressedError}},xr=>{xr(xr.s=3419)}]);