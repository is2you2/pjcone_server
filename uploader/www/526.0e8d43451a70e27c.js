"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[526],{526:(it,$,I)=>{I.r($),I.d($,{PostViewerPageModule:()=>ot});var j=I(177),D=I(4341),w=I(5374),T=I(9858),y=I(467),U=I(8326),L=I(92),e=I(3953),F=I(3656),E=I(4234),G=I(755),B=I(4237),N=I(482),M=I(9900);const X=["QuickPostView"];function H(s,P){1&s&&(e.j41(0,"div",13)(1,"div",14),e.EFF(2,"A"),e.k0s()())}function W(s,P){if(1&s){const d=e.RV6();e.j41(0,"ion-icon",15),e.bIt("click",function(){e.eBV(d);const o=e.XpG();return e.Njj(o.ChangeToAnother(-1))}),e.k0s()}}function J(s,P){if(1&s&&(e.j41(0,"ion-label",16),e.EFF(1),e.k0s()),2&s){const d=e.XpG();e.R7$(),e.JRh(d.CurrentIndex+" / "+d.nakama.posts.length)}}function Q(s,P){1&s&&(e.j41(0,"div",13)(1,"div",17),e.EFF(2,"D"),e.k0s()())}function Y(s,P){if(1&s){const d=e.RV6();e.j41(0,"ion-icon",18),e.bIt("click",function(){e.eBV(d);const o=e.XpG();return e.Njj(o.ChangeToAnother(1))}),e.k0s()}}function z(s,P){if(1&s&&e.nrm(0,"img",19),2&s){const d=e.XpG();e.Y8G("src",d.PostInfo.mainImage.MainThumbnail,e.B4B)}}function K(s,P){if(1&s){const d=e.RV6();e.j41(0,"img",25),e.bIt("click",function(){e.eBV(d);const o=e.XpG(2);return e.Njj(o.global.WriteValueToClipboard("text/plain",o.ResultSharedAddress))}),e.k0s()}if(2&s){const d=e.XpG(2);e.Y8G("src",d.QRCodeSRC,e.B4B)}}function Z(s,P){if(1&s){const d=e.RV6();e.j41(0,"div",20)(1,"div",21),e.DNE(2,K,1,1,"img",22),e.j41(3,"ion-item",23),e.bIt("click",function(){e.eBV(d);const o=e.XpG();return e.Njj(o.global.WriteValueToClipboard("text/plain",o.ResultSharedAddress))}),e.j41(4,"ion-label",24),e.EFF(5),e.k0s()()()()}if(2&s){const d=e.XpG();e.R7$(2),e.Y8G("ngIf",d.QRCodeSRC),e.R7$(3),e.JRh(d.ResultSharedAddress)}}function q(s,P){if(1&s){const d=e.RV6();e.j41(0,"ion-footer")(1,"table",26)(2,"tr")(3,"td")(4,"ion-button",27),e.bIt("click",function(){e.eBV(d);const o=e.XpG();return e.Njj(o.EditPost())}),e.EFF(5),e.k0s()(),e.j41(6,"td")(7,"ion-button",28),e.bIt("click",function(){e.eBV(d);const o=e.XpG();return e.Njj(o.RemovePost())}),e.EFF(8),e.k0s()()()()()}if(2&s){const d=e.XpG();e.R7$(5),e.SpI(" ",d.lang.text.AddPost.EditTitle," "),e.R7$(3),e.SpI(" ",d.lang.text.PostViewer.RemovePost," ")}}const tt=[{path:"",component:(()=>{var s;class P{constructor(t,o,l,k,f,v,b,g,p){this.navCtrl=t,this.lang=o,this.indexed=l,this.nakama=k,this.alertCtrl=f,this.global=v,this.p5toast=b,this.route=g,this.router=p,this.PostInfo={},this.isOwner=!1,this.HavePosts=!1,this.CurrentIndex=1,this.WaitingLoaded=!1,this.BackButtonPressed=!1,this.blenderViewers=[],this.FileURLs=[],this.PlayableElements=[],this.IsFocusOnHere=!0,this.ContentChanging=!1}ngOnInit(){this.cont=new AbortController,this.route.queryParams.subscribe(t=>{try{const o=this.router.getCurrentNavigation().extras.state;this.PostInfo=o.data,this.CurrentIndex=o.index,this.initialize()}catch{}})}WaitingCurrent(){var t=this;return(0,y.A)(function*(){for(;!t.WaitingLoaded;)yield new Promise(o=>setTimeout(o,0))})()}ionViewWillEnter(){this.WaitingLoaded=!0,this.global.StoreShortCutAct("post-viewer"),this.global.p5KeyShortCut.Escape=()=>{this.navCtrl.pop()},this.IsFocusOnHere=!0}ChangeContentWithKeyInput(){var t=this;if(this.p5canvas){this.p5canvas.keyPressed=function(){var f=(0,y.A)(function*(v){if(t.IsFocusOnHere)switch(v.code){case"KeyA":case"ArrowLeft":t.ChangeToAnother(-1);break;case"KeyD":case"ArrowRight":t.ChangeToAnother(1);break;case"KeyQ":let b=[];for(let g=0,p=t.PostInfo.attachments.length;g<p;g++)b.push({content:JSON.parse(JSON.stringify(t.PostInfo.attachments[g]))});if(!b.length)return;t.global.PageDismissAct["post-viewer-image-view"]=function(){var g=(0,y.A)(function*(p){yield t.WaitingCurrent(),p.data&&p.data.share&&t.navCtrl.pop(),delete t.global.PageDismissAct["post-viewer-image-view"]});return function(p){return g.apply(this,arguments)}}(),t.global.ActLikeModal("ionic-viewer",{info:{content:t.PostInfo.attachments[0]},path:t.PostInfo.attachments[0].path,relevance:b,noEdit:!0,dismiss:"post-viewer-image-view"})}});return function(v){return f.apply(this,arguments)}}();let o=this.p5canvas.createVector(),l={};this.p5canvas.touchStarted=f=>{if(this.IsFocusOnHere&&"changedTouches"in f){for(let b=0,g=f.changedTouches.length;b<g;b++)l[f.changedTouches[b].identifier]=this.p5canvas.createVector(f.changedTouches[b].clientX,f.changedTouches[b].clientY);1===Object.keys(l).length&&(o=l[f.changedTouches[0].identifier].copy())}};const k=100;this.p5canvas.touchEnded=f=>{if(this.IsFocusOnHere&&"changedTouches"in f){let v;for(let g=0,p=f.changedTouches.length;g<p;g++)v=this.p5canvas.createVector(f.changedTouches[g].clientX,f.changedTouches[g].clientY),delete l[f.changedTouches[g].identifier];0===Object.keys(l).length&&(v.sub(o),v.x>k?this.ChangeToAnother(-1):v.x<-k&&this.ChangeToAnother(1))}}}}initialize(){if(this.PostInfo.mainImage)try{let t=this.PostInfo.mainImage.url;t||(t=URL.createObjectURL(this.PostInfo.mainImage.blob),setTimeout(()=>{URL.revokeObjectURL(t)},100)),this.PostInfo.mainImage.MainThumbnail=t}catch{}this.create_content();try{this.isOwner="me"==this.PostInfo.creator_id||this.PostInfo.creator_id==this.nakama.servers[this.PostInfo.server.isOfficial][this.PostInfo.server.target].session.user_id}catch{this.isOwner=!1}this.HavePosts=this.nakama.posts.length>1&&this.CurrentIndex>=0,this.ChangeContentWithKeyInput()}ChangeToAnother(t){if(this.ContentChanging)return;this.ContentChanging=!0;let o=this.CurrentIndex+t;o<=0||o>this.nakama.posts.length?this.ContentChanging=!1:(this.ScrollDiv||(this.ScrollDiv=document.getElementById("ScrollPost")),this.ScrollDiv.scrollTo({top:0}),this.p5canvas&&this.p5canvas.remove(),this.CurrentIndex=o,this.PostInfo=this.nakama.posts[this.CurrentIndex-1],this.initialize())}create_content(){var t=this;let o=document.getElementById("PostContent");this.p5canvas=new U(l=>{l.setup=(0,y.A)(function*(){l.noCanvas();let f=l.createDiv(`${t.PostInfo.OutSource?'<ion-icon id="title_link" style="cursor: pointer;" slot="start" name="link-outline"></ion-icon> ':""}${t.PostInfo.title}`);t.PostInfo.OutSource&&(document.getElementById("title_link").onclick=(0,y.A)(function*(){t.ResultSharedAddress="";let _=t.PostInfo.OutSource,m=_.substring(0,_.indexOf(":8"));try{let C=`${m}:12000${window.sub_path}`;const V=new AbortController,A=setTimeout(()=>{V.abort()},500);let n=yield fetch(C,{signal:V.signal});if(clearTimeout(A),!n.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";t.ResultSharedAddress=`${m}:12000${window.sub_path}?postViewer=${t.PostInfo.OutSource}`}catch{t.ResultSharedAddress=`${L.d2}pjcone_pwa/?postViewer=${t.PostInfo.OutSource}`}t.QRCodeSRC=t.global.readasQRCodeFromString(t.ResultSharedAddress),t.QuickPostView.onDidDismiss().then(()=>{t.global.RestoreShortCutAct("quick-post-view")}),t.global.StoreShortCutAct("quick-post-view"),t.QuickPostView.present()})),f.style("font-size","32px"),f.style("font-weight","bold"),f.parent(o);let v=l.createDiv();v.style("color","#888"),v.parent(o),l.createDiv(`${t.lang.text.PostViewer.CreateTime}: ${new Date(t.PostInfo.create_time).toLocaleString()}`).parent(v),t.PostInfo.create_time!=t.PostInfo.modify_time&&l.createDiv(`${t.lang.text.PostViewer.ModifyTime}: ${new Date(t.PostInfo.modify_time).toLocaleString()}`).parent(v);let p,g=l.createDiv();g.style("padding-bottom","8px"),g.parent(o);try{p=t.nakama.usernameOverride[t.PostInfo.server.isOfficial][t.PostInfo.server.target][t.PostInfo.creator_id]||t.PostInfo.creator_name}catch{p=t.PostInfo.creator_name}let x=l.createSpan(p);if(x.style("color",`#${t.PostInfo.UserColor}`),x.style("font-weight","bold"),x.style("font-size","17px"),x.style("cursor","pointer"),x.elt.onclick=()=>{if("me"==t.PostInfo.creator_id)t.nakama.open_profile_page();else try{let c=t.PostInfo.server.isOfficial,_=t.PostInfo.server.target,m=t.PostInfo.creator_id;m==t.nakama.servers[c][_].session.user_id?t.nakama.open_profile_page({isOfficial:c,target:_}):t.nakama.open_others_profile({info:{user:t.nakama.load_other_user(m,c,_)},group:{server:{isOfficial:c,target:_}}})}catch(c){t.p5toast.show({text:`${t.lang.text.PostViewer.CannotOpenProfile}: ${c}`})}},x.parent(g),t.PostInfo.server.local)for(let c=0,_=t.PostInfo.attachments.length;c<_;c++)try{if(t.PostInfo.attachments[c].blob)throw"blob \uc900\ube44\ub418\uc5b4\uc788\uc74c";let m=yield t.indexed.loadBlobFromUserPath(t.PostInfo.attachments[c].path,t.PostInfo.attachments[c].type);t.PostInfo.attachments[c].blob=m}catch{}else for(let c=0,_=t.PostInfo.attachments.length;c<_;c++)try{if(t.PostInfo.attachments[c].blob)throw"blob \uc900\ube44\ub418\uc5b4\uc788\uc74c";t.PostInfo.attachments[c].alt_path=`servers/${t.PostInfo.server.isOfficial}/${t.PostInfo.server.target}/posts/${t.PostInfo.creator_id}/${t.PostInfo.id}/[${c}]${t.PostInfo.attachments[c].filename}`;let m=yield t.nakama.sync_load_file(t.PostInfo.attachments[c],t.PostInfo.server.isOfficial,t.PostInfo.server.target,"server_post",t.PostInfo.creator_id,`${t.PostInfo.id}_attach_${c}`,!1);t.PostInfo.attachments[c].blob=m.value}catch{}if(t.PostInfo.content){let c=t.PostInfo.content.split("\n"),_=[];for(let m=0,C=c.length;m<C;m++){let V=!1,A=c[m].length-1,n=0;try{n=Number(c[m].substring(1,A)),V="["==c[m].charAt(0)&&"]"==c[m].charAt(A)&&!isNaN(n)}catch{}if(V)switch(t.PostInfo.attachments[n].viewer){case"image":{let i=t.PostInfo.attachments[n].url;if(!i)try{i=URL.createObjectURL(t.PostInfo.attachments[n].blob),setTimeout(()=>{URL.revokeObjectURL(i)},100)}catch(r){console.log("\uac8c\uc2dc\ubb3c image \ucca8\ubd80\ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",r)}let a=l.createImg(i,`${n}`);a.style("cursor","pointer"),a.elt.onclick=()=>{let r=[];for(let h of t.PostInfo.attachments)r.push({content:JSON.parse(JSON.stringify(h))});t.global.PageDismissAct["post-viewer-image-view"]=function(){var h=(0,y.A)(function*(u){yield t.WaitingCurrent(),u.data&&u.data.share&&t.navCtrl.pop(),delete t.global.PageDismissAct["post-viewer-image-view"]});return function(u){return h.apply(this,arguments)}}(),t.global.ActLikeModal("ionic-viewer",{info:{content:t.PostInfo.attachments[n]},path:t.PostInfo.attachments[n].path,relevance:r,noEdit:!0,dismiss:"post-viewer-image-view"})},a.parent(o)}break;case"audio":{let i=t.PostInfo.attachments[n].url;if(!i)try{i=URL.createObjectURL(t.PostInfo.attachments[n].blob),t.FileURLs.push(i)}catch(r){console.log("\uac8c\uc2dc\ubb3c audio \ucca8\ubd80\ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",r)}let a=l.createAudio([i]);a.showControls(),a.elt.onplay=()=>{for(let r=0,h=t.PlayableElements.length;r<h;r++)try{r!=n&&t.PlayableElements[r].pause()}catch{}},a.parent(o),t.PlayableElements[n]=a.elt}break;case"video":{let i=t.PostInfo.attachments[n].url;if(!i)try{i=URL.createObjectURL(t.PostInfo.attachments[n].blob),t.FileURLs.push(i)}catch(r){console.log("\uac8c\uc2dc\ubb3c video \ucca8\ubd80\ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",r)}let a=l.createVideo([i]);a.style("width","100%"),a.style("height","auto"),a.showControls(),a.parent(o),t.PlayableElements[n]=a.elt}break;case"godot":{let i=`PostViewer_godot_pck_${n}`,a=l.createDiv();a.id(i),a.style("width","100%"),a.style("height","432px"),a.parent(o),setTimeout((0,y.A)(function*(){let r=!1;if(t.indexed.godotDB)try{yield t.indexed.GetGodotIndexedDB(),yield t.indexed.saveBlobToUserPath(t.PostInfo.attachments[n].blob,`godot/app_userdata/Client/tmp_files/duplicate/${t.PostInfo.attachments[n].filename}`,void 0,t.indexed.godotDB),r=!0}catch(h){console.log("\ub0b4\ubd80 \ud30c\uc77c \uc5c6\uc74c: ",h)}if(yield t.global.CreateGodotIFrame(i,{path:`tmp_files/duplicate/${t.PostInfo.attachments[n].filename}`,url:t.PostInfo.attachments[n].url,quit_ionic:()=>{if(r)try{k(a,n),a.elt.onclick=()=>{let h=[];for(let u of t.PostInfo.attachments)h.push({content:u});t.global.PageDismissAct["post-viewer-file-view"]=()=>{delete t.global.PageDismissAct["post-viewer-file-view"]},t.global.ActLikeModal("ionic-viewer",{info:{content:JSON.parse(JSON.stringify(t.PostInfo.attachments[n]))},path:t.PostInfo.attachments[n].path,relevance:h,noEdit:!0,dismiss:"post-viewer-file-view"})}}catch(h){console.log("\ud504\ub808\uc784 \uc0ad\uc81c \ud589\ub3d9\uc2e4\ud328: ",h)}}},"start_load_pck"),!r){try{let h=yield t.indexed.loadBlobFromUserPath(t.PostInfo.attachments[n].path,"",void 0,t.indexed.ionicDB);yield t.indexed.GetGodotIndexedDB(),yield t.indexed.saveBlobToUserPath(h,`godot/app_userdata/Client/tmp_files/duplicate/${t.PostInfo.attachments[n].filename}`,void 0,t.indexed.godotDB)}catch{}yield t.global.CreateGodotIFrame(i,{path:`tmp_files/duplicate/${t.PostInfo.attachments[n].filename}`,url:t.PostInfo.attachments[n].url,quit_ionic:()=>{try{k(a,n),a.elt.onclick=()=>{let h=[];for(let u of t.PostInfo.attachments)h.push({content:u});t.global.PageDismissAct["post-viewer-file-view"]=()=>{delete t.global.PageDismissAct["post-viewer-file-view"]},t.global.ActLikeModal("ionic-viewer",{info:{content:JSON.parse(JSON.stringify(t.PostInfo.attachments[n]))},path:t.PostInfo.attachments[n].path,relevance:h,noEdit:!0,dismiss:"post-viewer-file-view"})}}catch(h){console.log("\ud504\ub808\uc784 \uc0ad\uc81c \ud589\ub3d9\uc2e4\ud328: ",h)}}},"start_load_pck")}t.PostInfo.attachments[n].url?t.global.godot_window.download_url():t.global.godot_window.start_load_pck()}),100)}break;case"blender":{let i=l.createDiv();i.style("position","relative"),i.style("width","100%"),i.style("height","432px"),i.elt.onwheel=()=>!1,i.elt.oncontextmenu=()=>!1,i.parent(o);let a=t.global.load_blender_file(i.elt,t.PostInfo.attachments[n],()=>{},()=>{},t.cont);t.blenderViewers.push(a)}break;case"code":case"text":if("text/html"==t.PostInfo.attachments[n].type)try{if(!t.PostInfo.attachments[n].blob||!t.PostInfo.attachments[n].blob.size){if(t.PostInfo.attachments[n].url){let h=yield fetch(t.PostInfo.attachments[n].url);if(h.ok){let u=yield h.blob();t.PostInfo.attachments[n].alt_path=`servers/${t.PostInfo.server.isOfficial}/${t.PostInfo.server.target}/posts/${t.PostInfo.creator_id}/${t.PostInfo.id}/[${n}]${t.PostInfo.attachments[n].filename}`,yield t.indexed.saveBlobToUserPath(u,t.PostInfo.attachments[n].alt_path)}}let r=yield t.indexed.loadBlobFromUserPath(t.PostInfo.attachments[n].alt_path||t.PostInfo.attachments[n].path,t.PostInfo.attachments[n].type);t.PostInfo.attachments[n].blob=r}let i=URL.createObjectURL(t.PostInfo.attachments[n].blob);t.FileURLs.push(i);let a=l.createElement("iframe");a.style("width","100%"),a.style("border","0"),a.style("height","432px"),a.attribute("src",i),a.parent(o);break}catch(i){console.log("HTML \ud30c\uc77c \uc77d\uae30 \uc2e4\ud328: ",i)}default:{let i=l.createDiv();i.parent(o),k(i,n),i.elt.onclick=()=>{let a=[];for(let r of t.PostInfo.attachments)a.push({content:r});t.global.PageDismissAct["post-viewer-file-view"]=()=>{delete t.global.PageDismissAct["post-viewer-file-view"]},t.global.ActLikeModal("ionic-viewer",{info:{content:JSON.parse(JSON.stringify(t.PostInfo.attachments[n]))},path:t.PostInfo.attachments[n].path,relevance:a,noEdit:!0,dismiss:"post-viewer-file-view"})}}}else try{let i=JSON.parse(c[m]),r=l.createDiv(`[${i.i}] ${t.PostInfo.attachments[i.i].filename} (${i.t})`);r.style("background-color","#8888"),r.style("width","fit-content"),r.style("height","fit-content"),r.style("border-radius","16px"),r.style("padding","8px 16px"),r.style("cursor","pointer"),r.parent(o),_.push(()=>{let h=t.PlayableElements[i.i],u=i.t.split(":"),S=0,O=1;for(let R=u.length-1;R>=0;R--){let nt=Number(u.pop());S+=nt*O,O*=60}r.elt.onclick=()=>{try{h.currentTime=S,h.play()}catch{}}})}catch{let a=l.createDiv();a.parent(o);let r=c[m].split(" "),h="";for(let u=0,S=r.length;u<S;u++)if(0==r[u].indexOf("http:")||0==r[u].indexOf("https:")){l.createSpan(h).parent(a),h="";let R=l.createA(r[u],r[u]);R.attribute("target","_blank"),R.parent(a),h+="&nbsp"}else h+=r[u]+"&nbsp";h&&l.createSpan(h).parent(a)}}for(let m=0,C=_.length;m<C;m++)_[m]()}t.ContentChanging=!1});let k=(f,v)=>{f.style("width","160px"),f.style("height","112px"),f.style("overflow","hidden"),f.style("background-color","grey"),f.style("margin-top","4px"),f.style("border-radius","8px"),f.style("cursor","pointer");let b=l.createP(this.PostInfo.attachments[v].filename);b.style("margin","0px 4px"),b.style("text-align","start"),b.parent(f);let g=l.createDiv();g.style("background-color","white"),g.style("margin-top","2px"),g.style("position","relative"),g.style("width","100%"),g.style("height","2px"),g.parent(f);let p=l.createSpan(this.lang.text.PostViewer.OpenFromViewer);p.style("margin","2px 4px 0px 4px"),p.style("text-align","start"),p.style("display","grid"),p.parent(f)}})}EditPost(){this.nakama.EditPost(this.PostInfo),this.navCtrl.pop()}ionViewWillLeave(){this.WaitingLoaded=!1,delete this.global.p5KeyShortCut.Escape,this.global.RestoreShortCutAct("post-viewer"),this.IsFocusOnHere=!1}RemovePost(){var o,t=this;this.alertCtrl.create({header:this.lang.text.PostViewer.RemovePost,message:this.lang.text.ChatRoom.CannotUndone,buttons:[{text:this.lang.text.ChatRoom.Delete,cssClass:"redfont",handler:(o=(0,y.A)(function*(){yield t.nakama.RemovePost(t.PostInfo),t.navCtrl.pop()}),function(){return o.apply(this,arguments)})}]}).then(o=>o.present())}ngOnDestroy(){this.route.queryParams.unsubscribe(),this.cont.abort();for(let t=0,o=this.FileURLs.length;t<o;t++)URL.revokeObjectURL(this.FileURLs[t]);for(let t=0,o=this.blenderViewers.length;t<o;t++)this.blenderViewers[t].remove();this.p5canvas&&this.p5canvas.remove()}}return(s=P).\u0275fac=function(t){return new(t||s)(e.rXU(F.q9),e.rXU(E.y),e.rXU(G.n),e.rXU(B.X),e.rXU(w.hG),e.rXU(N.z3),e.rXU(M.G),e.rXU(T.nX),e.rXU(T.Ix))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-post-viewer"]],viewQuery:function(t,o){if(1&t&&e.GBs(X,5),2&t){let l;e.mGM(l=e.lsd())&&(o.QuickPostView=l.first)}},decls:19,vars:8,consts:[["QuickPostView",""],[1,"ion-no-border"],["slot","start"],["defaultHref","portal/community"],["style","position: relative;","slot","end",4,"ngIf"],["class","relevance_change","style","padding-right: 4px;","slot","end","name","arrow-back-circle-outline",3,"click",4,"ngIf"],["slot","end",4,"ngIf"],["class","relevance_change","style","padding-right: 16px; padding-left: 4px;","slot","end","name","arrow-forward-circle-outline",3,"click",4,"ngIf"],["id","ScrollPost"],["style","width: 100%; height: auto;","alt","MainImage",3,"src",4,"ngIf"],["id","PostContent",2,"padding","16px","height","100%"],[1,"transparent-modal"],[4,"ngIf"],["slot","end",2,"position","relative"],[1,"shortcut_hint","shortcut_change_viewer",2,"right","-4px"],["slot","end","name","arrow-back-circle-outline",1,"relevance_change",2,"padding-right","4px",3,"click"],["slot","end"],[1,"shortcut_hint","shortcut_change_viewer"],["slot","end","name","arrow-forward-circle-outline",1,"relevance_change",2,"padding-right","16px","padding-left","4px",3,"click"],["alt","MainImage",2,"width","100%","height","auto",3,"src"],[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","min-height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"],["style","width: 100%; height: auto; cursor: copy; margin-bottom: 8px;","alt","QuickPostViewLink",3,"src","click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["alt","QuickPostViewLink",2,"width","100%","height","auto","cursor","copy","margin-bottom","8px",3,"click","src"],[2,"width","100%","background-color","black"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",2),e.nrm(5,"ion-back-button",3),e.k0s(),e.DNE(6,H,3,0,"div",4)(7,W,1,0,"ion-icon",5)(8,J,2,1,"ion-label",6)(9,Q,3,0,"div",4)(10,Y,1,0,"ion-icon",7),e.k0s()(),e.j41(11,"ion-content")(12,"div",8),e.DNE(13,z,1,1,"img",9),e.nrm(14,"div",10),e.k0s(),e.j41(15,"ion-modal",11,0),e.DNE(17,Z,6,2,"ng-template"),e.k0s()(),e.DNE(18,q,9,2,"ion-footer",12)),2&t&&(e.R7$(3),e.JRh(o.lang.text.PostViewer.Title),e.R7$(3),e.Y8G("ngIf",o.global.ShowHint&&o.HavePosts),e.R7$(),e.Y8G("ngIf",o.HavePosts),e.R7$(),e.Y8G("ngIf",o.HavePosts),e.R7$(),e.Y8G("ngIf",o.global.ShowHint&&o.HavePosts),e.R7$(),e.Y8G("ngIf",o.HavePosts),e.R7$(3),e.Y8G("ngIf",o.PostInfo.mainImage&&o.PostInfo.mainImage.MainThumbnail),e.R7$(5),e.Y8G("ngIf",o.isOwner&&o.CurrentIndex>=0))},dependencies:[j.bT,w.Jm,w.QW,w.W9,w.M0,w.eU,w.iq,w.uz,w.he,w.BC,w.ai,w.Sb,w.el],styles:[".relevance_change[_ngcontent-%COMP%]{width:25px;height:25px}"]}),P})()}];let et=(()=>{var s;class P{}return(s=P).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({imports:[T.iI.forChild(tt),T.iI]}),P})(),ot=(()=>{var s;class P{}return(s=P).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({imports:[j.MD,D.YN,w.bv,et]}),P})()}}]);