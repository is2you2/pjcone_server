"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7476],{7476:(B,y,u)=>{u.d(y,{u:()=>v});var c=u(8326),d=u(3953);let v=(()=>{var a;class m{constructor(){this.Buttons={},this.ArrayKeys=[],this.RemoveLock=!1}CreateFloatButton(){this.p5canvas=new c(t=>{let s,o=[],e=n=>{o.push(n),i=0,t.loop()},l=n=>{s=n,n.style("transform-origin","50% 50%"),n.style("opacity","0"),n.style("transform","scale(0)"),i=0,t.loop()},f=()=>{this.LastRemoveQueue.style("transform-origin","50% 50%"),this.LastRemoveQueue.style("opacity","1"),this.LastRemoveQueue.style("transform","scale(1)"),i=0,t.loop()};t.setup=()=>{t.noCanvas(),this.AddAnimateActFunc=e,this.AddButtonQueue=l,this.RemoveButtonQueue=f,t.noLoop()};let i=0,h=n=>t.sin(n*t.PI/2);t.draw=()=>{i+=.07;let n=i>=1;n&&(i=1,s&&(s=null),this.LastRemoveQueue&&(this.LastRemoveQueue.remove(),this.LastRemoveQueue=null,this.LastRemoveKey=null,this.RemoveLock=!1,!this.ArrayKeys.length&&this.p5canvas&&this.p5canvas.remove()),t.noLoop()),s&&(s.style("opacity",`${i}`),s.style("transform",`scale(${h(i)})`)),this.LastRemoveQueue&&(this.LastRemoveQueue.style("opacity",""+(1-i)),this.LastRemoveQueue.style("transform",`scale(${h(1-i)})`));for(let r=o.length-1;r>=0;r--){let A=t.lerp(o[r].start,o[r].end,h(i));o[r].button.style(`right: ${A}px`)}n&&(o.length=0)}})}AddFloatButton(t,o){if(this.LastRemoveKey==t)return;this.p5canvas||this.CreateFloatButton();for(let s of this.ArrayKeys){let l=Number(this.Buttons[s].style("right").split("px").shift());this.AddAnimateActFunc({type:"add",button:this.Buttons[s],start:l,end:l+80})}let e=this.p5canvas.createDiv(`<ion-icon style="width: 36px; height: 36px" name="${o}"></ion-icon>`);return e.style("position: absolute; right: 0; bottom: 56px; z-index: 1"),e.style("width: 64px; height: 64px"),e.style("text-align: center; align-content: center"),e.style("cursor: pointer"),e.style("margin: 16px"),e.style("padding-top: 6px"),e.style("background-color: #8888"),e.style("border-radius: 24px"),this.AddButtonQueue(e),this.Buttons[t]=e,this.ArrayKeys.push(t),e}RemoveFloatButton(t){if(!this.Buttons[t]||this.RemoveLock)return;this.RemoveLock=!0,this.LastRemoveKey=t,this.LastRemoveQueue=this.Buttons[t],delete this.Buttons[t];let o=-1;for(let e=this.ArrayKeys.length-1;e>=0;e--){if(o>=0){let s=Number(this.Buttons[this.ArrayKeys[e]].style("right").split("px").shift());this.AddAnimateActFunc({type:"remove",button:this.Buttons[this.ArrayKeys[e]],start:s,end:s-80})}this.ArrayKeys[e]==t&&(this.RemoveButtonQueue(),this.ArrayKeys.splice(e,1),o=e)}}}return(a=m).\u0275fac=function(t){return new(t||a)},a.\u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),m})()}}]);