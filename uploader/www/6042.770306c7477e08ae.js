(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6042],{6042:I=>{I.exports=function k(m,_,o){function l(p,r){if(!_[p]){if(!m[p]){if(w)return w(p,!0);var n=new Error("Cannot find module '"+p+"'");throw n.code="MODULE_NOT_FOUND",n}var h=_[p]={exports:{}};m[p][0].call(h.exports,function(c){return l(m[p][1][c]||c)},h,h.exports,k,m,_,o)}return _[p].exports}for(var w=void 0,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(k,m,_){function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(r){return"function"==typeof r}function d(r){return"object"==typeof r&&null!==r}function p(r){return void 0===r}m.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(r){if(!function w(r){return"number"==typeof r}(r)||r<0||isNaN(r))throw TypeError("n must be a positive number");return this._maxListeners=r,this},o.prototype.emit=function(r){var s,n,h,c,a,e;if(this._events||(this._events={}),"error"===r&&(!this._events.error||d(this._events.error)&&!this._events.error.length)){if((s=arguments[1])instanceof Error)throw s;var t=new Error('Uncaught, unspecified "error" event. ('+s+")");throw t.context=s,t}if(p(n=this._events[r]))return!1;if(l(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),n.apply(this,c)}else if(d(n))for(c=Array.prototype.slice.call(arguments,1),h=(e=n.slice()).length,a=0;a<h;a++)e[a].apply(this,c);return!0},o.prototype.on=o.prototype.addListener=function(r,s){var n;if(!l(s))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",r,l(s.listener)?s.listener:s),this._events[r]?d(this._events[r])?this._events[r].push(s):this._events[r]=[this._events[r],s]:this._events[r]=s,d(this._events[r])&&!this._events[r].warned&&(n=p(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[r].length>n&&(this._events[r].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[r].length),"function"==typeof console.trace&&console.trace()),this},o.prototype.once=function(r,s){if(!l(s))throw TypeError("listener must be a function");var n=!1;function h(){this.removeListener(r,h),n||(n=!0,s.apply(this,arguments))}return h.listener=s,this.on(r,h),this},o.prototype.removeListener=function(r,s){var n,h,c,a;if(!l(s))throw TypeError("listener must be a function");if(!this._events||!this._events[r])return this;if(c=(n=this._events[r]).length,h=-1,n===s||l(n.listener)&&n.listener===s)delete this._events[r],this._events.removeListener&&this.emit("removeListener",r,s);else if(d(n)){for(a=c;a-- >0;)if(n[a]===s||n[a].listener&&n[a].listener===s){h=a;break}if(h<0)return this;1===n.length?(n.length=0,delete this._events[r]):n.splice(h,1),this._events.removeListener&&this.emit("removeListener",r,s)}return this},o.prototype.removeAllListeners=function(r){var s,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[r]&&delete this._events[r],this;if(0===arguments.length){for(s in this._events)"removeListener"!==s&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events={},this}if(l(n=this._events[r]))this.removeListener(r,n);else if(n)for(;n.length;)this.removeListener(r,n[n.length-1]);return delete this._events[r],this},o.prototype.listeners=function(r){return this._events&&this._events[r]?l(this._events[r])?[this._events[r]]:this._events[r].slice():[]},o.prototype.listenerCount=function(r){if(this._events){var s=this._events[r];if(l(s))return 1;if(s)return s.length}return 0},o.listenerCount=function(r,s){return r.listenerCount(s)}},{}],2:[function(k,m,_){var o,l,w,d,p;p=navigator.userAgent.toLowerCase(),d=navigator.platform.toLowerCase(),w="ie"===(o=p.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(l={name:"version"===o[1]?o[3]:o[1],version:w||parseFloat("opera"===o[1]&&o[4]?o[4]:o[2]),platform:{name:p.match(/ip(?:ad|od|hone)/)?"ios":(p.match(/(?:webos|android)/)||d.match(/mac|win|linux/)||["other"])[0]}})[l.name]=!0,l[l.name+parseInt(l.version,10)]=!0,l.platform[l.platform.name]=!0,m.exports=l},{}],3:[function(k,m,_){var o,l,w,p={}.hasOwnProperty,r=[].indexOf||function(n){for(var h=0,c=this.length;h<c;h++)if(h in this&&this[h]===n)return h;return-1},s=[].slice;o=k("events").EventEmitter,w=k("./browser.coffee"),l=function(n){var h,c;function a(e){var t,i;for(i in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),h)null==(t=this.options)[i]&&(t[i]=h[i])}return function(n,h){for(var c in h)p.call(h,c)&&(n[c]=h[c]);function a(){this.constructor=n}a.prototype=h.prototype,n.prototype=new a,n.__super__=h.prototype}(a,n),h={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},c={delay:500,copy:!1},a.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},a.prototype.setOptions=function(e){var t,i;for(t in i=[],e)p.call(e,t)&&i.push(this.setOption(t,e[t]));return i},a.prototype.addFrame=function(e,t){var i,f;for(f in null==t&&(t={}),(i={}).transparent=this.options.transparent,c)i[f]=t[f]||c[f];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),typeof ImageData<"u"&&null!==ImageData&&e instanceof ImageData)i.data=e.data;else if(typeof CanvasRenderingContext2D<"u"&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?i.data=this.getContextData(e):i.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?i.data=this.getImageData(e):i.image=e}return this.frames.push(i)},a.prototype.render=function(){var t,i,f;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var u,v,g;for(g=[],u=0,v=this.frames.length;0<=v?u<v:u>v;0<=v?++u:--u)g.push(null);return g}.call(this),i=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(t=0,f=i;0<=f?t<f:t>f;0<=f?++t:--t)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},a.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},a.prototype.spawnWorkers=function(){var t,i,f;return t=Math.min(this.options.workers,this.frames.length),function(){f=[];for(var u=i=this.freeWorkers.length;i<=t?u<t:u>t;i<=t?u++:u--)f.push(u);return f}.apply(this).forEach(function(u){return function(v){var g;return u.log("spawning worker "+v),(g=new Worker(u.options.workerScript)).onmessage=function(x){return u.activeWorkers.splice(u.activeWorkers.indexOf(g),1),u.freeWorkers.push(g),u.frameFinished(x.data)},u.freeWorkers.push(g)}}(this)),t},a.prototype.frameFinished=function(e){var i,f;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(i=1,f=this.freeWorkers.length;1<=f?i<f:i>f;1<=f?++i:--i)this.renderNextFrame();return r.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},a.prototype.finishRendering=function(){var e,t,i,f,u,v,g,x,W,F,D,b,y,L,E;for(x=0,u=0,W=(y=this.imageParts).length;u<W;u++)x+=((t=y[u]).data.length-1)*t.pageSize+t.cursor;for(x+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(x/1e3)+"kb"),e=new Uint8Array(x),b=0,v=0,F=(L=this.imageParts).length;v<F;v++)for(i=g=0,D=(E=(t=L[v]).data).length;g<D;i=++g)e.set(E[i],b),b+=i===t.data.length-1?t.cursor:t.pageSize;return f=new Blob([e],{type:"image/gif"}),this.emit("finished",f,e)},a.prototype.renderNextFrame=function(){var e,t,i;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],i=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(i),i.postMessage(t)},a.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},a.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},a.prototype.getTask=function(e){var t,i;if(i={index:t=this.frames.indexOf(e),last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===w.name},null!=e.data)i.data=e.data;else if(null!=e.context)i.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");i.data=this.getImageData(e.image)}return i},a.prototype.log=function(){var e;if(e=1<=arguments.length?s.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},a}(o),m.exports=l},{"./browser.coffee":2,events:1}]},{},[3])(3)}}]);