"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[767],{767:(V,_,a)=>{a.r(_),a.d(_,{SettingsPageModule:()=>E});var d=a(177),u=a(4341),s=a(5374),p=a(9858),S=a(467),m=a(617),c=a(92),t=a(3953),f=a(3656),k=a(8065),v=a(4237),b=a(4234),j=a(482),F=a(755);const R=["Devkit"],P=["StartPageSel"],C=["LangSel"];function B(n,r){if(1&n){const o=t.RV6();t.j41(0,"ion-item",24),t.nrm(1,"ion-icon",25),t.j41(2,"ion-input",26),t.mxI("ngModelChange",function(e){t.eBV(o);const l=t.XpG();return t.DH7(l.FallbackServerAddress,e)||(l.FallbackServerAddress=e),t.Njj(e)}),t.bIt("ionInput",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.fallback_fs_input())}),t.k0s(),t.j41(3,"ion-icon",27),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.global.open_custom_site(e.FallbackServerAddress))}),t.k0s()()}if(2&n){const o=t.XpG();t.R7$(2),t.Y8G("label",o.lang.text.Settings.FallbackFS),t.R50("ngModel",o.FallbackServerAddress)}}function I(n,r){if(1&n){const o=t.RV6();t.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),t.EFF(3),t.k0s()(),t.j41(4,"ion-item",6),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.go_to_page("admin-tools"))}),t.j41(5,"ion-label"),t.EFF(6),t.k0s()()()}if(2&n){const o=t.XpG();t.R7$(3),t.JRh(o.lang.text.Settings.admin_tools),t.R7$(3),t.JRh(o.lang.text.Settings.ServerAdmin)}}function L(n,r){if(1&n){const o=t.RV6();t.j41(0,"ion-item",6),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.go_to_page("translator"))}),t.j41(1,"ion-label"),t.EFF(2),t.k0s()()}if(2&n){const o=t.XpG();t.R7$(2),t.JRh(o.lang.text.Settings.AppTranslator)}}function T(n,r){if(1&n&&(t.j41(0,"ion-select-option",28),t.EFF(1),t.k0s()),2&n){const o=r.$implicit;t.Y8G("value",o.value),t.R7$(),t.JRh(o.display_name)}}function N(n,r){if(1&n){const o=t.RV6();t.j41(0,"ion-item",6),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.global.open_link("https://is2you2.github.io/pjcone_pwa/"))}),t.j41(1,"ion-label"),t.EFF(2),t.k0s()()}if(2&n){const o=t.XpG();t.R7$(2),t.JRh(o.lang.text.Settings.OpenPlayStore)}}const D=[{path:"",component:(()=>{var n;class r{constructor(i,e,l,g,h,$){this.navCtrl=i,this.statusBar=e,this.nakama=l,this.lang=g,this.global=h,this.indexed=$,this.cant_dedicated=!1,this.can_use_http=!1,this.is_nativefier=c.Yl,this.as_admin=[],this.FallbackServerAddress="",this.self={},this.LinkButton=[],this.WillLeave=!1}ngOnInit(){("DesktopPWA"==c.aH||"MobilePWA"==c.aH)&&(this.cant_dedicated=!0),this.check_if_admin(),this.nakama.on_socket_disconnected.settings_admin_check=()=>{this.check_if_admin()},this.can_use_http="http:"==window.location.protocol||c.Yl}toggle_ShowServer(){this.nakama.showServer?localStorage.setItem("showServer","1"):localStorage.removeItem("showServer")}check_if_admin(){this.as_admin=this.nakama.get_all_server_info(!0,!0);for(let i=this.as_admin.length-1;i>=0;i--)this.as_admin[i].is_admin||this.as_admin.splice(i,1)}ionViewWillEnter(){this.profile_filter="online"==this.statusBar.settings.groupServer?"filter: grayscale(0) contrast(1);":"filter: grayscale(.9) contrast(1.4);",this.check_if_admin(),this.FallbackServerAddress=localStorage.getItem("fallback_fs"),this.cant_dedicated&&(this.Fallback_FS_input_element=document.getElementById("fallback_fs_input").childNodes[1].childNodes[1].childNodes[1].childNodes[1],this.Fallback_FS_input_element.onfocus=()=>{delete this.global.p5KeyShortCut.Digit},this.WillLeave=!1,this.Fallback_FS_input_element.addEventListener("focusout",()=>{this.WillLeave||this.ionViewDidEnter()})),this.StartPageValue=localStorage.getItem("StartPage"),this.global.p5KeyShortCut.Escape=()=>{this.navCtrl.pop()}}focus_to_fallback_fs_input(){this.Devkit.value="Devkit",setTimeout(()=>{this.Fallback_FS_input_element.focus()},50)}fallback_fs_input(){this.FallbackServerAddress?localStorage.setItem("fallback_fs",this.FallbackServerAddress):localStorage.removeItem("fallback_fs")}ToggleAccordion(){this.Devkit.value?(this.LinkButton.splice(4,!this.cant_dedicated&&this.can_use_http?6:5),this.Devkit.value=void 0):(this.Devkit.value="Devkit",this.cant_dedicated?this.LinkButton.splice(4,0,()=>this.open_inapp_explorer(),()=>this.go_to_page("weblink-gen"),()=>this.focus_to_fallback_fs_input(),()=>this.go_to_webrtc_manager(),()=>this.download_serverfile()):this.LinkButton.splice(4,0,()=>this.open_inapp_explorer(),()=>this.go_to_page("weblink-gen"),()=>this.go_to_webrtc_manager(),()=>this.download_serverfile()))}ionViewDidEnter(){this.LinkButton.length=0,this.LinkButton.push(()=>this.go_to_page("noti-alert")),this.LinkButton.push(()=>{this.nakama.showServer=!this.nakama.showServer,this.toggle_ShowServer()}),this.LinkButton.push(()=>this.StartPageClicked()),this.LinkButton.push(()=>this.ToggleAccordion()),this.Devkit.value&&(this.LinkButton.push(()=>this.open_inapp_explorer()),this.LinkButton.push(()=>this.go_to_page("weblink-gen")),this.cant_dedicated&&this.LinkButton.push(()=>this.focus_to_fallback_fs_input()),this.LinkButton.push(()=>this.go_to_webrtc_manager()),this.LinkButton.push(()=>this.download_serverfile())),this.as_admin.length&&this.LinkButton.push(()=>this.go_to_page("admin-tools")),this.LinkButton.push(()=>this.go_to_page("creator")),"ko"!=this.lang.lang&&this.LinkButton.push(()=>this.go_to_page("translator")),this.LinkButton.push(()=>this.LangClicked()),this.LinkButton.push(()=>this.go_to_page("licenses")),this.LinkButton.push(()=>this.open_patreon()),this.global.p5KeyShortCut.Digit=i=>{this.LinkButton[i]&&this.LinkButton[i]()}}open_inapp_explorer(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("user-fs-dir",{animation:m.NC})})}StartPageClicked(){this.StartPageSel.open(),this.global.StoreShortCutAct("startsel"),this.global.p5KeyShortCut.Digit=i=>{i<4&&(this.StartPageValue=`${i}`,localStorage.setItem("StartPage",`${i}`))}}SetStartPageShortCut(){this.global.RestoreShortCutAct("startsel")}StartPageChanged(i){localStorage.setItem("StartPage",`${i.detail.value}`)}LangClicked(){this.LangSel.open()}LanguageChanged(i){var e=this;return(0,S.A)(function*(){e.lang.lang=i.detail.value;try{let l=yield e.indexed.loadBlobFromUserPath("translate.csv",""),g=URL.createObjectURL(l);e.lang.load_selected_lang(g)}catch{e.lang.load_selected_lang()}})()}go_to_page(i){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(`portal/settings/${i}`,{animation:m.NC})})}download_serverfile(){"ko"==this.lang.lang?window.open("https://is2you2.github.io/posts/how-to-use-pjcone/","_blank"):window.open("https://is2you2.github.io/posts/how-to-use-pjcone-en/","_blank")}open_patreon(){window.open("https://www.patreon.com/is2you2","_blank")}go_to_webrtc_manager(){this.global.PageDismissAct["webrtc-manage"]=i=>{this.global.RestoreShortCutAct("webrtc-manage"),delete this.global.PageDismissAct["webrtc-manage"]},this.global.StoreShortCutAct("webrtc-manage"),this.global.ActLikeModal("webrtc-manage-io-dev",{dismiss:"webrtc-manage"})}RemoveKeyShortCut(){delete this.global.p5KeyShortCut.Escape,delete this.global.p5KeyShortCut.Digit}ionViewWillLeave(){this.WillLeave=!0,this.RemoveKeyShortCut()}ngOnDestroy(){this.Fallback_FS_input_element.onfocus=null,delete this.nakama.on_socket_disconnected.settings_admin_check}}return(n=r).\u0275fac=function(i){return new(i||n)(t.rXU(f.q9),t.rXU(k.j),t.rXU(v.X),t.rXU(b.y),t.rXU(j.z3),t.rXU(F.n))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-settings"]],viewQuery:function(i,e){if(1&i&&(t.GBs(R,5),t.GBs(P,5),t.GBs(C,5)),2&i){let l;t.mGM(l=t.lsd())&&(e.Devkit=l.first),t.mGM(l=t.lsd())&&(e.StartPageSel=l.first),t.mGM(l=t.lsd())&&(e.LangSel=l.first)}},decls:68,vars:29,consts:[["StartPageSel",""],["Devkit",""],["LangSel",""],[1,"ion-no-border"],["slot","start"],["defaultHref","portal/main"],["button","",3,"click"],["button","",3,"ionChange"],[2,"pointer-events","none",3,"ngModelChange","ngModel"],[2,"pointer-events","none",3,"ionChange","ionDismiss","label","value","placeholder"],["value","0"],["value","1"],["value","2"],["value","3"],["value","Devkit"],["slot","header"],["slot","content"],["button","","id","fallback_fs_input",4,"ngIf"],[4,"ngIf"],["button","",3,"click",4,"ngIf"],["name","language",1,"icon_margin"],[2,"pointer-events","none",3,"ionChange","label","value","placeholder"],[3,"value",4,"ngFor","ngForOf"],["src","assets/data/asset-preview.png","alt","patreon_link",2,"cursor","pointer","padding","16px","border-radius","32px","max-height","300px",3,"click"],["button","","id","fallback_fs_input"],["name","cloud-done-outline",1,"icon_margin"],["placeholder","(https://)0.0.0.0(:0)",1,"ion-text-right",3,"ngModelChange","ionInput","label","ngModel"],["slot","end","name","open-outline",3,"click"],[3,"value"]],template:function(i,e){if(1&i){const l=t.RV6();t.j41(0,"ion-header",3)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3),t.k0s(),t.j41(4,"ion-buttons",4),t.nrm(5,"ion-back-button",5),t.k0s()()(),t.j41(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),t.EFF(9),t.k0s()(),t.j41(10,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.go_to_page("noti-alert"))}),t.j41(11,"ion-label"),t.EFF(12),t.k0s()(),t.j41(13,"ion-item",7),t.bIt("ionChange",function(){return t.eBV(l),t.Njj(e.toggle_ShowServer())}),t.j41(14,"ion-toggle",8),t.mxI("ngModelChange",function(h){return t.eBV(l),t.DH7(e.nakama.showServer,h)||(e.nakama.showServer=h),t.Njj(h)}),t.EFF(15),t.k0s()(),t.j41(16,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.StartPageClicked())}),t.j41(17,"ion-select",9,0),t.bIt("ionChange",function(h){return t.eBV(l),t.Njj(e.StartPageChanged(h))})("ionDismiss",function(){return t.eBV(l),t.Njj(e.SetStartPageShortCut())}),t.j41(19,"ion-select-option",10),t.EFF(20),t.k0s(),t.j41(21,"ion-select-option",11),t.EFF(22),t.k0s(),t.j41(23,"ion-select-option",12),t.EFF(24),t.k0s(),t.j41(25,"ion-select-option",13),t.EFF(26),t.k0s()()(),t.j41(27,"ion-accordion-group",null,1)(29,"ion-accordion",14)(30,"ion-item",15)(31,"ion-label"),t.EFF(32),t.k0s()(),t.j41(33,"div",16)(34,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.open_inapp_explorer())}),t.j41(35,"ion-label"),t.EFF(36),t.k0s()(),t.j41(37,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.go_to_page("weblink-gen"))}),t.j41(38,"ion-label"),t.EFF(39),t.k0s()(),t.DNE(40,B,4,2,"ion-item",17),t.j41(41,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.go_to_webrtc_manager())}),t.j41(42,"ion-label"),t.EFF(43),t.k0s()(),t.j41(44,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.download_serverfile())}),t.j41(45,"ion-label"),t.EFF(46),t.k0s()()()()(),t.DNE(47,I,7,2,"div",18),t.j41(48,"ion-item-divider")(49,"ion-label"),t.EFF(50),t.k0s()(),t.j41(51,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.go_to_page("creator"))}),t.j41(52,"ion-label"),t.EFF(53),t.k0s()(),t.DNE(54,L,3,1,"ion-item",19),t.j41(55,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.LangClicked())}),t.nrm(56,"ion-icon",20),t.j41(57,"ion-select",21,2),t.bIt("ionChange",function(h){return t.eBV(l),t.Njj(e.LanguageChanged(h))}),t.DNE(59,T,2,2,"ion-select-option",22),t.k0s()(),t.j41(60,"ion-item",6),t.bIt("click",function(){return t.eBV(l),t.Njj(e.go_to_page("licenses"))}),t.j41(61,"ion-label"),t.EFF(62),t.k0s()(),t.DNE(63,N,3,1,"ion-item",19),t.j41(64,"ion-item-divider")(65,"ion-label"),t.EFF(66),t.k0s()(),t.j41(67,"img",23),t.bIt("click",function(){return t.eBV(l),t.Njj(e.open_patreon())}),t.k0s()()}2&i&&(t.R7$(3),t.JRh(e.lang.text.Settings.Title),t.R7$(6),t.JRh(e.lang.text.Settings.env_info),t.R7$(3),t.JRh(e.lang.text.Settings.NotificationSetting),t.R7$(2),t.R50("ngModel",e.nakama.showServer),t.R7$(),t.JRh(e.lang.text.Settings.ShowChnServer),t.R7$(2),t.Y8G("label",e.lang.text.Settings.StartPageSet)("value",e.StartPageValue)("placeholder",e.lang.text.Settings.joinDedi_placeholder),t.R7$(3),t.JRh(e.lang.text.Main.Title),t.R7$(2),t.JRh(e.lang.text.Subscribes.Title),t.R7$(2),t.JRh(e.lang.text.Arcade.Title),t.R7$(2),t.JRh(e.lang.text.Community.Title),t.R7$(6),t.JRh(e.lang.text.Settings.DevKit),t.R7$(4),t.JRh(e.lang.text.Settings.InAppExplorer),t.R7$(3),t.JRh(e.lang.text.Settings.WebLinkGen),t.R7$(),t.Y8G("ngIf",e.cant_dedicated),t.R7$(3),t.JRh(e.lang.text.WebRTCDevManager.Title),t.R7$(3),t.JRh(e.lang.text.Settings.ServerFiles),t.R7$(),t.Y8G("ngIf",e.as_admin.length),t.R7$(3),t.JRh(e.lang.text.Settings.AppInfo),t.R7$(3),t.JRh(e.lang.text.Settings.AppCreator),t.R7$(),t.Y8G("ngIf","ko"!=e.lang.lang),t.R7$(3),t.Y8G("label",e.lang.text.Settings.AppLanguage)("value",e.lang.lang)("placeholder",e.lang.lang),t.R7$(2),t.Y8G("ngForOf",e.lang.setable),t.R7$(3),t.JRh(e.lang.text.Settings.LicenseNotice),t.R7$(),t.Y8G("ngIf",!e.cant_dedicated),t.R7$(3),t.JRh(e.lang.text.Settings.Sponsorship))},dependencies:[d.Sq,d.bT,u.BC,u.vS,s.xk,s.YH,s.QW,s.W9,s.eU,s.iq,s.$w,s.uz,s.Dg,s.he,s.Nm,s.Ip,s.BC,s.BY,s.ai,s.hB,s.Je,s.Gw,s.el],styles:[".img_icon_size[_ngcontent-%COMP%]{width:21px;height:21px;margin-right:16px}"]}),r})()},{path:"licenses",loadChildren:()=>a.e(3362).then(a.bind(a,3362)).then(n=>n.LicensesPageModule)},{path:"translator",loadChildren:()=>a.e(6749).then(a.bind(a,6749)).then(n=>n.TranslatorPageModule)},{path:"creator",loadChildren:()=>a.e(8036).then(a.bind(a,8036)).then(n=>n.CreatorPageModule)},{path:"noti-alert",loadChildren:()=>a.e(2635).then(a.bind(a,2635)).then(n=>n.NotiAlertPageModule)},{path:"admin-tools",loadChildren:()=>a.e(8989).then(a.bind(a,8989)).then(n=>n.AdminToolsPageModule)},{path:"weblink-gen",loadChildren:()=>a.e(1272).then(a.bind(a,1272)).then(n=>n.WeblinkGenPageModule)}];let M=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[p.iI.forChild(D),p.iI]}),r})(),E=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,u.YN,s.bv,M]}),r})()}}]);