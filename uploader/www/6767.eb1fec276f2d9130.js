"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6767],{6767:($,_,o)=>{o.r(_),o.d(_,{ArcadePageModule:()=>S});var v=o(177),b=o(4341),l=o(5374),A=o(9858),p=o(467),k=o(617),P=o(8326),e=o(3953),j=o(4234),C=o(8065),R=o(4237),y=o(3656),G=o(9347),B=o(482),I=o(755),M=o(9900);const T=["ArcadeDetail"],w=["ArcadeQRShare"];function F(i,c){if(1&i){const n=e.RV6();e.j41(0,"ion-header",10)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"img",11),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.QuickLinkAct())})("contextmenu",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.QuickLinkContextmenu())}),e.k0s(),e.j41(5,"input",12),e.bIt("change",function(t){e.eBV(n);const r=e.XpG();return e.Njj(r.SelectVoidDrawBackgroundImage(t))}),e.k0s(),e.j41(6,"div",13),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.JoinInstantCall())}),e.nrm(7,"ion-icon",14),e.k0s(),e.j41(8,"div",15),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.JoinSmallTalk())}),e.nrm(9,"ion-icon",16),e.k0s(),e.j41(10,"div",17),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.nakama.toggle_all_session())}),e.k0s()()()}if(2&i){const n=e.XpG();e.R7$(3),e.JRh(n.lang.text.Arcade.Title),e.R7$(7),e.Aen("background-color: "+n.statusBar.colors[n.statusBar.settings.groupServer]+"; cursor: pointer;")}}function X(i,c){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),e.EFF(3),e.k0s()(),e.j41(4,"div",18)(5,"input",19),e.bIt("change",function(t){e.eBV(n);const r=e.XpG();return e.Njj(r.inputFileSelected(t))}),e.k0s(),e.j41(6,"div",20),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.AddCustomGame())})("contextmenu",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.AddCustomGameFromClipboard())}),e.j41(7,"div",4),e.nrm(8,"ion-icon",21),e.j41(9,"div")(10,"ion-label",6),e.EFF(11),e.k0s()()()()()()}if(2&i){const n=e.XpG();e.R7$(3),e.JRh(n.lang.text.Arcade.AddCustom),e.R7$(8),e.JRh(n.lang.text.Arcade.FromFile)}}function L(i,c){1&i&&(e.j41(0,"div"),e.nrm(1,"div",22),e.k0s())}function V(i,c){1&i&&(e.j41(0,"div",23),e.nrm(1,"div",24),e.k0s())}function D(i,c){if(1&i){const n=e.RV6();e.j41(0,"img",29),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.copy_address(t.global.ArcadeQRAddress))}),e.k0s()}if(2&i){const n=e.XpG(2);e.Y8G("src",n.global.ArcadeQRAddress,e.B4B)}}function O(i,c){if(1&i){const n=e.RV6();e.j41(0,"div",23)(1,"div",25),e.DNE(2,D,1,1,"img",26),e.j41(3,"ion-item",27),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.copy_address(t.global.ArcadeQRAddress))}),e.j41(4,"ion-label",28),e.EFF(5),e.k0s()()()()}if(2&i){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",n.global.ArcadeQRAddress),e.R7$(3),e.JRh(n.global.ArcadeQRAddress)}}const U=[{path:"",component:(()=>{var i;class c{constructor(a,t,r,s,h,m,d,g,f){this.lang=a,this.statusBar=t,this.nakama=r,this.navCtrl=s,this.client=h,this.global=m,this.indexed=d,this.animationCtrl=g,this.p5toast=f,this.WillLeave=!1,this.enterAnimation=u=>{const x=u.shadowRoot,N=this.animationCtrl.create().addElement(x.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),Q=this.animationCtrl.create().addElement(x.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"1",transform:"scale(1)"}]);return this.animationCtrl.create().addElement(u).easing("ease-out").duration(250).addAnimation([N,Q])},this.leaveAnimation=u=>this.enterAnimation(u).direction("reverse")}ngOnInit(){}ionViewWillEnter(){var a=this;return(0,p.A)(function*(){a.WillLeave=!1})()}WaitingCurrent(){var a=this;return(0,p.A)(function*(){for(;a.WillLeave;)yield new Promise(t=>setTimeout(t,0))})()}ionViewWillLeave(){this.WillLeave=!0}QuickLinkAct(){var a=this;return(0,p.A)(function*(){let t=yield a.global.GetValueFromClipboard();"image/png"===t.type?a.SelectVoidDrawBackgroundImage({target:{files:[t.value]}}):(a.global.PageDismissAct["voiddraw-remote"]=s=>{delete a.global.PageDismissAct["voiddraw-remote"]},a.global.ActLikeModal("portal/arcade/void-draw",{dismiss:"voiddraw-remote"}))})()}AddCustomGame(){document.getElementById("arcade_file_input").click()}inputFileSelected(a){try{let t=a.target.files[0];const r=t.name.split(".").pop();if("pck"!==r)throw r;this.global.CreateArcadeFrame({blob:t})}catch(t){this.p5toast.show({text:`${this.lang.text.Arcade.InputError}: ${t}`}),console.log("\uc544\ucf00\uc774\ub4dc \ud30c\uc77c \uc785\ub825 \uc2e4\ud328: ",t)}document.getElementById("arcade_file_input").value=null}AddCustomGameFromClipboard(){return this.global.ArcadeObject.QRCode=this.ArcadeQRShare,this.global.OpenGodotFromURL(),!1}ShowGameInfo(){this.ArcadeDetail.onDidDismiss().then(()=>{this.global.RestoreShortCutAct("arcade_detail")}),this.global.StoreShortCutAct("arcade_detail"),this.ArcadeDetail.present()}QuickLinkContextmenu(){return document.getElementById("arcade_voiddraw_img").click(),!1}SelectVoidDrawBackgroundImage(a){var t=this;return(0,p.A)(function*(){const r=a.target.files[0],s=`tmp_files/quick_act/${r.name}`;yield t.indexed.saveBlobToUserPath(r,s);let h=yield t.indexed.loadBlobFromUserPath(s,r.type),m=URL.createObjectURL(h);new P(d=>{d.setup=()=>{document.getElementById("arcade_voiddraw_img").value="",d.noCanvas(),d.loadImage(m,g=>{t.global.PageDismissAct["voiddraw-remote"]=f=>{delete t.global.PageDismissAct["voiddraw-remote"]},t.global.ActLikeModal("portal/arcade/void-draw",{path:s,width:g.width,height:g.height,type:r.type,dismiss:"voiddraw-remote"}),URL.revokeObjectURL(m),d.remove()},g=>{console.log("\ube60\ub978 \ud3b8\uc9d1\uae30 \uc774\ub3d9 \uc2e4\ud328: ",g),URL.revokeObjectURL(m),d.remove()})}})})()}JoinSmallTalk(){"online"!=this.statusBar.settings.dedicated_groupchat&&"certified"!=this.statusBar.settings.dedicated_groupchat&&(this.statusBar.settings.dedicated_groupchat="pending"),this.client.RejoinGroupChat()}JoinInstantCall(){this.navCtrl.navigateForward("portal/arcade/instant-call",{animation:k.NC})}copy_address(a){this.global.WriteValueToClipboard("text/plain",a)}}return(i=c).\u0275fac=function(a){return new(a||i)(e.rXU(j.y),e.rXU(C.j),e.rXU(R.X),e.rXU(y.q9),e.rXU(G.z),e.rXU(B.z3),e.rXU(I.n),e.rXU(l.Hx),e.rXU(M.G))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-arcade"]],viewQuery:function(a,t){if(1&a&&(e.GBs(T,5),e.GBs(w,5)),2&a){let r;e.mGM(r=e.lsd())&&(t.ArcadeDetail=r.first),e.mGM(r=e.lsd())&&(t.ArcadeQRShare=r.first)}},decls:15,vars:7,consts:[["ArcadeDetail",""],["ArcadeQRShare",""],["class","ion-no-border",4,"ngIf"],[3,"fullscreen"],[1,"disconnect_info"],["color","medium","name","game-controller-outline",2,"width","60px","height","60px"],["color","medium"],[4,"ngIf"],[1,"transparent-modal",3,"enterAnimation","leaveAnimation"],[1,"transparent-modal"],[1,"ion-no-border"],["src","assets/icon/voidDraw.png",1,"add_group","top_icon_override_2",2,"width","32px","height","32px",3,"click","contextmenu"],["hidden","","type","file","id","arcade_voiddraw_img","accept","image/*",3,"change"],[1,"add_group","top_icon_override_1",3,"click"],["button","","name","call-outline",2,"width","24px","height","24px"],[1,"add_group",3,"click"],["button","","name","chatbubbles-outline",2,"width","24px","height","24px"],[1,"header_online_circle",3,"click"],[2,"display","flex","flex-direction","row","gap","16px","overflow-x","auto","margin","16px 0px 16px 16px"],["hidden","","type","file","id","arcade_file_input","accept","*",3,"change"],[1,"list_ele","list_add_btn",3,"click","contextmenu"],["color","medium","name","file-tray-full-outline",2,"width","36px","height","36px"],["id","arcade_pck_loaded",1,"full_screen",2,"position","fixed"],[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px","border-radius","16px"],[2,"width","400px","height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"],["style","width: 100%; height: auto; cursor: copy;","alt","ArcadeQuickLink",3,"src","click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["alt","ArcadeQuickLink",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(a,t){1&a&&(e.DNE(0,F,11,3,"ion-header",2),e.j41(1,"ion-content",3)(2,"div",4),e.nrm(3,"ion-icon",5),e.j41(4,"div")(5,"ion-label",6),e.EFF(6),e.k0s()()(),e.DNE(7,X,12,2,"div",7)(8,L,2,0,"div",7),e.j41(9,"ion-modal",8,0),e.DNE(11,V,2,0,"ng-template"),e.k0s(),e.j41(12,"ion-modal",9,1),e.DNE(14,O,6,2,"ng-template"),e.k0s()()),2&a&&(e.Y8G("ngIf",!t.global.ArcadeLoaded),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(5),e.JRh(t.lang.text.Arcade.Preparing),e.R7$(),e.Y8G("ngIf",!t.global.ArcadeLoaded),e.R7$(),e.Y8G("ngIf",t.global.ArcadeLoaded),e.R7$(),e.Y8G("enterAnimation",t.enterAnimation)("leaveAnimation",t.leaveAnimation))},dependencies:[v.bT,l.W9,l.eU,l.iq,l.uz,l.Dg,l.he,l.BC,l.ai,l.Sb],styles:[".list_form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(135px,1fr));padding:16px;gap:16px}.list_add_btn[_ngcontent-%COMP%]{flex:0 1}.list_ele[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--list-shortcut-hint-background);border-radius:8px;min-width:135px;min-height:90px;text-align:center;align-content:center;position:relative}.md[_ngcontent-%COMP%]   .add_group[_ngcontent-%COMP%]{position:absolute;right:68px;top:16px;cursor:pointer}.ios[_ngcontent-%COMP%]   .add_group[_ngcontent-%COMP%]{position:absolute;right:58px;top:10px;cursor:pointer}.md[_ngcontent-%COMP%]   .top_icon_override_1[_ngcontent-%COMP%]{right:116px}.ios[_ngcontent-%COMP%]   .top_icon_override_1[_ngcontent-%COMP%]{right:96px}.md[_ngcontent-%COMP%]   .top_icon_override_2[_ngcontent-%COMP%]{right:164px;top:13px}.ios[_ngcontent-%COMP%]   .top_icon_override_2[_ngcontent-%COMP%]{right:134px;top:7px}"]}),c})()},{path:"instant-call",loadChildren:()=>o.e(6524).then(o.bind(o,6524)).then(i=>i.InstantCallPageModule)},{path:"void-draw",loadChildren:()=>o.e(2655).then(o.bind(o,2655)).then(i=>i.VoidDrawPageModule)}];let E=(()=>{var i;class c{}return(i=c).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[A.iI.forChild(U),A.iI]}),c})(),S=(()=>{var i;class c{}return(i=c).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[v.MD,b.YN,l.bv,E]}),c})()}}]);