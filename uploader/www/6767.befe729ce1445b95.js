"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6767],{6767:(F,v,n)=>{n.r(v),n.d(v,{ArcadePageModule:()=>B});var P=n(177),A=n(4341),d=n(5374),p=n(9858),m=n(467),f=n(617),j=n(8326),e=n(3953),C=n(4234),M=n(8065),b=n(4237),y=n(3656),x=n(9347),R=n(482),k=n(755);const L=["ArcadeQRShare"];function U(a,c){1&a&&(e.j41(0,"div",13),e.nrm(1,"div",14),e.k0s())}const O=[{path:"",component:(()=>{var a;class c{constructor(t,i,o,r,u,l,s){this.lang=t,this.statusBar=i,this.nakama=o,this.navCtrl=r,this.client=u,this.global=l,this.indexed=s,this.ArcadeList=[],this.WillLeave=!1}ngOnInit(){}ionViewWillEnter(){var t=this;return(0,m.A)(function*(){t.WillLeave=!1;let i=t.nakama.get_all_online_server();for(let r=0,u=i.length;r<u;r++)try{let l=yield i[r].client.readStorageObjects(i[r].session,{object_ids:[{collection:"arcade",key:"url"}]});if(l.objects.length){let s=l.objects[0].value.data,h=yield fetch(s);console.log("\uc77d\uc5b4\ubcf4\uae30 \uacbd\uacfc: ",h)}}catch(l){console.log("\ub9ac\uc2a4\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",l)}t.ArcadeList=[]})()}WaitingCurrent(){var t=this;return(0,m.A)(function*(){for(;t.WillLeave;)yield new Promise(i=>setTimeout(i,0))})()}ionViewWillLeave(){this.WillLeave=!0}QuickLinkAct(){var t=this;return(0,m.A)(function*(){let i=yield t.global.GetValueFromClipboard();switch(i.type){case"text/plain":t.global.PageDismissAct["voiddraw-remote"]=s=>{delete t.global.PageDismissAct["voiddraw-remote"]},t.global.ActLikeModal("portal/arcade/void-draw",{dismiss:"voiddraw-remote"});break;case"image/png":const o=i.value,r=`tmp_files/quick_act/${o.name}`;yield t.indexed.saveBlobToUserPath(o,r);let u=yield t.indexed.loadBlobFromUserPath(r,o.type),l=URL.createObjectURL(u);new j(s=>{s.setup=()=>{s.noCanvas(),s.loadImage(l,h=>{t.global.PageDismissAct["voiddraw-remote"]=V=>{delete t.global.PageDismissAct["voiddraw-remote"]},t.global.ActLikeModal("portal/arcade/void-draw",{path:r,width:h.width,height:h.height,type:o.type,dismiss:"voiddraw-remote"}),URL.revokeObjectURL(l),s.remove()},h=>{console.log("\ube60\ub978 \ud3b8\uc9d1\uae30 \uc774\ub3d9 \uc2e4\ud328: ",h),URL.revokeObjectURL(l),s.remove()})}})}})()}JoinSmallTalk(){"online"!=this.statusBar.settings.dedicated_groupchat&&"certified"!=this.statusBar.settings.dedicated_groupchat&&(this.statusBar.settings.dedicated_groupchat="pending"),this.client.RejoinGroupChat()}JoinInstantCall(){this.navCtrl.navigateForward("portal/arcade/instant-call",{animation:f.NC})}}return(a=c).\u0275fac=function(t){return new(t||a)(e.rXU(C.y),e.rXU(M.j),e.rXU(b.X),e.rXU(y.q9),e.rXU(x.z),e.rXU(R.z3),e.rXU(k.n))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-arcade"]],viewQuery:function(t,i){if(1&t&&e.GBs(L,5),2&t){let o;e.mGM(o=e.lsd())&&(i.ArcadeQRShare=o.first)}},decls:19,vars:5,consts:[["ArcadeQRShare",""],[1,"ion-no-border"],["src","assets/icon/voidDraw.png",1,"add_group","top_icon_override_2",2,"width","32px","height","32px",3,"click"],[1,"add_group","top_icon_override_1",3,"click"],["button","","name","call-outline",2,"width","24px","height","24px"],[1,"add_group",3,"click"],["button","","name","chatbubbles-outline",2,"width","24px","height","24px"],[1,"header_online_circle",3,"click"],[3,"fullscreen"],[1,"disconnect_info"],["color","medium","name","game-controller-outline",2,"width","60px","height","60px"],["color","medium"],[1,"transparent-modal"],[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"]],template:function(t,i){if(1&t){const o=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"img",2),e.bIt("click",function(){return e.eBV(o),e.Njj(i.QuickLinkAct())}),e.k0s(),e.j41(5,"div",3),e.bIt("click",function(){return e.eBV(o),e.Njj(i.JoinInstantCall())}),e.nrm(6,"ion-icon",4),e.k0s(),e.j41(7,"div",5),e.bIt("click",function(){return e.eBV(o),e.Njj(i.JoinSmallTalk())}),e.nrm(8,"ion-icon",6),e.k0s(),e.j41(9,"div",7),e.bIt("click",function(){return e.eBV(o),e.Njj(i.nakama.toggle_all_session())}),e.k0s()()(),e.j41(10,"ion-content",8)(11,"div",9),e.nrm(12,"ion-icon",10),e.j41(13,"div")(14,"ion-label",11),e.EFF(15),e.k0s()()(),e.j41(16,"ion-modal",12,0),e.DNE(18,U,2,0,"ng-template"),e.k0s()()}2&t&&(e.R7$(3),e.JRh(i.lang.text.Arcade.Title),e.R7$(6),e.Aen("background-color: "+i.statusBar.colors[i.statusBar.settings.groupServer]+"; cursor: pointer;"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(5),e.JRh(i.lang.text.Arcade.Preparing))},dependencies:[d.W9,d.eU,d.iq,d.he,d.BC,d.ai,d.Sb],styles:[".md[_ngcontent-%COMP%]   .add_group[_ngcontent-%COMP%]{position:absolute;right:68px;top:16px;cursor:pointer}.ios[_ngcontent-%COMP%]   .add_group[_ngcontent-%COMP%]{position:absolute;right:58px;top:10px;cursor:pointer}.md[_ngcontent-%COMP%]   .top_icon_override_1[_ngcontent-%COMP%]{right:116px}.ios[_ngcontent-%COMP%]   .top_icon_override_1[_ngcontent-%COMP%]{right:96px}.md[_ngcontent-%COMP%]   .top_icon_override_2[_ngcontent-%COMP%]{right:164px;top:13px}.ios[_ngcontent-%COMP%]   .top_icon_override_2[_ngcontent-%COMP%]{right:134px;top:7px}"]}),c})()},{path:"instant-call",loadChildren:()=>n.e(6524).then(n.bind(n,6524)).then(a=>a.InstantCallPageModule)},{path:"void-draw",loadChildren:()=>n.e(2655).then(n.bind(n,2655)).then(a=>a.VoidDrawPageModule)}];let T=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[p.iI.forChild(O),p.iI]}),c})(),B=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[P.MD,A.YN,d.bv,T]}),c})()}}]);