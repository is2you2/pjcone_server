(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(Dr,rr,_e)=>{"use strict";_e.d(rr,{E_:()=>u,F3:()=>i,I9:()=>_});var I=_e(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(D){return D.Unimplemented="UNIMPLEMENTED",D.Unavailable="UNAVAILABLE",D}(v||{});class _ extends Error{constructor(O,P,J){super(O),this.message=O,this.code=P,this.data=J}}const m=D=>{var O,P,J,re,$;const Q=D.CapacitorCustomPlatform||null,V=D.Capacitor||{},H=V.Plugins=V.Plugins||{},Z=D.CapacitorPlatforms,xe=(null===(O=null==Z?void 0:Z.currentPlatform)||void 0===O?void 0:O.getPlatform)||(()=>null!==Q?Q.name:(D=>{var O,P;return null!=D&&D.androidBridge?"android":null!==(P=null===(O=null==D?void 0:D.webkit)||void 0===O?void 0:O.messageHandlers)&&void 0!==P&&P.bridge?"ios":"web"})(D)),j=(null===(P=null==Z?void 0:Z.currentPlatform)||void 0===P?void 0:P.isNativePlatform)||(()=>"web"!==xe()),me=(null===(J=null==Z?void 0:Z.currentPlatform)||void 0===J?void 0:J.isPluginAvailable)||(Be=>{const st=He.get(Be);return!!(null!=st&&st.platforms.has(xe())||Le(Be))}),Le=(null===(re=null==Z?void 0:Z.currentPlatform)||void 0===re?void 0:re.getPluginHeader)||(Be=>{var st;return null===(st=V.PluginHeaders)||void 0===st?void 0:st.find(Ye=>Ye.name===Be)}),He=new Map,at=(null===($=null==Z?void 0:Z.currentPlatform)||void 0===$?void 0:$.registerPlugin)||((Be,st={})=>{const Ye=He.get(Be);if(Ye)return console.warn(`Capacitor plugin "${Be}" already registered. Cannot register plugins twice.`),Ye.proxy;const it=xe(),Ze=Le(Be);let pt;const kt=function(){var fr=(0,I.A)(function*(){return!pt&&it in st?pt=pt="function"==typeof st[it]?yield st[it]():st[it]:null!==Q&&!pt&&"web"in st&&(pt=pt="function"==typeof st.web?yield st.web():st.web),pt});return function(){return fr.apply(this,arguments)}}(),zt=fr=>{let jt;const ar=(...$t)=>{const Ve=kt().then(We=>{const Re=((fr,jt)=>{var ar,$t;if(!Ze){if(fr)return null===($t=fr[jt])||void 0===$t?void 0:$t.bind(fr);throw new _(`"${Be}" plugin is not implemented on ${it}`,v.Unimplemented)}{const Ve=null==Ze?void 0:Ze.methods.find(We=>jt===We.name);if(Ve)return"promise"===Ve.rtype?We=>V.nativePromise(Be,jt.toString(),We):(We,Re)=>V.nativeCallback(Be,jt.toString(),We,Re);if(fr)return null===(ar=fr[jt])||void 0===ar?void 0:ar.bind(fr)}})(We,fr);if(Re){const Qe=Re(...$t);return jt=null==Qe?void 0:Qe.remove,Qe}throw new _(`"${Be}.${fr}()" is not implemented on ${it}`,v.Unimplemented)});return"addListener"===fr&&(Ve.remove=(0,I.A)(function*(){return jt()})),Ve};return ar.toString=()=>`${fr.toString()}() { [capacitor code] }`,Object.defineProperty(ar,"name",{value:fr,writable:!1,configurable:!1}),ar},hr=zt("addListener"),Ht=zt("removeListener"),br=(fr,jt)=>{const ar=hr({eventName:fr},jt),$t=function(){var We=(0,I.A)(function*(){const Re=yield ar;Ht({eventName:fr,callbackId:Re},jt)});return function(){return We.apply(this,arguments)}}(),Ve=new Promise(We=>ar.then(()=>We({remove:$t})));return Ve.remove=(0,I.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield $t()}),Ve},Bt=new Proxy({},{get(fr,jt){switch(jt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Ze?br:hr;case"removeListener":return Ht;default:return zt(jt)}}});return H[Be]=Bt,He.set(Be,{name:Be,proxy:Bt,platforms:new Set([...Object.keys(st),...Ze?[it]:[]])}),Bt});return V.convertFileSrc||(V.convertFileSrc=Be=>Be),V.getPlatform=xe,V.handleError=Be=>D.console.error(Be),V.isNativePlatform=j,V.isPluginAvailable=me,V.pluginMethodNoop=(Be,st,Ye)=>Promise.reject(`${Ye} does not have an implementation of "${st}".`),V.registerPlugin=at,V.Exception=_,V.DEBUG=!!V.DEBUG,V.isLoggingEnabled=!!V.isLoggingEnabled,V.platform=V.getPlatform(),V.isNative=V.isNativePlatform(),V},w=(D=>D.Capacitor=m(D))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i=w.registerPlugin;class u{constructor(O){this.listeners={},this.retainedEventArguments={},this.windowListeners={},O&&(console.warn(`Capacitor WebPlugin "${O.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=O)}addListener(O,P){var J=this;let re=!1;this.listeners[O]||(this.listeners[O]=[],re=!0),this.listeners[O].push(P);const Q=this.windowListeners[O];Q&&!Q.registered&&this.addWindowListener(Q),re&&this.sendRetainedArgumentsForEvent(O);const V=function(){var Z=(0,I.A)(function*(){return J.removeListener(O,P)});return function(){return Z.apply(this,arguments)}}();return Promise.resolve({remove:V})}removeAllListeners(){var O=this;return(0,I.A)(function*(){O.listeners={};for(const P in O.windowListeners)O.removeWindowListener(O.windowListeners[P]);O.windowListeners={}})()}notifyListeners(O,P,J){const re=this.listeners[O];if(re)re.forEach($=>$(P));else if(J){let $=this.retainedEventArguments[O];$||($=[]),$.push(P),this.retainedEventArguments[O]=$}}hasListeners(O){return!!this.listeners[O].length}registerWindowListener(O,P){this.windowListeners[P]={registered:!1,windowEventName:O,pluginEventName:P,handler:J=>{this.notifyListeners(P,J)}}}unimplemented(O="not implemented"){return new w.Exception(O,v.Unimplemented)}unavailable(O="not available"){return new w.Exception(O,v.Unavailable)}removeListener(O,P){var J=this;return(0,I.A)(function*(){const re=J.listeners[O];if(!re)return;const $=re.indexOf(P);J.listeners[O].splice($,1),J.listeners[O].length||J.removeWindowListener(J.windowListeners[O])})()}addWindowListener(O){window.addEventListener(O.windowEventName,O.handler),O.registered=!0}removeWindowListener(O){O&&(window.removeEventListener(O.windowEventName,O.handler),O.registered=!1)}sendRetainedArgumentsForEvent(O){const P=this.retainedEventArguments[O];P&&(delete this.retainedEventArguments[O],P.forEach(J=>{this.notifyListeners(O,J)}))}}const h=D=>encodeURIComponent(D).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),g=D=>D.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends u{getCookies(){return(0,I.A)(function*(){const O=document.cookie,P={};return O.split(";").forEach(J=>{if(J.length<=0)return;let[re,$]=J.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");re=g(re).trim(),$=g($).trim(),P[re]=$}),P})()}setCookie(O){return(0,I.A)(function*(){try{const P=h(O.key),J=h(O.value),re=`; expires=${(O.expires||"").replace("expires=","")}`,$=(O.path||"/").replace("path=",""),Q=null!=O.url&&O.url.length>0?`domain=${O.url}`:"";document.cookie=`${P}=${J||""}${re}; path=${$}; ${Q};`}catch(P){return Promise.reject(P)}})()}deleteCookie(O){return(0,I.A)(function*(){try{document.cookie=`${O.key}=; Max-Age=0`}catch(P){return Promise.reject(P)}})()}clearCookies(){return(0,I.A)(function*(){try{const O=document.cookie.split(";")||[];for(const P of O)document.cookie=P.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(O){return Promise.reject(O)}})()}clearAllCookies(){var O=this;return(0,I.A)(function*(){try{yield O.clearCookies()}catch(P){return Promise.reject(P)}})()}}i("CapacitorCookies",{web:()=>new p});const T=function(){var D=(0,I.A)(function*(O){return new Promise((P,J)=>{const re=new FileReader;re.onload=()=>{const $=re.result;P($.indexOf(",")>=0?$.split(",")[1]:$)},re.onerror=$=>J($),re.readAsDataURL(O)})});return function(P){return D.apply(this,arguments)}}();class k extends u{request(O){return(0,I.A)(function*(){const P=((D,O={})=>{const P=Object.assign({method:D.method||"GET",headers:D.headers},O),re=((D={})=>{const O=Object.keys(D);return Object.keys(D).map(re=>re.toLocaleLowerCase()).reduce((re,$,Q)=>(re[$]=D[O[Q]],re),{})})(D.headers)["content-type"]||"";if("string"==typeof D.data)P.body=D.data;else if(re.includes("application/x-www-form-urlencoded")){const $=new URLSearchParams;for(const[Q,V]of Object.entries(D.data||{}))$.set(Q,V);P.body=$.toString()}else if(re.includes("multipart/form-data")||D.data instanceof FormData){const $=new FormData;if(D.data instanceof FormData)D.data.forEach((V,H)=>{$.append(H,V)});else for(const V of Object.keys(D.data))$.append(V,D.data[V]);P.body=$;const Q=new Headers(P.headers);Q.delete("content-type"),P.headers=Q}else(re.includes("application/json")||"object"==typeof D.data)&&(P.body=JSON.stringify(D.data));return P})(O,O.webFetchExtra),J=((D,O=!0)=>D?Object.entries(D).reduce((J,re)=>{const[$,Q]=re;let V,H;return Array.isArray(Q)?(H="",Q.forEach(Z=>{V=O?encodeURIComponent(Z):Z,H+=`${$}=${V}&`}),H.slice(0,-1)):(V=O?encodeURIComponent(Q):Q,H=`${$}=${V}`),`${J}&${H}`},"").substr(1):null)(O.params,O.shouldEncodeUrlParams),re=J?`${O.url}?${J}`:O.url,$=yield fetch(re,P),Q=$.headers.get("content-type")||"";let H,Z,{responseType:V="text"}=$.ok?O:{};switch(Q.includes("application/json")&&(V="json"),V){case"arraybuffer":case"blob":Z=yield $.blob(),H=yield T(Z);break;case"json":H=yield $.json();break;default:H=yield $.text()}const le={};return $.headers.forEach((xe,q)=>{le[q]=xe}),{data:H,headers:le,status:$.status,url:$.url}})()}get(O){var P=this;return(0,I.A)(function*(){return P.request(Object.assign(Object.assign({},O),{method:"GET"}))})()}post(O){var P=this;return(0,I.A)(function*(){return P.request(Object.assign(Object.assign({},O),{method:"POST"}))})()}put(O){var P=this;return(0,I.A)(function*(){return P.request(Object.assign(Object.assign({},O),{method:"PUT"}))})()}patch(O){var P=this;return(0,I.A)(function*(){return P.request(Object.assign(Object.assign({},O),{method:"PATCH"}))})()}delete(O){var P=this;return(0,I.A)(function*(){return P.request(Object.assign(Object.assign({},O),{method:"DELETE"}))})()}}i("CapacitorHttp",{web:()=>new k})},4442:(Dr,rr,_e)=>{"use strict";_e.d(rr,{L:()=>o,a:()=>ie,b:()=>B,c:()=>v,d:()=>_,g:()=>$}),_e(5531);const o="ionViewWillEnter",ie="ionViewDidEnter",B="ionViewWillLeave",v="ionViewDidLeave",_="ionViewWillUnload",$=Q=>Q.classList.contains("ion-page")?Q:Q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Q},5531:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>f,c:()=>M,g:()=>_});class I{constructor(){this.m=new Map}reset(Q){this.m=new Map(Object.entries(Q))}get(Q,V){const H=this.m.get(Q);return void 0!==H?H:V}getBoolean(Q,V=!1){const H=this.m.get(Q);return void 0===H?V:"string"==typeof H?"true"===H:!!H}getNumber(Q,V){const H=parseFloat(this.m.get(Q));return isNaN(H)?void 0!==V?V:NaN:H}set(Q,V){this.m.set(Q,V)}}const M=new I,_=$=>m($),f=($,Q)=>("string"==typeof $&&(Q=$,$=void 0),_($).includes(Q)),m=($=window)=>{if(typeof $>"u")return[];$.Ionic=$.Ionic||{};let Q=$.Ionic.platforms;return null==Q&&(Q=$.Ionic.platforms=S($),Q.forEach(V=>$.document.documentElement.classList.add(`plt-${V}`))),Q},S=$=>{const Q=M.get("platform");return Object.keys(O).filter(V=>{const H=null==Q?void 0:Q[V];return"function"==typeof H?H($):O[V]($)})},i=$=>!!(X($,/iPad/i)||X($,/Macintosh/i)&&p($)),u=$=>X($,/android|sink/i),p=$=>D($,"(any-pointer:coarse)"),T=$=>z($)||G($),z=$=>!!($.cordova||$.phonegap||$.PhoneGap),G=$=>{const Q=$.Capacitor;return!(null==Q||!Q.isNative)},X=($,Q)=>Q.test($.navigator.userAgent),D=($,Q)=>{var V;return null===(V=$.matchMedia)||void 0===V?void 0:V.call($,Q).matches},O={ipad:i,iphone:$=>X($,/iPhone/i),ios:$=>X($,/iPhone|iPod/i)||i($),android:u,phablet:$=>{const Q=$.innerWidth,V=$.innerHeight,H=Math.min(Q,V),Z=Math.max(Q,V);return H>390&&H<520&&Z>620&&Z<800},tablet:$=>{const Q=$.innerWidth,V=$.innerHeight,H=Math.min(Q,V),Z=Math.max(Q,V);return i($)||($=>u($)&&!X($,/mobile/i))($)||H>460&&H<820&&Z>780&&Z<1400},cordova:z,capacitor:G,electron:$=>X($,/electron/i),pwa:$=>{var Q;return!!(null!==(Q=$.matchMedia)&&void 0!==Q&&Q.call($,"(display-mode: standalone)").matches||$.navigator.standalone)},mobile:p,mobileweb:$=>p($)&&!T($),desktop:$=>!p($),hybrid:T}},9986:(Dr,rr,_e)=>{"use strict";_e.d(rr,{c:()=>ie});var I=_e(8476);let M;const St=(B,v,_)=>{const f=v.startsWith("animation")?(B=>(void 0===M&&(M=void 0===B.style.animationName&&void 0!==B.style.webkitAnimationName?"-webkit-":""),M))(B):"";B.style.setProperty(f+v,_)},o=(B=[],v)=>{if(void 0!==v){const _=Array.isArray(v)?v:[v];return[...B,..._]}return B},ie=B=>{let v,_,f,m,S,w,d,N,k,X,J,i=[],l=[],a=[],u=!1,h={},g=[],p=[],y={},T=0,z=!1,G=!1,D=!0,O=!1,P=!0,re=!1;const $=B,Q=[],V=[],H=[],Z=[],le=[],xe=[],q=[],j=[],oe=[],me=[],Se=[],Le="function"==typeof AnimationEffect||void 0!==I.w&&"function"==typeof I.w.AnimationEffect,Xe="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Le,lt=()=>Se,st=(Ie,Ae)=>{const qe=Ae.findIndex($e=>$e.c===Ie);qe>-1&&Ae.splice(qe,1)},it=(Ie,Ae)=>((null!=Ae&&Ae.oneTimeCallback?V:Q).push({c:Ie,o:Ae}),J),pt=()=>{Xe&&(Se.forEach(Ie=>{Ie.cancel()}),Se.length=0)},kt=()=>{xe.forEach(Ie=>{null!=Ie&&Ie.parentNode&&Ie.parentNode.removeChild(Ie)}),xe.length=0},Re=()=>void 0!==S?S:d?d.getFill():"both",Qe=()=>void 0!==N?N:void 0!==w?w:d?d.getDirection():"normal",Ot=()=>z?"linear":void 0!==f?f:d?d.getEasing():"linear",qt=()=>G?0:void 0!==k?k:void 0!==_?_:d?d.getDuration():0,nr=()=>void 0!==m?m:d?d.getIterations():1,Ct=()=>void 0!==X?X:void 0!==v?v:d?d.getDelay():0,yr=()=>{0!==T&&(T--,0===T&&((()=>{oe.forEach(ct=>ct()),me.forEach(ct=>ct());const Ie=D?1:0,Ae=g,qe=p,$e=y;Z.forEach(ct=>{const Ft=ct.classList;Ae.forEach(ur=>Ft.add(ur)),qe.forEach(ur=>Ft.remove(ur));for(const ur in $e)$e.hasOwnProperty(ur)&&St(ct,ur,$e[ur])}),k=void 0,N=void 0,X=void 0,Q.forEach(ct=>ct.c(Ie,J)),V.forEach(ct=>ct.c(Ie,J)),V.length=0,P=!0,D&&(O=!0),D=!0})(),d&&d.animationFinish()))},xr=()=>{(()=>{q.forEach($e=>$e()),j.forEach($e=>$e());const Ie=l,Ae=a,qe=h;Z.forEach($e=>{const ct=$e.classList;Ie.forEach(Ft=>ct.add(Ft)),Ae.forEach(Ft=>ct.remove(Ft));for(const Ft in qe)qe.hasOwnProperty(Ft)&&St($e,Ft,qe[Ft])})})(),i.length>0&&Xe&&(Z.forEach(Ie=>{const Ae=Ie.animate(i,{id:$,delay:Ct(),duration:qt(),easing:Ot(),iterations:nr(),fill:Re(),direction:Qe()});Ae.pause(),Se.push(Ae)}),Se.length>0&&(Se[0].onfinish=()=>{yr()})),u=!0},Mr=Ie=>{Ie=Math.min(Math.max(Ie,0),.9999),Xe&&Se.forEach(Ae=>{Ae.currentTime=Ae.effect.getComputedTiming().delay+qt()*Ie,Ae.pause()})},W=Ie=>{Se.forEach(Ae=>{Ae.effect.updateTiming({delay:Ct(),duration:qt(),easing:Ot(),iterations:nr(),fill:Re(),direction:Qe()})}),void 0!==Ie&&Mr(Ie)},pe=(Ie=!1,Ae=!0,qe)=>(Ie&&le.forEach($e=>{$e.update(Ie,Ae,qe)}),Xe&&W(qe),J),R=()=>{u&&(Xe?Se.forEach(Ie=>{Ie.pause()}):Z.forEach(Ie=>{St(Ie,"animation-play-state","paused")}),re=!0)},Oe=Ie=>new Promise(Ae=>{null!=Ie&&Ie.sync&&(G=!0,it(()=>G=!1,{oneTimeCallback:!0})),u||xr(),O&&(Xe&&(Mr(0),W()),O=!1),P&&(T=le.length+1,P=!1);const qe=()=>{st($e,V),Ae()},$e=()=>{st(qe,H),Ae()};it($e,{oneTimeCallback:!0}),((Ie,Ae)=>{H.push({c:Ie,o:{oneTimeCallback:!0}})})(qe),le.forEach(ct=>{ct.play()}),Xe?(Se.forEach(Ie=>{Ie.play()}),(0===i.length||0===Z.length)&&yr()):yr(),re=!1}),Je=(Ie,Ae)=>{const qe=i[0];return void 0===qe||void 0!==qe.offset&&0!==qe.offset?i=[{offset:0,[Ie]:Ae},...i]:qe[Ie]=Ae,J};return J={parentAnimation:d,elements:Z,childAnimations:le,id:$,animationFinish:yr,from:Je,to:(Ie,Ae)=>{const qe=i[i.length-1];return void 0===qe||void 0!==qe.offset&&1!==qe.offset?i=[...i,{offset:1,[Ie]:Ae}]:qe[Ie]=Ae,J},fromTo:(Ie,Ae,qe)=>Je(Ie,Ae).to(Ie,qe),parent:Ie=>(d=Ie,J),play:Oe,pause:()=>(le.forEach(Ie=>{Ie.pause()}),R(),J),stop:()=>{le.forEach(Ie=>{Ie.stop()}),u&&(pt(),u=!1),z=!1,G=!1,P=!0,N=void 0,k=void 0,X=void 0,T=0,O=!1,D=!0,re=!1,H.forEach(Ie=>Ie.c(0,J)),H.length=0},destroy:Ie=>(le.forEach(Ae=>{Ae.destroy(Ie)}),(Ie=>{pt(),Ie&&kt()})(Ie),Z.length=0,le.length=0,i.length=0,Q.length=0,V.length=0,u=!1,P=!0,J),keyframes:Ie=>{const Ae=i!==Ie;return i=Ie,Ae&&(Ie=>{Xe&&lt().forEach(Ae=>{const qe=Ae.effect;if(qe.setKeyframes)qe.setKeyframes(Ie);else{const $e=new KeyframeEffect(qe.target,Ie,qe.getTiming());Ae.effect=$e}})})(i),J},addAnimation:Ie=>{if(null!=Ie)if(Array.isArray(Ie))for(const Ae of Ie)Ae.parent(J),le.push(Ae);else Ie.parent(J),le.push(Ie);return J},addElement:Ie=>{if(null!=Ie)if(1===Ie.nodeType)Z.push(Ie);else if(Ie.length>=0)for(let Ae=0;Ae<Ie.length;Ae++)Z.push(Ie[Ae]);else console.error("Invalid addElement value");return J},update:pe,fill:Ie=>(S=Ie,pe(!0),J),direction:Ie=>(w=Ie,pe(!0),J),iterations:Ie=>(m=Ie,pe(!0),J),duration:Ie=>(!Xe&&0===Ie&&(Ie=1),_=Ie,pe(!0),J),easing:Ie=>(f=Ie,pe(!0),J),delay:Ie=>(v=Ie,pe(!0),J),getWebAnimations:lt,getKeyframes:()=>i,getFill:Re,getDirection:Qe,getDelay:Ct,getIterations:nr,getEasing:Ot,getDuration:qt,afterAddRead:Ie=>(oe.push(Ie),J),afterAddWrite:Ie=>(me.push(Ie),J),afterClearStyles:(Ie=[])=>{for(const Ae of Ie)y[Ae]="";return J},afterStyles:(Ie={})=>(y=Ie,J),afterRemoveClass:Ie=>(p=o(p,Ie),J),afterAddClass:Ie=>(g=o(g,Ie),J),beforeAddRead:Ie=>(q.push(Ie),J),beforeAddWrite:Ie=>(j.push(Ie),J),beforeClearStyles:(Ie=[])=>{for(const Ae of Ie)h[Ae]="";return J},beforeStyles:(Ie={})=>(h=Ie,J),beforeRemoveClass:Ie=>(a=o(a,Ie),J),beforeAddClass:Ie=>(l=o(l,Ie),J),onFinish:it,isRunning:()=>0!==T&&!re,progressStart:(Ie=!1,Ae)=>(le.forEach(qe=>{qe.progressStart(Ie,Ae)}),R(),z=Ie,u||xr(),pe(!1,!0,Ae),J),progressStep:Ie=>(le.forEach(Ae=>{Ae.progressStep(Ie)}),Mr(Ie),J),progressEnd:(Ie,Ae,qe)=>(z=!1,le.forEach($e=>{$e.progressEnd(Ie,Ae,qe)}),void 0!==qe&&(k=qe),O=!1,D=!0,0===Ie?(N="reverse"===Qe()?"normal":"reverse","reverse"===N&&(D=!1),Xe?(pe(),Mr(1-Ae)):(X=(1-Ae)*qt()*-1,pe(!1,!1))):1===Ie&&(Xe?(pe(),Mr(Ae)):(X=Ae*qt()*-1,pe(!1,!1))),void 0!==Ie&&!d&&Oe(),J)}}},464:(Dr,rr,_e)=>{"use strict";_e.d(rr,{E:()=>f,I:()=>B,a:()=>I,s:()=>v});const I=m=>{try{if(m instanceof B)return m.value;if(!St()||"string"!=typeof m||""===m)return m;if(m.includes("onload="))return"";const S=document.createDocumentFragment(),w=document.createElement("div");S.appendChild(w),w.innerHTML=m,ie.forEach(u=>{const d=S.querySelectorAll(u);for(let h=d.length-1;h>=0;h--){const g=d[h];g.parentNode?g.parentNode.removeChild(g):S.removeChild(g);const p=et(g);for(let y=0;y<p.length;y++)M(p[y])}});const i=et(S);for(let u=0;u<i.length;u++)M(i[u]);const l=document.createElement("div");l.appendChild(S);const a=l.querySelector("div");return null!==a?a.innerHTML:l.innerHTML}catch(S){return console.error(S),""}},M=m=>{if(m.nodeType&&1!==m.nodeType)return;if(typeof NamedNodeMap<"u"&&!(m.attributes instanceof NamedNodeMap))return void m.remove();for(let w=m.attributes.length-1;w>=0;w--){const i=m.attributes.item(w),l=i.name;if(!o.includes(l.toLowerCase())){m.removeAttribute(l);continue}const a=i.value,u=m[l];(null!=a&&a.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&m.removeAttribute(l)}const S=et(m);for(let w=0;w<S.length;w++)M(S[w])},et=m=>null!=m.children?m.children:m.childNodes,St=()=>{var m;const S=window,w=null===(m=null==S?void 0:S.Ionic)||void 0===m?void 0:m.config;return!w||(w.get?w.get("sanitizerEnabled",!0):!0===w.sanitizerEnabled||void 0===w.sanitizerEnabled)},o=["class","id","href","src","name","slot"],ie=["script","style","iframe","meta","link","object","embed"];class B{constructor(S){this.value=S}}const v=m=>{const S=window,w=S.Ionic;if(!w||!w.config||"Object"===w.config.constructor.name)return S.Ionic=S.Ionic||{},S.Ionic.config=Object.assign(Object.assign({},S.Ionic.config),m),S.Ionic.config},f=!1},3351:(Dr,rr,_e)=>{"use strict";_e.d(rr,{g:()=>I});const I=(ie,B,v,_,f)=>et(ie[1],B[1],v[1],_[1],f).map(m=>M(ie[0],B[0],v[0],_[0],m)),M=(ie,B,v,_,f)=>f*(3*B*Math.pow(f-1,2)+f*(-3*v*f+3*v+_*f))-ie*Math.pow(f-1,3),et=(ie,B,v,_,f)=>o((_-=f)-3*(v-=f)+3*(B-=f)-(ie-=f),3*v-6*B+3*ie,3*B-3*ie,ie).filter(S=>S>=0&&S<=1),o=(ie,B,v,_)=>{if(0===ie)return((ie,B,v)=>{const _=B*B-4*ie*v;return _<0?[]:[(-B+Math.sqrt(_))/(2*ie),(-B-Math.sqrt(_))/(2*ie)]})(B,v,_);const f=(3*(v/=ie)-(B/=ie)*B)/3,m=(2*B*B*B-9*B*v+27*(_/=ie))/27;if(0===f)return[Math.pow(-m,1/3)];if(0===m)return[Math.sqrt(-f),-Math.sqrt(-f)];const S=Math.pow(m/2,2)+Math.pow(f/3,3);if(0===S)return[Math.pow(m/2,.5)-B/3];if(S>0)return[Math.pow(-m/2+Math.sqrt(S),1/3)-Math.pow(m/2+Math.sqrt(S),1/3)-B/3];const w=Math.sqrt(Math.pow(-f/3,3)),i=Math.acos(-m/(2*Math.sqrt(Math.pow(-f/3,3)))),l=2*Math.pow(w,1/3);return[l*Math.cos(i/3)-B/3,l*Math.cos((i+2*Math.PI)/3)-B/3,l*Math.cos((i+4*Math.PI)/3)-B/3]}},8621:(Dr,rr,_e)=>{"use strict";_e.d(rr,{C:()=>o,a:()=>et,d:()=>St});var I=_e(467),M=_e(4920);const et=function(){var ie=(0,I.A)(function*(B,v,_,f,m,S){var w;if(B)return B.attachViewToDom(v,_,m,f);if(!(S||"string"==typeof _||_ instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof _?null===(w=v.ownerDocument)||void 0===w?void 0:w.createElement(_):_;return f&&f.forEach(l=>i.classList.add(l)),m&&Object.assign(i,m),v.appendChild(i),yield new Promise(l=>(0,M.c)(i,l)),i});return function(v,_,f,m,S,w){return ie.apply(this,arguments)}}(),St=(ie,B)=>{if(B){if(ie)return ie.removeViewFromDom(B.parentElement,B);B.remove()}return Promise.resolve()},o=()=>{let ie,B;return{attachViewToDom:function(){var f=(0,I.A)(function*(m,S,w={},i=[]){var l,a;let u;if(ie=m,S){const h="string"==typeof S?null===(l=ie.ownerDocument)||void 0===l?void 0:l.createElement(S):S;i.forEach(g=>h.classList.add(g)),Object.assign(h,w),ie.appendChild(h),u=h,yield new Promise(g=>(0,M.c)(h,g))}else if(ie.children.length>0&&("ION-MODAL"===ie.tagName||"ION-POPOVER"===ie.tagName)&&!(u=ie.children[0]).classList.contains("ion-delegate-host")){const g=null===(a=ie.ownerDocument)||void 0===a?void 0:a.createElement("div");g.classList.add("ion-delegate-host"),i.forEach(p=>g.classList.add(p)),g.append(...ie.children),ie.appendChild(g),u=g}const d=document.querySelector("ion-app")||document.body;return B=document.createComment("ionic teleport"),ie.parentNode.insertBefore(B,ie),d.appendChild(ie),null!=u?u:ie});return function(S,w){return f.apply(this,arguments)}}(),removeViewFromDom:()=>(ie&&B&&(B.parentNode.insertBefore(ie,B),B.remove()),Promise.resolve())}}},1970:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>St,G:()=>o});class M{constructor(B,v,_,f,m){this.id=v,this.name=_,this.disableScroll=m,this.priority=1e6*f+v,this.ctrl=B}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const B=this.ctrl.capture(this.name,this.id,this.priority);return B&&this.disableScroll&&this.ctrl.disableScroll(this.id),B}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class et{constructor(B,v,_,f){this.id=v,this.disable=_,this.disableScroll=f,this.ctrl=B}block(){if(this.ctrl){if(this.disable)for(const B of this.disable)this.ctrl.disableGesture(B,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const B of this.disable)this.ctrl.enableGesture(B,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const St="backdrop-no-scroll",o=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(B){var v;return new M(this,this.newID(),B.name,null!==(v=B.priority)&&void 0!==v?v:0,!!B.disableScroll)}createBlocker(B={}){return new et(this,this.newID(),B.disable,!!B.disableScroll)}start(B,v,_){return this.canStart(B)?(this.requestedStart.set(v,_),!0):(this.requestedStart.delete(v),!1)}capture(B,v,_){if(!this.start(B,v,_))return!1;const f=this.requestedStart;let m=-1e4;if(f.forEach(S=>{m=Math.max(m,S)}),m===_){this.capturedId=v,f.clear();const S=new CustomEvent("ionGestureCaptured",{detail:{gestureName:B}});return document.dispatchEvent(S),!0}return f.delete(v),!1}release(B){this.requestedStart.delete(B),this.capturedId===B&&(this.capturedId=void 0)}disableGesture(B,v){let _=this.disabledGestures.get(B);void 0===_&&(_=new Set,this.disabledGestures.set(B,_)),_.add(v)}enableGesture(B,v){const _=this.disabledGestures.get(B);void 0!==_&&_.delete(v)}disableScroll(B){this.disabledScroll.add(B),1===this.disabledScroll.size&&document.body.classList.add(St)}enableScroll(B){this.disabledScroll.delete(B),0===this.disabledScroll.size&&document.body.classList.remove(St)}canStart(B){return!(void 0!==this.capturedId||this.isDisabled(B))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(B){const v=this.disabledGestures.get(B);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{MENU_BACK_BUTTON_PRIORITY:()=>_,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>ie,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>B});var I=_e(467),M=_e(8476),et=_e(4921);_e(8393);const o=()=>et.c.get("experimentalCloseWatcher",!1)&&void 0!==M.w&&"CloseWatcher"in M.w,ie=()=>{document.addEventListener("backbutton",()=>{})},B=()=>{const f=document;let m=!1;const S=()=>{if(m)return;let w=0,i=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(d,h){i.push({priority:d,handler:h,id:w++})}}});f.dispatchEvent(l);const a=function(){var d=(0,I.A)(function*(h){try{if(null!=h&&h.handler){const g=h.handler(u);null!=g&&(yield g)}}catch(g){console.error(g)}});return function(g){return d.apply(this,arguments)}}(),u=()=>{if(i.length>0){let d={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(h=>{h.priority>=d.priority&&(d=h)}),m=!0,i=i.filter(h=>h.id!==d.id),a(d).then(()=>m=!1)}};u()};if(o()){let w;const i=()=>{null==w||w.destroy(),w=new M.w.CloseWatcher,w.onclose=()=>{S(),i()}};i()}else f.addEventListener("backbutton",S)},v=100,_=99},4920:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>v,b:()=>_,c:()=>et,d:()=>i,e:()=>h,f:()=>w,g:()=>f,h:()=>o,i:()=>B,j:()=>l,k:()=>St,l:()=>S,m:()=>a,n:()=>d,o:()=>g,p:()=>u,r:()=>m,s:()=>p,t:()=>I});const I=(y,T=0)=>new Promise(z=>{M(y,T,z)}),M=(y,T=0,z)=>{let G,N;const k={passive:!0},D=()=>{G&&G()},O=P=>{(void 0===P||y===P.target)&&(D(),z(P))};return y&&(y.addEventListener("webkitTransitionEnd",O,k),y.addEventListener("transitionend",O,k),N=setTimeout(O,T+500),G=()=>{void 0!==N&&(clearTimeout(N),N=void 0),y.removeEventListener("webkitTransitionEnd",O,k),y.removeEventListener("transitionend",O,k)}),D},et=(y,T)=>{y.componentOnReady?y.componentOnReady().then(z=>T(z)):m(()=>T(y))},St=y=>void 0!==y.componentOnReady,o=(y,T=[])=>{const z={};return T.forEach(G=>{y.hasAttribute(G)&&(null!==y.getAttribute(G)&&(z[G]=y.getAttribute(G)),y.removeAttribute(G))}),z},ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],B=(y,T)=>{let z=ie;return T&&T.length>0&&(z=z.filter(G=>!T.includes(G))),o(y,z)},v=(y,T,z,G)=>{var N;if(typeof window<"u"){const k=window,X=null===(N=null==k?void 0:k.Ionic)||void 0===N?void 0:N.config;if(X){const D=X.get("_ael");if(D)return D(y,T,z,G);if(X._ael)return X._ael(y,T,z,G)}}return y.addEventListener(T,z,G)},_=(y,T,z,G)=>{var N;if(typeof window<"u"){const k=window,X=null===(N=null==k?void 0:k.Ionic)||void 0===N?void 0:N.config;if(X){const D=X.get("_rel");if(D)return D(y,T,z,G);if(X._rel)return X._rel(y,T,z,G)}}return y.removeEventListener(T,z,G)},f=(y,T=y)=>y.shadowRoot||T,m=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y),S=y=>!!y.shadowRoot&&!!y.attachShadow,w=y=>{if(y.focus(),y.classList.contains("ion-focusable")){const T=y.closest("ion-app");T&&T.setFocus([y])}},i=(y,T,z,G,N)=>{if(y||S(T)){let k=T.querySelector("input.aux-input");k||(k=T.ownerDocument.createElement("input"),k.type="hidden",k.classList.add("aux-input"),T.appendChild(k)),k.disabled=N,k.name=z,k.value=G||""}},l=(y,T,z)=>Math.max(y,Math.min(T,z)),a=(y,T)=>{if(!y){const z="ASSERT: "+T;throw console.error(z),new Error(z)}},u=y=>{if(y){const T=y.changedTouches;if(T&&T.length>0){const z=T[0];return{x:z.clientX,y:z.clientY}}if(void 0!==y.pageX)return{x:y.pageX,y:y.pageY}}return{x:0,y:0}},d=y=>{const T="rtl"===document.dir;switch(y){case"start":return T;case"end":return!T;default:throw new Error(`"${y}" is not a valid value for [side]. Use "start" or "end" instead.`)}},h=(y,T)=>{const z=y._original||y;return{_original:y,emit:g(z.emit.bind(z),T)}},g=(y,T=0)=>{let z;return(...G)=>{clearTimeout(z),z=setTimeout(y,T,...G)}},p=(y,T)=>{if(null!=y||(y={}),null!=T||(T={}),y===T)return!0;const z=Object.keys(y);if(z.length!==Object.keys(T).length)return!1;for(const G of z)if(!(G in T)||y[G]!==T[G])return!1;return!0}},8607:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>_});var I=_e(1970);const M=(w,i,l,a)=>{const u=et(w)?{capture:!!a.capture,passive:!!a.passive}:!!a.capture;let d,h;return w.__zone_symbol__addEventListener?(d="__zone_symbol__addEventListener",h="__zone_symbol__removeEventListener"):(d="addEventListener",h="removeEventListener"),w[d](i,l,u),()=>{w[h](i,l,u)}},et=w=>{if(void 0===St)try{const i=Object.defineProperty({},"passive",{get:()=>{St=!0}});w.addEventListener("optsTest",()=>{},i)}catch{St=!1}return!!St};let St;const B=w=>w instanceof Document?w:w.ownerDocument,_=w=>{let i=!1,l=!1,a=!0,u=!1;const d=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},w),h=d.canStart,g=d.onWillStart,p=d.onStart,y=d.onEnd,T=d.notCaptured,z=d.onMove,G=d.threshold,N=d.passive,k=d.blurOnStart,X={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},D=((w,i,l)=>{const a=l*(Math.PI/180),u="x"===w,d=Math.cos(a),h=i*i;let g=0,p=0,y=!1,T=0;return{start(z,G){g=z,p=G,T=0,y=!0},detect(z,G){if(!y)return!1;const N=z-g,k=G-p,X=N*N+k*k;if(X<h)return!1;const D=Math.sqrt(X),O=(u?N:k)/D;return T=O>d?1:O<-d?-1:0,y=!1,!0},isGesture:()=>0!==T,getDirection:()=>T}})(d.direction,d.threshold,d.maxAngle),O=I.G.createGesture({name:w.gestureName,priority:w.gesturePriority,disableScroll:w.disableScroll}),re=()=>{i&&(u=!1,z&&z(X))},$=()=>!!O.capture()&&(i=!0,a=!1,X.startX=X.currentX,X.startY=X.currentY,X.startTime=X.currentTime,g?g(X).then(V):V(),!0),V=()=>{k&&(()=>{if(typeof document<"u"){const q=document.activeElement;null!=q&&q.blur&&q.blur()}})(),p&&p(X),a=!0},H=()=>{i=!1,l=!1,u=!1,a=!0,O.release()},Z=q=>{const j=i,oe=a;if(H(),oe){if(f(X,q),j)return void(y&&y(X));T&&T(X)}},le=((w,i,l,a,u)=>{let d,h,g,p,y,T,z,G=0;const N=Q=>{G=Date.now()+2e3,i(Q)&&(!h&&l&&(h=M(w,"touchmove",l,u)),g||(g=M(Q.target,"touchend",X,u)),p||(p=M(Q.target,"touchcancel",X,u)))},k=Q=>{G>Date.now()||i(Q)&&(!T&&l&&(T=M(B(w),"mousemove",l,u)),z||(z=M(B(w),"mouseup",D,u)))},X=Q=>{O(),a&&a(Q)},D=Q=>{P(),a&&a(Q)},O=()=>{h&&h(),g&&g(),p&&p(),h=g=p=void 0},P=()=>{T&&T(),z&&z(),T=z=void 0},J=()=>{O(),P()},re=(Q=!0)=>{Q?(d||(d=M(w,"touchstart",N,u)),y||(y=M(w,"mousedown",k,u))):(d&&d(),y&&y(),d=y=void 0,J())};return{enable:re,stop:J,destroy:()=>{re(!1),a=l=i=void 0}}})(d.el,q=>{const j=S(q);return!(l||!a||(m(q,X),X.startX=X.currentX,X.startY=X.currentY,X.startTime=X.currentTime=j,X.velocityX=X.velocityY=X.deltaX=X.deltaY=0,X.event=q,h&&!1===h(X))||(O.release(),!O.start()))&&(l=!0,0===G?$():(D.start(X.startX,X.startY),!0))},q=>{i?!u&&a&&(u=!0,f(X,q),requestAnimationFrame(re)):(f(X,q),D.detect(X.currentX,X.currentY)&&(!D.isGesture()||!$())&&xe())},Z,{capture:!1,passive:N}),xe=()=>{H(),le.stop(),T&&T(X)};return{enable(q=!0){q||(i&&Z(void 0),H()),le.enable(q)},destroy(){O.destroy(),le.destroy()}}},f=(w,i)=>{if(!i)return;const l=w.currentX,a=w.currentY,u=w.currentTime;m(i,w);const d=w.currentX,h=w.currentY,p=(w.currentTime=S(i))-u;if(p>0&&p<100){const T=(h-a)/p;w.velocityX=(d-l)/p*.7+.3*w.velocityX,w.velocityY=.7*T+.3*w.velocityY}w.deltaX=d-w.startX,w.deltaY=h-w.startY,w.event=i},m=(w,i)=>{let l=0,a=0;if(w){const u=w.changedTouches;if(u&&u.length>0){const d=u[0];l=d.clientX,a=d.clientY}else void 0!==w.pageX&&(l=w.pageX,a=w.pageY)}i.currentX=l,i.currentY=a},S=w=>w.timeStamp||Date.now()},6073:(Dr,rr,_e)=>{"use strict";_e.d(rr,{m:()=>w});var I=_e(467),M=_e(8476),et=_e(8669),St=_e(4929),o=_e(4920),ie=_e(4921),B=_e(9986);const v=i=>(0,B.c)().duration(i?400:300),_=i=>{let l,a;const u=i.width+8,d=(0,B.c)(),h=(0,B.c)();i.isEndSide?(l=u+"px",a="0px"):(l=-u+"px",a="0px"),d.addElement(i.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${a})`);const p="ios"===(0,ie.b)(i),y=p?.2:.25;return h.addElement(i.backdropEl).fromTo("opacity",.01,y),v(p).addAnimation([d,h])},f=i=>{let l,a;const u=(0,ie.b)(i),d=i.width;i.isEndSide?(l=-d+"px",a=d+"px"):(l=d+"px",a=-d+"px");const h=(0,B.c)().addElement(i.menuInnerEl).fromTo("transform",`translateX(${a})`,"translateX(0px)"),g=(0,B.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),p=(0,B.c)().addElement(i.backdropEl).fromTo("opacity",.01,.32);return v("ios"===u).addAnimation([h,g,p])},m=i=>{const l=(0,ie.b)(i),a=i.width*(i.isEndSide?-1:1)+"px",u=(0,B.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`);return v("ios"===l).addAnimation(u)},w=(()=>{const i=new Map,l=[],a=function(){var H=(0,I.A)(function*(Z){const le=yield T(Z,!0);return!!le&&le.open()});return function(le){return H.apply(this,arguments)}}(),u=function(){var H=(0,I.A)(function*(Z){const le=yield void 0!==Z?T(Z,!0):z();return void 0!==le&&le.close()});return function(le){return H.apply(this,arguments)}}(),d=function(){var H=(0,I.A)(function*(Z){const le=yield T(Z,!0);return!!le&&le.toggle()});return function(le){return H.apply(this,arguments)}}(),h=function(){var H=(0,I.A)(function*(Z,le){const xe=yield T(le);return xe&&(xe.disabled=!Z),xe});return function(le,xe){return H.apply(this,arguments)}}(),g=function(){var H=(0,I.A)(function*(Z,le){const xe=yield T(le);return xe&&(xe.swipeGesture=Z),xe});return function(le,xe){return H.apply(this,arguments)}}(),p=function(){var H=(0,I.A)(function*(Z){if(null!=Z){const le=yield T(Z);return void 0!==le&&le.isOpen()}return void 0!==(yield z())});return function(le){return H.apply(this,arguments)}}(),y=function(){var H=(0,I.A)(function*(Z){const le=yield T(Z);return!!le&&!le.disabled});return function(le){return H.apply(this,arguments)}}(),T=function(){var H=(0,I.A)(function*(Z,le=!1){if(yield V(),"start"===Z||"end"===Z){const q=l.filter(oe=>oe.side===Z&&!oe.disabled);if(q.length>=1)return q.length>1&&le&&(0,St.p)(`menuController queried for a menu on the "${Z}" side, but ${q.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,q.map(oe=>oe.el)),q[0].el;const j=l.filter(oe=>oe.side===Z);if(j.length>=1)return j.length>1&&le&&(0,St.p)(`menuController queried for a menu on the "${Z}" side, but ${j.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,j.map(oe=>oe.el)),j[0].el}else if(null!=Z)return Q(q=>q.menuId===Z);return Q(q=>!q.disabled)||(l.length>0?l[0].el:void 0)});return function(le){return H.apply(this,arguments)}}(),z=function(){var H=(0,I.A)(function*(){return yield V(),J()});return function(){return H.apply(this,arguments)}}(),G=function(){var H=(0,I.A)(function*(){return yield V(),re()});return function(){return H.apply(this,arguments)}}(),N=function(){var H=(0,I.A)(function*(){return yield V(),$()});return function(){return H.apply(this,arguments)}}(),k=(H,Z)=>{i.set(H,Z)},O=function(){var H=(0,I.A)(function*(Z,le,xe){if($())return!1;if(le){const q=yield z();q&&Z.el!==q&&(yield q.setOpen(!1,!1))}return Z._setOpen(le,xe)});return function(le,xe,q){return H.apply(this,arguments)}}(),J=()=>Q(H=>H._isOpen),re=()=>l.map(H=>H.el),$=()=>l.some(H=>H.isAnimating),Q=H=>{const Z=l.find(H);if(void 0!==Z)return Z.el},V=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(H=>new Promise(Z=>(0,o.c)(H,Z))));return k("reveal",m),k("push",f),k("overlay",_),null==M.d||M.d.addEventListener("ionBackButton",H=>{const Z=J();Z&&H.detail.register(et.MENU_BACK_BUTTON_PRIORITY,()=>Z.close())}),{registerAnimation:k,get:T,getMenus:G,getOpen:z,isEnabled:y,swipeGesture:g,isAnimating:N,isOpen:p,enable:h,toggle:d,close:u,open:a,_getOpenSync:J,_createAnimation:(H,Z)=>{const le=i.get(H);if(!le)throw new Error("animation not registered");return le(Z)},_register:H=>{l.indexOf(H)<0&&l.push(H)},_unregister:H=>{const Z=l.indexOf(H);Z>-1&&l.splice(Z,1)},_setOpen:O}})()},8393:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>ie,a:()=>P,b:()=>Is,c:()=>Re,d:()=>nr,e:()=>oe,f:()=>Ht,g:()=>Qe,h:()=>zt,i:()=>qt,j:()=>yn,k:()=>Se,r:()=>_,w:()=>me});var I=_e(467);var St=Object.defineProperty,ie={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},B=new WeakMap,v=Ue=>B.get(Ue),_=(Ue,ot)=>B.set(ot.$lazyInstance$=Ue,ot),m=(Ue,ot)=>ot in Ue,S=(Ue,ot)=>(0,console.error)(Ue,ot),w=new Map,l=new Map,a=[],p="s-id",y="sty-id",T="c-id",G="slot-fb{display:contents}slot-fb[hidden]{display:none}",N="http://www.w3.org/1999/xlink",k=typeof window<"u"?window:{},X=k.document||{head:{}},O={$flags$:0,$resourcesUrl$:"",jmp:Ue=>Ue(),raf:Ue=>requestAnimationFrame(Ue),ael:(Ue,ot,At,Lt)=>Ue.addEventListener(ot,At,Lt),rel:(Ue,ot,At,Lt)=>Ue.removeEventListener(ot,At,Lt),ce:(Ue,ot)=>new CustomEvent(Ue,ot)},P=Ue=>{Object.assign(O,Ue)},J=!0,re=(()=>{let Ue=!1;try{X.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Ue=!0}}))}catch{}return Ue})(),Q=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),V=!1,H=[],Z=[],le=(Ue,ot)=>At=>{Ue.push(At),V||(V=!0,ot&&4&O.$flags$?j(q):O.raf(q))},xe=Ue=>{for(let ot=0;ot<Ue.length;ot++)try{Ue[ot](performance.now())}catch(At){S(At)}Ue.length=0},q=()=>{xe(H),xe(Z),(V=H.length>0)&&O.raf(q)},j=Ue=>Promise.resolve(void 0).then(Ue),oe=le(H,!1),me=le(Z,!0),Se=Ue=>{const ot=new URL(Ue,O.$resourcesUrl$);return ot.origin!==k.location.origin?ot.href:ot.pathname},Le={},nt=Ue=>"object"==(Ue=typeof Ue)||"function"===Ue;function at(Ue){var ot,At,Lt;return null!=(Lt=null==(At=null==(ot=Ue.head)?void 0:ot.querySelector('meta[name="csp-nonce"]'))?void 0:At.getAttribute("content"))?Lt:void 0}((Ue,ot)=>{for(var At in ot)St(Ue,At,{get:ot[At],enumerable:!0})})({},{err:()=>Ye,map:()=>it,ok:()=>st,unwrap:()=>Ze,unwrapErr:()=>pt});var st=Ue=>({isOk:!0,isErr:!1,value:Ue}),Ye=Ue=>({isOk:!1,isErr:!0,value:Ue});function it(Ue,ot){if(Ue.isOk){const At=ot(Ue.value);return At instanceof Promise?At.then(Lt=>st(Lt)):st(At)}if(Ue.isErr)return Ye(Ue.value);throw"should never get here"}var Ze=Ue=>{if(Ue.isOk)return Ue.value;throw Ue.value},pt=Ue=>{if(Ue.isErr)return Ue.value;throw Ue.value},zt=(Ue,ot,...At)=>{let Lt=null,er=null,Jt=null,mr=!1,Sr=!1;const Cr=[],Tr=Fr=>{for(let Gr=0;Gr<Fr.length;Gr++)Lt=Fr[Gr],Array.isArray(Lt)?Tr(Lt):null!=Lt&&"boolean"!=typeof Lt&&((mr="function"!=typeof Ue&&!nt(Lt))&&(Lt=String(Lt)),mr&&Sr?Cr[Cr.length-1].$text$+=Lt:Cr.push(mr?hr(null,Lt):Lt),Sr=mr)};if(Tr(At),ot){ot.key&&(er=ot.key),ot.name&&(Jt=ot.name);{const Fr=ot.className||ot.class;Fr&&(ot.class="object"!=typeof Fr?Fr:Object.keys(Fr).filter(Gr=>Fr[Gr]).join(" "))}}if("function"==typeof Ue)return Ue(null===ot?{}:ot,Cr,Bt);const Ur=hr(Ue,null);return Ur.$attrs$=ot,Cr.length>0&&(Ur.$children$=Cr),Ur.$key$=er,Ur.$name$=Jt,Ur},hr=(Ue,ot)=>({$flags$:0,$tag$:Ue,$text$:ot,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ht={},Bt={forEach:(Ue,ot)=>Ue.map(fr).forEach(ot),map:(Ue,ot)=>Ue.map(fr).map(ot).map(jt)},fr=Ue=>({vattrs:Ue.$attrs$,vchildren:Ue.$children$,vkey:Ue.$key$,vname:Ue.$name$,vtag:Ue.$tag$,vtext:Ue.$text$}),jt=Ue=>{if("function"==typeof Ue.vtag){const At={...Ue.vattrs};return Ue.vkey&&(At.key=Ue.vkey),Ue.vname&&(At.name=Ue.vname),zt(Ue.vtag,At,...Ue.vchildren||[])}const ot=hr(Ue.vtag,Ue.vtext);return ot.$attrs$=Ue.vattrs,ot.$children$=Ue.vchildren,ot.$key$=Ue.vkey,ot.$name$=Ue.vname,ot},$t=(Ue,ot,At,Lt,er,Jt,mr)=>{let Sr,Cr,Tr,Ur;if(1===Jt.nodeType){for(Sr=Jt.getAttribute(T),Sr&&(Cr=Sr.split("."),(Cr[0]===mr||"0"===Cr[0])&&(Tr={$flags$:0,$hostId$:Cr[0],$nodeId$:Cr[1],$depth$:Cr[2],$index$:Cr[3],$tag$:Jt.tagName.toLowerCase(),$elm$:Jt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ot.push(Tr),Jt.removeAttribute(T),Ue.$children$||(Ue.$children$=[]),Ue.$children$[Tr.$index$]=Tr,Ue=Tr,Lt&&"0"===Tr.$depth$&&(Lt[Tr.$index$]=Tr.$elm$))),Ur=Jt.childNodes.length-1;Ur>=0;Ur--)$t(Ue,ot,At,Lt,er,Jt.childNodes[Ur],mr);if(Jt.shadowRoot)for(Ur=Jt.shadowRoot.childNodes.length-1;Ur>=0;Ur--)$t(Ue,ot,At,Lt,er,Jt.shadowRoot.childNodes[Ur],mr)}else if(8===Jt.nodeType)Cr=Jt.nodeValue.split("."),(Cr[1]===mr||"0"===Cr[1])&&(Sr=Cr[0],Tr={$flags$:0,$hostId$:Cr[1],$nodeId$:Cr[2],$depth$:Cr[3],$index$:Cr[4],$elm$:Jt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Sr?(Tr.$elm$=Jt.nextSibling,Tr.$elm$&&3===Tr.$elm$.nodeType&&(Tr.$text$=Tr.$elm$.textContent,ot.push(Tr),Jt.remove(),Ue.$children$||(Ue.$children$=[]),Ue.$children$[Tr.$index$]=Tr,Lt&&"0"===Tr.$depth$&&(Lt[Tr.$index$]=Tr.$elm$))):Tr.$hostId$===mr&&("s"===Sr?(Tr.$tag$="slot",Jt["s-sn"]=Cr[5]?Tr.$name$=Cr[5]:"",Jt["s-sr"]=!0,Lt&&(Tr.$elm$=X.createElement(Tr.$tag$),Tr.$name$&&Tr.$elm$.setAttribute("name",Tr.$name$),Jt.parentNode.insertBefore(Tr.$elm$,Jt),Jt.remove(),"0"===Tr.$depth$&&(Lt[Tr.$index$]=Tr.$elm$)),At.push(Tr),Ue.$children$||(Ue.$children$=[]),Ue.$children$[Tr.$index$]=Tr):"r"===Sr&&(Lt?Jt.remove():(er["s-cr"]=Jt,Jt["s-cn"]=!0))));else if(Ue&&"style"===Ue.$tag$){const Fr=hr(null,Jt.textContent);Fr.$elm$=Jt,Fr.$index$="0",Ue.$children$=[Fr]}},Ve=(Ue,ot)=>{if(1===Ue.nodeType){let At=0;for(;At<Ue.childNodes.length;At++)Ve(Ue.childNodes[At],ot);if(Ue.shadowRoot)for(At=0;At<Ue.shadowRoot.childNodes.length;At++)Ve(Ue.shadowRoot.childNodes[At],ot)}else if(8===Ue.nodeType){const At=Ue.nodeValue.split(".");"o"===At[0]&&(ot.set(At[1]+"."+At[2],Ue),Ue.nodeValue="",Ue["s-en"]=At[3])}},Re=Ue=>a.push(Ue),Qe=Ue=>v(Ue).$modeName$,qt=Ue=>v(Ue).$hostElement$,nr=(Ue,ot,At)=>{const Lt=qt(Ue);return{emit:er=>Ct(Lt,ot,{bubbles:!!(4&At),composed:!!(2&At),cancelable:!!(1&At),detail:er})}},Ct=(Ue,ot,At)=>{const Lt=O.ce(ot,At);return Ue.dispatchEvent(Lt),Lt},Tt=new WeakMap,Gt=(Ue,ot,At)=>{let Lt=l.get(Ue);Q&&At?(Lt=Lt||new CSSStyleSheet,"string"==typeof Lt?Lt=ot:Lt.replaceSync(ot)):Lt=ot,l.set(Ue,Lt)},Vt=(Ue,ot,At)=>{var Lt;const er=yt(ot,At),Jt=l.get(er);if(Ue=11===Ue.nodeType?Ue:X,Jt)if("string"==typeof Jt){let Sr,mr=Tt.get(Ue=Ue.head||Ue);if(mr||Tt.set(Ue,mr=new Set),!mr.has(er)){if(Ue.host&&(Sr=Ue.querySelector(`[${y}="${er}"]`)))Sr.innerHTML=Jt;else{Sr=X.createElement("style"),Sr.innerHTML=Jt;const Cr=null!=(Lt=O.$nonce$)?Lt:at(X);null!=Cr&&Sr.setAttribute("nonce",Cr),Ue.insertBefore(Sr,Ue.querySelector("link"))}4&ot.$flags$&&(Sr.innerHTML+=G),mr&&mr.add(er)}}else Ue.adoptedStyleSheets.includes(Jt)||(Ue.adoptedStyleSheets=[...Ue.adoptedStyleSheets,Jt]);return er},yt=(Ue,ot)=>"sc-"+(ot&&32&Ue.$flags$?Ue.$tagName$+"-"+ot:Ue.$tagName$),Nt=Ue=>Ue.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),bt=(Ue,ot,At,Lt,er,Jt)=>{if(At!==Lt){let mr=m(Ue,ot),Sr=ot.toLowerCase();if("class"===ot){const Cr=Ue.classList,Tr=cr(At),Ur=cr(Lt);Cr.remove(...Tr.filter(Fr=>Fr&&!Ur.includes(Fr))),Cr.add(...Ur.filter(Fr=>Fr&&!Tr.includes(Fr)))}else if("style"===ot){for(const Cr in At)(!Lt||null==Lt[Cr])&&(Cr.includes("-")?Ue.style.removeProperty(Cr):Ue.style[Cr]="");for(const Cr in Lt)(!At||Lt[Cr]!==At[Cr])&&(Cr.includes("-")?Ue.style.setProperty(Cr,Lt[Cr]):Ue.style[Cr]=Lt[Cr])}else if("key"!==ot)if("ref"===ot)Lt&&Lt(Ue);else if(mr||"o"!==ot[0]||"n"!==ot[1]){const Cr=nt(Lt);if((mr||Cr&&null!==Lt)&&!er)try{if(Ue.tagName.includes("-"))Ue[ot]=Lt;else{const Ur=null==Lt?"":Lt;"list"===ot?mr=!1:(null==At||Ue[ot]!=Ur)&&(Ue[ot]=Ur)}}catch{}let Tr=!1;Sr!==(Sr=Sr.replace(/^xlink\:?/,""))&&(ot=Sr,Tr=!0),null==Lt||!1===Lt?(!1!==Lt||""===Ue.getAttribute(ot))&&(Tr?Ue.removeAttributeNS(N,ot):Ue.removeAttribute(ot)):(!mr||4&Jt||er)&&!Cr&&(Lt=!0===Lt?"":Lt,Tr?Ue.setAttributeNS(N,ot,Lt):Ue.setAttribute(ot,Lt))}else if(ot="-"===ot[2]?ot.slice(3):m(k,Sr)?Sr.slice(2):Sr[2]+ot.slice(3),At||Lt){const Cr=ot.endsWith(ft);ot=ot.replace(xt,""),At&&O.rel(Ue,ot,At,Cr),Lt&&O.ael(Ue,ot,Lt,Cr)}}},Rt=/\s/,cr=Ue=>Ue?Ue.split(Rt):[],ft="Capture",xt=new RegExp(ft+"$"),tr=(Ue,ot,At)=>{const Lt=11===ot.$elm$.nodeType&&ot.$elm$.host?ot.$elm$.host:ot.$elm$,er=Ue&&Ue.$attrs$||Le,Jt=ot.$attrs$||Le;for(const mr of Zt(Object.keys(er)))mr in Jt||bt(Lt,mr,er[mr],void 0,At,ot.$flags$);for(const mr of Zt(Object.keys(Jt)))bt(Lt,mr,er[mr],Jt[mr],At,ot.$flags$)};function Zt(Ue){return Ue.includes("ref")?[...Ue.filter(ot=>"ref"!==ot),"ref"]:Ue}var lr,yr,wr,xr=!1,Mr=!1,W=!1,pe=!1,Pe=(Ue,ot,At,Lt)=>{var er;const Jt=ot.$children$[At];let Sr,Cr,Tr,mr=0;if(xr||(W=!0,"slot"===Jt.$tag$&&(lr&&Lt.classList.add(lr+"-s"),Jt.$flags$|=Jt.$children$?2:1)),null!==Jt.$text$)Sr=Jt.$elm$=X.createTextNode(Jt.$text$);else if(1&Jt.$flags$)Sr=Jt.$elm$=X.createTextNode("");else{if(pe||(pe="svg"===Jt.$tag$),Sr=Jt.$elm$=X.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!xr&&2&Jt.$flags$?"slot-fb":Jt.$tag$),pe&&"foreignObject"===Jt.$tag$&&(pe=!1),tr(null,Jt,pe),(Ue=>null!=Ue)(lr)&&Sr["s-si"]!==lr&&Sr.classList.add(Sr["s-si"]=lr),ct(Sr,Lt),Jt.$children$)for(mr=0;mr<Jt.$children$.length;++mr)Cr=Pe(Ue,Jt,mr,Sr),Cr&&Sr.appendChild(Cr);"svg"===Jt.$tag$?pe=!1:"foreignObject"===Sr.tagName&&(pe=!0)}return Sr["s-hn"]=wr,3&Jt.$flags$&&(Sr["s-sr"]=!0,Sr["s-cr"]=yr,Sr["s-sn"]=Jt.$name$||"",Sr["s-rf"]=null==(er=Jt.$attrs$)?void 0:er.ref,Tr=Ue&&Ue.$children$&&Ue.$children$[At],Tr&&Tr.$tag$===Jt.$tag$&&Ue.$elm$&&b(Ue.$elm$)),Sr},b=Ue=>{O.$flags$|=1;const ot=Ue.closest(wr.toLowerCase());if(null!=ot){const At=Array.from(ot.childNodes).find(er=>er["s-cr"]),Lt=Array.from(Ue.childNodes);for(const er of At?Lt.reverse():Lt)null!=er["s-sh"]&&(qe(ot,er,null!=At?At:null),er["s-sh"]=void 0,W=!0)}O.$flags$&=-2},A=(Ue,ot)=>{O.$flags$|=1;const At=Array.from(Ue.childNodes);if(Ue["s-sr"]){let Lt=Ue;for(;Lt=Lt.nextSibling;)Lt&&Lt["s-sn"]===Ue["s-sn"]&&Lt["s-sh"]===wr&&At.push(Lt)}for(let Lt=At.length-1;Lt>=0;Lt--){const er=At[Lt];er["s-hn"]!==wr&&er["s-ol"]&&(qe(Oe(er),er,te(er)),er["s-ol"].remove(),er["s-ol"]=void 0,er["s-sh"]=void 0,W=!0),ot&&A(er,ot)}O.$flags$&=-2},R=(Ue,ot,At,Lt,er,Jt)=>{let Sr,mr=Ue["s-cr"]&&Ue["s-cr"].parentNode||Ue;for(mr.shadowRoot&&mr.tagName===wr&&(mr=mr.shadowRoot);er<=Jt;++er)Lt[er]&&(Sr=Pe(null,At,er,Ue),Sr&&(Lt[er].$elm$=Sr,qe(mr,Sr,te(ot))))},C=(Ue,ot,At)=>{for(let Lt=ot;Lt<=At;++Lt){const er=Ue[Lt];if(er){const Jt=er.$elm$;Ae(er),Jt&&(Mr=!0,Jt["s-ol"]?Jt["s-ol"].remove():A(Jt,!0),Jt.remove())}}},U=(Ue,ot,At=!1)=>Ue.$tag$===ot.$tag$&&("slot"===Ue.$tag$?Ue.$name$===ot.$name$:!!At||Ue.$key$===ot.$key$),te=Ue=>Ue&&Ue["s-ol"]||Ue,Oe=Ue=>(Ue["s-ol"]?Ue["s-ol"]:Ue).parentNode,Te=(Ue,ot,At=!1)=>{const Lt=ot.$elm$=Ue.$elm$,er=Ue.$children$,Jt=ot.$children$,mr=ot.$tag$,Sr=ot.$text$;let Cr;null===Sr?(pe="svg"===mr||"foreignObject"!==mr&&pe,"slot"!==mr||xr?tr(Ue,ot,pe):Ue.$name$!==ot.$name$&&(ot.$elm$["s-sn"]=ot.$name$||"",b(ot.$elm$.parentElement)),null!==er&&null!==Jt?((Ue,ot,At,Lt,er=!1)=>{let _n,wn,Jt=0,mr=0,Sr=0,Cr=0,Tr=ot.length-1,Ur=ot[0],Fr=ot[Tr],Gr=Lt.length-1,qr=Lt[0],pn=Lt[Gr];for(;Jt<=Tr&&mr<=Gr;)if(null==Ur)Ur=ot[++Jt];else if(null==Fr)Fr=ot[--Tr];else if(null==qr)qr=Lt[++mr];else if(null==pn)pn=Lt[--Gr];else if(U(Ur,qr,er))Te(Ur,qr,er),Ur=ot[++Jt],qr=Lt[++mr];else if(U(Fr,pn,er))Te(Fr,pn,er),Fr=ot[--Tr],pn=Lt[--Gr];else if(U(Ur,pn,er))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&A(Ur.$elm$.parentNode,!1),Te(Ur,pn,er),qe(Ue,Ur.$elm$,Fr.$elm$.nextSibling),Ur=ot[++Jt],pn=Lt[--Gr];else if(U(Fr,qr,er))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&A(Fr.$elm$.parentNode,!1),Te(Fr,qr,er),qe(Ue,Fr.$elm$,Ur.$elm$),Fr=ot[--Tr],qr=Lt[++mr];else{for(Sr=-1,Cr=Jt;Cr<=Tr;++Cr)if(ot[Cr]&&null!==ot[Cr].$key$&&ot[Cr].$key$===qr.$key$){Sr=Cr;break}Sr>=0?(wn=ot[Sr],wn.$tag$!==qr.$tag$?_n=Pe(ot&&ot[mr],At,Sr,Ue):(Te(wn,qr,er),ot[Sr]=void 0,_n=wn.$elm$),qr=Lt[++mr]):(_n=Pe(ot&&ot[mr],At,mr,Ue),qr=Lt[++mr]),_n&&qe(Oe(Ur.$elm$),_n,te(Ur.$elm$))}Jt>Tr?R(Ue,null==Lt[Gr+1]?null:Lt[Gr+1].$elm$,At,Lt,mr,Gr):mr>Gr&&C(ot,Jt,Tr)})(Lt,er,ot,Jt,At):null!==Jt?(null!==Ue.$text$&&(Lt.textContent=""),R(Lt,null,ot,Jt,0,Jt.length-1)):null!==er&&C(er,0,er.length-1),pe&&"svg"===mr&&(pe=!1)):(Cr=Lt["s-cr"])?Cr.parentNode.textContent=Sr:Ue.$text$!==Sr&&(Lt.data=Sr)},Je=Ue=>{const ot=Ue.childNodes;for(const At of ot)if(1===At.nodeType){if(At["s-sr"]){const Lt=At["s-sn"];At.hidden=!1;for(const er of ot)if(er!==At)if(er["s-hn"]!==At["s-hn"]||""!==Lt){if(1===er.nodeType&&(Lt===er.getAttribute("slot")||Lt===er["s-sn"])||3===er.nodeType&&Lt===er["s-sn"]){At.hidden=!0;break}}else if(1===er.nodeType||3===er.nodeType&&""!==er.textContent.trim()){At.hidden=!0;break}}Je(At)}},gt=[],Wt=Ue=>{let ot,At,Lt;for(const er of Ue.childNodes){if(er["s-sr"]&&(ot=er["s-cr"])&&ot.parentNode){At=ot.parentNode.childNodes;const Jt=er["s-sn"];for(Lt=At.length-1;Lt>=0;Lt--)if(ot=At[Lt],!(ot["s-cn"]||ot["s-nr"]||ot["s-hn"]===er["s-hn"]||ot["s-sh"]&&ot["s-sh"]===er["s-hn"]))if(Ie(ot,Jt)){let mr=gt.find(Sr=>Sr.$nodeToRelocate$===ot);Mr=!0,ot["s-sn"]=ot["s-sn"]||Jt,mr?(mr.$nodeToRelocate$["s-sh"]=er["s-hn"],mr.$slotRefNode$=er):(ot["s-sh"]=er["s-hn"],gt.push({$slotRefNode$:er,$nodeToRelocate$:ot})),ot["s-sr"]&&gt.map(Sr=>{Ie(Sr.$nodeToRelocate$,ot["s-sn"])&&(mr=gt.find(Cr=>Cr.$nodeToRelocate$===ot),mr&&!Sr.$slotRefNode$&&(Sr.$slotRefNode$=mr.$slotRefNode$))})}else gt.some(mr=>mr.$nodeToRelocate$===ot)||gt.push({$nodeToRelocate$:ot})}1===er.nodeType&&Wt(er)}},Ie=(Ue,ot)=>1===Ue.nodeType?null===Ue.getAttribute("slot")&&""===ot||Ue.getAttribute("slot")===ot:Ue["s-sn"]===ot||""===ot,Ae=Ue=>{Ue.$attrs$&&Ue.$attrs$.ref&&Ue.$attrs$.ref(null),Ue.$children$&&Ue.$children$.map(Ae)},qe=(Ue,ot,At)=>{const Lt=null==Ue?void 0:Ue.insertBefore(ot,At);return ct(ot,Ue),Lt},$e=Ue=>{const ot=[];return Ue&&ot.push(...Ue["s-scs"]||[],Ue["s-si"],Ue["s-sc"],...$e(Ue.parentElement)),ot},ct=(Ue,ot,At=!1)=>{var Lt;if(Ue&&ot&&1===Ue.nodeType){const er=new Set($e(ot).filter(Boolean));if(er.size&&(null==(Lt=Ue.classList)||Lt.add(...Ue["s-scs"]=[...er]),Ue["s-ol"]||At))for(const Jt of Array.from(Ue.childNodes))ct(Jt,Ue,!0)}},ur=(Ue,ot)=>{ot&&!Ue.$onRenderResolve$&&ot["s-p"]&&ot["s-p"].push(new Promise(At=>Ue.$onRenderResolve$=At))},vr=(Ue,ot)=>{if(Ue.$flags$|=16,!(4&Ue.$flags$))return ur(Ue,Ue.$ancestorComponent$),me(()=>Pr(Ue,ot));Ue.$flags$|=512},Pr=(Ue,ot)=>{const er=Ue.$lazyInstance$;if(!er)throw new Error(`Can't render component <${Ue.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Jt;return ot&&(Ue.$flags$|=256,Ue.$queuedListeners$&&(Ue.$queuedListeners$.map(([mr,Sr])=>bn(er,mr,Sr)),Ue.$queuedListeners$=void 0),Jt=bn(er,"componentWillLoad")),Jt=on(Jt,()=>bn(er,"componentWillRender")),on(Jt,()=>Nn(Ue,er,ot))},on=(Ue,ot)=>nn(Ue)?Ue.then(ot).catch(At=>{console.error(At),ot()}):ot(),nn=Ue=>Ue instanceof Promise||Ue&&Ue.then&&"function"==typeof Ue.then,Nn=function(){var Ue=(0,I.A)(function*(ot,At,Lt){var er;const Jt=ot.$hostElement$,Sr=Jt["s-rc"];Lt&&(Ue=>{const ot=Ue.$cmpMeta$,At=Ue.$hostElement$,Lt=ot.$flags$,Jt=Vt(At.shadowRoot?At.shadowRoot:At.getRootNode(),ot,Ue.$modeName$);10&Lt&&(At["s-sc"]=Jt,At.classList.add(Jt+"-h"),2&Lt&&At.classList.add(Jt+"-s"))})(ot);Dn(ot,At,Jt,Lt),Sr&&(Sr.map(Tr=>Tr()),Jt["s-rc"]=void 0);{const Tr=null!=(er=Jt["s-p"])?er:[],Ur=()=>Kr(ot);0===Tr.length?Ur():(Promise.all(Tr).then(Ur),ot.$flags$|=4,Tr.length=0)}});return function(At,Lt,er){return Ue.apply(this,arguments)}}(),Dn=(Ue,ot,At,Lt)=>{try{ot=ot.render&&ot.render(),Ue.$flags$&=-17,Ue.$flags$|=2,((Ue,ot,At=!1)=>{var Lt,er,Jt,mr,Sr;const Cr=Ue.$hostElement$,Tr=Ue.$cmpMeta$,Ur=Ue.$vnode$||hr(null,null),Fr=(Ue=>Ue&&Ue.$tag$===Ht)(ot)?ot:zt(null,null,ot);if(wr=Cr.tagName,Tr.$attrsToReflect$&&(Fr.$attrs$=Fr.$attrs$||{},Tr.$attrsToReflect$.map(([Gr,qr])=>Fr.$attrs$[qr]=Cr[Gr])),At&&Fr.$attrs$)for(const Gr of Object.keys(Fr.$attrs$))Cr.hasAttribute(Gr)&&!["key","ref","style","class"].includes(Gr)&&(Fr.$attrs$[Gr]=Cr[Gr]);if(Fr.$tag$=null,Fr.$flags$|=4,Ue.$vnode$=Fr,Fr.$elm$=Ur.$elm$=Cr.shadowRoot||Cr,lr=Cr["s-sc"],xr=!!(1&Tr.$flags$),yr=Cr["s-cr"],Mr=!1,Te(Ur,Fr,At),O.$flags$|=1,W){Wt(Fr.$elm$);for(const Gr of gt){const qr=Gr.$nodeToRelocate$;if(!qr["s-ol"]){const pn=X.createTextNode("");pn["s-nr"]=qr,qe(qr.parentNode,qr["s-ol"]=pn,qr)}}for(const Gr of gt){const qr=Gr.$nodeToRelocate$,pn=Gr.$slotRefNode$;if(pn){const _n=pn.parentNode;let wn=pn.nextSibling;if(wn&&1===wn.nodeType){let Un=null==(Lt=qr["s-ol"])?void 0:Lt.previousSibling;for(;Un;){let Rn=null!=(er=Un["s-nr"])?er:null;if(Rn&&Rn["s-sn"]===qr["s-sn"]&&_n===Rn.parentNode){for(Rn=Rn.nextSibling;Rn===qr||null!=Rn&&Rn["s-sr"];)Rn=null==Rn?void 0:Rn.nextSibling;if(!Rn||!Rn["s-nr"]){wn=Rn;break}}Un=Un.previousSibling}}(!wn&&_n!==qr.parentNode||qr.nextSibling!==wn)&&qr!==wn&&(qe(_n,qr,wn),1===qr.nodeType&&(qr.hidden=null!=(Jt=qr["s-ih"])&&Jt)),qr&&"function"==typeof pn["s-rf"]&&pn["s-rf"](qr)}else 1===qr.nodeType&&(At&&(qr["s-ih"]=null!=(mr=qr.hidden)&&mr),qr.hidden=!0)}}if(Mr&&Je(Fr.$elm$),O.$flags$&=-2,gt.length=0,2&Tr.$flags$)for(const Gr of Fr.$elm$.childNodes)Gr["s-hn"]!==wr&&!Gr["s-sh"]&&(At&&null==Gr["s-ih"]&&(Gr["s-ih"]=null!=(Sr=Gr.hidden)&&Sr),Gr.hidden=!0);yr=void 0})(Ue,ot,Lt)}catch(er){S(er,Ue.$hostElement$)}return null},Kr=Ue=>{const At=Ue.$hostElement$,er=Ue.$lazyInstance$,Jt=Ue.$ancestorComponent$;bn(er,"componentDidRender"),64&Ue.$flags$?bn(er,"componentDidUpdate"):(Ue.$flags$|=64,Ln(At),bn(er,"componentDidLoad"),Ue.$onReadyResolve$(At),Jt||Gn()),Ue.$onInstanceResolve$(At),Ue.$onRenderResolve$&&(Ue.$onRenderResolve$(),Ue.$onRenderResolve$=void 0),512&Ue.$flags$&&j(()=>vr(Ue,!1)),Ue.$flags$&=-517},yn=Ue=>{{const ot=v(Ue),At=ot.$hostElement$.isConnected;return At&&2==(18&ot.$flags$)&&vr(ot,!1),At}},Gn=Ue=>{Ln(X.documentElement),j(()=>Ct(k,"appload",{detail:{namespace:"ionic"}}))},bn=(Ue,ot,At)=>{if(Ue&&Ue[ot])try{return Ue[ot](At)}catch(Lt){S(Lt)}},Ln=Ue=>Ue.classList.add(("hydrated","hydrated")),wo=(Ue,ot,At)=>{var Lt,er;const Jt=Ue.prototype;if(ot.$members$||ot.$watchers$||Ue.watchers){Ue.watchers&&!ot.$watchers$&&(ot.$watchers$=Ue.watchers);const mr=Object.entries(null!=(Lt=ot.$members$)?Lt:{});if(mr.map(([Sr,[Cr]])=>{31&Cr||2&At&&32&Cr?Object.defineProperty(Jt,Sr,{get(){return((Ue,ot)=>v(this).$instanceValues$.get(ot))(0,Sr)},set(Tr){((Ue,ot,At,Lt)=>{const er=v(Ue);if(!er)throw new Error(`Couldn't find host element for "${Lt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Jt=er.$hostElement$,mr=er.$instanceValues$.get(ot),Sr=er.$flags$,Cr=er.$lazyInstance$;At=((Ue,ot)=>null==Ue||nt(Ue)?Ue:4&ot?"false"!==Ue&&(""===Ue||!!Ue):2&ot?parseFloat(Ue):1&ot?String(Ue):Ue)(At,Lt.$members$[ot][0]);const Tr=Number.isNaN(mr)&&Number.isNaN(At);if((!(8&Sr)||void 0===mr)&&At!==mr&&!Tr&&(er.$instanceValues$.set(ot,At),Cr)){if(Lt.$watchers$&&128&Sr){const Fr=Lt.$watchers$[ot];Fr&&Fr.map(Gr=>{try{Cr[Gr](At,mr,ot)}catch(qr){S(qr,Jt)}})}2==(18&Sr)&&vr(er,!1)}})(this,Sr,Tr,ot)},configurable:!0,enumerable:!0}):1&At&&64&Cr&&Object.defineProperty(Jt,Sr,{value(...Tr){var Ur;const Fr=v(this);return null==(Ur=null==Fr?void 0:Fr.$onInstancePromise$)?void 0:Ur.then(()=>{var Gr;return null==(Gr=Fr.$lazyInstance$)?void 0:Gr[Sr](...Tr)})}})}),1&At){const Sr=new Map;Jt.attributeChangedCallback=function(Cr,Tr,Ur){O.jmp(()=>{var Fr;const Gr=Sr.get(Cr);if(this.hasOwnProperty(Gr))Ur=this[Gr],delete this[Gr];else{if(Jt.hasOwnProperty(Gr)&&"number"==typeof this[Gr]&&this[Gr]==Ur)return;if(null==Gr){const qr=v(this),pn=null==qr?void 0:qr.$flags$;if(pn&&!(8&pn)&&128&pn&&Ur!==Tr){const _n=qr.$lazyInstance$,wn=null==(Fr=ot.$watchers$)?void 0:Fr[Cr];null==wn||wn.forEach(Un=>{null!=_n[Un]&&_n[Un].call(_n,Ur,Tr,Cr)})}return}}this[Gr]=(null!==Ur||"boolean"!=typeof this[Gr])&&Ur})},Ue.observedAttributes=Array.from(new Set([...Object.keys(null!=(er=ot.$watchers$)?er:{}),...mr.filter(([Cr,Tr])=>15&Tr[0]).map(([Cr,Tr])=>{var Ur;const Fr=Tr[1]||Cr;return Sr.set(Fr,Cr),512&Tr[0]&&(null==(Ur=ot.$attrsToReflect$)||Ur.push([Cr,Fr])),Fr})]))}}return Ue},Ro=function(){var Ue=(0,I.A)(function*(ot,At,Lt,er){let Jt;if(!(32&At.$flags$)){if(At.$flags$|=32,Lt.$lazyBundleId$){const Tr=((Ue,ot,At)=>{const Lt=Ue.$tagName$.replace(/-/g,"_"),er=Ue.$lazyBundleId$;if(!er)return;const Jt=w.get(er);return Jt?Jt[Lt]:_e(8996)(`./${er}.entry.js`).then(mr=>(w.set(er,mr),mr[Lt]),S)})(Lt);if(Tr&&"then"in Tr){const Fr=()=>{};Jt=yield Tr,Fr()}else Jt=Tr;if(!Jt)throw new Error(`Constructor for "${Lt.$tagName$}#${At.$modeName$}" was not found`);Jt.isProxied||(Lt.$watchers$=Jt.watchers,wo(Jt,Lt,2),Jt.isProxied=!0);const Ur=()=>{};At.$flags$|=8;try{new Jt(At)}catch(Fr){S(Fr)}At.$flags$&=-9,At.$flags$|=128,Ur(),No(At.$lazyInstance$)}else Jt=ot.constructor,customElements.whenDefined(ot.localName).then(()=>At.$flags$|=128);if(Jt&&Jt.style){let Tr;"string"==typeof Jt.style?Tr=Jt.style:"string"!=typeof Jt.style&&(At.$modeName$=(Ue=>a.map(ot=>ot(Ue)).find(ot=>!!ot))(ot),At.$modeName$&&(Tr=Jt.style[At.$modeName$]));const Ur=yt(Lt,At.$modeName$);if(!l.has(Ur)){const Fr=()=>{};Gt(Ur,Tr,!!(1&Lt.$flags$)),Fr()}}}const mr=At.$ancestorComponent$,Sr=()=>vr(At,!0);mr&&mr["s-rc"]?mr["s-rc"].push(Sr):Sr()});return function(At,Lt,er,Jt){return Ue.apply(this,arguments)}}(),No=Ue=>{bn(Ue,"connectedCallback")},Wn=Ue=>{const ot=Ue["s-cr"]=X.createComment("");ot["s-cn"]=!0,qe(Ue,ot,Ue.firstChild)},Vo=Ue=>{bn(Ue,"disconnectedCallback")},oo=function(){var Ue=(0,I.A)(function*(ot){if(!(1&O.$flags$)){const At=v(ot);At.$rmListeners$&&(At.$rmListeners$.map(Lt=>Lt()),At.$rmListeners$=void 0),null!=At&&At.$lazyInstance$?Vo(At.$lazyInstance$):null!=At&&At.$onReadyPromise$&&At.$onReadyPromise$.then(()=>Vo(At.$lazyInstance$))}});return function(At){return Ue.apply(this,arguments)}}(),vs=Ue=>{const ot=Ue.cloneNode;Ue.cloneNode=function(At){const Lt=this,er=Lt.shadowRoot&&J,Jt=ot.call(Lt,!!er&&At);if(!er&&At){let Sr,Cr,mr=0;const Tr=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;mr<Lt.childNodes.length;mr++)Sr=Lt.childNodes[mr]["s-nr"],Cr=Tr.every(Ur=>!Lt.childNodes[mr][Ur]),Sr&&(Jt.__appendChild?Jt.__appendChild(Sr.cloneNode(!0)):Jt.appendChild(Sr.cloneNode(!0))),Cr&&Jt.appendChild(Lt.childNodes[mr].cloneNode(!0))}return Jt}},ye=Ue=>{Ue.__appendChild=Ue.appendChild,Ue.appendChild=function(ot){const At=ot["s-sn"]=Yo(ot),Lt=As(this.childNodes,At,this.tagName);if(Lt){const er=Ms(Lt,At),Jt=er[er.length-1],mr=qe(Jt.parentNode,ot,Jt.nextSibling);return Je(this),mr}return this.__appendChild(ot)}},ze=Ue=>{Ue.__removeChild=Ue.removeChild,Ue.removeChild=function(ot){if(ot&&typeof ot["s-sn"]<"u"){const At=As(this.childNodes,ot["s-sn"],this.tagName);if(At){const er=Ms(At,ot["s-sn"]).find(Jt=>Jt===ot);if(er)return er.remove(),void Je(this)}}return this.__removeChild(ot)}},ht=Ue=>{const ot=Ue.prepend;Ue.prepend=function(...At){At.forEach(Lt=>{"string"==typeof Lt&&(Lt=this.ownerDocument.createTextNode(Lt));const er=Lt["s-sn"]=Yo(Lt),Jt=As(this.childNodes,er,this.tagName);if(Jt){const mr=document.createTextNode("");mr["s-nr"]=Lt,Jt["s-cr"].parentNode.__appendChild(mr),Lt["s-ol"]=mr;const Cr=Ms(Jt,er)[0];return qe(Cr.parentNode,Lt,Cr.nextSibling)}return 1===Lt.nodeType&&Lt.getAttribute("slot")&&(Lt.hidden=!0),ot.call(this,Lt)})}},Ee=Ue=>{Ue.append=function(...ot){ot.forEach(At=>{"string"==typeof At&&(At=this.ownerDocument.createTextNode(At)),this.appendChild(At)})}},mt=Ue=>{const ot=Ue.insertAdjacentHTML;Ue.insertAdjacentHTML=function(At,Lt){if("afterbegin"!==At&&"beforeend"!==At)return ot.call(this,At,Lt);const er=this.ownerDocument.createElement("_");let Jt;if(er.innerHTML=Lt,"afterbegin"===At)for(;Jt=er.firstChild;)this.prepend(Jt);else if("beforeend"===At)for(;Jt=er.firstChild;)this.append(Jt)}},Qt=Ue=>{Ue.insertAdjacentText=function(ot,At){this.insertAdjacentHTML(ot,At)}},hn=Ue=>{const ot=Ue.insertAdjacentElement;Ue.insertAdjacentElement=function(At,Lt){return"afterbegin"!==At&&"beforeend"!==At?ot.call(this,At,Lt):"afterbegin"===At?(this.prepend(Lt),Lt):("beforeend"===At&&this.append(Lt),Lt)}},Fn=Ue=>{const ot=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Ue,"__textContent",ot),Object.defineProperty(Ue,"textContent",{get(){return" "+ts(this.childNodes).map(er=>{var Jt,mr;const Sr=[];let Cr=er.nextSibling;for(;Cr&&Cr["s-sn"]===er["s-sn"];)(3===Cr.nodeType||1===Cr.nodeType)&&Sr.push(null!=(mr=null==(Jt=Cr.textContent)?void 0:Jt.trim())?mr:""),Cr=Cr.nextSibling;return Sr.filter(Tr=>""!==Tr).join(" ")}).filter(er=>""!==er).join(" ")+" "},set(At){ts(this.childNodes).forEach(er=>{let Jt=er.nextSibling;for(;Jt&&Jt["s-sn"]===er["s-sn"];){const mr=Jt;Jt=Jt.nextSibling,mr.remove()}if(""===er["s-sn"]){const mr=this.ownerDocument.createTextNode(At);mr["s-sn"]="",qe(er.parentElement,mr,er.nextSibling)}else er.remove()})}})},mo=(Ue,ot)=>{class At extends Array{item(er){return this[er]}}if(8&ot.$flags$){const Lt=Ue.__lookupGetter__("childNodes");Object.defineProperty(Ue,"children",{get(){return this.childNodes.map(er=>1===er.nodeType)}}),Object.defineProperty(Ue,"childElementCount",{get:()=>Ue.children.length}),Object.defineProperty(Ue,"childNodes",{get(){const er=Lt.call(this);if(!(1&O.$flags$)&&2&v(this).$flags$){const Jt=new At;for(let mr=0;mr<er.length;mr++){const Sr=er[mr]["s-nr"];Sr&&Jt.push(Sr)}return Jt}return At.from(er)}})}},ts=Ue=>{const ot=[];for(const At of Array.from(Ue))At["s-sr"]&&ot.push(At),ot.push(...ts(At.childNodes));return ot},Yo=Ue=>Ue["s-sn"]||1===Ue.nodeType&&Ue.getAttribute("slot")||"",As=(Ue,ot,At)=>{let er,Lt=0;for(;Lt<Ue.length;Lt++)if(er=Ue[Lt],er["s-sr"]&&er["s-sn"]===ot&&er["s-hn"]===At||(er=As(er.childNodes,ot,At),er))return er;return null},Ms=(Ue,ot)=>{const At=[Ue];for(;(Ue=Ue.nextSibling)&&Ue["s-sn"]===ot;)At.push(Ue);return At},Is=(Ue,ot={})=>{var At;const er=[],Jt=ot.exclude||[],mr=k.customElements,Sr=X.head,Cr=Sr.querySelector("meta[charset]"),Tr=X.createElement("style"),Ur=[],Fr=X.querySelectorAll(`[${y}]`);let Gr,qr=!0,pn=0;for(Object.assign(O,ot),O.$resourcesUrl$=new URL(ot.resourcesUrl||"./",X.baseURI).href,O.$flags$|=2;pn<Fr.length;pn++)Gt(Fr[pn].getAttribute(y),Nt(Fr[pn].innerHTML),!0);let _n=!1;if(Ue.map(wn=>{wn[1].map(Un=>{var Rn;const kr={$flags$:Un[0],$tagName$:Un[1],$members$:Un[2],$listeners$:Un[3]};4&kr.$flags$&&(_n=!0),kr.$members$=Un[2],kr.$listeners$=Un[3],kr.$attrsToReflect$=[],kr.$watchers$=null!=(Rn=Un[4])?Rn:{};const go=kr.$tagName$,Lo=class extends HTMLElement{constructor(Pn){if(super(Pn),this.hasRegisteredEventListeners=!1,((Ue,ot)=>{const At={$flags$:0,$hostElement$:Ue,$cmpMeta$:ot,$instanceValues$:new Map};At.$onInstancePromise$=new Promise(Lt=>At.$onInstanceResolve$=Lt),At.$onReadyPromise$=new Promise(Lt=>At.$onReadyResolve$=Lt),Ue["s-p"]=[],Ue["s-rc"]=[],B.set(Ue,At)})(Pn=this,kr),1&kr.$flags$)if(Pn.shadowRoot){if("open"!==Pn.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${kr.$tagName$}! Mode is set to ${Pn.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Pn.attachShadow({mode:"open",delegatesFocus:!!(16&kr.$flags$)})}connectedCallback(){const Pn=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,js(this,Pn,kr.$listeners$)),Gr&&(clearTimeout(Gr),Gr=null),qr?Ur.push(this):O.jmp(()=>(Ue=>{if(!(1&O.$flags$)){const ot=v(Ue),At=ot.$cmpMeta$,Lt=()=>{};if(1&ot.$flags$)js(Ue,ot,At.$listeners$),null!=ot&&ot.$lazyInstance$?No(ot.$lazyInstance$):null!=ot&&ot.$onReadyPromise$&&ot.$onReadyPromise$.then(()=>No(ot.$lazyInstance$));else{let er;if(ot.$flags$|=1,er=Ue.getAttribute(p),er){if(1&At.$flags$){const Jt=Vt(Ue.shadowRoot,At,Ue.getAttribute("s-mode"));Ue.classList.remove(Jt+"-h",Jt+"-s")}((Ue,ot,At,Lt)=>{const Jt=Ue.shadowRoot,mr=[],Cr=Jt?[]:null,Tr=Lt.$vnode$=hr(ot,null);O.$orgLocNodes$||Ve(X.body,O.$orgLocNodes$=new Map),Ue[p]=At,Ue.removeAttribute(p),$t(Tr,mr,[],Cr,Ue,Ue,At),mr.map(Ur=>{const Fr=Ur.$hostId$+"."+Ur.$nodeId$,Gr=O.$orgLocNodes$.get(Fr),qr=Ur.$elm$;Gr&&""===Gr["s-en"]&&Gr.parentNode.insertBefore(qr,Gr.nextSibling),Jt||(qr["s-hn"]=ot,Gr&&(qr["s-ol"]=Gr,qr["s-ol"]["s-nr"]=qr)),O.$orgLocNodes$.delete(Fr)}),Jt&&Cr.map(Ur=>{Ur&&Jt.appendChild(Ur)})})(Ue,At.$tagName$,er,ot)}er||12&At.$flags$&&Wn(Ue);{let Jt=Ue;for(;Jt=Jt.parentNode||Jt.host;)if(1===Jt.nodeType&&Jt.hasAttribute("s-id")&&Jt["s-p"]||Jt["s-p"]){ur(ot,ot.$ancestorComponent$=Jt);break}}At.$members$&&Object.entries(At.$members$).map(([Jt,[mr]])=>{if(31&mr&&Ue.hasOwnProperty(Jt)){const Sr=Ue[Jt];delete Ue[Jt],Ue[Jt]=Sr}}),Ro(Ue,ot,At)}Lt()}})(this))}disconnectedCallback(){O.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&kr.$flags$&&((Ue,ot)=>{vs(Ue),ye(Ue),Ee(Ue),ht(Ue),hn(Ue),mt(Ue),Qt(Ue),Fn(Ue),mo(Ue,ot),ze(Ue)})(Lo.prototype,kr),kr.$lazyBundleId$=wn[0],!Jt.includes(go)&&!mr.get(go)&&(er.push(go),mr.define(go,wo(Lo,kr,1)))})}),er.length>0&&(_n&&(Tr.textContent+=G),Tr.textContent+=er.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Tr.innerHTML.length)){Tr.setAttribute("data-styles","");const wn=null!=(At=O.$nonce$)?At:at(X);null!=wn&&Tr.setAttribute("nonce",wn),Sr.insertBefore(Tr,Cr?Cr.nextSibling:Sr.firstChild)}qr=!1,Ur.length?Ur.map(wn=>wn.connectedCallback()):O.jmp(()=>Gr=setTimeout(Gn,30))},js=(Ue,ot,At,Lt)=>{At&&At.map(([er,Jt,mr])=>{const Sr=Ao(Ue,er),Cr=So(ot,mr),Tr=Yn(er);O.ael(Sr,Jt,Cr,Tr),(ot.$rmListeners$=ot.$rmListeners$||[]).push(()=>O.rel(Sr,Jt,Cr,Tr))})},So=(Ue,ot)=>At=>{var Lt;try{256&Ue.$flags$?null==(Lt=Ue.$lazyInstance$)||Lt[ot](At):(Ue.$queuedListeners$=Ue.$queuedListeners$||[]).push([ot,At])}catch(er){S(er)}},Ao=(Ue,ot)=>4&ot?X:8&ot?k:16&ot?X.body:Ue,Yn=Ue=>re?{passive:!!(1&Ue),capture:!!(2&Ue)}:!!(2&Ue)},1331:(Dr,rr,_e)=>{"use strict";_e.d(rr,{b:()=>v,c:()=>_,d:()=>f,e:()=>J,g:()=>Q,l:()=>O,s:()=>re,t:()=>d,w:()=>P});var I=_e(467),M=_e(4921),et=_e(8393),St=_e(4929),o=_e(4920);const v="ionViewWillLeave",_="ionViewDidLeave",f="ionViewWillUnload",m=V=>{V.tabIndex=-1,V.focus()},S=V=>null!==V.offsetParent,i="ion-last-focus",u_saveViewFocus=Z=>{if(M.c.get("focusManagerPriority",!1)){const xe=document.activeElement;null!==xe&&null!=Z&&Z.contains(xe)&&xe.setAttribute(i,"true")}},u_setViewFocus=Z=>{const le=M.c.get("focusManagerPriority",!1);if(Array.isArray(le)&&!Z.contains(document.activeElement)){const xe=Z.querySelector(`[${i}]`);if(xe&&S(xe))return void m(xe);for(const q of le)switch(q){case"content":const j=Z.querySelector('main, [role="main"]');if(j&&S(j))return void m(j);break;case"heading":const oe=Z.querySelector('h1, [role="heading"][aria-level="1"]');if(oe&&S(oe))return void m(oe);break;case"banner":const me=Z.querySelector('header, [role="banner"]');if(me&&S(me))return void m(me);break;default:(0,St.p)(`Unrecognized focus manager priority value ${q}`)}m(Z)}},d=V=>new Promise((H,Z)=>{(0,et.w)(()=>{h(V),g(V).then(le=>{le.animation&&le.animation.destroy(),p(V),H(le)},le=>{p(V),Z(le)})})}),h=V=>{const H=V.enteringEl,Z=V.leavingEl;u_saveViewFocus(Z),$(H,Z,V.direction),V.showGoBack?H.classList.add("can-go-back"):H.classList.remove("can-go-back"),re(H,!1),H.style.setProperty("pointer-events","none"),Z&&(re(Z,!1),Z.style.setProperty("pointer-events","none"))},g=function(){var V=(0,I.A)(function*(H){const Z=yield y(H);return Z&&et.B.isBrowser?T(Z,H):z(H)});return function(Z){return V.apply(this,arguments)}}(),p=V=>{const H=V.enteringEl,Z=V.leavingEl;H.classList.remove("ion-page-invisible"),H.style.removeProperty("pointer-events"),void 0!==Z&&(Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events")),u_setViewFocus(H)},y=function(){var V=(0,I.A)(function*(H){return H.leavingEl&&H.animated&&0!==H.duration?H.animationBuilder?H.animationBuilder:"ios"===H.mode?(yield Promise.resolve().then(_e.bind(_e,9856))).iosTransitionAnimation:(yield Promise.resolve().then(_e.bind(_e,361))).mdTransitionAnimation:void 0});return function(Z){return V.apply(this,arguments)}}(),T=function(){var V=(0,I.A)(function*(H,Z){yield G(Z,!0);const le=H(Z.baseEl,Z);X(Z.enteringEl,Z.leavingEl);const xe=yield k(le,Z);return Z.progressCallback&&Z.progressCallback(void 0),xe&&D(Z.enteringEl,Z.leavingEl),{hasCompleted:xe,animation:le}});return function(Z,le){return V.apply(this,arguments)}}(),z=function(){var V=(0,I.A)(function*(H){const Z=H.enteringEl,le=H.leavingEl,xe=M.c.get("focusManagerPriority",!1);return yield G(H,xe),X(Z,le),D(Z,le),{hasCompleted:!0}});return function(Z){return V.apply(this,arguments)}}(),G=function(){var V=(0,I.A)(function*(H,Z){(void 0!==H.deepWait?H.deepWait:Z)&&(yield Promise.all([J(H.enteringEl),J(H.leavingEl)])),yield N(H.viewIsReady,H.enteringEl)});return function(Z,le){return V.apply(this,arguments)}}(),N=function(){var V=(0,I.A)(function*(H,Z){H&&(yield H(Z))});return function(Z,le){return V.apply(this,arguments)}}(),k=(V,H)=>{const Z=H.progressCallback,le=new Promise(xe=>{V.onFinish(q=>xe(1===q))});return Z?(V.progressStart(!0),Z(V)):V.play(),le},X=(V,H)=>{O(H,v),O(V,"ionViewWillEnter")},D=(V,H)=>{O(V,"ionViewDidEnter"),O(H,_)},O=(V,H)=>{if(V){const Z=new CustomEvent(H,{bubbles:!1,cancelable:!1});V.dispatchEvent(Z)}},P=()=>new Promise(V=>(0,o.r)(()=>(0,o.r)(()=>V()))),J=function(){var V=(0,I.A)(function*(H){const Z=H;if(Z){if(null!=Z.componentOnReady){if(null!=(yield Z.componentOnReady()))return}else if(null!=Z.__registerHost)return void(yield new Promise(xe=>(0,o.r)(xe)));yield Promise.all(Array.from(Z.children).map(J))}});return function(Z){return V.apply(this,arguments)}}(),re=(V,H)=>{H?(V.setAttribute("aria-hidden","true"),V.classList.add("ion-page-hidden")):(V.hidden=!1,V.removeAttribute("aria-hidden"),V.classList.remove("ion-page-hidden"))},$=(V,H,Z)=>{void 0!==V&&(V.style.zIndex="back"===Z?"99":"101"),void 0!==H&&(H.style.zIndex="100")},Q=V=>V.classList.contains("ion-page")?V:V.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||V},4929:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>M,b:()=>et,p:()=>I});const I=(St,...o)=>console.warn(`[Ionic Warning]: ${St}`,...o),M=(St,...o)=>console.error(`[Ionic Error]: ${St}`,...o),et=(St,...o)=>console.error(`<${St.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(Dr,rr,_e)=>{"use strict";_e.d(rr,{d:()=>M,w:()=>I});const I=typeof window<"u"?window:void 0,M=typeof document<"u"?document:void 0},617:(Dr,rr,_e)=>{"use strict";_e.d(rr,{FJ:()=>f.l,JI:()=>I.c,NC:()=>et.iosTransitionAnimation,OZ:()=>f.m,QX:()=>v.s,TN:()=>f.a,V5:()=>St.mdTransitionAnimation,Vk:()=>v.I,mF:()=>f.c,sE:()=>o.g});var I=_e(9986),et=(_e(1331),_e(9856)),St=_e(361),o=_e(3351),v=(_e(8607),_e(4921),_e(464)),f=(_e(6073),_e(1070));_e(8476),_e(8393),_e(1970),_e(8669)},4921:(Dr,rr,_e)=>{"use strict";_e.d(rr,{a:()=>m,b:()=>re,c:()=>et,i:()=>$});var I=_e(8393);class M{constructor(){this.m=new Map}reset(V){this.m=new Map(Object.entries(V))}get(V,H){const Z=this.m.get(V);return void 0!==Z?Z:H}getBoolean(V,H=!1){const Z=this.m.get(V);return void 0===Z?H:"string"==typeof Z?"true"===Z:!!Z}getNumber(V,H){const Z=parseFloat(this.m.get(V));return isNaN(Z)?void 0!==H?H:NaN:Z}set(V,H){this.m.set(V,H)}}const et=new M,v="ionic:",_="ionic-persist-config",m=(Q,V)=>("string"==typeof Q&&(V=Q,Q=void 0),(Q=>S(Q))(Q).includes(V)),S=(Q=window)=>{if(typeof Q>"u")return[];Q.Ionic=Q.Ionic||{};let V=Q.Ionic.platforms;return null==V&&(V=Q.Ionic.platforms=w(Q),V.forEach(H=>Q.document.documentElement.classList.add(`plt-${H}`))),V},w=Q=>{const V=et.get("platform");return Object.keys(P).filter(H=>{const Z=null==V?void 0:V[H];return"function"==typeof Z?Z(Q):P[H](Q)})},l=Q=>!!(D(Q,/iPad/i)||D(Q,/Macintosh/i)&&y(Q)),d=Q=>D(Q,/android|sink/i),y=Q=>O(Q,"(any-pointer:coarse)"),z=Q=>G(Q)||N(Q),G=Q=>!!(Q.cordova||Q.phonegap||Q.PhoneGap),N=Q=>{const V=Q.Capacitor;return!(null==V||!V.isNative)},D=(Q,V)=>V.test(Q.navigator.userAgent),O=(Q,V)=>{var H;return null===(H=Q.matchMedia)||void 0===H?void 0:H.call(Q,V).matches},P={ipad:l,iphone:Q=>D(Q,/iPhone/i),ios:Q=>D(Q,/iPhone|iPod/i)||l(Q),android:d,phablet:Q=>{const V=Q.innerWidth,H=Q.innerHeight,Z=Math.min(V,H),le=Math.max(V,H);return Z>390&&Z<520&&le>620&&le<800},tablet:Q=>{const V=Q.innerWidth,H=Q.innerHeight,Z=Math.min(V,H),le=Math.max(V,H);return l(Q)||(Q=>d(Q)&&!D(Q,/mobile/i))(Q)||Z>460&&Z<820&&le>780&&le<1400},cordova:G,capacitor:N,electron:Q=>D(Q,/electron/i),pwa:Q=>{var V;return!!(null!==(V=Q.matchMedia)&&void 0!==V&&V.call(Q,"(display-mode: standalone)").matches||Q.navigator.standalone)},mobile:y,mobileweb:Q=>y(Q)&&!z(Q),desktop:Q=>!y(Q),hybrid:z};let J;const re=Q=>Q&&(0,I.g)(Q)||J,$=(Q={})=>{if(typeof window>"u")return;const V=window.document,H=window,Z=H.Ionic=H.Ionic||{},le={};Q._ael&&(le.ael=Q._ael),Q._rel&&(le.rel=Q._rel),Q._ce&&(le.ce=Q._ce),(0,I.a)(le);const xe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Q=>{try{const V=Q.sessionStorage.getItem(_);return null!==V?JSON.parse(V):{}}catch{return{}}})(H)),{persistConfig:!1}),Z.config),(Q=>{const V={};return Q.location.search.slice(1).split("&").map(H=>H.split("=")).map(([H,Z])=>{try{return[decodeURIComponent(H),decodeURIComponent(Z)]}catch{return["",""]}}).filter(([H])=>((Q,V)=>Q.substr(0,V.length)===V)(H,v)).map(([H,Z])=>[H.slice(6),Z]).forEach(([H,Z])=>{V[H]=Z}),V})(H)),Q);et.reset(xe),et.getBoolean("persistConfig")&&((Q,V)=>{try{Q.sessionStorage.setItem(_,JSON.stringify(V))}catch{return}})(H,xe),S(H),Z.config=et,Z.mode=J=et.get("mode",V.documentElement.getAttribute("mode")||(m(H,"ios")?"ios":"md")),et.set("mode",J),V.documentElement.setAttribute("mode",J),V.documentElement.classList.add(J),et.getBoolean("_testing")&&et.set("animated",!1);const q=oe=>{var me;return null===(me=oe.tagName)||void 0===me?void 0:me.startsWith("ION-")},j=oe=>["ios","md"].includes(oe);(0,I.c)(oe=>{for(;oe;){const me=oe.mode||oe.getAttribute("mode");if(me){if(j(me))return me;q(oe)&&console.warn('Invalid ionic mode: "'+me+'", expected: "ios" or "md"')}oe=oe.parentElement}return J})}},9856:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{iosTransitionAnimation:()=>i,shadow:()=>v});var I=_e(9986),M=_e(1331);_e(8476),_e(4921),_e(8393);const B=a=>document.querySelector(`${a}.ion-cloned-element`),v=a=>a.shadowRoot||a,_=a=>{const u="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),d="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=u){const h=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=h?h.querySelector(d):null}return a.querySelector(d)},f=(a,u)=>{const d="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let h=[];if(null!=d){const g=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=g&&(h=g.querySelectorAll("ion-buttons"))}else h=a.querySelectorAll("ion-buttons");for(const g of h){const p=g.closest("ion-header"),y=p&&!p.classList.contains("header-collapse-condense-inactive"),T=g.querySelector("ion-back-button"),z=g.classList.contains("buttons-collapse");if(null!==T&&("start"===g.slot||""===g.slot)&&(z&&y&&u||!z))return T}return null},S=(a,u,d,h,g,p,y,T,z)=>{var G,N;const k=u?`calc(100% - ${g.right+4}px)`:g.left-4+"px",X=u?"right":"left",D=u?"left":"right",O=u?"right":"left";let P=1,J=1,re=`scale(${J})`;const $="scale(1)";if(p&&y){const Ze=(null===(G=p.textContent)||void 0===G?void 0:G.trim())===(null===(N=T.textContent)||void 0===N?void 0:N.trim());P=z.width/y.width,J=(z.height-l)/y.height,re=Ze?`scale(${P}, ${J})`:`scale(${J})`}const V=v(h).querySelector("ion-icon").getBoundingClientRect(),H=u?V.width/2-(V.right-g.right)+"px":g.left-V.width/2+"px",Z=u?`-${window.innerWidth-g.right}px`:`${g.left}px`,le=`${z.top}px`,xe=`${g.top}px`,oe=d?[{offset:0,transform:`translate3d(${Z}, ${xe}, 0)`},{offset:1,transform:`translate3d(${H}, ${le}, 0)`}]:[{offset:0,transform:`translate3d(${H}, ${le}, 0)`},{offset:1,transform:`translate3d(${Z}, ${xe}, 0)`}],Le=d?[{offset:0,opacity:1,transform:$},{offset:1,opacity:0,transform:re}]:[{offset:0,opacity:0,transform:re},{offset:1,opacity:1,transform:$}],He=d?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],nt=(0,I.c)(),at=(0,I.c)(),Be=(0,I.c)(),st=B("ion-back-button"),Ye=v(st).querySelector(".button-text"),it=v(st).querySelector("ion-icon");st.text=h.text,st.mode=h.mode,st.icon=h.icon,st.color=h.color,st.disabled=h.disabled,st.style.setProperty("display","block"),st.style.setProperty("position","fixed"),at.addElement(it),nt.addElement(Ye),Be.addElement(st),Be.beforeStyles({position:"absolute",top:"0px",[O]:"0px"}).beforeAddWrite(()=>{h.style.setProperty("display","none"),st.style.setProperty(X,k)}).afterAddWrite(()=>{h.style.setProperty("display",""),st.style.setProperty("display","none"),st.style.removeProperty(X)}).keyframes(oe),nt.beforeStyles({"transform-origin":`${X} top`}).keyframes(Le),at.beforeStyles({"transform-origin":`${D} center`}).keyframes(He),a.addAnimation([nt,at,Be])},w=(a,u,d,h,g,p,y,T,z)=>{var G,N;const k=u?"right":"left",X=u?`calc(100% - ${g.right}px)`:`${g.left}px`,O=`${g.top}px`;let J=u?`-${window.innerWidth-y.right-8}px`:`${y.x+8}px`,re=.5;const $="scale(1)";let Q=`scale(${re})`;if(T&&z){J=u?`-${window.innerWidth-z.right-8}px`:z.x-8+"px";const me=(null===(G=T.textContent)||void 0===G?void 0:G.trim())===(null===(N=h.textContent)||void 0===N?void 0:N.trim());re=z.height/(p.height-l),Q=me?`scale(${z.width/p.width}, ${re})`:`scale(${re})`}const Z=y.top+y.height/2-g.height*re/2+"px",q=d?[{offset:0,opacity:0,transform:`translate3d(${J}, ${Z}, 0) ${Q}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${O}, 0) ${$}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${O}, 0) ${$}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${Z}, 0) ${Q}`}],j=B("ion-title"),oe=(0,I.c)();j.innerText=h.innerText,j.size=h.size,j.color=h.color,oe.addElement(j),oe.beforeStyles({"transform-origin":`${k} top`,height:`${g.height}px`,display:"",position:"relative",[k]:X}).beforeAddWrite(()=>{h.style.setProperty("opacity","0")}).afterAddWrite(()=>{h.style.setProperty("opacity",""),j.style.setProperty("display","none")}).keyframes(q),a.addAnimation(oe)},i=(a,u)=>{var d;try{const h="cubic-bezier(0.32,0.72,0,1)",g="opacity",p="transform",y="0%",z="rtl"===a.ownerDocument.dir,G=z?"-99.5%":"99.5%",N=z?"33%":"-33%",k=u.enteringEl,X=u.leavingEl,D="back"===u.direction,O=k.querySelector(":scope > ion-content"),P=k.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),J=k.querySelectorAll(":scope > ion-header > ion-toolbar"),re=(0,I.c)(),$=(0,I.c)();if(re.addElement(k).duration((null!==(d=u.duration)&&void 0!==d?d:0)||540).easing(u.easing||h).fill("both").beforeRemoveClass("ion-page-invisible"),X&&null!=a){const Z=(0,I.c)();Z.addElement(a),re.addAnimation(Z)}if(O||0!==J.length||0!==P.length?($.addElement(O),$.addElement(P)):$.addElement(k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),re.addAnimation($),D?$.beforeClearStyles([g]).fromTo("transform",`translateX(${N})`,`translateX(${y})`).fromTo(g,.8,1):$.beforeClearStyles([g]).fromTo("transform",`translateX(${G})`,`translateX(${y})`),O){const Z=v(O).querySelector(".transition-effect");if(Z){const le=Z.querySelector(".transition-cover"),xe=Z.querySelector(".transition-shadow"),q=(0,I.c)(),j=(0,I.c)(),oe=(0,I.c)();q.addElement(Z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),j.addElement(le).beforeClearStyles([g]).fromTo(g,0,.1),oe.addElement(xe).beforeClearStyles([g]).fromTo(g,.03,.7),q.addAnimation([j,oe]),$.addAnimation([q])}}const Q=k.querySelector("ion-header.header-collapse-condense"),{forward:V,backward:H}=((a,u,d,h,g)=>{const p=f(h,d),y=_(g),T=_(h),z=f(g,d),G=null!==p&&null!==y&&!d,N=null!==T&&null!==z&&d;if(G){const k=y.getBoundingClientRect(),X=p.getBoundingClientRect(),D=v(p).querySelector(".button-text"),O=null==D?void 0:D.getBoundingClientRect(),J=v(y).querySelector(".toolbar-title").getBoundingClientRect();w(a,u,d,y,k,J,X,D,O),S(a,u,d,p,X,D,O,y,J)}else if(N){const k=T.getBoundingClientRect(),X=z.getBoundingClientRect(),D=v(z).querySelector(".button-text"),O=null==D?void 0:D.getBoundingClientRect(),J=v(T).querySelector(".toolbar-title").getBoundingClientRect();w(a,u,d,T,k,J,X,D,O),S(a,u,d,z,X,D,O,T,J)}return{forward:G,backward:N}})(re,z,D,k,X);if(J.forEach(Z=>{const le=(0,I.c)();le.addElement(Z),re.addAnimation(le);const xe=(0,I.c)();xe.addElement(Z.querySelector("ion-title"));const q=(0,I.c)(),j=Array.from(Z.querySelectorAll("ion-buttons,[menuToggle]")),oe=Z.closest("ion-header"),me=null==oe?void 0:oe.classList.contains("header-collapse-condense-inactive");let Se;Se=j.filter(D?nt=>{const at=nt.classList.contains("buttons-collapse");return at&&!me||!at}:nt=>!nt.classList.contains("buttons-collapse")),q.addElement(Se);const Le=(0,I.c)();Le.addElement(Z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xe=(0,I.c)();Xe.addElement(v(Z).querySelector(".toolbar-background"));const lt=(0,I.c)(),He=Z.querySelector("ion-back-button");if(He&&lt.addElement(He),le.addAnimation([xe,q,Le,Xe,lt]),q.fromTo(g,.01,1),Le.fromTo(g,.01,1),D)me||xe.fromTo("transform",`translateX(${N})`,`translateX(${y})`).fromTo(g,.01,1),Le.fromTo("transform",`translateX(${N})`,`translateX(${y})`),lt.fromTo(g,.01,1);else if(Q||xe.fromTo("transform",`translateX(${G})`,`translateX(${y})`).fromTo(g,.01,1),Le.fromTo("transform",`translateX(${G})`,`translateX(${y})`),Xe.beforeClearStyles([g,"transform"]),(null==oe?void 0:oe.translucent)?Xe.fromTo("transform",z?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xe.fromTo(g,.01,"var(--opacity)"),V||lt.fromTo(g,.01,1),He&&!V){const at=(0,I.c)();at.addElement(v(He).querySelector(".button-text")).fromTo("transform",z?"translateX(-100px)":"translateX(100px)","translateX(0px)"),le.addAnimation(at)}}),X){const Z=(0,I.c)(),le=X.querySelector(":scope > ion-content"),xe=X.querySelectorAll(":scope > ion-header > ion-toolbar"),q=X.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(le||0!==xe.length||0!==q.length?(Z.addElement(le),Z.addElement(q)):Z.addElement(X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),re.addAnimation(Z),D){Z.beforeClearStyles([g]).fromTo("transform",`translateX(${y})`,z?"translateX(-100%)":"translateX(100%)");const j=(0,M.g)(X);re.afterAddWrite(()=>{"normal"===re.getDirection()&&j.style.setProperty("display","none")})}else Z.fromTo("transform",`translateX(${y})`,`translateX(${N})`).fromTo(g,1,.8);if(le){const j=v(le).querySelector(".transition-effect");if(j){const oe=j.querySelector(".transition-cover"),me=j.querySelector(".transition-shadow"),Se=(0,I.c)(),Le=(0,I.c)(),Xe=(0,I.c)();Se.addElement(j).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Le.addElement(oe).beforeClearStyles([g]).fromTo(g,.1,0),Xe.addElement(me).beforeClearStyles([g]).fromTo(g,.7,.03),Se.addAnimation([Le,Xe]),Z.addAnimation([Se])}}xe.forEach(j=>{const oe=(0,I.c)();oe.addElement(j);const me=(0,I.c)();me.addElement(j.querySelector("ion-title"));const Se=(0,I.c)(),Le=j.querySelectorAll("ion-buttons,[menuToggle]"),Xe=j.closest("ion-header"),lt=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive"),He=Array.from(Le).filter(it=>{const Ze=it.classList.contains("buttons-collapse");return Ze&&!lt||!Ze});Se.addElement(He);const nt=(0,I.c)(),at=j.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");at.length>0&&nt.addElement(at);const Be=(0,I.c)();Be.addElement(v(j).querySelector(".toolbar-background"));const st=(0,I.c)(),Ye=j.querySelector("ion-back-button");if(Ye&&st.addElement(Ye),oe.addAnimation([me,Se,nt,st,Be]),re.addAnimation(oe),st.fromTo(g,.99,0),Se.fromTo(g,.99,0),nt.fromTo(g,.99,0),D){if(lt||me.fromTo("transform",`translateX(${y})`,z?"translateX(-100%)":"translateX(100%)").fromTo(g,.99,0),nt.fromTo("transform",`translateX(${y})`,z?"translateX(-100%)":"translateX(100%)"),Be.beforeClearStyles([g,"transform"]),(null==Xe?void 0:Xe.translucent)?Be.fromTo("transform","translateX(0px)",z?"translateX(-100%)":"translateX(100%)"):Be.fromTo(g,"var(--opacity)",0),Ye&&!H){const Ze=(0,I.c)();Ze.addElement(v(Ye).querySelector(".button-text")).fromTo("transform",`translateX(${y})`,`translateX(${(z?-124:124)+"px"})`),oe.addAnimation(Ze)}}else lt||me.fromTo("transform",`translateX(${y})`,`translateX(${N})`).fromTo(g,.99,0).afterClearStyles([p,g]),nt.fromTo("transform",`translateX(${y})`,`translateX(${N})`).afterClearStyles([p,g]),st.afterClearStyles([g]),me.afterClearStyles([g]),Se.afterClearStyles([g])})}return re}catch(h){throw h}},l=10},361:(Dr,rr,_e)=>{"use strict";_e.r(rr),_e.d(rr,{mdTransitionAnimation:()=>ie});var I=_e(9986),M=_e(1331);_e(8476),_e(4921),_e(8393);const ie=(B,v)=>{var _,f,m;const S="40px",i="back"===v.direction,a=v.leavingEl,u=(0,M.g)(v.enteringEl),d=u.querySelector("ion-toolbar"),h=(0,I.c)();if(h.addElement(u).fill("both").beforeRemoveClass("ion-page-invisible"),i?h.duration((null!==(_=v.duration)&&void 0!==_?_:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):h.duration((null!==(f=v.duration)&&void 0!==f?f:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${S})`,"translateY(0px)").fromTo("opacity",.01,1),d){const g=(0,I.c)();g.addElement(d),h.addAnimation(g)}if(a&&i){h.duration((null!==(m=v.duration)&&void 0!==m?m:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const g=(0,I.c)();g.addElement((0,M.g)(a)).onFinish(p=>{1===p&&g.elements.length>0&&g.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${S})`).fromTo("opacity",1,0),h.addAnimation(g)}return h}},1070:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>Le,F:()=>st,G:()=>Xe,O:()=>lt,a:()=>u,b:()=>d,c:()=>y,d:()=>He,e:()=>nt,f:()=>V,g:()=>Z,h:()=>q,i:()=>oe,j:()=>z,k:()=>G,l:()=>h,m:()=>g,n:()=>f,o:()=>$,q:()=>m,s:()=>Se});var I=_e(467),M=_e(8476),et=_e(4920),St=_e(8669),o=_e(4921),ie=_e(8621),B=_e(1970),v=_e(4929);const _='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',f=(Ye,it)=>{const Ze=Ye.querySelector(_);S(Ze,null!=it?it:Ye)},m=(Ye,it)=>{const Ze=Array.from(Ye.querySelectorAll(_));S(Ze.length>0?Ze[Ze.length-1]:null,null!=it?it:Ye)},S=(Ye,it)=>{let Ze=Ye;const pt=null==Ye?void 0:Ye.shadowRoot;pt&&(Ze=pt.querySelector(_)||Ye),Ze?(0,et.f)(Ze):it.focus()};let w=0,i=0;const l=new WeakMap,a=Ye=>({create:it=>N(Ye,it),dismiss:(it,Ze,pt)=>P(document,it,Ze,Ye,pt),getTop:()=>(0,I.A)(function*(){return $(document,Ye)})()}),u=a("ion-alert"),d=a("ion-action-sheet"),h=a("ion-loading"),g=a("ion-modal"),y=a("ion-popover"),z=Ye=>{typeof document<"u"&&O(document);const it=w++;Ye.overlayIndex=it},G=Ye=>(Ye.hasAttribute("id")||(Ye.id="ion-overlay-"+ ++i),Ye.id),N=(Ye,it)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ye).then(()=>{const Ze=document.createElement(Ye);return Ze.classList.add("overlay-hidden"),Object.assign(Ze,Object.assign(Object.assign({},it),{hasController:!0})),le(document).appendChild(Ze),new Promise(pt=>(0,et.c)(Ze,pt))}):Promise.resolve(),X=(Ye,it)=>{let Ze=Ye;const pt=null==Ye?void 0:Ye.shadowRoot;pt&&(Ze=pt.querySelector(_)||Ye),Ze?(0,et.f)(Ze):it.focus()},O=Ye=>{0===w&&(w=1,Ye.addEventListener("focus",it=>{((Ye,it)=>{const Ze=$(it,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),pt=Ye.target;Ze&&pt&&!Ze.classList.contains(st)&&(Ze.shadowRoot?(()=>{if(Ze.contains(pt))Ze.lastFocus=pt;else if("ION-TOAST"===pt.tagName)X(Ze.lastFocus,Ze);else{const zt=Ze.lastFocus;f(Ze),zt===it.activeElement&&m(Ze),Ze.lastFocus=it.activeElement}})():(()=>{if(Ze===pt)Ze.lastFocus=void 0;else if("ION-TOAST"===pt.tagName)X(Ze.lastFocus,Ze);else{const zt=(0,et.g)(Ze);if(!zt.contains(pt))return;const hr=zt.querySelector(".ion-overlay-wrapper");if(!hr)return;if(hr.contains(pt)||pt===zt.querySelector("ion-backdrop"))Ze.lastFocus=pt;else{const Ht=Ze.lastFocus;f(hr,Ze),Ht===it.activeElement&&m(hr,Ze),Ze.lastFocus=it.activeElement}}})())})(it,Ye)},!0),Ye.addEventListener("ionBackButton",it=>{const Ze=$(Ye);null!=Ze&&Ze.backdropDismiss&&it.detail.register(St.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ze.dismiss(void 0,Le)})}),(0,St.shouldUseCloseWatcher)()||Ye.addEventListener("keydown",it=>{if("Escape"===it.key){const Ze=$(Ye);null!=Ze&&Ze.backdropDismiss&&Ze.dismiss(void 0,Le)}}))},P=(Ye,it,Ze,pt,kt)=>{const ir=$(Ye,pt,kt);return ir?ir.dismiss(it,Ze):Promise.reject("overlay does not exist")},re=(Ye,it)=>((Ye,it)=>(void 0===it&&(it="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(it)).filter(Ze=>Ze.overlayIndex>0)))(Ye,it).filter(Ze=>!(Ye=>Ye.classList.contains("overlay-hidden"))(Ze)),$=(Ye,it,Ze)=>{const pt=re(Ye,it);return void 0===Ze?pt[pt.length-1]:pt.find(kt=>kt.id===Ze)},Q=(Ye=!1)=>{const Ze=le(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ze&&(Ye?Ze.setAttribute("aria-hidden","true"):Ze.removeAttribute("aria-hidden"))},V=function(){var Ye=(0,I.A)(function*(it,Ze,pt,kt,ir){var zt,hr;if(it.presented)return;Q(!0),document.body.classList.add(B.B),at(it.el),it.presented=!0,it.willPresent.emit(),null===(zt=it.willPresentShorthand)||void 0===zt||zt.emit();const Ht=(0,o.b)(it),br=it.enterAnimation?it.enterAnimation:o.c.get(Ze,"ios"===Ht?pt:kt);(yield xe(it,br,it.el,ir))&&(it.didPresent.emit(),null===(hr=it.didPresentShorthand)||void 0===hr||hr.emit()),"ION-TOAST"!==it.el.tagName&&H(it.el),it.keyboardClose&&(null===document.activeElement||!it.el.contains(document.activeElement))&&it.el.focus(),it.el.removeAttribute("aria-hidden")});return function(Ze,pt,kt,ir,zt){return Ye.apply(this,arguments)}}(),H=function(){var Ye=(0,I.A)(function*(it){let Ze=document.activeElement;if(!Ze)return;const pt=null==Ze?void 0:Ze.shadowRoot;pt&&(Ze=pt.querySelector(_)||Ze),yield it.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ze.focus()});return function(Ze){return Ye.apply(this,arguments)}}(),Z=function(){var Ye=(0,I.A)(function*(it,Ze,pt,kt,ir,zt,hr){var Ht,br;if(!it.presented)return!1;void 0!==M.d&&1===re(M.d).length&&(Q(!1),document.body.classList.remove(B.B)),it.presented=!1;try{it.el.style.setProperty("pointer-events","none"),it.willDismiss.emit({data:Ze,role:pt}),null===(Ht=it.willDismissShorthand)||void 0===Ht||Ht.emit({data:Ze,role:pt});const fr=(0,o.b)(it),jt=it.leaveAnimation?it.leaveAnimation:o.c.get(kt,"ios"===fr?ir:zt);pt!==Xe&&(yield xe(it,jt,it.el,hr)),it.didDismiss.emit({data:Ze,role:pt}),null===(br=it.didDismissShorthand)||void 0===br||br.emit({data:Ze,role:pt}),(l.get(it)||[]).forEach($t=>$t.destroy()),l.delete(it),it.el.classList.add("overlay-hidden"),it.el.style.removeProperty("pointer-events"),void 0!==it.el.lastFocus&&(it.el.lastFocus=void 0)}catch(fr){console.error(fr)}return it.el.remove(),Be(),!0});return function(Ze,pt,kt,ir,zt,hr,Ht){return Ye.apply(this,arguments)}}(),le=Ye=>Ye.querySelector("ion-app")||Ye.body,xe=function(){var Ye=(0,I.A)(function*(it,Ze,pt,kt){pt.classList.remove("overlay-hidden");const zt=Ze(it.el,kt);(!it.animated||!o.c.getBoolean("animated",!0))&&zt.duration(0),it.keyboardClose&&zt.beforeAddWrite(()=>{const Ht=pt.ownerDocument.activeElement;null!=Ht&&Ht.matches("input,ion-input, ion-textarea")&&Ht.blur()});const hr=l.get(it)||[];return l.set(it,[...hr,zt]),yield zt.play(),!0});return function(Ze,pt,kt,ir){return Ye.apply(this,arguments)}}(),q=(Ye,it)=>{let Ze;const pt=new Promise(kt=>Ze=kt);return j(Ye,it,kt=>{Ze(kt.detail)}),pt},j=(Ye,it,Ze)=>{const pt=kt=>{(0,et.b)(Ye,it,pt),Ze(kt)};(0,et.a)(Ye,it,pt)},oe=Ye=>"cancel"===Ye||Ye===Le,me=Ye=>Ye(),Se=(Ye,it)=>{if("function"==typeof Ye)return o.c.get("_zoneGate",me)(()=>{try{return Ye(it)}catch(pt){throw pt}})},Le="backdrop",Xe="gesture",lt=39,He=Ye=>{let Ze,it=!1;const pt=(0,ie.C)(),kt=(hr=!1)=>{if(Ze&&!hr)return{delegate:Ze,inline:it};const{el:Ht,hasController:br,delegate:Bt}=Ye;return it=null!==Ht.parentNode&&!br,Ze=it?Bt||pt:Bt,{inline:it,delegate:Ze}};return{attachViewToDom:function(){var hr=(0,I.A)(function*(Ht){const{delegate:br}=kt(!0);if(br)return yield br.attachViewToDom(Ye.el,Ht);const{hasController:Bt}=Ye;if(Bt&&void 0!==Ht)throw new Error("framework delegate is missing");return null});return function(br){return hr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:hr}=kt();hr&&void 0!==Ye.el&&hr.removeViewFromDom(Ye.el.parentElement,Ye.el)}}},nt=()=>{let Ye;const it=()=>{Ye&&(Ye(),Ye=void 0)};return{addClickListener:(pt,kt)=>{it();const ir=void 0!==kt?document.getElementById(kt):null;ir?Ye=((hr,Ht)=>{const br=()=>{Ht.present()};return hr.addEventListener("click",br),()=>{hr.removeEventListener("click",br)}})(ir,pt):(0,v.p)(`A trigger element with the ID "${kt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,pt)},removeClickListener:it}},at=Ye=>{var it;if(void 0===M.d)return;const Ze=re(M.d);for(let pt=Ze.length-1;pt>=0;pt--){const kt=Ze[pt],ir=null!==(it=Ze[pt+1])&&void 0!==it?it:Ye;(ir.hasAttribute("aria-hidden")||"ION-TOAST"!==ir.tagName)&&kt.setAttribute("aria-hidden","true")}},Be=()=>{if(void 0===M.d)return;const Ye=re(M.d);for(let it=Ye.length-1;it>=0;it--){const Ze=Ye[it];if(Ze.removeAttribute("aria-hidden"),"ION-TOAST"!==Ze.tagName)break}},st="ion-disable-focus-trap"},1288:(Dr,rr,_e)=>{"use strict";_e.d(rr,{H:()=>d,b:()=>ir,c:()=>y,f:()=>He,g:()=>p,h:()=>a,p:()=>Tt,r:()=>ar});var I=_e(467);let et,St,o=!1,ie=!1;const f={},i=ft=>"object"==(ft=typeof ft)||"function"===ft;function l(ft){var xt,tr,Zt;return null!==(Zt=null===(tr=null===(xt=ft.head)||void 0===xt?void 0:xt.querySelector('meta[name="csp-nonce"]'))||void 0===tr?void 0:tr.getAttribute("content"))&&void 0!==Zt?Zt:void 0}const a=(ft,xt,...tr)=>{let Zt=null,lr=!1,yr=!1;const wr=[],xr=W=>{for(let pe=0;pe<W.length;pe++)Zt=W[pe],Array.isArray(Zt)?xr(Zt):null!=Zt&&"boolean"!=typeof Zt&&((lr="function"!=typeof ft&&!i(Zt))&&(Zt=String(Zt)),lr&&yr?wr[wr.length-1].$text$+=Zt:wr.push(lr?u(null,Zt):Zt),yr=lr)};if(xr(tr),xt){const W=xt.className||xt.class;W&&(xt.class="object"!=typeof W?W:Object.keys(W).filter(pe=>W[pe]).join(" "))}const Mr=u(ft,null);return Mr.$attrs$=xt,wr.length>0&&(Mr.$children$=wr),Mr},u=(ft,xt)=>({$flags$:0,$tag$:ft,$text$:xt,$elm$:null,$children$:null,$attrs$:null}),d={},p=ft=>jt(ft).$hostElement$,y=(ft,xt,tr)=>{const Zt=p(ft);return{emit:lr=>T(Zt,xt,{bubbles:!!(4&tr),composed:!!(2&tr),cancelable:!!(1&tr),detail:lr})}},T=(ft,xt,tr)=>{const Zt=Ct.ce(xt,tr);return ft.dispatchEvent(Zt),Zt},z=new WeakMap,X=(ft,xt)=>"sc-"+ft.$tagName$,D=(ft,xt,tr,Zt,lr,yr)=>{if(tr!==Zt){let wr=Ve(ft,xt),xr=xt.toLowerCase();if("class"===xt){const Mr=ft.classList,W=P(tr),pe=P(Zt);Mr.remove(...W.filter(Pe=>Pe&&!pe.includes(Pe))),Mr.add(...pe.filter(Pe=>Pe&&!W.includes(Pe)))}else if("style"===xt){for(const Mr in tr)(!Zt||null==Zt[Mr])&&(Mr.includes("-")?ft.style.removeProperty(Mr):ft.style[Mr]="");for(const Mr in Zt)(!tr||Zt[Mr]!==tr[Mr])&&(Mr.includes("-")?ft.style.setProperty(Mr,Zt[Mr]):ft.style[Mr]=Zt[Mr])}else if("ref"===xt)Zt&&Zt(ft);else if(wr||"o"!==xt[0]||"n"!==xt[1]){const Mr=i(Zt);if((wr||Mr&&null!==Zt)&&!lr)try{if(ft.tagName.includes("-"))ft[xt]=Zt;else{const W=null==Zt?"":Zt;"list"===xt?wr=!1:(null==tr||ft[xt]!=W)&&(ft[xt]=W)}}catch{}null==Zt||!1===Zt?(!1!==Zt||""===ft.getAttribute(xt))&&ft.removeAttribute(xt):(!wr||4&yr||lr)&&!Mr&&ft.setAttribute(xt,Zt=!0===Zt?"":Zt)}else xt="-"===xt[2]?xt.slice(3):Ve(qt,xr)?xr.slice(2):xr[2]+xt.slice(3),tr&&Ct.rel(ft,xt,tr,!1),Zt&&Ct.ael(ft,xt,Zt,!1)}},O=/\s/,P=ft=>ft?ft.split(O):[],J=(ft,xt,tr,Zt)=>{const lr=11===xt.$elm$.nodeType&&xt.$elm$.host?xt.$elm$.host:xt.$elm$,yr=ft&&ft.$attrs$||f,wr=xt.$attrs$||f;for(Zt in yr)Zt in wr||D(lr,Zt,yr[Zt],void 0,tr,xt.$flags$);for(Zt in wr)D(lr,Zt,yr[Zt],wr[Zt],tr,xt.$flags$)},re=(ft,xt,tr,Zt)=>{const lr=xt.$children$[tr];let wr,xr,yr=0;if(null!==lr.$text$)wr=lr.$elm$=nr.createTextNode(lr.$text$);else{if(o||(o="svg"===lr.$tag$),wr=lr.$elm$=nr.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",lr.$tag$),o&&"foreignObject"===lr.$tag$&&(o=!1),J(null,lr,o),(ft=>null!=ft)(et)&&wr["s-si"]!==et&&wr.classList.add(wr["s-si"]=et),lr.$children$)for(yr=0;yr<lr.$children$.length;++yr)xr=re(ft,lr,yr),xr&&wr.appendChild(xr);"svg"===lr.$tag$?o=!1:"foreignObject"===wr.tagName&&(o=!0)}return wr},$=(ft,xt,tr,Zt,lr,yr)=>{let xr,wr=ft;for(wr.shadowRoot&&wr.tagName===St&&(wr=wr.shadowRoot);lr<=yr;++lr)Zt[lr]&&(xr=re(null,tr,lr),xr&&(Zt[lr].$elm$=xr,wr.insertBefore(xr,xt)))},Q=(ft,xt,tr)=>{for(let Zt=xt;Zt<=tr;++Zt){const lr=ft[Zt];if(lr){const yr=lr.$elm$;le(lr),yr&&yr.remove()}}},H=(ft,xt)=>ft.$tag$===xt.$tag$,Z=(ft,xt)=>{const tr=xt.$elm$=ft.$elm$,Zt=ft.$children$,lr=xt.$children$,yr=xt.$tag$,wr=xt.$text$;null===wr?(o="svg"===yr||"foreignObject"!==yr&&o,J(ft,xt,o),null!==Zt&&null!==lr?((ft,xt,tr,Zt)=>{let b,lr=0,yr=0,wr=xt.length-1,xr=xt[0],Mr=xt[wr],W=Zt.length-1,pe=Zt[0],Pe=Zt[W];for(;lr<=wr&&yr<=W;)null==xr?xr=xt[++lr]:null==Mr?Mr=xt[--wr]:null==pe?pe=Zt[++yr]:null==Pe?Pe=Zt[--W]:H(xr,pe)?(Z(xr,pe),xr=xt[++lr],pe=Zt[++yr]):H(Mr,Pe)?(Z(Mr,Pe),Mr=xt[--wr],Pe=Zt[--W]):H(xr,Pe)?(Z(xr,Pe),ft.insertBefore(xr.$elm$,Mr.$elm$.nextSibling),xr=xt[++lr],Pe=Zt[--W]):H(Mr,pe)?(Z(Mr,pe),ft.insertBefore(Mr.$elm$,xr.$elm$),Mr=xt[--wr],pe=Zt[++yr]):(b=re(xt&&xt[yr],tr,yr),pe=Zt[++yr],b&&xr.$elm$.parentNode.insertBefore(b,xr.$elm$));lr>wr?$(ft,null==Zt[W+1]?null:Zt[W+1].$elm$,tr,Zt,yr,W):yr>W&&Q(xt,lr,wr)})(tr,Zt,xt,lr):null!==lr?(null!==ft.$text$&&(tr.textContent=""),$(tr,null,xt,lr,0,lr.length-1)):null!==Zt&&Q(Zt,0,Zt.length-1),o&&"svg"===yr&&(o=!1)):ft.$text$!==wr&&(tr.data=wr)},le=ft=>{ft.$attrs$&&ft.$attrs$.ref&&ft.$attrs$.ref(null),ft.$children$&&ft.$children$.map(le)},q=(ft,xt)=>{xt&&!ft.$onRenderResolve$&&xt["s-p"]&&xt["s-p"].push(new Promise(tr=>ft.$onRenderResolve$=tr))},j=(ft,xt)=>{if(ft.$flags$|=16,!(4&ft.$flags$))return q(ft,ft.$ancestorComponent$),cr(()=>oe(ft,xt));ft.$flags$|=512},oe=(ft,xt)=>{const Zt=ft.$lazyInstance$;return xt&&(ft.$flags$|=256,ft.$queuedListeners$&&(ft.$queuedListeners$.map(([yr,wr])=>at(Zt,yr,wr)),ft.$queuedListeners$=void 0)),me(void 0,()=>Le(ft,Zt,xt))},me=(ft,xt)=>Se(ft)?ft.then(xt):xt(),Se=ft=>ft instanceof Promise||ft&&ft.then&&"function"==typeof ft.then,Le=function(){var ft=(0,I.A)(function*(xt,tr,Zt){var lr;const yr=xt.$hostElement$,xr=yr["s-rc"];Zt&&(ft=>{const xt=ft.$cmpMeta$,tr=ft.$hostElement$,Zt=xt.$flags$,yr=((ft,xt,tr,Zt)=>{var lr;let yr=X(xt);const wr=Ot.get(yr);if(ft=11===ft.nodeType?ft:nr,wr)if("string"==typeof wr){let Mr,xr=z.get(ft=ft.head||ft);if(xr||z.set(ft,xr=new Set),!xr.has(yr)){{Mr=nr.createElement("style"),Mr.innerHTML=wr;const W=null!==(lr=Ct.$nonce$)&&void 0!==lr?lr:l(nr);null!=W&&Mr.setAttribute("nonce",W),ft.insertBefore(Mr,ft.querySelector("link"))}xr&&xr.add(yr)}}else ft.adoptedStyleSheets.includes(wr)||(ft.adoptedStyleSheets=[...ft.adoptedStyleSheets,wr]);return yr})(tr.shadowRoot?tr.shadowRoot:tr.getRootNode(),xt);10&Zt&&(tr["s-sc"]=yr,tr.classList.add(yr+"-h"))})(xt);Xe(xt,tr),xr&&(xr.map(W=>W()),yr["s-rc"]=void 0);{const W=null!==(lr=yr["s-p"])&&void 0!==lr?lr:[],pe=()=>lt(xt);0===W.length?pe():(Promise.all(W).then(pe),xt.$flags$|=4,W.length=0)}});return function(tr,Zt,lr){return ft.apply(this,arguments)}}(),Xe=(ft,xt,tr)=>{try{xt=xt.render(),ft.$flags$&=-17,ft.$flags$|=2,((ft,xt)=>{const tr=ft.$hostElement$,Zt=ft.$vnode$||u(null,null),lr=(ft=>ft&&ft.$tag$===d)(xt)?xt:a(null,null,xt);St=tr.tagName,lr.$tag$=null,lr.$flags$|=4,ft.$vnode$=lr,lr.$elm$=Zt.$elm$=tr.shadowRoot||tr,et=tr["s-sc"],Z(Zt,lr)})(ft,xt)}catch(Zt){We(Zt,ft.$hostElement$)}return null},lt=ft=>{const tr=ft.$hostElement$,lr=ft.$lazyInstance$,yr=ft.$ancestorComponent$;64&ft.$flags$||(ft.$flags$|=64,Be(tr),at(lr,"componentDidLoad"),ft.$onReadyResolve$(tr),yr||nt()),ft.$onInstanceResolve$(tr),ft.$onRenderResolve$&&(ft.$onRenderResolve$(),ft.$onRenderResolve$=void 0),512&ft.$flags$&&Rt(()=>j(ft,!1)),ft.$flags$&=-517},He=ft=>{{const xt=jt(ft),tr=xt.$hostElement$.isConnected;return tr&&2==(18&xt.$flags$)&&j(xt,!1),tr}},nt=ft=>{Be(nr.documentElement),Rt(()=>T(qt,"appload",{detail:{namespace:"ionicpwaelements"}}))},at=(ft,xt,tr)=>{if(ft&&ft[xt])try{return ft[xt](tr)}catch(Zt){We(Zt)}},Be=ft=>ft.classList.add("hydrated"),it=(ft,xt,tr)=>{if(xt.$members$){const Zt=Object.entries(xt.$members$),lr=ft.prototype;if(Zt.map(([yr,[wr]])=>{31&wr||2&tr&&32&wr?Object.defineProperty(lr,yr,{get(){return((ft,xt)=>jt(this).$instanceValues$.get(xt))(0,yr)},set(xr){((ft,xt,tr,Zt)=>{const lr=jt(ft),yr=lr.$instanceValues$.get(xt),wr=lr.$flags$,xr=lr.$lazyInstance$;tr=((ft,xt)=>null==ft||i(ft)?ft:4&xt?"false"!==ft&&(""===ft||!!ft):2&xt?parseFloat(ft):1&xt?String(ft):ft)(tr,Zt.$members$[xt][0]);const Mr=Number.isNaN(yr)&&Number.isNaN(tr);(!(8&wr)||void 0===yr)&&tr!==yr&&!Mr&&(lr.$instanceValues$.set(xt,tr),xr&&2==(18&wr)&&j(lr,!1))})(this,yr,xr,xt)},configurable:!0,enumerable:!0}):1&tr&&64&wr&&Object.defineProperty(lr,yr,{value(...xr){const Mr=jt(this);return Mr.$onInstancePromise$.then(()=>Mr.$lazyInstance$[yr](...xr))}})}),1&tr){const yr=new Map;lr.attributeChangedCallback=function(wr,xr,Mr){Ct.jmp(()=>{const W=yr.get(wr);if(this.hasOwnProperty(W))Mr=this[W],delete this[W];else if(lr.hasOwnProperty(W)&&"number"==typeof this[W]&&this[W]==Mr)return;this[W]=(null!==Mr||"boolean"!=typeof this[W])&&Mr})},ft.observedAttributes=Zt.filter(([wr,xr])=>15&xr[0]).map(([wr,xr])=>{const Mr=xr[1]||wr;return yr.set(Mr,wr),Mr})}}return ft},Ze=function(){var ft=(0,I.A)(function*(xt,tr,Zt,lr,yr){if(!(32&tr.$flags$)){tr.$flags$|=32;{if((yr=Qe(Zt)).then){const W=()=>{};yr=yield yr,W()}yr.isProxied||(it(yr,Zt,2),yr.isProxied=!0);const Mr=()=>{};tr.$flags$|=8;try{new yr(tr)}catch(W){We(W)}tr.$flags$&=-9,Mr()}if(yr.style){let Mr=yr.style;const W=X(Zt);if(!Ot.has(W)){const pe=()=>{};((ft,xt,tr)=>{let Zt=Ot.get(ft);Gt&&tr?(Zt=Zt||new CSSStyleSheet,"string"==typeof Zt?Zt=xt:Zt.replaceSync(xt)):Zt=xt,Ot.set(ft,Zt)})(W,Mr,!!(1&Zt.$flags$)),pe()}}}const wr=tr.$ancestorComponent$,xr=()=>j(tr,!0);wr&&wr["s-rc"]?wr["s-rc"].push(xr):xr()});return function(tr,Zt,lr,yr,wr){return ft.apply(this,arguments)}}(),ir=(ft,xt={})=>{var tr;const lr=[],yr=xt.exclude||[],wr=qt.customElements,xr=nr.head,Mr=xr.querySelector("meta[charset]"),W=nr.createElement("style"),pe=[];let Pe,b=!0;Object.assign(Ct,xt),Ct.$resourcesUrl$=new URL(xt.resourcesUrl||"./",nr.baseURI).href,ft.map(A=>{A[1].map(R=>{const C={$flags$:R[0],$tagName$:R[1],$members$:R[2],$listeners$:R[3]};C.$members$=R[2],C.$listeners$=R[3];const Y=C.$tagName$,U=class extends HTMLElement{constructor(te){super(te),$t(te=this,C),1&C.$flags$&&te.attachShadow({mode:"open"})}connectedCallback(){Pe&&(clearTimeout(Pe),Pe=null),b?pe.push(this):Ct.jmp(()=>(ft=>{if(!(1&Ct.$flags$)){const xt=jt(ft),tr=xt.$cmpMeta$,Zt=()=>{};if(1&xt.$flags$)zt(ft,xt,tr.$listeners$);else{xt.$flags$|=1;{let lr=ft;for(;lr=lr.parentNode||lr.host;)if(lr["s-p"]){q(xt,xt.$ancestorComponent$=lr);break}}tr.$members$&&Object.entries(tr.$members$).map(([lr,[yr]])=>{if(31&yr&&ft.hasOwnProperty(lr)){const wr=ft[lr];delete ft[lr],ft[lr]=wr}}),Ze(ft,xt,tr)}Zt()}})(this))}disconnectedCallback(){Ct.jmp(()=>(ft=>{if(!(1&Ct.$flags$)){const xt=jt(this),tr=xt.$lazyInstance$;xt.$rmListeners$&&(xt.$rmListeners$.map(Zt=>Zt()),xt.$rmListeners$=void 0),at(tr,"disconnectedCallback")}})())}componentOnReady(){return jt(this).$onReadyPromise$}};C.$lazyBundleId$=A[0],!yr.includes(Y)&&!wr.get(Y)&&(lr.push(Y),wr.define(Y,it(U,C,1)))})});{W.innerHTML=lr+"{visibility:hidden}.hydrated{visibility:inherit}",W.setAttribute("data-styles","");const A=null!==(tr=Ct.$nonce$)&&void 0!==tr?tr:l(nr);null!=A&&W.setAttribute("nonce",A),xr.insertBefore(W,Mr?Mr.nextSibling:xr.firstChild)}b=!1,pe.length?pe.map(A=>A.connectedCallback()):Ct.jmp(()=>Pe=setTimeout(nt,30))},zt=(ft,xt,tr,Zt)=>{tr&&tr.map(([lr,yr,wr])=>{const xr=Ht(ft,lr),Mr=hr(xt,wr),W=br(lr);Ct.ael(xr,yr,Mr,W),(xt.$rmListeners$=xt.$rmListeners$||[]).push(()=>Ct.rel(xr,yr,Mr,W))})},hr=(ft,xt)=>tr=>{try{256&ft.$flags$?ft.$lazyInstance$[xt](tr):(ft.$queuedListeners$=ft.$queuedListeners$||[]).push([xt,tr])}catch(Zt){We(Zt)}},Ht=(ft,xt)=>16&xt?nr.body:ft,br=ft=>!!(2&ft),fr=new WeakMap,jt=ft=>fr.get(ft),ar=(ft,xt)=>fr.set(xt.$lazyInstance$=ft,xt),$t=(ft,xt)=>{const tr={$flags$:0,$hostElement$:ft,$cmpMeta$:xt,$instanceValues$:new Map};return tr.$onInstancePromise$=new Promise(Zt=>tr.$onInstanceResolve$=Zt),tr.$onReadyPromise$=new Promise(Zt=>tr.$onReadyResolve$=Zt),ft["s-p"]=[],ft["s-rc"]=[],zt(ft,tr,xt.$listeners$),fr.set(ft,tr)},Ve=(ft,xt)=>xt in ft,We=(ft,xt)=>(0,console.error)(ft,xt),Re=new Map,Qe=(ft,xt,tr)=>{const Zt=ft.$tagName$.replace(/-/g,"_"),lr=ft.$lazyBundleId$,yr=Re.get(lr);if(yr)return yr[Zt];if(!tr||!BUILD.hotModuleReplacement){const wr=xr=>(Re.set(lr,xr),xr[Zt]);switch(lr){case"pwa-action-sheet":return _e.e(6301).then(_e.bind(_e,6301)).then(wr,We);case"pwa-camera-modal":return _e.e(2982).then(_e.bind(_e,2982)).then(wr,We);case"pwa-toast":return _e.e(3574).then(_e.bind(_e,3574)).then(wr,We);case"pwa-camera-modal-instance":return _e.e(5640).then(_e.bind(_e,5640)).then(wr,We);case"pwa-camera":return _e.e(6086).then(_e.bind(_e,6086)).then(wr,We)}}return _e(5235)(`./${lr}.entry.js`).then(wr=>(Re.set(lr,wr),wr[Zt]),We)},Ot=new Map,qt=typeof window<"u"?window:{},nr=qt.document||{head:{}},Ct={$flags$:0,$resourcesUrl$:"",jmp:ft=>ft(),raf:ft=>requestAnimationFrame(ft),ael:(ft,xt,tr,Zt)=>ft.addEventListener(xt,tr,Zt),rel:(ft,xt,tr,Zt)=>ft.removeEventListener(xt,tr,Zt),ce:(ft,xt)=>new CustomEvent(ft,xt)},Tt=ft=>Promise.resolve(ft),Gt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Vt=[],Dt=[],yt=(ft,xt)=>tr=>{ft.push(tr),ie||(ie=!0,xt&&4&Ct.$flags$?Rt(bt):Ct.raf(bt))},Nt=ft=>{for(let xt=0;xt<ft.length;xt++)try{ft[xt](performance.now())}catch(tr){We(tr)}ft.length=0},bt=()=>{Nt(Vt),Nt(Dt),(ie=Vt.length>0)&&Ct.raf(bt)},Rt=ft=>Tt().then(ft),cr=yt(Dt,!0)},5402:(Dr,rr,_e)=>{"use strict";_e.d(rr,{R:()=>M});const M=(0,_e(5083).F3)("VoiceRecorder",{web:()=>_e.e(9888).then(_e.bind(_e,9888)).then(et=>new et.VoiceRecorderWeb)})},92:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Yl:()=>w,ZL:()=>i,aH:()=>S});var I=_e(467),M=_e(8326),St=_e(3953),o=_e(3656),ie=_e(5374),B=_e(5547),v=_e(4237),_=_e(755),f=_e(4234),m=_e(482),S="DesktopPWA",w=!1;window.p5=M;let i=(()=>{var l;class a{constructor(d,h,g,p,y,T){d.is("desktop")?S="DesktopPWA":d.is("android")?S="Android":d.is("iphone")&&(S="iOS"),w=d.is("electron");let z=!1;p.initialize((0,I.A)(function*(){y.Callback_nakama=()=>{g.initialize(),T.afterLangInit(z),y.Callback_nakama=null};try{let N=yield p.loadBlobFromUserPath("translate.csv",""),k=URL.createObjectURL(N);y.load_selected_lang(k)}catch{y.load_selected_lang()}let G=T.CatchGETs(location.href)||{};z=Object.keys(G).length>0,T.initialize(),g.AddressToQRCodeAct(G),h.initialize(),h.load_settings(),p.GetFileListFromDB("tmp_files").then(N=>{N.forEach(k=>p.removeFileFromUserPath(k))})}))}}return(l=a).\u0275fac=function(d){return new(d||l)(St.rXU(o.OD),St.rXU(B.r),St.rXU(v.X),St.rXU(_.n),St.rXU(f.y),St.rXU(m.z3))},l.\u0275cmp=St.VBU({type:l,selectors:[["app-root"]],decls:2,vars:0,template:function(d,h){1&d&&(St.j41(0,"ion-app"),St.nrm(1,"ion-router-outlet"),St.k0s())},dependencies:[ie.U1,ie.Rg]}),a})()},482:(Dr,rr,_e)=>{"use strict";_e.d(rr,{xM:()=>z,z3:()=>G,ud:()=>T});var I=_e(467),M=_e(4023),et=_e(8326),St=_e(617),o=_e(92),ie=_e(5083),B=function(N){return N.Prompt="PROMPT",N.Camera="CAMERA",N.Photos="PHOTOS",N}(B||{}),v=function(N){return N.Rear="REAR",N.Front="FRONT",N}(v||{}),_=function(N){return N.Uri="uri",N.Base64="base64",N.DataUrl="dataUrl",N}(_||{});class f extends ie.E_{getPhoto(k){var X=this;return(0,I.A)(function*(){return new Promise(function(){var D=(0,I.A)(function*(O,P){if(k.webUseInput||k.source===B.Photos)X.fileInputExperience(k,O,P);else if(k.source===B.Prompt){let J=document.querySelector("pwa-action-sheet");J||(J=document.createElement("pwa-action-sheet"),document.body.appendChild(J)),J.header=k.promptLabelHeader||"Photo",J.cancelable=!1,J.options=[{title:k.promptLabelPhoto||"From Photos"},{title:k.promptLabelPicture||"Take Picture"}],J.addEventListener("onSelection",function(){var re=(0,I.A)(function*($){0===$.detail?X.fileInputExperience(k,O,P):X.cameraExperience(k,O,P)});return function($){return re.apply(this,arguments)}}())}else X.cameraExperience(k,O,P)});return function(O,P){return D.apply(this,arguments)}}())})()}pickImages(k){var X=this;return(0,I.A)(function*(){return new Promise(function(){var D=(0,I.A)(function*(O,P){X.multipleFileInputExperience(O,P)});return function(O,P){return D.apply(this,arguments)}}())})()}cameraExperience(k,X,D){var O=this;return(0,I.A)(function*(){if(customElements.get("pwa-camera-modal")){const P=document.createElement("pwa-camera-modal");P.facingMode=k.direction===v.Front?"user":"environment",document.body.appendChild(P);try{yield P.componentOnReady(),P.addEventListener("onPhoto",function(){var J=(0,I.A)(function*(re){const $=re.detail;null===$?D(new ie.I9("User cancelled photos app")):$ instanceof Error?D($):X(yield O._getCameraPhoto($,k)),P.dismiss(),document.body.removeChild(P)});return function(re){return J.apply(this,arguments)}}()),P.present()}catch{O.fileInputExperience(k,X,D)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),O.fileInputExperience(k,X,D)})()}fileInputExperience(k,X,D){let O=document.querySelector("#_capacitor-camera-input");const P=()=>{var J;null===(J=O.parentNode)||void 0===J||J.removeChild(O)};O||(O=document.createElement("input"),O.id="_capacitor-camera-input",O.type="file",O.hidden=!0,document.body.appendChild(O),O.addEventListener("change",J=>{const re=O.files[0];let $="jpeg";if("image/png"===re.type?$="png":"image/gif"===re.type&&($="gif"),"dataUrl"===k.resultType||"base64"===k.resultType){const Q=new FileReader;Q.addEventListener("load",()=>{if("dataUrl"===k.resultType)X({dataUrl:Q.result,format:$});else if("base64"===k.resultType){const V=Q.result.split(",")[1];X({base64String:V,format:$})}P()}),Q.readAsDataURL(re)}else X({webPath:URL.createObjectURL(re),format:$}),P()}),O.addEventListener("cancel",J=>{D(new ie.I9("User cancelled photos app")),P()})),O.accept="image/*",O.capture=!0,k.source===B.Photos||k.source===B.Prompt?O.removeAttribute("capture"):k.direction===v.Front?O.capture="user":k.direction===v.Rear&&(O.capture="environment"),O.click()}multipleFileInputExperience(k,X){let D=document.querySelector("#_capacitor-camera-input-multiple");const O=()=>{var P;null===(P=D.parentNode)||void 0===P||P.removeChild(D)};D||(D=document.createElement("input"),D.id="_capacitor-camera-input-multiple",D.type="file",D.hidden=!0,D.multiple=!0,document.body.appendChild(D),D.addEventListener("change",P=>{const J=[];for(let re=0;re<D.files.length;re++){const $=D.files[re];let Q="jpeg";"image/png"===$.type?Q="png":"image/gif"===$.type&&(Q="gif"),J.push({webPath:URL.createObjectURL($),format:Q})}k({photos:J}),O()}),D.addEventListener("cancel",P=>{X(new ie.I9("User cancelled photos app")),O()})),D.accept="image/*",D.click()}_getCameraPhoto(k,X){return new Promise((D,O)=>{const P=new FileReader,J=k.type.split("/")[1];"uri"===X.resultType?D({webPath:URL.createObjectURL(k),format:J,saved:!1}):(P.readAsDataURL(k),P.onloadend=()=>{const re=P.result;D("dataUrl"===X.resultType?{dataUrl:re,format:J,saved:!1}:{base64String:re.split(",")[1],format:J,saved:!1})},P.onerror=re=>{O(re)})})}checkPermissions(){var k=this;return(0,I.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw k.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw k.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var k=this;return(0,I.A)(function*(){throw k.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var k=this;return(0,I.A)(function*(){throw k.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var k=this;return(0,I.A)(function*(){throw k.unavailable("Not implemented on web.")})()}}new f;const S=(0,ie.F3)("Camera",{web:()=>new f});var w=_e(5402),i=_e(3953),l=_e(5374),a=_e(3656),u=_e(9900),d=_e(4234),h=_e(345),g=_e(755),p=_e(3307),y=_e(5547),T=!1;const z=8e4;let G=(()=>{var N;class k{constructor(D,O,P,J,re,$,Q,V,H){this.modalCtrl=D,this.p5toast=O,this.lang=P,this.sanitizer=J,this.indexed=re,this.alertCtrl=$,this.navCtrl=Q,this.p5loading=V,this.noti=H,this.windowOnFocusAct={},this.WindowOnBlurAct={},this.FocusOnPortal=!0,this.portalHint=!0,this.BlockMainShortcut=!1,this.PortalBottonTabAct={Todo:void 0,Subscribes:void 0,Arcade:void 0,Community:void 0},this.GodotCache={},this.ArcadeLoaded=!1,this.ArcadeWithFullScreen=!1,this.ToggleChatInput=!1,this.NeedBackgroundMode=!1,this.IsBackgroundMode=!1,this.arcadeChat={logs:[],text:""},this.ArcadeObject={QRCode:void 0},this.JSBlendCache={},this.CacheShortCut={},this.useLocalAddress=!1,this.WebsocketRetryTerm=70,this.useVoiceRecording="",this.videoPIP=!1,this.WaitingConnect=!1,this.useVideo=!1,this.InitEnd=!1,this.PeerConnected=!1,this.ShowChatInterface=!1,this.DisableChatInput=!1,this.instCallLog={logs:[],text:""},this.PageDismissAct={},this.isOthersVideoExtended=!0,T=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",le=>{T=!!le.matches}),this.useLocalAddress="true"==localStorage.getItem("useQRCodeBasic"),window.onfocus=()=>{let le=Object.keys(this.windowOnFocusAct);for(let xe of le)this.windowOnFocusAct[xe]()},window.onblur=()=>{let le=Object.keys(this.WindowOnBlurAct);for(let xe of le)this.WindowOnBlurAct[xe]()};const Z=()=>{this.ArcadeWithFullScreen=!!document.fullscreenElement};document.onfullscreenchange=Z,document.onwebkitfullscreenchange=Z,document.onmozfullscreenchange=Z,document.onMSFullscreenChange=Z}toggleBlockMainShortcut(D){this.BlockMainShortcut=D,this.portalHint=!D}initialize(){const D=localStorage.getItem("ShowHint");null!==D&&(this.ShowHint="1"==D),void 0===this.ShowHint&&(this.ShowHint="DesktopPWA"==o.aH),this.p5toast.HTMLEncode||(this.p5toast.HTMLEncode=this.HTMLEncode),this.p5key=new et(O=>{O.setup=()=>{O.noCanvas(),O.noLoop(),this.p5KeyShortCut={}},O.keyPressed=P=>{if(!this.BlockMainShortcut&&this.p5KeyShortCut){switch(P.code){case"Backspace":this.p5KeyShortCut.Backspace&&this.p5KeyShortCut.Backspace();break;case"Backquote":this.p5KeyShortCut.Backquote&&this.p5KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(this.p5KeyShortCut.Digit){const J=(Number(P.code.slice(-1))-1+10)%10;this.p5KeyShortCut.Digit(J)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":this.p5KeyShortCut.BottomTab&&this.p5KeyShortCut.BottomTab(P.code.slice(-1));break;case"KeyA":this.p5KeyShortCut.AddAct&&this.p5KeyShortCut.AddAct();break;case"KeyS":this.p5KeyShortCut.SKeyAct&&this.p5KeyShortCut.SKeyAct(P);break;case"KeyD":this.p5KeyShortCut.DeleteAct&&this.p5KeyShortCut.DeleteAct();break;case"KeyF":this.p5KeyShortCut.FKeyAct&&this.p5KeyShortCut.FKeyAct();break;case"Escape":this.p5KeyShortCut.Escape&&this.p5KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":this.p5KeyShortCut.HistoryAct&&this.p5KeyShortCut.HistoryAct(P)}"Enter"===P.key&&this.p5KeyShortCut.EnterAct&&this.p5KeyShortCut.EnterAct(P)}}})}afterLangInit(D=!1){this.NeedBackgroundMode="DesktopPWA"!=o.aH,!D&&this.NeedBackgroundMode&&this.ToggleBackgroundMode()}RemoveAllModals(D=(()=>{})){var O=this;return(0,I.A)(function*(){let P="init";for(;P;)P=yield O.modalCtrl.getTop(),P&&(yield P.dismiss());D&&D()})()}CatchGETs(D){const O=D.split("?");if(O.length>1){const P=O[1].split("&");let J={};for(let re=0,$=P.length;re<$;re++){const Q=P[re].split("=");J[Q[0]]||(J[Q[0]]=[]),J[Q[0]].push(decodeURIComponent(Q[1]))}return J}}readasQRCodeFromString(D){try{let O=new M({content:D,padding:4,width:8,height:8,color:T?"#bbb":"#444",background:T?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(O)}`)}catch(O){console.log("readasQRCodeFromString: ",O),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${O}`})}}CreateGodotIFrame(D,O,P=!1){var J=this;return new Promise(function(){var re=(0,I.A)(function*($){let Q=function(){var xe=(0,I.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(!J.godot_window.start_load_pck)throw"No act ready";yield J.indexed.GetGodotIndexedDB(),$()}catch{setTimeout(()=>{Q()},1e3)}});return function(){return xe.apply(this,arguments)}}();J.godot_window&&J.godot_window.quit_godot&&J.godot_window.quit_godot(),J.godot_window&&J.godot_window.quit_ionic&&P&&J.godot_window.quit_ionic(),J.godot_splash&&J.godot_splash.remove(),J.godot&&J.godot.remove(),window.godot="",Object.keys(J.GodotCache).forEach(q=>{URL.revokeObjectURL(J.GodotCache[q]),delete J.GodotCache[q]}),J.GodotCache.html="assets/html/index.html";try{if("/pjcone_pwa/"==window.sub_path)throw"\uc624\ud504\ub77c\uc778 \uce90\uc2dc \uc6b0\ud68c\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c";const q=yield(yield fetch("assets/html/index.audio.worklet.js")).blob(),j=URL.createObjectURL(q);J.GodotCache.audio=j;const me=yield(yield fetch("assets/html/index.wasm")).blob(),Se=URL.createObjectURL(me);J.GodotCache.wasm=Se;const Xe=yield(yield fetch("assets/html/index.pck")).blob(),lt=URL.createObjectURL(Xe);J.GodotCache.pck=lt;const nt=yield(yield fetch("assets/html/index.png")).blob(),at=URL.createObjectURL(nt);J.GodotCache.png=at;let st=yield(yield fetch("assets/html/index.js")).text();st=st.replace("`${loadPath}.audio.worklet.js`",`'${j}'`).replace(/`\${loadPath}\.wasm`/g,`'${Se}'`).replace("this.config.mainPack || `${exe}.pck`;",`'${lt}'`);const Ye=new Blob([st],{type:"application/javascript"}),it=URL.createObjectURL(Ye);J.GodotCache.js=it;let pt=yield(yield fetch("assets/html/index.html")).text();pt=pt.replace('<script src="index.js"><\/script>',`<script src="${it}"><\/script>`).replace('src="index.png"',`src="${at}"`);const kt=new Blob([pt],{type:"text/html"}),ir=URL.createObjectURL(kt);J.GodotCache.html=ir}catch(xe){console.log("\uace0\ub3c4\uc5d4\uc9c4 \uc624\ud504\ub77c\uc778 \ud398\uc774\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",xe)}let V=document.createElement("iframe");V.id="godot",V.setAttribute("src",J.GodotCache.html),V.setAttribute("frameborder","0"),V.setAttribute("class","full_screen"),V.setAttribute("allow","fullscreen; encrypted-media"),V.setAttribute("scrolling","no"),V.setAttribute("withCredentials","true"),O.isMobile="DesktopPWA"!=o.aH,(D.indexOf("content_viewer_canvas")>=0||D.indexOf("avatar_sample")>=0)&&(O.create_thumbnail_p5=(xe,q)=>{Object.keys(J.GodotCache).forEach(oe=>{URL.revokeObjectURL(J.GodotCache[oe]),delete J.GodotCache[oe]}),new et(j=>{j.setup=()=>{j.noCanvas(),j.pixelDensity(1),j.loadImage("data:image/png;base64,"+xe,function(){var oe=(0,I.A)(function*(me){let Se=j.createCanvas(me.width,me.height);j.image(me,0,0),j.textSize(16),j.textWrap(j.CHAR);let Le=j.height/24;j.push(),j.translate(Le/6,Le/6),j.fill(0),j.text(J.godot_window.filename,Le,Le,j.width-2*Le,j.height-2*Le),j.filter(j.BLUR,3,!1),j.pop(),j.fill(255),j.text(J.godot_window.filename,Le,Le,j.width-2*Le,j.height-2*Le);let Xe=Se.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{var lt,He;if(!(null!==(lt=J.godot_window)&&void 0!==lt&&lt.alt_path||null!==(He=J.godot_window)&&void 0!==He&&He.path))throw"\uacbd\ub85c \uc5c6\ub294 \ud30c\uc77c";yield J.indexed.saveBase64ToUserPath(Xe,`${J.godot_window.alt_path||J.godot_window.path}_thumbnail.png`),J.modulate_thumbnail(q,"")}catch(nt){console.log("p.saveFrames: ",nt)}j.remove()});return function(me){return oe.apply(this,arguments)}}(),oe=>{console.error("create_thumbnail_load thumbnail failed: ",oe),j.remove()})}})}),O.fullscr_tog=xe=>{J.ArcadeWithFullScreen=null!=xe?xe:!J.ArcadeWithFullScreen};let H,Z=50;yield new Promise(xe=>{const q=()=>{H=document.getElementById(D),H?xe(void 0):setTimeout(()=>{Z--,Z>0?q():xe(void 0)},100)};q()}),H.appendChild(V),J.godot_window=V.contentWindow||V.contentDocument,Object.keys(O).forEach(xe=>J.godot_window[xe]=O[xe]),J.godot=V,yield Q()});return function($){return re.apply(this,arguments)}}())}ToggleFullScreen(D){this.ArcadeWithFullScreen=null!=D?D:!this.ArcadeWithFullScreen;const O=document.documentElement;this.ArcadeWithFullScreen?O.requestFullscreen?O.requestFullscreen():O.mozRequestFullScreen?O.mozRequestFullScreen():O.webkitRequestFullscreen?O.webkitRequestFullscreen():O.msRequestFullscreen&&O.msRequestFullscreen():document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}CreateArcadeFrame(D){var O=this;return(0,I.A)(function*(){var J;O.CallbackNakama.users.self.display_name||(O.toggleBlockMainShortcut(!0),yield new Promise(function(){var J=(0,I.A)(function*(re){let $="";const Q=yield O.alertCtrl.create({header:O.lang.text.Profile.name_placeholder,inputs:[{placeholder:O.lang.text.Profile.noname_user,type:"text"}],buttons:[{text:O.lang.text.UserFsDir.OK,handler:V=>{$=V[0]}}]});Q.onDidDismiss().then(()=>{O.CallbackNakama.users.self.display_name=$,O.CallbackNakama.save_profile_to_server(),re(void 0)}),Q.present()});return function(re){return J.apply(this,arguments)}}()),O.toggleBlockMainShortcut(!1)),O.ArcadeLoaded=!0,O.ArcadeChatLog=null,O.arcadeChat.logs.length=0,O.arcadeChat.text="",O.noti.Current="arcade",O.ToggleChatInput=!1,"DesktopPWA"==o.aH?O.ArcadeWithFullScreen=!0:O.ToggleFullScreen(!0),yield O.CreateGodotIFrameWithDuplicateAct(D,"arcade_pck_loaded",{path:"tmp_files/duplicate/arcade.pck",force:!0,ws_send:J=>{var re;null===(re=O.ArcadeWS)||void 0===re||re.send(J)},webrtc_send:J=>{O.WebRTCService.send(J)},open_modal:()=>{O.GetHeaderAddress().then(J=>{O.ArcadeQRAddress=`${J}?token=${O.ArcadeWSAddress},${12013==O.ArcadeSquarePort?"":O.ArcadeSquarePort},${O.ArcadeSocketId}`,O.ArcadeQRCodeSRC=O.readasQRCodeFromString(O.ArcadeQRAddress),O.OpenArcadeQRCode()})},toggle_chat:J=>{O.ToggleChatInput=null!=J?J:!O.ToggleChatInput,O.ToggleChatInput?setTimeout(()=>{O.DomArcadeChatInput=document.getElementById("arcadeInput").childNodes[1].childNodes[1].childNodes[1],O.DomArcadeChatInput.onfocus=()=>{O.toggleBlockMainShortcut(!0),O.portalHint=!1,"DesktopPWA"!=o.aH&&document.fullscreenElement&&(O.ArcadeWithFullScreen=!1)},O.DomArcadeChatInput.onblur=()=>{O.toggleBlockMainShortcut(!1),O.portalHint=!0,"DesktopPWA"!=o.aH&&document.fullscreenElement&&(O.ArcadeWithFullScreen=!0)},O.DomArcadeChatInput.onpaste=re=>{var $;let Q=[];for(const V of re.clipboardData.files)Q.push({file:V});if(1==Q.length)return null===($=O.ArcadeSendAttachFunc)||void 0===$||$.call(O,{target:{files:[Q[0].file]}},"arcade_chat"),!1},O.auto_scroll_down()},100):O.ClearSignals()},get_pid:()=>O.ArcadeWSPeerId,check_mobile:()=>"DesktopPWA"!=o.aH,use_custom_character:(J=(0,I.A)(function*(){const re=O.ConvertPathToGodot("custom_characters"),$=yield O.indexed.GetFileListFromDB(re,O.indexed.godotDB);for(const xe of $)yield O.indexed.removeFileFromUserPath(xe,O.indexed.godotDB);const Q="servers/self/avatar.pck",V=O.ConvertPathToGodot("custom_characters/default.pck");if(!(yield O.indexed.checkIfFileExist(V,O.indexed.godotDB))){const q=yield(yield fetch("assets/default.pck")).blob();yield O.indexed.saveBlobToUserPath(q,V,O.indexed.godotDB)}if(yield O.indexed.checkIfFileExist(Q)){const xe=yield O.indexed.loadBlobFromUserPath(Q,"");yield O.indexed.saveBlobToUserPath(xe,O.ConvertPathToGodot(`custom_characters/${O.ArcadeWSPeerId}/character.pck`),O.indexed.godotDB);let q={blob:xe,filename:"character.pck",file_ext:"pck"};try{const j=O.ArcadeWSAddress.split("://"),oe=`${"wss"==j[0]?"https":"http"}://${j[1]},${O.ArcadeCdnPort||9001},${O.ArcadeFilePort||9002}`,me=(new Date).getTime(),Se=`tmp_${O.ArcadeJoinedChannel}_${O.ArcadeWSPeerId}`;q.override_name=`${Se.replace(/\//g,"_")}_${me}_${q.filename}`,q.override_path="",q.override_filename=q.override_name,delete q.thumbnail;const Le=yield O.try_upload_to_user_custom_fs(q,Se,void 0,O.lang.text.Arcade.Title,oe);if(!Le)throw"\uc11c\ubc84\uc5d0 \uc5c5\ub85c\ub4dc \uc2e4\ud328";var le;null===(le=O.ArcadeWS)||void 0===le||le.send(JSON.stringify({type:"update",keys:["avatar_url"],avatar_url:Le}))}catch(j){console.log("\ud30c\uc77c \uc804\uc1a1 \uc2e4\ud328: ",j),O.p5toast.show({text:`${O.lang.text.Nakama.FailedUpload}: ${j}`})}}O.godot_window.after_use_custom_act()}),function(){return J.apply(this,arguments)})})})()}ClearSignals(){this.DomArcadeChatInput&&(this.DomArcadeChatInput.onfocus=null,this.DomArcadeChatInput.onblur=null,this.DomArcadeChatInput.onpaste=null),this.DomArcadeChatInput=null,this.ArcadeChatLog=null}ConvertPathToGodot(D){return`godot/app_userdata/Client/${D}`}auto_scroll_down(D){this.ArcadeChatLog||(this.ArcadeChatLog=document.getElementById("arcadeChatLog")),this.ArcadeChatLog&&setTimeout(()=>{let O=this.ArcadeChatLog.scrollHeight;O<this.ArcadeChatLog.scrollTop+this.ArcadeChatLog.clientHeight+120&&this.ArcadeChatLog.scrollTo({top:O,behavior:"smooth"})},D||0)}CreateGodotIFrameWithDuplicateAct(D,O,P,J,re){var $=this;return(0,I.A)(function*(){if($.ArcadeLoaded&&!P.force)$.p5toast.show({text:$.lang.text.Arcade.ArcadeOpened}),re&&re();else{try{if(D.blob)throw"\uc900\ube44\ub41c blob \uc815\ubcf4";if(!D.url)throw"\ud30c\uc77c \uc815\ubcf4\uc5d0 URL\uc774 \uc5c6\uc74c";try{D.blob=yield $.downloadWithProgressAsBlob(D.url)}catch(H){throw H}}catch(H){console.log("pck \uc5f4\ub78c \uc624\ub958: ",H)}const Q=$.ConvertPathToGodot(P.path);let V=!1;if($.indexed.godotDB)try{yield $.indexed.GetGodotIndexedDB(),yield $.indexed.saveBlobToUserPath(D.blob,Q,$.indexed.godotDB),V=!0}catch(H){console.log("\ub0b4\ubd80 \ud30c\uc77c \uc5c6\uc74c: ",H)}if(yield $.CreateGodotIFrame(O,P,!0),!V){try{yield $.indexed.GetGodotIndexedDB(),yield $.indexed.saveBlobToUserPath(D.blob,Q,$.indexed.godotDB)}catch{}yield $.CreateGodotIFrame(O,P)}J&&J(),P.force&&($.WebRTCService.dataChannelOnMsgAct=H=>{$.godot_window&&$.godot_window.webrtc_recv&&$.godot_window.webrtc_recv(H)}),$.godot_window.start_load_pck()}})()}downloadWithProgressAsBlob(D,O,P){var J=this;return(0,I.A)(function*(){let $=0;const Q=D.split("/").pop(),V=P||D;yield J.p5loading.update({id:V,message:`${J.lang.text.Arcade.TryingDownload}: ${Q}`});const H=function(){var Z=(0,I.A)(function*(){try{const le=yield fetch(D,{signal:null==O?void 0:O.signal}),xe=le.headers.get("Content-Length");if(!xe)throw console.log("Content-Length not available"),`${le.statusText} (${le.status})`;const q=parseInt(xe,10);let j=0;const oe=le.body.getReader(),me=[];for(;;){const{done:Le,value:Xe}=yield oe.read();if(Le)break;me.push(Xe),j+=Xe.length;const lt=j/q;J.p5loading.update({id:V,message:`${J.lang.text.Arcade.TryingDownload}: ${Q}: ${(100*lt).toFixed(1)}%`,progress:lt}),yield new Promise(nt=>setTimeout(nt,0))}const Se=new Blob(me);return J.p5loading.remove(V),Se}catch{if($<5)return $++,console.log(`Retry ${$} of 5...`),yield new Promise(xe=>setTimeout(xe,2e3)),H();throw console.log("Max retries reached. Download failed."),J.p5loading.remove(V),"Download failed after multiple retries."}});return function(){return Z.apply(this,arguments)}}();return H()})()}ToggleBackgroundMode(){var D,O,P;this.IsBackgroundMode=!this.IsBackgroundMode,null===(D=this.BackgroundAudioDiv)||void 0===D||D.remove(),this.BackgroundAudioDiv=null,null===(O=this.BGModeAudio)||void 0===O||O.pause(),null===(P=this.BGModeAudio)||void 0===P||P.remove(),this.BGModeAudio=null,this.IsBackgroundMode?(this.windowOnFocusAct.bgmode=()=>{var J,re,$;null===(J=this.BackgroundAudioDiv)||void 0===J||J.remove(),this.BackgroundAudioDiv=null,null===(re=this.BGModeAudio)||void 0===re||re.pause(),null===($=this.BGModeAudio)||void 0===$||$.remove(),this.BGModeAudio=null},this.WindowOnBlurAct.bgmode=()=>{this.BackgroundAudioDiv=document.createElement("div"),this.BGModeAudio=new Audio("assets/empty.ogg"),this.BGModeAudio.hidden=!0,this.BGModeAudio.loop=!0,this.BGModeAudio.play(),this.BackgroundAudioDiv.appendChild(this.BGModeAudio)},this.p5loading.update({id:"toggle_bgmode",message:this.lang.text.Arcade.BGModeOn,progress:null,forceEnd:1e3})):(delete this.windowOnFocusAct.bgmode,delete this.WindowOnBlurAct.bgmode,this.p5loading.update({id:"toggle_bgmode",message:this.lang.text.Arcade.BGModeOff,progress:1,forceEnd:1e3}))}CreateInfoSocket(D){this.ArcadeUserInputAddress?(this.ArcadeWS=new WebSocket(`${this.ArcadeWSAddress}:${this.ArcadeSquarePort||12013}`),this.ArcadeWS.onopen=()=>{var O;null===(O=this.ArcadeWS)||void 0===O||O.send(JSON.stringify({type:"initInfo",act:"arcade",url:D}))},this.CreateArcadeWSOnMsgAct(),this.CreateArcadeWSCloseAct()):this.p5toast.show({text:this.lang.text.Arcade.NoWSAddress})}CatchWebSocketAddressFromServerInfo(D){return`${D.useSSL?"wss":"ws"}://${D.address}`}CreateArcadeWSOnMsgAct(){var D=this;const P="arcade",J=()=>{this.noti.Current==P?window.focus():this.SelectArcadeTab()};this.ArcadeWS.onmessage=re=>{var $,Q,V;let H;H="string"==typeof re.data?re.data:re.data.text();try{let xe=JSON.parse(H);switch(xe.type){case"text":{let oe=xe.msg.split(" "),me=[],Se="";const Le=this.ArcadeWSPeerId==xe.uid,Xe=Le?xe.name||this.lang.text.MinimalChat.name_me:xe.name||this.lang.text.MinimalChat.name_stranger_group,lt=xe.uid?(xe.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):T?"888888":"444444";for(let nt=0,at=oe.length;nt<at;nt++)0==oe[nt].indexOf("http://")||0==oe[nt].indexOf("https://")?(me.push({text:" "+Se+" "}),Se="",me.push({href:!0,text:oe[nt]})):Se+=" "+oe[nt];Se&&me.push({text:" "+Se}),this.arcadeChat.logs.push({color:lt,text:me,target:Xe,isMe:Le}),this.noti.PushLocal({id:13,title:Xe,body:xe.msg,bgcolor:lt},P,J),this.auto_scroll_down()}break;case"file":{var Z,le;const oe=this.ArcadeWSPeerId==xe.uid,me=oe?xe.name||this.lang.text.MinimalChat.name_me:xe.name||this.lang.text.MinimalChat.name_stranger_group,Se=xe.uid?(xe.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):T?"888888":"444444";this.arcadeChat.logs.push({color:Se,file:xe,target:me,isMe:oe}),this.noti.PushLocal({id:13,title:me,body:this.lang.text.MinimalChat.user_send_attach,image:"image"==(null===(Z=xe.info)||void 0===Z?void 0:Z.viewer)?null===(le=xe.info)||void 0===le?void 0:le.url:void 0,bgcolor:Se},P,J),this.auto_scroll_down()}break;case"req_info":if(xe.error)return void this.p5toast.show({text:this.lang.text.InstantCall.ExpiredChannel});this.ArcadeWSPeerId=xe.uid,this.ArcadeJoinedChannel=xe.channel_id;const q=xe.url;!function(){var oe=(0,I.A)(function*(){try{var me;D.SelectArcadeTab&&D.SelectArcadeTab();const Se=yield D.downloadWithProgressAsBlob(q);yield D.CreateArcadeFrame({blob:Se}),null===(me=D.ArcadeWS)||void 0===me||me.send(JSON.stringify({type:"join",channel:xe.channel_id,name:D.CallbackNakama.users.self.display_name}))}catch(Se){console.log("\ube60\ub978 \uc9c4\uc785 \uc2dc\uc791 \uc624\ub958: ",Se)}});return function(){return oe.apply(this,arguments)}}()();break;case"init_id":this.ArcadeJoinedChannel=xe.id,this.ArcadeWSPeerId=xe.uid,null===($=this.afterInitAct)||void 0===$||$.call(this),this.ArcadeSocketId=xe.socketId,null===(Q=this.ArcadeWS)||void 0===Q||Q.send(JSON.stringify({type:"join",channel:this.ArcadeJoinedChannel,name:this.CallbackNakama.users.self.display_name}));break;case"socket_react":switch(xe.act){case"WEBRTC_REPLY_INIT_SIGNAL":this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_Reply),this.WebRTCService.WEBRTC_REPLY_INIT_SIGNAL(xe.data_str,{client:this.ArcadeWS,channel:this.ArcadeJoinedChannel}),"EOL"==xe.data_str&&(this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_Offer),this.WebRTCService.CreateAnswer({client:this.ArcadeWS,channel:this.ArcadeJoinedChannel})),this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_Ice);break;case"WEBRTC_REPLY_INIT_SIGNAL_PART":this.WebRTCService.WEBRTC_REPLY_INIT_SIGNAL_PART({client:this.ArcadeWS,channel:this.ArcadeJoinedChannel});break;case"WEBRTC_ICE_CANDIDATES":this.WebRTCService.WEBRTC_ICE_CANDIDATES(xe.data_str,{client:this.ArcadeWS,channel:this.ArcadeJoinedChannel}),this.ArcadeLoadingCtrl&&(this.ArcadeLoadingCtrl.message=this.lang.text.voidDraw.WebRTC_datachannel),null===(V=this.ArcadeWS)||void 0===V||V.send(JSON.stringify({type:"init_end",channel:this.ArcadeJoinedChannel}));break;case"WEBRTC_INIT_REQ_SIGNAL":this.WebRTCService.WEBRTC_INIT_REQ_SIGNAL({client:this.ArcadeWS,channel:this.ArcadeJoinedChannel});break;case"WEBRTC_RECEIVE_ANSWER":this.WebRTCService.WEBRTC_RECEIVE_ANSWER(xe.data_str,{client:this.ArcadeWS,channel:this.ArcadeJoinedChannel})}break;case"join":{const me=this.ArcadeWSPeerId==xe.uid?xe.name||this.lang.text.MinimalChat.name_me:xe.name||this.lang.text.MinimalChat.name_stranger_group,Se=xe.uid?(xe.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):T?"888888":"444444";this.arcadeChat.logs.push({color:Se,text:[{text:" "+this.lang.text.MinimalChat.user_join}],target:me,isSystem:!0}),this.noti.PushLocal({id:13,title:this.lang.text.MinimalChat.user_join,body:me+` | ${this.lang.text.MinimalChat.user_join_comment}`,bgcolor:Se},P,J),this.auto_scroll_down()}break;case"leave":{const me=this.ArcadeWSPeerId==xe.uid?xe.name||this.lang.text.MinimalChat.name_me:xe.name||this.lang.text.MinimalChat.name_stranger_group,Se=xe.uid?(xe.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):T?"888888":"444444";this.arcadeChat.logs.push({color:Se,text:[{text:" "+this.lang.text.MinimalChat.user_out}],target:me,isSystem:!0}),this.noti.PushLocal({id:13,title:this.lang.text.MinimalChat.user_out,body:me+` | ${this.lang.text.MinimalChat.user_out_comment}`,bgcolor:Se},P,J),this.auto_scroll_down()}break;default:this.godot_window&&this.godot_window.ws_recv&&this.godot_window.ws_recv(H)}}catch{}}}CreateArcadeWSCloseAct(){this.ArcadeWS.onerror=D=>{console.log("\uc544\ucf00\uc774\ub4dc \uc18c\ucf13 \uc624\ub958: ",D),this.ArcadeWS.close()},this.ArcadeWS.onclose=()=>{this.ArcadeSocketId=null,this.ArcadeWSPeerId=null,this.ArcadeJoinedChannel=null,this.WebRTCService.close_webrtc(),this.ArcadeQRAddress=null,this.ArcadeQRCodeSRC=null,this.ArcadeWS.onopen=null,this.ArcadeWS.onmessage=null,this.ArcadeWS.onclose=null,this.afterInitAct=null,this.ArcadeWS=null}}OpenArcadeQRCode(){this.ArcadeObject.QRCode.onDidDismiss().then(()=>{this.RestoreShortCutAct("arcade-qrcode")}),this.StoreShortCutAct("arcade-qrcode"),this.ArcadeObject.QRCode.present()}JoinArcadeWithSocketInfo(D){this.ArcadeWSAddress=D.address,this.ArcadeSquarePort=D.square_port,this.ArcadeCdnPort=D.cdn_port,this.ArcadeFilePort=D.apache_port,this.ArcadeSocketId=D.socketId,this.ArcadeWS?this.p5toast.show({text:this.lang.text.Arcade.AlreadyUseWS}):(this.ArcadeWS=new WebSocket(`${this.ArcadeWSAddress}:${this.ArcadeSquarePort||12013}`),this.ArcadeWS.onopen=()=>{var O;null===(O=this.ArcadeWS)||void 0===O||O.send(JSON.stringify({type:"reqInfo",socketId:this.ArcadeSocketId}))},this.CreateArcadeWSOnMsgAct(),this.CreateArcadeWSCloseAct())}req_file_part_base64(D,O,P){let J="",re=new Uint8Array(D.contents.slice(O*z,(O+1)*z));for(let Q=0,V=re.byteLength;Q<V;Q++)J+=String.fromCharCode(re[Q]);let $=btoa(J);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:O}),`${P}.history`),$}save_file_part(D,O,P){this.indexed.saveBase64ToUserPath(","+P,`${D}_part/${O}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:O}),`${D}.history`)}remove_req_file_info(D,O){delete D.content.transfer_index,this.indexed.removeFileFromUserPath(`${O}.history`)}modulate_thumbnail(D,O,P){var J=this;return(0,I.A)(function*(){try{let re=yield J.indexed.loadBlobFromUserPath(`${D.path}_thumbnail.png`,"image/png");const $=URL.createObjectURL(re);return D.thumbnail=J.sanitizer.bypassSecurityTrustUrl($),void setTimeout(()=>{URL.revokeObjectURL($),O&&URL.revokeObjectURL(O)},100)}catch{}switch(D.viewer){case"image":try{if(D.size>1e6)return;if(!D.url)throw"No URL";if(!(yield fetch(D.url,{method:"HEAD",signal:null==P?void 0:P.signal})).ok)throw"Not ok";D.thumbnail=D.url}catch{O&&(D.thumbnail=J.sanitizer.bypassSecurityTrustUrl(O))}break;case"text":if(D.url){const re=yield fetch(D.url,{signal:null==P?void 0:P.signal}).then($=>$.text());D.text=re.substring(0,45).split("\n")}else new et(re=>{re.setup=()=>{re.noCanvas(),re.loadStrings(O,$=>{const V=$.join("\n").substring(0,45);D.text=V.split("\n"),URL.revokeObjectURL(O),re.remove()},$=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",$),D.text=[J.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(O),re.remove()})}})}O&&setTimeout(()=>{URL.revokeObjectURL(O)},100)})()}set_viewer_category(D){try{if(this.set_viewer_category_from_ext(D),"disabled"==D.viewer)if(0==D.type.indexOf("image/"))D.viewer="image";else if(0==D.type.indexOf("audio/"))D.viewer="audio";else if(0==D.type.indexOf("video/"))D.viewer="video";else{if(0!=D.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";D.viewer="text"}}catch(O){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",O,"/ type: ",D.type)}}set_viewer_category_from_ext(D){switch(D.file_ext){case"blend":D.viewer="blender";break;case"pck":D.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":D.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":D.viewer="audio";break;case"mp4":case"ogv":D.viewer="video";break;case"webm":try{D.viewer=0==D.type.indexOf("video/")?"video":"audio"}catch(O){console.log("\ud30c\uc77c \ud655\uc7a5\uc790 \uac80\ud1a0 \uc624\ub958: ",O,"/",D),D.viewer="disabled"}break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"markdown":case"prop":case"properties":case"json":case"yml":D.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":D.viewer="text";break;case"pdf":D.viewer="pdf";break;default:D.viewer="disabled"}}GetBase64ThroughFileReader(D){return new Promise((O,P)=>{var J;let re=new FileReader;re=null!==(J=re._realReader)&&void 0!==J?J:re,re.onload=$=>{re.onload=null,re.onerror=null,O($.target.result.replace(/"|\\|=/g,""))},re.onerror=$=>{re.onload=null,re.onerror=null,P($)},re.readAsDataURL(D)})}Base64ToBlob(D,O=""){let P=atob(D.split(",")[1]),J=new ArrayBuffer(P.length),re=new Int8Array(J);for(let Q=0,V=P.length;Q<V;Q++)re[Q]=P.charCodeAt(Q);return new Blob([re],{type:O})}upload_file_to_storage(D,O,P,J,re,$,Q){var V=this;return(0,I.A)(function*(){const H=$||`upload_file_to_storage_${Date.now()}`;let le,xe,Z=!1;re&&(le=yield V.try_upload_to_user_custom_fs(D,null==O?void 0:O.user_id,H,Q));try{var q;if(le)throw Z=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";const j=(new Date).getTime(),me=D.filename.replace(/[\/\\:*?"<>|#&?%+\s]/g,"_").substring(0,D.filename.lastIndexOf(".")),Se=D.override_name||`${null==O?void 0:O.user_id.replace(/\//g,"_")}_${j}_${me}.${D.file_ext}`,Le=null!==(q=D.override_path)&&void 0!==q?q:`${null==O?void 0:O.user_id}/${j}`.replace(/_/g,"/");le=`${P}//${J}:${(null==O?void 0:O.apache_port)||9002}/cdn/`;const Xe=Se.replace(/\//g,"_");xe=setInterval((0,I.A)(function*(){try{const st=yield fetch(`${P}//${J}:${(null==O?void 0:O.cdn_port)||9001}/filesize/${Xe}`,{method:"POST"}),it=Number(yield st.text())/D.size,Ze=Math.floor(100*it);V.p5loading.update({id:H,message:`${Q?Q+": ":""}${D.filename}: ${Ze||0}%`,progress:it})}catch(st){console.log("\ud30c\uc77c \ud06c\uae30 \uce21\uc815 \uc624\ub958: ",st)}}),700);let lt=new FormData;const He=new File([D.blob],Se);lt.append("files",He),lt.append("path",Le),lt.append("filename",D.override_filename||`${me}.${D.file_ext}`);let nt=yield fetch(`${P}//${J}:${(null==O?void 0:O.cdn_port)||9001}/cdn/${Se}`,{method:"POST",body:lt});if(le+=(yield nt.text()),!nt.ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";V.p5loading.update({id:H,message:`${Q?Q+": ":""}${D.filename}: 100%`,progress:1}),clearInterval(xe);const Be=yield fetch(le,{method:"HEAD"});if($||V.p5loading.remove(H),!Be.ok)throw"\uc694\uccad \uc2e4\ud328";Z=!0}catch(j){clearInterval(xe),V.p5loading.update({id:H,message:`${V.lang.text.GlobalAct.CancelingUpload}: ${D.filename}`,forceEnd:350}),console.log("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",j)}return Z?le:void 0})()}remove_file_from_storage(D,O){return(0,I.A)(function*(){try{let P=D.split("/cdn/"),J=P.pop(),re=P.shift(),$=re.lastIndexOf(":");$>5&&(re=re.substring(0,$)),yield fetch(`${re}:${(null==O?void 0:O.cdn_port)||9001}/remove/${J}`,{method:"POST"})}catch(P){console.log("remove_file_from_storage: ",P)}})()}remove_files_from_storage_with_key(D,O,P){return(0,I.A)(function*(){try{if(!D)throw"\ub300\uc0c1 \uc8fc\uc18c \uc5c6\uc74c";let J=D.lastIndexOf(":");J>5&&(D=D.substring(0,J)),yield fetch(`${D}:${(null==P?void 0:P.cdn_port)||9001}/remove_key/${O}`,{method:"POST"})}catch(J){throw console.log("remove_files_from_storage_with_key: ",J),J}})()}try_upload_to_user_custom_fs(D,O,P,J,re){var $=this;return(0,I.A)(function*(){var Q;const V=P||`try_upload_to_user_custom_fs_${Date.now()}`;yield $.p5loading.update({id:V,message:`${$.lang.text.Settings.TryToFallbackFS}: ${D.filename}`,progress:null});const H=(new Date).getTime(),le=D.filename.replace(/[\/\\:*?"<>|#&?%+\s]/g,"_").substring(0,D.filename.lastIndexOf(".")),xe=D.override_name||`${O.replace(/\//g,"_")}_${H}_${le}.${D.file_ext}`,q=null!==(Q=D.override_path)&&void 0!==Q?Q:`${O}/${H}`.replace(/_/g,"/");let j=new FormData;const oe=new File([D.blob],xe);let me;j.append("files",oe),j.append("path",q),j.append("filename",D.override_filename||`${le}.${D.file_ext}`),re||(re=localStorage.getItem("fallback_fs"));try{if(!re)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";const Se=re.split(","),Le=Se.shift(),Xe=Se.shift(),lt=Se.shift(),He=Le.split("://"),nt=He.pop();let at=He.shift();at?at+=":":at=$.checkProtocolFromAddress(nt)?"https:":"http:";let Be=`${at}//${nt}:${lt||9002}/cdn/`;const st=xe.replace(/\//g,"_");me=setInterval((0,I.A)(function*(){try{const pt=yield fetch(`${at}//${nt}:${Xe||9001}/filesize/${st}`,{method:"POST"}),ir=Number(yield pt.text())/D.size,zt=Math.floor(100*ir);$.p5loading.update({id:V,message:`${J?J+": ":""}${D.filename}: ${zt||0}%`,progress:ir})}catch(pt){console.log("FFS \ud30c\uc77c \ud06c\uae30 \uce21\uc815 \uc624\ub958: ",pt)}}),700);const Ye=yield fetch(`${at}//${nt}:${Xe||9001}/cdn/${xe}`,{method:"POST",body:j});if(Be+=(yield Ye.text()),!Ye.ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";$.p5loading.update({id:V,message:`${J?J+": ":""}${D.filename}: 100%`,progress:1}),clearInterval(me);const Ze=yield fetch(Be,{method:"HEAD"});if(P||$.p5loading.remove(V),Ze.ok)return Be;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(me),void $.p5loading.remove(V)}})()}GetHrefThumbnail(D,O,P){var J=this;return(0,I.A)(function*(){let re=null;0!=D.indexOf("https://")&&0!=D.indexOf("http://")&&(D=(J.checkProtocolFromAddress(D)?"https://":"http://")+D);try{let Q=localStorage.getItem("fallback_fs").split("://"),V=Q.shift(),Z=Q.pop().split(":").pop();if(!Z)throw"\uc9c0\uc815\ub41c FFS \uc5c6\uc74c";let le=yield fetch(`${V||J.checkProtocolFromAddress(Z)?"https":"http"}://${Z}:9001/get-page-info?url=${encodeURIComponent(D)}`,{signal:P.signal});if(!le.ok)throw"FFS \uc6b0\ud68c \uc2e4\ud328";re=yield le.json()}catch{if(!O)throw"\ub300\uc0c1 \uc11c\ubc84 \uc5c6\uc74c";try{let Q=yield fetch(`${O}/get-page-info?url=${encodeURIComponent(D)}`,{signal:P.signal});if(!Q.ok)throw`${Q.statusText} (${Q.status})`;re=yield Q.json()}catch(Q){console.log("GetHrefThumbnail: ",Q)}}return re})()}checkProtocolFromAddress(D){return!!D.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")}load_blender_file(D,O,P,J,re){var $=this;const Q="loadBlender";return new et(V=>{let q,H=[],Z=[],xe={};V.setup=(0,I.A)(function*(){let oe,j=V.createCanvas(D.clientWidth,D.clientHeight,V.WEBGL);j.parent(D),yield $.p5loading.update({id:Q,message:$.lang.text.ContentViewer.OnLoadContent}),$.BlenderCanvasInside=j,V.textureMode(V.NORMAL),V.textureWrap(V.REPEAT),V.clear(255,255,255,0),V.pixelDensity(1);try{oe=yield $.indexed.loadBlobFromUserPath(O.path,O.type||"")}catch{try{oe=yield $.downloadWithProgressAsBlob(O.url,re,Q)}catch(Xe){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Xe),$.p5loading.remove(Q),J()}}Object.keys($.JSBlendCache).forEach(Le=>{URL.revokeObjectURL($.JSBlendCache[Le]),delete $.JSBlendCache[Le]}),$.JSBlendCache.index="assets/js.blend/index.html";try{if("/pjcone_pwa/"==window.sub_path)throw"\uc624\ud504\ub77c\uc778 \uce90\uc2dc \uc6b0\ud68c\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c";const Xe=yield(yield fetch("assets/js.blend/build/js.blend.js",{signal:null==re?void 0:re.signal})).blob(),lt=URL.createObjectURL(Xe);$.JSBlendCache.js=lt;const nt=yield(yield fetch("assets/js.blend/example/three.js",{signal:null==re?void 0:re.signal})).blob(),at=URL.createObjectURL(nt);$.JSBlendCache.three=at;let st=yield(yield fetch("assets/js.blend/index.html",{signal:null==re?void 0:re.signal})).text();st=st.replace('src="./build/js.blend.js"',`src="${lt}"`).replace('src="./example/three.js"',`src="${at}"`);const Ye=new Blob([st],{type:"text/html"}),it=URL.createObjectURL(Ye);$.JSBlendCache.index=it}catch(Le){console.log("\ube14\ub80c\ub354 \uc624\ud504\ub77c\uc778 \ud398\uc774\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Le)}let Se=V.createElement("iframe");Se.elt.id="jsBlend",Se.elt.setAttribute("src",$.JSBlendCache.index),Se.elt.setAttribute("frameborder","0"),Se.elt.setAttribute("class","full_screen"),Se.elt.setAttribute("allow","fullscreen; encrypted-media"),Se.elt.setAttribute("scrolling","no"),Se.elt.setAttribute("withCredentials","true"),Se.hide(),D.appendChild(Se.elt),Se.elt.contentWindow.TARGET_FILE=oe,Se.elt.onload=(0,I.A)(function*(){if(!oe)return void $.p5toast.show({text:$.lang.text.ContentViewer.CannotOpenText});q=V.createDiv(),q.parent(D),q.id("logDiv"),q.style("position","absolute"),q.style("top","0"),q.style("left","0"),q.style("width","100%"),q.style("height","100%"),q.style("max-height",`${D.clientHeight}px`),q.style("pointer-events","none"),$.p5loading.remove(Q);let Le=yield Se.elt.contentWindow.JSBLEND(oe);$.p5loading.update({id:Q,message:$.lang.text.ContentViewer.OnLoadContent,forceEnd:null});const Xe=100;let lt=Le.file.AB;if(Le.file.objects.PackedFile)for(let Ht=0,br=Le.file.objects.PackedFile.length;Ht<br;Ht++){let Bt=Le.file.objects.PackedFile[Ht],fr=Bt.data.__data_address__,ar=lt.slice(fr,fr+Bt.size),$t=new Blob([ar]),Ve=URL.createObjectURL($t);V.loadImage(Ve,We=>{xe[Bt.data.__data_address__]=We,URL.revokeObjectURL(Ve)},We=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",We),URL.revokeObjectURL(Ve)})}let He=Le.file.objects.vec2f,nt=0,at=Le.file.objects.Mesh,Be=Le.file.objects.vec3f,st=0,Ye=Le.file.objects.vec2i,it=0;for(let Ht=0,br=Le.file.objects.Object.length;Ht<br;Ht++){let Bt=Le.file.objects.Object[Ht];$.p5loading.update({id:Q,message:`${$.lang.text.ContentViewer.ReadObject}: ${Bt.aname}`,progress:Ht/br});let fr=V.createVector(-Bt.loc[0]*Xe,-Bt.loc[2]*Xe,Bt.loc[1]*Xe),jt=V.createVector(Bt.rot[0],Bt.rot[2],-Bt.rot[1]);switch(Bt.type){case 1:{{let Tt=["noimp","colonly","convcolonly","navmesh"],Gt=!1;for(let Vt=0,Dt=Tt.length;Vt<Dt;Vt++)if(-1!==Bt.aname.indexOf(Tt[Vt],Bt.aname.length-Tt[Vt].length)){Gt=!0;break}if(Gt||(Gt=448==Bt.base_flag),Gt)continue}let $t,Ve,We,Re,ar=null;for(let Tt=0,Gt=at.length;Tt<Gt;Tt++)if(at[Tt].address==Bt.data.address){ar=Tt;break}try{let Tt=-1;for(let Gt=0,Vt=He.length;Gt<Vt;Gt++)if(He[Gt].address&&(Tt++,Tt==ar)){nt=Gt;break}}catch{}try{let Tt=-1,Gt=!1,Vt=Be.length;for(let Dt=0;Dt<Vt;Dt++)if(Be[Dt].address){if(Tt++,Gt){$t=Be.slice(st,Dt);break}Tt==ar&&(st=Dt,Gt=!0)}$t||($t=Be.slice(st,Vt))}catch{}try{let Tt=-1,Gt=!1,Vt=Ye.length;for(let Dt=0;Dt<Vt;Dt++)if(Ye[Dt].address){if(Tt++,Gt){Ve=Ye.slice(it,Dt);break}Tt==ar&&(it=Dt,Gt=!0)}Ve||(Ve=Ye.slice(it,Vt))}catch{}if(Bt.data.ldata.layers.length)for(let Tt=0,Gt=Bt.data.ldata.layers.length;Tt<Gt;Tt++)11===Bt.data.ldata.layers[Tt].type&&(Re=Bt.data.ldata.layers[Tt].data);else Re=Bt.data.ldata.layers.data;V.beginGeometry(),V.push(),V.translate(fr),V.scale(Bt.size[0],Bt.size[2],Bt.size[1]),Bt.rot[0]+Bt.rot[1]+Bt.rot[2]&&(q.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.MayGimbalLock}</div>`,V.rotate(V.HALF_PI,jt));try{let Tt=[];for(let Gt=0,Vt=$t.length;Gt<Vt;Gt++)Tt.push([]);for(let Gt=0,Vt=Ve.length;Gt<Vt;Gt++){var Ze,pt;let Dt=null!==(Ze=Ve[Gt].x)&&void 0!==Ze?Ze:Ve[Gt].v1,yt=null!==(pt=Ve[Gt].y)&&void 0!==pt?pt:Ve[Gt].v2;Tt[Dt].push(yt),Tt[yt].push(Dt)}for(let Dt,yt,Vt=Re.length-1;Vt>=0;Vt--){var kt,ir,zt;let Nt=Re[Vt].i,bt=null!==(kt=$t[Nt].x)&&void 0!==kt?kt:$t[Nt].co[0],Rt=null!==(ir=$t[Nt].y)&&void 0!==ir?ir:$t[Nt].co[1],cr=null!==(zt=$t[Nt].z)&&void 0!==zt?zt:$t[Nt].co[2];if(void 0!==yt){try{if(!Tt[yt].includes(Nt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";V.vertex(-bt*Xe,-cr*Xe,Rt*Xe,He[nt+Vt].x,-He[nt+Vt].y);let xt=!1;if(yt!=Dt&&(xt=Tt[Nt].includes(Dt)),xt)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{V.endShape(V.CLOSE),yt=void 0;continue}yt=Nt}else V.beginShape(),V.vertex(-bt*Xe,-cr*Xe,Rt*Xe,He[nt+Vt].x,-He[nt+Vt].y),Dt=Nt,yt=Nt}}catch(Tt){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Tt),q.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.LoadMeshFailed}: ${Tt}</div>`}V.pop(),We=V.endGeometry();let Ot,qt,nr,Ct=0;try{if(!Bt.data.mat.length)throw"no_mat";for(let Tt=0,Gt=Bt.data.mat.length;Tt<Gt;Tt++){try{let Vt=Bt.data.mat[Tt].nodetree.nodes.first.next.inputs.first.default_value.value;qt=V.color(255*(Vt[0]||0),255*(Vt[1]||0),255*(Vt[2]||0),255*(Vt[3]||0))}catch(Vt){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",Vt),q.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.FailedGetBaseColor}: ${Vt}</div>`}try{let Vt=Bt.data.mat[Tt].nodetree.nodes.first.next.inputs.last.prev.default_value.value;Ct=Bt.data.mat[Tt].nodetree.nodes.first.next.inputs.last.default_value.value,nr=V.color(255*(Vt[0]||0),255*(Vt[1]||0),255*(Vt[2]||0),255*(Vt[3]||0))}catch(Vt){q.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.FailedGetEmitColor}: ${Vt}</div>`}if(Bt.data.mat[Tt].nodetree.nodes.last.id){let Vt=Bt.data.mat[Tt].nodetree.nodes.last.id.packedfile;if(!Vt)throw"unpacked";Ot=Vt.data.__data_address__}}}catch(Tt){switch(Tt){case"unpacked":q.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":q.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(Bt.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Tt),q.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Bt.aname}: ${Tt}</div>`}}We.computeNormals(),Z.push({id:Bt.data.address,name:Bt.data.aname,color:qt,emissionColor:nr,emissionStrength:Ct,texture:Ot,mesh:We})}break;case 10:H.length<5?(q.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,H.push({type:"point",loc:fr,rot:jt,color:V.color(255,255,255)})):q.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Bt.aname}: ${$.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(ar=>setTimeout(ar,0))}$.p5loading.remove(Q),setTimeout(()=>{q.remove()},8e3),P(),Object.keys($.JSBlendCache).forEach(Ht=>{URL.revokeObjectURL($.JSBlendCache[Ht]),delete $.JSBlendCache[Ht]}),Se.elt.onload=null}),V.camera(0,0,-V.height/2/V.tan(30*V.PI/180),0,0,0,0,1,0)}),V.draw=()=>{if(V.clear(255,255,255,0),V.orbitControl(),H.length)for(let j=0,oe=H.length;j<oe;j++)"point"===H[j].type&&V.pointLight(H[j].color,H[j].loc);else V.directionalLight(128,128,128,-1,1,1);V.ambientLight(128);for(let j=0,oe=Z.length;j<oe;j++)V.push(),Z[j].texture?(V.noStroke(),xe[Z[j].texture]&&V.texture(xe[Z[j].texture])):Z[j].color?(V.noStroke(),V.ambientMaterial(Z[j].color)):(V.stroke(0),V.fill(0)),Z[j].emissionStrength&&(V.noStroke(),V.emissiveMaterial(Z[j].emissionColor)),V.model(Z[j].mesh),V.pop()},V.windowResized=()=>{setTimeout(()=>{var j;D.style.maxHeight=window.innerHeight-(this.ArcadeWithFullScreen?0:11)+"px",null===(j=q)||void 0===j||j.style("max-height",`${D.clientHeight}px`),V.resizeCanvas(D.clientWidth,D.clientHeight)},50)}})}StoreShortCutAct(D){this.CacheShortCut[D]=this.p5KeyShortCut,this.p5KeyShortCut={}}GetConnectedAddress(){return`${location.protocol}//${location.host}${window.sub_path}`}GetHeaderAddress(){var D=this;return(0,I.A)(function*(){let O;try{if(D.CustomLocalAddress)return D.CustomLocalAddress;if(!D.useLocalAddress)throw"\uac15\uc81c\ub85c github \uc8fc\uc18c \ubc1c\uc0dd\uc2dc\ud0a4\uae30";let P=D.GetConnectedAddress(),J=new AbortController;const re=setTimeout(()=>{J.abort("\uc8fc\uc18c \uac80\ud1a0 \uc2dc\uac04 \ucd08\uacfc"),J=null},250);let $=yield fetch(P,{method:"HEAD",signal:J.signal});if(clearTimeout(re),!$.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";O=P}catch{O="https://is2you2.github.io/pjcone_pwa/"}return O})()}RestoreShortCutAct(D){this.CacheShortCut[D]&&Object.keys(this.CacheShortCut[D]).length&&(this.p5KeyShortCut=this.CacheShortCut[D]),delete this.CacheShortCut[D]}ClearShortCutAct(){let D=Object.keys(this.CacheShortCut);for(let O of D)delete this.CacheShortCut[O]}from_camera(D,O,P){var J=this;return(0,I.A)(function*(){const re=P||`from_camera_${Date.now()}`;let $={};J.p5loading.update({id:re,message:J.lang.text.ChatRoom.LoadImageFromCamera});try{const Q=yield S.getPhoto({quality:90,resultType:_.Base64,source:B.Camera});$.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${Q.format}`,$.file_ext=Q.format,$.base64="data:image/jpeg;base64,"+Q.base64String,J.p5loading.update({id:re,image:$.base64}),$.thumbnail=J.sanitizer.bypassSecurityTrustUrl($.base64),$.type=`image/${Q.format}`,$.typeheader="image",$.content_related_creator=[{user_id:O.user_id,timestamp:(new Date).getTime(),display_name:O.display_name,various:"camera"}],$.content_creator={user_id:O.user_id,timestamp:(new Date).getTime(),display_name:O.display_name,various:"camera"},$.path=`${D}${$.filename}`,$.viewer="image";let H=yield J.indexed.saveBase64ToUserPath($.base64,$.path);$.blob=new Blob([H],{type:$.type}),$.size=$.blob.size}catch(Q){throw J.p5loading.update({id:re,message:`${J.lang.text.GlobalAct.ErrorFromCamera}: ${Q}`,image:null}),console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",Q),Q}return J.p5loading.remove(re),$})()}selected_blobFile_callback_act(D,O,P,J="loaded",re=[]){let $={};return $.filename=D.name,$.file_ext=D.name.split(".").pop()||D.type||this.lang.text.ChatRoom.unknown_ext,$.size=D.size,$.type=D.type||D.type_override,$.path=`${O}${$.filename}`,$.blob=D,$.content_related_creator=[...re,{user_id:P.user_id,timestamp:(new Date).getTime(),display_name:P.display_name,various:J}],$.content_creator={user_id:P.user_id,timestamp:(new Date).getTime(),display_name:P.display_name,various:J},this.set_viewer_category($),$}voidDraw_fileAct_callback(D,O,P,J){var re=this;return(0,I.A)(function*(){let $={};$.filename=D.data.name,$.file_ext="png",$.type="image/png",$.viewer="image",J?($.content_related_creator=J,$.content_creator={user_id:P.user_id,timestamp:(new Date).getTime(),display_name:P.display_name,various:"voidDraw"}):($.content_related_creator=[{user_id:P.user_id,timestamp:(new Date).getTime(),display_name:P.display_name,various:"voidDraw"}],$.content_creator={timestamp:(new Date).getTime(),display_name:re.CallbackNakama.users.self.display_name,various:"voidDraw"}),$.typeheader="image",$.path=`${O}${$.filename}`,$.thumbnail=re.sanitizer.bypassSecurityTrustUrl(D.data.img);let Q=yield re.indexed.saveBase64ToUserPath(D.data.img,$.path),V=new Blob([Q],{type:$.type});return $.blob=new File([V],D.data.name),$.size=$.blob.size,re.p5loading.remove(D.data.loadingCtrl),$})()}TextEditorNewFileName(){let D=new Date;return`texteditor_${D.getUTCFullYear()}-${("0"+(D.getMonth()+1)).slice(-2)}-${("0"+D.getDate()).slice(-2)}_${("0"+D.getHours()).slice(-2)}-${("0"+D.getMinutes()).slice(-2)}-${("0"+D.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(D,O){let P={};return"html"===(P.content_creator={user_id:O.user_id,timestamp:(new Date).getTime(),display_name:O.display_name,various:"textedit"},P.content_related_creator=[],P.content_related_creator.push(P.content_creator),P.blob=D.blob,P.path=D.path,P.size=D.blob.size,P.filename=D.blob.name||this.TextEditorNewFileName(),P.file_ext=P.filename.split(".").pop(),P.viewer="text",P.file_ext)?(P.type="text/html",P.viewer="code"):P.type="text/plain",P.typeheader="text",P}open_custom_site(D,O){try{let $,P=D.split("://"),re=P.pop().split(":");re.length>1&&re.pop();try{$="https"==P[0]||"wss"==P[0]}catch{$=this.checkProtocolFromAddress(re[0])}re[0]="//"+re[0],re.unshift($?"https":"http"),window.open(re.join(":")+`:${O||9001}`,"_blank")}catch{}}open_link(D){0!=D.indexOf("https://")&&0!=D.indexOf("http://")&&(D=(this.checkProtocolFromAddress(D)?"https://":"http://")+D),D&&window.open(D,"_blank");const O=document.activeElement;O&&O.blur()}GetValueFromClipboard(D){var O=this;return(0,I.A)(function*(){let P={type:"text/plain",value:""};const J=D||"clipboardAct";yield O.p5loading.update({id:J,message:O.lang.text.GlobalAct.ClipboardPaste,image:null,forceEnd:null});try{const re=yield navigator.clipboard.read();for(let $ of re)for(let Q of $.types){let V=yield $.getType(Q);if("image/png"==Q){P.type=Q;let H=new File([V],"image.png",{type:Q});P.value=H;const Z=URL.createObjectURL(H);O.p5loading.update({id:J,image:Z}),setTimeout(()=>{URL.revokeObjectURL(Z)},100);break}if("text/plain"==Q){P.type=Q,P.value=yield V.text();break}}return O.p5loading.remove(J),P}catch(re){return console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",re),O.p5toast.show({text:`${O.lang.text.GlobalAct.FailedToReadClipboard}: ${re}`}),P.type="error",P.value=re,O.p5loading.remove(J),P}})()}WriteValueToClipboard(D,O,P,J){var re=this;return(0,I.A)(function*(){if(!O)return;const $=J||"clipboardAct";yield re.p5loading.update({id:$,message:re.lang.text.GlobalAct.ClipboardCopy,image:null,forceEnd:null});try{let Q={},V=O;switch(D){case"text/plain":V=new Blob([O],{type:D}),O=re.truncateString(O,80);break;case"image/png":const H=URL.createObjectURL(V);re.p5loading.update({id:$,image:H}),setTimeout(()=>{URL.revokeObjectURL(H)},100)}Q[D]=V,yield navigator.clipboard.write([new ClipboardItem(Q)]),re.p5loading.update({id:$,message:`${re.lang.text.GlobalAct.PCClipboard}: ${P||O}`}),re.p5loading.remove($)}catch(Q){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",Q),re.p5toast.show({text:`${re.lang.text.GlobalAct.ClipboardFailed}: ${Q}`}),re.p5loading.update({id:$,forceEnd:350}),Q}})()}truncateString(D,O){return(null==D?void 0:D.length)>O?D.slice(0,O-1)+"\u2026":D}HTMLEncode(D){let O=(D=[...D]).length,P=[];for(;O--;){let J=D[O].codePointAt(0);P[O]=J<65||J>127||J>90&&J<97?"&#"+J+";":D[O]}return P.join("")}HTMLDecode(D){const O={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};return(D=D.replace(/&[a-zA-Z]+;/g,P=>O[P]||P)).replace(/&#(\d+);/g,(P,J)=>String.fromCodePoint(Number(J)))}StopAndSaveVoiceRecording(){var D=this;return(0,I.A)(function*(){try{let O=yield w.R.stopRecording();D.useVoiceRecording=null;let P=D.Base64ToBlob(`${O.value.mimeType},${O.value.recordDataBase64}`);return P.name=`${D.lang.text.ChatRoom.VoiceRecord}.${O.value.mimeType.split("/").pop().split(";")[0]}`,P.type_override=O.value.mimeType,P}catch(O){throw D.useVoiceRecording=null,D.p5toast.show({text:`${D.lang.text.AddPost.FailedToSaveVoice}:${O}`}),O}})()}InstantCallSend(D){this.InstantCallWSClient&&this.InstantCallWSClient.readyState==this.InstantCallWSClient.OPEN&&this.InstantCallWSClient.send(D)}ActLikeModal(D,O){this.RemoveAllModals(()=>{this.navCtrl.navigateForward(D,{animation:St.V5,state:O})})}}return(N=k).\u0275fac=function(D){return new(D||N)(i.KVO(l.W3),i.KVO(u.G),i.KVO(d.y),i.KVO(h.up),i.KVO(g.n),i.KVO(l.hG),i.KVO(a.q9),i.KVO(p.f),i.KVO(y.r))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),k})()},755:(Dr,rr,_e)=>{"use strict";_e.d(rr,{n:()=>o});var I=_e(467),M=_e(3953),et=_e(9900),St=_e(4234);let o=(()=>{var ie;class B{constructor(_,f){this.p5toast=_,this.lang=f}initialize(_=(()=>{})){if(this.ionicDB)return void _();let f=indexedDB.open("/ionicfs",10),m=()=>{f.onsuccess=null,f.onupgradeneeded=null,f.onerror=null};f.onsuccess=S=>{S.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=l=>{this.ionicDB=l.target.result,_(),m()}},f.onupgradeneeded=S=>{S.target.result.createObjectStore("FILE_DATA")},f.onerror=S=>{indexedDB.open("/ionicfs",11).onsuccess=i=>{this.ionicDB=i.target.result,_(),m()}}}GetGodotIndexedDB(){var _=this;return(0,I.A)(function*(){if(!_.godotDB)return new Promise((f,m)=>{let S=indexedDB.open("/userfs",21),w=()=>{S.onsuccess=null,S.onerror=null};S.onsuccess=i=>{_.godotDB=S.result,w(),f(void 0)},S.onerror=i=>{console.error("IndexedDB initialized failed: ",i),w(),m(i)}})})()}createRecursiveDirectory(_,f=this.ionicDB){let m=_.lastIndexOf("/"),S=_.substring(0,m);S&&this.checkIfFileExist(S).then(w=>{if(w)return void this.createRecursiveDirectory(S,f);let i=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${S}`),l=()=>{i.onsuccess=null,i.onerror=null};i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),this.createRecursiveDirectory(S,f),l()},i.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),l()}})}createDirectory(_){return new Promise((f,m)=>{this.checkIfFileExist(_).then(S=>{S&&m(this.lang.text.UserFsDir.AlreadyExistFolder);let w=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${_}`),i=()=>{w.onsuccess=null,w.onerror=null};w.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),i(),f(void 0)},w.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l),i(),m(l)}})})}saveTextFileToUserPath(_,f,m=this.ionicDB){return this.createRecursiveDirectory(f,m),new Promise((S,w)=>{let i=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(_)},`/userfs/${f}`),l=()=>{i.onsuccess=null,i.onerror=null};i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),l(),S(a)},i.onerror=a=>{l(),w(a)}})}saveBase64ToUserPath(_,f,m=this.ionicDB){return new Promise((S,w)=>{let i=atob(_.split(",")[1]),l=new ArrayBuffer(i.length),a=new Int8Array(l);for(let d=0,h=i.length;d<h;d++)a[d]=i.charCodeAt(d);this.createRecursiveDirectory(f,m);let u=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:a},`/userfs/${f}`);u.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),u.onsuccess=null,u.onerror=null,S(a)},u.onerror=d=>{u.onsuccess=null,u.onerror=null,w(d)}})}saveInt8ArrayToUserPath(_,f,m=this.ionicDB){return new Promise((S,w)=>{this.createRecursiveDirectory(f,m);let i=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:_},`/userfs/${f}`);i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),i.onsuccess=null,i.onerror=null,S()},i.onerror=l=>{i.onsuccess=null,i.onerror=null,w(l)}})}saveBlobToUserPath(_,f,m=this.ionicDB){var S=this;return new Promise(function(){var w=(0,I.A)(function*(i,l){let a;try{let d=yield _.arrayBuffer();a=new Int8Array(d)}catch(d){l(d)}S.createRecursiveDirectory(f,m);let u=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:a},`/userfs/${f}`);u.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),u.onsuccess=null,u.onerror=null,i(a)},u.onerror=d=>{u.onsuccess=null,u.onerror=null,l(d)}});return function(i,l){return w.apply(this,arguments)}}())}saveFileToUserPath(_,f,m=this.ionicDB){return this.createRecursiveDirectory(f,m),new Promise((S,w)=>{let i=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(_,`/userfs/${f}`);i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),i.onsuccess=null,i.onerror=null,S(l)},i.onerror=l=>{i.onsuccess=null,i.onerror=null,w(l)}})}checkIfFileExist(_,f=this.ionicDB){return new Promise((m,S)=>{let w=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${_}`);w.onsuccess=i=>{let l=i.target.result;w.onsuccess=null,w.onerror=null,m(l)},w.onerror=i=>{w.onsuccess=null,w.onerror=null,S(i)}})}GetFileListFromDB(_,f=this.ionicDB){let m=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((S,w)=>{m.onsuccess=i=>{const l=i.target.result;for(let a=l.length-1;a>=0;a--)l[a].includes(_)?l[a]=l[a].substring(8):l.splice(a,1);m.onsuccess=null,m.onerror=null,S(l)},m.onerror=i=>{m.onsuccess=null,m.onerror=null,w(i)}})}GetFileInfoFromDB(_,f=this.ionicDB){let m=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((S,w)=>{m.onsuccess=i=>{const l=i.target.result;m.onsuccess=null,m.onerror=null,S(l)},m.onerror=i=>{m.onsuccess=null,m.onerror=null,w(i)}})}loadTextFromUserPath(_,f=((S,w)=>{}),m=this.ionicDB){return new Promise(S=>{let w=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=i=>{if(i.target.result){let l=(new TextDecoder).decode(i.target.result.contents);w.onsuccess=null,w.onerror=null,f(!0,l),S(l)}else w.onsuccess=null,w.onerror=null,f(!1,`No file: , ${_}`),S(void 0)},w.onerror=i=>{console.error("IndexedDB loadTextFromUserPath failed: ",i),w.onsuccess=null,w.onerror=null,S(void 0)}})}loadBlobFromUserPath(_,f,m=this.ionicDB){let S=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((w,i)=>{S.onsuccess=l=>{try{let a=new Blob([l.target.result.contents],{type:f});S.onsuccess=null,S.onerror=null,w(a)}catch(a){S.onsuccess=null,S.onerror=null,i(a)}},S.onerror=l=>{S.onsuccess=null,S.onerror=null,i(l)}})}DownloadFileFromUserPath(_,f,m,S=this.ionicDB){let w=S.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=i=>{try{let l=new Blob([i.target.result.contents],{type:f}),a=URL.createObjectURL(l),u=document.createElement("a");u.download=m,u.href=a,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(a)}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}w.onsuccess=null,w.onerror=null},w.onerror=i=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",i),w.onsuccess=null,w.onerror=null}}removeFileFromUserPath(_,f=this.ionicDB){let m=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${_}`);return new Promise((S,w)=>{m.onsuccess=i=>{m.onsuccess=null,m.onerror=null,S(i)},m.onerror=i=>{m.onsuccess=null,m.onerror=null,w(i)}})}}return(ie=B).\u0275fac=function(_){return new(_||ie)(M.KVO(et.G),M.KVO(St.y))},ie.\u0275prov=M.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),B})()},4234:(Dr,rr,_e)=>{"use strict";_e.d(rr,{y:()=>o});var I=_e(467),M=_e(8326),St=_e(3953);let o=(()=>{var ie;class B{constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{},InstantCall:{},ContentViewer:{},WebRTCDevManager:{}},this.setable=[],this.lang=navigator.language.split("-")[0];let _=localStorage.getItem("lang");_&&(this.lang=_)}load_selected_lang(_="assets/data/translate.csv"){var f=this;return(0,I.A)(function*(){return yield new Promise((m,S)=>{new M(w=>{w.setup=()=>{w.noCanvas(),w.loadTable(_,"csv","header",i=>{try{let a,l=Object.keys(i.rows[0].obj);f.setable.length=0;for(let u of l)"#"!=u&&f.setable.push({value:u,display_name:i.rows[0].obj[u]});i.columns.includes(f.lang)||(f.lang=f.setable[0].value),localStorage.setItem("lang",f.lang);for(let u=0,d=i.rows.length;u<d;u++)"#"==i.rows[u].obj["#"].charAt(0)?(a=i.rows[u].obj["#"].substring(3),f.text[a]||(f.text[a]={})):a&&(f.text[a][i.rows[u].obj["#"]]=i.rows[u].obj[f.lang]);f.Callback_nakama&&f.Callback_nakama(),_&&URL.revokeObjectURL(_),w.remove(),m(void 0)}catch(l){console.log("\uc0ac\uc6a9\uc790 \uc5b8\uc5b4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",l),_&&URL.revokeObjectURL(_),w.remove(),f.load_selected_lang(),m(void 0)}},i=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",i),_&&URL.revokeObjectURL(_),w.remove(),S(i)})}})})})()}}return(ie=B).\u0275fac=function(_){return new(_||ie)},ie.\u0275prov=St.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),B})()},5547:(Dr,rr,_e)=>{"use strict";_e.d(rr,{r:()=>ie});var I=_e(467),M=_e(92),et=_e(3953),St=_e(755),o=_e(3307);let ie=(()=>{var B;class v{constructor(f,m){this.indexed=f,this.p5loading=m,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0,arcade:!0,voidDraw:!0},simplify:!1,vibrate:!1},this.Current="",this.WebNoties={}}change_silent_settings(f){this.settings.silent[f]=!this.settings.silent[f],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(f,m)=>{f&&m&&(this.settings=JSON.parse(m)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent,arcade:this.settings.silent,voidDraw:this.settings.silent})})}initialize(){var f=this;return(0,I.A)(function*(){f.ClearNoti(11),"serviceWorker"in navigator?(Notification.requestPermission().then(m=>{console.log("granted"===m?"\uc54c\ub9bc \uad8c\ud55c\uc774 \ud5c8\uc6a9\ub428.":"\uc54c\ub9bc \uad8c\ud55c\uc774 \uac70\ubd80\ub428.")},m=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800: ",m)}),navigator.serviceWorker.addEventListener("message",m=>{if(m.data.reply){if("12"===m.data.data){let S={msg:m.data.reply};if(!S.msg.trim())return;S.name=f.Sq_client.MyUserName,f.Sq_client.send(JSON.stringify(S))}}else window.swRegListenerCallback[m.data.data]&&window.swRegListenerCallback[m.data.data](),delete window.swRegListenerCallback[m.data.data]})):console.log("Service Worker is not supported in this browser.")})()}PushLocal(f,m,S=(()=>{})){var w=this;return(0,I.A)(function*(){if(document.hasFocus()&&w.Current===m||!w.settings.silent[f.smallIcon_ln||m||"icon_mono"])return;if(w.settings.simplify)return void w.p5loading.update({id:`${f.id||m}`,message:`${f.title}: ${f.body}`,clickable:S,image:f.image||f.icon||(f.smallIcon_ln?`assets/icon/${f.smallIcon_ln}.png`:void 0),progress:1,forceEnd:3500,bgcolor:f.bgcolor,soundAlert:w.settings.simplify});const i={badge:f.icon||`assets/badge/${f.smallIcon_ln||m||"favicon"}.png`,body:f.body,icon:f.icon||`assets/icon/${f.smallIcon_ln||m||"favicon"}.png`,image:f.image,silent:!w.settings.silent[f.smallIcon_ln]||!1,tag:`${f.id}`,actions:f.actions_wm,data:f.data_wm,requireInteraction:!!f.actions_wm};try{if(w.WebNoties[f.id]){try{w.WebNoties[f.id].close()}catch{}delete w.WebNoties[f.id]}if(M.Yl)delete i.actions,w.WebNoties[f.id]=new Notification(f.title,{...i}),w.WebNoties[f.id].onclick=()=>{S(),window.focus(),w.WebNoties[f.id].close()};else{yield window.swReg.showNotification(f.title,{...i});let l=yield window.swReg.getNotifications();for(let a=0,u=l.length;a<u;a++)if(l[a].tag==`${f.id}`){w.WebNoties[f.id]=l[a];break}window.swRegListenerCallback[f.id]=()=>{S(),window.focus(),w.WebNoties[f.id].close()}}}catch(l){console.log("\uc54c\ub9bc \uc0dd\uc131 \uc624\ub958: ",l)}})()}ClearNoti(f){this.p5loading.remove(`${f}`),this.WebNoties[f]&&this.WebNoties[f].close()}}return(B=v).\u0275fac=function(f){return new(f||B)(et.KVO(St.n),et.KVO(o.f))},B.\u0275prov=et.jDH({token:B,factory:B.\u0275fac,providedIn:"root"}),v})()},4237:(Dr,rr,_e)=>{"use strict";_e.d(rr,{I:()=>xr,X:()=>Mr});var S,w,I=_e(467),M=Object.defineProperty,et=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,ie=(W,pe,Pe)=>pe in W?M(W,pe,{enumerable:!0,configurable:!0,writable:!0,value:Pe}):W[pe]=Pe,B=(W,pe)=>{for(var Pe in pe||(pe={}))St.call(pe,Pe)&&ie(W,Pe,pe[Pe]);if(et)for(var Pe of et(pe))o.call(pe,Pe)&&ie(W,Pe,pe[Pe]);return W},v=(W,pe,Pe)=>new Promise((b,A)=>{var R=U=>{try{Y(Pe.next(U))}catch(te){A(te)}},C=U=>{try{Y(Pe.throw(U))}catch(te){A(te)}},Y=U=>U.done?b(U.value):Promise.resolve(U.value).then(R,C);Y((Pe=Pe.apply(W,pe)).next())}),_=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _<"u"&&_,f_searchParams="URLSearchParams"in _,f_iterable="Symbol"in _&&"iterator"in Symbol,f_blob="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),f_formData="FormData"in _,f_arrayBuffer="ArrayBuffer"in _;function i(W){if("string"!=typeof W&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(W)||""===W)throw new TypeError('Invalid character in header field name: "'+W+'"');return W.toLowerCase()}function l(W){return"string"!=typeof W&&(W=String(W)),W}function a(W){var pe={next:function(){var Pe=W.shift();return{done:void 0===Pe,value:Pe}}};return f_iterable&&(pe[Symbol.iterator]=function(){return pe}),pe}function u(W){this.map={},W instanceof u?W.forEach(function(pe,Pe){this.append(Pe,pe)},this):Array.isArray(W)?W.forEach(function(pe){this.append(pe[0],pe[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(pe){this.append(pe,W[pe])},this)}function d(W){if(W.bodyUsed)return Promise.reject(new TypeError("Already read"));W.bodyUsed=!0}function h(W){return new Promise(function(pe,Pe){W.onload=function(){pe(W.result)},W.onerror=function(){Pe(W.error)}})}function g(W){var pe=new FileReader,Pe=h(pe);return pe.readAsArrayBuffer(W),Pe}function T(W){if(W.slice)return W.slice(0);var pe=new Uint8Array(W.byteLength);return pe.set(new Uint8Array(W)),pe.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(W){this.bodyUsed=this.bodyUsed,this._bodyInit=W,W?"string"==typeof W?this._bodyText=W:f_blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:f_formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:f_searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():f_arrayBuffer&&f_blob&&function m(W){return W&&DataView.prototype.isPrototypeOf(W)}(W)?(this._bodyArrayBuffer=T(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||w(W))?this._bodyArrayBuffer=T(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||("string"==typeof W?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f_searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f_blob&&(this.blob=function(){var W=d(this);if(W)return W;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(g)}),this.text=function(){var W=d(this);if(W)return W;if(this._bodyBlob)return function p(W){var pe=new FileReader,Pe=h(pe);return pe.readAsText(W),Pe}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function y(W){for(var pe=new Uint8Array(W),Pe=new Array(pe.length),b=0;b<pe.length;b++)Pe[b]=String.fromCharCode(pe[b]);return Pe.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f_formData&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}f_arrayBuffer&&(S=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(W){return W&&S.indexOf(Object.prototype.toString.call(W))>-1}),u.prototype.append=function(W,pe){W=i(W),pe=l(pe);var Pe=this.map[W];this.map[W]=Pe?Pe+", "+pe:pe},u.prototype.delete=function(W){delete this.map[i(W)]},u.prototype.get=function(W){return W=i(W),this.has(W)?this.map[W]:null},u.prototype.has=function(W){return this.map.hasOwnProperty(i(W))},u.prototype.set=function(W,pe){this.map[i(W)]=l(pe)},u.prototype.forEach=function(W,pe){for(var Pe in this.map)this.map.hasOwnProperty(Pe)&&W.call(pe,this.map[Pe],Pe,this)},u.prototype.keys=function(){var W=[];return this.forEach(function(pe,Pe){W.push(Pe)}),a(W)},u.prototype.values=function(){var W=[];return this.forEach(function(pe){W.push(pe)}),a(W)},u.prototype.entries=function(){var W=[];return this.forEach(function(pe,Pe){W.push([Pe,pe])}),a(W)},f_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var G=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(W,pe){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Pe=(pe=pe||{}).body;if(W instanceof k){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,pe.headers||(this.headers=new u(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!Pe&&null!=W._bodyInit&&(Pe=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=pe.credentials||this.credentials||"same-origin",(pe.headers||!this.headers)&&(this.headers=new u(pe.headers)),this.method=function N(W){var pe=W.toUpperCase();return G.indexOf(pe)>-1?pe:W}(pe.method||this.method||"GET"),this.mode=pe.mode||this.mode||null,this.signal=pe.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Pe)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Pe),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==pe.cache&&"no-cache"!==pe.cache)){var b=/([?&])_=[^&]*/;b.test(this.url)?this.url=this.url.replace(b,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function X(W){var pe=new FormData;return W.trim().split("&").forEach(function(Pe){if(Pe){var b=Pe.split("="),A=b.shift().replace(/\+/g," "),R=b.join("=").replace(/\+/g," ");pe.append(decodeURIComponent(A),decodeURIComponent(R))}}),pe}function D(W){var pe=new u;return W.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(b){return 0===b.indexOf("\n")?b.substr(1,b.length):b}).forEach(function(b){var A=b.split(":"),R=A.shift().trim();if(R){var C=A.join(":").trim();pe.append(R,C)}}),pe}function O(W,pe){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');pe||(pe={}),this.type="default",this.status=void 0===pe.status?200:pe.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===pe.statusText?"":""+pe.statusText,this.headers=new u(pe.headers),this.url=pe.url||"",this._initBody(W)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},z.call(k.prototype),z.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},O.error=function(){var W=new O(null,{status:0,statusText:""});return W.type="error",W};var P=[301,302,303,307,308];O.redirect=function(W,pe){if(-1===P.indexOf(pe))throw new RangeError("Invalid status code");return new O(null,{status:pe,headers:{location:W}})};var J=_.DOMException;try{new J}catch{(J=function(pe,Pe){this.message=pe,this.name=Pe;var b=Error(pe);this.stack=b.stack}).prototype=Object.create(Error.prototype),J.prototype.constructor=J}function re(W,pe){return new Promise(function(Pe,b){var A=new k(W,pe);if(A.signal&&A.signal.aborted)return b(new J("Aborted","AbortError"));var R=new XMLHttpRequest;function C(){R.abort()}R.onload=function(){var U={status:R.status,statusText:R.statusText,headers:D(R.getAllResponseHeaders()||"")};U.url="responseURL"in R?R.responseURL:U.headers.get("X-Request-URL");var te="response"in R?R.response:R.responseText;setTimeout(function(){Pe(new O(te,U))},0)},R.onerror=function(){setTimeout(function(){b(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){b(new TypeError("Network request failed"))},0)},R.onabort=function(){setTimeout(function(){b(new J("Aborted","AbortError"))},0)},R.open(A.method,function Y(U){try{return""===U&&_.location.href?_.location.href:U}catch{return U}}(A.url),!0),"include"===A.credentials?R.withCredentials=!0:"omit"===A.credentials&&(R.withCredentials=!1),"responseType"in R&&(f_blob?R.responseType="blob":f_arrayBuffer&&A.headers.get("Content-Type")&&-1!==A.headers.get("Content-Type").indexOf("application/octet-stream")&&(R.responseType="arraybuffer")),!pe||"object"!=typeof pe.headers||pe.headers instanceof u?A.headers.forEach(function(U,te){R.setRequestHeader(te,U)}):Object.getOwnPropertyNames(pe.headers).forEach(function(U){R.setRequestHeader(U,l(pe.headers[U]))}),A.signal&&(A.signal.addEventListener("abort",C),R.onreadystatechange=function(){4===R.readyState&&A.signal.removeEventListener("abort",C)}),R.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}re.polyfill=!0,_.fetch||(_.fetch=re,_.Headers=u,_.Request=k,_.Response=O);var $="function"==typeof atob,Q="function"==typeof btoa,V="function"==typeof Buffer,H="function"==typeof TextDecoder?new TextDecoder:void 0,Z="function"==typeof TextEncoder?new TextEncoder:void 0,xe=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),q=(W=>{let pe={};return W.forEach((Pe,b)=>pe[Pe]=b),pe})(xe),j=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,oe=String.fromCharCode.bind(String),me="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):W=>new Uint8Array(Array.prototype.slice.call(W,0)),Le=W=>W.replace(/[^A-Za-z0-9\+\/]/g,""),lt=Q?W=>btoa(W):V?W=>Buffer.from(W,"binary").toString("base64"):W=>{let pe,Pe,b,A,R="";const C=W.length%3;for(let Y=0;Y<W.length;){if((Pe=W.charCodeAt(Y++))>255||(b=W.charCodeAt(Y++))>255||(A=W.charCodeAt(Y++))>255)throw new TypeError("invalid character found");pe=Pe<<16|b<<8|A,R+=xe[pe>>18&63]+xe[pe>>12&63]+xe[pe>>6&63]+xe[63&pe]}return C?R.slice(0,C-3)+"===".substring(C):R},He=V?W=>Buffer.from(W).toString("base64"):W=>{let Pe=[];for(let b=0,A=W.length;b<A;b+=4096)Pe.push(oe.apply(null,W.subarray(b,b+4096)));return lt(Pe.join(""))},nt=W=>{if(W.length<2)return(pe=W.charCodeAt(0))<128?W:pe<2048?oe(192|pe>>>6)+oe(128|63&pe):oe(224|pe>>>12&15)+oe(128|pe>>>6&63)+oe(128|63&pe);var pe=65536+1024*(W.charCodeAt(0)-55296)+(W.charCodeAt(1)-56320);return oe(240|pe>>>18&7)+oe(128|pe>>>12&63)+oe(128|pe>>>6&63)+oe(128|63&pe)},at=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,st=V?W=>Buffer.from(W,"utf8").toString("base64"):Z?W=>He(Z.encode(W)):W=>lt((W=>W.replace(at,nt))(W)),Ye=(W,pe=!1)=>pe?(W=>W.replace(/=/g,"").replace(/[+\/]/g,pe=>"+"==pe?"-":"_"))(st(W)):st(W),it=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ze=W=>{switch(W.length){case 4:var Pe=((7&W.charCodeAt(0))<<18|(63&W.charCodeAt(1))<<12|(63&W.charCodeAt(2))<<6|63&W.charCodeAt(3))-65536;return oe(55296+(Pe>>>10))+oe(56320+(1023&Pe));case 3:return oe((15&W.charCodeAt(0))<<12|(63&W.charCodeAt(1))<<6|63&W.charCodeAt(2));default:return oe((31&W.charCodeAt(0))<<6|63&W.charCodeAt(1))}},ir=$?W=>atob(Le(W)):V?W=>Buffer.from(W,"base64").toString("binary"):W=>{if(W=W.replace(/\s+/g,""),!j.test(W))throw new TypeError("malformed base64.");W+="==".slice(2-(3&W.length));let pe,b,A,Pe="";for(let R=0;R<W.length;)pe=q[W.charAt(R++)]<<18|q[W.charAt(R++)]<<12|(b=q[W.charAt(R++)])<<6|(A=q[W.charAt(R++)]),Pe+=64===b?oe(pe>>16&255):64===A?oe(pe>>16&255,pe>>8&255):oe(pe>>16&255,pe>>8&255,255&pe);return Pe},zt=V?W=>me(Buffer.from(W,"base64")):W=>me(ir(W).split("").map(pe=>pe.charCodeAt(0))),hr=V?W=>Buffer.from(W,"base64").toString("utf8"):H?W=>H.decode(zt(W)):W=>(W=>W.replace(it,Ze))(ir(W)),br=W=>hr((W=>Le(W.replace(/[-_]/g,pe=>"-"==pe?"+":"/")))(W));function Bt(W,pe,Pe){const b=B(B({},{method:W}),pe);if(b.headers=B({},pe.headers),typeof XMLHttpRequest<"u"){const A=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=A&&A.set||(b.credentials="cocos-ignore")}return Object.keys(b.headers).includes("Accept")||(b.headers.Accept="application/json"),Object.keys(b.headers).includes("Content-Type")||(b.headers["Content-Type"]="application/json"),Object.keys(b.headers).forEach(A=>{b.headers[A]||delete b.headers[A]}),Pe&&(b.body=Pe),b}var fr=class{constructor(W,pe,Pe){this.serverKey=W,this.basePath=pe,this.timeoutMs=Pe}healthcheck(W,pe={}){const R=this.buildFullUrl(this.basePath,"/healthcheck",new Map),C=Bt("GET",pe,"");return W&&(C.headers.Authorization="Bearer "+W),Promise.race([fetch(R,C).then(Y=>{if(204==Y.status)return Y;if(Y.status>=200&&Y.status<300)return Y.json();throw Y}),new Promise((Y,U)=>setTimeout(U,this.timeoutMs,"Request timed out."))])}deleteAccount(W,pe={}){const R=this.buildFullUrl(this.basePath,"/v2/account",new Map),C=Bt("DELETE",pe,"");return W&&(C.headers.Authorization="Bearer "+W),Promise.race([fetch(R,C).then(Y=>{if(204==Y.status)return Y;if(Y.status>=200&&Y.status<300)return Y.json();throw Y}),new Promise((Y,U)=>setTimeout(U,this.timeoutMs,"Request timed out."))])}getAccount(W,pe={}){const R=this.buildFullUrl(this.basePath,"/v2/account",new Map),C=Bt("GET",pe,"");return W&&(C.headers.Authorization="Bearer "+W),Promise.race([fetch(R,C).then(Y=>{if(204==Y.status)return Y;if(Y.status>=200&&Y.status<300)return Y.json();throw Y}),new Promise((Y,U)=>setTimeout(U,this.timeoutMs,"Request timed out."))])}updateAccount(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account",A),Y=Bt("PUT",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}authenticateApple(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateCustom(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateDevice(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateEmail(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateFacebook(W,pe,Pe,b,A,R,C={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const U=new Map;U.set("create",b),U.set("username",A),U.set("sync",R);let te="";te=JSON.stringify(Pe||{});const Oe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",U),Te=Bt("POST",C,te);return W&&(Te.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(Oe,Te).then(Je=>{if(204==Je.status)return Je;if(Je.status>=200&&Je.status<300)return Je.json();throw Je}),new Promise((Je,gt)=>setTimeout(gt,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateGoogle(W,pe,Pe,b,A,R={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const Y=new Map;Y.set("create",b),Y.set("username",A);let U="";U=JSON.stringify(Pe||{});const te=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",Y),Oe=Bt("POST",R,U);return W&&(Oe.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}authenticateSteam(W,pe,Pe,b,A,R,C={}){if(null==Pe)throw new Error("'account' is a required parameter but is null or undefined.");const U=new Map;U.set("create",b),U.set("username",A),U.set("sync",R);let te="";te=JSON.stringify(Pe||{});const Oe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",U),Te=Bt("POST",C,te);return W&&(Te.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(Oe,Te).then(Je=>{if(204==Je.status)return Je;if(Je.status>=200&&Je.status<300)return Je.json();throw Je}),new Promise((Je,gt)=>setTimeout(gt,this.timeoutMs,"Request timed out."))])}linkApple(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/apple",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkCustom(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/custom",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkDevice(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/device",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkEmail(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/email",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkFacebook(W,pe,Pe,b={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const R=new Map;R.set("sync",Pe);let C="";C=JSON.stringify(pe||{});const Y=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",R),U=Bt("POST",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkGameCenter(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkGoogle(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/google",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}linkSteam(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/link/steam",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}sessionRefresh(W,pe,Pe,b={}){if(null==Pe)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let C="";C=JSON.stringify(Pe||{});const Y=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",R),U=Bt("POST",b,C);return W&&(U.headers.Authorization="Basic "+Ye(W+":"+pe)),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}unlinkApple(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkCustom(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkDevice(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkEmail(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkFacebook(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkGoogle(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}unlinkSteam(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listChannelMessages(W,pe,Pe,b,A,R={}){if(null==pe)throw new Error("'channelId' is a required parameter but is null or undefined.");const C="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(pe))),Y=new Map;Y.set("limit",Pe),Y.set("forward",b),Y.set("cursor",A);const te=this.buildFullUrl(this.basePath,C,Y),Oe=Bt("GET",R,"");return W&&(Oe.headers.Authorization="Bearer "+W),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}event(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/event",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}deleteFriends(W,pe,Pe,b={}){const R=new Map;R.set("ids",pe),R.set("usernames",Pe);const Y=this.buildFullUrl(this.basePath,"/v2/friend",R),U=Bt("DELETE",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}listFriends(W,pe,Pe,b,A={}){const C=new Map;C.set("limit",pe),C.set("state",Pe),C.set("cursor",b);const U=this.buildFullUrl(this.basePath,"/v2/friend",C),te=Bt("GET",A,"");return W&&(te.headers.Authorization="Bearer "+W),Promise.race([fetch(U,te).then(Oe=>{if(204==Oe.status)return Oe;if(Oe.status>=200&&Oe.status<300)return Oe.json();throw Oe}),new Promise((Oe,Te)=>setTimeout(Te,this.timeoutMs,"Request timed out."))])}addFriends(W,pe,Pe,b={}){const R=new Map;R.set("ids",pe),R.set("usernames",Pe);const Y=this.buildFullUrl(this.basePath,"/v2/friend",R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}blockFriends(W,pe,Pe,b={}){const R=new Map;R.set("ids",pe),R.set("usernames",Pe);const Y=this.buildFullUrl(this.basePath,"/v2/friend/block",R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}importFacebookFriends(W,pe,Pe,b={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const R=new Map;R.set("reset",Pe);let C="";C=JSON.stringify(pe||{});const Y=this.buildFullUrl(this.basePath,"/v2/friend/facebook",R),U=Bt("POST",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(W,pe,Pe,b={}){const R=new Map;R.set("limit",pe),R.set("cursor",Pe);const Y=this.buildFullUrl(this.basePath,"/v2/friend/friends",R),U=Bt("GET",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}importSteamFriends(W,pe,Pe,b={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const R=new Map;R.set("reset",Pe);let C="";C=JSON.stringify(pe||{});const Y=this.buildFullUrl(this.basePath,"/v2/friend/steam",R),U=Bt("POST",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}listGroups(W,pe,Pe,b,A,R,C,Y={}){const te=new Map;te.set("name",pe),te.set("cursor",Pe),te.set("limit",b),te.set("lang_tag",A),te.set("members",R),te.set("open",C);const Te=this.buildFullUrl(this.basePath,"/v2/group",te),Je=Bt("GET",Y,"");return W&&(Je.headers.Authorization="Bearer "+W),Promise.race([fetch(Te,Je).then(gt=>{if(204==gt.status)return gt;if(gt.status>=200&&gt.status<300)return gt.json();throw gt}),new Promise((gt,Wt)=>setTimeout(Wt,this.timeoutMs,"Request timed out."))])}createGroup(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/group",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}deleteGroup(W,pe,Pe={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const b="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("DELETE",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}updateGroup(W,pe,Pe,b={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'body' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(pe))),R=new Map;let C="";C=JSON.stringify(Pe||{});const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("PUT",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}addGroupUsers(W,pe,Pe,b={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(pe))),R=new Map;R.set("user_ids",Pe);const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}banGroupUsers(W,pe,Pe,b={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(pe))),R=new Map;R.set("user_ids",Pe);const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(W,pe,Pe,b={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(pe))),R=new Map;R.set("user_ids",Pe);const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}joinGroup(W,pe,Pe={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const b="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("POST",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}kickGroupUsers(W,pe,Pe,b={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(pe))),R=new Map;R.set("user_ids",Pe);const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}leaveGroup(W,pe,Pe={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const b="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("POST",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(W,pe,Pe,b={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(pe))),R=new Map;R.set("user_ids",Pe);const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}listGroupUsers(W,pe,Pe,b,A,R={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const C="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(pe))),Y=new Map;Y.set("limit",Pe),Y.set("state",b),Y.set("cursor",A);const te=this.buildFullUrl(this.basePath,C,Y),Oe=Bt("GET",R,"");return W&&(Oe.headers.Authorization="Bearer "+W),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listSubscriptions(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/subscription",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}getSubscription(W,pe,Pe={}){if(null==pe)throw new Error("'productId' is a required parameter but is null or undefined.");const b="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("GET",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(W,pe,Pe={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const b="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("DELETE",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(W,pe,Pe,b,A,R,C={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const Y="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),U=new Map;U.set("owner_ids",Pe),U.set("limit",b),U.set("cursor",A),U.set("expiry",R);const Oe=this.buildFullUrl(this.basePath,Y,U),Te=Bt("GET",C,"");return W&&(Te.headers.Authorization="Bearer "+W),Promise.race([fetch(Oe,Te).then(Je=>{if(204==Je.status)return Je;if(Je.status>=200&&Je.status<300)return Je.json();throw Je}),new Promise((Je,gt)=>setTimeout(gt,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(W,pe,Pe,b={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'record' is a required parameter but is null or undefined.");const A="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),R=new Map;let C="";C=JSON.stringify(Pe||{});const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(W,pe,Pe,b,A,R,C={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Y="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(pe))).replace("{ownerId}",encodeURIComponent(String(Pe))),U=new Map;U.set("limit",b),U.set("expiry",A),U.set("cursor",R);const Oe=this.buildFullUrl(this.basePath,Y,U),Te=Bt("GET",C,"");return W&&(Te.headers.Authorization="Bearer "+W),Promise.race([fetch(Oe,Te).then(Je=>{if(204==Je.status)return Je;if(Je.status>=200&&Je.status<300)return Je.json();throw Je}),new Promise((Je,gt)=>setTimeout(gt,this.timeoutMs,"Request timed out."))])}listMatches(W,pe,Pe,b,A,R,C,Y={}){const te=new Map;te.set("limit",pe),te.set("authoritative",Pe),te.set("label",b),te.set("min_size",A),te.set("max_size",R),te.set("query",C);const Te=this.buildFullUrl(this.basePath,"/v2/match",te),Je=Bt("GET",Y,"");return W&&(Je.headers.Authorization="Bearer "+W),Promise.race([fetch(Te,Je).then(gt=>{if(204==gt.status)return gt;if(gt.status>=200&&gt.status<300)return gt.json();throw gt}),new Promise((gt,Wt)=>setTimeout(Wt,this.timeoutMs,"Request timed out."))])}deleteNotifications(W,pe,Pe={}){const A=new Map;A.set("ids",pe);const C=this.buildFullUrl(this.basePath,"/v2/notification",A),Y=Bt("DELETE",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listNotifications(W,pe,Pe,b={}){const R=new Map;R.set("limit",pe),R.set("cacheable_cursor",Pe);const Y=this.buildFullUrl(this.basePath,"/v2/notification",R),U=Bt("GET",b,"");return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}rpcFunc2(W,pe,Pe,b,A={}){if(null==pe)throw new Error("'id' is a required parameter but is null or undefined.");const R="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(pe))),C=new Map;C.set("payload",Pe),C.set("http_key",b);const U=this.buildFullUrl(this.basePath,R,C),te=Bt("GET",A,"");return W&&(te.headers.Authorization="Bearer "+W),Promise.race([fetch(U,te).then(Oe=>{if(204==Oe.status)return Oe;if(Oe.status>=200&&Oe.status<300)return Oe.json();throw Oe}),new Promise((Oe,Te)=>setTimeout(Te,this.timeoutMs,"Request timed out."))])}rpcFunc(W,pe,Pe,b,A={}){if(null==pe)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'body' is a required parameter but is null or undefined.");const R="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(pe))),C=new Map;C.set("http_key",b);let Y="";Y=JSON.stringify(Pe||{});const U=this.buildFullUrl(this.basePath,R,C),te=Bt("POST",A,Y);return W&&(te.headers.Authorization="Bearer "+W),Promise.race([fetch(U,te).then(Oe=>{if(204==Oe.status)return Oe;if(Oe.status>=200&&Oe.status<300)return Oe.json();throw Oe}),new Promise((Oe,Te)=>setTimeout(Te,this.timeoutMs,"Request timed out."))])}sessionLogout(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/session/logout",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}readStorageObjects(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/storage",A),Y=Bt("POST",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}writeStorageObjects(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/storage",A),Y=Bt("PUT",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(W,pe,Pe={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const A=new Map;let R="";R=JSON.stringify(pe||{});const C=this.buildFullUrl(this.basePath,"/v2/storage/delete",A),Y=Bt("PUT",Pe,R);return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listStorageObjects(W,pe,Pe,b,A,R={}){if(null==pe)throw new Error("'collection' is a required parameter but is null or undefined.");const C="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(pe))),Y=new Map;Y.set("user_id",Pe),Y.set("limit",b),Y.set("cursor",A);const te=this.buildFullUrl(this.basePath,C,Y),Oe=Bt("GET",R,"");return W&&(Oe.headers.Authorization="Bearer "+W),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}listStorageObjects2(W,pe,Pe,b,A,R={}){if(null==pe)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'userId' is a required parameter but is null or undefined.");const C="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(pe))).replace("{userId}",encodeURIComponent(String(Pe))),Y=new Map;Y.set("limit",b),Y.set("cursor",A);const te=this.buildFullUrl(this.basePath,C,Y),Oe=Bt("GET",R,"");return W&&(Oe.headers.Authorization="Bearer "+W),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}listTournaments(W,pe,Pe,b,A,R,C,Y={}){const te=new Map;te.set("category_start",pe),te.set("category_end",Pe),te.set("start_time",b),te.set("end_time",A),te.set("limit",R),te.set("cursor",C);const Te=this.buildFullUrl(this.basePath,"/v2/tournament",te),Je=Bt("GET",Y,"");return W&&(Je.headers.Authorization="Bearer "+W),Promise.race([fetch(Te,Je).then(gt=>{if(204==gt.status)return gt;if(gt.status>=200&&gt.status<300)return gt.json();throw gt}),new Promise((gt,Wt)=>setTimeout(Wt,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(W,pe,Pe={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const b="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("DELETE",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listTournamentRecords(W,pe,Pe,b,A,R,C={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const Y="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),U=new Map;U.set("owner_ids",Pe),U.set("limit",b),U.set("cursor",A),U.set("expiry",R);const Oe=this.buildFullUrl(this.basePath,Y,U),Te=Bt("GET",C,"");return W&&(Te.headers.Authorization="Bearer "+W),Promise.race([fetch(Oe,Te).then(Je=>{if(204==Je.status)return Je;if(Je.status>=200&&Je.status<300)return Je.json();throw Je}),new Promise((Je,gt)=>setTimeout(gt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(W,pe,Pe,b={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'record' is a required parameter but is null or undefined.");const A="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),R=new Map;let C="";C=JSON.stringify(Pe||{});const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("POST",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(W,pe,Pe,b={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'record' is a required parameter but is null or undefined.");const A="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),R=new Map;let C="";C=JSON.stringify(Pe||{});const Y=this.buildFullUrl(this.basePath,A,R),U=Bt("PUT",b,C);return W&&(U.headers.Authorization="Bearer "+W),Promise.race([fetch(Y,U).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,Oe)=>setTimeout(Oe,this.timeoutMs,"Request timed out."))])}joinTournament(W,pe,Pe={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const b="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(pe))),C=this.buildFullUrl(this.basePath,b,new Map),Y=Bt("POST",Pe,"");return W&&(Y.headers.Authorization="Bearer "+W),Promise.race([fetch(C,Y).then(U=>{if(204==U.status)return U;if(U.status>=200&&U.status<300)return U.json();throw U}),new Promise((U,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(W,pe,Pe,b,A,R,C={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Pe)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Y="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(pe))).replace("{ownerId}",encodeURIComponent(String(Pe))),U=new Map;U.set("limit",b),U.set("expiry",A),U.set("cursor",R);const Oe=this.buildFullUrl(this.basePath,Y,U),Te=Bt("GET",C,"");return W&&(Te.headers.Authorization="Bearer "+W),Promise.race([fetch(Oe,Te).then(Je=>{if(204==Je.status)return Je;if(Je.status>=200&&Je.status<300)return Je.json();throw Je}),new Promise((Je,gt)=>setTimeout(gt,this.timeoutMs,"Request timed out."))])}getUsers(W,pe,Pe,b,A={}){const C=new Map;C.set("ids",pe),C.set("usernames",Pe),C.set("facebook_ids",b);const U=this.buildFullUrl(this.basePath,"/v2/user",C),te=Bt("GET",A,"");return W&&(te.headers.Authorization="Bearer "+W),Promise.race([fetch(U,te).then(Oe=>{if(204==Oe.status)return Oe;if(Oe.status>=200&&Oe.status<300)return Oe.json();throw Oe}),new Promise((Oe,Te)=>setTimeout(Te,this.timeoutMs,"Request timed out."))])}listUserGroups(W,pe,Pe,b,A,R={}){if(null==pe)throw new Error("'userId' is a required parameter but is null or undefined.");const C="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(pe))),Y=new Map;Y.set("limit",Pe),Y.set("state",b),Y.set("cursor",A);const te=this.buildFullUrl(this.basePath,C,Y),Oe=Bt("GET",R,"");return W&&(Oe.headers.Authorization="Bearer "+W),Promise.race([fetch(te,Oe).then(Te=>{if(204==Te.status)return Te;if(Te.status>=200&&Te.status<300)return Te.json();throw Te}),new Promise((Te,Je)=>setTimeout(Je,this.timeoutMs,"Request timed out."))])}buildFullUrl(W,pe,Pe){let b=W+pe+"?";for(let[A,R]of Pe)R instanceof Array?b+=R.reduce((C,Y)=>C+encodeURIComponent(A)+"="+encodeURIComponent(Y)+"&",""):null!=R&&(b+=encodeURIComponent(A)+"="+encodeURIComponent(R)+"&");return b}},jt=class{constructor(W,pe,Pe){this.created=Pe,this.token=W,this.refresh_token=pe,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(W,pe)}isexpired(W){return this.expires_at-W<0}isrefreshexpired(W){return this.refresh_expires_at-W<0}update(W,pe){const Pe=W.split(".");if(3!=Pe.length)throw"jwt is not valid.";const b=JSON.parse(ir(Pe[1])),A=Math.floor(parseInt(b.exp));if(pe){const R=pe.split(".");if(3!=R.length)throw"refresh jwt is not valid.";const C=JSON.parse(ir(R[1])),Y=Math.floor(parseInt(C.exp));this.refresh_expires_at=Y,this.refresh_token=pe}this.token=W,this.expires_at=A,this.username=b.usn,this.user_id=b.uid,this.vars=b.vrs}static restore(W,pe){return new jt(W,pe,!1)}},ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Ve=0;Ve<64;Ve++)$t[ar.charCodeAt(Ve)]=Ve;var Ve,We=function(W){var Pe,pe=new Uint8Array(W),b=pe.length,A="";for(Pe=0;Pe<b;Pe+=3)A+=ar[pe[Pe]>>2],A+=ar[(3&pe[Pe])<<4|pe[Pe+1]>>4],A+=ar[(15&pe[Pe+1])<<2|pe[Pe+2]>>6],A+=ar[63&pe[Pe+2]];return b%3==2?A=A.substring(0,A.length-1)+"=":b%3==1&&(A=A.substring(0,A.length-2)+"=="),A},Re=function(W){var b,R,C,Y,U,pe=.75*W.length,Pe=W.length,A=0;"="===W[W.length-1]&&(pe--,"="===W[W.length-2]&&pe--);var te=new ArrayBuffer(pe),Oe=new Uint8Array(te);for(b=0;b<Pe;b+=4)R=$t[W.charCodeAt(b)],C=$t[W.charCodeAt(b+1)],Y=$t[W.charCodeAt(b+2)],U=$t[W.charCodeAt(b+3)],Oe[A++]=R<<2|C>>4,Oe[A++]=(15&C)<<4|Y>>2,Oe[A++]=(3&Y)<<6|63&U;return te},Qe=class{get onClose(){return this._socket.onclose}set onClose(W){this._socket.onclose=W}get onError(){return this._socket.onerror}set onError(W){this._socket.onerror=W}get onMessage(){return this._socket.onmessage}set onMessage(W){W?this._socket.onmessage=pe=>{const Pe=JSON.parse(pe.data);Pe.match_data&&Pe.match_data.data?Pe.match_data.data=new Uint8Array(Re(Pe.match_data.data)):Pe.party_data&&Pe.party_data.data&&(Pe.party_data.data=new Uint8Array(Re(Pe.party_data.data))),W(Pe)}:W=null}get onOpen(){return this._socket.onopen}set onOpen(W){this._socket.onopen=W}isOpen(){var W;return(null==(W=this._socket)?void 0:W.readyState)==WebSocket.OPEN}connect(W,pe,Pe,b,A){const R=`${W}${pe}:${Pe}/ws?lang=en&status=${encodeURIComponent(b.toString())}&token=${encodeURIComponent(A)}`;this._socket=new WebSocket(R)}close(){this._socket.close(),this._socket=void 0}send(W){if(W.match_data_send){W.match_data_send.op_code=W.match_data_send.op_code.toString();let pe=W.match_data_send.data;pe&&pe instanceof Uint8Array?W.match_data_send.data=We(pe.buffer):pe&&(W.match_data_send.data=lt(pe))}else if(W.party_data_send){W.party_data_send.op_code=W.party_data_send.op_code.toString();let pe=W.party_data_send.data;pe&&pe instanceof Uint8Array?W.party_data_send.data=We(pe.buffer):pe&&(W.party_data_send.data=lt(pe))}this._socket.send(JSON.stringify(W))}},Ot=class{constructor(W,pe,Pe=!1,b=!1,A=new Qe,R=Ot.DefaultSendTimeoutMs){this.host=W,this.port=pe,this.useSSL=Pe,this.verbose=b,this.adapter=A,this.sendTimeoutMs=R,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=Ot.DefaultHeartbeatTimeoutMs}generatecid(){const W=this.nextCid.toString();return++this.nextCid,W}connect(W,pe=!1,Pe=Ot.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(W):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,pe,W.token),this.adapter.onClose=A=>{this.ondisconnect(A)},this.adapter.onError=A=>{this.onerror(A)},this.adapter.onMessage=A=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(A)),A.cid){const R=this.cIds[A.cid];if(!R)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",A));delete this.cIds[A.cid],A.error?R.reject(A.error):R.resolve(A)}else A.notifications?A.notifications.notifications.forEach(R=>{R.content=R.content?JSON.parse(R.content):void 0,this.onnotification(R)}):A.match_data?(A.match_data.op_code=parseInt(A.match_data.op_code),this.onmatchdata(A.match_data)):A.match_presence_event?this.onmatchpresence(A.match_presence_event):A.matchmaker_ticket?this.onmatchmakerticket(A.matchmaker_ticket):A.matchmaker_matched?this.onmatchmakermatched(A.matchmaker_matched):A.status_presence_event?this.onstatuspresence(A.status_presence_event):A.stream_presence_event?this.onstreampresence(A.stream_presence_event):A.stream_data?this.onstreamdata(A.stream_data):A.channel_message?(A.channel_message.content=JSON.parse(A.channel_message.content),this.onchannelmessage(A.channel_message)):A.channel_presence_event?this.onchannelpresence(A.channel_presence_event):A.party_data?(A.party_data.op_code=parseInt(A.party_data.op_code),this.onpartydata(A.party_data)):A.party_close?this.onpartyclose(A.party_close):A.party_join_request?this.onpartyjoinrequest(A.party_join_request):A.party_leader?this.onpartyleader(A.party_leader):A.party_matchmaker_ticket?this.onpartymatchmakerticket(A.party_matchmaker_ticket):A.party_presence_event?this.onpartypresence(A.party_presence_event):A.party?this.onparty(A.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",A)},new Promise((A,R)=>{this.adapter.onOpen=C=>{this.verbose&&window&&window.console&&console.log(C),this.pingPong(),A(W)},this.adapter.onError=C=>{R(C),this.adapter.close()},setTimeout(()=>{R("The socket timed out when trying to connect.")},Pe)}))}disconnect(W=!0){this.adapter.isOpen()&&this.adapter.close(),W&&this.ondisconnect({})}setHeartbeatTimeoutMs(W){this._heartbeatTimeoutMs=W}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(W){this.verbose&&window&&window.console&&console.log(W)}onerror(W){this.verbose&&window&&window.console&&console.log(W)}onchannelmessage(W){this.verbose&&window&&window.console&&console.log(W)}onchannelpresence(W){this.verbose&&window&&window.console&&console.log(W)}onnotification(W){this.verbose&&window&&window.console&&console.log(W)}onmatchdata(W){this.verbose&&window&&window.console&&console.log(W)}onmatchpresence(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakermatched(W){this.verbose&&window&&window.console&&console.log(W)}onparty(W){this.verbose&&window&&window.console&&console.log(W)}onpartyclose(W){this.verbose&&window&&window.console&&console.log("Party closed: "+W)}onpartyjoinrequest(W){this.verbose&&window&&window.console&&console.log(W)}onpartydata(W){this.verbose&&window&&window.console&&console.log(W)}onpartyleader(W){this.verbose&&window&&window.console&&console.log(W)}onpartymatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onpartypresence(W){this.verbose&&window&&window.console&&console.log(W)}onstatuspresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreampresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreamdata(W){this.verbose&&window&&window.console&&console.log(W)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(W,pe=Ot.DefaultSendTimeoutMs){const Pe=W;return new Promise((b,A)=>{if(this.adapter.isOpen())if(Pe.match_data_send)this.adapter.send(Pe),b();else if(Pe.party_data_send)this.adapter.send(Pe),b();else{Pe.channel_message_send?Pe.channel_message_send.content=JSON.stringify(Pe.channel_message_send.content):Pe.channel_message_update&&(Pe.channel_message_update.content=JSON.stringify(Pe.channel_message_update.content));const R=this.generatecid();this.cIds[R]={resolve:b,reject:A},setTimeout(()=>{A("The socket timed out while waiting for a response.")},pe),Pe.cid=R,this.adapter.send(Pe)}else A("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const R=B({},Pe);R.match_data_send&&R.match_data_send.data?R.match_data_send.data=br(R.match_data_send.data):R.party_data_send&&R.party_data_send.data&&(R.party_data_send.data=br(R.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(R))}})}acceptPartyMember(W,pe){return this.send({party_accept:{party_id:W,presence:pe}})}addMatchmaker(W,pe,Pe,b,A){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:pe,max_count:Pe,query:W,string_properties:b,numeric_properties:A}})).matchmaker_ticket})}addMatchmakerParty(W,pe,Pe,b,A,R){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:W,min_count:Pe,max_count:b,query:pe,string_properties:A,numeric_properties:R}})).party_matchmaker_ticket})}closeParty(W){return v(this,null,function*(){return yield this.send({party_close:{party_id:W}})})}createMatch(W){return v(this,null,function*(){return(yield this.send({match_create:{name:W}})).match})}createParty(W,pe){return v(this,null,function*(){return(yield this.send({party_create:{open:W,max_size:pe}})).party})}followUsers(W){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:W}})).status})}joinChat(W,pe,Pe,b){return v(this,null,function*(){return(yield this.send({channel_join:{target:W,type:pe,persistence:Pe,hidden:b}})).channel})}joinMatch(W,pe,Pe){return v(this,null,function*(){const b={match_join:{metadata:Pe}};return pe?b.match_join.token=pe:b.match_join.match_id=W,(yield this.send(b)).match})}joinParty(W){return v(this,null,function*(){return yield this.send({party_join:{party_id:W}})})}leaveChat(W){return this.send({channel_leave:{channel_id:W}})}leaveMatch(W){return this.send({match_leave:{match_id:W}})}leaveParty(W){return this.send({party_leave:{party_id:W}})}listPartyJoinRequests(W){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:W}})).party_join_request})}promotePartyMember(W,pe){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:W,presence:pe}})).party_leader})}removeChatMessage(W,pe){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:W,message_id:pe}})).channel_message_ack})}removeMatchmaker(W){return this.send({matchmaker_remove:{ticket:W}})}removeMatchmakerParty(W,pe){return this.send({party_matchmaker_remove:{party_id:W,ticket:pe}})}removePartyMember(W,pe){return v(this,null,function*(){return this.send({party_remove:{party_id:W,presence:pe}})})}rpc(W,pe,Pe){return v(this,null,function*(){return(yield this.send({rpc:{id:W,payload:pe,http_key:Pe}})).rpc})}sendMatchState(W,pe,Pe,b,A){return v(this,null,function*(){return this.send({match_data_send:{match_id:W,op_code:pe,data:Pe,presences:null!=b?b:[],reliable:A}})})}sendPartyData(W,pe,Pe){return this.send({party_data_send:{party_id:W,op_code:pe,data:Pe}})}unfollowUsers(W){return this.send({status_unfollow:{user_ids:W}})}updateChatMessage(W,pe,Pe){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:W,message_id:pe,content:Pe}})).channel_message_ack})}updateStatus(W){return this.send({status_update:{status:W}})}writeChatMessage(W,pe){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:W,content:pe}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},qt=Ot;qt.DefaultHeartbeatTimeoutMs=1e4,qt.DefaultSendTimeoutMs=1e4,qt.DefaultConnectTimeoutMs=3e4;var Dt=class{constructor(W="defaultkey",pe="127.0.0.1",Pe="7350",b=!1,A=7e3,R=!0){this.serverkey=W,this.host=pe,this.port=Pe,this.useSSL=b,this.timeout=A,this.autoRefreshSession=R,this.expiredTimespanMs=3e5,this.apiClient=new fr(W,`${b?"https://":"http://"}${pe}:${Pe}`,A)}addGroupUsers(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addGroupUsers(W.token,pe,Pe).then(b=>void 0!==b)})}addFriends(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addFriends(W.token,pe,Pe).then(b=>void 0!==b)})}authenticateApple(W,pe,Pe){return v(this,arguments,function*(b,A,R,C={},Y={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:b,vars:C},A,R,Y).then(te=>new jt(te.token||"",te.refresh_token||"",te.created||!1))})}authenticateCustom(W,pe,Pe,b={},A={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:W,vars:b},pe,Pe,A).then(C=>new jt(C.token||"",C.refresh_token||"",C.created||!1))}authenticateDevice(W,pe,Pe,b){return this.apiClient.authenticateDevice(this.serverkey,"",{id:W,vars:b},pe,Pe).then(R=>new jt(R.token||"",R.refresh_token||"",R.created||!1))}authenticateEmail(W,pe,Pe,b,A){return this.apiClient.authenticateEmail(this.serverkey,"",{email:W,password:pe,vars:A},Pe,b).then(C=>new jt(C.token||"",C.refresh_token||"",C.created||!1))}authenticateFacebookInstantGame(W,pe,Pe,b,A={}){const R={signed_player_info:W,vars:b};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:R.signed_player_info,vars:R.vars},pe,Pe,A).then(C=>new jt(C.token||"",C.refresh_token||"",C.created||!1))}authenticateFacebook(W,pe,Pe,b,A,R={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:W,vars:A},pe,Pe,b,R).then(Y=>new jt(Y.token||"",Y.refresh_token||"",Y.created||!1))}authenticateGoogle(W,pe,Pe,b){return v(this,arguments,function*(A,R,C,Y,U={}){const te={token:A,vars:Y},Oe=yield this.apiClient.authenticateGoogle(this.serverkey,"",te,R,C,U);return new jt(Oe.token||"",Oe.refresh_token||"",Oe.created||!1)})}authenticateGameCenter(W,pe,Pe,b,A,R,C,Y,U){return v(this,arguments,function*(te,Oe,Te,Je,gt,Wt,Ie,Ae,qe,$e={}){const ct={bundle_id:te,player_id:Oe,public_key_url:Te,salt:Je,signature:gt,timestamp_seconds:Wt,vars:qe},Ft=yield this.apiClient.authenticateGameCenter(this.serverkey,"",ct,Ae,Ie,$e);return new jt(Ft.token||"",Ft.refresh_token||"",Ft.created||!1)})}authenticateSteam(W,pe,Pe,b,A){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:W,vars:A,sync:b},pe,Pe).then(C=>new jt(C.token||"",C.refresh_token||"",C.created||!1))})}banGroupUsers(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.banGroupUsers(W.token,pe,Pe).then(b=>void 0!==b)})}blockFriends(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.blockFriends(W.token,pe,Pe).then(b=>Promise.resolve(null!=b))})}createGroup(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.createGroup(W.token,pe).then(Pe=>Promise.resolve({avatar_url:Pe.avatar_url,create_time:Pe.create_time,creator_id:Pe.creator_id,description:Pe.description,edge_count:Pe.edge_count?Number(Pe.edge_count):0,id:Pe.id,lang_tag:Pe.lang_tag,max_count:Pe.max_count?Number(Pe.max_count):0,metadata:Pe.metadata?JSON.parse(Pe.metadata):void 0,name:Pe.name,open:Pe.open,update_time:Pe.update_time}))})}createSocket(W=!1,pe=!1,Pe=new Qe,b=qt.DefaultSendTimeoutMs){return new qt(this.host,this.port,W,pe,Pe,b)}deleteAccount(W){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteAccount(W.token).then(pe=>void 0!==pe)})}deleteFriends(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteFriends(W.token,pe,Pe).then(b=>void 0!==b)})}deleteGroup(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteGroup(W.token,pe).then(Pe=>void 0!==Pe)})}deleteNotifications(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteNotifications(W.token,pe).then(Pe=>Promise.resolve(null!=Pe))})}deleteStorageObjects(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteStorageObjects(W.token,pe).then(Pe=>Promise.resolve(null!=Pe))})}deleteTournamentRecord(W,pe){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(W.token,pe)})}demoteGroupUsers(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.demoteGroupUsers(W.token,pe,Pe).then(b=>Promise.resolve(null!=b))})}emitEvent(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.event(W.token,pe).then(Pe=>Promise.resolve(null!=Pe))})}getAccount(W){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getAccount(W.token)})}getSubscription(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getSubscription(W.token,pe)})}importFacebookFriends(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importFacebookFriends(W.token,pe).then(Pe=>void 0!==Pe)})}importSteamFriends(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importSteamFriends(W.token,pe,Pe).then(b=>void 0!==b)})}getUsers(W,pe,Pe,b){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getUsers(W.token,pe,Pe,b).then(A=>{var R={users:[]};return null==A.users||A.users.forEach(C=>{R.users.push({avatar_url:C.avatar_url,create_time:C.create_time,display_name:C.display_name,edge_count:C.edge_count?Number(C.edge_count):0,facebook_id:C.facebook_id,gamecenter_id:C.gamecenter_id,google_id:C.google_id,id:C.id,lang_tag:C.lang_tag,location:C.location,online:C.online,steam_id:C.steam_id,timezone:C.timezone,update_time:C.update_time,username:C.username,metadata:C.metadata?JSON.parse(C.metadata):void 0})}),Promise.resolve(R)})})}joinGroup(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinGroup(W.token,pe,{}).then(Pe=>void 0!==Pe)})}joinTournament(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinTournament(W.token,pe,{}).then(Pe=>void 0!==Pe)})}kickGroupUsers(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.kickGroupUsers(W.token,pe,Pe).then(b=>Promise.resolve(null!=b))})}leaveGroup(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.leaveGroup(W.token,pe,{}).then(Pe=>void 0!==Pe)})}listChannelMessages(W,pe,Pe,b,A){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listChannelMessages(W.token,pe,Pe,b,A).then(R=>{var C={messages:[],next_cursor:R.next_cursor,prev_cursor:R.prev_cursor,cacheable_cursor:R.cacheable_cursor};return null==R.messages||R.messages.forEach(Y=>{C.messages.push({channel_id:Y.channel_id,code:Y.code?Number(Y.code):0,create_time:Y.create_time,message_id:Y.message_id,persistent:Y.persistent,sender_id:Y.sender_id,update_time:Y.update_time,username:Y.username,content:Y.content?JSON.parse(Y.content):void 0,group_id:Y.group_id,room_name:Y.room_name,user_id_one:Y.user_id_one,user_id_two:Y.user_id_two})}),Promise.resolve(C)})})}listGroupUsers(W,pe,Pe,b,A){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroupUsers(W.token,pe,b,Pe,A).then(R=>{var C={group_users:[],cursor:R.cursor};return null==R.group_users||R.group_users.forEach(Y=>{C.group_users.push({user:{avatar_url:Y.user.avatar_url,create_time:Y.user.create_time,display_name:Y.user.display_name,edge_count:Y.user.edge_count?Number(Y.user.edge_count):0,facebook_id:Y.user.facebook_id,gamecenter_id:Y.user.gamecenter_id,google_id:Y.user.google_id,id:Y.user.id,lang_tag:Y.user.lang_tag,location:Y.user.location,online:Y.user.online,steam_id:Y.user.steam_id,timezone:Y.user.timezone,update_time:Y.user.update_time,username:Y.user.username,metadata:Y.user.metadata?JSON.parse(Y.user.metadata):void 0},state:Y.state?Number(Y.state):0})}),Promise.resolve(C)})})}listUserGroups(W,pe,Pe,b,A){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listUserGroups(W.token,pe,Pe,b,A).then(R=>{var C={user_groups:[],cursor:R.cursor};return null==R.user_groups||R.user_groups.forEach(Y=>{C.user_groups.push({group:{avatar_url:Y.group.avatar_url,create_time:Y.group.create_time,creator_id:Y.group.creator_id,description:Y.group.description,edge_count:Y.group.edge_count?Number(Y.group.edge_count):0,id:Y.group.id,lang_tag:Y.group.lang_tag,max_count:Y.group.max_count,metadata:Y.group.metadata?JSON.parse(Y.group.metadata):void 0,name:Y.group.name,open:Y.group.open,update_time:Y.group.update_time},state:Y.state?Number(Y.state):0})}),Promise.resolve(C)})})}listGroups(W,pe,Pe,b){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroups(W.token,pe,Pe,b).then(A=>{var R={groups:[]};return null==A.groups||(R.cursor=A.cursor,A.groups.forEach(C=>{R.groups.push({avatar_url:C.avatar_url,create_time:C.create_time,creator_id:C.creator_id,description:C.description,edge_count:C.edge_count?Number(C.edge_count):0,id:C.id,lang_tag:C.lang_tag,max_count:C.max_count,metadata:C.metadata?JSON.parse(C.metadata):void 0,name:C.name,open:C.open,update_time:C.update_time})})),Promise.resolve(R)})})}linkApple(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkApple(W.token,pe).then(Pe=>void 0!==Pe)})}linkCustom(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkCustom(W.token,pe).then(Pe=>void 0!==Pe)})}linkDevice(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkDevice(W.token,pe).then(Pe=>void 0!==Pe)})}linkEmail(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkEmail(W.token,pe).then(Pe=>void 0!==Pe)})}linkFacebook(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebook(W.token,pe).then(Pe=>void 0!==Pe)})}linkFacebookInstantGame(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebookInstantGame(W.token,pe).then(Pe=>void 0!==Pe)})}linkGoogle(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGoogle(W.token,pe).then(Pe=>void 0!==Pe)})}linkGameCenter(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGameCenter(W.token,pe).then(Pe=>void 0!==Pe)})}linkSteam(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkSteam(W.token,pe).then(Pe=>void 0!==Pe)})}listFriends(W,pe,Pe,b){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriends(W.token,Pe,pe,b).then(A=>{var R={friends:[],cursor:A.cursor};return null==A.friends||A.friends.forEach(C=>{R.friends.push({user:{avatar_url:C.user.avatar_url,create_time:C.user.create_time,display_name:C.user.display_name,edge_count:C.user.edge_count?Number(C.user.edge_count):0,facebook_id:C.user.facebook_id,gamecenter_id:C.user.gamecenter_id,google_id:C.user.google_id,id:C.user.id,lang_tag:C.user.lang_tag,location:C.user.location,online:C.user.online,steam_id:C.user.steam_id,timezone:C.user.timezone,update_time:C.user.update_time,username:C.user.username,metadata:C.user.metadata?JSON.parse(C.user.metadata):void 0,facebook_instant_game_id:C.user.facebook_instant_game_id},state:C.state})}),Promise.resolve(R)})})}listFriendsOfFriends(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriendsOfFriends(W.token,pe,Pe).then(b=>{var A={friends_of_friends:[],cursor:b.cursor};return null==b.friends_of_friends||b.friends_of_friends.forEach(R=>{A.friends_of_friends.push({referrer:R.referrer,user:{avatar_url:R.user.avatar_url,create_time:R.user.create_time,display_name:R.user.display_name,edge_count:R.user.edge_count?Number(R.user.edge_count):0,facebook_id:R.user.facebook_id,gamecenter_id:R.user.gamecenter_id,google_id:R.user.google_id,id:R.user.id,lang_tag:R.user.lang_tag,location:R.user.location,online:R.user.online,steam_id:R.user.steam_id,timezone:R.user.timezone,update_time:R.user.update_time,username:R.user.username,metadata:R.user.metadata?JSON.parse(R.user.metadata):void 0,facebook_instant_game_id:R.user.facebook_instant_game_id}})}),Promise.resolve(A)})})}listLeaderboardRecords(W,pe,Pe,b,A,R){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecords(W.token,pe,Pe,b,A,R).then(C=>{var Y={next_cursor:C.next_cursor,prev_cursor:C.prev_cursor,rank_count:C.rank_count?Number(C.rank_count):0,owner_records:[],records:[]};return null!=C.owner_records&&C.owner_records.forEach(U=>{Y.owner_records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),null!=C.records&&C.records.forEach(U=>{Y.records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),Promise.resolve(Y)})})}listLeaderboardRecordsAroundOwner(W,pe,Pe,b,A,R){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecordsAroundOwner(W.token,pe,Pe,b,A,R).then(C=>{var Y={next_cursor:C.next_cursor,prev_cursor:C.prev_cursor,rank_count:C.rank_count?Number(C.rank_count):0,owner_records:[],records:[]};return null!=C.owner_records&&C.owner_records.forEach(U=>{Y.owner_records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),null!=C.records&&C.records.forEach(U=>{Y.records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),Promise.resolve(Y)})})}listMatches(W,pe,Pe,b,A,R,C){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listMatches(W.token,pe,Pe,b,A,R,C)})}listNotifications(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listNotifications(W.token,pe,Pe).then(b=>{var A={cacheable_cursor:b.cacheable_cursor,notifications:[]};return null==b.notifications||b.notifications.forEach(R=>{A.notifications.push({code:R.code?Number(R.code):0,create_time:R.create_time,id:R.id,persistent:R.persistent,sender_id:R.sender_id,subject:R.subject,content:R.content?JSON.parse(R.content):void 0})}),Promise.resolve(A)})})}listStorageObjects(W,pe,Pe,b,A){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listStorageObjects(W.token,pe,Pe,b,A).then(R=>{var C={objects:[],cursor:R.cursor};return null==R.objects||R.objects.forEach(Y=>{C.objects.push({collection:Y.collection,key:Y.key,permission_read:Y.permission_read?Number(Y.permission_read):0,permission_write:Y.permission_write?Number(Y.permission_write):0,value:Y.value?JSON.parse(Y.value):void 0,version:Y.version,user_id:Y.user_id,create_time:Y.create_time,update_time:Y.update_time})}),Promise.resolve(C)})})}listTournaments(W,pe,Pe,b,A,R,C){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournaments(W.token,pe,Pe,b,A,R,C).then(Y=>{var U={cursor:Y.cursor,tournaments:[]};return null!=Y.tournaments&&Y.tournaments.forEach(te=>{U.tournaments.push({id:te.id,title:te.title,description:te.description,duration:te.duration?Number(te.duration):0,category:te.category?Number(te.category):0,sort_order:te.sort_order?Number(te.sort_order):0,size:te.size?Number(te.size):0,max_size:te.max_size?Number(te.max_size):0,max_num_score:te.max_num_score?Number(te.max_num_score):0,can_enter:te.can_enter,end_active:te.end_active?Number(te.end_active):0,next_reset:te.next_reset?Number(te.next_reset):0,metadata:te.metadata?JSON.parse(te.metadata):void 0,create_time:te.create_time,start_time:te.start_time,end_time:te.end_time,start_active:te.start_active,authoritative:te.authoritative})}),Promise.resolve(U)})})}listSubscriptions(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listSubscriptions(W.token,{cursor:pe,limit:Pe})})}listTournamentRecords(W,pe,Pe,b,A,R){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecords(W.token,pe,Pe,b,A,R).then(C=>{var Y={next_cursor:C.next_cursor,prev_cursor:C.prev_cursor,owner_records:[],records:[]};return null!=C.owner_records&&C.owner_records.forEach(U=>{Y.owner_records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),null!=C.records&&C.records.forEach(U=>{Y.records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),Promise.resolve(Y)})})}listTournamentRecordsAroundOwner(W,pe,Pe,b,A,R){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecordsAroundOwner(W.token,pe,Pe,b,A,R).then(C=>{var Y={next_cursor:C.next_cursor,prev_cursor:C.prev_cursor,owner_records:[],records:[]};return null!=C.owner_records&&C.owner_records.forEach(U=>{Y.owner_records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),null!=C.records&&C.records.forEach(U=>{Y.records.push({expiry_time:U.expiry_time,leaderboard_id:U.leaderboard_id,metadata:U.metadata?JSON.parse(U.metadata):void 0,num_score:U.num_score?Number(U.num_score):0,owner_id:U.owner_id,rank:U.rank?Number(U.rank):0,score:U.score?Number(U.score):0,subscore:U.subscore?Number(U.subscore):0,update_time:U.update_time,username:U.username,max_num_score:U.max_num_score?Number(U.max_num_score):0})}),Promise.resolve(Y)})})}promoteGroupUsers(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.promoteGroupUsers(W.token,pe,Pe)})}readStorageObjects(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.readStorageObjects(W.token,pe).then(Pe=>{var b={objects:[]};return null==Pe.objects||Pe.objects.forEach(A=>{b.objects.push({collection:A.collection,key:A.key,permission_read:A.permission_read?Number(A.permission_read):0,permission_write:A.permission_write?Number(A.permission_write):0,value:A.value?JSON.parse(A.value):void 0,version:A.version,user_id:A.user_id,create_time:A.create_time,update_time:A.update_time})}),Promise.resolve(b)})})}rpc(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.rpcFunc(W.token,pe,JSON.stringify(Pe)).then(b=>Promise.resolve({id:b.id,payload:b.payload?JSON.parse(b.payload):void 0}))})}rpcHttpKey(W,pe,Pe){return v(this,null,function*(){return this.apiClient.rpcFunc2("",pe,Pe&&JSON.stringify(Pe)||"",W).then(b=>Promise.resolve({id:b.id,payload:b.payload?JSON.parse(b.payload):void 0})).catch(b=>{throw b})})}sessionLogout(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.sessionLogout(W.token,{refresh_token:Pe,token:pe}).then(b=>void 0!==b)})}sessionRefresh(W){return v(this,arguments,function*(pe,Pe={}){if(!pe)return console.error("Cannot refresh a null session."),pe;pe.created&&pe.expires_at-pe.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),pe.created&&pe.refresh_expires_at-pe.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const b=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:pe.refresh_token,vars:Pe});return pe.update(b.token,b.refresh_token),pe})}unlinkApple(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkApple(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkCustom(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkCustom(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkDevice(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkDevice(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkEmail(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkEmail(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkFacebook(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebook(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkFacebookInstantGame(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebookInstantGame(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkGoogle(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGoogle(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkGameCenter(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGameCenter(W.token,pe).then(Pe=>void 0!==Pe)})}unlinkSteam(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkSteam(W.token,pe).then(Pe=>void 0!==Pe)})}updateAccount(W,pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateAccount(W.token,pe).then(Pe=>void 0!==Pe)})}updateGroup(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateGroup(W.token,pe,Pe).then(b=>void 0!==b)})}validatePurchaseApple(W,pe,Pe=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseApple(W.token,{receipt:pe,persist:Pe})})}validatePurchaseFacebookInstant(W,pe,Pe=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseFacebookInstant(W.token,{signed_request:pe,persist:Pe})})}validatePurchaseGoogle(W,pe,Pe=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseGoogle(W.token,{purchase:pe,persist:Pe})})}validatePurchaseHuawei(W,pe,Pe,b=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseHuawei(W.token,{purchase:pe,signature:Pe,persist:b})})}validateSubscriptionApple(W,pe,Pe=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validateSubscriptionApple(W.token,{receipt:pe,persist:Pe})})}validateSubscriptionGoogle(W,pe,Pe=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validateSubscriptionGoogle(W.token,{receipt:pe,persist:Pe})})}writeLeaderboardRecord(W,pe,Pe){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.writeLeaderboardRecord(W.token,pe,{metadata:Pe.metadata?JSON.stringify(Pe.metadata):void 0,score:Pe.score,subscore:Pe.subscore}).then(b=>Promise.resolve({expiry_time:b.expiry_time,leaderboard_id:b.leaderboard_id,metadata:b.metadata?JSON.parse(b.metadata):void 0,num_score:b.num_score?Number(b.num_score):0,owner_id:b.owner_id,score:b.score?Number(b.score):0,subscore:b.subscore?Number(b.subscore):0,update_time:b.update_time,username:b.username,max_num_score:b.max_num_score?Number(b.max_num_score):0,rank:b.rank?Number(b.rank):0}))})}writeStorageObjects(W,pe){return v(this,null,function*(){this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W));var Pe={objects:[]};return pe.forEach(b=>{Pe.objects.push({collection:b.collection,key:b.key,permission_read:b.permission_read,permission_write:b.permission_write,value:JSON.stringify(b.value),version:b.version})}),this.apiClient.writeStorageObjects(W.token,Pe)})}writeTournamentRecord(W,pe,Pe){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(W.token,pe,{metadata:Pe.metadata?JSON.stringify(Pe.metadata):void 0,score:Pe.score,subscore:Pe.subscore}).then(b=>Promise.resolve({expiry_time:b.expiry_time,leaderboard_id:b.leaderboard_id,metadata:b.metadata?JSON.parse(b.metadata):void 0,num_score:b.num_score?Number(b.num_score):0,owner_id:b.owner_id,score:b.score?Number(b.score):0,subscore:b.subscore?Number(b.subscore):0,update_time:b.update_time,username:b.username,max_num_score:b.max_num_score?Number(b.max_num_score):0,rank:b.rank?Number(b.rank):0}))})}},yt=_e(8326),Nt=_e(617),bt=_e(482),Rt=_e(3953),cr=_e(9900),ft=_e(8065),xt=_e(755),tr=_e(5547),Zt=_e(5374),lr=_e(3656),yr=_e(4234),wr=_e(3307),xr=function(W){return W[W.MANAGE_TODO=10]="MANAGE_TODO",W[W.EDIT_PROFILE=11]="EDIT_PROFILE",W[W.MANAGE_POST=12]="MANAGE_POST",W[W.ADD_CHANNEL=14]="ADD_CHANNEL",W[W.NAME_OVERRIDED=15]="NAME_OVERRIDED",W[W.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",W[W.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",W[W.CHATROOM_CHECKED=102]="CHATROOM_CHECKED",W}(xr||{});let Mr=(()=>{var W;class pe{constructor(b,A,R,C,Y,U,te,Oe,Te){this.p5toast=b,this.statusBar=A,this.indexed=R,this.noti=C,this.alertCtrl=Y,this.lang=U,this.global=te,this.navCtrl=Oe,this.p5loading=Te,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.NeedLocalPush=[],this.HasRemovedChannel=!1,this.TogglingSession=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.ArcadeListOfficial=[],this.ArcadeListOrig={},this.ArcadeList=[],this.RemoteTodoCounter={},this.PromotedGroup={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={local:{},official:{},unofficial:{}},this.noti_id=2e3,this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.HyperLinkDescList=[],this.isRequestingLinkInfo=!1,this.OnTransfer={},this.OnTransferMessage={},this.usernameOverride={local:{target:{}}},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},te.CallbackNakama=this}initialize(){var b=this;return(0,I.A)(function*(){yield b.set_all_todo_notification();let A=yield b.indexed.loadTextFromUserPath("servers/self/profile.json");A&&(b.users.self=JSON.parse(A));try{let Oe=(yield b.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Oe&&(b.users.self.img=Oe)}catch{}yield b.LoadOverridesOffline();let R=yield b.indexed.loadTextFromUserPath("servers/groups.json");R&&(b.groups=JSON.parse(R)),b.rearrange_group_list().forEach(function(){var Oe=(0,I.A)(function*(Te){let Je=yield b.indexed.loadTextFromUserPath(`servers/${Te.server.isOfficial}/${Te.server.target}/groups/${Te.id}.img`);if(Je&&(Te.img=Je.replace(/"|=|\\/g,"")),"missing"!=Te.status){delete Te.status;let gt=Te.server.isOfficial,Wt=Te.server.target;if(b.CreateEmptyForm(gt,Wt),Te.users)for(let Ie=0,Ae=Te.users.length;Ie<Ae;Ie++)Te.users[Ie].is_me||(Te.users[Ie].user=b.load_other_user(Te.users[Ie].user.id,gt,Wt))}});return function(Te){return Oe.apply(this,arguments)}}()),yield b.load_channel_list(),b.load_posts_counter(),yield b.CheckIfLostLocal(),b.rearrange_channels();let Y=yield b.indexed.loadTextFromUserPath("servers/list.json");Y&&(b.statusBar.groupServer=JSON.parse(Y)),Object.keys(b.statusBar.groupServer).forEach(Oe=>{b.servers[Oe]?Object.keys(b.statusBar.groupServer[Oe]).forEach(Je=>{b.servers[Oe][Je]||delete b.statusBar.groupServer[Oe][Je]}):delete b.statusBar.groupServer[Oe]}),b.showServer=!!localStorage.getItem("showServer"),b.catch_group_server_header("offline");let te=yield b.indexed.loadTextFromUserPath("servers/list_detail.csv");if(te)te.split("\n").forEach(Te=>{let Je=Te.split(","),Wt={isOfficial:Je[1],name:Je[2],target:Je[3],address:Je[4],nakama_port:Je[5]?+Je[5]:void 0,cdn_port:Je[7]?+Je[7]:void 0,apache_port:Je[8]?+Je[8]:void 0,square_port:Je[9]?+Je[9]:void 0,webrtc_port:Je[10]?+Je[10]:void 0,useSSL:"true"==Je[6]};b.servers[Wt.isOfficial][Wt.target]={},b.servers[Wt.isOfficial][Wt.target].info=Wt,b.init_server(Wt),b.users.self.online&&b.init_session(Wt)});else{let Oe=location.href.split("?").length>1;(b.users.self.online||Oe)&&b.toggle_all_session()}})()}CheckIfLostLocal(){var b=this;return(0,I.A)(function*(){let A=yield b.indexed.GetFileListFromDB("servers/local/target/channels");for(let R of A)try{let C=R.split("/");if(5==C.length){let Y=C.pop();b.channels_orig.local.target||(b.channels_orig.local.target={}),b.channels_orig.local.target[Y]||(b.channels_orig.local.target[Y]={CDN:0,id:Y,info:{isOfficial:"local",target:"target",name:b.lang.text.Nakama.DamagedChannel},local:!0,redirect:{type:0},server:{isOfficial:"local",target:"target",name:"\uc0ad\uc81c\ub41c \uc11c\ubc84"},status:"online",title:b.lang.text.Nakama.DamagedChannel})}}catch(C){console.log("\ub85c\uceec \ucc44\ub110 \uc7ac\uac80\ud1a0 \ub2e8\uacc4 \uc624\ub958: ",C)}})()}set_all_todo_notification(){var b=this;return(0,I.A)(function*(){let A=yield b.indexed.GetFileListFromDB("info.todo");for(let R=0,C=A.length;R<C;R++){let Y=yield b.indexed.loadTextFromUserPath(A[R]);if(Y){let U=JSON.parse(Y);b.registered_id.push(U.noti_id),b.set_todo_notification(U)}}})()}getGodotDBRecursive(){var b=this;return(0,I.A)(function*(){try{if(void 0===b.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(R=>{setTimeout(()=>{R(void 0)},100)}),yield b.getGodotDBRecursive()}})()}open_add_todo_page(b="",A="portal/main/add-todo-menu"){this.AddTodoLinkAct?this.AddTodoLinkAct(b):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(A,{animation:Nt.V5,state:{data:b}})})}open_others_profile(b){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("others-profile",{animation:Nt.V5,state:b})})}set_todo_notification(b){var A=this;return(0,I.A)(function*(){A.RemoveLocalPushSchedule(b);let R=b.startFrom||b.limit;if(R>Date.now()&&A.NeedLocalPush.push(b),!A.p5todotimer&&A.NeedLocalPush.length){let C=[];A.global.windowOnFocusAct["todo-timer"]=()=>{C.forEach(U=>clearTimeout(U)),C.length=0,delete A.global.WindowOnBlurAct["todo-timer"],delete A.global.windowOnFocusAct["todo-timer"]};const Y=U=>{const te=U.custom_color;let Oe;switch(U.importance){case"0":Oe="58a192";break;case"1":Oe="ddbb41";break;case"2":Oe="b95437"}return te?te.substring(1):Oe};A.global.WindowOnBlurAct["todo-timer"]=()=>{for(let U=A.NeedLocalPush.length-1;U>=0;U--){const te=A.NeedLocalPush[U];let Oe=new Date(R).getTime()-(new Date).getTime();if(Oe>0&&Oe<2147483647){let Te=setTimeout((0,I.A)(function*(){let Je;try{let Wt;try{Wt=`todo/${te.id}_${te.remote.isOfficial}_${te.remote.target}/thumbnail.png`}catch{Wt=`todo/${te.id}/thumbnail.png`}let Ie=yield A.indexed.loadBlobFromUserPath(Wt,"image/png");Je=URL.createObjectURL(Ie)}catch{}const gt=Y(te);yield A.noti.PushLocal({id:te.noti_id,title:te.title,body:te.description,image:Je,smallIcon_ln:"todo",bgcolor:gt},void 0,Wt=>{A.open_add_todo_page(JSON.stringify(te),"add-todo-menu")}),setTimeout(()=>{try{URL.revokeObjectURL(Je)}catch{}},1e3),A.NeedLocalPush.splice(U,1)}),Oe);C.push(Te)}}},A.p5todotimer=new yt(U=>{U.setup=()=>{U.noCanvas(),U.frameRate(.5)},U.draw=()=>{const te=Date.now();for(let Oe=A.NeedLocalPush.length-1;Oe>=0;Oe--)(A.NeedLocalPush[Oe].startFrom||A.NeedLocalPush[Oe].limit)<te&&function(){var gt=(0,I.A)(function*(){let Wt;try{let qe;try{qe=`todo/${A.NeedLocalPush[Oe].id}_${A.NeedLocalPush[Oe].remote.isOfficial}_${A.NeedLocalPush[Oe].remote.target}/thumbnail.png`}catch{qe=`todo/${A.NeedLocalPush[Oe].id}/thumbnail.png`}let $e=yield A.indexed.loadBlobFromUserPath(qe,"image/png");Wt=URL.createObjectURL($e)}catch{}const Ie=JSON.stringify(A.NeedLocalPush[Oe]),Ae=Y(A.NeedLocalPush[Oe]);yield A.noti.PushLocal({id:A.NeedLocalPush[Oe].noti_id,title:A.NeedLocalPush[Oe].title,body:A.NeedLocalPush[Oe].description,image:Wt,smallIcon_ln:"todo",bgcolor:Ae},void 0,qe=>{A.open_add_todo_page(Ie,"add-todo-menu")}),setTimeout(()=>{try{URL.revokeObjectURL(Wt)}catch{}},1e3),A.NeedLocalPush.splice(Oe,1)});return function(){return gt.apply(this,arguments)}}()();A.NeedLocalPush.length||(U.remove(),A.p5todotimer=null)}})}})()}RemoveLocalPushSchedule(b){for(let A=this.NeedLocalPush.length-1;A>=0;A--)if(this.NeedLocalPush[A].id==b.id){this.NeedLocalPush.splice(A,1);break}}init_server(b){this.servers[b.isOfficial][b.target]||(this.servers[b.isOfficial][b.target]={}),this.servers[b.isOfficial][b.target].client=new Dt(b.key||"defaultkey",b.address,(b.nakama_port||7350).toString(),b.useSSL||!1,3e5,!0)}go_to_chatroom(b,A){this.has_new_channel_msg=!1,b.update&&delete b.update,this.ChatroomLinkAct?this.ChatroomLinkAct(b,A):(this.SelectSubscribesTab&&this.SelectSubscribesTab(),this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("portal/subscribes/chat-room",{state:{info:b,file:A}})}))}add_new_group(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-group",{animation:Nt.V5})})}clear_removed_groups(){var b=this;this.HasRemovedChannel&&this.alertCtrl.create({header:this.lang.text.Nakama.RemovedChannels,message:this.lang.text.Nakama.ClearMissings,buttons:[{text:this.lang.text.UserFsDir.Delete,cssClass:"redfont",handler:()=>{!function(){var R=(0,I.A)(function*(){const C=`subscribes_remove_1:1_${Date.now()}`;for(let U=b.channels.length-1;U>=0;U--)if("missing"==b.channels[U].status){var Y;const te=b.channels[U].server.isOfficial,Oe=b.channels[U].server.target,Te=b.channels[U];let gt,Je=Te.title;Je=2==Te.redirect.type?Je||b.lang.text.Profile.noname_user:Je||b.lang.text.ChatRoom.noname_chatroom,b.p5loading.update({id:C});try{gt=b.servers[te][Oe].info}catch(Ae){console.log("\uc0ad\uc81c\ub41c \uc11c\ubc84\uc758 \ucc44\ub110 \uc0ad\uc81c: ",Ae)}try{yield b.remove_group_list(b.groups[te][Oe][Te.group_id],te,Oe,!0)}catch{}delete b.channels_orig[te][Oe][Te.id];try{yield b.remove_channel_files(te,Oe,Te.id,void 0,C)}catch{}let Wt=`${Te.id}_${b.users.self.display_name}`;try{Wt=`${Te.info.id}_${gt.session.user_id}`}catch{}0==(null===(Y=Te.id)||void 0===Y?void 0:Y.indexOf("4."))&&(Wt=`${Te.user_id_one!=b.servers[te][Oe].session.user_id?Te.user_id_one:Te.user_id_two}_${b.servers[te][Oe].session.user_id}`);try{let Ae=localStorage.getItem("fallback_fs");if(!Ae)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let qe=Ae.split("://"),$e=qe.pop().split(":"),ct=qe.pop();ct?ct+=":":ct=b.global.checkProtocolFromAddress($e[0])?"https:":"http:";let Ft=`${ct}//${$e[0]}:${$e[1]||9002}/`;$e&&(yield b.global.remove_files_from_storage_with_key(Ft,Wt,{}))}catch{}try{let qe=gt.address,$e=`${[gt.useSSL?"https:":"http:"]}//${qe}:${gt.apache_port||9002}/`;qe&&(yield b.global.remove_files_from_storage_with_key($e,Wt,{apache_port:gt.apache_port,cdn_port:gt.cdn_port}))}catch{}let Ie=yield b.indexed.GetFileListFromDB(`servers/${te}/${Oe}/channels/${Te.id}`);for(let Ae=0,qe=Ie.length;Ae<qe;Ae++){b.p5loading.update({id:C,message:`${b.lang.text.UserFsDir.DeleteFile}: ${Je} (${Ie[Ae].split("/").pop()})`,progress:Ae/qe});try{yield b.indexed.removeFileFromUserPath(Ie[Ae])}catch{}}}b.rearrange_channels(),b.p5loading.remove(C)});return function(){return R.apply(this,arguments)}}()()}}]}).then(A=>A.present())}open_profile_page(b){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:Nt.V5,state:b})})}open_post(b,A,R=""){b.router=R,this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward(R+"post-viewer",{animation:Nt.V5,state:{data:b,index:A+1}})})}init_all_sessions(){var b=this;return(0,I.A)(function*(){const A="nakama_login";let R=Object.keys(b.servers.official);for(let Y=0,U=R.length;Y<U;Y++)yield b.p5loading.update({id:A,message:`${b.lang.text.Nakama.PendingLogin}: ${b.servers.unofficial[R[Y]].info.name}`,forceEnd:null},!0),yield b.init_session(b.servers.official[R[Y]].info);let C=Object.keys(b.servers.unofficial);for(let Y=0,U=C.length;Y<U;Y++)yield b.p5loading.update({id:A,message:`${b.lang.text.Nakama.PendingLogin}: ${b.servers.unofficial[C[Y]].info.name}`,forceEnd:null},!0),console.log(),yield b.init_session(b.servers.unofficial[C[Y]].info);return R.length+C.length})()}logout_all_server(){let b=Object.keys(this.statusBar.groupServer);for(let A=0,R=b.length;A<R;A++){let C=Object.keys(this.statusBar.groupServer[b[A]]);for(let Y=0,U=C.length;Y<U;Y++)"online"==this.statusBar.groupServer[b[A]][C[Y]]&&(this.servers[b[A]][C[Y]].socket?this.servers[b[A]][C[Y]].socket.disconnect(!0):this.link_group(b[A],C[Y],!1))}}toggle_all_session(){var b=this;return(0,I.A)(function*(){if(b.TogglingSession)return;const A="nakama_login";if(b.TogglingSession=!0,"online"==b.statusBar.settings.groupServer)b.logout_all_server(),b.p5toast.show({text:b.lang.text.Nakama.SessionLogout});else{yield b.p5loading.update({id:A,message:b.lang.text.Nakama.PendingLogin,forceEnd:null});try{(yield b.init_all_sessions())||(yield b.p5loading.update({id:A,message:b.lang.text.Nakama.NoLoginServer},!0))}catch(R){console.log("\ud14c\uc2a4\ud2b8 \uc11c\ubc84 \uc5f0\uacb0 \uc624\ub958: ",R)}}b.p5loading.remove(A),b.TogglingSession=!1})()}link_group(b,A,R="offline"==this.statusBar.groupServer[b][A]){var C=this;return(0,I.A)(function*(){if(R)C.statusBar.groupServer[b][A]="pending",C.catch_group_server_header("pending"),C.users.self.online&&(yield C.init_session(C.servers[b][A].info));else{C.channels_orig[b]&&C.channels_orig[b][A]&&Object.keys(C.channels_orig[b][A]).forEach(U=>{"missing"!=C.channels_orig[b][A][U].status&&delete C.channels_orig[b][A][U].status}),C.groups[b]&&C.groups[b][A]&&Object.keys(C.groups[b][A]).forEach(U=>{"missing"!=C.groups[b][A][U].status&&(C.groups[b][A][U].status="offline")}),C.set_group_statusBar("offline",b,A),C.statusBar.groupServer[b][A]="offline",C.catch_group_server_header("offline");try{yield C.servers[b][A].client.sessionLogout(C.servers[b][A].session,C.servers[b][A].session.token,C.servers[b][A].session.refresh_token)}catch{}C.noti_origin[b]&&C.noti_origin[b][A]&&delete C.noti_origin[b][A],C.rearrange_notifications(),C.channels_orig[b]&&C.channels_orig[b][A]&&Object.keys(C.channels_orig[b][A]).forEach(U=>{"missing"!=C.channels_orig[b][A][U].status&&delete C.channels_orig[b][A][U].status})}C.indexed.saveTextFileToUserPath(JSON.stringify(C.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let b=[];return Object.keys(this.servers.official).forEach(C=>{"online"==this.statusBar.groupServer.official[C]&&b.push(this.servers.official[C])}),Object.keys(this.servers.unofficial).forEach(C=>{"online"==this.statusBar.groupServer.unofficial[C]&&b.push(this.servers.unofficial[C])}),b}get_all_server_info(b=!1,A=!1){let R=[],C=Object.keys(this.servers.official);return b&&C.forEach(U=>{A?("online"==this.statusBar.groupServer.official[U]||"pending"==this.statusBar.groupServer.official[U])&&R.push(this.servers.official[U].info):this.servers.official[U]&&R.push(this.servers.official[U].info)}),Object.keys(this.servers.unofficial).forEach(U=>{A?("online"==this.statusBar.groupServer.unofficial[U]||"pending"==this.statusBar.groupServer.unofficial[U])&&R.push(this.servers.unofficial[U].info):this.servers.unofficial[U]&&R.push(this.servers.unofficial[U].info)}),R}add_group_server(b,A=(()=>{})){var R=this;if(this.statusBar.groupServer.unofficial[b.target||b.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${b.target||b.name}`});b.target=b.target||b.name,b.address=b.address||"192.168.0.1",b.nakama_port=b.nakama_port,b.cdn_port=b.cdn_port,b.apache_port=b.apache_port,b.square_port=b.square_port,b.webrtc_port=b.webrtc_port,b.useSSL=b.useSSL||!1,b.isOfficial=b.isOfficial||"unofficial",b.key=b.key||"";let C=(new Date).getTime().toString();return C+=`,${b.isOfficial}`,C+=`,${b.name}`,C+=`,${b.target}`,C+=`,${b.address}`,C+=`,${b.nakama_port||""}`,C+=`,${b.useSSL||""}`,C+=`,${b.cdn_port||""}`,C+=`,${b.apache_port||""}`,C+=`,${b.square_port||""}`,C+=`,${b.webrtc_port||""}`,new Promise(function(){var Y=(0,I.A)(function*(U){yield R.AutoGenWebRTCInfo(b),"official"!=b.isOfficial?R.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var te=(0,I.A)(function*(Oe,Te){let Je=[];Oe&&Te&&(Je=Te.split("\n")),Je.push(C),R.indexed.saveTextFileToUserPath(Je.join("\n"),"servers/list_detail.csv").then(()=>{R.init_server(b),R.servers[b.isOfficial][b.target].info={...b},A()}),R.statusBar.groupServer[b.isOfficial][b.target]="offline",yield R.indexed.saveTextFileToUserPath(JSON.stringify(R.statusBar.groupServer),"servers/list.json"),U()});return function(Oe,Te){return te.apply(this,arguments)}}()):(R.init_server(b),R.servers[b.isOfficial][b.target].info={...b},R.statusBar.groupServer[b.isOfficial][b.target]="offline",U())});return function(U){return Y.apply(this,arguments)}}())}AutoGenWebRTCInfo(b){var A=this;return(0,I.A)(function*(){let R={urls:[`stun:${b.address}:${b.webrtc_port||3478}`,`turn:${b.address}:${b.webrtc_port||3478}`],username:"username",credential:"password"};yield A.SaveWebRTCServer(R,!0)})()}SaveWebRTCServer(b,A=!1){var R=this;return(0,I.A)(function*(){let C=(yield R.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",Y=JSON.parse(C),U=!1;for(let Oe=0,Te=Object.keys(Y).length;Oe<Te;Oe++)if(R.catch_address_from_rtc_server_address(b)==R.catch_address_from_rtc_server_address(Y[Oe])){Y[Oe]=b,U=!0;break}return(!U||A)&&(U||Y.push(b),R.p5loading.toast(R.lang.text.Nakama.SaveWebRTCServer,"webrtc_server_save"),yield R.indexed.saveTextFileToUserPath(JSON.stringify(Y),"servers/webrtc_server.json")),U})()}RemoveWebRTCServer(b){var A=this;return(0,I.A)(function*(){let R=(yield A.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",C=JSON.parse(R);for(let U=0,te=Object.keys(C).length;U<te;U++){let Oe=A.catch_address_from_rtc_server_address(C[U]);b==Oe&&C.splice(U,1)}yield A.indexed.saveTextFileToUserPath(JSON.stringify(C),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(b){let A;try{let R=b.urls[0];(R.indexOf("stun:")>=0||R.indexOf("turn:")>=0)&&(R=R.substring(5));let C=R.lastIndexOf(":");A=R.substring(0,C)}catch(R){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",R)}return A}catch_group_server_header(b){let A=b;this.statusBar.settings.groupServer=b,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(C=>{switch(this.statusBar.groupServer.official[C]){case"online":A="online";break;case"pending":"online"!=A&&(A="pending");break;case"missing":case"offline":"online"!=A&&"pending"!=A&&(A="offline")}}),"online"!=A&&Object.keys(this.statusBar.groupServer.unofficial).forEach(Y=>{switch(this.statusBar.groupServer.unofficial[Y]){case"online":A="online";break;case"pending":"online"!=A&&(A="pending");break;case"missing":case"offline":"online"!=A&&"pending"!=A&&(A="offline")}}),this.statusBar.settings.groupServer=A},1500)}init_session(b){var A=this;return(0,I.A)(function*(){A.CreateEmptyForm(b.isOfficial,b.target),A.TogglingSession=!0;try{A.servers[b.isOfficial][b.target].session=yield A.servers[b.isOfficial][b.target].client.authenticateEmail(A.users.self.email,A.users.self.password,!1),yield A.after_login(b.isOfficial,b.target,b.useSSL)}catch(R){switch(R.status){case 400:A.p5toast.show({text:A.lang.text.Nakama.NeedLoginInfo}),A.open_profile_page(),A.users.self.online=!1,delete A.users.self.password,A.set_group_statusBar("offline",b.isOfficial,b.target);break;case 401:A.p5toast.show({text:A.lang.text.Nakama.NeedAccountReset}),A.users.self.online=!1,delete A.users.self.password,A.set_group_statusBar("offline",b.isOfficial,b.target);break;case 404:if(A.servers[b.isOfficial][b.target].session=yield A.servers[b.isOfficial][b.target].client.authenticateEmail(A.users.self.email,A.users.self.password,!0),A.users.self.display_name&&A.servers[b.isOfficial][b.target].client.updateAccount(A.servers[b.isOfficial][b.target].session,{display_name:A.users.self.display_name,lang_tag:navigator.language.split("-")[0]||A.lang.lang}),A.p5toast.show({text:`${A.lang.text.Nakama.RegisterUserSucc}: ${b.name}`,lateable:!0}),A.users.self.img)try{yield A.servers[b.isOfficial][b.target].client.writeStorageObjects(A.servers[b.isOfficial][b.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:A.users.self.img}}])}catch(C){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",C)}yield A.after_login(b.isOfficial,b.target,b.useSSL);break;default:A.p5toast.show({text:`(${b.name}) ${A.lang.text.Nakama.UnexpectedLoginErr}: ${(R.statusText?`${R.statusText}(${R.status})`:R.status)||R}`}),A.set_group_statusBar("offline",b.isOfficial,b.target),A.p5loading.remove("nakama_login")}}A.TogglingSession=!1})()}CreateEmptyForm(b,A){this.groups[b]||(this.groups[b]={}),this.groups[b][A]||(this.groups[b][A]={}),this.channels_orig[b]||(this.channels_orig[b]={}),this.channels_orig[b][A]||(this.channels_orig[b][A]={}),this.usernameOverride[b]||(this.usernameOverride[b]={}),this.usernameOverride[b][A]||(this.usernameOverride[b][A]={}),this.OnTransfer[b]||(this.OnTransfer[b]={}),this.OnTransfer[b][A]||(this.OnTransfer[b][A]={}),this.noti_origin[b]||(this.noti_origin[b]={}),this.noti_origin[b][A]||(this.noti_origin[b][A]={}),this.RemoteTodoCounter[b]||(this.RemoteTodoCounter[b]={}),this.RemoteTodoCounter[b][A]||(this.RemoteTodoCounter[b][A]=[]),this.PromotedGroup[b]||(this.PromotedGroup[b]={}),this.PromotedGroup[b][A]||(this.PromotedGroup[b][A]={})}after_login(b,A,R){var C=this;return(0,I.A)(function*(){C.set_group_statusBar("pending",b,A),C.servers[b][A].socket=C.servers[b][A].client.createSocket(R),C.servers[b][A].client.getAccount(C.servers[b][A].session).then(U=>{let te=JSON.parse(U.user.metadata);C.servers[b][A].info.is_admin=te.is_admin,Object.keys(U.user).forEach(Te=>{"display_name"==Te?C.users.self[Te]=U.user[Te]:C.users.self.display_name||(C.users.self[Te]=U.user[Te])}),C.save_self_profile()}),C.servers[b][A].client.readStorageObjects(C.servers[b][A].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:C.servers[b][A].session.user_id}]}).then(U=>{U.objects.length?C.socket_reactive.profile?(C.users.self.img=U.objects[0].value.img,C.socket_reactive.profile(U.objects[0].value.img)):(C.users.self.img=U.objects[0].value.img,C.indexed.saveTextFileToUserPath(JSON.stringify(C.users.self.img),"servers/self/profile.img")):C.socket_reactive.profile&&C.socket_reactive.profile("")}),yield C.SyncTodoCounter(b,A),C.set_group_statusBar("online",b,A),C.LoadOverrideName(b,A),C.load_server_arcade_list(b,A),yield C.connect_to(b,A),yield C.redirect_channel(b,A),yield C.get_group_list_from_server(b,A),yield C.load_server_todo(b,A),yield C.RemoteTodoSelfCheck(b,A),C.rearrange_group_list(),yield C.load_posts_counter([C.servers[b][A].info]),yield C.update_notifications(b,A);for(let U=0,te=C.AfterLoginAct.length;U<te;U++)try{yield C.AfterLoginAct[U]()}catch(Oe){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Oe)}C.AfterLoginAct.length=0,C.AfterLoginActDone=!0;let Y=Object.keys(C.users[b][A]||{});Y&&C.servers[b][A].client.getUsers(C.servers[b][A].session,Y).then(U=>{for(let te=0,Oe=U.users.length;te<Oe;te++)C.save_other_user(U.users[te],b,A)}).catch(U=>{console.log("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: ",U)}),yield C.CheckHasAvatar(b,A),C.p5loading.remove("nakama_login")})()}CheckHasAvatar(b,A){var R=this;return(0,I.A)(function*(){try{var C;const Y="checkAvatar";if(R.global.AvatarThumbnailURL)throw"\uc900\ube44\ub41c \uc544\ubc14\ud0c0 \uc378\ub124\uc77c \uc788\uc74c";if(yield R.indexed.checkIfFileExist("servers/self/avatar.pck"))throw"\uc544\ubc14\ud0c0 pck \ud30c\uc77c \uc788\uc74c";const Oe=null===(C=(yield R.servers[b][A].client.readStorageObjects(R.servers[b][A].session,{object_ids:[{collection:"user_public",key:"avatar",user_id:R.servers[b][A].session.user_id}]})).objects)||void 0===C||null===(C=C[0])||void 0===C||null===(C=C.value)||void 0===C?void 0:C.data;if(!Oe)throw"\ub4f1\ub85d\ub41c \uc544\ubc14\ud0c0 \uc5c6\uc74c";const Te=yield R.global.downloadWithProgressAsBlob(Oe.url,void 0,Y);yield R.indexed.saveBlobToUserPath(Te,"servers/self/avatar.pck");const Je=yield R.global.downloadWithProgressAsBlob(Oe.thumbnail,void 0,Y);R.global.AvatarThumbnailURL=Oe.thumbnail,yield R.indexed.saveBlobToUserPath(Je,"servers/self/avatar.pck_thumbnail.png")}catch(Y){console.log("\uc544\ubc14\ud0c0 \ubd88\ub7ec\uc624\uae30 \ub3d9\uc791 \ucde8\uc18c: ",Y)}})()}rearrange_arcadeList(){let b=[];const A=Object.keys(this.ArcadeListOrig);for(const R of A){const C=Object.keys(this.ArcadeListOrig[R]);for(const Y of C)b=[...b,...this.ArcadeListOrig[R][Y]]}this.ArcadeList=b}load_server_arcade_list(b,A){var R=this;return(0,I.A)(function*(){try{const C=yield R.servers[b][A].client.readStorageObjects(R.servers[b][A].session,{object_ids:[{collection:"arcade",key:"url"}]});if(C.objects.length){const Y=C.objects[0].value.data,te=yield(yield fetch(Y)).json();R.ArcadeListOrig[b]||(R.ArcadeListOrig[b]={}),R.ArcadeListOrig[b][A]=te}}catch(C){console.log("\ub9ac\uc2a4\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",C)}R.rearrange_arcadeList()})()}load_server_todo(b,A){var R=this;return(0,I.A)(function*(){try{let C=R.RemoteTodoCounter[b][A];for(let Y=C.length-1;Y>=0;Y--){yield R.p5loading.update({id:"nakama_login",message:`${R.lang.text.Nakama.SyncingChannel}: ${R.servers[b][A].info.name} (${R.lang.text.Main.Title})`,progress:1-Y/C.length});let U=`RemoteTodo_${C[Y]}`;try{const te=yield R.servers[b][A].client.readStorageObjects(R.servers[b][A].session,{object_ids:[{collection:"server_todo",key:U,user_id:R.servers[b][A].session.user_id}]});if(te.objects.length)yield R.modify_remote_info_as_local(te.objects[0].value,b,A);else try{let Oe;R.RemoteTodoCounter[b][A].splice(Y,1);try{Oe=`todo/${U}_${b}_${A}/info.todo`}catch{Oe=`todo/${U}/info.todo`}let Te=yield R.indexed.loadTextFromUserPath(Oe),Je=JSON.parse(Te);R.deleteTodoFromStorage(!0,Je,!0)}catch{}}catch(te){console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",te),R.p5loading.remove("nakama_login")}}}catch{}})()}RemoteTodoSelfCheck(b,A){var R=this;return(0,I.A)(function*(){const C=yield R.indexed.GetFileListFromDB("todo/RemoteTodo_");for(let Y=0,U=C.length;Y<U;Y++){yield R.p5loading.update({id:"nakama_login",message:`${R.lang.text.Nakama.SyncingChannel}: ${R.servers[b][A].info.name} (${R.lang.text.TodoDetail.RemoveTodo})`,progress:Y/U});try{if(C[Y].indexOf("info.todo")>=0){let te=yield R.indexed.loadTextFromUserPath(C[Y]),Oe=JSON.parse(te);Oe.remote.isOfficial==b&&Oe.remote.target==A&&((yield R.servers[b][A].client.readStorageObjects(R.servers[b][A].session,{object_ids:[{collection:"server_todo",key:Oe.id,user_id:R.servers[b][A].session.user_id}]})).objects.length||((yield R.indexed.GetFileListFromDB(`todo/${Oe.id}_${b}_${A}`)).forEach(gt=>R.indexed.removeFileFromUserPath(gt)),R.RemoveLocalPushSchedule(Oe),R.noti.ClearNoti(Oe.id),R.global.p5removeTodo&&R.global.p5removeTodo(te)))}}catch{}}})()}getRemoteTodoCounter(b,A){var R=this;return(0,I.A)(function*(){try{R.RemoteTodoCounter[b][A].sort((U,te)=>U-te);let C=R.RemoteTodoCounter[b][A].length;if(!C)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let Y=R.RemoteTodoCounter[b][A][C-1]+1;return R.RemoteTodoCounter[b][A].push(Y),Y}catch{let Y=yield R.SyncTodoCounter(b,A),U=0;return Y&&Y.objects.length&&Y.objects[0].value.data.length?U=Y.objects[0].value.data.pop()+1:R.RemoteTodoCounter[b][A]=[0],U}})()}SyncTodoCounter(b,A){var R=this;return(0,I.A)(function*(){try{let C=yield R.servers[b][A].client.readStorageObjects(R.servers[b][A].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:R.servers[b][A].session.user_id}]});return R.RemoteTodoCounter[b][A]=C.objects[0].value.data,C}catch{}})()}removeRemoteTodoCounter(b,A,R){var C=this;return(0,I.A)(function*(){try{let Y=C.RemoteTodoCounter[b][A].indexOf(R);Y>=0&&C.RemoteTodoCounter[b][A].splice(Y,1)}catch{}yield C.updateRemoteCounter(b,A)})()}updateRemoteCounter(b,A){var R=this;return(0,I.A)(function*(){if(R.RemoteTodoCounter[b][A].length){for(let C=R.RemoteTodoCounter[b][A].length-1;C>=0;C--)(void 0===R.RemoteTodoCounter[b][A][C]||null==R.RemoteTodoCounter[b][A][C])&&R.RemoteTodoCounter[b][A].splice(C,1);R.RemoteTodoCounter[b][A].sort((C,Y)=>C-Y);for(let C=R.RemoteTodoCounter[b][A].length-2;C>=0;C--)R.RemoteTodoCounter[b][A][C+1]==R.RemoteTodoCounter[b][A][C]&&R.RemoteTodoCounter[b][A].splice(C,1)}yield R.servers[b][A].client.writeStorageObjects(R.servers[b][A].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:R.RemoteTodoCounter[b][A]}}])})()}modify_remote_info_as_local(b,A,R){var C=this;return(0,I.A)(function*(){b.remote.name=C.servers[A][R].info.name,b.remote.isOfficial=A,b.remote.target=R,b.remote.type=`${A}/${R}`,C.set_todo_notification(b);try{b.is_me=b.remote.creator_id==C.servers[A][R].session.user_id}catch{}C.global.p5todoAddtodo&&C.global.p5todoAddtodo(JSON.stringify(b));let Y=yield C.indexed.loadTextFromUserPath(`todo/${b.id}_${A}_${R}/info.todo`);if(Y){let U=JSON.parse(Y);if(b.create_at<=U.create_at&&U.modified){if(U.done)return void C.doneTodo(b,!0);if(U.removed)return void C.deleteTodoFromStorage(!0,U,!0);delete U.modified,C.global.p5todoAddtodo(JSON.stringify(U)),yield C.indexed.saveTextFileToUserPath(JSON.stringify(U),`todo/${U.id}_${A}_${R}/info.todo`);try{const te=yield C.servers[U.remote.isOfficial][U.remote.target].client.writeStorageObjects(C.servers[U.remote.isOfficial][U.remote.target].session,[{collection:"server_todo",key:U.id,permission_read:2,permission_write:1,value:U}]);yield C.servers[U.remote.isOfficial][U.remote.target].client.rpc(C.servers[U.remote.isOfficial][U.remote.target].session,"send_noti_fn",{receiver_id:C.servers[U.remote.isOfficial][U.remote.target].session.user_id,title:"manage_todo",content:{type:"add",collection:te.acks[0].collection,key:te.acks[0].key},code:xr.MANAGE_TODO,persistent:!1})}catch(te){console.log("\ud560 \uc77c \uc218\uc815 \uc804\ud30c \uc624\ub958: ",te)}}else C.indexed.saveTextFileToUserPath(JSON.stringify(b),`todo/${b.id}_${A}_${R}/info.todo`)}else C.indexed.saveTextFileToUserPath(JSON.stringify(b),`todo/${b.id}_${A}_${R}/info.todo`)})()}doneTodo(b,A=!1){var R=this;return(0,I.A)(function*(){b.done=!0;const C=`nakama_doneTodo_${Date.now()}`;if(R.global.p5todoAddtodo&&R.global.p5todoAddtodo(JSON.stringify(b)),b.remote){A||R.p5loading.update({id:C});try{yield R.servers[b.remote.isOfficial][b.remote.target].client.rpc(R.servers[b.remote.isOfficial][b.remote.target].session,"send_noti_fn",{receiver_id:R.servers[b.remote.isOfficial][b.remote.target].session.user_id,title:"manage_todo",content:{type:"done",id:b.id},code:xr.MANAGE_TODO,persistent:!1}),A||R.p5loading.remove(C)}catch{let U;b.modified=!0;try{U=`todo/${b.id}_${b.remote.isOfficial}_${b.remote.target}/info.todo`}catch{U=`todo/${b.id}/info.todo`}return yield R.indexed.saveTextFileToUserPath(JSON.stringify(b),U),void(A||R.p5loading.remove(C))}}yield R.deleteTodoFromStorage(!1,b,A,C)})()}deleteTodoFromStorage(b,A,R=!1,C){var Y=this;return(0,I.A)(function*(){const U=C||`nakama_deleteTodoFromStorage_${Date.now()}`;if(R||Y.p5loading.update({id:U,message:`${Y.lang.text.TodoDetail.RemoveTodo}: ${A.title}`}),A.attach&&A.attach.length)for(let gt=0,Wt=A.attach.length;gt<Wt;gt++)A.attach[gt].url&&""!==A.attach[gt].type&&Y.global.remove_file_from_storage(A.attach[gt].url,{});if(A.remote)try{if(!Y.servers[A.remote.isOfficial][A.remote.target])throw"Server deleted.";try{let gt=A.remote.isOfficial,Wt=A.remote.target;if(yield Y.servers[gt][Wt].client.deleteStorageObjects(Y.servers[gt][Wt].session,{object_ids:[{collection:"server_todo",key:A.id}]}),A.attach)for(let Ie=0,Ae=A.attach.length;Ie<Ae;Ie++)A.attach[Ie].url?""!==A.attach[Ie].type&&Y.global.remove_file_from_storage(A.attach[Ie].url,{cdn_port:Y.servers[gt][Wt].info.cdn_port}):yield Y.sync_remove_file(A.attach[Ie].path,gt,Wt,"todo_attach");b&&(yield Y.servers[A.remote.isOfficial][A.remote.target].client.rpc(Y.servers[A.remote.isOfficial][A.remote.target].session,"send_noti_fn",{receiver_id:Y.servers[A.remote.isOfficial][A.remote.target].session.user_id,title:"manage_todo",content:{type:"delete",id:A.id},code:xr.MANAGE_TODO,persistent:!1}))}catch(gt){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",gt)}try{if(A.remote.creator_id!=Y.servers[A.remote.isOfficial][A.remote.target].session.user_id){let gt=(new Date).getTime();try{yield Y.servers[A.remote.isOfficial][A.remote.target].client.rpc(Y.servers[A.remote.isOfficial][A.remote.target].session,"manage_todo_done_fn",{id:A.id,creator_id:A.remote.creator_id,user_id:Y.servers[A.remote.isOfficial][A.remote.target].session.user_id,timestamp:gt,isDelete:b})}catch{}try{yield Y.servers[A.remote.isOfficial][A.remote.target].client.rpc(Y.servers[A.remote.isOfficial][A.remote.target].session,"send_noti_fn",{receiver_id:A.remote.creator_id,title:"Manage_todo_add",content:{type:"worker",id:A.id,isDelete:b,timeAt:gt},code:xr.MANAGE_TODO,persistent:!1,sender_id:Y.servers[A.remote.isOfficial][A.remote.target].session.user_id})}catch{}}}catch{}if(A.workers){try{yield Y.servers[A.remote.isOfficial][A.remote.target].client.rpc(Y.servers[A.remote.isOfficial][A.remote.target].session,"manage_todo_delete_fn",{id:A.id,workers:A.workers})}catch{}for(let gt=0,Wt=A.workers.length;gt<Wt;gt++)try{yield Y.servers[A.remote.isOfficial][A.remote.target].client.rpc(Y.servers[A.remote.isOfficial][A.remote.target].session,"send_noti_fn",{receiver_id:A.workers[gt].id,title:"Manage_todo_add",content:{type:b?"delete":"done",id:A.id},code:xr.MANAGE_TODO,persistent:!1,sender_id:Y.servers[A.remote.isOfficial][A.remote.target].session.user_id})}catch{}}yield Y.removeRemoteTodoCounter(A.remote.isOfficial,A.remote.target,Number(A.id.split("_").pop()))}catch{var te,Oe;let Wt;A.modified=!0,A.removed=!0;try{Wt=`todo/${A.id}_${A.remote.isOfficial}_${A.remote.target}/info.todo`}catch{Wt=`todo/${A.id}/info.todo`}return yield Y.indexed.saveTextFileToUserPath(JSON.stringify(A),Wt),Y.removeRegisteredId(A.noti_id),Y.noti.ClearNoti(A.noti_id),b&&(null===(te=(Oe=Y.global).p5removeTodo)||void 0===te||te.call(Oe,JSON.stringify(A))),void(R||Y.p5loading.remove(U))}let Te;try{Te=`todo/${A.id}_${A.remote.isOfficial}_${A.remote.target}`}catch{Te=`todo/${A.id}`}(yield Y.indexed.GetFileListFromDB(Te)).forEach(gt=>Y.indexed.removeFileFromUserPath(gt)),Y.RemoveLocalPushSchedule(A),Y.removeRegisteredId(A.noti_id),Y.noti.ClearNoti(A.noti_id),b&&Y.global.p5todo&&Y.global.p5removeTodo(JSON.stringify(A)),R||Y.p5loading.remove(U)})()}load_groups(b,A,R,C=!1){var Y=this;return(0,I.A)(function*(){let U=Y.groups[b][A][R].channel_id;try{if("missing"!=Y.groups[b][A][R].status){let te=yield Y.servers[b][A].client.listGroupUsers(Y.servers[b][A].session,R);if(te.group_users.length){let Oe=!0;for(let Te=0,Je=te.group_users.length;Te<Je;Te++)if(te.group_users[Te].user.id==Y.servers[b][A].session.user_id){switch(te.group_users[Te].state){case 0:case 1:case 2:Y.groups[b][A][R].status="online";break;case 3:Y.groups[b][A][R].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",te.group_users[Te].state),Y.groups[b][A][R].status="missing"}Y.PromotedGroup[b]||(Y.PromotedGroup[b]={}),Y.PromotedGroup[b][A]||(Y.PromotedGroup[b][A]={}),te.group_users[Te].state<2?Y.PromotedGroup[b][A][R]=!0:delete Y.PromotedGroup[b][A][R],Oe=!1,te.group_users[Te].is_me=!0;break}Oe&&(Y.groups[b][A][R].status="missing",U&&(Y.channels_orig[b][A][U].status="missing"),Y.save_channels_with_less_info())}else Y.groups[b][A][R].status="missing",Y.channels_orig[b][A][U].status="missing",Y.save_channels_with_less_info();te.group_users.length&&(Y.groups[b][A][R].users=te.group_users);for(let Oe=0,Te=te.group_users.length;Oe<Te;Oe++)if(te.group_users[Oe].is_me)te.group_users[Oe].user=Y.users.self;else try{if(C)throw"\uc0ac\uc6a9\uc790 \ub370\uc774\ud130\ub9cc \ubc1b\uc74c";let Je=yield Y.servers[b][A].client.readStorageObjects(Y.servers[b][A].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:te.group_users[Oe].user.id}]});Je.objects.length?te.group_users[Oe].user.img=Je.objects[0].value.img:delete te.group_users[Oe].user.img,Y.save_other_user(te.group_users[Oe].user,b,A)}catch(Je){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Je),Y.save_other_user(te.group_users[Oe].user,b,A)}Y.save_groups_with_less_info()}}catch(te){console.log("load_groups_error: ",te)}})()}save_profile_to_server(b,A=!0){var R=this;return(0,I.A)(function*(){let C=R.get_all_online_server();if(R.users.self.display_name!==b)for(let Y=0,U=C.length;Y<U;Y++){try{yield C[Y].client.updateAccount(C[Y].session,{display_name:R.users.self.display_name});try{yield R.servers[C[Y].info.isOfficial][C[Y].info.target].client.rpc(R.servers[C[Y].info.isOfficial][C[Y].info.target].session,"send_noti_fn",{receiver_id:R.servers[C[Y].info.isOfficial][C[Y].info.target].session.user_id,title:"edit_profile",content:{type:"info"},code:xr.EDIT_PROFILE,persistent:!1})}catch(te){console.log("\uc140\ud504 \uc54c\ub9bc \uc2e4\ud328: ",te)}}catch(te){console.log("\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: ",te)}if(A&&R.channels_orig[C[Y].info.isOfficial][C[Y].info.target]){let te=Object.keys(R.channels_orig[C[Y].info.isOfficial][C[Y].info.target]);te&&te.forEach(Oe=>{C[Y].socket.writeChatMessage(Oe,{user_update:"modify_data",noti_form:b==R.users.self.display_name?`: ${b}`:`: ${b} -> ${R.users.self.display_name}`})})}}R.save_self_profile()})()}save_self_profile(){let b={...this.users.self};delete b.img,this.indexed.saveTextFileToUserPath(JSON.stringify(b),"servers/self/profile.json")}rearrange_all_user(){let b=[];return Object.keys(this.users).forEach(R=>{"self"!=R&&Object.keys(this.users[R]).forEach(Y=>{Object.keys(this.users[R][Y]).forEach(te=>{b.push(this.users[R][Y][te])})})}),b}load_other_user(b,A,R,C=(U=>{}),Y=!1){try{if(this.servers[A][R].session.user_id==b)return C(this.users.self),this.users.self}catch{}if(this.users[A][R]||(this.users[A][R]={}),this.users[A][R][b]&&!Y)return C(this.users[A][R][b]),this.users[A][R][b];this.users[A][R][b]={};let U=()=>{this.indexed.loadTextFromUserPath(`servers/${A}/${R}/users/${b}/profile.json`,(Oe,Te)=>{if(Oe&&Te){let Je=JSON.parse(Te);Object.keys(Je).forEach(Wt=>this.users[A][R][b][Wt]=Je[Wt])}C(this.users[A][R][b])})};try{this.servers[A][R].client.getUsers(this.servers[A][R].session,[b]).then(Oe=>{Oe.users.length?(Object.keys(Oe.users[0]).forEach(Je=>this.users[A][R][b][Je]=Oe.users[0][Je]),this.users[A][R][b].img||(this.users[A][R][b].img=null),this.save_other_user(this.users[A][R][b],A,R)):(this.indexed.removeFileFromUserPath(`${A}/${R}/users/${b}`),this.indexed.removeFileFromUserPath(`${A}/${R}/users/${b}/profile.json`),this.indexed.removeFileFromUserPath(`${A}/${R}/users/${b}/profile.img`)),C(this.users[A][R][b])}).catch(Oe=>{U()})}catch{U()}let te=()=>{this.users[A][R][b].img&&(delete this.users[A][R][b].img,this.save_other_user(this.users[A][R][b],A,R)),this.indexed.loadTextFromUserPath(`servers/${A}/${R}/users/${b}/profile.img`,(Oe,Te)=>{Oe&&Te&&(this.users[A][R][b].img=Te.replace(/"|=|\\/g,""))})};try{this.servers[A][R].client.readStorageObjects(this.servers[A][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:b}]}).then(Oe=>{Oe.objects.length&&this.users[A][R][b].img!=Oe.objects[0].value.img&&(this.users[A][R][b].img=Oe.objects[0].value.img,this.save_other_user(this.users[A][R][b],A,R))}).catch(Oe=>{te()})}catch{te()}return this.users[A][R][b]}save_other_user(b,A,R){if(this.servers[A][R].session.user_id==b.id)return;let C=JSON.parse(JSON.stringify(b));b.id!=this.servers[A][R].session.user_id&&(delete C.img,delete C.online,delete C.todo_checked,delete C.todo_done,this.users[A][R]||(this.users[A][R]={}),this.users[A][R][b.id]||(this.users[A][R][b.id]={}),Object.keys(b).forEach(U=>this.users[A][R][b.id][U]=b[U]),this.indexed.saveTextFileToUserPath(JSON.stringify(C),`servers/${A}/${R}/users/${C.id}/profile.json`),b.img?this.indexed.saveTextFileToUserPath(b.img,`servers/${A}/${R}/users/${b.id}/profile.img`):void 0===b.img&&this.indexed.removeFileFromUserPath(`servers/${A}/${R}/users/${b.id}/profile.img`))}update_notifications(b,A){var R=this;return(0,I.A)(function*(){let C=yield R.servers[b][A].client.listNotifications(R.servers[b][A].session,1);R.noti_origin[b][A]={};for(let Y=0,U=C.notifications.length;Y<U;Y++)R.act_on_notification(C.notifications[Y],b,A);R.rearrange_notifications()})()}rearrange_notifications(){let b=[];return Object.keys(this.noti_origin).forEach(R=>{Object.keys(this.noti_origin[R]).forEach(Y=>{Object.keys(this.noti_origin[R][Y]).forEach(te=>{b.push(this.noti_origin[R][Y][te])})})}),b.sort((R,C)=>R.create_time<C.create_time?1:R.create_time>C.create_time?-1:0),this.notifications_rearrange=b,b}add_channel(b,A,R,C=!1){var Y=this;return(0,I.A)(function*(){if(!Y.channels_orig[A][R][b.id]){Y.channels_orig[A][R][b.id]={};try{C&&(yield Y.servers[A][R].client.rpc(Y.servers[A][R].session,"send_noti_fn",{receiver_id:Y.servers[A][R].session.user_id,title:"add_channel",content:{type:"add",id:b.redirect.id},code:xr.ADD_CHANNEL,persistent:!1}))}catch(te){console.log("\uc0c8 \ucc44\ub110 \uc0dd\uc131\ub428 \uc140\ud504 \uc804\ud30c \uc2e4\ud328: ",te)}}switch(Object.keys(b).forEach(te=>Y.channels_orig[A][R][b.id][te]=b[te]),Y.channels_orig[A][R][b.id].cnoti_id||(Y.channels_orig[A][R][b.id].cnoti_id=Y.get_noti_id()),Y.channels_orig[A][R][b.id].redirect.type){case 2:let te=Y.channels_orig[A][R][b.id].redirect.id;Y.channels_orig[A][R][b.id].color=(te.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let Oe=Y.load_other_user(te,A,R).online?"online":"pending";Y.channels_orig[A][R][b.id].status=Oe;break;case 3:try{Y.channels_orig[A][R][b.id].color=(Y.channels_orig[A][R][b.id].redirect.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),"missing"==Y.channels_orig[A][R][b.id].status&&delete Y.channels_orig[A][R][b.id].status}catch(Te){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Te)}break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",Y.channels_orig[A][R][b.id])}})()}add_group_user_without_duplicate(b,A,R,C){let Y=!1;this.groups[R][C][A].users||(this.groups[R][C][A].users=[]);for(let U=0,te=this.groups[R][C][A].users.length;U<te;U++)if(this.groups[R][C][A].users[U].user.id==b.user.id){Y=!0;break}Y||this.groups[R][C][A].users.push(b)}load_channel_list(){var b=this;return(0,I.A)(function*(){let A=yield b.indexed.loadTextFromUserPath("servers/channels.json");A&&(b.channels_orig=JSON.parse(A),Object.keys(b.channels_orig).forEach(C=>{Object.keys(b.channels_orig[C]).forEach(U=>{b.CreateEmptyForm(C,U),Object.keys(b.channels_orig[C][U]).forEach(Oe=>{try{if(b.channels_orig[C][U][Oe].volatile)throw delete b.channels_orig[C][U][Oe],`\ud718\ubc1c\uc131 \ucc44\ub110 \ubb34\uc2dc: ${Oe}`;2==b.channels_orig[C][U][Oe].redirect.type&&(b.channels_orig[C][U][Oe].info=b.load_other_user(b.channels_orig[C][U][Oe].redirect.id,C,U)),"missing"!=b.channels_orig[C][U][Oe].status&&(delete b.channels_orig[C][U][Oe].status,0==b.channels_orig[C][U][Oe].redirect.type&&(b.channels_orig[C][U][Oe].status="certified")),b.channels_orig[C][U][Oe].is_new&&!b.subscribe_lock&&(b.has_new_channel_msg=!0)}catch{}})})}))})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(b){let A=!1;for(let R=0,C=this.registered_id.length;R<C;R++)if(this.registered_id[R]==b){A=!0;break}return A?this.check_If_RegisteredId(b+1):b}removeRegisteredId(b){for(let A=0,R=this.registered_id.length;A<R;A++)if(this.registered_id[A]==b){this.registered_id.splice(A,1);break}}redirect_channel(b,A){var R=this;return(0,I.A)(function*(){if(R.channels_orig[b][A]){let C=Object.keys(R.channels_orig[b][A]);for(let Y=0,U=C.length;Y<U;Y++)try{yield R.p5loading.update({id:"nakama_login",message:`${R.lang.text.Nakama.SyncingChannel}: ${R.servers[b][A].info.name} (${R.lang.text.Subscribes.Title})`,progress:Y/U}),"missing"!=R.channels_orig[b][A][C[Y]].status&&2===(yield R.servers[b][A].socket.joinChat(R.channels_orig[b][A][C[Y]].redirect.id,R.channels_orig[b][A][C[Y]].redirect.type,R.channels_orig[b][A][C[Y]].redirect.persistence,!1),R.channels_orig[b][A][C[Y]].cnoti_id||(R.channels_orig[b][A][C[Y]].cnoti_id=R.get_noti_id()),R.channels_orig[b][A][C[Y]].color=(R.channels_orig[b][A][C[Y]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),R.channels_orig[b][A][C[Y]].redirect.type)&&(R.servers[b][A].client.readStorageObjects(R.servers[b][A].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:R.channels_orig[b][A][C[Y]].redirect.id}]}).then(te=>{let Oe=R.load_other_user(R.channels_orig[b][A][C[Y]].redirect.id,b,A);Oe.img=te.objects.length?te.objects[0].value.img:void 0,R.save_other_user(Oe,b,A)}),R.channels_orig[b][A][C[Y]].update||R.servers[b][A].client.listChannelMessages(R.servers[b][A].session,C[Y],1,!1).then(te=>{te.messages.length&&R.update_from_channel_msg(te.messages[0],b,A)}))}catch{R.channels_orig[b][A][C[Y]].status="missing",R.p5loading.remove("nakama_login")}}})()}rearrange_channels(){this.HasRemovedChannel=!1;let b=[];return Object.keys(this.channels_orig).forEach(R=>{Object.keys(this.channels_orig[R]).forEach(Y=>{Object.keys(this.channels_orig[R][Y]).forEach(te=>{this.channels_orig[R][Y][te].server={isOfficial:R,target:Y};try{this.channels_orig[R][Y][te].server.name=this.servers[R][Y].info.name}catch{this.channels_orig[R][Y][te].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[R][Y][te].info||(this.channels_orig[R][Y][te].info={}),this.HasRemovedChannel=this.HasRemovedChannel||"missing"==this.channels_orig[R][Y][te].status,this.channels_orig[R][Y][te].redirect.type){case 1:break;case 2:let Oe=this.load_other_user(this.channels_orig[R][Y][te].redirect.id,R,Y);Object.keys(Oe).forEach(Je=>this.channels_orig[R][Y][te].info[Je]=Oe[Je]),this.channels_orig[R][Y][te].title=this.channels_orig[R][Y][te].info.display_name;break;case 3:this.groups[R][Y]&&this.groups[R][Y][this.channels_orig[R][Y][te].redirect.id]?(this.channels_orig[R][Y][te].info=this.groups[R][Y][this.channels_orig[R][Y][te].redirect.id],this.channels_orig[R][Y][te].title=this.groups[R][Y][this.channels_orig[R][Y][te].redirect.id].name,"missing"==this.groups[R][Y][this.channels_orig[R][Y][te].redirect.id].status&&(this.channels_orig[R][Y][te].status=this.groups[R][Y][this.channels_orig[R][Y][te].redirect.id].status)):this.channels_orig[R][Y][te].status="missing";break;case 0:this.channels_orig[R][Y][te].info||(this.channels_orig[R][Y][te].info={}),this.channels_orig[R][Y][te].info.name=this.channels_orig[R][Y][te].title,this.channels_orig[R][Y][te].info.img||this.indexed.loadTextFromUserPath(`servers/${R}/${Y}/groups/${te}.img`,(Je,gt)=>{Je&&gt&&(this.channels_orig[R][Y][te].info.img=gt)})}}catch{}this.channels_orig[R][Y][te].info.isOfficial=R,this.channels_orig[R][Y][te].info.target=Y,this.channels_orig[R][Y][te].last_comment_time||(this.channels_orig[R][Y][te].last_comment_time=Date.now()),b.push(this.channels_orig[R][Y][te])})})}),b.sort((R,C)=>{let Y=new Date(R.last_comment_time||0).getTime(),U=new Date(C.last_comment_time||0).getTime();return Y<U?1:Y>U?-1:0}),b.sort((R,C)=>R.is_new?C.is_new?0:-1:C.is_new?1:0),this.channels=b,this.save_channels_with_less_info(),b}save_channels_with_less_info(){let b=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(b).forEach(R=>{Object.keys(b[R]).forEach(Y=>{let U=Object.keys(b[R][Y]);U.forEach(te=>{delete b[R][Y][te].img,delete b[R][Y][te].group,delete b[R][Y][te].info,delete b[R][Y][te].update,delete b[R][Y][te].presences,delete b[R][Y][te].cnoti_id,delete b[R][Y][te].color,delete b[R][Y][te].isOfficial,delete b[R][Y][te].target,b[R][Y][te].is_new||delete b[R][Y][te].is_new}),U.length||delete b[R][Y]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(b),"servers/channels.json")}limit_image_size(b,A=(R=>{})){new yt(C=>{C.setup=()=>{C.noCanvas(),C.loadImage(b,U=>{U.resize(window.innerWidth,window.innerWidth*U.height/U.width),U.canvas.toDataURL().length>245e3&&Y(U),A(U),C.remove()},U=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),C.remove()})};let Y=U=>{U.resize(.95*U.width,.95*U.height),U.canvas.toDataURL().length>245e3&&Y(U)}})}try_add_group(b){var A=this;return new Promise(function(){var R=(0,I.A)(function*(C,Y){let U=A.get_all_online_server();for(let te=0,Oe=U.length;te<Oe;te++)try{let Te=yield U[te].client.joinGroup(U[te].session,b.id);if(!Te)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");Te=yield U[te].client.listGroups(U[te].session,decodeURIComponent(b.name));for(let Je=0,gt=Te.groups.length;Je<gt;Je++)if(Te.groups[Je].id==b.id){let Wt=Te.groups[Je];Wt.status=Wt.open?"online":"pending",Wt.server=A.servers[U[te].info.isOfficial][U[te].info.target].info;try{yield A.load_groups(U[te].info.isOfficial,U[te].info.target,Te.groups[Je].id,!0)}catch(Ie){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",Ie)}try{let Ie=yield A.servers[U[te].info.isOfficial][U[te].info.target].client.readStorageObjects(A.servers[U[te].info.isOfficial][U[te].info.target].session,{object_ids:[{collection:"group_public",key:`group_${Te.groups[Je].id}`,user_id:Te.groups[Je].creator_id}]});Ie.objects.length?Wt.img=Ie.objects[0].value.img:delete Wt.img}catch(Ie){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",Ie)}if(A.save_group_info(Wt,U[te].info.isOfficial,U[te].info.target),yield A.servers[U[te].info.isOfficial][U[te].info.target].client.rpc(A.servers[U[te].info.isOfficial][U[te].info.target].session,"send_noti_fn",{receiver_id:A.servers[U[te].info.isOfficial][U[te].info.target].session.user_id,title:"add_channel",content:{type:"add",id:Te.groups[Je].id},code:xr.ADD_CHANNEL,persistent:!1}),Wt.open){let Ie=yield A.join_chat_with_modulation(Wt.id,3,U[te].info.isOfficial,U[te].info.target);(!A.opened_page_info.channel||A.opened_page_info.channel.isOfficial!=U[te].info.isOfficial||A.opened_page_info.channel.target!=U[te].info.target||A.opened_page_info.channel.id!=Ie.id)&&A.servers[U[te].info.isOfficial][U[te].info.target].client.listChannelMessages(A.servers[U[te].info.isOfficial][U[te].info.target].session,Ie.id,1,!1).then(Ae=>{Ae.messages.length&&A.update_from_channel_msg(Ae.messages[0],U[te].info.isOfficial,U[te].info.target),A.save_group_info(Wt,U[te].info.isOfficial,U[te].info.target),A.go_to_chatroom(Ie)}).catch(Ae=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",Ae)})}C();break}}catch(Te){switch(Te.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let Je=yield A.join_chat_with_modulation(b.id,3,U[te].info.isOfficial,U[te].info.target);A.servers[U[te].info.isOfficial][U[te].info.target].client.listChannelMessages(A.servers[U[te].info.isOfficial][U[te].info.target].session,Je.id,1,!1).then(gt=>{gt.messages.length&&A.update_from_channel_msg(gt.messages[0],U[te].info.isOfficial,U[te].info.target),A.go_to_chatroom(Je)}).catch(gt=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",gt)}),C();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",Te)}}Y(A.lang.text.Nakama.GroupAllListDone)});return function(C,Y){return R.apply(this,arguments)}}())}save_group_info(b,A,R){this.groups[A][R]||(this.groups[A][R]={}),this.groups[A][R][b.id]=b,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(b.img,`servers/${A}/${R}/groups/${b.id}.img`),b.owner==this.servers[A][R].session.user_id&&b.img&&this.servers[A][R].client.writeStorageObjects(this.servers[A][R].session,[{collection:"group_public",key:`group_${b.id}`,value:{img:b.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(b=(()=>{})){let A=JSON.parse(JSON.stringify(this.groups));Object.keys(A).forEach(C=>{Object.keys(A[C]).forEach(U=>{let te=Object.keys(A[C][U]);te.forEach(Oe=>{if(delete A[C][U][Oe].server,delete A[C][U][Oe].img,A[C][U][Oe].users)for(let Te=0,Je=A[C][U][Oe].users.length;Te<Je;Te++)if(A[C][U][Oe].users[Te]){delete A[C][U][Oe].users[Te].state;try{A[C][U][Oe].users[Te].user.id?(A[C][U][Oe].users[Te].user={id:A[C][U][Oe].users[Te].user.id},this.servers[C][U]&&this.servers[C][U].session&&A[C][U][Oe].users[Te].user.id==this.servers[C][U].session.user_id&&(A[C][U][Oe].users[Te].is_me=!0)):A[C][U][Oe].users[Te].is_me||A[C][U][Oe].users.splice(Te,1)}catch{}}}),te.length||delete A[C][U]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(A),"servers/groups.json").then(()=>{b()})}remove_group_list(b,A,R,C=!1){var Y=this;return(0,I.A)(function*(){try{let U=b.creator_id==Y.servers[A][R].session.user_id;if(!Y.servers[A][R]||!U)throw"not a group creator";try{let Oe=`${b.server.useSSL?"https":"http"}://${b.server.address}`,Te=Y.servers[A][R].info;yield Y.global.remove_files_from_storage_with_key(Oe,b.id,{cdn_port:Te.cdn_port,apache_port:Te.apache_port})}catch{}(yield Y.servers[A][R].client.deleteGroup(Y.servers[A][R].session,b.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),Y.remove_channel_files(A,R,b.channel_id,U);try{throw yield Y.servers[A][R].client.deleteStorageObjects(Y.servers[A][R].session,{object_ids:[{collection:"group_public",key:`group_${b.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{let te=localStorage.getItem("fallback_fs");if(!te)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Oe=te.split("://"),Te=Oe.pop().split(":"),Je=Oe.pop();Je?Je+=":":Je=Y.global.checkProtocolFromAddress(Te[0])?"https:":"http:";let gt=`${Je}//${Te[0]}:${Te[1]||9002}/`;Te[0]&&(yield Y.global.remove_files_from_storage_with_key(gt,`${b.id}_${Y.servers[A][R].session.user_id}`,{}))}catch{}try{let te=`${b.server.useSSL?"https":"http"}://${b.server.address}`;if(b.server.address){let Oe=Y.servers[A][R].info;yield Y.global.remove_files_from_storage_with_key(te,`${b.id}_${Y.servers[A][R].session.user_id}`,{cdn_port:Oe.cdn_port,apache_port:Oe.apache_port})}}catch{}}try{if(C){yield Y.indexed.removeFileFromUserPath(`servers/${A}/${R}/groups/${b.id}.img`);try{delete Y.groups[A][R][b.id],Y.save_groups_with_less_info()}catch{}}}catch{}try{delete Y.PromotedGroup[A][R][b.id]}catch{}})()}remove_channel_files(b,A,R,C,Y){var U=this;return(0,I.A)(function*(){var te,Oe;const Te=Y||"remove_channel_files",Je=(null===(te=U.channels_orig[b][A][R])||void 0===te?void 0:te.title)||("4"==R.charAt(0)?null===(Oe=U.users[b][A][R.split(".").find(gt=>gt in U.users[b][A])])||void 0===Oe?void 0:Oe.display_name:void 0);try{yield U.p5loading.update({id:Te,message:`${U.lang.text.GroupDetail.BreakupGroup}: ${Je}`,forceEnd:null}),yield U.servers[b][A].client.rpc(U.servers[b][A].session,"remove_channel_file",{collection:`file_${R.replace(/[.]/g,"_")}`,is_creator:C}),U.p5loading.update({id:Te,progress:1},!0)}catch(gt){U.p5loading.update({id:Te,message:`${U.lang.text.AdminTools.FailedClear}: ${gt}`,progress:0},!0)}Y||U.p5loading.remove(Te)})()}get_group_list_from_server(b,A,R){var C=this;return(0,I.A)(function*(){const Y=R||"nakama_login";yield C.p5loading.update({id:Y,message:`${C.lang.text.Nakama.SyncingChannel}: ${C.servers[b][A].info.name} (${C.lang.text.AddGroup.GroupInfo})`,progress:null});let U=yield C.servers[b][A].client.listUserGroups(C.servers[b][A].session,C.servers[b][A].session.user_id);try{for(let te=0,Oe=U.user_groups.length;te<Oe;te++)if(R||(yield C.p5loading.update({id:Y,message:`${C.lang.text.Nakama.SyncingChannel}: ${C.servers[b][A].info.name} (${C.lang.text.AddGroup.GroupInfo})`,progress:te/Oe})),void 0===R||R==U.user_groups[te].group.id){C.groups[b][A][U.user_groups[te].group.id]||(C.groups[b][A][U.user_groups[te].group.id]={});try{let Te=yield C.servers[b][A].client.readStorageObjects(C.servers[b][A].session,{object_ids:[{collection:"group_public",key:`group_${U.user_groups[te].group.id}`,user_id:U.user_groups[te].group.creator_id}]});Te.objects.length?(C.groups[b][A][U.user_groups[te].group.id].img=Te.objects[0].value.img,C.indexed.saveTextFileToUserPath(Te.objects[0].value.img,`servers/${b}/${A}/groups/${U.user_groups[te].group.id}.img`)):(delete C.groups[b][A][U.user_groups[te].group.id].img,C.indexed.removeFileFromUserPath(`servers/${b}/${A}/groups/${U.user_groups[te].group.id}.img`))}catch(Te){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Te)}C.groups[b][A][U.user_groups[te].group.id]={...C.groups[b][A][U.user_groups[te].group.id],...U.user_groups[te].group},R&&"missing"==C.groups[b][A][U.user_groups[te].group.id].status&&(C.groups[b][A][U.user_groups[te].group.id].status="online"),yield C.load_groups(b,A,U.user_groups[te].group.id,!0),yield C.join_chat_with_modulation(U.user_groups[te].group.id,3,b,A)}C.rearrange_channels()}catch(te){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",te),C.p5loading.remove(Y)}R&&C.p5loading.remove(Y)})()}rearrange_group_list(b=!0){let A=[];return Object.keys(this.groups).forEach(C=>{Object.keys(this.groups[C]).forEach(U=>{Object.keys(this.groups[C][U]).forEach(Oe=>{try{this.groups[C][U][Oe].server=this.servers[C][U].info,A.push(this.groups[C][U][Oe])}catch{this.groups[C][U][Oe].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:C,target:U},b&&A.push(this.groups[C][U][Oe])}})})}),A}set_group_statusBar(b,A,R){this.statusBar.groupServer[A]||(this.statusBar.groupServer[A]={}),this.statusBar.groupServer[A][R]=b,this.catch_group_server_header(b),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(b,A,R){var C=this;return(0,I.A)(function*(){let Y="pending";try{if("offline"==C.statusBar.groupServer[A][R])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(b.group_id){var U;let te=null===(U=C.groups[A][R][b.group_id].users)||void 0===U?void 0:U.length;if(C.groups[A][R][b.group_id].max_count<=1)return Y=C.users.self.online?"online":"offline",void("missing"!=C.channels_orig[A][R][b.channel_id||b.id].status&&(C.channels_orig[A][R][b.channel_id||b.id].status=Y));if(void 0!==te)for(let Oe=0;Oe<te;Oe++){let Te=C.groups[A][R][b.group_id].users[Oe].user.id||C.servers[A][R].session.user_id;if(Te!=C.servers[A][R].session.user_id&&(yield new Promise(gt=>{C.load_other_user(Te,A,R,Wt=>gt(Wt))})).online){Y="online";break}}else Y="pending"}else if(b.user_id_one)if(C.channels_orig[A][R][b.channel_id||b.id]){let te=C.channels_orig[A][R][b.channel_id||b.id].redirect.id,Oe=yield C.servers[A][R].client.getUsers(C.servers[A][R].session,[te]);Object.keys(Oe.users[0]).forEach(Je=>{C.users[A][R][te][Je]=Oe.users[0][Je]}),Y=C.load_other_user(te,A,R).online?"online":"pending"}else try{let te=yield C.join_chat_with_modulation(b.user_id_one!=C.servers[A][R].session.user_id?b.user_id_one:b.user_id_two,2,A,R);Y=C.load_other_user(C.channels_orig[A][R][te.id].redirect.id,A,R).online?"online":"pending"}catch(te){console.error(te)}}catch{Y="offline"==C.statusBar.groupServer[A][R]?"offline":"missing"}C.channels_orig[A][R][b.channel_id||b.id]||(C.channels_orig[A][R][b.channel_id||b.id]={}),"missing"!=C.channels_orig[A][R][b.channel_id||b.id].status&&(C.channels_orig[A][R][b.channel_id||b.id].status=Y)})()}remove_server(b,A,R){var C=this;return(0,I.A)(function*(){const Y=`nakama_remove_server_${Date.now()}`;C.p5loading.update({id:Y,message:C.lang.text.Nakama.RemovingAccount});let U=C.servers[b][A].info;try{let Te=C.servers[b][A].session.user_id,Je=`${U.useSSL?"https":"http"}://${U.address}`;try{if(R)throw"\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \ub9ac\uc2a4\ud2b8\ub9cc \uc0ad\uc81c";yield C.global.remove_files_from_storage_with_key(Je,Te,{cdn_port:U.cdn_port,apache_port:U.apache_port})}catch{}try{if(R)throw"\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \ub9ac\uc2a4\ud2b8\ub9cc \uc0ad\uc81c";let gt=localStorage.getItem("fallback_fs");if(!gt)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Wt=gt.split("://"),Ie=Wt.pop().split(":"),Ae=Wt.pop();Ae?Ae+=":":Ae=C.global.checkProtocolFromAddress(Ie[0])?"https:":"http:";let qe=`${Ae}//${Ie[0]}:${Ie[1]||9002}/`;yield C.global.remove_files_from_storage_with_key(qe,Te,{})}catch{}yield C.servers[b][A].client.rpc(C.servers[b][A].session,"remove_account_fn",{user_id:Te}).catch(gt=>{})}catch{}if(C.p5loading.update({id:Y,message:C.lang.text.Nakama.LogoutAccount}),"online"==C.statusBar.groupServer[b][A])try{C.servers[b][A].socket.disconnect(!0)}catch{C.link_group(b,A,!1)}C.p5loading.update({id:Y,message:C.lang.text.Nakama.RemovingNotification});try{delete C.noti_origin[b][A]}catch{}C.rearrange_notifications(),C.p5loading.update({id:Y,message:C.lang.text.Nakama.MissingChannels});try{let Te=Object.keys(C.channels_orig[b][A]);C.channels_orig.deleted||(C.channels_orig.deleted={}),C.channels_orig.deleted[A]||(C.channels_orig.deleted[A]={}),Te.forEach(Je=>{C.channels_orig[b][A][Je].info.status="missing",C.channels_orig[b][A][Je].status="missing",C.channels_orig.deleted[A][Je]=JSON.parse(JSON.stringify(C.channels_orig[b][A][Je]))}),delete C.channels_orig[b][A]}catch{}C.save_channels_with_less_info();let te=yield C.indexed.GetFileListFromDB(`servers/${b}/${A}`);for(let Te=0,Je=te.length;Te<Je;Te++)try{let gt=yield C.indexed.GetFileInfoFromDB(te[Te]),Wt=te[Te].replace("/official/","/deleted/").replace(`/${b}/`,"/deleted/");yield C.indexed.saveFileToUserPath(gt,Wt),yield C.indexed.removeFileFromUserPath(te[Te]),C.p5loading.update({id:Y,message:`${C.lang.text.Nakama.MissingChannelFiles}: ${te[Te]}`})}catch(gt){console.log("\ud30c\uc77c \uc774\uad00 \uc2e4\ud328: ",gt)}{C.post_counter.deleted||(C.post_counter.deleted={});let Te=yield C.indexed.loadTextFromUserPath("servers/post_counter.json"),Je=JSON.parse(Te);C.post_counter.deleted[A]=Je[b][A],delete C.post_counter[b][A],delete C.posts_orig[b][A],C.rearrange_posts(),yield C.save_post_counter()}C.p5loading.update({id:Y,message:C.lang.text.Nakama.MissingGroups});try{C.groups.deleted||(C.groups.deleted={}),C.groups.deleted[A]||(C.groups.deleted[A]={}),C.groups.deleted[A]=JSON.parse(JSON.stringify(C.groups[b][A])),Object.keys(C.groups.deleted[A]).forEach(Je=>{C.groups.deleted[A][Je].server.name=C.lang.text.Nakama.DeletedServer,C.groups.deleted[A][Je].server.isOfficial="deleted",C.groups.deleted[A][Je].status="missing",C.groups.deleted[A][Je]=JSON.parse(JSON.stringify(C.groups[b][A][Je]))}),delete C.groups[b][A]}catch{}C.p5loading.update({id:Y,message:C.lang.text.Nakama.DeletingServerInfo}),C.set_group_statusBar("offline",b,A),delete C.statusBar.groupServer[b][A],yield C.RemoveWebRTCServer(C.servers[b][A].info.address),delete C.servers[b][A],C.save_groups_with_less_info(),C.indexed.saveTextFileToUserPath(JSON.stringify(C.statusBar.groupServer),"servers/list.json");let Oe=yield C.indexed.loadTextFromUserPath("servers/list_detail.csv");if(Oe){let Te=Oe.split("\n");for(let Je=0,gt=Te.length;Je<gt;Je++)if(Te[Je].split(",")[3]==A){Te.splice(Je,1);break}C.indexed.saveTextFileToUserPath(Te.join("\n"),"servers/list_detail.csv")}C.noti.ClearNoti(9),C.p5loading.remove(Y)})()}connect_to(b="official",A="default"){var R=this;return(0,I.A)(function*(){yield R.servers[b][A].socket.connect(R.servers[b][A].session,!0);let C=R.servers[b][A].socket;Object.keys(R.on_socket_connected).forEach(te=>R.on_socket_connected[te]()),C.onnotification=te=>{R.act_on_notification(te,b,A),R.rearrange_notifications()};let U=[];return C.onchannelpresence=te=>{if(void 0!==te.joins){te.joins.forEach(Te=>{R.servers[b][A].session.user_id!=Te.user_id&&(R.load_other_user(Te.user_id,b,A).online=!0)});let Oe=!0;for(let Te of te.joins)if(Te.user_id!=R.servers[b][A].session.user_id){Oe=!1;break}(!U.includes(te.channel_id)||!Oe)&&(U.push(te.channel_id),R.count_channel_online_member(te,b,A))}else if(void 0!==te.leaves){let Oe=[];te.leaves.forEach(Te=>{R.servers[b][A].session.user_id!=Te.user_id&&R.servers[b][A].client.getUsers(R.servers[b][A].session,[Te.user_id]).then(Je=>{let gt=Object.keys(Je.users[0]);delete R.load_other_user(Te.user_id,b,A).online,gt.forEach(Wt=>{R.users[b][A][Te.user_id][Wt]=Je.users[0][Wt]}),Oe.push(Te.user_id),Oe.forEach(Wt=>R.load_other_user(Wt,b,A)),R.count_channel_online_member(te,b,A)})})}R.socket_reactive["others-online"]&&R.socket_reactive["others-online"]()},C.onchannelmessage=te=>{R.channels_orig[b][A][te.channel_id]?(R.update_from_channel_msg(te,b,A),R.rearrange_channels()):te.user_id_one?R.join_chat_with_modulation(te.sender_id,2,b,A):te.group_id&&R.join_chat_with_modulation(te.group_id,3,b,A)},C.ondisconnect=te=>{R.OnSocketDisconnect(b,A)},C})()}OnSocketDisconnect(b,A){this.link_group(b,A,!1),Object.keys(this.on_socket_disconnected).forEach(C=>this.on_socket_disconnected[C]())}saveListedMessage(b,A,R,C,Y){let U={},te=JSON.parse(JSON.stringify(b)),Oe=Y||!1;for(;te.length;){U.target!=te[0].msgDate&&(U.msg&&(this.saveMessageByDate(U,A,R,C,Oe),Oe=!0),U.target=te[0].msgDate,U.msg=[]);let Te=te.shift();delete Te.content.text,delete Te.content.img,delete Te.content.local_comp,delete Te.content.path,delete Te.msgDate,delete Te.displayDate,delete Te.msgTime,delete Te.isLastRead,delete Te.showInfo,U.msg.push(Te)}this.saveMessageByDate(U,A,R,C,Oe)}saveMessageByDate(b,A,R,C,Y=!1){if(!b.msg||!b.msg.length)return;const U=JSON.parse(JSON.stringify(b)),te=U.target.split("-");this.indexed.loadTextFromUserPath(`servers/${R}/${C}/channels/${A.id}/chats/${te[0]}/${te[1]}/${te[2]}`,(Oe,Te)=>{let Je=[],gt=[];Oe&&Te&&(Je=JSON.parse(Te)),U.msg.forEach(Ae=>{for(let qe=Je.length-1;qe>=0;qe--)if(Je[qe].message_id==Ae.message_id){Je.splice(qe,1);break}gt.push(Ae)});let Wt=[];if("local"!=R){const Ae=new Date(gt[0].create_time).getTime();for(let qe=Je.length-1;qe>=0;qe--)if(Y||Ae<new Date(Je[qe].create_time).getTime()){let $e=Je.splice(qe,1);$e[0].code=2,Wt.push($e[0])}}let Ie=[...Je,...Wt,...gt];Ie.sort((Ae,qe)=>Ae.create_time<qe.create_time?-1:Ae.create_time>qe.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Ie),`servers/${R}/${C}/channels/${A.id}/chats/${te[0]}/${te[1]}/${te[2]}`)})}CatchQouteMsgUserName(b,A,R){if(b.content.qoute)try{if("local"==b.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";b.content.qoute.username=this.users[A][R][b.content.qoute.user_id].display_name}catch{b.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(b){let A=new Date(b.create_time),R=A.toLocaleDateString(this.lang.lang);b.displayDate=R,b.msgDate=`${A.getFullYear()}-${("00"+(A.getMonth()+1)).slice(-2)}-${("00"+A.getDate()).slice(-2)}`,b.msgTime=`${("00"+A.getHours()).slice(-2)}:${("00"+A.getMinutes()).slice(-2)}`}join_chat_with_modulation(b,A,R,C,Y=!1){var U=this;return(0,I.A)(function*(){U.channels_orig[R][C]||(U.channels_orig[R][C]={});let te=yield U.servers[R][C].socket.joinChat(b,A,!0,!1);try{switch(te.redirect={id:b,type:A,persistence:!0},te.server={isOfficial:R,target:C},A){case 2:te.title=U.GetOverrideName(b,R,C)||U.load_other_user(b,R,C).display_name,te.info=U.load_other_user(b,R,C);break;case 3:te.title=U.groups[R][C][b].name,te.info=U.groups[R][C][b],U.groups[R][C][b].channel_id=te.id;break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",A)}if(yield U.add_channel(te,R,C,Y),Y&&U.rearrange_channels(),!U.opened_page_info.channel||U.opened_page_info.channel.isOfficial!=R||U.opened_page_info.channel.target!=C||U.opened_page_info.channel.id!=te.id){let Oe=yield U.servers[R][C].client.listChannelMessages(U.servers[R][C].session,te.id,1,!1);try{Oe.messages.length&&(yield U.update_from_channel_msg(Oe.messages[0],R,C,Y))}catch{}}return U.save_groups_with_less_info(),U.count_channel_online_member(te,R,C),te}catch(Oe){let Te="";throw Te=3===Oe.code?U.lang.text.Nakama.AddChannelFailed_Code3:Oe.message,U.p5toast.show({text:`${U.lang.text.Nakama.AddChannelFailed}: ${Te}`}),`${U.lang.text.Nakama.AddChannelFailed}: ${Te}`}})()}update_from_channel_msg(b,A,R,C=!1){var Y=this;return(0,I.A)(function*(){let U=b.sender_id==Y.servers[A][R].session.user_id,te=b.message_id!=Y.channels_orig[A][R][b.channel_id].last_comment_id,Oe=Y.modulation_channel_message(b,A,R,!0),Te=!1;switch(Oe.code){case 0:Oe.content.gupdate&&(Y.update_group_info(Oe,A,R),Te=!0),Oe.content.user_update&&(Y.update_group_user_info(Oe,A,R),Te=!0),te&&!Te&&(Y.channels_orig[A][R][b.channel_id].is_new=!U,Y.subscribe_lock||(Y.has_new_channel_msg=!U));break;case 1:case 2:break;case 6:U&&(delete Y.PromotedGroup[A][R][Oe.group_id],Y.socket_reactive.add_todo_menu&&Y.socket_reactive.add_todo_menu.UpdateWorkerList());case 3:case 4:case 5:case 7:case 9:let Wt;if(Y.socket_reactive.group_detail&&(Wt=yield Y.socket_reactive.group_detail.update_GroupUsersList(A,R)),U&&(7==Oe.code||9==Oe.code)){Wt||(Wt=(yield Y.servers[A][R].client.listGroupUsers(Y.servers[A][R].session,Oe.group_id)).group_users);for(let Ie of Wt)if(Ie.user.id==Y.servers[A][R].session.user_id){Ie.state<2?Y.PromotedGroup[A][R][Oe.group_id]=!0:delete Y.PromotedGroup[A][R][Oe.group_id],Y.socket_reactive.add_todo_menu&&Y.socket_reactive.add_todo_menu.UpdateWorkerList();break}}if(3==Oe.code||4==Oe.code||7==Oe.code||9==Oe.code)break;if(Y.noti_origin[A]&&Y.noti_origin[A][R]){let Ie=Object.keys(Y.noti_origin[A][R]),Ae=[];Ie.forEach(qe=>{-5==Y.noti_origin[A][R][qe].code&&Y.noti_origin[A][R][qe].sender_id==Oe.sender_id&&Ae.push(qe)});try{(yield Y.servers[A][R].client.deleteNotifications(Y.servers[A][R].session,Ae))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),Y.update_notifications(A,R)}catch(qe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",qe)}}U&&(Y.channels_orig[A][R][Oe.channel_id].status="missing");break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Oe)}if(!U&&te&&!Te){var Je;let Wt={id:Y.channels_orig[A][R][b.channel_id].cnoti_id,title:Y.channels_orig[A][R][b.channel_id].info.name||Y.GetOverrideName(Y.channels_orig[A][R][b.channel_id].info.id,A,R)||Y.channels_orig[A][R][b.channel_id].info.display_name||Y.channels_orig[A][R][b.channel_id].title||Y.lang.text.ChatRoom.noname_chatroom,body:Oe.content.msg||Oe.content.noti||`(${Y.lang.text.ChatRoom.attachments})`,smallIcon_ln:"diychat",image:null===(Je=Y.groups[A][R][b.group_id])||void 0===Je?void 0:Je.img,bgcolor:Y.channels_orig[A][R][b.channel_id].color};Oe.content.url&&Oe.content.type&&0==Oe.content.type.indexOf("image/")&&(Wt.image=Oe.content.url),Y.noti.PushLocal(Wt,Y.channels_orig[A][R][b.channel_id].cnoti_id,Ie=>{Y.go_to_chatroom(Y.channels_orig[A][R][b.channel_id])})}U&&Y.noti.ClearNoti(Y.channels_orig[A][R][b.channel_id].cnoti_id),Y.ModulateTimeDate(Oe),Y.check_sender_and_show_name(Oe,A,R);let gt=b.content.msg;Y.content_to_hyperlink(Oe,A,R),!C&&Y.channels_orig[A][R][Oe.channel_id].update&&Y.channels_orig[A][R][Oe.channel_id].update(Oe),Te||(Y.channels_orig[A][R][b.channel_id].last_comment_time=b.update_time,Y.channels_orig[A][R][Oe.channel_id].last_comment_id=Oe.message_id),Y.saveListedMessage([Oe],Y.channels_orig[A][R][Oe.channel_id],A,R),Te||2!=Oe.code&&(Y.channels_orig[A][R][Oe.channel_id].last_comment=(Oe.content.filename?`(${Y.lang.text.ChatRoom.attachments}) `:"")+(gt||Oe.content.noti||""))})()}rearrange_posts(){this.posts.length=0;let b=Object.keys(this.posts_orig);for(let A=0,R=b.length;A<R;A++){let C=Object.keys(this.posts_orig[b[A]]);for(let Y=0,U=C.length;Y<U;Y++){let te=Object.keys(this.posts_orig[b[A]][C[Y]]);for(let Oe=0,Te=te.length;Oe<Te;Oe++){let Je=Object.keys(this.posts_orig[b[A]][C[Y]][te[Oe]]);for(let gt=0,Wt=Je.length;gt<Wt;gt++)this.posts.push(this.posts_orig[b[A]][C[Y]][te[Oe]][Je[gt]])}}}this.posts.sort((A,R)=>A.create_time<R.create_time?1:A.create_time>R.create_time?-1:0)}RemoveCurrentPostAttach(b,A){this.p5loading.toast(`${this.lang.text.AddPost.RemoveAttach}: ${A.attachments[b].filename}`,"add_post"),A.attachments.splice(b,1);let R=A.content.split("\n");for(let C=R.length-1;C>=0;C--){let Y=!1,U=R[C].length-1,te=0;try{te=Number(R[C].substring(1,U)),Y="{"==R[C].charAt(0)&&"}"==R[C].charAt(U)&&!isNaN(te)}catch{}if(Y)if(b==te){if(""==R[C+1])try{R.splice(C+1,1)}catch{}R.splice(C,1)}else b<te&&(R[C]=`{${te-1}}`)}A.content=R.join("\n")}AddPost(b,A,R,C=!1,Y){var U=this;return(0,I.A)(function*(){const te=b.server.isOfficial,Oe=b.server.target;let Te={};try{let Ae=U.servers[te][Oe].info;Te.cdn_port=Ae.cdn_port,Te.apache_port=Ae.apache_port}catch{Te={}}for(let Ae=0,qe=b.attachments.length;Ae<qe;Ae++)delete b.attachments[Ae].thumbnail;if(b.mainImage){if(U.p5loading.update({id:A,message:U.lang.text.AddPost.SyncMainImage}),b.mainImage.path=`servers/${te}/${Oe}/posts/${b.creator_id}/${b.id}/MainImage.${b.mainImage.file_ext}`,b.mainImage.thumbnail=Y,!b.mainImage.blob)try{const qe=yield(yield fetch(Y)).blob();b.mainImage.blob=qe}catch{}if(U.p5loading.update({id:A,image:Y}),C)try{if(1!=b.CDN)throw"FFS \uc0ac\uc6a9 \uc21c\uc704\uc5d0 \uc5c6\uc74c";let Ae;if(U.p5loading.update({id:A,message:`${U.lang.text.AddPost.SyncMainImage}: ${b.mainImage.filename}`}),Ae=yield U.global.try_upload_to_user_custom_fs(b.mainImage,`${U.users.self.display_name}/${b.id}`,A,b.title),!Ae)throw"\uc5c5\ub85c\ub4dc \uc2e4\ud328";delete b.mainImage.path,delete b.mainImage.partsize,b.mainImage.url=Ae}catch{try{yield U.indexed.saveBlobToUserPath(b.mainImage.blob,b.mainImage.path)}catch(qe){console.log("\uba54\uc778\uc0ac\uc9c4 \ud30c\uc77c \uae68\uc9d0\ucc98\ub9ac: ",qe),delete b.mainImage}}else try{if(2==b.CDN)throw"SQL \uac15\uc81c";const Ae=U.servers[te][Oe].info.address,qe=U.servers[te][Oe].info.useSSL?"https:":"http:",$e=yield U.global.upload_file_to_storage(b.mainImage,{user_id:`${U.servers[te][Oe].session.user_id}/${b.id}`,cdn_port:Te.cdn_port,apache_port:Te.apache_port},qe,Ae,1==b.CDN,A,b.title);if(!$e)throw"\ub9c1\ud06c \ub9cc\ub4e4\uae30 \uc2e4\ud328";delete b.mainImage.partsize,b.mainImage.url=$e}catch{yield U.sync_save_file(b.mainImage,te,Oe,"server_post",`${b.id}_mainImage`)}}const Je=b.attachments.length;if(Je){U.p5loading.update({id:A,message:U.lang.text.AddPost.SyncAttaches});for(let Ae=Je-1;Ae>=0;Ae--)if(C)try{if(1!=b.CDN)throw"FFS \uc0ac\uc6a9 \uc21c\uc704\uc5d0 \uc5c6\uc74c";let qe;if(U.p5loading.update({id:A,message:`${U.lang.text.AddPost.SyncAttaches}: [${Ae}]${b.attachments[Ae].filename}`}),qe=yield U.global.try_upload_to_user_custom_fs(b.attachments[Ae],`${U.users.self.display_name}/${b.id}`,A,b.title),!qe)throw"\uc5c5\ub85c\ub4dc \uc2e4\ud328";delete b.attachments[Ae].path,delete b.attachments[Ae].partsize,b.attachments[Ae].url=qe}catch{try{b.attachments[Ae].path=`servers/${te}/${Oe}/posts/${b.creator_id}/${b.id}/[${Ae}]${b.attachments[Ae].filename}`,yield U.indexed.saveBlobToUserPath(b.attachments[Ae].blob,b.attachments[Ae].path)}catch($e){U.p5toast.show({text:`{${Ae}} ${U.lang.text.AddPost.AttachError}: ${$e}`,lateable:!0}),U.RemoveCurrentPostAttach(Ae,b)}}else try{if(2==b.CDN)throw"SQL \uac15\uc81c";const qe=U.servers[te][Oe].info.address,$e=U.servers[te][Oe].info.useSSL?"https:":"http:",ct=yield U.global.upload_file_to_storage(b.attachments[Ae],{user_id:`${U.servers[te][Oe].session.user_id}/${b.id}`,cdn_port:Te.cdn_port,apache_port:Te.apache_port},$e,qe,1==b.CDN,A,b.title);if(!ct)throw"\ub9c1\ud06c \ub9cc\ub4e4\uae30 \uc2e4\ud328";delete b.attachments[Ae].path,delete b.attachments[Ae].partsize,b.attachments[Ae].url=ct}catch(qe){try{"SQL \uac15\uc81c"==qe&&b.attachments[Ae].url&&!b.attachments[Ae].blob&&(b.attachments[Ae].blob=yield(yield fetch(b.attachments[Ae].url)).blob()),yield U.sync_save_file(b.attachments[Ae],te,Oe,"server_post",`${b.id}_attach_${Ae}`)}catch($e){U.p5toast.show({text:`{${Ae}} ${U.lang.text.AddPost.AttachError}: ${$e}`,lateable:!0}),U.RemoveCurrentPostAttach(Ae,b)}}}if(b.OutSource&&(yield U.global.remove_file_from_storage(b.OutSource,Te),b.OutSource=void 0),R=R&&"me"!=b.creator_id){const Ae=new Blob([JSON.stringify(b)],{type:"text/plain"}),qe={blob:Ae,filename:`${b.id}.json`,file_ext:"json",size:Ae.size};try{const $e=U.servers[te][Oe].info.address,ct=U.servers[te][Oe].session.user_id,Ft=U.servers[te][Oe].info.useSSL?"https:":"http:",ur=yield U.global.upload_file_to_storage(qe,{user_id:`${ct}/${b.id}`,cdn_port:Te.cdn_port,apache_port:Te.apache_port},Ft,$e,1==b.CDN,A,b.title);if(!ur)throw"\uc5c5\ub85c\ub4dc \uc2e4\ud328";b.OutSource=ur}catch{try{const ct=U.users.self.display_name,Ft=yield U.global.try_upload_to_user_custom_fs(qe,`${ct}/${b.id}`,A,b.title);if(!Ft)throw"\uc5c5\ub85c\ub4dc \uc2e4\ud328";b.OutSource=Ft}catch(ct){b.OutSource=void 0,R=!1,U.p5toast.show({text:`${U.lang.text.AddPost.OutLinkFailed}: ${ct}`})}}}let gt=JSON.parse(JSON.stringify(b));gt.mainImage&&(delete gt.mainImage.blob,delete gt.mainImage.thumbnail);for(let Ae=gt.attachments.length-1;Ae>=0;Ae--)delete gt.attachments[Ae].blob;delete gt.server;try{U.posts_orig[te][Oe]||(U.posts_orig[te][Oe]={}),U.posts_orig[te][Oe][b.creator_id]||(U.posts_orig[te][Oe][b.creator_id]={}),U.posts_orig[te][Oe][b.creator_id][b.id]=b}catch(Ae){U.p5toast.show({text:`${U.lang.text.AddPost.SyncErr}: ${Ae}`}),console.log(Ae)}const Wt=JSON.stringify(gt);yield U.indexed.saveTextFileToUserPath(Wt,`servers/${te}/${Oe}/posts/${b.creator_id}/${b.id}/info.json`),delete gt.is_me;const Ie=JSON.stringify(gt);if(!C){let Ae=new Blob([Ie],{type:"application/json"}),qe={filename:"info.json"};qe.blob=Ae,qe.size=Ae.size,qe.type="application/json",qe.file_ext="json",qe.typeheader="text",qe.path=`servers/${te}/${Oe}/posts/${b.creator_id}/${b.id}/info.json`,yield U.sync_save_file(qe,te,Oe,"server_post",b.id)}})()}EditPost(b){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(b),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(b,A=!1,R){var C=this;return(0,I.A)(function*(){var Y;const U=JSON.parse(JSON.stringify(b)),te=U.server.isOfficial,Oe=U.server.target,Te=R||`nakama_RemovePost_${Date.now()}`,Je="online"==(null===(Y=C.statusBar.groupServer[te])||void 0===Y?void 0:Y[Oe]);A||(yield C.p5loading.update({id:Te,message:C.lang.text.PostViewer.RemovePost,forceEnd:null}));let gt=yield C.indexed.GetFileListFromDB(`servers/${te}/${Oe}/posts/${b.creator_id}/${b.id}`);for(let Ae=0,qe=gt.length;Ae<qe;Ae++)A||C.p5loading.update({id:Te,message:`${C.lang.text.PostViewer.RemovePost}: ${gt[Ae]}`,progress:Ae/qe}),yield C.indexed.removeFileFromUserPath(gt[Ae]);A||C.p5loading.update({id:Te,progress:null});let Wt={};try{let Ae=C.servers[te][Oe].info;Wt.cdn_port=Ae.cdn_port,Wt.apache_port=Ae.apache_port}catch{Wt={}}if(b.OutSource&&C.global.remove_file_from_storage(b.OutSource,Wt),b.attachments)for(let Ae=0,qe=b.attachments.length;Ae<qe;Ae++)try{if(A||C.p5loading.update({id:Te,message:`${C.lang.text.PostViewer.RemovePost}: ${b.attachments[Ae].filename}`,progress:Ae/qe}),b.attachments[Ae].url&&""!==b.attachments[Ae].type)A||C.global.remove_file_from_storage(b.attachments[Ae].url,Wt);else try{b.server.local||(yield C.sync_remove_file(`${b.id}_attach_${Ae}`,te,Oe,"server_post","",`${b.id}_attach_${Ae}`))}catch{}}catch{}if(A||C.p5loading.update({id:Te,progress:null}),b.mainImage)try{if(b.mainImage.url&&""!==b.mainImage.type)A||C.global.remove_file_from_storage(b.mainImage.url,Wt);else try{b.server.local||(yield C.sync_remove_file(`${b.id}_mainImage`,te,Oe,"server_post","",`${b.id}_mainImage`))}catch{}}catch{}try{b.server.local||A||(yield C.sync_remove_file(b.id,te,Oe,"server_post","",`${b.id}`))}catch{}A||C.p5loading.update({id:Te,message:`${C.lang.text.PostViewer.RemovePost}: ${b.title}`}),!A&&!R&&C.p5loading.remove(Te);try{delete C.posts_orig[te][Oe][b.creator_id][b.id]}catch{}if(!A)try{yield C.servers[te][Oe].client.rpc(C.servers[te][Oe].session,"send_noti_all_fn",{noti_id:xr.MANAGE_POST,type:"remove",user_id:b.creator_id,post_id:b.id,persistent:!1})}catch{}if(C.rearrange_posts(),C.socket_reactive.try_load_post&&C.socket_reactive.try_load_post(),!Je&&!U.offlineAct&&!b.server.local){var Ie;let Ae=Number(yield C.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;U.id=`LocalPost_${Ae}`;try{yield C.indexed.saveTextFileToUserPath(`${Ae+1}`,"servers/local/target/posts/me/counter.txt")}catch(qe){C.p5toast.show({text:`${C.lang.text.AddPost.SyncErr}: ${qe}`}),console.log(qe)}U.offlineAct="remove",U.originalInfo=b,U.creator_id="me",U.server={name:C.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},yield C.AddPost(U,Te,!0,!0,null===(Ie=U.mainImage)||void 0===Ie?void 0:Ie.thumbnail),C.rearrange_posts(),C.p5loading.remove(Te)}})()}content_to_hyperlink(b,A,R){if(!b.content.msg||"object"==typeof b.content.msg)return;let C=b.content.msg.split("\n");b.content.msg=[],C.forEach(Y=>{b.content.msg.push([{text:Y}])});for(let Y=0,U=b.content.msg.length;Y<U;Y++)if(b.content.msg[Y][0].text){const te=/(https?:\/\/[^\s]+|[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})(\/[^\s]*)?/g,Oe=b.content.msg[Y][0].text,Te=Oe.match(te);if(Te){const Je="%extractURL",Wt=Oe.replace(te,Je).split(Je);let Ie=[];for(;Wt.length||Te.length;){{let Ae=Wt.shift();Ae&&Ie.push({text:Ae})}{let Ae=Te.shift();Ae&&Ie.push({text:Ae,href:!0})}}b.content.msg[Y]=Ie}else b.content.msg[Y]=[{text:Oe}];try{let Je=b.content.msg[Y][0].text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");1==b.content.msg.length&&b.content.msg[Y][0].text.length==Je.length&&(b.content.msg[Y][0].size=48)}catch{}}}CreateHyperLinkDesc(b,A,R,C,Y){try{let te,U=b.content.msg,Oe=!1;for(let Te of U){for(let Je of Te)if(Je.href){te=Je.text,Oe=!0;break}if(Oe)break}Oe?this.HyperLinkDescList.push({msg:b,url:te,isOfficial:A,target:R,cont:C,callback:Y}):delete b.content.hasLink,this.RequestHyperLinkInfo()}catch{}}RequestHyperLinkInfo(){var b=this;return(0,I.A)(function*(){if(!b.isRequestingLinkInfo){for(b.isRequestingLinkInfo=!0;b.HyperLinkDescList.length;){var A;const R=b.HyperLinkDescList.pop();if(R.cont.signal.aborted){console.log("\ub354 \uc774\uc0c1 \ud398\uc774\uc9c0 \uc815\ubcf4\ub97c \ud544\uc694\ub85c\ud558\uc9c0 \uc54a\uc74c: ",R.cont.signal.reason);continue}let C,Y;try{C=b.servers[R.isOfficial][R.target].info,Y=`${C.useSSL?"https":"http"}://${C.address}:${C.cdn_port||9001}`}catch{}if(R.msg.content.hasLink)return;try{let U=yield b.global.GetHrefThumbnail(R.url,Y,R.cont);if(!U||U.error)throw U;R.msg.content.hasLink=U,b.saveListedMessage([R.msg],b.channels_orig[R.isOfficial][R.target][R.msg.channel_id],R.isOfficial,R.target)}catch(U){console.log("href \uac04\ub7b5\uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc2e4\ud328: ",U)}null===(A=R.callback)||void 0===A||A.call(R)}b.isRequestingLinkInfo=!1}})()}check_sender_and_show_name(b,A,R){try{b.color="#"+(b.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),b.sender_id==this.servers[A][R].session.user_id?(b.user_display_name=this.users.self.display_name,b.is_me=!0):b.user_display_name=this.load_other_user(b.sender_id,A,R).display_name,b.user_display_name=b.user_display_name||this.lang.text.Profile.noname_user}catch(C){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",C)}}modulation_channel_message(b,A,R,C=!1){var Y=this;this.translate_updates(b);let te,U=!1;try{U=b.sender_id==this.servers[A][R].session.user_id}catch{U=b.content.user_update}try{te=U?this.users.self:this.load_other_user(b.sender_id,A,R)}catch{te=this.users.self}let Oe=function(){var Te=(0,I.A)(function*(){if(C){let Je=yield Y.servers[A][R].client.listGroupUsers(Y.servers[A][R].session,b.group_id);for(let gt of Je.group_users)if(gt.user.id==Y.servers[A][R].session.user_id){gt.is_me=!0,gt.user=Y.users.self;break}Y.groups[A][R][b.group_id].users=Je.group_users,Y.count_channel_online_member(b,A,R)}});return function(){return Te.apply(this,arguments)}}();switch(b.code){case 0:if(b.content.filename){try{b.content.transfer_index=this.OnTransfer[A][R][b.channel_id][b.message_id]}catch{}try{this.OnTransferMessage[b.message_id]=b}catch{}}break;case 1:case 2:break;case 3:case 4:b.content.user_update=te,b.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${te.display_name}`,C&&Oe();break;case 5:b.content.user_update=te,b.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${te.display_name}`,C&&Oe();break;case 6:b.content.user_update=te,b.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${te.display_name}`,C&&Oe();break;case 7:b.content.user_update=te,b.content.noti=`${this.lang.text.OtherProfile.PromoteSucc}: ${te.display_name}`;break;case 9:b.content.user_update=te,b.content.noti=`${this.lang.text.OtherProfile.DemoteSucc}: ${te.display_name}`;break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",b)}return b}update_group_info(b,A,R){switch(this.translate_updates(b),b.content.gupdate){case"gimage_modify":this.servers[A][R].client.readStorageObjects(this.servers[A][R].session,{object_ids:[{collection:"group_public",key:`group_${b.group_id}`,user_id:this.groups[A][R][b.group_id].creator_id}]}).then(C=>{C.objects.length?(this.groups[A][R][b.group_id].img=C.objects[0].value.img.replace(/"|=|\\/g,""),this.indexed.saveTextFileToUserPath(C.objects[0].value.img,`servers/${A}/${R}/groups/${b.group_id}.img`)):"missing"!=this.groups[A][R][b.group_id].status&&(delete this.groups[A][R][b.group_id].img,this.indexed.removeFileFromUserPath(`servers/${A}/${R}/groups/${b.group_id}.img`))});break;case"remove":case"force_remove":this.groups[A][R][b.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[A][R][b.channel_id].status="missing",this.servers[A][R].socket.leaveChat(b.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",b)}}translate_updates(b){if(b.content.user_update)switch(b.content.user_update){case"modify_data":b.content.noti=`${this.lang.text.Profile.user_profile_changed}${b.content.noti_form}`;break;case"modify_img":b.content.noti=`${this.lang.text.Profile.user_image_changed}${b.content.noti_form}`}if(b.content.gupdate)switch(b.content.gupdate){case"gimage_modify":b.content.noti=this.lang.text.GroupDetail.GroupImageChanged;break;case"remove":b.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":b.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(b,A,R){var C=this;return(0,I.A)(function*(){if(C.translate_updates(b),C.servers[A][R].session.user_id!=b.sender_id)switch(b.content.user_update){case"modify_data":try{let Y=yield C.servers[A][R].client.getUsers(C.servers[A][R].session,[b.sender_id]);Y.users.length?C.save_other_user(Y.users[0],A,R):(delete C.users[A][R][b.sender_id],C.indexed.removeFileFromUserPath(`servers/${A}/${R}/users/${b.sender_id}/profile.json`))}catch(Y){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",Y)}break;case"modify_img":try{let Y=yield C.servers[A][R].client.readStorageObjects(C.servers[A][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:b.sender_id}]});if(Y.objects.length)try{if(C.servers[A][R].session.user_id==b.sender_id)throw"me";C.load_other_user(b.sender_id,A,R).img=Y.objects[0].value.img.replace(/"|\\|=/g,""),C.indexed.saveTextFileToUserPath(C.users[A][R][b.sender_id].img,`servers/${A}/${R}/users/${b.sender_id}/profile.img`)}catch{C.users.self.img=Y.objects[0].value.img.replace(/"|\\|=/g,""),yield C.indexed.saveTextFileToUserPath(C.users.self.img,"servers/self/profile.img")}else try{if(C.servers[A][R].session.user_id==b.sender_id)throw"me";delete C.users[A][R][b.sender_id].img,C.indexed.removeFileFromUserPath(`servers/${A}/${R}/users/${b.sender_id}/profile.img`)}catch{delete C.users.self.img}}catch(Y){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",Y)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",b)}})()}check_notifications(b,A,R){var C=this;return(0,I.A)(function*(){let Y=C.servers[A][R];switch(b.code){case 0:case-2:break;case 1:let U=`<div style="text-align: center"><img src="${decodeURIComponent(b.content.uri)}" alt="noti_image" style="border-radius: 2px"/></div>`,te=`<div>${decodeURIComponent(C.global.HTMLEncode(b.content.msg))}</div>`;C.alertCtrl.create({header:C.servers[A][R].info.name,message:new Nt.Vk(b.content.uri?U+te:te),buttons:[{text:C.lang.text.Nakama.LocalNotiOK,handler:()=>{!function(){var Je=(0,I.A)(function*(){try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id])}catch{}C.noti.ClearNoti(b.code),C.update_notifications(A,R)});return function(){return Je.apply(this,arguments)}}()()}}]}).then(Te=>Te.present());break;case-1:case-3:case-4:case-6:C.noti.ClearNoti(b.code);try{(yield Y.client.deleteNotifications(Y.session,[b.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),C.update_notifications(A,R)}catch(Te){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Te)}break;case-5:try{let Te=yield Y.client.getUsers(Y.session,[b.sender_id]);if(Te.users.length){let Je="";Je+=`${C.lang.text.Nakama.ReqContServer}: ${b.server.name}<br>`,Je+=`${C.lang.text.Nakama.ReqContUserName}: ${Te.users[0].display_name}`,C.alertCtrl.create({header:C.lang.text.Nakama.ReqContTitle,message:Je,buttons:[{text:C.lang.text.Nakama.ReqContAccept,handler:()=>{!function(){var Wt=(0,I.A)(function*(){try{(yield Y.client.addGroupUsers(Y.session,b.content.group_id,[Te.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),C.noti.ClearNoti(b.code);try{let Ae=yield Y.client.deleteNotifications(Y.session,[b.id]);Ae?C.update_notifications(A,R):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Ae)}catch(Ae){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Ae)}}catch(Ie){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",Ie)}});return function(){return Wt.apply(this,arguments)}}()()}},{text:C.lang.text.Nakama.ReqContReject,handler:()=>{!function(){var Wt=(0,I.A)(function*(){try{(yield Y.client.kickGroupUsers(Y.session,b.content.group_id,[Te.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield Y.client.deleteNotifications(Y.session,[b.id]),C.update_notifications(A,R)}catch(Ie){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",Ie)}});return function(){return Wt.apply(this,arguments)}}()()},cssClass:"redfont"}]}).then(gt=>gt.present())}else try{(yield Y.client.deleteNotifications(Y.session,[b.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),C.p5toast.show({text:C.lang.text.Nakama.UserNotFound}),C.update_notifications(A,R)}catch(Je){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Je)}}catch(Te){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Te)}break;case-7:C.LoginAgain(C.noti_origin,A,R);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",b.code);try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id])}catch{}C.update_notifications(A,R)}})()}act_on_notification(b,A,R){var C=this;return(0,I.A)(function*(){let Y=!1;switch(b.server=C.servers[A][R].info,b.code){case 404:C.remove_server(A,R,!1);break;case xr.USER_PROFILE_CHANGED:break;case xr.USER_PROFILE_IMAGE_CHANGED:try{if(!C.users[A][R][b.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let Je=yield C.servers[A][R].client.readStorageObjects(C.servers[A][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:b.content.user_id}]});if(Je.objects.length)try{if(C.servers[A][R].session.user_id==b.content.user_id)throw"me";C.load_other_user(b.content.user_id,A,R).img=Je.objects[0].value.img.replace(/"|\\|=/g,""),C.indexed.saveTextFileToUserPath(C.users[A][R][b.content.user_id].img,`servers/${A}/${R}/users/${b.content.user_id}/profile.img`)}catch{C.users.self.img=Je.objects[0].value.img.replace(/"|\\|=/g,""),yield C.indexed.saveTextFileToUserPath(C.users.self.img,"servers/self/profile.img")}else try{if(C.servers[A][R].session.user_id==b.content.user_id)throw"me";delete C.users[A][R][b.content.user_id].img,C.indexed.removeFileFromUserPath(`servers/${A}/${R}/users/${b.content.user_id}/profile.img`)}catch{delete C.users.self.img}}catch(Je){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",Je)}return;case xr.MANAGE_POST:switch(b.content.type){case"add":try{let gt=b.content.user_id==C.servers[A][R].session.user_id;if(!C.users[A][R][b.content.user_id]&&!gt)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let Wt=yield C.load_server_post_with_id(b.content.post_id,A,R,b.content.user_id,gt);C.rearrange_posts(),!gt&&Wt&&null!=Wt&&Wt.title&&(C.p5toast.show({text:`${C.lang.text.AddPost.Title}: ${Wt.title}`}),C.has_new_post=!0)}catch{}break;case"remove":C.RemovePost({id:b.content.post_id,creator_id:b.content.user_id,attachments:[],server:{isOfficial:A,target:R}},!0)}return;case 1:b.request=`${C.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(b.content.msg)}`;let U=decodeURIComponent(b.content.msg),te=decodeURIComponent(b.content.uri);C.noti.PushLocal({id:b.code,title:C.servers[A][R].info.name,body:U,image:te,smallIcon_ln:"diychat"},"global_noti_all",Je=>{let gt=`<div style="text-align: center"><img src="${te}" alt="noti_image" style="border-radius: 2px"/></div>`,Wt=`<div>${C.global.HTMLEncode(U)}</div>`;C.alertCtrl.create({header:C.servers[A][R].info.name,message:new Nt.Vk(te?gt+Wt:Wt),buttons:[{text:C.lang.text.Nakama.LocalNotiOK,handler:()=>{!function(){var qe=(0,I.A)(function*(){try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id])}catch{}C.noti.ClearNoti(b.code),C.update_notifications(A,R)});return function(){return qe.apply(this,arguments)}}()()}}]}).then(Ae=>Ae.present())});break;case 0:b.request=`${b.code}-${b.subject}`;break;case-1:let Oe;b.request=`${b.code}-${b.subject}`,2===(b.content&&b.content.username&&(Oe=2),Oe)?C.join_chat_with_modulation(b.sender_id,Oe,A,R):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",b,Oe),b.request=`${b.code}-${b.subject}`),Y=!0;try{(yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),C.update_notifications(A,R)}catch(Je){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Je)}break;case-2:case-3:b.request=`${b.code}-${b.subject}`;break;case-4:C.socket_reactive.group_detail&&C.socket_reactive.group_detail.info.id==b.content.group_id&&C.socket_reactive.group_detail.update_from_notification(b);try{C.groups[A][R][b.content.group_id].status="online"}catch{try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]),C.update_notifications(A,R)}catch{}}b.request=`${b.code}-${b.subject}`;try{let Je=yield C.servers[A][R].client.readStorageObjects(C.servers[A][R].session,{object_ids:[{collection:"group_public",key:`group_${b.content.group_id}`,user_id:C.groups[A][R][b.content.group_id].creator_id}]});Je.objects.length&&(C.groups[A][R][b.content.group_id].img=Je.objects[0].value.img,C.indexed.saveTextFileToUserPath(Je.objects[0].value.img,`servers/${A}/${R}/groups/${b.content.group_id}.img`))}catch(Je){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Je)}try{yield C.load_groups(A,R,b.content.group_id,!0)}catch(Je){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Je)}C.join_chat_with_modulation(b.content.group_id,3,A,R,!0),C.noti.PushLocal({id:b.code,title:`${C.groups[A][R][b.content.group_id].name}: ${C.lang.text.Nakama.LocalNotiTitle}`,body:b.subject,icon:C.groups[A][R][b.content.group_id.img],smallIcon_ln:"diychat"},void 0,Je=>{C.check_notifications(b,A,R)});break;case-5:let Te=C.groups[A][R][b.content.group_id];if(Te)b.request=`${C.lang.text.Nakama.ReqContTitle}: ${Te.name}`;else{Y=!0;try{let Je=yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]);Je?C.update_notifications(A,R):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Je)}catch(Je){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",Je)}}C.socket_reactive.group_detail&&C.socket_reactive.group_detail.info.id==b.content.group_id&&C.socket_reactive.group_detail.update_from_notification(b),C.noti.PushLocal({id:b.code,title:`${C.groups[A][R][b.content.group_id].name}: ${C.lang.text.Nakama.ReqContTitle}`,icon:C.groups[A][R][b.content.group_id].img,smallIcon_ln:"diychat"},void 0,Je=>{C.socket_reactive.group_detail.info.id!=b.content.group_id&&C.global.ActLikeModal("group-detail",{info:C.groups[A][R][b.content.group_id],server:{isOfficial:A,target:R}})});break;case-6:b.request=`${b.code}-${b.subject}`;break;case-7:b.request=`${C.servers[A][R].info.name}: ${C.lang.text.Nakama.SessionLogout}`,C.LoginAgain(b,A,R);break;case xr.MANAGE_TODO:{const Je="add_todo";switch(b.content.type){case"add":C.servers[A][R].client.readStorageObjects(C.servers[A][R].session,{object_ids:[{collection:b.content.collection,key:b.content.key,user_id:b.content.sender_id||C.servers[A][R].session.user_id}]}).then(function(){var Ie=(0,I.A)(function*(Ae){if(Ae.objects.length){try{let ct,$e=Ae.objects[0].value;try{if(ct=yield C.indexed.loadTextFromUserPath(`todo/${$e.id}_${A}_${R}/info.todo`),!ct)throw"empty"}catch{ct=yield C.indexed.loadTextFromUserPath(`todo/${$e.id}/info.todo`)}let Ft=JSON.parse(ct);C.removeRegisteredId(Ft.noti_id),C.noti.ClearNoti(Ft.noti_id)}catch{}yield C.modify_remote_info_as_local(Ae.objects[0].value,A,R);let qe=Ae.objects[0].value;C.noti.ClearNoti(qe.noti_id),C.set_todo_notification(qe),yield C.p5loading.update({id:Je,message:`${C.lang.text.Main.Title}: ${qe.title}`,progress:1,forceEnd:350})}});return function(Ae){return Ie.apply(this,arguments)}}());break;case"done":C.indexed.loadTextFromUserPath(`todo/${b.content.id}_${A}_${R}/info.todo`,function(){var Ie=(0,I.A)(function*(Ae,qe){if(Ae&&qe){let $e=JSON.parse(qe);$e.done=!0,yield C.modify_remote_info_as_local($e,A,R),C.indexed.GetFileListFromDB(`todo/${$e.id}`).then(ct=>{ct.forEach(Ft=>C.indexed.removeFileFromUserPath(Ft)),C.RemoveLocalPushSchedule($e),C.removeRegisteredId($e.noti_id),C.noti.ClearNoti($e.noti_id),C.SyncTodoCounter(A,R)})}else C.indexed.loadTextFromUserPath(`todo/${b.content.id}/info.todo`,function(){var $e=(0,I.A)(function*(ct,Ft){if(ct&&Ft){let ur=JSON.parse(Ft);ur.done=!0,yield C.modify_remote_info_as_local(ur,A,R),C.indexed.GetFileListFromDB(`todo/${ur.id}`).then(vr=>{vr.forEach(Pr=>C.indexed.removeFileFromUserPath(Pr)),C.RemoveLocalPushSchedule(ur),C.removeRegisteredId(ur.noti_id),C.noti.ClearNoti(ur.noti_id),C.SyncTodoCounter(A,R)})}});return function(ct,Ft){return $e.apply(this,arguments)}}())});return function(Ae,qe){return Ie.apply(this,arguments)}}());break;case"delete":C.indexed.loadTextFromUserPath(`todo/${b.content.id}_${A}_${R}/info.todo`,(Ie,Ae)=>{if(Ie&&Ae){let qe=JSON.parse(Ae);C.indexed.GetFileListFromDB(`todo/${qe.id}`).then($e=>{$e.forEach(ct=>C.indexed.removeFileFromUserPath(ct)),C.RemoveLocalPushSchedule(qe),C.removeRegisteredId(qe.noti_id),C.noti.ClearNoti(qe.noti_id),C.global.p5removeTodo&&C.global.p5removeTodo(JSON.stringify(qe))}),C.SyncTodoCounter(A,R)}else C.indexed.loadTextFromUserPath(`todo/${b.content.id}/info.todo`,(qe,$e)=>{if(qe&&$e){let ct=JSON.parse($e);C.indexed.GetFileListFromDB(`todo/${ct.id}`).then(Ft=>{Ft.forEach(ur=>C.indexed.removeFileFromUserPath(ur)),C.RemoveLocalPushSchedule(ct),C.removeRegisteredId(ct.noti_id),C.noti.ClearNoti(ct.noti_id),C.global.p5removeTodo&&C.global.p5removeTodo(JSON.stringify(ct))}),C.SyncTodoCounter(A,R)}})});break;case"worker":let gt=b.content.isDelete;C.AddTodoManageUpdateAct&&C.AddTodoManageUpdateAct(b.content.id,b.sender_id,gt,b.content.timeAt);let Wt=gt?C.lang.text.Main.WorkerAbandon:C.lang.text.Main.WorkerDone;yield C.p5loading.update({id:Je,message:`${Wt}: ${C.GetOverrideName(b.sender_id,A,R)||C.users[A][R][b.sender_id].display_name}`,progress:1,forceEnd:350}),C.indexed.loadTextFromUserPath(`todo/${b.content.id}_${A}_${R}/info.todo`,function(){var Ie=(0,I.A)(function*(Ae,qe){if(Ae&&qe){let $e=JSON.parse(qe);for(let ct=0,Ft=$e.workers.length;ct<Ft;ct++)if(($e.workers[ct].user_id||$e.workers[ct].id)==b.sender_id){$e.workers[ct].isDelete=gt,$e.workers[ct].timestamp=b.content.timeAt;break}yield C.modify_remote_info_as_local($e,A,R),C.SyncTodoCounter(A,R)}else C.indexed.loadTextFromUserPath(`todo/${b.content.id}/info.todo`,function(){var $e=(0,I.A)(function*(ct,Ft){if(ct&&Ft){let ur=JSON.parse(Ft);for(let vr=0,Pr=ur.workers.length;vr<Pr;vr++)if((ur.workers[vr].user_id||ur.workers[vr].id)==b.sender_id){ur.workers[vr].isDelete=gt,ur.workers[vr].timestamp=b.content.timeAt;break}yield C.modify_remote_info_as_local(ur,A,R),C.SyncTodoCounter(A,R)}});return function(ct,Ft){return $e.apply(this,arguments)}}())});return function(Ae,qe){return Ie.apply(this,arguments)}}())}C.SyncTodoCounter(A,R);try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]),C.update_notifications(A,R)}catch{}}break;case xr.EDIT_PROFILE:switch(b.content.type){case"info":C.servers[A][R].client.getAccount(C.servers[A][R].session).then(Je=>{Object.keys(Je.user).forEach(Wt=>C.users.self[Wt]=Je.user[Wt]),C.save_self_profile()});break;case"image":C.servers[A][R].client.readStorageObjects(C.servers[A][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:C.servers[A][R].session.user_id}]}).then(Je=>{Je.objects.length?(C.indexed.saveTextFileToUserPath(JSON.stringify(Je.objects[0].value.img),"servers/self/profile.img"),C.users.self.img=Je.objects[0].value.img.replace(/"|=|\\/g,"")):C.indexed.removeFileFromUserPath("servers/self/profile.img")})}try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]),C.update_notifications(A,R)}catch{}break;case xr.ADD_CHANNEL:C.get_group_list_from_server(A,R,b.content.id);try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]),C.update_notifications(A,R)}catch{}break;case xr.NAME_OVERRIDED:C.LoadOverrideName(A,R);try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]),C.update_notifications(A,R)}catch{}break;case xr.CHATROOM_CHECKED:delete C.channels_orig[A][R][b.content.id].is_new,C.noti.ClearNoti(C.channels_orig[A][R][b.content.id].cnoti_id),C.rearrange_channels();{let Je=Object.keys(C.channels_orig[A][R]),gt=!1;for(let Wt of Je)if(C.channels_orig[A][R][Wt].is_new){gt=!0;break}gt||(C.has_new_channel_msg=!1)}try{yield C.servers[A][R].client.deleteNotifications(C.servers[A][R].session,[b.id]),C.update_notifications(A,R)}catch{}break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",b),b.request=`${b.code}-${b.subject}`}Y||(C.noti_origin[A][R][b.id]=b)})()}LoginAgain(b,A,R){this.alertCtrl.create({header:this.servers[A][R].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[A][R][b.id]}catch{}this.rearrange_notifications(),this.link_group(A,R,!0)}}]}).then(C=>C.present())}WriteStorage_From_channel(b,A,R,C,Y=0,U){var te=this;return(0,I.A)(function*(){let Oe=JSON.parse(JSON.stringify(b)),Te=yield yield te.indexed.GetFileInfoFromDB(A),Je=Math.ceil(Te.contents.length/bt.xM);const gt=U||`ForceSQL_write_${Date.now()}`;if(te.p5loading.update({id:gt,message:`${te.lang.text.ChatRoom.forceSQL}: ${te.lang.text.ChatRoom.SendFile}: ${Oe.content.filename}`}),te.OnTransfer[R][C][b.channel_id]||(te.OnTransfer[R][C][b.channel_id]={}),te.OnTransfer[R][C][b.channel_id][b.message_id]||(te.OnTransfer[R][C][b.channel_id][b.message_id]={index:Je}),!te.OnTransfer[R][C][b.channel_id][b.message_id].OnTransfer){b.content.transfer_index||(b.content.transfer_index=te.OnTransfer[R][C][b.channel_id][b.message_id]);for(let Wt=Y;Wt<Je;Wt++)try{te.p5loading.update({id:gt,message:`${te.lang.text.ChatRoom.forceSQL}: ${te.lang.text.ChatRoom.SendFile}: ${Oe.content.filename}`,progress:Wt/Je});let Ie=te.global.req_file_part_base64(Te,Wt,A);yield te.servers[R][C].client.writeStorageObjects(te.servers[R][C].session,[{collection:`file_${Oe.channel_id.replace(/[.]/g,"_")}`,key:`msg_${Oe.message_id}_${Wt}`,permission_read:2,permission_write:1,value:{data:Ie}}]),te.OnTransfer[R][C][b.channel_id][b.message_id].index=Je-1-Wt,te.OnTransfer[R][C][b.channel_id][b.message_id].OnTransfer="upload"}catch(Ie){console.log("WriteStorage_From_channel: ",Ie),te.noti.PushLocal({id:7,title:te.lang.text.Nakama.FailedUpload,body:`${Oe.content.filename}: ${Ie}`,smallIcon_ln:"diychat"},te.noti.Current),te.p5toast.show({text:`${te.lang.text.Nakama.FailedUpload}: ${Ie}`});break}setTimeout(()=>{te.p5loading.remove(gt),delete te.OnTransfer[R][C][b.channel_id][b.message_id],te.global.remove_req_file_info(b,A),te.noti.PushLocal({id:7,title:te.lang.text.ChatRoom.SendFile,body:Oe.content.filename,smallIcon_ln:"diychat"},te.noti.Current)},100)}})()}ReadStorage_From_channel(b,A,R,C,Y=0){var U=this;return(0,I.A)(function*(){let te=JSON.parse(JSON.stringify(b));const Oe=`ForceSQL_read_${Date.now()}`;if(U.p5loading.update({id:Oe,message:`${U.lang.text.ChatRoom.forceSQL}: ${U.lang.text.ChatRoom.SavingFile}: ${te.content.filename}`}),U.OnTransfer[R][C][b.channel_id]||(U.OnTransfer[R][C][b.channel_id]={}),U.OnTransfer[R][C][b.channel_id][b.message_id]||(U.OnTransfer[R][C][b.channel_id][b.message_id]={index:te.content.partsize}),U.OnTransfer[R][C][b.channel_id][b.message_id].OnTransfer)return;b.content.transfer_index||(b.content.transfer_index=U.OnTransfer[R][C][b.channel_id][b.message_id]);let Te=!0;for(let Je=Y,gt=te.content.partsize;Je<gt;Je++)try{U.p5loading.update({id:Oe,progress:Je/gt});let Wt=yield U.servers[R][C].client.readStorageObjects(U.servers[R][C].session,{object_ids:[{collection:`file_${te.channel_id.replace(/[.]/g,"_")}`,key:`msg_${te.message_id}_${Je}`,user_id:te.sender_id}]});U.global.save_file_part(A,Je,Wt.objects[0].value.data),U.OnTransfer[R][C][b.channel_id][b.message_id].index=gt-1-Je,U.OnTransfer[R][C][b.channel_id][b.message_id].OnTransfer="download"}catch(Wt){console.log("ReadStorage_From_channel: ",Wt),Te=!1,U.p5loading.update({id:Oe,message:`${U.lang.text.Nakama.FailedDownload}: ${Wt}`,progress:0});break}if(Te){if(b.content.url)b.content.thumbnail=b.content.url;else{b.content.text=[U.lang.text.ChatRoom.SavingFile],delete b.content.transfer_index,delete U.OnTransfer[R][C][te.channel_id][te.message_id].index;let gt=[],Wt=0;yield new Promise(function(){var Ie=(0,I.A)(function*(Ae){for(let qe=0,$e=te.content.partsize;qe<$e;qe++)try{let ct=yield U.indexed.GetFileInfoFromDB(`${A}_part/${qe}.part`);Wt+=ct.contents.length,gt[qe]=ct}catch(ct){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",ct);break}try{let qe=new Int8Array(Wt),$e=0;for(let ct=0,Ft=gt.length;ct<Ft;ct++)qe.set(gt[ct].contents,$e),$e+=gt[ct].contents.length;yield U.indexed.saveInt8ArrayToUserPath(qe,A);for(let ct=0,Ft=te.content.partsize;ct<Ft;ct++)U.indexed.removeFileFromUserPath(`${A}_part/${ct}.part`);yield U.indexed.removeFileFromUserPath(`${A}_part`),U.global.remove_req_file_info(te,A),b.content.text=[U.lang.text.ChatRoom.FileSaved]}catch(qe){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",qe)}Ae(void 0)});return function(Ae){return Ie.apply(this,arguments)}}()),U.noti.ClearNoti(8)}let Je;if(te.content.path=A,"godot"!=te.content.viewer){let gt=yield U.indexed.loadBlobFromUserPath(A,b.content.type||"");Je=URL.createObjectURL(gt)}yield U.global.modulate_thumbnail((U.OnTransferMessage[te.message_id]||b).content,Je),delete U.OnTransfer[R][C][te.channel_id][te.message_id],delete U.OnTransferMessage[te.message_id]}return U.p5loading.remove(Oe),Te})()}sync_save_file(b,A,R,C,Y=""){var U=this;return(0,I.A)(function*(){try{var te;if("online"!=U.statusBar.groupServer[A][R])throw"\uc11c\ubc84 \uc5f0\uacb0\uc911 \uc544\ub2d8";null!==(te=b.blob)&&void 0!==te&&te.size&&(yield U.indexed.saveBlobToUserPath(b.blob,b.path));let Oe=yield U.indexed.GetFileInfoFromDB(b.path);b.partsize=Math.ceil((b.size||Oe.contents.length)/bt.xM),delete b.blob,yield U.servers[A][R].client.writeStorageObjects(U.servers[A][R].session,[{collection:C,key:Y||b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:b}]);for(let Te=0;Te<b.partsize;Te++){let Je=U.global.req_file_part_base64(Oe,Te,b.path);yield U.servers[A][R].client.writeStorageObjects(U.servers[A][R].session,[{collection:C,key:Y?`${Y}_${Te}`:b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Te}`,permission_read:2,permission_write:1,value:{data:Je}}])}U.indexed.removeFileFromUserPath(`${b.path}.history`),U.noti.PushLocal({id:7,title:U.lang.text.ChatRoom.SendFile,body:b.filename,smallIcon_ln:"diychat"},U.noti.Current)}catch(Oe){throw console.log("SyncSaveFailed: ",Oe),U.noti.PushLocal({id:7,title:U.lang.text.Nakama.FailedUpload,body:`${b.filename}: ${Oe}`,smallIcon_ln:"diychat"},U.noti.Current),Oe}})()}sync_load_file(b,A,R,C,Y="",U="",te=!0){var Oe=this;return(0,I.A)(function*(){try{if("online"!=Oe.statusBar.groupServer[A][R])throw"\uc11c\ubc84 \uc5f0\uacb0\uc911 \uc544\ub2d8";let Je=(yield Oe.servers[A][R].client.readStorageObjects(Oe.servers[A][R].session,{object_ids:[{collection:C,key:U||b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:Y||Oe.servers[A][R].session.user_id}]})).objects[0].value,gt=!0;for(let Wt=0;Wt<Je.partsize;Wt++)try{let Ie=yield Oe.servers[A][R].client.readStorageObjects(Oe.servers[A][R].session,{object_ids:[{collection:C,key:U?`${U}_${Wt}`:b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Wt}`,user_id:Y||Oe.servers[A][R].session.user_id}]});Oe.global.save_file_part(b.alt_path||b.path,Wt,Ie.objects[0].value.data)}catch(Ie){console.log("sync_load_file failed: ",Ie),gt=!1,te&&Oe.p5toast.show({text:`${Oe.lang.text.Nakama.FailedDownload}: ${Ie}`}),b.url&&(b.thumbnail=b.url);break}if(gt){delete b.url,b.text=[Oe.lang.text.ChatRoom.SavingFile];let Wt=[],Ie=0;yield new Promise(function(){var Ae=(0,I.A)(function*(qe,$e){let ct=!1;for(let Ft=0,ur=Je.partsize;Ft<ur;Ft++)try{let vr=yield Oe.indexed.GetFileInfoFromDB(`${b.alt_path||b.path}_part/${Ft}.part`);Ie+=vr.contents.length,Wt[Ft]=vr}catch(vr){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",vr),ct=!0;break}try{if(ct)throw"\ud30c\uc77c \ubcd1\ud569 \uc2e4\ud328";let Ft=new Int8Array(Ie),ur=0;for(let vr=0,Pr=Wt.length;vr<Pr;vr++)Ft.set(Wt[vr].contents,ur),ur+=Wt[vr].contents.length;yield Oe.indexed.saveInt8ArrayToUserPath(Ft,b.alt_path||b.path);for(let vr=0,Pr=Je.partsize;vr<Pr;vr++)Oe.indexed.removeFileFromUserPath(`${b.alt_path||b.path}_part/${vr}.part`);yield Oe.indexed.removeFileFromUserPath(`${b.alt_path||b.path}_part`)}catch(Ft){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Ft),$e()}qe(void 0)});return function(qe,$e){return Ae.apply(this,arguments)}}()),Oe.noti.ClearNoti(8),Oe.indexed.removeFileFromUserPath(`${b.alt_path||b.path}.history`)}return{from:"remote",value:yield Oe.indexed.loadBlobFromUserPath(b.alt_path||b.path,Je.type||"")}}catch{try{return{from:"local",value:yield Oe.indexed.loadBlobFromUserPath(b.alt_path||b.path,b.type||"")}}catch(Je){return{from:"failed",value:null,error:Je}}}})()}sync_remove_file(b,A,R,C,Y="",U=""){var te=this;return(0,I.A)(function*(){try{yield te.indexed.removeFileFromUserPath(b)}catch{}try{if("online"!=te.statusBar.groupServer[A][R])throw"\uc11c\ubc84 \uc5f0\uacb0\uc911 \uc544\ub2d8";let Te=(yield te.servers[A][R].client.readStorageObjects(te.servers[A][R].session,{object_ids:[{collection:C,key:b.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:Y||te.servers[A][R].session.user_id}]})).objects[0].value;try{yield te.servers[A][R].client.rpc(te.servers[A][R].session,"remove_channel_file",{collection:C,key:(U||Te.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch(Je){console.log("SQL \uac15\uc81c \ud30c\uc77c \uc0ad\uc81c \uc624\ub958: ",Je)}yield te.servers[A][R].client.deleteStorageObjects(te.servers[A][R].session,{object_ids:[{collection:C,key:U||Te.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}open_url_link(b,A=!0){var R=this;return(0,I.A)(function*(){const C=R.global.GetConnectedAddress(),Y=yield R.global.GetHeaderAddress();if(0==b.indexOf("https://is2you2.github.io/pjcone_pwa/?")||0==b.indexOf(`${C}?`)||0==b.indexOf(`${Y}?`)){const U=R.global.CatchGETs(b)||{};try{return yield R.AddressToQRCodeAct(U),!0}catch(te){console.log("open_url_link: ",te),R.p5toast.show({text:`${R.lang.text.AddGroup.DiffFormat}: ${te}`})}}else A&&R.global.open_link(b);return!1})()}AddressToQRCodeAct(b,A=!1){var R=this;return(0,I.A)(function*(){let C=[];if(b.open_profile&&C.push({type:"open_profile"}),b.server)for(let Y=0,U=b.server.length;Y<U;Y++){let te=b.server[Y].split(","),Te=te[0].split("://"),Je="https"==Te.shift(),gt=Te.shift().split(":"),Wt=gt[0],Ie=Number(gt[1]);C.push({type:"server",value:{address:Wt||"192.168.0.1",useSSL:Je||!1,nakama_port:Ie,cdn_port:te[2],apache_port:te[3],square_port:te[4],webrtc_port:te[5],key:te[1]||"",isOfficial:"unofficial"}})}if(b.group)for(let Y=0,U=b.group.length;Y<U;Y++){let te=b.group[Y].split(",");C.push({type:"group",name:te[0],id:te[1]})}if(b.group_dedi){let Y=b.group_dedi[0].split(",");C.push({type:"group_dedi",value:{address:Y[0],channel:Y[1]}})}if(b.open_prv_channel){let Y=b.open_prv_channel[0].split(",");C.push({type:"open_prv_channel",user_id:Y[0],address:Y[1]})}if(b.open_channel){let Y=b.open_channel[0].split(",");C.push({type:"open_channel",group_id:Y[0],address:Y[1]})}if(b.rtcserver)for(let Y=0,U=b.rtcserver.length;Y<U;Y++){let te=b.rtcserver[Y].split("]"),Oe=te[0].split("[")[1],Te=te[1].split(",");C.push({type:"rtcserver",value:{urls:Oe.split(","),username:Te[1],credential:Te[2]}})}if(b.postViewer&&C.push({type:"postViewer",address:b.postViewer[0]}),b.fileviewer){let Y=b.fileviewer[0].split(",");const U=Y.pop(),te=Y.join(",");C.push({type:"fileviewer",url:te,viewer:U})}if(b.token){let Y=b.token[0].split(",");C.push({type:"token",address:Y[0],square_port:Number(Y[1]),socketId:Y[2]})}if(A)return C;yield R.act_from_QRInfo(C)})()}GenerateQRCode(b){var A=this;return(0,I.A)(function*(){return`${yield A.global.GetHeaderAddress()}?server=${b.useSSL?"https":"http"}://${b.address||""}${b.nakama_port?`:${b.nakama_port}`:""},${b.key||""},${b.cdn_port||""},${b.apache_port||""},${b.square_port||""},${b.webrtc_port||""}`.replace(/ /g,"%20")})()}act_from_QRInfo(b,A=""){var R=this;return(0,I.A)(function*(){for(let C=0,Y=20;C<Y&&!R.lang.text.WebRTCDevManager.SecurityError;C++)yield new Promise(U=>setTimeout(U,1e3));for(let C=0,Y=b.length;C<Y;C++)switch(b[C].type){case"open_profile":R.open_profile_page();break;case"server":if(!R.CheckIfHasServer(`${b[C].value.useSSL?"https":"http"}://${b[C].value.address}:${b[C].value.port||7350}`)){let Te=!1;R.global.PageDismissAct["quick-server-detail"]=()=>{R.global.RestoreShortCutAct("quick-server-detail"),delete R.global.PageDismissAct["quick-server-detail"],Te=!0},R.global.StoreShortCutAct("quick-server-detail"),R.global.ActLikeModal("server-detail",{data:b[C].value}),R.p5toast.show({text:R.lang.text.Nakama.AddNewServer}),yield function(){var gt=(0,I.A)(function*(){for(;!Te;)yield new Promise(Wt=>setTimeout(Wt,0))});return function(){return gt.apply(this,arguments)}}()()}break;case"group_dedi":yield R.global.RemoveAllModals(),R.navCtrl.navigateForward("minimal-chat",{animation:Nt.V5,state:{address:b[C].value.address,channel:b[C].value.channel,quick:!0}});break;case"group":R.AfterLoginActDone?yield R.try_add_group(b[C]):R.AfterLoginAct.push((0,I.A)(function*(){yield R.try_add_group(b[C])}));break;case"open_prv_channel":{let Te=R.CheckIfHasServer(b[C].address);if(Te)if(R.AfterLoginActDone){let Je=yield R.join_chat_with_modulation(b[C].user_id,2,Te.isOfficial,Te.target,!0);R.go_to_chatroom(Je)}else R.AfterLoginAct.push((0,I.A)(function*(){let Je=yield R.join_chat_with_modulation(b[C].user_id,2,Te.isOfficial,Te.target,!0);R.go_to_chatroom(Je)})),R.p5toast.show({text:R.lang.text.Nakama.NeedLogin}),R.open_profile_page();else R.p5toast.show({text:R.lang.text.Nakama.NoLoginServer})}break;case"open_channel":{let Te=R.CheckIfHasServer(b[C].address);if(Te)if(R.AfterLoginActDone){let Je=yield R.join_chat_with_modulation(b[C].group_id,3,Te.isOfficial,Te.target,!0);R.go_to_chatroom(Je)}else R.AfterLoginAct.push((0,I.A)(function*(){let Je=yield R.join_chat_with_modulation(b[C].group_id,3,Te.isOfficial,Te.target,!0);R.go_to_chatroom(Je)})),R.p5toast.show({text:R.lang.text.Nakama.NeedLogin}),R.open_profile_page();else R.p5toast.show({text:R.lang.text.Nakama.NoLoginServer})}break;case"rtcserver":R.SaveWebRTCServer(b[C].value,!0);break;case"postViewer":let Oe=yield fetch(b[C].address);if(Oe.ok){let Te=yield Oe.text(),Je=JSON.parse(Te);Je.quick=!0,R.open_post(Je,-2,A)}else R.p5toast.show({text:`${R.lang.text.AddPost.NoPostOutLink}: ${Oe.statusText}`});break;case"token":{const Je=b[C].square_port,gt=b[C].socketId;let Wt=new WebSocket(`${b[C].address}:${Je||12013}`);Wt.onopen=()=>{Wt.send(JSON.stringify({type:"reqInfo",socketId:gt}))},Wt.onmessage=Ie=>{let Ae;Ae="string"==typeof Ie.data?Ie.data:Ie.data.text();try{const qe=JSON.parse(Ae);if("req_info"===qe.type){if(qe.error)return R.p5toast.show({text:R.lang.text.InstantCall.ExpiredChannel}),void Wt.close(1e3,"expired");switch(qe.act){case"voiddraw":R.global.PageDismissAct["voiddraw-remote"]=()=>{delete R.global.PageDismissAct["voiddraw-remote"]},R.global.ActLikeModal(A+"void-draw",{remote:{address:b[C].address,channel:qe.channel_id,port:qe.port||3478,username:qe.username,password:qe.credential},quick:!0,saveClipboard:!0,dismiss:"voiddraw-remote"});break;case"instc":R.global.RemoveAllModals(()=>{R.navCtrl.navigateForward(A+"instant-call",{animation:Nt.NC,state:{address:b[C].address,channel:qe.channel_id,port:qe.port,username:qe.username,password:qe.password,square_port:Je,useVideo:qe.useVideo,quick:!0}})});break;case"arcade":b[C].cdn_port=qe.cdn_port||9001,b[C].apache_port=qe.apache_port||9002,R.global.JoinArcadeWithSocketInfo(b[C])}}}catch(qe){console.log("\ube60\ub978 \uc9c4\uc785 \uc18c\ucf13 \ud589\ub3d9 \uc624\ub958: ",qe),Wt.close(1e3,qe)}Wt.close(1e3,"done")},Wt.onerror=Ie=>{Wt.close(1e3,"onerror")},Wt.onclose=Ie=>{console.log("\uc18c\ucf13 \ud589\ub3d9 \uc885\ub8cc: ",Ie),Wt.onopen=null,Wt.onmessage=null,Wt.onclose=null,Wt.onerror=null,Wt=null}}break;case"fileviewer":R.global.PageDismissAct["quick-fileviewer"]=Te=>{delete R.global.PageDismissAct["quick-fileviewer"]},R.global.ActLikeModal(A+"ionic-viewer",{info:{content:{filename:b[C].url.split("/").pop(),file_ext:b[C].url.split(".").pop(),url:b[C].url,viewer:b[C].viewer}},relevance:[{content:{filename:b[C].url.split("/").pop(),file_ext:b[C].url.split(".").pop(),url:b[C].url,viewer:b[C].viewer}}],noEdit:!0,noTextEdit:!0,quick:!0,dismiss:"quick-fileviewer"});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}CheckIfHasServer(b){let A=!1;try{let R=b.split("://"),C="https"==R.shift(),Y=R.shift().split(":"),U=Y[0],te=Number(Y[1]),Oe=this.get_all_server_info(!0);for(let Te of Oe)if(Te.address==U&&Te.useSSL==C&&(Te.nakama_port||7350)==te){A=Te;break}}catch{}return A}load_local_post_with_id(b,A,R,C){var Y=this;return(0,I.A)(function*(){let U=yield Y.indexed.loadTextFromUserPath(`servers/${A}/${R}/posts/${C}/${b}/info.json`);try{try{if(Y.posts_orig[A][R][C][b])throw"exist"}catch(Oe){if("exist"==Oe)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let te=JSON.parse(U);try{te.server={name:Y.servers[A][R].info.name,isOfficial:A,target:R}}catch{te.server={name:Y.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0}}if(te.mainImage)try{if(te.mainImage.url)te.mainImage.thumbnail=te.mainImage.url;else{let Oe=yield Y.indexed.loadBlobFromUserPath(te.mainImage.path,te.mainImage.type);te.mainImage.blob=Oe;const Te=URL.createObjectURL(Oe);te.mainImage.thumbnail=Te,setTimeout(()=>{URL.revokeObjectURL(Te)},5e3)}}catch{}return Y.posts_orig[A][R][C][b]=te,!0}catch{return!1}})()}GetOverrideName(b,A,R){let C;try{C=this.usernameOverride[A][R][b]}catch{}return C}SaveOverrideName(b,A,R,C){var Y=this;return(0,I.A)(function*(){A?Y.usernameOverride[R][C][b]=A:delete Y.usernameOverride[R][C][b];let U=JSON.stringify(Y.usernameOverride[R][C]),Oe={blob:new Blob([U],{type:"application/json"}),path:`servers/${R}/${C}/users/override_name.json`};yield Y.sync_save_file(Oe,R,C,"usernameOverride","override");try{yield Y.servers[R][C].client.rpc(Y.servers[R][C].session,"send_noti_fn",{receiver_id:Y.servers[R][C].session.user_id,title:"name_overrided",content:{},code:xr.NAME_OVERRIDED,persistent:!1})}catch{}})()}LoadOverrideName(b,A){var R=this;return(0,I.A)(function*(){let C={path:`servers/${b}/${A}/users/override_name.json`},Y=yield R.sync_load_file(C,b,A,"usernameOverride",void 0,"override",!1);if(Y.value){let U=yield Y.value.text(),te=JSON.parse(U),Oe=Object.keys(te);R.usernameOverride[b][A]={};for(let Te of Oe)R.usernameOverride[b][A][Te]=te[Te]}})()}LoadOverridesOffline(){var b=this;return(0,I.A)(function*(){let A=yield b.indexed.GetFileListFromDB("override_name.json");for(let R of A)try{let C=R.split("/");b.usernameOverride[C[1]]||(b.usernameOverride[C[1]]={}),b.usernameOverride[C[1]][C[2]]||(b.usernameOverride[C[1]][C[2]]={});let U=yield(yield b.indexed.loadBlobFromUserPath(R,"")).text(),te=JSON.parse(U);b.usernameOverride[C[1]][C[2]]=te}catch{}})()}load_server_post_with_id(b,A,R,C,Y){var U=this;return(0,I.A)(function*(){let te;try{let Te={path:`servers/${A}/${R}/posts/${C}/${b}/info.json`,type:"application/json"};const Je=yield U.sync_load_file(Te,A,R,"server_post",C,b,!1);if(Je.error)return!1;const gt=yield Je.value.text();te=JSON.parse(gt),te.is_me=te.is_me||Y;const Wt=new Blob([JSON.stringify(te)],{type:"application/json"});if(te.OutSource&&!te.is_me)throw"\ub2e4\ub978 \uc0ac\ub78c\uc758 \uc678\ubd80 \uac8c\uc2dc\ubb3c \uc815\ubcf4 \ubb34\uc2dc";U.indexed.saveBlobToUserPath(Wt,Te.path),te.server={isOfficial:A,target:R};try{te.server.name=U.servers[A][R].info.name}catch{te.server.name=U.lang.text.Nakama.DeletedServer}if(te.mainImage)if(te.mainImage.url)te.mainImage.thumbnail=te.mainImage.url;else{let Ie={path:te.mainImage.path,alt_path:`servers/${A}/${R}/posts/${C}/${b}/MainImage.png`,type:"image/png"};const Ae=yield U.sync_load_file(Ie,A,R,"server_post",C,`${b}_mainImage`,!1);te.mainImage.blob=Ae.value;const qe=URL.createObjectURL(Ae.value);te.mainImage.thumbnail=qe,setTimeout(()=>{URL.revokeObjectURL(qe)},5e3)}try{te.creator_name=U.load_other_user(C,A,R).display_name||te.creator_name}catch{}if(U.posts_orig[A]||(U.posts_orig[A]={}),U.posts_orig[A][R]||(U.posts_orig[A][R]={}),U.posts_orig[A][R][C]||(U.posts_orig[A][R][C]={}),("deleted"!=A||te.is_me)&&(U.posts_orig[A][R][C][b]=te),"local"==Je.from)try{if(!(yield U.servers[A][R].client.readStorageObjects(U.servers[A][R].session,{object_ids:[{collection:"server_post",key:b,user_id:C}]})).objects.length)throw"Not RemoteExist"}catch(Ie){if("Not RemoteExist"==Ie)throw"RemoveSelf"}return te}catch(Te){var Oe;return"RemoveSelf"==Te?U.RemovePost(U.posts_orig[A][R][C][b],!0):te&&null!==(Oe=te)&&void 0!==Oe&&Oe.creator_id&&((yield U.indexed.GetFileListFromDB(`servers/${A}/${R}/posts/${te.creator_id}/${te.id}`)).forEach(gt=>U.indexed.removeFileFromUserPath(gt)),delete U.posts_orig[A][R][C][b],U.rearrange_posts()),!1}})()}deserialize_text(b){let A="";if(!b.content.msg)return A;for(let R=0,C=b.content.msg.length;R<C;R++){for(let Y=0,U=b.content.msg[R].length;Y<U;Y++)A+=b.content.msg[R][Y].text;R+1<C&&(A+="\n")}return A}load_posts_counter(b){var A=this;return(0,I.A)(function*(){let R={};try{let U=yield A.indexed.loadTextFromUserPath("servers/post_counter.json"),te=JSON.parse(U);R=U,A.post_counter=te}catch{}let C=Number(yield A.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;A.post_counter.local.target.me=C;let Y=b||A.get_all_server_info(!0,!0);for(let U=0,te=Y.length;U<te;U++){let Oe=Y[U].isOfficial,Te=Y[U].target;A.post_counter[Oe][Te]||(A.post_counter[Oe][Te]={});try{let Je=yield A.servers[Oe][Te].client.readStorageObjects(A.servers[Oe][Te].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:A.servers[Oe][Te].session.user_id}]}),gt=0;Je.objects.length&&(gt=Je.objects[0].value.counter),A.post_counter[Oe][Te][A.servers[Oe][Te].session.user_id]=gt}catch(Je){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Je)}if(A.users[Oe][Te]){let Je=Object.keys(A.users[Oe][Te]);for(let gt=0,Wt=Je.length;gt<Wt;gt++)try{let Ie=yield A.servers[Oe][Te].client.readStorageObjects(A.servers[Oe][Te].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:Je[gt]}]}),Ae=0;Ie.objects.length&&(Ae=Ie.objects[0].value.counter),A.post_counter[Oe][Te][Je[gt]]=Ae;try{if(!A.posts_orig[Oe][Te])throw"\uc544\uc9c1 \uc900\ube44\ub418\uc9c0 \uc54a\uc74c";let qe=Object.keys(A.posts_orig[Oe][Te][Je[gt]]);for(let $e of qe){let Ft=(yield A.servers[Oe][Te].client.readStorageObjects(A.servers[Oe][Te].session,{object_ids:[{collection:"server_post",key:$e,user_id:Je[gt]}]})).objects[0].value,ur=yield A.sync_load_file(Ft,Oe,Te,"server_post",Je[gt],$e,!1);if("remote"!==ur.from)throw $e;{let Pr=yield ur.value.text();JSON.parse(Pr).OutSource&&delete A.posts_orig[Oe][Te][Je[gt]][$e]}}}catch(qe){try{delete A.posts_orig[Oe][Te][Je[gt]][qe]}catch{}}}catch{delete A.post_counter[Oe][Te][Je[gt]]}A.rearrange_posts()}R!=JSON.stringify(A.post_counter)&&(yield A.save_post_counter(),A.has_new_post=!0)}})()}save_post_counter(){var b=this;return(0,I.A)(function*(){yield b.indexed.saveTextFileToUserPath(JSON.stringify(b.post_counter),"servers/post_counter.json")})()}}return(W=pe).\u0275fac=function(b){return new(b||W)(Rt.KVO(cr.G),Rt.KVO(ft.j),Rt.KVO(xt.n),Rt.KVO(tr.r),Rt.KVO(Zt.hG),Rt.KVO(yr.y),Rt.KVO(bt.z3),Rt.KVO(lr.q9),Rt.KVO(wr.f))},W.\u0275prov=Rt.jDH({token:W,factory:W.\u0275fac,providedIn:"root"}),pe})()},3307:(Dr,rr,_e)=>{"use strict";_e.d(rr,{f:()=>B});var I=_e(467),M=_e(8326),St=_e(3953),o=_e(4234);!function ie(){("http:"!=window.location.protocol||0==window.location.host.indexOf("localhost"))&&_e.e(925).then(_e.t.bind(_e,925,23))}();let B=(()=>{var v;class _{constructor(m){this.lang=m,this.loadingStack={},this.stackKeys=[],this.queued=[]}create(m){var S=this;return(0,I.A)(function*(){S.CurrentLoading?S.AddLoadingInfo?S.AddLoadingInfo(m):S.queued.push(m):yield new Promise(w=>{S.CurrentLoading=new M(i=>{i.setup=()=>{if(i.noCanvas(),"http:"!=window.location.protocol||0==window.location.host.indexOf("localhost")){let a=new M.Oscillator(372);S.SoundAlert=()=>{if(m.soundAlert)try{a.freq(372),a.start(),a.freq(500,.1),a.freq(320,.15),a.stop(.2)}catch(u){console.log("\uc624\uc2e4\ub808\uc774\ud130 \uc900\ube44\uc911: ",u)}}}S.parentDiv=i.createDiv(),S.parentDiv.style("position: absolute; left: 0; top: 0; z-index: 1"),S.parentDiv.style("width: 100%; height: fit-content"),S.parentDiv.style("padding: 16px;"),S.parentDiv.style("display: flex; flex-direction: column"),S.parentDiv.style("gap: 8px"),S.parentDiv.style("justify-content: center;"),S.parentDiv.style("pointer-events: none"),S.AddLoadingInfo=a=>{S.loadingStack[a.id]=a,S.stackKeys=Object.keys(S.loadingStack);const u=i.createDiv();var d;S.loadingStack[a.id].element=u,u.style("width: 100%; height: fit-content"),u.style("word-break: break-all"),u.style("background: "+(a.bgcolor?`#${a.bgcolor}88`:"var(--toast-background-color)")),u.style("border-radius: 32px"),u.style("padding: 8px"),u.style("color: white"),u.parent(S.parentDiv),a.clickable?(u.style("cursor: pointer"),u.style("pointer-events: fill"),u.mouseClicked(()=>{var T;null===(T=a.clickable)||void 0===T||T.call(a)}),null===(d=S.SoundAlert)||void 0===d||d.call(S)):(u.style("cursor: auto"),u.style("pointer-events: none"));const h=i.createDiv();h.style("display: flex; flex-direction: row;"),h.parent(u);const g=i.createImg(a.image,"ld_img");g.style("width: 32px; height: 32px;"),g.style("margin-left: 8px"),g.style("object-fit: cover"),g.style("border-radius: 24px;"),a.image||g.hide(),a.imageElement=g,g.parent(h);const p=i.createDiv();p.style("display: flex; flex-direction: row;"),p.style("gap: 4px"),p.style("overflow: hidden"),p.style("flex-grow: 1"),p.style("align-items: center"),p.style("margin-right: 8px"),p.parent(h);const y=i.createDiv(a.message||S.lang.text.TodoDetail.WIP);if(y.style("margin-left: 16px"),y.style("flex-grow: 1"),y.style("overflow: hidden"),y.style("white-space: nowrap"),y.style("text-overflow: ellipsis"),a.messageElement=y,y.parent(p),!a.clickable){const T=i.createDiv();T.style("width: 24px; height: 24px;"),T.style("flex-shrink: 0"),T.style("border-radius: 50%"),null===a.progress&&(a.progress=void 0);const z=Math.floor(100*a.progress)||0;T.style(`background: conic-gradient(var(--loading-done-color) 0% ${z}%, var(--loading-waiting-color) ${z}% 100%)`),a.progressElement=T,a.nullProgress=0,T.parent(p)}a.fade=0,null===a.forceEnd&&delete a.forceEnd},S.AddLoadingInfo(m),w(void 0)},i.draw=()=>{for(let u=S.queued.length-1;u>=0;u--)S.AddLoadingInfo(S.queued[u]),S.queued.splice(u,1);for(let u of S.stackKeys){if(void 0===S.loadingStack[u].progress){var a;S.loadingStack[u].nullProgress=(S.loadingStack[u].nullProgress+2)%120;const d=S.loadingStack[u].nullProgress;null===(a=S.loadingStack[u].progressElement)||void 0===a||a.style(`background: conic-gradient(var(--loading-waiting-color) 0% ${d-20}%, var(--loading-done-color) ${d-20}% ${d}%, var(--loading-waiting-color) ${d}% 100%)`)}void 0!==S.loadingStack[u].forceEnd&&S.loadingStack[u].forceEnd>0&&(S.loadingStack[u].forceEnd-=7),S.loadingStack[u].forceEnd<=0?S.loadingStack[u].fade>0?(S.loadingStack[u].fade-=.07,S.loadingStack[u].element.style(`opacity: ${S.loadingStack[u].fade}`),S.loadingStack[u].fade<=0&&(S.loadingStack[u].element.remove(),delete S.loadingStack[u],S.stackKeys=Object.keys(S.loadingStack))):(S.loadingStack[u].element.remove(),delete S.loadingStack[u],S.stackKeys=Object.keys(S.loadingStack)):S.loadingStack[u].fade<1&&(S.loadingStack[u].fade+=.07,S.loadingStack[u].fade>=1&&(S.loadingStack[u].fade=1),S.loadingStack[u].element.style(`opacity: ${S.loadingStack[u].fade}`))}S.stackKeys.length||l()};let l=()=>{i.remove(),S.parentDiv=null,S.CurrentLoading=null,S.AddLoadingInfo=null,S.stackKeys.length=0}})})})()}update(m,S=!1){var w=this;return(0,I.A)(function*(){if(w.stackKeys.includes(m.id)){var i;if(m.clickable?(w.loadingStack[m.id].element.style("cursor: pointer"),w.loadingStack[m.id].element.style("pointer-events: fill"),w.loadingStack[m.id].element.mouseClicked(()=>{var u;null===(u=m.clickable)||void 0===u||u.call(m),w.loadingStack[m.id].element.style("cursor: auto"),w.loadingStack[m.id].element.style("pointer-events: none"),w.loadingStack[m.id].forceEnd=350}),null===(i=w.SoundAlert)||void 0===i||i.call(w)):(w.loadingStack[m.id].element.style("cursor: auto"),w.loadingStack[m.id].element.style("pointer-events: none")),null!=m.bgcolor&&w.loadingStack[m.id].element.style("background: "+(m.bgcolor?`#${m.bgcolor}88`:"var(--toast-background-color)")),void 0!==m.forceEnd)if(null===m.forceEnd)w.loadingStack[m.id].forceEnd=void 0;else if(w.loadingStack[m.id].forceEnd=m.forceEnd,w.loadingStack[m.id].progress){var l;w.loadingStack[m.id].progress=1,null===(l=w.loadingStack[m.id].progressElement)||void 0===l||l.style("background: conic-gradient(var(--loading-done-color) 0% 100%")}if(void 0!==m.message&&(null===m.message?(delete w.loadingStack[m.id],w.loadingStack[m.id].messageElement.html()):(w.loadingStack[m.id].message=m.message,w.loadingStack[m.id].messageElement.html(m.message))),void 0!==m.progress)if(null===m.progress)delete w.loadingStack[m.id].progress;else{var a;w.loadingStack[m.id].progress=m.progress;const u=Math.floor(100*m.progress);null===(a=w.loadingStack[m.id].progressElement)||void 0===a||a.style(`background: conic-gradient(var(--loading-done-color) 0% ${u}%, var(--loading-waiting-color) ${u}% 100%)`)}void 0!==m.image&&(null===m.image?(delete w.loadingStack[m.id].image,w.loadingStack[m.id].imageElement.hide(),w.loadingStack[m.id].imageElement.removeAttribute("src")):(w.loadingStack[m.id].image=m.image,w.loadingStack[m.id].imageElement.attribute("src",m.image),w.loadingStack[m.id].imageElement.show()))}else S||(yield w.create(m))})()}toast(m,S,w=1e3){const i=S||`AsToast_${Date.now()}`;this.update({id:i,message:m,forceEnd:w})}remove(m){this.update({id:m,forceEnd:350},!0)}}return(v=_).\u0275fac=function(m){return new(m||v)(St.KVO(o.y))},v.\u0275prov=St.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),_})()},9900:(Dr,rr,_e)=>{"use strict";_e.d(rr,{G:()=>ie});var I=_e(8326),et=_e(482),St=_e(3953),o=function(B){return B[B.Idle=0]="Idle",B[B.DivFadeIn=1]="DivFadeIn",B[B.BorderAlert=2]="BorderAlert",B[B.Reading=3]="Reading",B[B.FadeOut=4]="FadeOut",B}(o||{});let ie=(()=>{var B;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(f){let m;f.time=(new Date).getTime(),f.lateable||(this.AlertNow=f,this.status=o.DivFadeIn),this.alert.length&&(m=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==f.text?this.status=o.DivFadeIn:m&&m.text==f.text||this.alert.push(f),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new I(w=>{let i,l,a,u=0,d=0,h=0;w.setup=()=>{w.noCanvas(),i=w.createDiv(),i.style("position: absolute; left: 0; top: 0; z-index: 2"),i.style("width: 100%; height: fit-content"),i.style("padding: 32px;"),i.style("display: flex; justify-content: center;"),i.style("pointer-events: none"),g(),a=w.createDiv(),a.parent(i),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("border-radius: 24px"),a.style("background: var(--toast-background-color)"),a.style("padding: 4px"),l=w.createDiv(),l.parent(a),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("word-break: break-all"),l.style("background: var(--toast-background-color)"),l.style("border-radius: 20px"),l.style("padding: 12px"),l.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),l.html(this.HTMLEncode(this.AlertNow.text)),p(),this.status=o.DivFadeIn},w.draw=()=>{switch(this.status){case o.DivFadeIn:u<1?u+=1:(u=1,d=1,this.status=o.BorderAlert,l.html(this.HTMLEncode(this.AlertNow.text)));break;case o.BorderAlert:if(d>0)d-=.03;else{let T;d=0,T=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,h=w.millis()+T+960,this.status=o.Reading}break;case o.Reading:w.millis()>h&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),l.html(this.HTMLEncode(this.AlertNow.text)),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:u>0?u-=.04:y()}g(),p()};let g=()=>{i.style(`opacity: ${u}`)},p=()=>{let T=w.lerpColor(w.color("#"+(et.ud?"30564e88":"b9543788")),w.color("#ffd94ebb"),d).levels;a.style(`padding: ${4*d}px`),l.style(`padding: ${w.lerp(16,12,d)}px`),l.style(`border-radius: ${w.lerp(24,20,d)}px`),a.style(`background: rgba(${T[0]}, ${T[1]}, ${T[2]}, ${T[3]/255})`)},y=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=null,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return(B=v).\u0275fac=function(f){return new(f||B)},B.\u0275prov=St.jDH({token:B,factory:B.\u0275fac,providedIn:"root"}),v})()},8065:(Dr,rr,_e)=>{"use strict";_e.d(rr,{j:()=>M});var I=_e(3953);let M=(()=>{var et;class St{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(et=St).\u0275fac=function(ie){return new(ie||et)},et.\u0275prov=I.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),St})()},3419:(Dr,rr,_e)=>{"use strict";var I=_e(345),M=_e(3953),et=_e(9858),St=_e(3656),o=_e(5374),ie=_e(92);const B=[{path:"",loadChildren:()=>_e.e(6035).then(_e.bind(_e,6035)).then(Ct=>Ct.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([_e.e(2076),_e.e(5502)]).then(_e.bind(_e,5502)).then(Ct=>Ct.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>_e.e(4722).then(_e.bind(_e,4722)).then(Ct=>Ct.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>_e.e(6556).then(_e.bind(_e,6556)).then(Ct=>Ct.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>_e.e(36).then(_e.bind(_e,36)).then(Ct=>Ct.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([_e.e(2076),_e.e(8163)]).then(_e.bind(_e,8163)).then(Ct=>Ct.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([_e.e(2076),_e.e(6134)]).then(_e.bind(_e,6134)).then(Ct=>Ct.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>Promise.all([_e.e(222),_e.e(526)]).then(_e.bind(_e,526)).then(Ct=>Ct.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>_e.e(9406).then(_e.bind(_e,9406)).then(Ct=>Ct.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>_e.e(5436).then(_e.bind(_e,5436)).then(Ct=>Ct.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([_e.e(4020),_e.e(8180)]).then(_e.bind(_e,8180)).then(Ct=>Ct.PortalPageModule)},{path:"group-detail",loadChildren:()=>_e.e(3267).then(_e.bind(_e,3267)).then(Ct=>Ct.GroupDetailPageModule)},{path:"instant-call",loadChildren:()=>Promise.all([_e.e(4020),_e.e(6524),_e.e(2076)]).then(_e.bind(_e,6524)).then(Ct=>Ct.InstantCallPageModule)},{path:"add-group",loadChildren:()=>_e.e(7601).then(_e.bind(_e,7601)).then(Ct=>Ct.AddGroupPageModule)},{path:"void-draw",loadChildren:()=>Promise.all([_e.e(4020),_e.e(2655)]).then(_e.bind(_e,2655)).then(Ct=>Ct.VoidDrawPageModule)},{path:"ionic-viewer",loadChildren:()=>Promise.all([_e.e(4803),_e.e(222)]).then(_e.bind(_e,4803)).then(Ct=>Ct.IonicViewerPageModule)},{path:"server-detail",loadChildren:()=>_e.e(3456).then(_e.bind(_e,3456)).then(Ct=>Ct.ServerDetailPageModule)}];let v=(()=>{var Ct;class Tt{}return(Ct=Tt).\u0275fac=function(Vt){return new(Vt||Ct)},Ct.\u0275mod=M.$C({type:Ct}),Ct.\u0275inj=M.G2t({imports:[et.iI.forRoot(B,{preloadingStrategy:et.Kp}),et.iI]}),Tt})();var _=_e(177),f=_e(9030),m=_e(8810),S=_e(3726),w=_e(7673),i=_e(8793),l=_e(1413),a=_e(1985),u=_e(5343);const d=new a.c(u.l);var g=_e(6365),p=_e(8750),y=_e(983),T=_e(9326),z=_e(6648);function G(...Ct){const Tt=(0,T.lI)(Ct),Gt=(0,T.R0)(Ct,1/0),Vt=Ct;return Vt.length?1===Vt.length?(0,p.Tg)(Vt[0]):(0,g.U)(Gt)((0,z.H)(Vt,Tt)):y.w}var N=_e(6354),k=_e(5964),X=_e(5558),D=_e(17),O=_e(8071),P=_e(9974);const re={connector:()=>new l.B};function $(Ct,Tt=re){const{connector:Gt}=Tt;return(0,P.N)((Vt,Dt)=>{const yt=Gt();(0,p.Tg)(Ct(function J(Ct){return new a.c(Tt=>Ct.subscribe(Tt))}(yt))).subscribe(Dt),Dt.add(Vt.subscribe(yt))})}var H=_e(6697),Z=_e(8141),le=_e(8359);class xe extends le.yU{constructor(Tt,Gt){super()}schedule(Tt,Gt=0){return this}}const q={setInterval(Ct,Tt,...Gt){const{delegate:Vt}=q;return null!=Vt&&Vt.setInterval?Vt.setInterval(Ct,Tt,...Gt):setInterval(Ct,Tt,...Gt)},clearInterval(Ct){const{delegate:Tt}=q;return((null==Tt?void 0:Tt.clearInterval)||clearInterval)(Ct)},delegate:void 0};var j=_e(7908);const me={now:()=>(me.delegate||Date).now(),delegate:void 0};class Se{constructor(Tt,Gt=Se.now){this.schedulerActionCtor=Tt,this.now=Gt}schedule(Tt,Gt=0,Vt){return new this.schedulerActionCtor(this,Tt).schedule(Vt,Gt)}}Se.now=me.now;const Xe=new class Le extends Se{constructor(Tt,Gt=Se.now){super(Tt,Gt),this.actions=[],this._active=!1}flush(Tt){const{actions:Gt}=this;if(this._active)return void Gt.push(Tt);let Vt;this._active=!0;do{if(Vt=Tt.execute(Tt.state,Tt.delay))break}while(Tt=Gt.shift());if(this._active=!1,Vt){for(;Tt=Gt.shift();)Tt.unsubscribe();throw Vt}}}(class oe extends xe{constructor(Tt,Gt){super(Tt,Gt),this.scheduler=Tt,this.work=Gt,this.pending=!1}schedule(Tt,Gt=0){var Vt;if(this.closed)return this;this.state=Tt;const Dt=this.id,yt=this.scheduler;return null!=Dt&&(this.id=this.recycleAsyncId(yt,Dt,Gt)),this.pending=!0,this.delay=Gt,this.id=null!==(Vt=this.id)&&void 0!==Vt?Vt:this.requestAsyncId(yt,this.id,Gt),this}requestAsyncId(Tt,Gt,Vt=0){return q.setInterval(Tt.flush.bind(Tt,this),Vt)}recycleAsyncId(Tt,Gt,Vt=0){if(null!=Vt&&this.delay===Vt&&!1===this.pending)return Gt;null!=Gt&&q.clearInterval(Gt)}execute(Tt,Gt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Vt=this._execute(Tt,Gt);if(Vt)return Vt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Tt,Gt){let Dt,Vt=!1;try{this.work(Tt)}catch(yt){Vt=!0,Dt=yt||new Error("Scheduled action threw falsy error")}if(Vt)return this.unsubscribe(),Dt}unsubscribe(){if(!this.closed){const{id:Tt,scheduler:Gt}=this,{actions:Vt}=Gt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.o)(Vt,this),null!=Tt&&(this.id=this.recycleAsyncId(Gt,Tt,null)),this.delay=null,super.unsubscribe()}}}),lt=Xe;var He=_e(4360),at=_e(3703),Be=_e(1397);function st(Ct,Tt){return Tt?Gt=>(0,i.x)(Tt.pipe((0,H.s)(1),function nt(){return(0,P.N)((Ct,Tt)=>{Ct.subscribe((0,He._)(Tt,u.l))})}()),Gt.pipe(st(Ct))):(0,Be.Z)((Gt,Vt)=>(0,p.Tg)(Ct(Gt,Vt)).pipe((0,H.s)(1),(0,at.u)(Gt)))}var Ye=_e(9470);const kt="Service workers are disabled or not supported by this browser";class zt{constructor(Tt){if(this.serviceWorker=Tt,Tt){const Vt=(0,S.R)(Tt,"controllerchange").pipe((0,N.T)(()=>Tt.controller)),Dt=(0,f.v)(()=>(0,w.of)(Tt.controller)),yt=(0,i.x)(Dt,Vt);this.worker=yt.pipe((0,k.p)(ft=>!!ft)),this.registration=this.worker.pipe((0,X.n)(()=>Tt.getRegistration()));const cr=(0,S.R)(Tt,"message").pipe((0,N.T)(ft=>ft.data)).pipe((0,k.p)(ft=>ft&&ft.type)).pipe(function V(Ct){return Ct?Tt=>$(Ct)(Tt):Tt=>function Q(Ct,Tt){const Gt=(0,O.T)(Ct)?Ct:()=>Ct;return(0,O.T)(Tt)?$(Tt,{connector:Gt}):Vt=>new D.G(Vt,Gt)}(new l.B)(Tt)}());cr.connect(),this.events=cr}else this.worker=this.events=this.registration=function ir(Ct){return(0,f.v)(()=>(0,m.$)(new Error(Ct)))}(kt)}postMessage(Tt,Gt){return this.worker.pipe((0,H.s)(1),(0,Z.M)(Vt=>{Vt.postMessage({action:Tt,...Gt})})).toPromise().then(()=>{})}postMessageWithOperation(Tt,Gt,Vt){const Dt=this.waitForOperationCompleted(Vt),yt=this.postMessage(Tt,Gt);return Promise.all([yt,Dt]).then(([,Nt])=>Nt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Tt){let Gt;return Gt="string"==typeof Tt?Vt=>Vt.type===Tt:Vt=>Tt.includes(Vt.type),this.events.pipe((0,k.p)(Gt))}nextEventOfType(Tt){return this.eventsOfType(Tt).pipe((0,H.s)(1))}waitForOperationCompleted(Tt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,k.p)(Gt=>Gt.nonce===Tt),(0,H.s)(1),(0,N.T)(Gt=>{if(void 0!==Gt.result)return Gt.result;throw new Error(Gt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let hr=(()=>{var Ct;class Tt{get isEnabled(){return this.sw.isEnabled}constructor(Vt){if(this.sw=Vt,this.pushManager=null,this.subscriptionChanges=new l.B,!Vt.isEnabled)return this.messages=d,this.notificationClicks=d,void(this.subscription=d);this.messages=this.sw.eventsOfType("PUSH").pipe((0,N.T)(yt=>yt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,N.T)(yt=>yt.data)),this.pushManager=this.sw.registration.pipe((0,N.T)(yt=>yt.pushManager));const Dt=this.pushManager.pipe((0,X.n)(yt=>yt.getSubscription()));this.subscription=G(Dt,this.subscriptionChanges)}requestSubscription(Vt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(kt));const Dt={userVisibleOnly:!0};let yt=this.decodeBase64(Vt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Nt=new Uint8Array(new ArrayBuffer(yt.length));for(let bt=0;bt<yt.length;bt++)Nt[bt]=yt.charCodeAt(bt);return Dt.applicationServerKey=Nt,this.pushManager.pipe((0,X.n)(bt=>bt.subscribe(Dt)),(0,H.s)(1)).toPromise().then(bt=>(this.subscriptionChanges.next(bt),bt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,H.s)(1),(0,X.n)(Dt=>{if(null===Dt)throw new Error("Not subscribed to push notifications.");return Dt.unsubscribe().then(yt=>{if(!yt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(kt))}decodeBase64(Vt){return atob(Vt)}}return(Ct=Tt).\u0275fac=function(Vt){return new(Vt||Ct)(M.KVO(zt))},Ct.\u0275prov=M.jDH({token:Ct,factory:Ct.\u0275fac}),Tt})(),Ht=(()=>{var Ct;class Tt{get isEnabled(){return this.sw.isEnabled}constructor(Vt){if(this.sw=Vt,!Vt.isEnabled)return this.versionUpdates=d,void(this.unrecoverable=d);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kt));const Vt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Vt},Vt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kt));const Vt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Vt},Vt)}}return(Ct=Tt).\u0275fac=function(Vt){return new(Vt||Ct)(M.KVO(zt))},Ct.\u0275prov=M.jDH({token:Ct,factory:Ct.\u0275fac}),Tt})();const br=new M.nKC("");function Bt(Ct,Tt,Gt,Vt){return()=>{if(!(0,_.UE)(Vt)||!("serviceWorker"in navigator)||!1===Gt.enabled)return;const Dt=Ct.get(M.SKi),yt=Ct.get(M.o8S);let Nt;if(Dt.runOutsideAngular(()=>{const bt=navigator.serviceWorker,Rt=()=>{var cr;return null===(cr=bt.controller)||void 0===cr?void 0:cr.postMessage({action:"INITIALIZE"})};bt.addEventListener("controllerchange",Rt),yt.onDestroy(()=>{bt.removeEventListener("controllerchange",Rt)})}),"function"==typeof Gt.registrationStrategy)Nt=Gt.registrationStrategy();else{const[bt,...Rt]=(Gt.registrationStrategy||"registerWhenStable:30000").split(":");switch(bt){case"registerImmediately":Nt=(0,w.of)(null);break;case"registerWithDelay":Nt=fr(+Rt[0]||0);break;case"registerWhenStable":Nt=Rt[0]?G(jt(Ct),fr(+Rt[0])):jt(Ct);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Gt.registrationStrategy}`)}}Dt.runOutsideAngular(()=>Nt.pipe((0,H.s)(1)).subscribe(()=>navigator.serviceWorker.register(Tt,{scope:Gt.scope}).catch(bt=>console.error("Service worker registration failed with:",bt))))}}function fr(Ct){return(0,w.of)(null).pipe(function pt(Ct,Tt=Xe){const Gt=function Ze(Ct=0,Tt,Gt=lt){let Vt=-1;return null!=Tt&&((0,Ye.m)(Tt)?Gt=Tt:Vt=Tt),new a.c(Dt=>{let yt=function it(Ct){return Ct instanceof Date&&!isNaN(Ct)}(Ct)?+Ct-Gt.now():Ct;yt<0&&(yt=0);let Nt=0;return Gt.schedule(function(){Dt.closed||(Dt.next(Nt++),0<=Vt?this.schedule(void 0,Vt):Dt.complete())},yt)})}(Ct,Tt);return st(()=>Gt)}(Ct))}function jt(Ct){return Ct.get(M.o8S).isStable.pipe((0,k.p)(Gt=>Gt))}function ar(Ct,Tt){return new zt((0,_.UE)(Tt)&&!1!==Ct.enabled?navigator.serviceWorker:void 0)}class $t{}function Ve(Ct,Tt={}){return(0,M.EmA)([hr,Ht,{provide:br,useValue:Ct},{provide:$t,useValue:Tt},{provide:zt,useFactory:ar,deps:[$t,M.Agw]},{provide:M.hnV,useFactory:Bt,deps:[M.zZn,br,$t,M.Agw],multi:!0}])}let We=(()=>{var Ct;class Tt{static register(Vt,Dt={}){return{ngModule:Tt,providers:[Ve(Vt,Dt)]}}}return(Ct=Tt).\u0275fac=function(Vt){return new(Vt||Ct)},Ct.\u0275mod=M.$C({type:Ct}),Ct.\u0275inj=M.G2t({providers:[hr,Ht]}),Tt})();let Qe=(()=>{var Ct;class Tt{}return(Ct=Tt).\u0275fac=function(Vt){return new(Vt||Ct)},Ct.\u0275mod=M.$C({type:Ct,bootstrap:[ie.ZL]}),Ct.\u0275inj=M.G2t({providers:[{provide:et.b,useClass:St.jM},St.y8],imports:[I.Bb,o.bv.forRoot({mode:"md",innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,We.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Tt})();var Ot=_e(1288);(0,M.SmG)(),I.sG().bootstrapModule(Qe).catch(Ct=>console.log(Ct)),window,typeof window>"u"?Promise.resolve():(0,Ot.p)().then(()=>(0,Ot.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(Dr,rr,_e)=>{var I=_e(4756);Dr.exports=function o(ie,B,v){function _(S,w){if(!B[S]){if(!ie[S]){var i=void 0;if(!w&&i)return require(S,!0);if(f)return f(S,!0);throw(w=new Error("Cannot find module '"+S+"'")).code="MODULE_NOT_FOUND",w}i=B[S]={exports:{}},ie[S][0].call(i.exports,function(l){return _(ie[S][1][l]||l)},i,i.exports,o,ie,B,v)}return B[S].exports}for(var f=void 0,m=0;m<v.length;m++)_(v[m]);return _}({1:[function(o,ie,B){"use strict";B.byteLength=function(u){return 3*((u=i(u))[0]+(u=u[1]))/4-u},B.toByteArray=function(l){var a,u,h,z,d=(h=i(l))[0],g=new f(3*(d+(z=h=h[1]))/4-z),p=0,y=0<h?d-4:d;for(u=0;u<y;u+=4)a=_[l.charCodeAt(u)]<<18|_[l.charCodeAt(u+1)]<<12|_[l.charCodeAt(u+2)]<<6|_[l.charCodeAt(u+3)],g[p++]=a>>16&255,g[p++]=a>>8&255,g[p++]=255&a;return 2===h&&(a=_[l.charCodeAt(u)]<<2|_[l.charCodeAt(u+1)]>>4,g[p++]=255&a),1===h&&(a=_[l.charCodeAt(u)]<<10|_[l.charCodeAt(u+1)]<<4|_[l.charCodeAt(u+2)]>>2,g[p++]=a>>8&255,g[p++]=255&a),g},B.fromByteArray=function(l){for(var a,u=l.length,d=u%3,h=[],g=0,p=u-d;g<p;g+=16383)h.push(function(y,T,z){for(var N=[],k=T;k<z;k+=3)N.push(v[(X=(y[k]<<16&16711680)+(y[k+1]<<8&65280)+(255&y[k+2]))>>18&63]+v[X>>12&63]+v[X>>6&63]+v[63&X]);var X;return N.join("")}(l,g,p<g+16383?p:g+16383));return 1==d?h.push(v[(a=l[u-1])>>2]+v[a<<4&63]+"=="):2==d&&h.push(v[(a=(l[u-2]<<8)+l[u-1])>>10]+v[a>>4&63]+v[a<<2&63]+"="),h.join("")};for(var v=[],_=[],f=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)v[S]=m[S],_[m.charCodeAt(S)]=S;function i(l){var a=l.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=(l=-1===(l=l.indexOf("="))?a:l)===a?0:4-l%4,[l,a]}_[45]=62,_[95]=63},{}],2:[function(o,ie,B){},{}],3:[function(o,ie,B){},{}],4:[function(o,ie,B){(function(i){"use strict";var _=o("base64-js"),f=o("ieee754"),m="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,S=(B.Buffer=i,B.SlowBuffer=function(q){return+q!=q&&(q=0),i.alloc(+q)},B.INSPECT_MAX_BYTES=50,2147483647);function w(q){if(S<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');return q=new Uint8Array(q),Object.setPrototypeOf(q,i.prototype),q}function i(q,j,oe){if("number"!=typeof q)return l(q,j,oe);if("string"==typeof j)throw new TypeError('The "string" argument must be of type string. Received type number');return u(q)}function l(q,j,oe){if("string"==typeof q){var me=q,Se=j;if(i.isEncoding(Se="string"==typeof Se&&""!==Se?Se:"utf8"))return(me=(Xe=w(Le=0|g(me,Se))).write(me,Se))!==Le?Xe.slice(0,me):Xe;throw new TypeError("Unknown encoding: "+Se)}if(ArrayBuffer.isView(q))return d(q);if(null!=q){if(Z(q,ArrayBuffer)||q&&Z(q.buffer,ArrayBuffer)){var Le=q,Xe=oe;if((me=j)<0||Le.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(Le.byteLength<me+(Xe||0))throw new RangeError('"length" is outside of buffer bounds');return Le=void 0===me&&void 0===Xe?new Uint8Array(Le):void 0===Xe?new Uint8Array(Le,me):new Uint8Array(Le,me,Xe),Object.setPrototypeOf(Le,i.prototype),Le}if("number"==typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Se=q.valueOf&&q.valueOf())&&Se!==q)return i.from(Se,j,oe);var lt=i.isBuffer(He=q)?(0!==(at=w(nt=0|h(He.length))).length&&He.copy(at,0,0,nt),at):void 0!==He.length?"number"!=typeof He.length||le(He.length)?w(0):d(He):"Buffer"===He.type&&Array.isArray(He.data)?d(He.data):void 0;if(lt)return lt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof q[Symbol.toPrimitive])return i.from(q[Symbol.toPrimitive]("string"),j,oe)}var He,nt,at;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function a(q){if("number"!=typeof q)throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function u(q){return a(q),w(q<0?0:0|h(q))}function d(q){for(var j=q.length<0?0:0|h(q.length),oe=w(j),me=0;me<j;me+=1)oe[me]=255&q[me];return oe}function h(q){if(S<=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|q}function g(q,j){if(i.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||Z(q,ArrayBuffer))return q.byteLength;if("string"!=typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var oe=q.length,me=2<arguments.length&&!0===arguments[2];if(!me&&0===oe)return 0;for(var Se=!1;;)switch(j){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return Q(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return V(q).length;default:if(Se)return me?-1:Q(q).length;j=(""+j).toLowerCase(),Se=!0}}function p(q,j,oe){var me,Se=!1;if((j=void 0===j||j<0?0:j)>this.length||(oe=void 0===oe||oe>this.length?this.length:oe)<=0||(oe>>>=0)<=(j>>>=0))return"";for(q=q||"utf8";;)switch(q){case"hex":var Xe=oe,at=this.length;(!Xe||Xe<0||at<Xe)&&(Xe=at);for(var lt="",He=Ze=!(Ze=j)||Ze<0?0:Ze;He<Xe;++He)lt+=xe[this[He]];return lt;case"utf8":case"utf-8":return k(this,j,oe);case"ascii":var Be=(at=j,oe),st="";Be=Math.min(this.length,Be);for(var Ye=at;Ye<Be;++Ye)st+=String.fromCharCode(127&this[Ye]);return st;case"latin1":case"binary":var Ze=j,pt=oe,kt="";pt=Math.min(this.length,pt);for(var ir=Ze;ir<pt;++ir)kt+=String.fromCharCode(this[ir]);return kt;case"base64":return zt=this,me=oe,0===(hr=j)&&me===zt.length?_.fromByteArray(zt):_.fromByteArray(zt.slice(hr,me));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var zt=j,hr=oe,Ht=this.slice(zt,hr),br="",Bt=0;Bt<Ht.length;Bt+=2)br+=String.fromCharCode(Ht[Bt]+256*Ht[Bt+1]);return br;default:if(Se)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Se=!0}}function y(q,j,oe){var me=q[j];q[j]=q[oe],q[oe]=me}function T(q,j,oe,me,Se){if(0===q.length)return-1;if("string"==typeof oe?(me=oe,oe=0):2147483647<oe?oe=2147483647:oe<-2147483648&&(oe=-2147483648),(oe=(oe=le(oe=+oe)?Se?0:q.length-1:oe)<0?q.length+oe:oe)>=q.length){if(Se)return-1;oe=q.length-1}else if(oe<0){if(!Se)return-1;oe=0}if("string"==typeof j&&(j=i.from(j,me)),i.isBuffer(j))return 0===j.length?-1:z(q,j,oe,me,Se);if("number"==typeof j)return j&=255,"function"==typeof Uint8Array.prototype.indexOf?(Se?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(q,j,oe):z(q,[j],oe,me,Se);throw new TypeError("val must be string, number or Buffer")}function z(q,j,oe,me,Se){var Le=1,Xe=q.length,lt=j.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(q.length<2||j.length<2)return-1;Xe/=Le=2,lt/=2,oe/=2}function He(Ye,it){return 1===Le?Ye[it]:Ye.readUInt16BE(it*Le)}if(Se)for(var nt=-1,at=oe;at<Xe;at++)if(He(q,at)===He(j,-1===nt?0:at-nt)){if(at-(nt=-1===nt?at:nt)+1===lt)return nt*Le}else-1!==nt&&(at-=at-nt),nt=-1;else for(at=oe=Xe<oe+lt?Xe-lt:oe;0<=at;at--){for(var Be=!0,st=0;st<lt;st++)if(He(q,at+st)!==He(j,st)){Be=!1;break}if(Be)return at}return-1}function G(q,j,oe,me){return H(function(Se){for(var Le=[],Xe=0;Xe<Se.length;++Xe)Le.push(255&Se.charCodeAt(Xe));return Le}(j),q,oe,me)}function N(q,j,oe,me){return H(function(Se,Le){for(var Xe,lt,He=[],nt=0;nt<Se.length&&!((Le-=2)<0);++nt)Xe=(lt=Se.charCodeAt(nt))>>8,He.push(lt%=256),He.push(Xe);return He}(j,q.length-oe),q,oe,me)}function k(q,j,oe){oe=Math.min(q.length,oe);for(var me=[],Se=j;Se<oe;){var Le,Xe,lt,He,nt=q[Se],at=null,Be=239<nt?4:223<nt?3:191<nt?2:1;if(Se+Be<=oe)switch(Be){case 1:nt<128&&(at=nt);break;case 2:128==(192&(Le=q[Se+1]))&&127<(He=(31&nt)<<6|63&Le)&&(at=He);break;case 3:Xe=q[Se+2],128==(192&(Le=q[Se+1]))&&128==(192&Xe)&&2047<(He=(15&nt)<<12|(63&Le)<<6|63&Xe)&&(He<55296||57343<He)&&(at=He);break;case 4:Xe=q[Se+2],lt=q[Se+3],128==(192&(Le=q[Se+1]))&&128==(192&Xe)&&128==(192&lt)&&65535<(He=(15&nt)<<18|(63&Le)<<12|(63&Xe)<<6|63&lt)&&He<1114112&&(at=He)}null===at?(at=65533,Be=1):65535<at&&(me.push((at-=65536)>>>10&1023|55296),at=56320|1023&at),me.push(at),Se+=Be}var st=me,Ye=st.length;if(Ye<=X)return String.fromCharCode.apply(String,st);for(var it="",Ze=0;Ze<Ye;)it+=String.fromCharCode.apply(String,st.slice(Ze,Ze+=X));return it}B.kMaxLength=S,(i.TYPED_ARRAY_SUPPORT=function(){try{var q=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(q,j),42===q.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=l,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(q,j,oe){return a(q),q<=0||void 0===j?w(q):"string"==typeof oe?w(q).fill(j,oe):w(q).fill(j)},i.allocUnsafe=u,i.allocUnsafeSlow=u,i.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==i.prototype},i.compare=function(q,j){if(Z(q,Uint8Array)&&(q=i.from(q,q.offset,q.byteLength)),Z(j,Uint8Array)&&(j=i.from(j,j.offset,j.byteLength)),!i.isBuffer(q)||!i.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===j)return 0;for(var oe=q.length,me=j.length,Se=0,Le=Math.min(oe,me);Se<Le;++Se)if(q[Se]!==j[Se]){oe=q[Se],me=j[Se];break}return oe<me?-1:me<oe?1:0},i.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(q,j){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return i.alloc(0);if(void 0===j)for(Se=j=0;Se<q.length;++Se)j+=q[Se].length;for(var oe=i.allocUnsafe(j),me=0,Se=0;Se<q.length;++Se){var Le=q[Se];if(Z(Le,Uint8Array)&&(Le=i.from(Le)),!i.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(oe,me),me+=Le.length}return oe},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<q;j+=2)y(this,j,j+1);return this},i.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<q;j+=4)y(this,j,j+3),y(this,j+1,j+2);return this},i.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<q;j+=8)y(this,j,j+7),y(this,j+1,j+6),y(this,j+2,j+5),y(this,j+3,j+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var q=this.length;return 0===q?"":0===arguments.length?k(this,0,q):p.apply(this,arguments)},i.prototype.equals=function(q){if(i.isBuffer(q))return this===q||0===i.compare(this,q);throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var j="",q=B.INSPECT_MAX_BYTES;return j=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(j+=" ... "),"<Buffer "+j+">"},m&&(i.prototype[m]=i.prototype.inspect),i.prototype.compare=function(q,j,oe,me,Se){if(Z(q,Uint8Array)&&(q=i.from(q,q.offset,q.byteLength)),!i.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(void 0===oe&&(oe=q?q.length:0),void 0===me&&(me=0),void 0===Se&&(Se=this.length),(j=void 0===j?0:j)<0||oe>q.length||me<0||Se>this.length)throw new RangeError("out of range index");if(Se<=me&&oe<=j)return 0;if(Se<=me)return-1;if(oe<=j)return 1;if(this===q)return 0;for(var Le=(Se>>>=0)-(me>>>=0),Xe=(oe>>>=0)-(j>>>=0),lt=Math.min(Le,Xe),He=this.slice(me,Se),nt=q.slice(j,oe),at=0;at<lt;++at)if(He[at]!==nt[at]){Le=He[at],Xe=nt[at];break}return Le<Xe?-1:Xe<Le?1:0},i.prototype.includes=function(q,j,oe){return-1!==this.indexOf(q,j,oe)},i.prototype.indexOf=function(q,j,oe){return T(this,q,j,oe,!0)},i.prototype.lastIndexOf=function(q,j,oe){return T(this,q,j,oe,!1)},i.prototype.write=function(q,j,oe,me){if(void 0===j)me="utf8",oe=this.length,j=0;else if(void 0===oe&&"string"==typeof j)me=j,oe=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(oe)?(oe>>>=0,void 0===me&&(me="utf8")):(me=oe,oe=void 0)}var Se=this.length-j;if((void 0===oe||Se<oe)&&(oe=Se),0<q.length&&(oe<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");me=me||"utf8";for(var Le,Xe,lt,He=!1;;)switch(me){case"hex":var at=q,Be=j,st=oe,Ye=(Be=Number(Be)||0,this.length-Be);(!st||Ye<(st=Number(st)))&&(st=Ye),(Ye=at.length)/2<st&&(st=Ye/2);for(var it=0;it<st;++it){var Ze=parseInt(at.substr(2*it,2),16);if(le(Ze))return it;this[Be+it]=Ze}return it;case"utf8":case"utf-8":return lt=oe,H(Q(q,(Xe=this).length-(Ye=j)),Xe,Ye,lt);case"ascii":case"latin1":case"binary":return G(this,q,j,oe);case"base64":return Xe=this,lt=j,Le=oe,H(V(q),Xe,lt,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,q,j,oe);default:if(He)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),He=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function D(q,j,oe){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(oe<q+j)throw new RangeError("Trying to access beyond buffer length")}function O(q,j,oe,me,Se,Le){if(!i.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(Se<j||j<Le)throw new RangeError('"value" argument is out of bounds');if(oe+me>q.length)throw new RangeError("Index out of range")}function P(q,j,oe,me){if(oe+me>q.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function J(q,j,oe,me,Se){return j=+j,oe>>>=0,Se||P(q,0,oe,4),f.write(q,j,oe,me,23,4),oe+4}function re(q,j,oe,me,Se){return j=+j,oe>>>=0,Se||P(q,0,oe,8),f.write(q,j,oe,me,52,8),oe+8}i.prototype.slice=function(q,j){var oe=this.length;return(q=~~q)<0?(q+=oe)<0&&(q=0):oe<q&&(q=oe),(j=void 0===j?oe:~~j)<0?(j+=oe)<0&&(j=0):oe<j&&(j=oe),j<q&&(j=q),oe=this.subarray(q,j),Object.setPrototypeOf(oe,i.prototype),oe},i.prototype.readUIntLE=function(q,j,oe){q>>>=0,j>>>=0,oe||D(q,j,this.length);for(var me=this[q],Se=1,Le=0;++Le<j&&(Se*=256);)me+=this[q+Le]*Se;return me},i.prototype.readUIntBE=function(q,j,oe){q>>>=0,j>>>=0,oe||D(q,j,this.length);for(var me=this[q+--j],Se=1;0<j&&(Se*=256);)me+=this[q+--j]*Se;return me},i.prototype.readUInt8=function(q,j){return q>>>=0,j||D(q,1,this.length),this[q]},i.prototype.readUInt16LE=function(q,j){return q>>>=0,j||D(q,2,this.length),this[q]|this[q+1]<<8},i.prototype.readUInt16BE=function(q,j){return q>>>=0,j||D(q,2,this.length),this[q]<<8|this[q+1]},i.prototype.readUInt32LE=function(q,j){return q>>>=0,j||D(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},i.prototype.readUInt32BE=function(q,j){return q>>>=0,j||D(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},i.prototype.readIntLE=function(q,j,oe){q>>>=0,j>>>=0,oe||D(q,j,this.length);for(var me=this[q],Se=1,Le=0;++Le<j&&(Se*=256);)me+=this[q+Le]*Se;return(Se*=128)<=me&&(me-=Math.pow(2,8*j)),me},i.prototype.readIntBE=function(q,j,oe){q>>>=0,j>>>=0,oe||D(q,j,this.length);for(var me=j,Se=1,Le=this[q+--me];0<me&&(Se*=256);)Le+=this[q+--me]*Se;return(Se*=128)<=Le&&(Le-=Math.pow(2,8*j)),Le},i.prototype.readInt8=function(q,j){return q>>>=0,j||D(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},i.prototype.readInt16LE=function(q,j){return q>>>=0,j||D(q,2,this.length),32768&(j=this[q]|this[q+1]<<8)?4294901760|j:j},i.prototype.readInt16BE=function(q,j){return q>>>=0,j||D(q,2,this.length),32768&(j=this[q+1]|this[q]<<8)?4294901760|j:j},i.prototype.readInt32LE=function(q,j){return q>>>=0,j||D(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},i.prototype.readInt32BE=function(q,j){return q>>>=0,j||D(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},i.prototype.readFloatLE=function(q,j){return q>>>=0,j||D(q,4,this.length),f.read(this,q,!0,23,4)},i.prototype.readFloatBE=function(q,j){return q>>>=0,j||D(q,4,this.length),f.read(this,q,!1,23,4)},i.prototype.readDoubleLE=function(q,j){return q>>>=0,j||D(q,8,this.length),f.read(this,q,!0,52,8)},i.prototype.readDoubleBE=function(q,j){return q>>>=0,j||D(q,8,this.length),f.read(this,q,!1,52,8)},i.prototype.writeUIntLE=function(q,j,oe,me){q=+q,j>>>=0,oe>>>=0,me||O(this,q,j,oe,Math.pow(2,8*oe)-1,0);var Se=1,Le=0;for(this[j]=255&q;++Le<oe&&(Se*=256);)this[j+Le]=q/Se&255;return j+oe},i.prototype.writeUIntBE=function(q,j,oe,me){q=+q,j>>>=0,oe>>>=0,me||O(this,q,j,oe,Math.pow(2,8*oe)-1,0);var Se=oe-1,Le=1;for(this[j+Se]=255&q;0<=--Se&&(Le*=256);)this[j+Se]=q/Le&255;return j+oe},i.prototype.writeUInt8=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,1,255,0),this[j]=255&q,j+1},i.prototype.writeUInt16LE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,2,65535,0),this[j]=255&q,this[j+1]=q>>>8,j+2},i.prototype.writeUInt16BE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,2,65535,0),this[j]=q>>>8,this[j+1]=255&q,j+2},i.prototype.writeUInt32LE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,4,4294967295,0),this[j+3]=q>>>24,this[j+2]=q>>>16,this[j+1]=q>>>8,this[j]=255&q,j+4},i.prototype.writeUInt32BE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,4,4294967295,0),this[j]=q>>>24,this[j+1]=q>>>16,this[j+2]=q>>>8,this[j+3]=255&q,j+4},i.prototype.writeIntLE=function(q,j,oe,me){q=+q,j>>>=0,me||O(this,q,j,oe,(me=Math.pow(2,8*oe-1))-1,-me);var Se=0,Le=1,Xe=0;for(this[j]=255&q;++Se<oe&&(Le*=256);)q<0&&0===Xe&&0!==this[j+Se-1]&&(Xe=1),this[j+Se]=(q/Le|0)-Xe&255;return j+oe},i.prototype.writeIntBE=function(q,j,oe,me){q=+q,j>>>=0,me||O(this,q,j,oe,(me=Math.pow(2,8*oe-1))-1,-me);var Se=oe-1,Le=1,Xe=0;for(this[j+Se]=255&q;0<=--Se&&(Le*=256);)q<0&&0===Xe&&0!==this[j+Se+1]&&(Xe=1),this[j+Se]=(q/Le|0)-Xe&255;return j+oe},i.prototype.writeInt8=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,1,127,-128),this[j]=255&(q=q<0?255+q+1:q),j+1},i.prototype.writeInt16LE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,2,32767,-32768),this[j]=255&q,this[j+1]=q>>>8,j+2},i.prototype.writeInt16BE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,2,32767,-32768),this[j]=q>>>8,this[j+1]=255&q,j+2},i.prototype.writeInt32LE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,4,2147483647,-2147483648),this[j]=255&q,this[j+1]=q>>>8,this[j+2]=q>>>16,this[j+3]=q>>>24,j+4},i.prototype.writeInt32BE=function(q,j,oe){return q=+q,j>>>=0,oe||O(this,q,j,4,2147483647,-2147483648),this[j]=(q=q<0?4294967295+q+1:q)>>>24,this[j+1]=q>>>16,this[j+2]=q>>>8,this[j+3]=255&q,j+4},i.prototype.writeFloatLE=function(q,j,oe){return J(this,q,j,!0,oe)},i.prototype.writeFloatBE=function(q,j,oe){return J(this,q,j,!1,oe)},i.prototype.writeDoubleLE=function(q,j,oe){return re(this,q,j,!0,oe)},i.prototype.writeDoubleBE=function(q,j,oe){return re(this,q,j,!1,oe)},i.prototype.copy=function(q,j,oe,me){if(!i.isBuffer(q))throw new TypeError("argument should be a Buffer");if(oe=oe||0,me||0===me||(me=this.length),j>=q.length&&(j=q.length),(me=0<me&&me<oe?oe:me)===oe||0===q.length||0===this.length)return 0;if((j=j||0)<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length);var Se=(me=q.length-j<me-oe?q.length-j+oe:me)-oe;if(this===q&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(j,oe,me);else if(this===q&&oe<j&&j<me)for(var Le=Se-1;0<=Le;--Le)q[Le+j]=this[Le+oe];else Uint8Array.prototype.set.call(q,this.subarray(oe,me),j);return Se},i.prototype.fill=function(q,j,oe,me){if("string"==typeof q){if("string"==typeof j?(me=j,j=0,oe=this.length):"string"==typeof oe&&(me=oe,oe=this.length),void 0!==me&&"string"!=typeof me)throw new TypeError("encoding must be a string");if("string"==typeof me&&!i.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Se;1===q.length&&(Se=q.charCodeAt(0),("utf8"===me&&Se<128||"latin1"===me)&&(q=Se))}else"number"==typeof q?q&=255:"boolean"==typeof q&&(q=Number(q));if(j<0||this.length<j||this.length<oe)throw new RangeError("Out of range index");var Le;if(!(oe<=j))if(j>>>=0,oe=void 0===oe?this.length:oe>>>0,"number"==typeof(q=q||0))for(Le=j;Le<oe;++Le)this[Le]=q;else{var Xe=i.isBuffer(q)?q:i.from(q,me),lt=Xe.length;if(0===lt)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Le=0;Le<oe-j;++Le)this[Le+j]=Xe[Le%lt]}return this};var $=/[^+/0-9A-Za-z-_]/g;function Q(q,j){j=j||1/0;for(var oe,me=q.length,Se=null,Le=[],Xe=0;Xe<me;++Xe){if(55295<(oe=q.charCodeAt(Xe))&&oe<57344){if(!Se){if(56319<oe){-1<(j-=3)&&Le.push(239,191,189);continue}if(Xe+1===me){-1<(j-=3)&&Le.push(239,191,189);continue}Se=oe;continue}if(oe<56320){-1<(j-=3)&&Le.push(239,191,189),Se=oe;continue}oe=65536+(Se-55296<<10|oe-56320)}else Se&&-1<(j-=3)&&Le.push(239,191,189);if(Se=null,oe<128){if(--j<0)break;Le.push(oe)}else if(oe<2048){if((j-=2)<0)break;Le.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((j-=3)<0)break;Le.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;Le.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return Le}function V(q){return _.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace($,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(q))}function H(q,j,oe,me){for(var Se=0;Se<me&&!(Se+oe>=j.length||Se>=q.length);++Se)j[Se+oe]=q[Se];return Se}function Z(q,j){return q instanceof j||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===j.name}function le(q){return q!=q}var xe=function(){for(var q="0123456789abcdef",j=new Array(256),oe=0;oe<16;++oe)for(var me=16*oe,Se=0;Se<16;++Se)j[me+Se]=q[oe]+q[Se];return j}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,ie,B){ie.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,ie,B){var v=o("../internals/is-object");ie.exports=function(_){if(v(_)||null===_)return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},{"../internals/is-object":75}],7:[function(f,ie,B){var v=f("../internals/well-known-symbol"),_=f("../internals/object-create"),m=(f=f("../internals/object-define-property"),v("unscopables")),S=Array.prototype;null==S[m]&&f.f(S,m,{configurable:!0,value:_(null)}),ie.exports=function(w){S[m][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,ie,B){"use strict";var v=o("../internals/string-multibyte").charAt;ie.exports=function(_,f,m){return f+(m?v(_,f).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,ie,B){ie.exports=function(v,_,f){if(v instanceof _)return v;throw TypeError("Incorrect "+(f?f+" ":"")+"invocation")}},{}],10:[function(o,ie,B){var v=o("../internals/is-object");ie.exports=function(_){if(v(_))return _;throw TypeError(String(_)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,ie,B){ie.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(P,ie,B){"use strict";function v(re){return w(re)&&i(J,l(re))}var _,f=P("../internals/array-buffer-native"),m=P("../internals/descriptors"),S=P("../internals/global"),w=P("../internals/is-object"),i=P("../internals/has"),l=P("../internals/classof"),a=P("../internals/create-non-enumerable-property"),u=P("../internals/redefine"),d=P("../internals/object-define-property").f,h=P("../internals/object-get-prototype-of"),g=P("../internals/object-set-prototype-of"),X=P("../internals/well-known-symbol"),p=(P=P("../internals/uid"),S.Int8Array),y=p&&p.prototype,T=(T=S.Uint8ClampedArray)&&T.prototype,z=p&&h(p),G=y&&h(y),N=Object.prototype,k=N.isPrototypeOf,D=(X=X("toStringTag"),P("TYPED_ARRAY_TAG")),O=f&&!!g&&"Opera"!==l(S.opera),J=(P=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(_ in J)S[_]||(O=!1);if((!O||"function"!=typeof z||z===Function.prototype)&&(z=function(){throw TypeError("Incorrect invocation")},O))for(_ in J)S[_]&&g(S[_],z);if((!O||!G||G===N)&&(G=z.prototype,O))for(_ in J)S[_]&&g(S[_].prototype,G);if(O&&h(T)!==G&&g(T,G),m&&!i(G,X))for(_ in P=!0,d(G,X,{get:function(){return w(this)?this[D]:void 0}}),J)S[_]&&a(S[_],D,_);ie.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:P&&D,aTypedArray:function(re){if(v(re))return re;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(re){if(g){if(k.call(z,re))return re}else for(var $ in J)if(i(J,_)&&($=S[$])&&(re===$||k.call($,re)))return re;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(re,$,Q){if(m){if(Q)for(var V in J)(V=S[V])&&i(V.prototype,re)&&delete V.prototype[re];G[re]&&!Q||u(G,re,!Q&&O&&y[re]||$)}},exportTypedArrayStaticMethod:function(re,$,Q){var V,H;if(m){if(g){if(Q)for(V in J)(H=S[V])&&i(H,re)&&delete H[re];if(z[re]&&!Q)return;try{return u(z,re,!Q&&O&&p[re]||$)}catch{}}for(V in J)!(H=S[V])||H[re]&&!Q||u(H,re,$)}},isView:function(re){return"DataView"===(re=l(re))||i(J,re)},isTypedArray:v,TypedArray:z,TypedArrayPrototype:G}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(oe,ie,B){"use strict";function v(Be){return[255&Be]}function _(Be){return[255&Be,Be>>8&255]}function f(Be){return[255&Be,Be>>8&255,Be>>16&255,Be>>24&255]}function m(Be){return Be[3]<<24|Be[2]<<16|Be[1]<<8|Be[0]}function S(Be){return Le(Be,23,4)}function w(Be){return Le(Be,52,8)}function i(Be,st){P(Be[Z],st,{get:function(){return $(this)[st]}})}function l(kt,st,pt,it){if((pt=N(pt))+st>(kt=$(kt)).byteLength)throw Se(le);return kt=$(kt.buffer).bytes.slice(pt+=kt.byteOffset,pt+st),it?kt:kt.reverse()}function a(Be,st,Ye,it,Ze,pt){if((Ye=N(Ye))+st>(Be=$(Be)).byteLength)throw Se(le);for(var kt=$(Be.buffer).bytes,ir=Ye+Be.byteOffset,zt=it(+Ze),hr=0;hr<st;hr++)kt[ir+hr]=zt[pt?hr:st-hr-1]}var u=oe("../internals/global"),d=oe("../internals/descriptors"),h=oe("../internals/array-buffer-native"),g=oe("../internals/create-non-enumerable-property"),p=oe("../internals/redefine-all"),y=oe("../internals/fails"),T=oe("../internals/an-instance"),z=oe("../internals/to-integer"),G=oe("../internals/to-length"),N=oe("../internals/to-index"),k=oe("../internals/ieee754"),X=oe("../internals/object-get-prototype-of"),D=oe("../internals/object-set-prototype-of"),O=oe("../internals/object-get-own-property-names").f,P=oe("../internals/object-define-property").f,J=oe("../internals/array-fill"),re=oe("../internals/set-to-string-tag"),$=(oe=oe("../internals/internal-state")).get,Q=oe.set,V="ArrayBuffer",H="DataView",Z="prototype",le="Wrong index",xe=u[V],q=xe,j=u[H],me=(oe=j&&j[Z],Object.prototype),Se=u.RangeError,Le=k.pack,Xe=k.unpack;if(h){if(!y(function(){xe(1)})||!y(function(){new xe(-1)})||y(function(){return new xe,new xe(1.5),new xe(NaN),xe.name!=V})){u=(q=function(Ye){return T(this,q),new xe(N(Ye))})[Z]=xe[Z];for(var lt,He=O(xe),nt=0;He.length>nt;)(lt=He[nt++])in q||g(q,lt,xe[lt]);u.constructor=q}D&&X(oe)!==me&&D(oe,me),k=new j(new q(2));var at=oe.setInt8;k.setInt8(0,2147483648),k.setInt8(1,2147483649),!k.getInt8(0)&&k.getInt8(1)||p(oe,{setInt8:function(st,Ye){at.call(this,st,Ye<<24>>24)},setUint8:function(st,Ye){at.call(this,st,Ye<<24>>24)}},{unsafe:!0})}else q=function(Be){T(this,q,V),Be=N(Be),Q(this,{bytes:J.call(new Array(Be),0),byteLength:Be}),d||(this.byteLength=Be)},j=function(Be,Ze,Ye){T(this,j,H),T(Be,q,H);var it=$(Be).byteLength;if((Ze=z(Ze))<0||it<Ze)throw Se("Wrong offset");if(it<Ze+(Ye=void 0===Ye?it-Ze:G(Ye)))throw Se("Wrong length");Q(this,{buffer:Be,byteLength:Ye,byteOffset:Ze}),d||(this.buffer=Be,this.byteLength=Ye,this.byteOffset=Ze)},d&&(i(q,"byteLength"),i(j,"buffer"),i(j,"byteLength"),i(j,"byteOffset")),p(j[Z],{getInt8:function(Be){return l(this,1,Be)[0]<<24>>24},getUint8:function(Be){return l(this,1,Be)[0]},getInt16:function(Be){return((Be=l(this,2,Be,1<arguments.length?arguments[1]:void 0))[1]<<8|Be[0])<<16>>16},getUint16:function(Be){return(Be=l(this,2,Be,1<arguments.length?arguments[1]:void 0))[1]<<8|Be[0]},getInt32:function(Be){return m(l(this,4,Be,1<arguments.length?arguments[1]:void 0))},getUint32:function(Be){return m(l(this,4,Be,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Be){return Xe(l(this,4,Be,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Be){return Xe(l(this,8,Be,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Be,st){a(this,1,Be,v,st)},setUint8:function(Be,st){a(this,1,Be,v,st)},setInt16:function(Be,st){a(this,2,Be,_,st,2<arguments.length?arguments[2]:void 0)},setUint16:function(Be,st){a(this,2,Be,_,st,2<arguments.length?arguments[2]:void 0)},setInt32:function(Be,st){a(this,4,Be,f,st,2<arguments.length?arguments[2]:void 0)},setUint32:function(Be,st){a(this,4,Be,f,st,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Be,st){a(this,4,Be,S,st,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Be,st){a(this,8,Be,w,st,2<arguments.length?arguments[2]:void 0)}});re(q,V),re(j,H),ie.exports={ArrayBuffer:q,DataView:j}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,ie,B){"use strict";var v=o("../internals/to-object"),_=o("../internals/to-absolute-index"),f=o("../internals/to-length"),m=Math.min;ie.exports=[].copyWithin||function(d,w){var i=v(this),l=f(i.length),a=_(d,l),u=_(w,l),h=m((void 0===(d=2<arguments.length?arguments[2]:void 0)?l:_(d,l))-u,l-a),g=1;for(u<a&&a<u+h&&(g=-1,u+=h-1,a+=h-1);0<h--;)u in i?i[a]=i[u]:delete i[a],a+=g,u+=g;return i}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,ie,B){"use strict";var v=o("../internals/to-object"),_=o("../internals/to-absolute-index"),f=o("../internals/to-length");ie.exports=function(m){for(var l,S=v(this),w=f(S.length),i=_(1<(l=arguments.length)?arguments[1]:void 0,w),a=void 0===(l=2<l?arguments[2]:void 0)?w:_(l,w);i<a;)S[i++]=m;return S}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(f,ie,B){"use strict";var v=f("../internals/array-iteration").forEach,_=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),_=_("forEach"),f=f("forEach"),ie.exports=_&&f?[].forEach:function(m){return v(this,m,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,ie,B){"use strict";var v=o("../internals/function-bind-context"),_=o("../internals/to-object"),f=o("../internals/call-with-safe-iteration-closing"),m=o("../internals/is-array-iterator-method"),S=o("../internals/to-length"),w=o("../internals/create-property"),i=o("../internals/get-iterator-method");ie.exports=function(T){var a,u,d,h,g,p,y=_(T),z=(T="function"==typeof this?this:Array,arguments.length),G=1<z?arguments[1]:void 0,N=void 0!==G,k=i(y),X=0;if(N&&(G=v(G,2<z?arguments[2]:void 0,2)),null==k||T==Array&&m(k))for(u=new T(a=S(y.length));X<a;X++)p=N?G(y[X],X):y[X],w(u,X,p);else for(g=(h=k.call(y)).next,u=new T;!(d=g.call(h)).done;X++)p=N?f(h,G,[d.value,X],!0):d.value,w(u,X,p);return u.length=X,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,ie,B){function v(S){return function(w,i,l){var a,u=_(w),d=f(u.length),h=m(l,d);if(S&&i!=i){for(;h<d;)if((a=u[h++])!=a)return!0}else for(;h<d;h++)if((S||h in u)&&u[h]===i)return S||h||0;return!S&&-1}}var _=o("../internals/to-indexed-object"),f=o("../internals/to-length"),m=o("../internals/to-absolute-index");ie.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,ie,B){function v(l){var a=1==l,u=2==l,d=3==l,h=4==l,g=6==l,p=5==l||g;return function(y,T,z,G){for(var N,k,X=m(y),D=f(X),O=_(T,z,3),P=S(D.length),J=0,re=(T=G||w,a?T(y,P):u?T(y,0):void 0);J<P;J++)if((p||J in D)&&(k=O(N=D[J],J,X),l))if(a)re[J]=k;else if(k)switch(l){case 3:return!0;case 5:return N;case 6:return J;case 2:i.call(re,N)}else if(h)return!1;return g?-1:d||h?h:re}}var _=o("../internals/function-bind-context"),f=o("../internals/indexed-object"),m=o("../internals/to-object"),S=o("../internals/to-length"),w=o("../internals/array-species-create"),i=[].push;ie.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(l,ie,B){"use strict";var v=l("../internals/to-indexed-object"),_=l("../internals/to-integer"),f=l("../internals/to-length"),i=l("../internals/array-method-is-strict"),m=(l=l("../internals/array-method-uses-to-length"),Math.min),S=[].lastIndexOf,w=!!S&&1/[1].lastIndexOf(1,-0)<0;i=i("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),ie.exports=!w&&i&&l?S:function(a){if(w)return S.apply(this,arguments)||0;var u=v(this),d=f(u.length),h=d-1;for((h=1<arguments.length?m(h,_(arguments[1])):h)<0&&(h=d+h);0<=h;h--)if(h in u&&u[h]===a)return h||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,ie,B){var v=o("../internals/fails"),_=o("../internals/well-known-symbol"),f=o("../internals/engine-v8-version"),m=_("species");ie.exports=function(S){return 51<=f||!v(function(){var w=[];return(w.constructor={})[m]=function(){return{foo:1}},1!==w[S](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,ie,B){"use strict";var v=o("../internals/fails");ie.exports=function(_,f){var m=[][_];return!!m&&v(function(){m.call(null,f||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,ie,B){function v(i){throw i}var _=o("../internals/descriptors"),f=o("../internals/fails"),m=o("../internals/has"),S=Object.defineProperty,w={};ie.exports=function(i,l){var a,u,d,h;return m(w,i)?w[i]:(a=[][i],u=!!m(l=l||{},"ACCESSORS")&&l.ACCESSORS,d=m(l,0)?l[0]:v,h=m(l,1)?l[1]:void 0,w[i]=!!a&&!f(function(){if(u&&!_)return!0;var g={length:-1};u?S(g,1,{enumerable:!0,get:v}):g[1]=1,a.call(g,d,h)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,ie,B){function v(w){return function(i,l,a,u){_(l);var d=f(i),h=m(d),g=S(d.length),p=w?g-1:0,y=w?-1:1;if(a<2)for(;;){if(p in h){u=h[p],p+=y;break}if(p+=y,w?p<0:g<=p)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=p:p<g;p+=y)p in h&&(u=l(u,h[p],p,d));return u}}var _=o("../internals/a-function"),f=o("../internals/to-object"),m=o("../internals/indexed-object"),S=o("../internals/to-length");ie.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,ie,B){var v=o("../internals/is-object"),_=o("../internals/is-array"),f=o("../internals/well-known-symbol")("species");ie.exports=function(m,S){var w;return new(void 0===(w=_(m)&&("function"==typeof(w=m.constructor)&&(w===Array||_(w.prototype))||v(w)&&null===(w=w[f]))?void 0:w)?Array:w)(0===S?0:S)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,ie,B){var v=o("../internals/an-object");ie.exports=function(_,f,m,S){try{return S?f(v(m)[0],m[1]):f(m)}catch(w){throw void 0!==(S=_.return)&&v(S.call(_)),w}}},{"../internals/an-object":10}],27:[function(o,ie,B){var v=o("../internals/well-known-symbol")("iterator"),_=!1;try{var f=0,m={next:function(){return{done:!!f++}},return:function(){_=!0}};m[v]=function(){return this},Array.from(m,function(){throw 2})}catch{}ie.exports=function(S,w){if(!w&&!_)return!1;var i=!1;try{var l={};l[v]=function(){return{next:function(){return{done:i=!0}}}},S(l)}catch{}return i}},{"../internals/well-known-symbol":150}],28:[function(o,ie,B){var v={}.toString;ie.exports=function(_){return v.call(_).slice(8,-1)}},{}],29:[function(o,ie,B){var v=o("../internals/to-string-tag-support"),_=o("../internals/classof-raw"),f=o("../internals/well-known-symbol")("toStringTag"),m="Arguments"==_(function(){return arguments}());ie.exports=v?_:function(S){var w;return void 0===S?"Undefined":null===S?"Null":"string"==typeof(w=function(i,l){try{return i[l]}catch{}}(S=Object(S),f))?w:m?_(S):"Object"==(w=_(S))&&"function"==typeof S.callee?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(d,ie,B){"use strict";var v=d("../internals/object-define-property").f,_=d("../internals/object-create"),f=d("../internals/redefine-all"),m=d("../internals/function-bind-context"),S=d("../internals/an-instance"),w=d("../internals/iterate"),i=d("../internals/define-iterator"),l=d("../internals/set-species"),a=d("../internals/descriptors"),u=d("../internals/internal-metadata").fastKey,h=(d=d("../internals/internal-state")).set,g=d.getterFor;ie.exports={getConstructor:function(p,y,T,z){function G(D,O,P){var J,re=X(D),$=N(D,O);return $?$.value=P:(re.last=$={index:J=u(O,!0),key:O,value:P,previous:O=re.last,next:void 0,removed:!1},re.first||(re.first=$),O&&(O.next=$),a?re.size++:D.size++,"F"!==J&&(re.index[J]=$)),D}function N(J,O){J=X(J);var P,re=u(O);if("F"!==re)return J.index[re];for(P=J.first;P;P=P.next)if(P.key==O)return P}var k=p(function(D,O){S(D,k,y),h(D,{type:y,index:_(null),first:void 0,last:void 0,size:0}),a||(D.size=0),null!=O&&w(O,D[z],D,T)}),X=g(y);return f(k.prototype,{clear:function(){for(var D=X(this),O=D.index,P=D.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete O[P.index],P=P.next;D.first=D.last=void 0,a?D.size=0:this.size=0},delete:function(re){var O,P,J=X(this);return(re=N(this,re))&&(O=re.next,P=re.previous,delete J.index[re.index],re.removed=!0,P&&(P.next=O),O&&(O.previous=P),J.first==re&&(J.first=O),J.last==re&&(J.last=P),a?J.size--:this.size--),!!re},forEach:function(D){for(var O,P=X(this),J=m(D,1<arguments.length?arguments[1]:void 0,3);O=O?O.next:P.first;)for(J(O.value,O.key,this);O&&O.removed;)O=O.previous},has:function(D){return!!N(this,D)}}),f(k.prototype,T?{get:function(D){return(D=N(this,D))&&D.value},set:function(D,O){return G(this,0===D?0:D,O)}}:{add:function(D){return G(this,D=0===D?0:D,D)}}),a&&v(k.prototype,"size",{get:function(){return X(this).size}}),k},setStrong:function(p,y,T){var z=y+" Iterator",G=g(y),N=g(z);i(p,y,function(k,X){h(this,{type:z,target:k,state:G(k),kind:X,last:void 0})},function(){for(var k=N(this),X=k.kind,D=k.last;D&&D.removed;)D=D.previous;return k.target&&(k.last=D=D?D.next:k.state.first)?"keys"==X?{value:D.key,done:!1}:"values"==X?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}:{value:k.target=void 0,done:!0}},T?"entries":"values",!T,!0),l(y)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(h,ie,B){"use strict";function v(G){return G.frozen||(G.frozen=new _)}function _(){this.entries=[]}function f(G,N){return y(G.entries,function(k){return k[0]===N})}var m=h("../internals/redefine-all"),S=h("../internals/internal-metadata").getWeakData,w=h("../internals/an-object"),i=h("../internals/is-object"),l=h("../internals/an-instance"),a=h("../internals/iterate"),u=h("../internals/array-iteration"),d=h("../internals/has"),g=(h=h("../internals/internal-state")).set,p=h.getterFor,y=u.find,T=u.findIndex,z=0;_.prototype={get:function(G){if(G=f(this,G))return G[1]},has:function(G){return!!f(this,G)},set:function(G,N){var k=f(this,G);k?k[1]=N:this.entries.push([G,N])},delete:function(G){var N=T(this.entries,function(k){return k[0]===G});return~N&&this.entries.splice(N,1),!!~N}},ie.exports={getConstructor:function(G,N,k,X){function D(J,re,$){var Q=P(J),V=S(w(re),!0);return!0===V?v(Q).set(re,$):V[Q.id]=$,J}var O=G(function(J,re){l(J,O,N),g(J,{type:N,id:z++,frozen:void 0}),null!=re&&a(re,J[X],J,k)}),P=p(N);return m(O.prototype,{delete:function(J){var re,$=P(this);return!!i(J)&&(!0===(re=S(J))?v($).delete(J):re&&d(re,$.id)&&delete re[$.id])},has:function(J){var re,$=P(this);return!!i(J)&&(!0===(re=S(J))?v($).has(J):re&&d(re,$.id))}}),m(O.prototype,k?{get:function(J){var re,$=P(this);if(i(J))return!0===(re=S(J))?v($).get(J):re?re[$.id]:void 0},set:function(J,re){return D(this,J,re)}}:{add:function(J){return D(this,J,!0)}}),O}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/global"),f=o("../internals/is-forced"),m=o("../internals/redefine"),S=o("../internals/internal-metadata"),w=o("../internals/iterate"),i=o("../internals/an-instance"),l=o("../internals/is-object"),a=o("../internals/fails"),u=o("../internals/check-correctness-of-iteration"),d=o("../internals/set-to-string-tag"),h=o("../internals/inherit-if-required");ie.exports=function(g,p,y){function T(V){var H=re[V];m(re,V,"add"==V?function(Z){return H.call(this,0===Z?0:Z),this}:"delete"==V?function(Z){return!(O&&!l(Z))&&H.call(this,0===Z?0:Z)}:"get"==V?function(Z){return O&&!l(Z)?void 0:H.call(this,0===Z?0:Z)}:"has"==V?function(Z){return!(O&&!l(Z))&&H.call(this,0===Z?0:Z)}:function(Z,le){return H.call(this,0===Z?0:Z,le),this})}var z,G,N,k,X,D=-1!==g.indexOf("Map"),O=-1!==g.indexOf("Weak"),P=D?"set":"add",J=_[g],re=J&&J.prototype,$=J,Q={};return f(g,"function"!=typeof J||!(O||re.forEach&&!a(function(){(new J).entries().next()})))?($=y.getConstructor(p,g,D,P),S.REQUIRED=!0):f(g,!0)&&(G=(z=new $)[P](O?{}:-0,1)!=z,N=a(function(){z.has(1)}),k=u(function(V){new J(V)}),X=!O&&a(function(){for(var V=new J,H=5;H--;)V[P](H,H);return!V.has(-0)}),k||((($=p(function(V,H){return i(V,$,g),V=h(new J,V,$),null!=H&&w(H,V[P],V,D),V})).prototype=re).constructor=$),(N||X)&&(T("delete"),T("has"),D&&T("get")),(X||G)&&T(P),O&&re.clear&&delete re.clear),Q[g]=$,v({global:!0,forced:$!=J},Q),d($,g),O||y.setStrong($,g,D),$}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,ie,B){var v=o("../internals/has"),_=o("../internals/own-keys"),f=o("../internals/object-get-own-property-descriptor"),m=o("../internals/object-define-property");ie.exports=function(S,w){for(var i=_(w),l=m.f,a=f.f,u=0;u<i.length;u++){var d=i[u];v(S,d)||l(S,d,a(w,d))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,ie,B){var v=o("../internals/well-known-symbol")("match");ie.exports=function(_){var f=/./;try{"/./"[_](f)}catch{try{return f[v]=!1,"/./"[_](f)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,ie,B){o=o("../internals/fails"),ie.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,ie,B){var v=o("../internals/require-object-coercible"),_=/"/g;ie.exports=function(i,m,S,w){i=String(v(i));var l="<"+m;return""!==S&&(l+=" "+S+'="'+String(w).replace(_,"&quot;")+'"'),l+">"+i+"</"+m+">"}},{"../internals/require-object-coercible":115}],37:[function(o,ie,B){"use strict";function v(){return this}var _=o("../internals/iterators-core").IteratorPrototype,f=o("../internals/object-create"),m=o("../internals/create-property-descriptor"),S=o("../internals/set-to-string-tag"),w=o("../internals/iterators");ie.exports=function(i,l,a){return l+=" Iterator",i.prototype=f(_,{next:m(1,a)}),S(i,l,!1,!0),w[l]=v,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,ie,B){var v=o("../internals/descriptors"),_=o("../internals/object-define-property"),f=o("../internals/create-property-descriptor");ie.exports=v?function(m,S,w){return _.f(m,S,f(1,w))}:function(m,S,w){return m[S]=w,m}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,ie,B){ie.exports=function(v,_){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:_}}},{}],40:[function(o,ie,B){"use strict";var v=o("../internals/to-primitive"),_=o("../internals/object-define-property"),f=o("../internals/create-property-descriptor");ie.exports=function(m,S,w){(S=v(S))in m?_.f(m,S,f(0,w)):m[S]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(h,ie,B){"use strict";function v(){return this}var _=h("../internals/export"),f=h("../internals/create-iterator-constructor"),m=h("../internals/object-get-prototype-of"),S=h("../internals/object-set-prototype-of"),w=h("../internals/set-to-string-tag"),i=h("../internals/create-non-enumerable-property"),l=h("../internals/redefine"),a=h("../internals/well-known-symbol"),u=h("../internals/is-pure"),d=h("../internals/iterators"),g=(h=h("../internals/iterators-core")).IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,y=a("iterator"),T="values",z="entries";ie.exports=function(G,N,k,Q,D,O,P){function J(q){if(q===D&&le)return le;if(!p&&q in H)return H[q];switch(q){case"keys":case T:case z:return function(){return new k(this,q)}}return function(){return new k(this)}}f(k,N,Q),Q=N+" Iterator";var re,$,V=!1,H=G.prototype,Z=H[y]||H["@@iterator"]||D&&H[D],le=!p&&Z||J(D),xe="Array"==N&&H.entries||Z;if(xe&&(xe=m(xe.call(new G)),g!==Object.prototype&&xe.next&&(u||m(xe)===g||(S?S(xe,g):"function"!=typeof xe[y]&&i(xe,y,v)),w(xe,Q,!0,!0),u&&(d[Q]=v))),D==T&&Z&&Z.name!==T&&(V=!0,le=function(){return Z.call(this)}),u&&!P||H[y]===le||i(H,y,le),d[N]=le,D)if(re={values:J(T),keys:O?le:J("keys"),entries:J(z)},P)for($ in re)!p&&!V&&$ in H||l(H,$,re[$]);else _({target:N,proto:!0,forced:p||V},re);return re}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,ie,B){var v=o("../internals/path"),_=o("../internals/has"),f=o("../internals/well-known-symbol-wrapped"),m=o("../internals/object-define-property").f;ie.exports=function(S){var w=v.Symbol||(v.Symbol={});_(w,S)||m(w,S,{value:f.f(S)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,ie,B){o=o("../internals/fails"),ie.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(_,ie,B){var v=_("../internals/global"),f=(_=_("../internals/is-object"),v.document),m=_(f)&&_(f.createElement);ie.exports=function(S){return m?f.createElement(S):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,ie,B){ie.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,ie,B){o=o("../internals/engine-user-agent"),ie.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,ie,B){o=o("../internals/get-built-in"),ie.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(f,ie,B){var v,_,m=f("../internals/global");f=f("../internals/engine-user-agent"),(m=(m=(m=m.process)&&m.versions)&&m.v8)?_=(v=m.split("."))[0]+v[1]:f&&(!(v=f.match(/Edge\/(\d+)/))||74<=v[1])&&(v=f.match(/Chrome\/(\d+)/))&&(_=v[1]),ie.exports=_&&+_},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,ie,B){ie.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,ie,B){var v=o("../internals/global"),_=o("../internals/object-get-own-property-descriptor").f,f=o("../internals/create-non-enumerable-property"),m=o("../internals/redefine"),S=o("../internals/set-global"),w=o("../internals/copy-constructor-properties"),i=o("../internals/is-forced");ie.exports=function(l,a){var u,d,h,g=l.target,p=l.global,y=l.stat,T=p?v:y?v[g]||S(g,{}):(v[g]||{}).prototype;if(T)for(u in a){if(d=a[u],h=l.noTargetGet?(h=_(T,u))&&h.value:T[u],!i(p?u:g+(y?".":"#")+u,l.forced)&&void 0!==h){if(typeof d==typeof h)continue;w(d,h)}(l.sham||h&&h.sham)&&f(d,"sham",!0),m(T,u,d,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,ie,B){ie.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(a,ie,B){"use strict";a("../modules/es.regexp.exec");var v=a("../internals/redefine"),_=a("../internals/fails"),f=a("../internals/well-known-symbol"),m=a("../internals/regexp-exec"),S=a("../internals/create-non-enumerable-property"),w=f("species"),i=!_(function(){var h=/./;return h.exec=function(){var g=[];return g.groups={a:"7"},g},"7"!=="".replace(h,"$<a>")}),l="$0"==="a".replace(/./,"$0"),u=!!/./[a=f("replace")]&&""===/./[a]("a","$0"),d=!_(function(){var h=(g=/(?:)/).exec,g=(g.exec=function(){return h.apply(this,arguments)},"ab".split(g));return 2!==g.length||"a"!==g[0]||"b"!==g[1]});ie.exports=function(h,g,p,y){var T,z,G=f(h),N=!_(function(){var X={};return X[G]=function(){return 7},7!=""[h](X)}),k=N&&!_(function(){var X=!1,D=/a/;return"split"===h&&((D={constructor:{}}).constructor[w]=function(){return D},D.flags="",D[G]=/./[G]),D.exec=function(){return X=!0,null},D[G](""),!X});N&&k&&("replace"!==h||i&&l&&!u)&&("split"!==h||d)||(T=/./[G],p=(k=p(G,""[h],function(X,D,O,P,J){return D.exec===m?N&&!J?{done:!0,value:T.call(D,O,P)}:{done:!0,value:X.call(O,D,P)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],z=k[1],v(String.prototype,h,p),v(RegExp.prototype,G,2==g?function(X,D){return z.call(X,this,D)}:function(X){return z.call(X,this)})),y&&S(RegExp.prototype[G],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,ie,B){"use strict";var _=o("../internals/is-array"),f=o("../internals/to-length"),m=o("../internals/function-bind-context");ie.exports=function v(S,w,i,l,a,u,d,h){for(var g,p=a,y=0,T=!!d&&m(d,h,3);y<l;){if(y in i){if(g=T?T(i[y],y,w):i[y],0<u&&_(g))p=v(S,w,g,f(g.length),p,u-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");S[p]=g}p++}y++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,ie,B){o=o("../internals/fails"),ie.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,ie,B){var v=o("../internals/a-function");ie.exports=function(_,f,m){if(v(_),void 0===f)return _;switch(m){case 0:return function(){return _.call(f)};case 1:return function(S){return _.call(f,S)};case 2:return function(S,w){return _.call(f,S,w)};case 3:return function(S,w,i){return _.call(f,S,w,i)}}return function(){return _.apply(f,arguments)}}},{"../internals/a-function":5}],56:[function(o,ie,B){"use strict";var v=o("../internals/a-function"),_=o("../internals/is-object"),f=[].slice,m={};ie.exports=Function.bind||function(S){var w=v(this),i=f.call(arguments,1),l=function(){var a=i.concat(f.call(arguments));if(this instanceof l){var u=w,d=a.length,h=a;if(!(d in m)){for(var g=[],p=0;p<d;p++)g[p]="a["+p+"]";m[d]=Function("C,a","return new C("+g.join(",")+")")}return m[d](u,h)}return w.apply(S,a)};return _(w.prototype)&&(l.prototype=w.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,ie,B){function v(m){return"function"==typeof m?m:void 0}var _=o("../internals/path"),f=o("../internals/global");ie.exports=function(m,S){return arguments.length<2?v(_[m])||v(f[m]):_[m]&&_[m][S]||f[m]&&f[m][S]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,ie,B){var v=o("../internals/classof"),_=o("../internals/iterators"),f=o("../internals/well-known-symbol")("iterator");ie.exports=function(m){if(null!=m)return m[f]||m["@@iterator"]||_[v(m)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,ie,B){var v=o("../internals/an-object"),_=o("../internals/get-iterator-method");ie.exports=function(f){var m=_(f);if("function"!=typeof m)throw TypeError(String(f)+" is not iterable");return v(m.call(f))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,ie,B){(function(v){function _(f){return f&&f.Math==Math&&f}ie.exports=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,ie,B){var v={}.hasOwnProperty;ie.exports=function(_,f){return v.call(_,f)}},{}],62:[function(o,ie,B){ie.exports={}},{}],63:[function(o,ie,B){var v=o("../internals/global");ie.exports=function(_,f){var m=v.console;m&&m.error&&(1===arguments.length?m.error(_):m.error(_,f))}},{"../internals/global":60}],64:[function(o,ie,B){o=o("../internals/get-built-in"),ie.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,ie,B){var v=o("../internals/descriptors"),_=o("../internals/fails"),f=o("../internals/document-create-element");ie.exports=!v&&!_(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,ie,B){var v=Math.abs,_=Math.pow,f=Math.floor,m=Math.log,S=Math.LN2;ie.exports={pack:function(w,i,p){var a,u,d,h=new Array(p),g=8*p-i-1,y=(p=(1<<g)-1)>>1,T=23===i?_(2,-24)-_(2,-77):0,z=w<0||0===w&&1/w<0?1:0,G=0;for((w=v(w))!=w||w===1/0?(u=w!=w?1:0,a=p):(a=f(m(w)/S),w*(d=_(2,-a))<1&&(a--,d*=2),2<=(w+=1<=a+y?T/d:T*_(2,1-y))*d&&(a++,d/=2),p<=a+y?(u=0,a=p):1<=a+y?(u=(w*d-1)*_(2,i),a+=y):(u=w*_(2,y-1)*_(2,i),a=0));8<=i;h[G++]=255&u,u/=256,i-=8);for(a=a<<i|u,g+=i;0<g;h[G++]=255&a,a/=256,g-=8);return h[--G]|=128*z,h},unpack:function(w,i){var l,p,a=w.length,u=(1<<(p=8*a-i-1))-1,d=u>>1,h=p-7,g=a-1,y=127&(p=w[g--]);for(p>>=7;0<h;y=256*y+w[g],g--,h-=8);for(l=y&(1<<-h)-1,y>>=-h,h+=i;0<h;l=256*l+w[g],g--,h-=8);if(0===y)y=1-d;else{if(y===u)return l?NaN:p?-1/0:1/0;l+=_(2,i),y-=d}return(p?-1:1)*l*_(2,y-i)}}},{}],67:[function(o,ie,B){var v=o("../internals/fails"),_=o("../internals/classof-raw"),f="".split;ie.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return"String"==_(m)?f.call(m,""):Object(m)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,ie,B){var v=o("../internals/is-object"),_=o("../internals/object-set-prototype-of");ie.exports=function(f,m,S){return _&&"function"==typeof(m=m.constructor)&&m!==S&&v(m=m.prototype)&&m!==S.prototype&&_(f,m),f}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,ie,B){v=v("../internals/shared-store");var _=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(f){return _.call(f)}),ie.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,ie,B){function v(h){S(h,l,{value:{objectID:"O"+ ++a,weakData:{}}})}var _=o("../internals/hidden-keys"),f=o("../internals/is-object"),m=o("../internals/has"),S=o("../internals/object-define-property").f,w=o("../internals/uid"),i=o("../internals/freezing"),l=w("meta"),a=0,u=Object.isExtensible||function(){return!0},d=ie.exports={REQUIRED:!1,fastKey:function(h,g){if(!f(h))return"symbol"==typeof h?h:("string"==typeof h?"S":"P")+h;if(!m(h,l)){if(!u(h))return"F";if(!g)return"E";v(h)}return h[l].objectID},getWeakData:function(h,g){if(!m(h,l)){if(!u(h))return!0;if(!g)return!1;v(h)}return h[l].weakData},onFreeze:function(h){return i&&d.REQUIRED&&u(h)&&!m(h,l)&&v(h),h}};_[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(p,ie,B){var v,_,f,m,S,w,i,l,a=p("../internals/native-weak-map"),y=p("../internals/global"),u=p("../internals/is-object"),d=p("../internals/create-non-enumerable-property"),h=p("../internals/has"),g=p("../internals/shared-key");p=p("../internals/hidden-keys"),y=y.WeakMap,i=a?(v=new y,_=v.get,f=v.has,m=v.set,S=function(T,z){return m.call(v,T,z),z},w=function(T){return _.call(v,T)||{}},function(T){return f.call(v,T)}):(p[l=g("state")]=!0,S=function(T,z){return d(T,l,z),z},w=function(T){return h(T,l)?T[l]:{}},function(T){return h(T,l)}),ie.exports={set:S,get:w,has:i,enforce:function(T){return i(T)?w(T):S(T,{})},getterFor:function(T){return function(z){if(u(z)&&(z=w(z)).type===T)return z;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,ie,B){var v=o("../internals/well-known-symbol"),_=o("../internals/iterators"),f=v("iterator"),m=Array.prototype;ie.exports=function(S){return void 0!==S&&(_.Array===S||m[f]===S)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,ie,B){var v=o("../internals/classof-raw");ie.exports=Array.isArray||function(_){return"Array"==v(_)}},{"../internals/classof-raw":28}],74:[function(o,ie,B){function v(l,a){return(l=S[m(l)])==i||l!=w&&("function"==typeof a?_(a):!!a)}var _=o("../internals/fails"),f=/#|\.prototype\./,m=v.normalize=function(l){return String(l).replace(f,".").toLowerCase()},S=v.data={},w=v.NATIVE="N",i=v.POLYFILL="P";ie.exports=v},{"../internals/fails":51}],75:[function(o,ie,B){ie.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,ie,B){ie.exports=!1},{}],77:[function(o,ie,B){var v=o("../internals/is-object"),_=o("../internals/classof-raw"),f=o("../internals/well-known-symbol")("match");ie.exports=function(m){var S;return v(m)&&(void 0!==(S=m[f])?!!S:"RegExp"==_(m))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,ie,B){function v(l,a){this.stopped=l,this.result=a}var _=o("../internals/an-object"),f=o("../internals/is-array-iterator-method"),m=o("../internals/to-length"),S=o("../internals/function-bind-context"),w=o("../internals/get-iterator-method"),i=o("../internals/call-with-safe-iteration-closing");(ie.exports=function(l,a,u,d,h){var g,p,y,T,z,G,N=S(a,u,d?2:1);if(h)g=l;else{if("function"!=typeof(a=w(l)))throw TypeError("Target is not iterable");if(f(a)){for(p=0,y=m(l.length);p<y;p++)if((T=d?N(_(G=l[p])[0],G[1]):N(l[p]))&&T instanceof v)return T;return new v(!1)}g=a.call(l)}for(z=g.next;!(G=z.call(g)).done;)if("object"==typeof(T=i(g,N,G.value,d))&&T&&T instanceof v)return T;return new v(!1)}).stop=function(l){return new v(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(w,ie,B){"use strict";var v,_,f=w("../internals/object-get-prototype-of"),m=w("../internals/create-non-enumerable-property"),S=w("../internals/has"),i=w("../internals/well-known-symbol"),l=(w=w("../internals/is-pure"),i=i("iterator"),!1);[].keys&&("next"in(_=[].keys())?(f=f(f(_)))!==Object.prototype&&(v=f):l=!0),null==v&&(v={}),w||S(v,i)||m(v,i,function(){return this}),ie.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,ie,B){ie.exports={}},{}],81:[function(o,ie,B){ie.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(d,ie,B){var v,_,f,m,S,w,i,l,a=d("../internals/global"),z=d("../internals/object-get-own-property-descriptor").f,T=d("../internals/classof-raw"),u=d("../internals/task").set,h=(d=d("../internals/engine-is-ios"),a.MutationObserver||a.WebKitMutationObserver),g=a.process,p=a.Promise,y="process"==T(g);T=z(a,"queueMicrotask"),(z=T&&T.value)||(v=function(){var G,N;for(y&&(G=g.domain)&&G.exit();_;){N=_.fn,_=_.next;try{N()}catch(k){throw _?m():f=void 0,k}}f=void 0,G&&G.enter()},m=y?function(){g.nextTick(v)}:h&&!d?(S=!0,w=document.createTextNode(""),new h(v).observe(w,{characterData:!0}),function(){w.data=S=!S}):p&&p.resolve?(i=p.resolve(void 0),l=i.then,function(){l.call(i,v)}):function(){u.call(a,v)}),ie.exports=z||function(G){G={fn:G,next:void 0},f&&(f.next=G),_||(_=G,m()),f=G}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,ie,B){o=o("../internals/global"),ie.exports=o.Promise},{"../internals/global":60}],84:[function(o,ie,B){o=o("../internals/fails"),ie.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,ie,B){var v=o("../internals/fails"),_=o("../internals/well-known-symbol"),f=o("../internals/is-pure"),m=_("iterator");ie.exports=!v(function(){var S=new URL("b?a=1&b=2&c=3","http://a"),w=S.searchParams,i="";return S.pathname="c%20d",w.forEach(function(l,a){w.delete("b"),i+=a+l}),f&&!S.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==S.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[m]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,ie,B){var _=v("../internals/global");v=v("../internals/inspect-source"),ie.exports="function"==typeof(_=_.WeakMap)&&/native code/.test(v(_))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,ie,B){"use strict";function v(f){var m,S;this.promise=new f(function(w,i){if(void 0!==m||void 0!==S)throw TypeError("Bad Promise constructor");m=w,S=i}),this.resolve=_(m),this.reject=_(S)}var _=o("../internals/a-function");ie.exports.f=function(f){return new v(f)}},{"../internals/a-function":5}],88:[function(o,ie,B){var v=o("../internals/is-regexp");ie.exports=function(_){if(v(_))throw TypeError("The method doesn't accept regular expressions");return _}},{"../internals/is-regexp":77}],89:[function(o,ie,B){var v=o("../internals/global").isFinite;ie.exports=Number.isFinite||function(_){return"number"==typeof _&&v(_)}},{"../internals/global":60}],90:[function(o,ie,B){"use strict";var v=o("../internals/descriptors"),_=o("../internals/fails"),f=o("../internals/object-keys"),m=o("../internals/object-get-own-property-symbols"),S=o("../internals/object-property-is-enumerable"),w=o("../internals/to-object"),i=o("../internals/indexed-object"),l=Object.assign,a=Object.defineProperty;ie.exports=!l||_(function(){var u,d,h,g;return!(!v||1===l({b:1},l(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(d={},g="abcdefghijklmnopqrst",(u={})[h=Symbol()]=7,g.split("").forEach(function(p){d[p]=p}),7!=l({},u)[h]||f(l({},d)).join("")!=g)})?function(u,d){for(var h=w(u),g=arguments.length,p=1,y=m.f,T=S.f;p<g;)for(var z,G=i(arguments[p++]),N=y?f(G).concat(y(G)):f(G),k=N.length,X=0;X<k;)z=N[X++],v&&!T.call(G,z)||(h[z]=G[z]);return h}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,ie,B){function v(){}var _,f=a("../internals/an-object"),m=a("../internals/object-define-properties"),S=a("../internals/enum-bug-keys"),w=a("../internals/hidden-keys"),i=a("../internals/html"),l=a("../internals/document-create-element"),u=(a=a("../internals/shared-key"),"prototype"),d="script",h=a("IE_PROTO"),g=function(y){return"<"+d+">"+y+"</"+d+">"},p=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}p=_?((y=_).write(g("")),y.close(),T=y.parentWindow.Object,y=null,T):(y=l("iframe"),T="java"+d+":",y.style.display="none",i.appendChild(y),y.src=String(T),(T=y.contentWindow.document).open(),T.write(g("document.F=Object")),T.close(),T.F);for(var y,T,z=S.length;z--;)delete p[u][S[z]];return p()};w[h]=!0,ie.exports=Object.create||function(y,T){var z;return null!==y?(v[u]=f(y),z=new v,v[u]=null,z[h]=y):z=p(),void 0===T?z:m(z,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,ie,B){var v=o("../internals/descriptors"),_=o("../internals/object-define-property"),f=o("../internals/an-object"),m=o("../internals/object-keys");ie.exports=v?Object.defineProperties:function(S,w){f(S);for(var i,l=m(w),a=l.length,u=0;u<a;)_.f(S,i=l[u++],w[i]);return S}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,ie,B){var v=o("../internals/descriptors"),_=o("../internals/ie8-dom-define"),f=o("../internals/an-object"),m=o("../internals/to-primitive"),S=Object.defineProperty;B.f=v?S:function(w,i,l){if(f(w),i=m(i,!0),f(l),_)try{return S(w,i,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(w[i]=l.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,ie,B){var v=o("../internals/descriptors"),_=o("../internals/object-property-is-enumerable"),f=o("../internals/create-property-descriptor"),m=o("../internals/to-indexed-object"),S=o("../internals/to-primitive"),w=o("../internals/has"),i=o("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;B.f=v?l:function(a,u){if(a=m(a),u=S(u,!0),i)try{return l(a,u)}catch{}if(w(a,u))return f(!_.f.call(a,u),a[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,ie,B){var v=o("../internals/to-indexed-object"),_=o("../internals/object-get-own-property-names").f,f={}.toString,m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ie.exports.f=function(S){if(!m||"[object Window]"!=f.call(S))return _(v(S));try{return _(S)}catch{return m.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,ie,B){var v=o("../internals/object-keys-internal"),_=o("../internals/enum-bug-keys").concat("length","prototype");B.f=Object.getOwnPropertyNames||function(f){return v(f,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,ie,B){B.f=Object.getOwnPropertySymbols},{}],98:[function(m,ie,B){var v=m("../internals/has"),_=m("../internals/to-object"),f=m("../internals/shared-key"),S=(m=m("../internals/correct-prototype-getter"),f("IE_PROTO")),w=Object.prototype;ie.exports=m?Object.getPrototypeOf:function(i){return i=_(i),v(i,S)?i[S]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,ie,B){var v=o("../internals/has"),_=o("../internals/to-indexed-object"),f=o("../internals/array-includes").indexOf,m=o("../internals/hidden-keys");ie.exports=function(S,w){var i,l=_(S),a=0,u=[];for(i in l)!v(m,i)&&v(l,i)&&u.push(i);for(;w.length>a;)!v(l,i=w[a++])||~f(u,i)||u.push(i);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,ie,B){var v=o("../internals/object-keys-internal"),_=o("../internals/enum-bug-keys");ie.exports=Object.keys||function(f){return v(f,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,ie,B){"use strict";var v={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,f=_&&!v.call({1:2},1);B.f=f?function(m){return!!(m=_(this,m))&&m.enumerable}:v},{}],102:[function(o,ie,B){var v=o("../internals/an-object"),_=o("../internals/a-possible-prototype");ie.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,m=!1,S={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(S,[]),m=S instanceof Array}catch{}return function(w,i){return v(w),_(i),m?f.call(w,i):w.__proto__=i,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,ie,B){function v(w){return function(i){for(var l,a=m(i),u=f(a),d=u.length,h=0,g=[];h<d;)l=u[h++],_&&!S.call(a,l)||g.push(w?[l,a[l]]:a[l]);return g}}var _=o("../internals/descriptors"),f=o("../internals/object-keys"),m=o("../internals/to-indexed-object"),S=o("../internals/object-property-is-enumerable").f;ie.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,ie,B){"use strict";var v=o("../internals/to-string-tag-support"),_=o("../internals/classof");ie.exports=v?{}.toString:function(){return"[object "+_(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,ie,B){var v=o("../internals/get-built-in"),_=o("../internals/object-get-own-property-names"),f=o("../internals/object-get-own-property-symbols"),m=o("../internals/an-object");ie.exports=v("Reflect","ownKeys")||function(S){var w=_.f(m(S)),i=f.f;return i?w.concat(i(S)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,ie,B){o=o("../internals/global"),ie.exports=o},{"../internals/global":60}],107:[function(o,ie,B){ie.exports=function(v){try{return{error:!1,value:v()}}catch(_){return{error:!0,value:_}}}},{}],108:[function(o,ie,B){var v=o("../internals/an-object"),_=o("../internals/is-object"),f=o("../internals/new-promise-capability");ie.exports=function(m,S){return v(m),_(S)&&S.constructor===m?S:((0,(m=f.f(m)).resolve)(S),m.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,ie,B){var v=o("../internals/redefine");ie.exports=function(_,f,m){for(var S in f)v(_,S,f[S],m);return _}},{"../internals/redefine":110}],110:[function(w,ie,B){var v=w("../internals/global"),_=w("../internals/create-non-enumerable-property"),f=w("../internals/has"),m=w("../internals/set-global"),S=w("../internals/inspect-source"),i=(w=w("../internals/internal-state")).get,l=w.enforce,a=String(String).split("String");(ie.exports=function(u,d,h,T){var p=!!T&&!!T.unsafe,y=!!T&&!!T.enumerable;T=!!T&&!!T.noTargetGet,"function"==typeof h&&("string"!=typeof d||f(h,"name")||_(h,"name",d),l(h).source=a.join("string"==typeof d?d:"")),u===v?y?u[d]=h:m(d,h):(p?!T&&u[d]&&(y=!0):delete u[d],y?u[d]=h:_(u,d,h))})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||S(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,ie,B){var v=o("./classof-raw"),_=o("./regexp-exec");ie.exports=function(f,m){var S=f.exec;if("function"==typeof S){if("object"!=typeof(S=S.call(f,m)))throw TypeError("RegExp exec method returned something other than an Object or null");return S}if("RegExp"!==v(f))throw TypeError("RegExp#exec called on incompatible receiver");return _.call(f,m)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(m,ie,B){"use strict";var v,_,f=m("./regexp-flags"),S=(m=m("./regexp-sticky-helpers"),RegExp.prototype.exec),w=String.prototype.replace,i=S,l=(_=/b*/g,S.call(v=/a/,"a"),S.call(_,"a"),0!==v.lastIndex||0!==_.lastIndex),a=m.UNSUPPORTED_Y||m.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];ie.exports=i=l||u||a?function(d){var h,g,p,y,T=this,z=a&&T.sticky,G=f.call(T),N=T.source,k=0,X=d;return z&&(-1===(G=G.replace("y","")).indexOf("g")&&(G+="g"),X=String(d).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&"\n"!==d[T.lastIndex-1])&&(N="(?: "+N+")",X=" "+X,k++),g=new RegExp("^(?:"+N+")",G)),u&&(g=new RegExp("^"+N+"$(?!\\s)",G)),l&&(h=T.lastIndex),p=S.call(z?g:T,X),z?p?(p.input=p.input.slice(k),p[0]=p[0].slice(k),p.index=T.lastIndex,T.lastIndex+=p[0].length):T.lastIndex=0:l&&p&&(T.lastIndex=T.global?p.index+p[0].length:h),u&&p&&1<p.length&&w.call(p[0],g,function(){for(y=1;y<arguments.length-2;y++)void 0===arguments[y]&&(p[y]=void 0)}),p}:i},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,ie,B){"use strict";var v=o("../internals/an-object");ie.exports=function(){var _=v(this),f="";return _.global&&(f+="g"),_.ignoreCase&&(f+="i"),_.multiline&&(f+="m"),_.dotAll&&(f+="s"),_.unicode&&(f+="u"),_.sticky&&(f+="y"),f}},{"../internals/an-object":10}],114:[function(o,ie,B){"use strict";function v(_,f){return RegExp(_,f)}o=o("./fails"),B.UNSUPPORTED_Y=o(function(){var _=v("a","y");return _.lastIndex=2,null!=_.exec("abcd")}),B.BROKEN_CARET=o(function(){var _=v("^r","gy");return _.lastIndex=2,null!=_.exec("str")})},{"./fails":51}],115:[function(o,ie,B){ie.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,ie,B){ie.exports=Object.is||function(v,_){return v===_?0!==v||1/v==1/_:v!=v&&_!=_}},{}],117:[function(o,ie,B){var v=o("../internals/global"),_=o("../internals/create-non-enumerable-property");ie.exports=function(f,m){try{_(v,f,m)}catch{v[f]=m}return m}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,ie,B){"use strict";var v=o("../internals/get-built-in"),_=o("../internals/object-define-property"),f=o("../internals/well-known-symbol"),m=o("../internals/descriptors"),S=f("species");ie.exports=function(i){i=v(i),m&&i&&!i[S]&&(0,_.f)(i,S,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,ie,B){var v=o("../internals/object-define-property").f,_=o("../internals/has"),f=o("../internals/well-known-symbol")("toStringTag");ie.exports=function(m,S,w){m&&!_(m=w?m:m.prototype,f)&&v(m,f,{configurable:!0,value:S})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,ie,B){var v=o("../internals/shared"),_=o("../internals/uid"),f=v("keys");ie.exports=function(m){return f[m]||(f[m]=_(m))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,ie,B){var f=v("../internals/global"),_=(v=v("../internals/set-global"),"__core-js_shared__");f=f[_]||v(_,{}),ie.exports=f},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,ie,B){var v=o("../internals/is-pure"),_=o("../internals/shared-store");(ie.exports=function(f,m){return _[f]||(_[f]=void 0!==m?m:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,ie,B){var v=o("../internals/an-object"),_=o("../internals/a-function"),f=o("../internals/well-known-symbol")("species");ie.exports=function(w,S){return void 0===(w=v(w).constructor)||null==(w=v(w)[f])?S:_(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,ie,B){var v=o("../internals/fails");ie.exports=function(_){return v(function(){var f=""[_]('"');return f!==f.toLowerCase()||3<f.split('"').length})}},{"../internals/fails":51}],125:[function(o,ie,B){function v(m){return function(l,a){l=String(f(l)),a=_(a);var i,u=l.length;return a<0||u<=a?m?"":void 0:(i=l.charCodeAt(a))<55296||56319<i||a+1===u||(u=l.charCodeAt(a+1))<56320||57343<u?m?l.charAt(a):i:m?l.slice(a,a+2):u-56320+(i-55296<<10)+65536}}var _=o("../internals/to-integer"),f=o("../internals/require-object-coercible");ie.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,ie,B){o=o("../internals/engine-user-agent"),ie.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,ie,B){function v(w){return function(u,g,h){var d=(u=String(m(u))).length;return h=void 0===h?" ":String(h),(g=_(g))<=d||""==h?u:((d=f.call(h,S((g-=d)/h.length))).length>g&&(d=d.slice(0,g)),w?u+d:d+u)}}var _=o("../internals/to-length"),f=o("../internals/string-repeat"),m=o("../internals/require-object-coercible"),S=Math.ceil;ie.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,ie,B){"use strict";function v(p){return p+22+75*(p<26)}function _(p){var y,T=[],z=(p=function(Z){for(var le=[],xe=0,q=Z.length;xe<q;){var j,oe=Z.charCodeAt(xe++);55296<=oe&&oe<=56319&&xe<q?56320==(64512&(j=Z.charCodeAt(xe++)))?le.push(((1023&oe)<<10)+(1023&j)+65536):(le.push(oe),xe--):le.push(oe)}return le}(p)).length,G=128,N=0,k=72;for(P=0;P<p.length;P++)(y=p[P])<128&&T.push(g(y));var X=T.length,D=X;for(X&&T.push("-");D<z;){for(var O=f,P=0;P<p.length;P++)G<=(y=p[P])&&y<O&&(O=y);var J=D+1;if(O-G>h((f-N)/J))throw RangeError(u);for(N+=(O-G)*J,G=O,P=0;P<p.length;P++){if((y=p[P])<G&&++N>f)throw RangeError(u);if(y==G){for(var re=N,$=m;;$+=m){var Q=$<=k?1:k+S<=$?S:$-k;if(re<Q)break;var V=re-Q,H=m-Q;T.push(g(v(Q+V%H))),re=h(V/H)}T.push(g(v(re))),k=function(Z,le,xe){var q=0;for(Z=xe?h(Z/i):Z>>1,Z+=h(Z/le);d*S>>1<Z;q+=m)Z=h(Z/d);return h(q+(d+1)*Z/(Z+w))}(N,J,D==X),N=0,++D}}++N,++G}return T.join("")}var f=2147483647,m=36,S=26,w=38,i=700,l=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",d=m-1,h=Math.floor,g=String.fromCharCode;ie.exports=function(p){for(var y,T=[],z=p.toLowerCase().replace(a,".").split("."),G=0;G<z.length;G++)T.push(l.test(y=z[G])?"xn--"+_(y):y);return T.join(".")}},{}],129:[function(o,ie,B){"use strict";var v=o("../internals/to-integer"),_=o("../internals/require-object-coercible");ie.exports="".repeat||function(f){var m=String(_(this)),S="",w=v(f);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(m+=m))1&w&&(S+=m);return S}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,ie,B){var v=o("../internals/fails"),_=o("../internals/whitespaces");ie.exports=function(f){return v(function(){return!!_[f]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[f]()||_[f].name!==f})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(f,ie,B){function v(w){return function(i){return i=String(_(i)),1&w&&(i=i.replace(m,"")),2&w?i.replace(S,""):i}}var _=f("../internals/require-object-coercible"),m=(f="["+f("../internals/whitespaces")+"]",RegExp("^"+f+f+"*")),S=RegExp(f+f+"*$");ie.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(d,ie,B){function v(D){return function(){X(D)}}function _(D){X(D.data)}function f(D){S.postMessage(D+"",h.protocol+"//"+h.host)}var m,S=d("../internals/global"),w=d("../internals/fails"),i=d("../internals/classof-raw"),l=d("../internals/function-bind-context"),a=d("../internals/html"),u=d("../internals/document-create-element"),h=(d=d("../internals/engine-is-ios"),S.location),g=S.setImmediate,p=S.clearImmediate,y=S.process,T=S.MessageChannel,z=S.Dispatch,G=0,N={},k="onreadystatechange",X=function(D){var O;N.hasOwnProperty(D)&&(O=N[D],delete N[D],O())};g&&p||(g=function(D){for(var O=[],P=1;P<arguments.length;)O.push(arguments[P++]);return N[++G]=function(){("function"==typeof D?D:Function(D)).apply(void 0,O)},m(G),G},p=function(D){delete N[D]},"process"==i(y)?m=function(D){y.nextTick(v(D))}:z&&z.now?m=function(D){z.now(v(D))}:T&&!d?(d=(i=new T).port2,i.port1.onmessage=_,m=l(d.postMessage,d,1)):!S.addEventListener||"function"!=typeof postMessage||S.importScripts||w(f)||"file:"===h.protocol?m=k in u("script")?function(D){a.appendChild(u("script"))[k]=function(){a.removeChild(this),X(D)}}:function(D){setTimeout(v(D),0)}:(m=f,S.addEventListener("message",_,!1))),ie.exports={set:g,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,ie,B){var v=o("../internals/classof-raw");ie.exports=function(_){if("number"!=typeof _&&"Number"!=v(_))throw TypeError("Incorrect invocation");return+_}},{"../internals/classof-raw":28}],134:[function(o,ie,B){var v=o("../internals/to-integer"),_=Math.max,f=Math.min;ie.exports=function(m,S){return(m=v(m))<0?_(m+S,0):f(m,S)}},{"../internals/to-integer":137}],135:[function(o,ie,B){var v=o("../internals/to-integer"),_=o("../internals/to-length");ie.exports=function(m){if(void 0===m)return 0;m=v(m);var S=_(m);if(m!==S)throw RangeError("Wrong length or index");return S}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,ie,B){var v=o("../internals/indexed-object"),_=o("../internals/require-object-coercible");ie.exports=function(f){return v(_(f))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,ie,B){var v=Math.ceil,_=Math.floor;ie.exports=function(f){return isNaN(f=+f)?0:(0<f?_:v)(f)}},{}],138:[function(o,ie,B){var v=o("../internals/to-integer"),_=Math.min;ie.exports=function(f){return 0<f?_(v(f),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,ie,B){var v=o("../internals/require-object-coercible");ie.exports=function(_){return Object(v(_))}},{"../internals/require-object-coercible":115}],140:[function(o,ie,B){var v=o("../internals/to-positive-integer");ie.exports=function(_,f){if((_=v(_))%f)throw RangeError("Wrong offset");return _}},{"../internals/to-positive-integer":141}],141:[function(o,ie,B){var v=o("../internals/to-integer");ie.exports=function(_){if((_=v(_))<0)throw RangeError("The argument can't be less than 0");return _}},{"../internals/to-integer":137}],142:[function(o,ie,B){var v=o("../internals/is-object");ie.exports=function(_,f){if(!v(_))return _;var m,S;if(f&&"function"==typeof(m=_.toString)&&!v(S=m.call(_))||"function"==typeof(m=_.valueOf)&&!v(S=m.call(_))||!f&&"function"==typeof(m=_.toString)&&!v(S=m.call(_)))return S;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,ie,B){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",ie.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,ie,B){"use strict";function v(Ze,pt){for(var kt=0,ir=pt.length,zt=new(Be(Ze))(ir);kt<ir;)zt[kt]=pt[kt++];return zt}function _(Ze,pt){j(Ze,pt,{get:function(){return xe(this)[pt]}})}function f(Ze){return Ze instanceof Le||"ArrayBuffer"==(Ze=X(Ze))||"SharedArrayBuffer"==Ze}function m(Ze,pt){return st(Ze)&&"symbol"!=typeof pt&&pt in Ze&&String(+pt)==String(pt)}function S(Ze,pt){return m(Ze,pt=N(pt,!0))?p(2,Ze[pt]):oe(Ze,pt)}function w(Ze,pt,kt){return!(m(Ze,pt=N(pt,!0))&&D(kt)&&k(kt,"value"))||k(kt,"get")||k(kt,"set")||kt.configurable||k(kt,"writable")&&!kt.writable||k(kt,"enumerable")&&!kt.enumerable?j(Ze,pt,kt):(Ze[pt]=kt.value,Ze)}var i=o("../internals/export"),l=o("../internals/global"),a=o("../internals/descriptors"),u=o("../internals/typed-array-constructors-require-wrappers"),d=o("../internals/array-buffer-view-core"),h=o("../internals/array-buffer"),g=o("../internals/an-instance"),p=o("../internals/create-property-descriptor"),y=o("../internals/create-non-enumerable-property"),T=o("../internals/to-length"),z=o("../internals/to-index"),G=o("../internals/to-offset"),N=o("../internals/to-primitive"),k=o("../internals/has"),X=o("../internals/classof"),D=o("../internals/is-object"),O=o("../internals/object-create"),P=o("../internals/object-set-prototype-of"),J=o("../internals/object-get-own-property-names").f,re=o("../internals/typed-array-from"),$=o("../internals/array-iteration").forEach,Q=o("../internals/set-species"),V=o("../internals/object-define-property"),H=o("../internals/object-get-own-property-descriptor"),Z=o("../internals/internal-state"),le=o("../internals/inherit-if-required"),xe=Z.get,q=Z.set,j=V.f,oe=H.f,me=Math.round,Se=l.RangeError,Le=h.ArrayBuffer,Xe=h.DataView,lt=d.NATIVE_ARRAY_BUFFER_VIEWS,He=d.TYPED_ARRAY_TAG,nt=d.TypedArray,at=d.TypedArrayPrototype,Be=d.aTypedArrayConstructor,st=d.isTypedArray,Ye="BYTES_PER_ELEMENT",it="Wrong length";a?(lt||(H.f=S,V.f=w,_(at,"buffer"),_(at,"byteOffset"),_(at,"byteLength"),_(at,"length")),i({target:"Object",stat:!0,forced:!lt},{getOwnPropertyDescriptor:S,defineProperty:w}),ie.exports=function(jt,pt,kt){function ir($t,Ve){j($t,Ve,{get:function(){var We=this,Re=Ve;return(We=xe(We)).view[Ht](Re*zt+We.byteOffset,!0)},set:function(We){var Re=this,Qe=Ve;Re=xe(Re),kt&&(We=(We=me(We))<0?0:255<We?255:255&We),Re.view[br](Qe*zt+Re.byteOffset,We,!0)},enumerable:!0})}var zt=jt.match(/\d+$/)[0]/8,hr=jt+(kt?"Clamped":"")+"Array",Ht="get"+jt,br="set"+jt,Bt=l[hr],fr=Bt,ar=(jt=fr&&fr.prototype,{});lt?u&&(fr=pt(function($t,Ve,We,Re){return g($t,fr,hr),le(D(Ve)?f(Ve)?void 0!==Re?new Bt(Ve,G(We,zt),Re):void 0!==We?new Bt(Ve,G(We,zt)):new Bt(Ve):st(Ve)?v(fr,Ve):re.call(fr,Ve):new Bt(z(Ve)),$t,fr)}),P&&P(fr,nt),$(J(Bt),function($t){$t in fr||y(fr,$t,Bt[$t])}),fr.prototype=jt):(fr=pt(function($t,Ve,We,Re){g($t,fr,hr);var Qe,Ot,qt=0,nr=0;if(D(Ve)){if(!f(Ve))return st(Ve)?v(fr,Ve):re.call(fr,Ve);var Ct=Ve;if(nr=G(We,zt),We=Ve.byteLength,void 0===Re){if(We%zt||(Qe=We-nr)<0)throw Se(it)}else if(We<(Qe=T(Re)*zt)+nr)throw Se(it);Ot=Qe/zt}else Ot=z(Ve),Ct=new Le(Qe=Ot*zt);for(q($t,{buffer:Ct,byteOffset:nr,byteLength:Qe,length:Ot,view:new Xe(Ct)});qt<Ot;)ir($t,qt++)}),P&&P(fr,nt),jt=fr.prototype=O(at)),jt.constructor!==fr&&y(jt,"constructor",fr),He&&y(jt,He,hr),ar[hr]=fr,i({global:!0,forced:fr!=Bt,sham:!lt},ar),Ye in fr||y(fr,Ye,zt),Ye in jt||y(jt,Ye,zt),Q(hr)}):ie.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(m,ie,B){var v=m("../internals/global"),_=m("../internals/fails"),f=m("../internals/check-correctness-of-iteration"),S=(m=m("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),w=v.Int8Array;ie.exports=!m||!_(function(){w(1)})||!_(function(){new w(-1)})||!f(function(i){new w,new w(null),new w(1.5),new w(i)},!0)||_(function(){return 1!==new w(new S(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,ie,B){var v=o("../internals/to-object"),_=o("../internals/to-length"),f=o("../internals/get-iterator-method"),m=o("../internals/is-array-iterator-method"),S=o("../internals/function-bind-context"),w=o("../internals/array-buffer-view-core").aTypedArrayConstructor;ie.exports=function(i){var l,a,u,d,h,g,p=v(i),y=arguments.length,T=1<y?arguments[1]:void 0,z=void 0!==T,G=f(p);if(null!=G&&!m(G))for(g=(h=G.call(p)).next,p=[];!(d=g.call(h)).done;)p.push(d.value);for(z&&2<y&&(T=S(T,arguments[2],2)),a=_(p.length),u=new(w(this))(a),l=0;l<a;l++)u[l]=z?T(p[l],l):p[l];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,ie,B){var v=0,_=Math.random();ie.exports=function(f){return"Symbol("+String(void 0===f?"":f)+")_"+(++v+_).toString(36)}},{}],148:[function(o,ie,B){o=o("../internals/native-symbol"),ie.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,ie,B){o=o("../internals/well-known-symbol"),B.f=o},{"../internals/well-known-symbol":150}],150:[function(w,ie,B){var v=w("../internals/global"),_=w("../internals/shared"),f=w("../internals/has"),m=w("../internals/uid"),S=w("../internals/native-symbol"),i=(w=w("../internals/use-symbol-as-uid"),_("wks")),l=v.Symbol,a=w?l:l&&l.withoutSetter||m;ie.exports=function(u){return f(i,u)||(i[u]=S&&f(l,u)?l[u]:a("Symbol."+u)),i[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,ie,B){ie.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(f,ie,B){"use strict";var v=f("../internals/export"),_=f("../internals/global"),S=f("../internals/array-buffer"),m=(f=f("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:_[m]!==(S=S[m])},{ArrayBuffer:S}),f(m)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(p,ie,B){"use strict";var v=p("../internals/export"),_=p("../internals/fails"),f=p("../internals/is-array"),m=p("../internals/is-object"),S=p("../internals/to-object"),w=p("../internals/to-length"),i=p("../internals/create-property"),l=p("../internals/array-species-create"),a=p("../internals/array-method-has-species-support"),g=p("../internals/well-known-symbol"),u=(p=p("../internals/engine-v8-version"),g("isConcatSpreadable")),d=9007199254740991,h="Maximum allowed index exceeded";g=51<=p||!_(function(){var y=[];return y[u]=!1,y.concat()[0]!==y}),p=a("concat"),v({target:"Array",proto:!0,forced:!g||!p},{concat:function(y){for(var T,z,G,N,k,X=S(this),D=l(X,0),O=0,P=-1,J=arguments.length;P<J;P++)if(k=void 0,m(N=G=-1===P?X:arguments[P])&&(void 0!==(k=N[u])?k:f(N))){if(z=w(G.length),d<O+z)throw TypeError(h);for(T=0;T<z;T++,O++)T in G&&i(D,O,G[T])}else{if(d<=O)throw TypeError(h);i(D,O++,G)}return D.length=O,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(f,ie,B){var v=f("../internals/export"),_=f("../internals/array-copy-within");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:_}),f("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(m,ie,B){"use strict";var v=m("../internals/export"),_=m("../internals/array-iteration").every,f=m("../internals/array-method-is-strict");m=m("../internals/array-method-uses-to-length"),f=f("every"),m=m("every"),v({target:"Array",proto:!0,forced:!f||!m},{every:function(S){return _(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(f,ie,B){var v=f("../internals/export"),_=f("../internals/array-fill");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:_}),f("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(m,ie,B){"use strict";var v=m("../internals/export"),_=m("../internals/array-iteration").filter,f=m("../internals/array-method-has-species-support");m=m("../internals/array-method-uses-to-length"),f=f("filter"),m=m("filter"),v({target:"Array",proto:!0,forced:!f||!m},{filter:function(S){return _(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(w,ie,B){"use strict";var v=w("../internals/export"),_=w("../internals/array-iteration").findIndex,f=w("../internals/add-to-unscopables"),m=(w=w("../internals/array-method-uses-to-length"),"findIndex"),S=!0;w=w(m),m in[]&&Array(1)[m](function(){S=!1}),v({target:"Array",proto:!0,forced:S||!w},{findIndex:function(i){return _(this,i,1<arguments.length?arguments[1]:void 0)}}),f(m)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/flatten-into-array"),f=o("../internals/to-object"),m=o("../internals/to-length"),S=o("../internals/a-function"),w=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(i){var l,a=f(this),u=m(a.length);return S(i),(l=w(a,0)).length=_(l,a,a,u,0,1,i,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/flatten-into-array"),f=o("../internals/to-object"),m=o("../internals/to-length"),S=o("../internals/to-integer"),w=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var i=arguments.length?arguments[0]:void 0,l=f(this),a=m(l.length),u=w(l,0);return u.length=_(u,l,l,a,0,void 0===i?1:S(i)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(_,ie,B){"use strict";var v=_("../internals/export");_=_("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,ie,B){var v=o("../internals/export"),_=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(f){Array.from(f)})},{from:_})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/array-includes").includes,f=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(m){return _(this,m,1<arguments.length?arguments[1]:void 0)}}),f("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(w,ie,B){"use strict";var v=w("../internals/export"),_=w("../internals/array-includes").indexOf,S=w("../internals/array-method-is-strict"),f=(w=w("../internals/array-method-uses-to-length"),[].indexOf),m=!!f&&1/[1].indexOf(1,-0)<0;S=S("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:m||!S||!w},{indexOf:function(i){return m?f.apply(this,arguments)||0:_(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(S,ie,B){"use strict";var v=S("../internals/to-indexed-object"),_=S("../internals/add-to-unscopables"),f=S("../internals/iterators"),m=S("../internals/internal-state"),w=(S=S("../internals/define-iterator"),"Array Iterator"),i=m.set,l=m.getterFor(w);ie.exports=S(Array,"Array",function(a,u){i(this,{type:w,target:v(a),index:0,kind:u})},function(){var a=l(this),u=a.target,d=a.kind,h=a.index++;return!u||h>=u.length?{value:a.target=void 0,done:!0}:"keys"==d?{value:h,done:!1}:"values"==d?{value:u[h],done:!1}:{value:[h,u[h]],done:!1}},"values"),f.Arguments=f.Array,_("keys"),_("values"),_("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(S,ie,B){"use strict";var v=S("../internals/export"),m=S("../internals/indexed-object"),_=S("../internals/to-indexed-object"),f=(S=S("../internals/array-method-is-strict"),[].join);m=m!=Object,S=S("join",","),v({target:"Array",proto:!0,forced:m||!S},{join:function(w){return f.call(_(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(_,ie,B){_("../internals/export")({target:"Array",proto:!0,forced:(_=_("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:_})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(m,ie,B){"use strict";var v=m("../internals/export"),_=m("../internals/array-iteration").map,f=m("../internals/array-method-has-species-support");m=m("../internals/array-method-uses-to-length"),f=f("map"),m=m("map"),v({target:"Array",proto:!0,forced:!f||!m},{map:function(S){return _(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(u,ie,B){"use strict";var v=u("../internals/export"),_=u("../internals/is-object"),f=u("../internals/is-array"),m=u("../internals/to-absolute-index"),S=u("../internals/to-length"),w=u("../internals/to-indexed-object"),i=u("../internals/create-property"),l=u("../internals/well-known-symbol"),a=u("../internals/array-method-has-species-support"),d=(u=u("../internals/array-method-uses-to-length"),a=a("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),h=[].slice,g=Math.max;v({target:"Array",proto:!0,forced:!a||!u},{slice:function(p,y){var T,z,G,N=w(this),k=S(N.length),X=m(p,k),D=m(void 0===y?k:y,k);if(f(N)&&((T="function"==typeof(T=N.constructor)&&(T===Array||f(T.prototype))||_(T)&&null===(T=T[d])?void 0:T)===Array||void 0===T))return h.call(N,X,D);for(z=new(void 0===T?Array:T)(g(D-X,0)),G=0;X<D;X++,G++)X in N&&i(z,G,N[X]);return z.length=G,z}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(m,ie,B){"use strict";var v=m("../internals/export"),_=m("../internals/array-iteration").some,f=m("../internals/array-method-is-strict");m=m("../internals/array-method-uses-to-length"),f=f("some"),m=m("some"),v({target:"Array",proto:!0,forced:!f||!m},{some:function(S){return _(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,ie,B){"use strict";var v=a("../internals/export"),_=a("../internals/to-absolute-index"),f=a("../internals/to-integer"),m=a("../internals/to-length"),S=a("../internals/to-object"),w=a("../internals/array-species-create"),i=a("../internals/create-property"),l=a("../internals/array-method-has-species-support"),u=(a=a("../internals/array-method-uses-to-length"),l=l("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),d=Math.min;v({target:"Array",proto:!0,forced:!l||!a},{splice:function(O,g){var p,y,T,z,G,N,k=S(this),X=m(k.length),D=_(O,X);if(0===(O=arguments.length)?p=y=0:y=1===O?(p=0,X-D):(p=O-2,d(u(f(g),0),X-D)),9007199254740991<X+p-y)throw TypeError("Maximum allowed length exceeded");for(T=w(k,y),z=0;z<y;z++)(G=D+z)in k&&i(T,z,k[G]);if(p<(T.length=y)){for(z=D;z<X-y;z++)N=z+p,(G=z+y)in k?k[N]=k[G]:delete k[N];for(z=X;X-y+p<z;z--)delete k[z-1]}else if(y<p)for(z=X-y;D<z;z--)N=z+p-1,(G=z+y-1)in k?k[N]=k[G]:delete k[N];for(z=0;z<p;z++)k[z+D]=arguments[z+2];return k.length=X-y+p,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,ie,B){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,ie,B){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(_,ie,B){var v=_("../internals/descriptors"),f=(_=_("../internals/object-define-property").f,Function.prototype),m=f.toString,S=/^\s*function ([^ (]*)/;!v||"name"in f||_(f,"name",{configurable:!0,get:function(){try{return m.call(this).match(S)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(_,ie,B){"use strict";var v=_("../internals/collection");_=_("../internals/collection-strong"),ie.exports=v("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,ie,B){v=v("../internals/export");var _=Math.hypot,f=Math.abs,m=Math.sqrt;v({target:"Math",stat:!0,forced:!!_&&_(1/0,NaN)!==1/0},{hypot:function(S,w){for(var i,l,a=0,u=0,d=arguments.length,h=0;u<d;)h<(i=f(arguments[u++]))?(a=a*(l=h/i)*l+1,h=i):a+=0<i?(l=i/h)*l:i;return h===1/0?1/0:h*m(a)}})},{"../internals/export":50}],177:[function(v,ie,B){v=v("../internals/export");var _=Math.log,f=Math.LN2;v({target:"Math",stat:!0},{log2:function(m){return _(m)/f}})},{"../internals/export":50}],178:[function(o,ie,B){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,ie,B){"use strict";function v(P){var J,re,$,Q,V,H,Z,le=a(P,!1);if("string"==typeof le&&2<le.length)if(43===(P=(le=y(le)).charCodeAt(0))||45===P){if(88===(J=le.charCodeAt(2))||120===J)return NaN}else if(48===P){switch(le.charCodeAt(1)){case 66:case 98:re=2,$=49;break;case 79:case 111:re=8,$=55;break;default:return+le}for(V=(Q=le.slice(2)).length,H=0;H<V;H++)if((Z=Q.charCodeAt(H))<48||$<Z)return NaN;return parseInt(Q,re)}return+le}var _=o("../internals/descriptors"),f=o("../internals/global"),m=o("../internals/is-forced"),S=o("../internals/redefine"),w=o("../internals/has"),i=o("../internals/classof-raw"),l=o("../internals/inherit-if-required"),a=o("../internals/to-primitive"),u=o("../internals/fails"),d=o("../internals/object-create"),h=o("../internals/object-get-own-property-names").f,g=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/object-define-property").f,y=o("../internals/string-trim").trim,T="Number",z=f[T],G=z.prototype,N=i(d(G))==T;if(m(T,!z(" 0o1")||!z("0b1")||z("+0x1"))){for(var k,X=function(J){J=arguments.length<1?0:J;var re=this;return re instanceof X&&(N?u(function(){G.valueOf.call(re)}):i(re)!=T)?l(new z(v(J)),re,X):v(J)},D=_?h(z):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;D.length>O;O++)w(z,k=D[O])&&!w(X,k)&&p(X,k,g(z,k));(X.prototype=G).constructor=X,S(f,T,X)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,ie,B){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,ie,B){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(w,ie,B){"use strict";function v(a,u,d){return 0===u?d:u%2==1?v(a,u-1,d*a):v(a*a,u/2,d)}var _=w("../internals/export"),f=w("../internals/to-integer"),m=w("../internals/this-number-value"),S=w("../internals/string-repeat"),i=(w=w("../internals/fails"),1..toFixed),l=Math.floor;_({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!w(function(){i.call({})})},{toFixed:function(T){function u(k,X){for(var D=-1,O=X;++D<6;)z[D]=(O+=k*z[D])%1e7,O=l(O/1e7)}function d(k){for(var X=6,D=0;0<=--X;)z[X]=l((D+=z[X])/k),D=D%k*1e7}function h(){for(var k,X=6,D="";0<=--X;)""===D&&0!==X&&0===z[X]||(k=String(z[X]),D=""===D?k:D+S.call("0",7-k.length)+k);return D}var g,p,y=m(this),z=(T=f(T),[0,0,0,0,0,0]),G="",N="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(y!=y)return"NaN";if(y<=-1e21||1e21<=y)return String(y);if(y<0&&(G="-",y=-y),1e-21<y)if(y=(g=function(k){for(var X=0,D=k;4096<=D;)X+=12,D/=4096;for(;2<=D;)X+=1,D/=2;return X}(y*v(2,69,1))-69)<0?y*v(2,-g,1):y/v(2,g,1),y*=4503599627370496,0<(g=52-g)){for(u(0,y),p=T;7<=p;)u(1e7,0),p-=7;for(u(v(10,p,1),0),p=g-1;23<=p;)d(1<<23),p-=23;d(1<<p),u(1,1),d(2),N=h()}else u(0,y),u(1<<-g,0),N=h()+S.call("0",T);return 0<T?G+((y=N.length)<=T?"0."+S.call("0",T-y)+N:N.slice(0,y-T)+"."+N.slice(y-T)):G+N}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(_,ie,B){var v=_("../internals/export");_=_("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,ie,B){var v=o("../internals/export"),_=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(f){return _(f)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,ie,B){var v=o("../internals/export"),_=o("../internals/iterate"),f=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(m){var S={};return _(m,function(w,i){f(S,w,i)},void 0,!0),S}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(m,ie,B){var v=m("../internals/export"),S=m("../internals/fails"),_=m("../internals/to-indexed-object"),f=m("../internals/object-get-own-property-descriptor").f;m=m("../internals/descriptors"),S=S(function(){f(1)}),v({target:"Object",stat:!0,forced:!m||S,sham:!m},{getOwnPropertyDescriptor:function(w,i){return f(_(w),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(f,ie,B){var v=f("../internals/export"),_=f("../internals/fails");f=f("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:_(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(S,ie,B){var v=S("../internals/export"),_=S("../internals/fails"),f=S("../internals/to-object"),m=S("../internals/object-get-prototype-of");S=S("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:_(function(){m(1)}),sham:!S},{getPrototypeOf:function(w){return m(f(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,ie,B){var v=o("../internals/export"),_=o("../internals/to-object"),f=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){f(1)})},{keys:function(m){return f(_(m))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(f,ie,B){var v=f("../internals/to-string-tag-support"),_=f("../internals/redefine");f=f("../internals/object-to-string"),v||_(Object.prototype,"toString",f,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(kt,ie,B){"use strict";var v,_,f,m,S=kt("../internals/export"),w=kt("../internals/is-pure"),i=kt("../internals/global"),l=kt("../internals/get-built-in"),a=kt("../internals/native-promise-constructor"),u=kt("../internals/redefine"),d=kt("../internals/redefine-all"),h=kt("../internals/set-to-string-tag"),g=kt("../internals/set-species"),p=kt("../internals/is-object"),y=kt("../internals/a-function"),T=kt("../internals/an-instance"),z=kt("../internals/classof-raw"),G=kt("../internals/inspect-source"),N=kt("../internals/iterate"),k=kt("../internals/check-correctness-of-iteration"),X=kt("../internals/species-constructor"),D=kt("../internals/task").set,O=kt("../internals/microtask"),P=kt("../internals/promise-resolve"),J=kt("../internals/host-report-errors"),re=kt("../internals/new-promise-capability"),$=kt("../internals/perform"),Q=kt("../internals/internal-state"),V=kt("../internals/is-forced"),ir=kt("../internals/well-known-symbol"),H=kt("../internals/engine-v8-version"),Z=ir("species"),le="Promise",xe=Q.get,q=Q.set,j=Q.getterFor(le),oe=a,me=i.TypeError,Se=i.document,Le=i.process,Xe=l("fetch"),lt=re.f,He=lt,nt="process"==z(Le),at=!!(Se&&Se.createEvent&&i.dispatchEvent),Be="unhandledrejection",zt=(ir=(kt=V(le,function(){var ar,$t;return G(oe)===String(oe)&&(66===H||!nt&&"function"!=typeof PromiseRejectionEvent)||!((!w||oe.prototype.finally)&&(51<=H&&/native code/.test(oe)||($t=function(Ve){Ve(function(){},function(){})},((ar=oe.resolve(1)).constructor={})[Z]=$t,ar.then(function(){})instanceof $t)))}))||!k(function(ar){oe.all(ar).catch(function(){})}),function(ar){var $t;return!(!p(ar)||"function"!=typeof($t=ar.then))&&$t}),hr=function(ar,$t,Ve){var We;$t.notified||($t.notified=!0,We=$t.reactions,O(function(){for(var Re,Qe,Ot=$t.value,qt=1==$t.state,nr=0;We.length>nr;){var Ct,Tt,Gt,Vt=We[nr++],Dt=qt?Vt.ok:Vt.fail,yt=Vt.resolve,Nt=Vt.reject,bt=Vt.domain;try{Dt?(qt||(2===$t.rejection&&function(Rt,cr){D.call(i,function(){nt?Le.emit("rejectionHandled",Rt):Ht("rejectionhandled",Rt,cr.value)})}(ar,$t),$t.rejection=1),!0===Dt?Ct=Ot:(bt&&bt.enter(),Ct=Dt(Ot),bt&&(bt.exit(),Gt=!0)),Ct===Vt.promise?Nt(me("Promise-chain cycle")):(Tt=zt(Ct))?Tt.call(Ct,yt,Nt):yt(Ct)):Nt(Ot)}catch(Rt){bt&&!Gt&&bt.exit(),Nt(Rt)}}$t.reactions=[],$t.notified=!1,Ve&&!$t.rejection&&(Re=ar,Qe=$t,D.call(i,function(){var Rt=Qe.value,cr=br(Qe);if(cr&&(cr=$(function(){nt?Le.emit("unhandledRejection",Rt,Re):Ht(Be,Re,Rt)}),Qe.rejection=nt||br(Qe)?2:1,cr.error))throw cr.value}))}))},Ht=function(ar,$t,Ve){var We;at?((We=Se.createEvent("Event")).promise=$t,We.reason=Ve,We.initEvent(ar,!1,!0),i.dispatchEvent(We)):We={promise:$t,reason:Ve},($t=i["on"+ar])?$t(We):ar===Be&&J("Unhandled promise rejection",Ve)},br=function(ar){return 1!==ar.rejection&&!ar.parent},Bt=function(ar,$t,Ve,We){return function(Re){ar($t,Ve,Re,We)}},fr=function(ar,$t,Ve,We){$t.done||($t.done=!0,($t=We||$t).value=Ve,$t.state=2,hr(ar,$t,!0))},jt=function(ar,$t,Ve,We){if(!$t.done){$t.done=!0,We&&($t=We);try{if(ar===Ve)throw me("Promise can't be resolved itself");var Re=zt(Ve);Re?O(function(){var Qe={done:!1};try{Re.call(Ve,Bt(jt,ar,Qe,$t),Bt(fr,ar,Qe,$t))}catch(Ot){fr(ar,Qe,Ot,$t)}}):($t.value=Ve,$t.state=1,hr(ar,$t,!1))}catch(Qe){fr(ar,{done:!1},Qe,$t)}}};kt&&(oe=function(ar){T(this,oe,le),y(ar),v.call(this);var $t=xe(this);try{ar(Bt(jt,this,$t),Bt(fr,this,$t))}catch(Ve){fr(this,$t,Ve)}},(v=function(ar){q(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(oe.prototype,{then:function(ar,$t){var Ve=j(this),We=lt(X(this,oe));return We.ok="function"!=typeof ar||ar,We.fail="function"==typeof $t&&$t,We.domain=nt?Le.domain:void 0,Ve.parent=!0,Ve.reactions.push(We),0!=Ve.state&&hr(this,Ve,!1),We.promise},catch:function(ar){return this.then(void 0,ar)}}),_=function(){var ar=new v,$t=xe(ar);this.promise=ar,this.resolve=Bt(jt,ar,$t),this.reject=Bt(fr,ar,$t)},re.f=lt=function(ar){return ar===oe||ar===f?new _:He(ar)},w||"function"!=typeof a||(m=a.prototype.then,u(a.prototype,"then",function(ar,$t){var Ve=this;return new oe(function(We,Re){m.call(Ve,We,Re)}).then(ar,$t)},{unsafe:!0}),"function"==typeof Xe&&S({global:!0,enumerable:!0,forced:!0},{fetch:function(ar){return P(oe,Xe.apply(i,arguments))}}))),S({global:!0,wrap:!0,forced:kt},{Promise:oe}),h(oe,le,!1,!0),g(le),f=l(le),S({target:le,stat:!0,forced:kt},{reject:function(ar){var $t=lt(this);return $t.reject.call(void 0,ar),$t.promise}}),S({target:le,stat:!0,forced:w||kt},{resolve:function(ar){return P(w&&this===f?oe:this,ar)}}),S({target:le,stat:!0,forced:ir},{all:function(ar){var $t=this,Ve=lt($t),We=Ve.resolve,Re=Ve.reject,Qe=$(function(){var Ot=y($t.resolve),qt=[],nr=0,Ct=1;N(ar,function(Tt){var Gt=nr++,Vt=!1;qt.push(void 0),Ct++,Ot.call($t,Tt).then(function(Dt){Vt||(Vt=!0,qt[Gt]=Dt,--Ct||We(qt))},Re)}),--Ct||We(qt)});return Qe.error&&Re(Qe.value),Ve.promise},race:function(ar){var $t=this,Ve=lt($t),We=Ve.reject,Re=$(function(){var Qe=y($t.resolve);N(ar,function(Ot){Qe.call($t,Ot).then(Ve.resolve,We)})});return Re.error&&We(Re.value),Ve.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(i,ie,B){var v=i("../internals/export"),d=i("../internals/get-built-in"),_=i("../internals/a-function"),f=i("../internals/an-object"),m=i("../internals/is-object"),S=i("../internals/object-create"),w=i("../internals/function-bind"),l=(i=i("../internals/fails"),d("Reflect","construct")),a=i(function(){function h(){}return!(l(function(){},[],h)instanceof h)}),u=!i(function(){l(function(){})});v({target:"Reflect",stat:!0,forced:d=a||u,sham:d},{construct:function(h,g){_(h),f(g);var p=arguments.length<3?h:_(arguments[2]);if(u&&!a)return l(h,g,p);if(h==p){switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3])}var y=[null];return y.push.apply(y,g),new(w.apply(h,y))}return p=S(m(y=p.prototype)?y:Object.prototype),y=Function.apply.call(h,p,g),m(y)?y:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,ie,B){var v=o("../internals/export"),_=o("../internals/is-object"),f=o("../internals/an-object"),m=o("../internals/has"),S=o("../internals/object-get-own-property-descriptor"),w=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function i(l,a){var u,d=arguments.length<3?l:arguments[2];return f(l)===d?l[a]:(u=S.f(l,a))?m(u,"value")?u.value:void 0===u.get?void 0:u.get.call(d):_(u=w(l))?i(u,a,d):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,ie,B){var v=o("../internals/descriptors"),_=o("../internals/global"),f=o("../internals/is-forced"),m=o("../internals/inherit-if-required"),S=o("../internals/object-define-property").f,w=o("../internals/object-get-own-property-names").f,i=o("../internals/is-regexp"),l=o("../internals/regexp-flags"),a=o("../internals/regexp-sticky-helpers"),u=o("../internals/redefine"),d=o("../internals/fails"),h=o("../internals/internal-state").set,g=o("../internals/set-species"),p=o("../internals/well-known-symbol")("match"),y=_.RegExp,T=y.prototype,z=/a/g,G=/a/g,N=new y(z)!==z,k=a.UNSUPPORTED_Y;if(v&&f("RegExp",!N||k||d(function(){return G[p]=!1,y(z)!=z||y(G)==G||"/a/i"!=y(z,"i")}))){for(var X=function(P,J){var re,$=this instanceof X,Q=i(P),V=void 0===J;return!$&&Q&&P.constructor===X&&V?P:(N?Q&&!V&&(P=P.source):P instanceof X&&(V&&(J=l.call(P)),P=P.source),k&&(re=!!J&&-1<J.indexOf("y"))&&(J=J.replace(/y/g,"")),Q=m(N?new y(P,J):y(P,J),$?this:T,X),k&&re&&h(Q,{sticky:re}),Q)},D=w(y),O=0;D.length>O;)!function(P){P in X||S(X,P,{configurable:!0,get:function(){return y[P]},set:function(J){y[P]=J}})}(D[O++]);(T.constructor=X).prototype=T,u(_,"RegExp",X)}g("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(_,ie,B){"use strict";var v=_("../internals/export");_=_("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==_},{exec:_})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(m,ie,B){"use strict";var v=m("../internals/redefine"),_=m("../internals/an-object"),i=m("../internals/fails"),f=m("../internals/regexp-flags"),S=(m="toString",RegExp.prototype),w=S[m];((i=i(function(){return"/a/b"!=w.call({source:"a",flags:"b"})}))||w.name!=m)&&v(RegExp.prototype,m,function(){var a=_(this),u=String(a.source),d=a.flags;return"/"+u+"/"+String(void 0===d&&a instanceof RegExp&&!("flags"in S)?f.call(a):d)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(_,ie,B){"use strict";var v=_("../internals/collection");_=_("../internals/collection-strong"),ie.exports=v("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(w,ie,B){"use strict";var v=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,f=w("../internals/to-length"),m=w("../internals/not-a-regexp"),S=w("../internals/require-object-coercible"),a=w("../internals/correct-is-regexp-logic"),i=(w=w("../internals/is-pure"),"".endsWith),l=Math.min;a=a("endsWith"),v({target:"String",proto:!0,forced:!(!w&&!a&&(v=_(String.prototype,"endsWith"))&&!v.writable||a)},{endsWith:function(u){var d=String(S(this)),h=(m(u),1<arguments.length?arguments[1]:void 0),g=f(d.length);return h=void 0===h?g:l(f(h),g),g=String(u),i?i.call(d,g,h):d.slice(h-g.length,h)===g}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/not-a-regexp"),f=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(m){return!!~String(f(this)).indexOf(_(m),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(f,ie,B){"use strict";var v=f("../internals/string-multibyte").charAt,_=f("../internals/internal-state"),m=(f=f("../internals/define-iterator"),"String Iterator"),S=_.set,w=_.getterFor(m);f(String,"String",function(i){S(this,{type:m,string:String(i),index:0})},function(){var i=w(this),l=i.string,a=i.index;return a>=l.length?{value:void 0,done:!0}:(l=v(l,a),i.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,ie,B){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),f=o("../internals/to-length"),m=o("../internals/require-object-coercible"),S=o("../internals/advance-string-index"),w=o("../internals/regexp-exec-abstract");v("match",1,function(i,l,a){return[function(u){var d=m(this),h=null==u?void 0:u[i];return void 0!==h?h.call(u,d):new RegExp(u)[i](String(d))},function(u){var d=a(l,u,this);if(d.done)return d.value;var h=_(u),g=String(this);if(!h.global)return w(h,g);for(var p=h.unicode,y=[],T=h.lastIndex=0;null!==(z=w(h,g));){var z=String(z[0]);""===(y[T]=z)&&(h.lastIndex=S(g,f(h.lastIndex),p)),T++}return 0===T?null:y}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(f){return _(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,ie,B){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,ie,B){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),f=o("../internals/to-object"),m=o("../internals/to-length"),S=o("../internals/to-integer"),w=o("../internals/require-object-coercible"),i=o("../internals/advance-string-index"),l=o("../internals/regexp-exec-abstract"),a=Math.max,u=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;v("replace",2,function(p,y,T,z){var G=z.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,N=z.REPLACE_KEEPS_$0,k=G?"$":"$0";return[function(X,D){var O=w(this),P=null==X?void 0:X[p];return void 0!==P?P.call(X,O,D):y.call(String(O),X,D)},function(X,D){if(!G&&N||"string"==typeof D&&-1===D.indexOf(k)){var O=T(y,X,this,D);if(O.done)return O.value}for(var P,J=_(X),re=String(this),$="function"==typeof D,Q=($||(D=String(D)),J.global),V=(Q&&(P=J.unicode,J.lastIndex=0),[]);null!==(q=l(J,re))&&(V.push(q),Q);)""===String(q[0])&&(J.lastIndex=i(re,m(J.lastIndex),P));for(var H,Z="",le=0,xe=0;xe<V.length;xe++){for(var q=V[xe],j=String(q[0]),oe=a(u(S(q.index),re.length),0),me=[],Se=1;Se<q.length;Se++)me.push(void 0===(H=q[Se])?H:String(H));var Le=q.groups,Xe=$?(Xe=[j].concat(me,oe,re),void 0!==Le&&Xe.push(Le),String(D.apply(void 0,Xe))):function(lt,He,nt,at,Be,st){var Ye=nt+lt.length,it=at.length,Ze=g;return void 0!==Be&&(Be=f(Be),Ze=h),y.call(st,Ze,function(pt,kt){var ir;switch(kt.charAt(0)){case"$":return"$";case"&":return lt;case"`":return He.slice(0,nt);case"'":return He.slice(Ye);case"<":ir=Be[kt.slice(1,-1)];break;default:var zt,hr=+kt;if(0==hr)return pt;if(it<hr)return 0!==(zt=d(hr/10))&&zt<=it?void 0===at[zt-1]?kt.charAt(1):at[zt-1]+kt.charAt(1):pt;ir=at[hr-1]}return void 0===ir?"":ir})}(j,re,oe,me,Le,D);le<=oe&&(Z+=re.slice(le,oe)+Xe,le=oe+j.length)}return Z+re.slice(le)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,ie,B){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),f=o("../internals/require-object-coercible"),m=o("../internals/same-value"),S=o("../internals/regexp-exec-abstract");v("search",1,function(w,i,l){return[function(a){var u=f(this),d=null==a?void 0:a[w];return void 0!==d?d.call(a,u):new RegExp(a)[w](String(u))},function(a){var u,d=l(i,a,this);return d.done?d.value:(d=_(a),a=String(this),m(u=d.lastIndex,0)||(d.lastIndex=0),a=S(d,a),m(d.lastIndex,u)||(d.lastIndex=u),null===a?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(u,ie,B){"use strict";var v=u("../internals/fix-regexp-well-known-symbol-logic"),_=u("../internals/is-regexp"),f=u("../internals/an-object"),m=u("../internals/require-object-coercible"),S=u("../internals/species-constructor"),w=u("../internals/advance-string-index"),i=u("../internals/to-length"),l=u("../internals/regexp-exec-abstract"),a=u("../internals/regexp-exec"),d=(u=u("../internals/fails"),[].push),h=Math.min,g=4294967295,p=!u(function(){return!RegExp(g,"y")});v("split",2,function(y,T,z){var G="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(N,k){var X=String(m(this)),D=void 0===k?g:k>>>0;if(0==D)return[];if(void 0===N)return[X];if(!_(N))return T.call(X,N,D);for(var O,P,J,re=[],$=(k=(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(N.sticky?"y":""),0),Q=new RegExp(N.source,k+"g");(O=a.call(Q,X))&&!($<(P=Q.lastIndex)&&(re.push(X.slice($,O.index)),1<O.length&&O.index<X.length&&d.apply(re,O.slice(1)),J=O[0].length,$=P,re.length>=D));)Q.lastIndex===O.index&&Q.lastIndex++;return $===X.length?!J&&Q.test("")||re.push(""):re.push(X.slice($)),re.length>D?re.slice(0,D):re}:"0".split(void 0,0).length?function(N,k){return void 0===N&&0===k?[]:T.call(this,N,k)}:T;return[function(N,k){var X=m(this),D=null==N?void 0:N[y];return void 0!==D?D.call(N,X,k):G.call(String(X),N,k)},function(O,k){if((X=z(G,O,this,k,G!==T)).done)return X.value;var X=f(O),D=String(this),P=(O=S(X,RegExp),X.unicode),re=new O(p?X:"^(?:"+X.source+")",(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.unicode?"u":"")+(p?"y":"g")),$=void 0===k?g:k>>>0;if(0==$)return[];if(0===D.length)return null===l(re,D)?[D]:[];for(var Q=0,V=0,H=[];V<D.length;){re.lastIndex=p?V:0;var Z,le=l(re,p?D:D.slice(V));if(null===le||(Z=h(i(re.lastIndex+(p?0:V)),D.length))===Q)V=w(D,V,P);else{if(H.push(D.slice(Q,V)),H.length===$)return H;for(var xe=1;xe<=le.length-1;xe++)if(H.push(le[xe]),H.length===$)return H;V=Q=Z}}return H.push(D.slice(Q)),H}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(w,ie,B){"use strict";var v=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,f=w("../internals/to-length"),m=w("../internals/not-a-regexp"),S=w("../internals/require-object-coercible"),a=w("../internals/correct-is-regexp-logic"),i=(w=w("../internals/is-pure"),"".startsWith),l=Math.min;a=a("startsWith"),v({target:"String",proto:!0,forced:!(!w&&!a&&(v=_(String.prototype,"startsWith"))&&!v.writable||a)},{startsWith:function(g){var d=String(S(this)),h=(m(g),f(l(1<arguments.length?arguments[1]:void 0,d.length)));return g=String(g),i?i.call(d,g,h):d.slice(h,h+g.length)===g}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return _(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,ie,B){"use strict";var v=o("../internals/export"),_=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return _(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(h,ie,B){"use strict";var v,_,f,m,S,w=h("../internals/export"),i=h("../internals/descriptors"),l=h("../internals/global"),a=h("../internals/has"),u=h("../internals/is-object"),d=h("../internals/object-define-property").f,g=(h=h("../internals/copy-constructor-properties"),l.Symbol);!i||"function"!=typeof g||"description"in g.prototype&&void 0===g().description||(v={},h(_=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),y=this instanceof _?new g(p):void 0===p?g():g(p);return""===p&&(v[y]=!0),y},g),(l=_.prototype=g.prototype).constructor=_,f=l.toString,m="Symbol(test)"==String(g("test")),S=/^Symbol\((.*)\)[^)]+$/,d(l,"description",{configurable:!0,get:function(){var p=u(this)?this.valueOf():this,y=f.call(p);return a(v,p)?"":""===(p=m?y.slice(7,-1):y.replace(S,"$1"))?void 0:p}}),w({global:!0,forced:!0},{Symbol:_}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,ie,B){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(He,ie,B){"use strict";function v(Re,Qe){var Ot=ir[Re]=X(st[lt]);return nt(Ot,{type:Xe,tag:Re,description:Qe}),a||(Ot.description=Qe),Ot}function _(Re,qt){T(Re);var Ot=G(qt);return qt=D(Ot).concat(We(Ot)),Se(qt,function(nr){a&&!Ve.call(Ot,nr)||$t(Re,nr,Ot[nr])}),Re}function f(qt,nr){var Ot;if(qt=G(qt),nr=N(nr,!0),qt!==Be||!g(ir,nr)||g(zt,nr))return!(Ot=it(qt,nr))||!g(ir,nr)||g(qt,Le)&&qt[Le][nr]||(Ot.enumerable=!0),Ot}function m(Qe){Qe=pt(G(Qe));var Ot=[];return Se(Qe,function(qt){g(ir,qt)||g(le,qt)||Ot.push(qt)}),Ot}var S=He("../internals/export"),w=He("../internals/global"),i=He("../internals/get-built-in"),l=He("../internals/is-pure"),a=He("../internals/descriptors"),u=He("../internals/native-symbol"),d=He("../internals/use-symbol-as-uid"),h=He("../internals/fails"),g=He("../internals/has"),p=He("../internals/is-array"),y=He("../internals/is-object"),T=He("../internals/an-object"),z=He("../internals/to-object"),G=He("../internals/to-indexed-object"),N=He("../internals/to-primitive"),k=He("../internals/create-property-descriptor"),X=He("../internals/object-create"),D=He("../internals/object-keys"),O=He("../internals/object-get-own-property-names"),P=He("../internals/object-get-own-property-names-external"),J=He("../internals/object-get-own-property-symbols"),re=He("../internals/object-get-own-property-descriptor"),$=He("../internals/object-define-property"),Q=He("../internals/object-property-is-enumerable"),V=He("../internals/create-non-enumerable-property"),H=He("../internals/redefine"),Z=He("../internals/shared"),br=He("../internals/shared-key"),le=He("../internals/hidden-keys"),xe=He("../internals/uid"),q=He("../internals/well-known-symbol"),j=He("../internals/well-known-symbol-wrapped"),oe=He("../internals/define-well-known-symbol"),me=He("../internals/set-to-string-tag"),Bt=He("../internals/internal-state"),Se=He("../internals/array-iteration").forEach,Le=br("hidden"),Xe="Symbol",lt="prototype",nt=(He=q("toPrimitive"),Bt.set),at=Bt.getterFor(Xe),Be=Object[lt],st=w.Symbol,Ye=i("JSON","stringify"),it=re.f,Ze=$.f,pt=P.f,kt=Q.f,ir=Z("symbols"),zt=Z("op-symbols"),hr=Z("string-to-symbol-registry"),Ht=Z("symbol-to-string-registry"),fr=(br=Z("wks"),!(Bt=w.QObject)||!Bt[lt]||!Bt[lt].findChild),jt=a&&h(function(){return 7!=X(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a})?function(Re,Qe,Ot){var qt=it(Be,Qe);qt&&delete Be[Qe],Ze(Re,Qe,Ot),qt&&Re!==Be&&Ze(Be,Qe,qt)}:Ze,ar=d?function(Re){return"symbol"==typeof Re}:function(Re){return Object(Re)instanceof st},$t=function(Re,Qe,Ot){return Re===Be&&$t(zt,Qe,Ot),T(Re),Qe=N(Qe,!0),T(Ot),(g(ir,Qe)?(Ot.enumerable?(g(Re,Le)&&Re[Le][Qe]&&(Re[Le][Qe]=!1),Ot=X(Ot,{enumerable:k(0,!1)})):(g(Re,Le)||Ze(Re,Le,k(1,{})),Re[Le][Qe]=!0),jt):Ze)(Re,Qe,Ot)},Ve=function(Qe){Qe=N(Qe,!0);var Ot=kt.call(this,Qe);return!(this===Be&&g(ir,Qe)&&!g(zt,Qe))&&(!(Ot||!g(this,Qe)||!g(ir,Qe)||g(this,Le)&&this[Le][Qe])||Ot)},We=function(Ot){var Qe=Ot===Be,qt=(Ot=pt(Qe?zt:G(Ot)),[]);return Se(Ot,function(nr){!g(ir,nr)||Qe&&!g(Be,nr)||qt.push(ir[nr])}),qt};u||(H((st=function(){if(this instanceof st)throw TypeError("Symbol is not a constructor");var Re=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Qe=xe(Re),Ot=function(qt){this===Be&&Ot.call(zt,qt),g(this,Le)&&g(this[Le],Qe)&&(this[Le][Qe]=!1),jt(this,Qe,k(1,qt))};return a&&fr&&jt(Be,Qe,{configurable:!0,set:Ot}),v(Qe,Re)})[lt],"toString",function(){return at(this).tag}),H(st,"withoutSetter",function(Re){return v(xe(Re),Re)}),Q.f=Ve,$.f=$t,re.f=f,O.f=P.f=m,J.f=We,j.f=function(Re){return v(q(Re),Re)},a&&(Ze(st[lt],"description",{configurable:!0,get:function(){return at(this).description}}),l||H(Be,"propertyIsEnumerable",Ve,{unsafe:!0}))),S({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:st}),Se(D(br),function(Re){oe(Re)}),S({target:Xe,stat:!0,forced:!u},{for:function(Ot){var Qe;return Ot=String(Ot),g(hr,Ot)?hr[Ot]:(Qe=st(Ot),hr[Ot]=Qe,Ht[Qe]=Ot,Qe)},keyFor:function(Re){if(!ar(Re))throw TypeError(Re+" is not a symbol");if(g(Ht,Re))return Ht[Re]},useSetter:function(){fr=!0},useSimple:function(){fr=!1}}),S({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(Re,Qe){return void 0===Qe?X(Re):_(X(Re),Qe)},defineProperty:$t,defineProperties:_,getOwnPropertyDescriptor:f}),S({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:m,getOwnPropertySymbols:We}),S({target:"Object",stat:!0,forced:h(function(){J.f(1)})},{getOwnPropertySymbols:function(Re){return J.f(z(Re))}}),Ye&&S({target:"JSON",stat:!0,forced:!u||h(function(){var Re=st();return"[null]"!=Ye([Re])||"{}"!=Ye({a:Re})||"{}"!=Ye(Object(Re))})},{stringify:function(Re,Qe,Ot){for(var qt,nr=[Re],Ct=1;Ct<arguments.length;)nr.push(arguments[Ct++]);if((y(qt=Qe)||void 0!==Re)&&!ar(Re))return p(Qe)||(Qe=function(Tt,Gt){if("function"==typeof qt&&(Gt=qt.call(this,Tt,Gt)),!ar(Gt))return Gt}),nr[1]=Qe,Ye.apply(null,nr)}}),st[lt][He]||V(st[lt],He,st[lt].valueOf),me(st,Xe),le[Le]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-copy-within"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(m,S){return _.call(f(this),m,S,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").every,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(m){return _(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-fill"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(m){return _.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").filter,f=o("../internals/species-constructor"),m=v.aTypedArray,S=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(w){for(var i=_(m(this),w,1<arguments.length?arguments[1]:void 0),l=(w=f(this,this.constructor),0),a=i.length,u=new(S(w))(a);l<a;)u[l]=i[l++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").findIndex,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(m){return _(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").find,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(m){return _(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,ie,B){o("../internals/typed-array-constructor")("Float32",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],220:[function(o,ie,B){o("../internals/typed-array-constructor")("Float64",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],221:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").forEach,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(m){_(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-includes").includes,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(m){return _(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-includes").indexOf,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(m){return _(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,ie,B){o("../internals/typed-array-constructor")("Int16",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],225:[function(o,ie,B){o("../internals/typed-array-constructor")("Int32",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],226:[function(_,ie,B){"use strict";function v(){return f.call(w(this))}var a=_("../internals/global"),l=_("../internals/array-buffer-view-core"),i=_("../modules/es.array.iterator"),f=(_=_("../internals/well-known-symbol")("iterator"),i.values),m=i.keys,S=i.entries,w=l.aTypedArray;i=l.exportTypedArrayMethod,a=!!(l=(a=a.Uint8Array)&&a.prototype[_])&&("values"==l.name||null==l.name),i("entries",function(){return S.call(w(this))}),i("keys",function(){return m.call(w(this))}),i("values",v,!a),i(_,v,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(_,ie,B){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,f=[].join;(_=_.exportTypedArrayMethod)("join",function(m){return f.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-last-index-of"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(m){return _.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").map,f=o("../internals/species-constructor"),m=v.aTypedArray,S=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(w){return _(m(this),w,1<arguments.length?arguments[1]:void 0,function(i,l){return new(S(f(i,i.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-reduce").right,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(m){return _(f(this),m,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-reduce").left,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(m){return _(f(this),m,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(_,ie,B){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,f=(_=_.exportTypedArrayMethod,Math.floor);_("reverse",function(){for(var m,S=v(this).length,w=f(S/2),i=0;i<w;)m=this[i],this[i++]=this[--S],this[S]=m;return this})},{"../internals/array-buffer-view-core":12}],233:[function(S,ie,B){"use strict";var v=S("../internals/array-buffer-view-core"),_=S("../internals/to-length"),f=S("../internals/to-offset"),m=S("../internals/to-object"),w=(S=S("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(i){w(this);var l=f(1<arguments.length?arguments[1]:void 0,1),a=this.length,u=m(i),d=_(u.length),h=0;if(a<d+l)throw RangeError("Wrong length");for(;h<d;)this[l+h]=u[h++]},S(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(_,ie,B){"use strict";var S=_("../internals/array-buffer-view-core"),v=_("../internals/species-constructor"),f=(_=_("../internals/fails"),S.aTypedArray),m=S.aTypedArrayConstructor,w=[].slice;(S=S.exportTypedArrayMethod)("slice",function(i,l){for(var a=w.call(f(this),i,l),u=(i=v(this,this.constructor),0),d=a.length,h=new(m(i))(d);u<d;)h[u]=a[u++];return h},_(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").some,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(m){return _(f(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(_,ie,B){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,f=[].sort;(_=_.exportTypedArrayMethod)("sort",function(m){return f.call(v(this),m)})},{"../internals/array-buffer-view-core":12}],237:[function(o,ie,B){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/to-length"),f=o("../internals/to-absolute-index"),m=o("../internals/species-constructor"),S=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(u,i){var l=S(this),a=l.length;return u=f(u,a),new(m(l,l.constructor))(l.buffer,l.byteOffset+u*l.BYTES_PER_ELEMENT,_((void 0===i?a:f(i,a))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(_,ie,B){"use strict";var S=_("../internals/global"),v=_("../internals/array-buffer-view-core"),f=(_=_("../internals/fails"),S.Int8Array),m=v.aTypedArray,w=(S=v.exportTypedArrayMethod,[].toLocaleString),i=[].slice,l=!!f&&_(function(){w.call(new f(1))});S("toLocaleString",function(){return w.apply(l?i.call(m(this)):m(this),arguments)},_(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!_(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(_,ie,B){"use strict";var v=_("../internals/array-buffer-view-core").exportTypedArrayMethod,S=_("../internals/fails"),f=(_=(_=_("../internals/global").Uint8Array)&&_.prototype||{},[].toString),m=[].join;S(function(){f.call({})})&&(f=function(){return m.call(this)}),v("toString",f,S=_.toString!=f)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,ie,B){o("../internals/typed-array-constructor")("Uint16",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],241:[function(o,ie,B){o("../internals/typed-array-constructor")("Uint32",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],242:[function(o,ie,B){o("../internals/typed-array-constructor")("Uint8",function(v){return function(_,f,m){return v(this,_,f,m)}})},{"../internals/typed-array-constructor":144}],243:[function(o,ie,B){o("../internals/typed-array-constructor")("Uint8",function(v){return function(_,f,m){return v(this,_,f,m)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(g,T,B){"use strict";function v(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}}var _,f,m,S,w,p=g("../internals/global"),i=g("../internals/redefine-all"),l=g("../internals/internal-metadata"),a=g("../internals/collection"),u=g("../internals/collection-weak"),d=g("../internals/is-object"),h=g("../internals/internal-state").enforce,y=(g=g("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);T=T.exports=a("WeakMap",v,u),g&&p&&(_=u.getConstructor(v,"WeakMap",!0),l.REQUIRED=!0,f=(a=T.prototype).delete,m=a.has,S=a.get,w=a.set,i(a,{delete:function(z){var G;return d(z)&&!y(z)?((G=h(this)).frozen||(G.frozen=new _),f.call(this,z)||G.frozen.delete(z)):f.call(this,z)},has:function(z){var G;return d(z)&&!y(z)?((G=h(this)).frozen||(G.frozen=new _),m.call(this,z)||G.frozen.has(z)):m.call(this,z)},get:function(z){var G;return!d(z)||y(z)||((G=h(this)).frozen||(G.frozen=new _),m.call(this,z))?S.call(this,z):G.frozen.get(z)},set:function(z,G){var N;return!d(z)||y(z)||((N=h(this)).frozen||(N.frozen=new _),m.call(this,z))?w.call(this,z,G):N.frozen.set(z,G),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,ie,B){var v,_=o("../internals/global"),f=o("../internals/dom-iterables"),m=o("../internals/array-for-each"),S=o("../internals/create-non-enumerable-property");for(v in f){var w;if((w=(w=_[v])&&w.prototype)&&w.forEach!==m)try{S(w,"forEach",m)}catch{w.forEach=m}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(w,ie,B){var v,_=w("../internals/global"),f=w("../internals/dom-iterables"),m=w("../modules/es.array.iterator"),S=w("../internals/create-non-enumerable-property"),i=(w=w("../internals/well-known-symbol"))("iterator"),l=w("toStringTag"),a=m.values;for(v in f){var u=_[v],d=u&&u.prototype;if(d){if(d[i]!==a)try{S(d,i,a)}catch{d[i]=a}if(d[l]||S(d,l,v),f[v])for(var h in m)if(d[h]!==m[h])try{S(d,h,m[h])}catch{d[h]=m[h]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Le,ie,B){"use strict";function v(Xe){try{return decodeURIComponent(Xe)}catch{return Xe}}function _(Xe){return oe[Xe]}function f(Xe){return encodeURIComponent(Xe).replace(j,_)}function m(Xe){this.entries.length=0,me(this.entries,Xe)}function S(Xe,lt){if(Xe<lt)throw TypeError("Not enough arguments")}function w(){p(this,w,$);var Xe,lt,He,nt,at,Be,st,Ye,it=0<arguments.length?arguments[0]:void 0,Ze=[];if(V(this,{type:$,entries:Ze,updateURL:function(){},updateSearchParams:m}),void 0!==it)if(N(it))if("function"==typeof(Xe=O(it)))for(He=(lt=Xe.call(it)).next;!(nt=He.call(lt)).done;){if((Be=(at=(nt=D(G(nt.value))).next).call(nt)).done||(st=at.call(nt)).done||!at.call(nt).done)throw TypeError("Expected sequence with length 2");Ze.push({key:Be.value+"",value:st.value+""})}else for(Ye in it)y(it,Ye)&&Ze.push({key:Ye,value:it[Ye]+""});else me(Ze,"string"==typeof it?"?"===it.charAt(0)?it.slice(1):it:it+"")}Le("../modules/es.array.iterator");var i=Le("../internals/export"),re=Le("../internals/get-built-in"),l=Le("../internals/native-url"),a=Le("../internals/redefine"),u=Le("../internals/redefine-all"),d=Le("../internals/set-to-string-tag"),h=Le("../internals/create-iterator-constructor"),g=Le("../internals/internal-state"),p=Le("../internals/an-instance"),y=Le("../internals/has"),T=Le("../internals/function-bind-context"),z=Le("../internals/classof"),G=Le("../internals/an-object"),N=Le("../internals/is-object"),k=Le("../internals/object-create"),X=Le("../internals/create-property-descriptor"),D=Le("../internals/get-iterator"),O=Le("../internals/get-iterator-method"),P=(Le=Le("../internals/well-known-symbol"),re("fetch")),J=re("Headers"),$=(re=Le("iterator"),"URLSearchParams"),Q=$+"Iterator",V=g.set,H=g.getterFor($),Z=g.getterFor(Q),le=/\+/g,xe=Array(4),q=function(Xe){var lt,He=Xe.replace(le," "),nt=4;try{return decodeURIComponent(He)}catch{for(;nt;)He=He.replace((lt=nt--,xe[lt-1]||(xe[lt-1]=RegExp("((?:%[\\da-f]{2}){"+lt+"})","gi"))),v);return He}},j=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},me=function(Xe,lt){if(lt)for(var He,nt=lt.split("&"),at=0;at<nt.length;)(He=nt[at++]).length&&(He=He.split("="),Xe.push({key:q(He.shift()),value:q(He.join("="))}))},Se=h(function(Xe,lt){V(this,{type:Q,iterator:D(H(Xe).entries),kind:lt})},"Iterator",function(){var lt,Xe=(lt=Z(this)).kind,He=(lt=lt.iterator.next()).value;return lt.done||(lt.value="keys"===Xe?He.key:"values"===Xe?He.value:[He.key,He.value]),lt});u(Le=w.prototype,{append:function(Xe,lt){S(arguments.length,2);var He=H(this);He.entries.push({key:Xe+"",value:lt+""}),He.updateURL()},delete:function(Xe){S(arguments.length,1);for(var lt=H(this),He=lt.entries,nt=Xe+"",at=0;at<He.length;)He[at].key===nt?He.splice(at,1):at++;lt.updateURL()},get:function(Xe){S(arguments.length,1);for(var lt=H(this).entries,He=Xe+"",nt=0;nt<lt.length;nt++)if(lt[nt].key===He)return lt[nt].value;return null},getAll:function(Xe){S(arguments.length,1);for(var lt=H(this).entries,He=Xe+"",nt=[],at=0;at<lt.length;at++)lt[at].key===He&&nt.push(lt[at].value);return nt},has:function(Xe){S(arguments.length,1);for(var lt=H(this).entries,He=Xe+"",nt=0;nt<lt.length;)if(lt[nt++].key===He)return!0;return!1},set:function(Xe,lt){S(arguments.length,1);for(var He,nt=H(this),at=nt.entries,Be=!1,st=Xe+"",Ye=lt+"",it=0;it<at.length;it++)(He=at[it]).key===st&&(Be?at.splice(it--,1):(Be=!0,He.value=Ye));Be||at.push({key:st,value:Ye}),nt.updateURL()},sort:function(){for(var Xe,lt,He=H(this),nt=He.entries,at=nt.slice(),Be=nt.length=0;Be<at.length;Be++){for(Xe=at[Be],lt=0;lt<Be;lt++)if(nt[lt].key>Xe.key){nt.splice(lt,0,Xe);break}lt===Be&&nt.push(Xe)}He.updateURL()},forEach:function(Xe){for(var lt,He=H(this).entries,nt=T(Xe,1<arguments.length?arguments[1]:void 0,3),at=0;at<He.length;)nt((lt=He[at++]).value,lt.key,this)},keys:function(){return new Se(this,"keys")},values:function(){return new Se(this,"values")},entries:function(){return new Se(this,"entries")}},{enumerable:!0}),a(Le,re,Le.entries),a(Le,"toString",function(){for(var Xe,lt=H(this).entries,He=[],nt=0;nt<lt.length;)Xe=lt[nt++],He.push(f(Xe.key)+"="+f(Xe.value));return He.join("&")},{enumerable:!0}),d(w,$),i({global:!0,forced:!l},{URLSearchParams:w}),l||"function"!=typeof P||"function"!=typeof J||i({global:!0,enumerable:!0,forced:!0},{fetch:function(at){var lt,He,nt;return at=[at],1<arguments.length&&(N(lt=arguments[1])&&z(He=lt.body)===$&&((nt=lt.headers?new J(lt.headers):new J).has("content-type")||nt.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),lt=k(lt,{body:X(0,String(He)),headers:X(0,nt)})),at.push(lt)),P.apply(this,at)}}),ie.exports={URLSearchParams:w,getState:H}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(D,ie,B){"use strict";function v(C){var Y,U,te,Oe;if("number"==typeof C){for(Y=[],U=0;U<4;U++)Y.unshift(C%256),C=Q(C/256);return Y.join(".")}if("object"!=typeof C)return C;for(Y="",te=st(C),U=0;U<8;U++)Oe&&0===C[U]||(Oe=Oe&&!1,te===U?(Y+=U?":":"::",Oe=!0):(Y+=C[U].toString(16),U<7&&(Y+=":")));return"["+Y+"]"}function _(C){return!C.host||C.cannotBeABaseURL||"file"==C.scheme}function f(C,Y,U,te){var Oe,Te,Je,gt=U||ar,Wt=0,Ie="",Ae=!1,qe=!1,$e=!1;for(U||(C.scheme="",C.username="",C.password="",C.host=null,C.port=null,C.path=[],C.query=null,C.fragment=null,C.cannotBeABaseURL=!1,Y=Y.replace(nt,"")),Y=Y.replace(at,""),Oe=z(Y);Wt<=Oe.length;){switch(Te=Oe[Wt],gt){case ar:if(!Te||!q.test(Te)){if(U)return Z;gt=Ve;continue}Ie+=Te.toLowerCase(),gt=$t;break;case $t:if(Te&&(j.test(Te)||"+"==Te||"-"==Te||"."==Te))Ie+=Te.toLowerCase();else{if(":"!=Te){if(U)return Z;Ie="",gt=Ve,Wt=0;continue}if(U&&(zt(C)!=y(ir,Ie)||"file"==Ie&&(hr(C)||null!==C.port)||"file"==C.scheme&&!C.host))return;if(C.scheme=Ie,U)return void(zt(C)&&ir[C.scheme]==C.port&&(C.port=null));Ie="","file"==C.scheme?gt=Dt:zt(C)&&te&&te.scheme==C.scheme?gt=We:zt(C)?gt=qt:"/"==Oe[Wt+1]?(gt=Re,Wt++):(C.cannotBeABaseURL=!0,C.path.push(""),gt=cr)}break;case Ve:if(!te||te.cannotBeABaseURL&&"#"!=Te)return Z;if(te.cannotBeABaseURL&&"#"==Te){C.scheme=te.scheme,C.path=te.path.slice(),C.query=te.query,C.fragment="",C.cannotBeABaseURL=!0,gt=xt;break}gt="file"==te.scheme?Dt:Qe;continue;case We:if("/"!=Te||"/"!=Oe[Wt+1]){gt=Qe;continue}gt=nr,Wt++;break;case Re:if("/"==Te){gt=Ct;break}gt=Rt;continue;case Qe:if(C.scheme=te.scheme,Te==w)C.username=te.username,C.password=te.password,C.host=te.host,C.port=te.port,C.path=te.path.slice(),C.query=te.query;else if("/"==Te||"\\"==Te&&zt(C))gt=Ot;else if("?"==Te)C.username=te.username,C.password=te.password,C.host=te.host,C.port=te.port,C.path=te.path.slice(),C.query="",gt=ft;else{if("#"!=Te){C.username=te.username,C.password=te.password,C.host=te.host,C.port=te.port,C.path=te.path.slice(),C.path.pop(),gt=Rt;continue}C.username=te.username,C.password=te.password,C.host=te.host,C.port=te.port,C.path=te.path.slice(),C.query=te.query,C.fragment="",gt=xt}break;case Ot:if(!zt(C)||"/"!=Te&&"\\"!=Te){if("/"!=Te){C.username=te.username,C.password=te.password,C.host=te.host,C.port=te.port,gt=Rt;continue}gt=Ct}else gt=nr;break;case qt:if(gt=nr,"/"!=Te||"/"!=Ie.charAt(Wt+1))continue;Wt++;break;case nr:if("/"==Te||"\\"==Te)break;gt=Ct;continue;case Ct:if("@"==Te){Ae&&(Ie="%40"+Ie),Ae=!0;for(var ct=z(Ie),Ft=0;Ft<ct.length;Ft++){var ur=ct[Ft];":"!=ur||$e?(ur=kt(ur,pt),$e?C.password+=ur:C.username+=ur):$e=!0}Ie=""}else if(Te==w||"/"==Te||"?"==Te||"#"==Te||"\\"==Te&&zt(C)){if(Ae&&""==Ie)return H;Wt-=z(Ie).length+1,Ie="",gt=Tt}else Ie+=Te;break;case Tt:case Gt:if(U&&"file"==C.scheme){gt=Nt;continue}if(":"!=Te||qe){if(Te==w||"/"==Te||"?"==Te||"#"==Te||"\\"==Te&&zt(C)){if(zt(C)&&""==Ie)return le;if(U&&""==Ie&&(hr(C)||null!==C.port))return;if(Je=Be(C,Ie))return Je;if(Ie="",gt=bt,U)return;continue}"["==Te?qe=!0:"]"==Te&&(qe=!1),Ie+=Te}else{if(""==Ie)return le;if(Je=Be(C,Ie))return Je;if(Ie="",gt=Vt,U==Gt)return}break;case Vt:if(!oe.test(Te)){if(Te==w||"/"==Te||"?"==Te||"#"==Te||"\\"==Te&&zt(C)||U){if(""!=Ie){var vr=parseInt(Ie,10);if(65535<vr)return xe;C.port=zt(C)&&vr===ir[C.scheme]?null:vr,Ie=""}if(U)return;gt=bt;continue}return xe}Ie+=Te;break;case Dt:if(C.scheme="file","/"==Te||"\\"==Te)gt=yt;else{if(!te||"file"!=te.scheme){gt=Rt;continue}if(Te==w)C.host=te.host,C.path=te.path.slice(),C.query=te.query;else if("?"==Te)C.host=te.host,C.path=te.path.slice(),C.query="",gt=ft;else{if("#"!=Te){br(Oe.slice(Wt).join(""))||(C.host=te.host,C.path=te.path.slice(),Bt(C)),gt=Rt;continue}C.host=te.host,C.path=te.path.slice(),C.query=te.query,C.fragment="",gt=xt}}break;case yt:if("/"==Te||"\\"==Te){gt=Nt;break}te&&"file"==te.scheme&&!br(Oe.slice(Wt).join(""))&&(Ht(te.path[0],!0)?C.path.push(te.path[0]):C.host=te.host),gt=Rt;continue;case Nt:if(Te==w||"/"==Te||"\\"==Te||"?"==Te||"#"==Te){if(!U&&Ht(Ie))gt=Rt;else{if(""==Ie){if(C.host="",U)return}else{if(Je=Be(C,Ie))return Je;if("localhost"==C.host&&(C.host=""),U)return;Ie=""}gt=bt}continue}Ie+=Te;break;case bt:if(zt(C)){if(gt=Rt,"/"!=Te&&"\\"!=Te)continue}else if(U||"?"!=Te)if(U||"#"!=Te){if(Te!=w&&(gt=Rt,"/"!=Te))continue}else C.fragment="",gt=xt;else C.query="",gt=ft;break;case Rt:if(Te==w||"/"==Te||"\\"==Te&&zt(C)||!U&&("?"==Te||"#"==Te)){if(jt(Ie)?(Bt(C),"/"==Te||"\\"==Te&&zt(C)||C.path.push("")):fr(Ie)?"/"==Te||"\\"==Te&&zt(C)||C.path.push(""):("file"==C.scheme&&!C.path.length&&Ht(Ie)&&(C.host&&(C.host=""),Ie=Ie.charAt(0)+":"),C.path.push(Ie)),Ie="","file"==C.scheme&&(Te==w||"?"==Te||"#"==Te))for(;1<C.path.length&&""===C.path[0];)C.path.shift();"?"==Te?(C.query="",gt=ft):"#"==Te&&(C.fragment="",gt=xt)}else Ie+=kt(Te,Ze);break;case cr:"?"==Te?(C.query="",gt=ft):"#"==Te?(C.fragment="",gt=xt):Te!=w&&(C.path[0]+=kt(Te,Ye));break;case ft:U||"#"!=Te?Te!=w&&("'"==Te&&zt(C)?C.query+="%27":C.query+="#"==Te?"%23":kt(Te,Ye)):(C.fragment="",gt=xt);break;case xt:Te!=w&&(C.fragment+=kt(Te,it))}Wt++}}function m(Te){var Y,U,te=p(this,m,"URL"),Oe=1<arguments.length?arguments[1]:void 0,Je=(Te=String(Te),re(te,{type:"URL"}));if(void 0!==Oe)if(Oe instanceof m)Y=$(Oe);else if(U=f(Y={},String(Oe)))throw TypeError(U);if(U=f(Je,Te,null,Y))throw TypeError(U);var gt=Je.searchParams=new P;(Oe=J(gt)).updateSearchParams(Je.query),Oe.updateURL=function(){Je.query=String(gt)||null},u||(te.href=Zt.call(te),te.origin=lr.call(te),te.protocol=yr.call(te),te.username=wr.call(te),te.password=xr.call(te),te.host=Mr.call(te),te.hostname=W.call(te),te.port=pe.call(te),te.pathname=Pe.call(te),te.search=b.call(te),te.searchParams=A.call(te),te.hash=R.call(te))}function S(C,Y){return{get:C,set:Y,configurable:!0,enumerable:!0}}D("../modules/es.string.iterator");var w,i,l,a=D("../internals/export"),u=D("../internals/descriptors"),d=D("../internals/native-url"),tr=D("../internals/global"),h=D("../internals/object-define-properties"),g=D("../internals/redefine"),p=D("../internals/an-instance"),y=D("../internals/has"),T=D("../internals/object-assign"),z=D("../internals/array-from"),G=D("../internals/string-multibyte").codeAt,N=D("../internals/string-punycode-to-ascii"),k=D("../internals/set-to-string-tag"),X=D("../modules/web.url-search-params"),O=(D=D("../internals/internal-state"),tr.URL),P=X.URLSearchParams,J=X.getState,re=D.set,$=D.getterFor("URL"),Q=Math.floor,V=Math.pow,H="Invalid authority",Z="Invalid scheme",le="Invalid host",xe="Invalid port",q=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,oe=/\d/,me=/^(0x|0X)/,Se=/^[0-7]+$/,Le=/^\d+$/,Xe=/^[\dA-Fa-f]+$/,lt=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,He=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,nt=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,at=/[\u0009\u000A\u000D]/g,Be=function(C,Y){var U,te,Oe;if("["==Y.charAt(0))return"]"==Y.charAt(Y.length-1)&&(U=function(Te){var Ae,qe,$e,ct,Ft,ur,vr,Je=[0,0,0,0,0,0,0,0],gt=0,Wt=null,Ie=0,Pr=function(){return Te.charAt(Ie)};if(":"==Pr()){if(":"!=Te.charAt(1))return;Ie+=2,Wt=++gt}for(;Pr();){if(8==gt)return;if(":"!=Pr()){for(Ae=qe=0;qe<4&&Xe.test(Pr());)Ae=16*Ae+parseInt(Pr(),16),Ie++,qe++;if("."==Pr()){if(0==qe||(Ie-=qe,gt>6))return;for($e=0;Pr();){if(ct=null,$e>0){if(!("."==Pr()&&$e<4))return;Ie++}if(!oe.test(Pr()))return;for(;oe.test(Pr());){if(Ft=parseInt(Pr(),10),null===ct)ct=Ft;else{if(0==ct)return;ct=10*ct+Ft}if(ct>255)return;Ie++}Je[gt]=256*Je[gt]+ct,(2==++$e||4==$e)&&gt++}if(4!=$e)return;break}if(":"==Pr()){if(Ie++,!Pr())return}else if(Pr())return;Je[gt++]=Ae}else{if(null!==Wt)return;Ie++,Wt=++gt}}if(null!==Wt)for(ur=gt-Wt,gt=7;0!=gt&&ur>0;)vr=Je[gt],Je[gt--]=Je[Wt+ur-1],Je[Wt+--ur]=vr;else if(8!=gt)return;return Je}(Y.slice(1,-1)))?void(C.host=U):le;if(zt(C))return Y=N(Y),lt.test(Y)||null===(U=function(Te){var gt,Wt,Ie,Ae,qe,$e,ct,Je=Te.split(".");if(Je.length&&""==Je[Je.length-1]&&Je.pop(),(gt=Je.length)>4)return Te;for(Wt=[],Ie=0;Ie<gt;Ie++){if(""==(Ae=Je[Ie]))return Te;if(qe=10,Ae.length>1&&"0"==Ae.charAt(0)&&(qe=me.test(Ae)?16:8,Ae=Ae.slice(8==qe?1:2)),""===Ae)$e=0;else{if(!(10==qe?Le:8==qe?Se:Xe).test(Ae))return Te;$e=parseInt(Ae,qe)}Wt.push($e)}for(Ie=0;Ie<gt;Ie++)if($e=Wt[Ie],Ie==gt-1){if($e>=V(256,5-gt))return null}else if($e>255)return null;for(ct=Wt.pop(),Ie=0;Ie<Wt.length;Ie++)ct+=Wt[Ie]*V(256,3-Ie);return ct}(Y))?le:void(C.host=U);if(He.test(Y))return le;for(U="",te=z(Y),Oe=0;Oe<te.length;Oe++)U+=kt(te[Oe],Ye);C.host=U},st=function(C){for(var Y=null,U=1,te=null,Oe=0,Te=0;Te<8;Te++)0!==C[Te]?(U<Oe&&(Y=te,U=Oe),te=null,Oe=0):(null===te&&(te=Te),++Oe);return U<Oe&&(Y=te,U=Oe),Y},Ye={},it=T({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),Ze=T({},it,{"#":1,"?":1,"{":1,"}":1}),pt=T({},Ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kt=function(C,Y){var U=G(C,0);return 32<U&&U<127&&!y(Y,C)?C:encodeURIComponent(C)},ir={ftp:21,file:null,http:80,https:443,ws:80,wss:443},zt=function(C){return y(ir,C.scheme)},hr=function(C){return""!=C.username||""!=C.password},Ht=function(C,Y){return 2==C.length&&q.test(C.charAt(0))&&(":"==(C=C.charAt(1))||!Y&&"|"==C)},br=function(C){return 1<C.length&&Ht(C.slice(0,2))&&(2==C.length||"/"===(C=C.charAt(2))||"\\"===C||"?"===C||"#"===C)},Bt=function(C){var Y=C.path,U=Y.length;!U||"file"==C.scheme&&1==U&&Ht(Y[0],!0)||Y.pop()},fr=function(C){return"."===C||"%2e"===C.toLowerCase()},jt=function(C){return".."===(C=C.toLowerCase())||"%2e."===C||".%2e"===C||"%2e%2e"===C},ar={},$t={},Ve={},We={},Re={},Qe={},Ot={},qt={},nr={},Ct={},Tt={},Gt={},Vt={},Dt={},yt={},Nt={},bt={},Rt={},cr={},ft={},xt={},Zt=(tr=m.prototype,function(){var C=$(this),Y=C.scheme,U=C.username,te=C.password,Oe=C.host,Te=C.port,Je=C.path,gt=C.query,Wt=C.fragment,Ie=Y+":";return null!==Oe?(Ie+="//",hr(C)&&(Ie+=U+(te?":"+te:"")+"@"),Ie+=v(Oe),null!==Te&&(Ie+=":"+Te)):"file"==Y&&(Ie+="//"),Ie+=C.cannotBeABaseURL?Je[0]:Je.length?"/"+Je.join("/"):"",null!==gt&&(Ie+="?"+gt),null!==Wt&&(Ie+="#"+Wt),Ie}),lr=function(){var C=$(this),Y=C.scheme,U=C.port;if("blob"==Y)try{return new URL(Y.path[0]).origin}catch{return"null"}return"file"!=Y&&zt(C)?Y+"://"+v(C.host)+(null!==U?":"+U:""):"null"},yr=function(){return $(this).scheme+":"},wr=function(){return $(this).username},xr=function(){return $(this).password},Mr=function(){var C=(Y=$(this)).host,Y=Y.port;return null===C?"":null===Y?v(C):v(C)+":"+Y},W=function(){var C=$(this).host;return null===C?"":v(C)},pe=function(){var C=$(this).port;return null===C?"":String(C)},Pe=function(){var C=$(this),Y=C.path;return C.cannotBeABaseURL?Y[0]:Y.length?"/"+Y.join("/"):""},b=function(){var C=$(this).query;return C?"?"+C:""},A=function(){return $(this).searchParams},R=function(){var C=$(this).fragment;return C?"#"+C:""};u&&h(tr,{href:S(Zt,function(U){var Y=$(this);if(U=f(Y,U=String(U)))throw TypeError(U);J(Y.searchParams).updateSearchParams(Y.query)}),origin:S(lr),protocol:S(yr,function(C){f($(this),String(C)+":",ar)}),username:S(wr,function(C){var Y=$(this),U=z(String(C));if(!_(Y)){Y.username="";for(var te=0;te<U.length;te++)Y.username+=kt(U[te],pt)}}),password:S(xr,function(C){var Y=$(this),U=z(String(C));if(!_(Y)){Y.password="";for(var te=0;te<U.length;te++)Y.password+=kt(U[te],pt)}}),host:S(Mr,function(C){var Y=$(this);Y.cannotBeABaseURL||f(Y,String(C),Tt)}),hostname:S(W,function(C){var Y=$(this);Y.cannotBeABaseURL||f(Y,String(C),Gt)}),port:S(pe,function(C){var Y=$(this);_(Y)||(""==(C=String(C))?Y.port=null:f(Y,C,Vt))}),pathname:S(Pe,function(C){var Y=$(this);Y.cannotBeABaseURL||(Y.path=[],f(Y,C+"",bt))}),search:S(b,function(C){var Y=$(this);""==(C=String(C))?Y.query=null:("?"==C.charAt(0)&&(C=C.slice(1)),Y.query="",f(Y,C,ft)),J(Y.searchParams).updateSearchParams(Y.query)}),searchParams:S(A),hash:S(R,function(C){var Y=$(this);""==(C=String(C))?Y.fragment=null:("#"==C.charAt(0)&&(C=C.slice(1)),Y.fragment="",f(Y,C,xt))})}),g(tr,"toJSON",function(){return Zt.call(this)},{enumerable:!0}),g(tr,"toString",function(){return Zt.call(this)},{enumerable:!0}),O&&(l=O.revokeObjectURL,(i=O.createObjectURL)&&g(m,"createObjectURL",function(C){return i.apply(O,arguments)}),l&&g(m,"revokeObjectURL",function(C){return l.apply(O,arguments)})),k(m,"URL"),a({global:!0,forced:!d,sham:!u},{URL:m})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,ie,B){"use strict";ie.exports=o("./").polyfill()},{"./":250}],250:[function(o,ie,B){(function(v,_){var m;m=function(){"use strict";function S(Be){return"function"==typeof Be}var w=Array.isArray||function(Be){return"[object Array]"===Object.prototype.toString.call(Be)},i=0,l=void 0,a=void 0,u=function(Be,st){T[i]=Be,T[i+1]=st,2===(i+=2)&&(a?a(z):P())},d=typeof window<"u"?window:void 0,h=(h=d||{}).MutationObserver||h.WebKitMutationObserver,g=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var Be=setTimeout;return function(){return Be(z,1)}}var T=new Array(1e3);function z(){for(var Be=0;Be<i;Be+=2)(0,T[Be])(T[Be+1]),T[Be]=void 0,T[Be+1]=void 0;i=0}var N,k,X,P=void 0;function D(Be,st){var Ye,it=this,Ze=new this.constructor(re),pt=(void 0===Ze[J]&&Xe(Ze),it._state);return pt?(Ye=arguments[pt-1],u(function(){return Se(pt,Ze,Ye,it._result)})):oe(it,Ze,Be,st),Ze}function O(Be){var st;return Be&&"object"==typeof Be&&Be.constructor===this?Be:(le(st=new this(re),Be),st)}P=g?function(){return v.nextTick(z)}:h?(k=0,g=new h(z),X=document.createTextNode(""),g.observe(X,{characterData:!0}),function(){X.data=k=++k%2}):p?((N=new MessageChannel).port1.onmessage=z,function(){return N.port2.postMessage(0)}):(void 0===d&&"function"==typeof o?function G(){try{var Be=Function("return this")().require("vertx");return void 0!==(l=Be.runOnLoop||Be.runOnContext)?function(){l(z)}:y()}catch{return y()}}:y)();var J=Math.random().toString(36).substring(2);function re(){}var $=void 0,Q=1,V=2;function H(Be,st,Ye){u(function(it){var Ze=!1,pt=function(kt,ir,zt,hr){try{kt.call(ir,function(kt){Ze||(Ze=!0,(st!==kt?le:q)(it,kt))},function(kt){Ze||(Ze=!0,j(it,kt))})}catch(Ht){return Ht}}(Ye,st);!Ze&&pt&&(Ze=!0,j(it,pt))},Be)}function Z(Be,st,Ye){var it,Ze;st.constructor===Be.constructor&&Ye===D&&st.constructor.resolve===O?(it=Be,(Ze=st)._state===Q?q(it,Ze._result):Ze._state===V?j(it,Ze._result):oe(Ze,void 0,function(pt){return le(it,pt)},function(pt){return j(it,pt)})):void 0!==Ye&&S(Ye)?H(Be,st,Ye):q(Be,st)}function le(Be,st){if(Be===st)j(Be,new TypeError("You cannot resolve a promise with itself"));else if(Ye=typeof st,null===st||"object"!=Ye&&"function"!=Ye)q(Be,st);else{Ye=void 0;try{Ye=st.then}catch(it){return void j(Be,it)}Z(Be,st,Ye)}var Ye}function xe(Be){Be._onerror&&Be._onerror(Be._result),me(Be)}function q(Be,st){Be._state===$&&(Be._result=st,Be._state=Q,0!==Be._subscribers.length&&u(me,Be))}function j(Be,st){Be._state===$&&(Be._state=V,Be._result=st,u(xe,Be))}function oe(Be,st,Ye,it){var Ze=Be._subscribers,pt=Ze.length;Be._onerror=null,Ze[pt]=st,Ze[pt+Q]=Ye,Ze[pt+V]=it,0===pt&&Be._state&&u(me,Be)}function me(Be){var st=Be._subscribers,Ye=Be._state;if(0!==st.length){for(var it,Ze=void 0,pt=Be._result,kt=0;kt<st.length;kt+=3)Ze=st[kt+Ye],(it=st[kt])?Se(Ye,it,Ze,pt):Ze(pt);Be._subscribers.length=0}}function Se(Be,st,Ye,it){var Ze=S(Ye),pt=void 0,kt=void 0,ir=!0;if(Ze){try{pt=Ye(it)}catch(zt){ir=!1,kt=zt}if(st===pt)return void j(st,new TypeError("A promises callback cannot return that same promise."))}else pt=it;st._state===$&&(Ze&&ir?le(st,pt):!1===ir?j(st,kt):Be===Q?q(st,pt):Be===V&&j(st,pt))}var Le=0;function Xe(Be){Be[J]=Le++,Be._state=void 0,Be._result=void 0,Be._subscribers=[]}He.prototype._enumerate=function(Be){for(var st=0;this._state===$&&st<Be.length;st++)this._eachEntry(Be[st],st)},He.prototype._eachEntry=function(Be,st){var Ye=this._instanceConstructor,it=Ye.resolve;if(it===O){var Ze,pt=void 0,kt=void 0,ir=!1;try{pt=Be.then}catch(zt){ir=!0,kt=zt}pt===D&&Be._state!==$?this._settledAt(Be._state,st,Be._result):"function"!=typeof pt?(this._remaining--,this._result[st]=Be):Ye===nt?(Ze=new Ye(re),ir?j(Ze,kt):Z(Ze,Be,pt),this._willSettleAt(Ze,st)):this._willSettleAt(new Ye(function(zt){return zt(Be)}),st)}else this._willSettleAt(it(Be),st)},He.prototype._settledAt=function(Be,st,Ye){var it=this.promise;it._state===$&&(this._remaining--,Be===V?j(it,Ye):this._result[st]=Ye),0===this._remaining&&q(it,this._result)},He.prototype._willSettleAt=function(Be,st){var Ye=this;oe(Be,void 0,function(it){return Ye._settledAt(Q,st,it)},function(it){return Ye._settledAt(V,st,it)})};var lt=He;function He(Be,st){this._instanceConstructor=Be,this.promise=new Be(re),this.promise[J]||Xe(this.promise),w(st)?(this.length=st.length,this._remaining=st.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(st),0!==this._remaining)||q(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}at.prototype.catch=function(Be){return this.then(null,Be)},at.prototype.finally=function(Be){var st=this.constructor;return S(Be)?this.then(function(Ye){return st.resolve(Be()).then(function(){return Ye})},function(Ye){return st.resolve(Be()).then(function(){throw Ye})}):this.then(Be,Be)};var nt=at;function at(Be){if(this[J]=Le++,this._result=this._state=void 0,this._subscribers=[],re!==Be){if("function"!=typeof Be)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof at))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var st=this;try{Be(function(Ye){le(st,Ye)},function(Ye){j(st,Ye)})}catch(Ye){j(st,Ye)}}}return nt.prototype.then=D,nt.all=function(Be){return new lt(this,Be).promise},nt.race=function(Be){var st=this;return w(Be)?new st(function(Ye,it){for(var Ze=Be.length,pt=0;pt<Ze;pt++)st.resolve(Be[pt]).then(Ye,it)}):new st(function(Ye,it){return it(new TypeError("You must pass an array to race."))})},nt.resolve=O,nt.reject=function(Be){var st=new this(re);return j(st,Be),st},nt._setScheduler=function(Be){a=Be},nt._setAsap=function(Be){u=Be},nt._asap=u,nt.polyfill=function(){var Be=void 0;if(void 0!==_)Be=_;else if(typeof self<"u")Be=self;else try{Be=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var st=Be.Promise;if(st){var Ye=null;try{Ye=Object.prototype.toString.call(st.resolve())}catch{}if("[object Promise]"===Ye&&!st.cast)return}Be.Promise=nt},nt.Promise=nt},"object"==typeof B&&void 0!==ie?ie.exports=m():this.ES6Promise=m()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,ie,B){var _;_=function(f,m){"use strict";function i(a){try{delete window[a]}catch{window[a]=void 0}}function l(a){(a=document.getElementById(a))&&document.getElementsByTagName("head")[0].removeChild(a)}m.exports=function(a){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=a,h=u.timeout||5e3,g=u.jsonpCallback||"callback",p=void 0;return new Promise(function(y,T){var z=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),G=g+"_"+z,N=(window[z]=function(k){y({ok:!0,json:function(){return Promise.resolve(k)}}),p&&clearTimeout(p),l(G),i(z)},d+=-1===d.indexOf("?")?"?":"&",document.createElement("script"));N.setAttribute("src",""+d+g+"="+z),u.charset&&N.setAttribute("charset",u.charset),N.id=G,document.getElementsByTagName("head")[0].appendChild(N),p=setTimeout(function(){T(new Error("JSONP request to "+a+" timed out")),i(z),l(G),window[z]=function(){i(z)}},h),N.onerror=function(){T(new Error("JSONP request to "+a+" failed")),i(z),l(G),p&&clearTimeout(p)}})}},void 0!==B&&void 0!==ie?_(0,ie):(_(_={exports:{}},_),this.fetchJsonp=_.exports)},{}],252:[function(o,ie,B){var v=function(_){"use strict";var f,m,S,w,i,l,u,d,h,g;if(!(void 0===_||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return f=function(){return _.URL||_.webkitURL||_},m=(g=_.document).createElementNS("http://www.w3.org/1999/xhtml","a"),S="download"in m,w=/constructor/i.test(_.HTMLElement)||_.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(p){(_.setImmediate||_.setTimeout)(function(){throw p},0)},4e4,u=function(p){setTimeout(function(){"string"==typeof p?f().revokeObjectURL(p):p.remove()},4e4)},d=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},g=(h=function(p,y,k){k||(p=d(p));var z,G,N=this,X=(k="application/octet-stream"===p.type,function(){for(var D=N,O="writestart progress write writeend".split(" "),J=(O=[].concat(O)).length;J--;){var re=D["on"+O[J]];if("function"==typeof re)try{re.call(D,D)}catch($){l($)}}});N.readyState=N.INIT,S?(z=f().createObjectURL(p),setTimeout(function(){var D,O;m.href=z,m.download=y,D=m,O=new MouseEvent("click"),D.dispatchEvent(O),X(),u(z),N.readyState=N.DONE})):(i||k&&w)&&_.FileReader?((G=new FileReader).onloadend=function(){var D=i?G.result:G.result.replace(/^data:[^;]*;/,"data:attachment/file;");_.open(D,"_blank")||(_.location.href=D),D=void 0,N.readyState=N.DONE,X()},G.readAsDataURL(p),N.readyState=N.INIT):(z=z||f().createObjectURL(p),!k&&_.open(z,"_blank")||(_.location.href=z),N.readyState=N.DONE,X(),u(z))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,y,T){return y=y||p.name||"download",T||(p=d(p)),navigator.msSaveOrOpenBlob(p,y)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,function(p,y,T){return new h(p,y||p.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==ie&&ie.exports&&(ie.exports.saveAs=v)},{}],253:[function(o,ie,B){var v,_=Object.defineProperty,f=(_(B,"__esModule",{value:!0}),B),m={GIFEncoder:()=>X,applyPalette:()=>function($,Q,V="rgb565"){if(!$||!$.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!($ instanceof Uint8Array||$ instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const H=new Uint32Array($.buffer),Z=H.length,le="rgb444"===V?4096:65536,xe=new Uint8Array(Z),q=new Array(le);if("rgba4444"===V)for(let at=0;at<Z;at++){var Se,j=(Se=H[at])>>24&255,oe=Se>>16&255,me=Se>>8&255,Le=(Le=u(Se&=255,me,oe,j))in q?q[Le]:q[Le]=function(Be,st,Ye,it,Ze){let pt=0,kt=1e100;for(let Ht=0;Ht<Ze.length;Ht++){var zt=Ze[Ht],hr=G(zt[3]-it);hr>kt||(hr+=G(zt[0]-Be))>kt||(hr+=G(zt[1]-st))>kt||(hr+=G(zt[2]-Ye))>kt||(kt=hr,pt=Ht)}return pt}(Se,me,oe,j,Q);xe[at]=Le}else{const at="rgb444"===V?d:a;for(let Be=0;Be<Z;Be++){var He,Xe=(He=H[Be])>>16&255,lt=He>>8&255,nt=(nt=at(He&=255,lt,Xe))in q?q[nt]:q[nt]=function(st,Ye,it,Ze){let pt=0,kt=1e100;for(let Ht=0;Ht<Ze.length;Ht++){var zt=Ze[Ht],hr=G(zt[0]-st);hr>kt||(hr+=G(zt[1]-Ye))>kt||(hr+=G(zt[2]-it))>kt||(kt=hr,pt=Ht)}return pt}(He,lt,Xe,Q);xe[Be]=nt}}return xe},default:()=>re,nearestColor:()=>function($,Q,V=T){return $[N($,Q,V)]},nearestColorIndex:()=>N,nearestColorIndexWithDistance:()=>k,prequantize:()=>function($,{roundRGB:Q=5,roundAlpha:V=10,oneBitAlpha:H=null}={}){const Z=new Uint32Array($.buffer);for(let oe=0;oe<Z.length;oe++){let me=(j=Z[oe])>>24&255;var xe=j>>16&255,q=j>>8&255,j=255&j;me=z(me,V),H&&(me=me<=("number"==typeof H?H:127)?0:255),j=z(j,Q),q=z(q,Q),xe=z(xe,Q),Z[oe]=me<<24|xe<<16|q<<8|j}},quantize:()=>function($,Q,V={}){var{format:H="rgb565",clearAlpha:Z=!0,clearAlphaColor:le=0,clearAlphaThreshold:xe=0,oneBitAlpha:q=!1}=V;if(!$||!$.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!($ instanceof Uint8Array||$ instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");$=new Uint32Array($.buffer);let j=!1!==V.useSqrt;const oe="rgba4444"===H,me=function(br,Bt){const jt=new Array("rgb444"===Bt?4096:65536),ar=br.length;if("rgba4444"===Bt)for(let yt=0;yt<ar;++yt){var Re,$t=(Re=br[yt])>>24&255,Ve=Re>>16&255,We=Re>>8&255,Qe=u(Re&=255,We,Ve,$t);let Nt=Qe in jt?jt[Qe]:jt[Qe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Nt.rc+=Re,Nt.gc+=We,Nt.bc+=Ve,Nt.ac+=$t,Nt.cnt++}else if("rgb444"===Bt)for(let yt=0;yt<ar;++yt){var nr,Ot=(nr=br[yt])>>16&255,qt=nr>>8&255,Ct=d(nr&=255,qt,Ot);let Nt=Ct in jt?jt[Ct]:jt[Ct]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Nt.rc+=nr,Nt.gc+=qt,Nt.bc+=Ot,Nt.cnt++}else for(let yt=0;yt<ar;++yt){var Vt,Tt=(Vt=br[yt])>>16&255,Gt=Vt>>8&255,Dt=a(Vt&=255,Gt,Tt);let Nt=Dt in jt?jt[Dt]:jt[Dt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Nt.rc+=Vt,Nt.gc+=Gt,Nt.bc+=Tt,Nt.cnt++}return jt}($,H),Se=me.length,Le=Se-1,Xe=new Uint32Array(Se+1);for(var lt=0,He=0;He<Se;++He){const br=me[He];null!=br&&(zt=1/br.cnt,oe&&(br.ac*=zt),br.rc*=zt,br.gc*=zt,br.bc*=zt,me[lt++]=br)}var nt,at,Be;for(g(Q)/lt<.022&&(j=!1),He=0;He<lt-1;++He)me[He].fw=He+1,me[He+1].bk=He,j&&(me[He].cnt=Math.sqrt(me[He].cnt));for(j&&(me[He].cnt=Math.sqrt(me[He].cnt)),He=0;He<lt;++He){p(me,He,!1);var st=me[He].err;for(at=++Xe[0];1<at&&!(me[nt=Xe[Be=at>>1]].err<=st);at=Be)Xe[at]=nt;Xe[at]=He}var Ye,it=lt-Q;for(He=0;He<it;){for(;;){var Ze=Xe[1];if((Ye=me[Ze]).tm>=Ye.mtm&&me[Ye.nn].mtm<=Ye.tm)break;for(Ye.mtm==Le?Ze=Xe[1]=Xe[Xe[0]--]:(p(me,Ze,!1),Ye.tm=He),st=me[Ze].err,at=1;(Be=at+at)<=Xe[0]&&(Be<Xe[0]&&me[Xe[Be]].err>me[Xe[Be+1]].err&&Be++,!(st<=me[nt=Xe[Be]].err));at=Be)Xe[at]=nt;Xe[at]=Ze}var pt=me[Ye.nn],kt=Ye.cnt,ir=pt.cnt,zt=1/(kt+ir);oe&&(Ye.ac=zt*(kt*Ye.ac+ir*pt.ac)),Ye.rc=zt*(kt*Ye.rc+ir*pt.rc),Ye.gc=zt*(kt*Ye.gc+ir*pt.gc),Ye.bc=zt*(kt*Ye.bc+ir*pt.bc),Ye.cnt+=pt.cnt,Ye.mtm=++He,me[pt.bk].fw=pt.fw,me[pt.fw].bk=pt.bk,pt.mtm=Le}let hr=[];for(He=0;;0){let br=h(Math.round(me[He].rc),0,255),Bt=h(Math.round(me[He].gc),0,255),fr=h(Math.round(me[He].bc),0,255),jt=255;oe&&(jt=h(Math.round(me[He].ac),0,255),q&&(jt=jt<=(Ht="number"==typeof q?q:127)?0:255),Z&&jt<=xe&&(br=Bt=fr=le,jt=0));var Ht=oe?[br,Bt,fr,jt]:[br,Bt,fr];if(function(ar,$t){for(let Re=0;Re<ar.length;Re++){var Ve=(We=ar[Re])[0]===$t[0]&&We[1]===$t[1]&&We[2]===$t[2],We=!(4<=We.length&&4<=$t.length)||We[3]===$t[3];if(Ve&&We)return!0}return!1}(hr,Ht)||hr.push(Ht),0==(He=me[He].fw))break}return hr},snapColorsToPalette:()=>function($,Q,V=5){if($.length&&Q.length){var H=$.map(j=>j.slice(0,3)),Z=V*V,le=$[0].length;for(let j=0;j<Q.length;j++){let oe=Q[j];oe=oe.length<le?[oe[0],oe[1],oe[2],255]:oe.length>le?oe.slice(0,3):oe.slice();var q,xe=(q=k(H,oe.slice(0,3),T))[0];0<(q=q[1])&&q<=Z&&($[xe]=oe)}}}};for(v in m)_(f,v,{get:m[v],enumerable:!0});var S={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w($=256){let Q=0,V=new Uint8Array($);return{get buffer(){return V.buffer},reset(){Q=0},bytesView:()=>V.subarray(0,Q),bytes:()=>V.slice(0,Q),writeByte(Z){H(Q+1),V[Q]=Z,Q++},writeBytes(Z,le=0,xe=Z.length){H(Q+xe);for(let q=0;q<xe;q++)V[Q++]=Z[q+le]},writeBytesView(Z,le=0,xe=Z.byteLength){H(Q+xe),V.set(Z.subarray(le,le+xe),Q),Q+=xe}};function H(Z){var le=V.length;if(!(Z<=le)){Z=Math.max(Z,le*(le<1048576?2:1.125)>>>0),0!=le&&(Z=Math.max(Z,256));const xe=V;V=new Uint8Array(Z),0<Q&&V.set(xe.subarray(0,Q),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function($,Q,V,oe,Z=w(512),le=new Uint8Array(256),xe=new Int32Array(5003),q=new Int32Array(5003)){var j=xe.length;oe=Math.max(2,oe),le.fill(0),q.fill(0),xe.fill(-1);let me=0,Se=0;var Le=oe+1;const Xe=Le;let lt=!1,He=Xe,nt=(1<<He)-1;var at=1<<Le-1;const Be=1+at;let st=2+at,Ye=0,it=V[0],Ze=0;for(let Ht=j;Ht<65536;Ht*=2)++Ze;Ze=8-Ze,Z.writeByte(oe),hr(at);var pt=V.length;for(let Ht=1;Ht<pt;Ht++)e:{var kt=V[Ht],ir=(kt<<12)+it;let br=kt<<Ze^it;if(xe[br]===ir)it=q[br];else{for(var zt=0===br?1:j-br;0<=xe[br];)if((br-=zt)<0&&(br+=j),xe[br]===ir){it=q[br];break e}hr(it),it=kt,st<4096?(q[br]=st++,xe[br]=ir):(xe.fill(-1),st=2+at,lt=!0,hr(at))}}return hr(it),hr(Be),Z.writeByte(0),Z.bytesView();function hr(Ht){for(me&=i[Se],0<Se?me|=Ht<<Se:me=Ht,Se+=He;8<=Se;)le[Ye++]=255&me,254<=Ye&&(Z.writeByte(Ye),Z.writeBytesView(le,0,Ye),Ye=0),me>>=8,Se-=8;if((st>nt||lt)&&(lt?(He=Xe,nt=(1<<He)-1,lt=!1):(++He,nt=12===He?1<<He:(1<<He)-1)),Ht==Be){for(;0<Se;)le[Ye++]=255&me,254<=Ye&&(Z.writeByte(Ye),Z.writeBytesView(le,0,Ye),Ye=0),me>>=8,Se-=8;0<Ye&&(Z.writeByte(Ye),Z.writeBytesView(le,0,Ye),Ye=0)}}};function a($,Q,V){return $<<8&63488|Q<<2&992|V>>3}function u($,Q,V,H){return $>>4|240&Q|(240&V)<<4|(240&H)<<8}function d($,Q,V){return $>>4<<8|240&Q|V>>4}function h($,Q,V){return $<Q?Q:V<$?V:$}function g($){return $*$}function p($,Q,V){var H=0,Z=1e100;const le=$[Q];for(var xe=le.cnt,q=le.ac,j=le.rc,oe=le.gc,me=le.bc,Se=le.fw;0!=Se;Se=$[Se].fw){var Le,lt,Xe=$[Se];Z<=(lt=xe*(lt=Xe.cnt)/(xe+lt))||(Le=0,V&&Z<=(Le+=lt*g(Xe.ac-q))||Z<=(Le+=lt*g(Xe.rc-j))||Z<=(Le+=lt*g(Xe.gc-oe))||Z<=(Le+=lt*g(Xe.bc-me))||(Z=Le,H=Se))}le.err=Z,le.nn=H}function T($,Q){for(var V=0,H=0;H<$.length;H++){var Z=$[H]-Q[H];V+=Z*Z}return V}function z($,Q){return 1<Q?Math.round($/Q)*Q:$}function G($){return $*$}function N($,Q,V=T){let H=1/0,Z=-1;for(let xe=0;xe<$.length;xe++){var le=V(Q,$[xe]);le<H&&(H=le,Z=xe)}return Z}function k($,Q,V=T){let H=1/0,Z=-1;for(let xe=0;xe<$.length;xe++){var le=V(Q,$[xe]);le<H&&(H=le,Z=xe)}return[Z,H]}function X($={}){const{initialCapacity:Q=4096,auto:V=!0}=$,H=w(Q),Z=new Uint8Array(256),le=new Int32Array(5003),xe=new Int32Array(5003);let q=!1;return{reset(){H.reset(),q=!1},finish(){H.writeByte(S.trailer)},bytes:()=>H.bytes(),bytesView:()=>H.bytesView(),get buffer(){return H.buffer},get stream(){return H},writeHeader:j,writeFrame(oe,me,Se,it={}){var{transparent:Xe=!1,transparentIndex:lt=0,delay:zt=0,palette:He=null,repeat:pt=0,colorDepth:nt=8,dispose:at=-1}=it;let Be=!1;if(V?q||(Be=!0,j(),q=!0):Be=!!it.first,me=Math.max(0,Math.floor(me)),Se=Math.max(0,Math.floor(Se)),Be){if(!He)throw new Error("First frame must include a { palette } option");var[it,kt,Ye,ir,Ze=8]=[H,me,Se,He,nt];Ze=128|Ze-1<<4|(ir=J(ir.length)-1),O(it,kt),O(it,Ye),it.writeBytes([Ze,0,0]),D(H,He),0<=pt&&(kt=pt,(ir=H).writeByte(33),ir.writeByte(255),ir.writeByte(11),P(ir,"NETSCAPE2.0"),ir.writeByte(3),ir.writeByte(1),O(ir,kt),ir.writeByte(0))}var st,Ye,Ze=at,pt=Ye=Math.round(zt/10),kt=Xe,ir=lt,zt=((it=H).writeByte(33),it.writeByte(249),it.writeByte(4),ir<0&&(ir=0,kt=!1),kt=kt?(st=1,2):st=0,0<=Ze&&(kt=7&Ze),it.writeByte((kt<<=2)|st),O(it,pt),it.writeByte(ir||0),it.writeByte(0),!!He&&!Be);Xe=me,lt=Se,st=zt?He:null,(at=H).writeByte(44),O(at,0),O(at,0),O(at,Xe),O(at,lt),st?(Xe=J(st.length)-1,at.writeByte(128|Xe)):at.writeByte(0),zt&&D(H,He),[pt,it,lt,Xe,at=8,zt,He,oe]=[H,oe,me,Se,nt,Z,le,xe],l(lt,Xe,it,at,pt,zt,He,oe)}};function j(){P(H,"GIF89a")}}function D($,Q){var V=1<<J(Q.length);for(let H=0;H<V;H++){let Z=[0,0,0];H<Q.length&&(Z=Q[H]),$.writeByte(Z[0]),$.writeByte(Z[1]),$.writeByte(Z[2])}}function O($,Q){$.writeByte(255&Q),$.writeByte(Q>>8&255)}function P($,Q){for(var V=0;V<Q.length;V++)$.writeByte(Q.charCodeAt(V))}function J($){return Math.max(Math.ceil(Math.log2($)),1)}var re=X},{}],254:[function(o,ie,B){B.read=function(v,_,f,m,p){var w,i,l=8*p-m-1,a=(1<<l)-1,u=a>>1,d=-7,h=f?p-1:0,g=f?-1:1;for(p=v[_+h],h+=g,w=p&(1<<-d)-1,p>>=-d,d+=l;0<d;w=256*w+v[_+h],h+=g,d-=8);for(i=w&(1<<-d)-1,w>>=-d,d+=m;0<d;i=256*i+v[_+h],h+=g,d-=8);if(0===w)w=1-u;else{if(w===a)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,m),w-=u}return(p?-1:1)*i*Math.pow(2,w-m)},B.write=function(v,_,f,m,S,y){var i,l,a=8*y-S-1,u=(1<<a)-1,d=u>>1,h=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,g=m?0:y-1,p=m?1:-1;for(y=_<0||0===_&&1/_<0?1:0,_=Math.abs(_),isNaN(_)||_===1/0?(l=isNaN(_)?1:0,i=u):(i=Math.floor(Math.log(_)/Math.LN2),_*(m=Math.pow(2,-i))<1&&(i--,m*=2),2<=(_+=1<=i+d?h/m:h*Math.pow(2,1-d))*m&&(i++,m/=2),u<=i+d?(l=0,i=u):1<=i+d?(l=(_*m-1)*Math.pow(2,S),i+=d):(l=_*Math.pow(2,d-1)*Math.pow(2,S),i=0));8<=S;v[f+g]=255&l,g+=p,l/=256,S-=8);for(i=i<<S|l,a+=S;0<a;v[f+g]=255&i,g+=p,i/=256,a-=8);v[f+g-p]|=128*y}},{}],255:[function(o,ie,B){"use strict";var v;function _(Ve,We){return Ve.b===We.b&&Ve.a===We.a}function f(Ve,We){return Ve.b<We.b||Ve.b===We.b&&Ve.a<=We.a}function m(Ve,We,Re){var Qe=We.b-Ve.b,Ot=Re.b-We.b;return 0<Qe+Ot?Qe<Ot?We.a-Ve.a+Qe/(Qe+Ot)*(Ve.a-Re.a):We.a-Re.a+Ot/(Qe+Ot)*(Re.a-Ve.a):0}function S(Ve,We,Re){var Qe=We.b-Ve.b,Ot=Re.b-We.b;return 0<Qe+Ot?(We.a-Re.a)*Qe+(We.a-Ve.a)*Ot:0}function w(Ve,We){return Ve.a<We.a||Ve.a===We.a&&Ve.b<=We.b}function i(Ve,We,Re){var Qe=We.a-Ve.a,Ot=Re.a-We.a;return 0<Qe+Ot?Qe<Ot?We.b-Ve.b+Qe/(Qe+Ot)*(Ve.b-Re.b):We.b-Re.b+Ot/(Qe+Ot)*(Re.b-Ve.b):0}function l(Ve,We,Re){var Qe=We.a-Ve.a,Ot=Re.a-We.a;return 0<Qe+Ot?(We.b-Re.b)*Qe+(We.b-Ve.b)*Ot:0}function a(Ve,We,Re,Qe){return(Ve=Ve<0?0:Ve)<=(Re=Re<0?0:Re)?0===Re?(We+Qe)/2:We+Ve/(Ve+Re)*(Qe-We):Qe+Re/(Ve+Re)*(We-Qe)}function u(Ve){var We=y(Ve.b);return z(We,Ve.c),z(We.b,Ve.c),G(We,Ve.a),We}function d(Ve,We){var Re=!1,Qe=!1;Ve!==We&&(We.a!==Ve.a&&(Qe=!0,k(We.a,Ve.a)),We.d!==Ve.d&&(Re=!0,X(We.d,Ve.d)),T(We,Ve),Qe||(z(We,Ve.a),Ve.a.c=Ve),Re||(G(We,Ve.d),Ve.d.a=Ve))}function h(Ve){var We=Ve.b,Re=!1;Ve.d!==Ve.b.d&&(Re=!0,X(Ve.d,Ve.b.d)),Ve.c===Ve?k(Ve.a,null):(Ve.b.d.a=Ve.b.e,Ve.a.c=Ve.c,T(Ve,Ve.b.e),Re||G(Ve,Ve.d)),We.c===We?(k(We.a,null),X(We.d,null)):(Ve.d.a=We.b.e,We.a.c=We.c,T(We,We.b.e)),N(Ve)}function g(Ve){var We=y(Ve),Re=We.b;return T(We,Ve.e),We.a=Ve.b.a,z(Re,We.a),We.d=Re.d=Ve.d,We=We.b,T(Ve.b,Ve.b.b.e),T(Ve.b,We),Ve.b.a=We.a,We.b.a.c=We.b,We.b.d=Ve.b.d,We.f=Ve.f,We.b.f=Ve.b.f,We}function p(Ve,We){var Re=!1,Qe=y(Ve),Ot=Qe.b;return We.d!==Ve.d&&(Re=!0,X(We.d,Ve.d)),T(Qe,Ve.e),T(Ot,We),Qe.a=Ve.b.a,Ot.a=We.a,Qe.d=Ot.d=Ve.d,Ve.d.a=Ot,Re||G(Qe,Ve.d),Qe}function y(Ve){var We=new Ye,Re=new Ye;return(((Re.h=Ve.b.h).b.h=We).h=Ve).b.h=Re,We.b=Re,((We.c=We).e=Re).b=We,(Re.c=Re).e=We}function T(Ve,We){var Re=Ve.c,Qe=We.c;Re.b.e=We,(Qe.b.e=Ve).c=Qe,We.c=Re}function z(Ve,We){var Re=We.f,Qe=new Ze(We,Re);for(Re.e=Qe,Re=(We.f=Qe).c=Ve;Re.a=Qe,(Re=Re.c)!==Ve;);}function G(Ve,We){var Re=We.d,Qe=new st(We,Re);for(Re.b=Qe,(We.d=Qe).a=Ve,Qe.c=We.c,Re=Ve;Re.d=Qe,(Re=Re.e)!==Ve;);}function N(Ve){var We=Ve.h;(We.b.h=Ve=Ve.b.h).b.h=We}function k(Ve,We){for(var Re=Ve.c,Qe=Re;Qe.a=We,(Qe=Qe.c)!==Re;);((Qe=Ve.e).f=Re=Ve.f).e=Qe}function X(Ve,We){for(var Re=Ve.a,Qe=Re;Qe.d=We,(Qe=Qe.e)!==Re;);((Qe=Ve.b).d=Re=Ve.d).b=Qe}function D(Ve){var We=0;return Math.abs(Ve[1])>Math.abs(Ve[0])&&(We=1),Math.abs(Ve[2])>Math.abs(Ve[We])?2:We}function O(Ve,We){Ve.f+=We.f,Ve.b.f+=We.b.f}function P(Ve,We,Re){return Re=Re.a,(We=We.a).b.a===(Ve=Ve.a)?Re.b.a===Ve?f(We.a,Re.a)?S(Re.b.a,We.a,Re.a)<=0:0<=S(We.b.a,Re.a,We.a):S(Re.b.a,Ve,Re.a)<=0:Re.b.a===Ve?0<=S(We.b.a,Ve,We.a):(We=m(We.b.a,Ve,We.a),(Ve=m(Re.b.a,Ve,Re.a))<=We)}function J(Ve){Ve.a.i=null;var We=Ve.e;We.a.c=We.c,We.c.a=We.a,Ve.e=null}function re(Ve,We){h(Ve.a),Ve.c=!1,(Ve.a=We).i=Ve}function $(Ve){for(var We=Ve.a.a;(Ve=$t(Ve)).a.a===We;);return Ve.c&&(re(Ve,We=p(ar(Ve).a.b,Ve.a.e)),Ve=$t(Ve)),Ve}function Q(Ve,We,Re){var Qe=new jt;return Qe.a=Re,Qe.e=lt(Ve.f,We.e,Qe),Re.i=Qe}function V(Ve,We){switch(Ve.s){case 100130:return!!(1&We);case 100131:return 0!==We;case 100132:return 0<We;case 100133:return We<0;case 100134:return 2<=We||We<=-2}return!1}function H(Ve){var We=Ve.a,Re=We.d;Re.c=Ve.d,Re.a=We,J(Ve)}function Z(Ve,We,Re){for(We=(Ve=We).a;Ve!==Re;){Ve.c=!1;var Qe=ar(Ve),Ot=Qe.a;if(Ot.a!==We.a){if(!Qe.c){H(Ve);break}re(Qe,Ot=p(We.c.b,Ot.b))}We.c!==Ot&&(d(Ot.b.e,Ot),d(We,Ot)),H(Ve),We=Qe.a,Ve=Qe}return We}function le(Ve,We,Re,Qe,Ot,qt){for(var nr=!0;Q(Ve,We,Re.b),(Re=Re.c)!==Qe;);for(null===Ot&&(Ot=ar(We).a.b.c);(Re=(Qe=ar(We)).a.b).a===Ot.a;)Re.c!==Ot&&(d(Re.b.e,Re),d(Ot.b.e,Re)),Qe.f=We.f-Re.f,Qe.d=V(Ve,Qe.f),We.b=!0,!nr&&oe(Ve,We)&&(O(Re,Ot),J(We),h(Ot)),nr=!1,We=Qe,Ot=Re;We.b=!0,qt&&Se(Ve,We)}function xe(Ve,We,Re,Qe,Ot){var qt=[We.g[0],We.g[1],We.g[2]];We.d=null,We.d=Ve.o&&Ve.o(qt,Re,Qe,Ve.c)||null,null===We.d&&(Ot?Ve.n||(Be(Ve,100156),Ve.n=!0):We.d=Re[0])}function q(Ve,We,Re){var Qe=[null,null,null,null];Qe[0]=We.a.d,Qe[1]=Re.a.d,xe(Ve,We.a,Qe,[.5,.5,0,0],!1),d(We,Re)}function j(Ve,We,Re,Qe,Ot){var qt=Math.abs(We.b-Ve.b)+Math.abs(We.a-Ve.a),nr=Math.abs(Re.b-Ve.b)+Math.abs(Re.a-Ve.a),Ct=Ot+1;Qe[Ot]=.5*nr/(qt+nr),Qe[Ct]=.5*qt/(qt+nr),Ve.g[0]+=Qe[Ot]*We.g[0]+Qe[Ct]*Re.g[0],Ve.g[1]+=Qe[Ot]*We.g[1]+Qe[Ct]*Re.g[1],Ve.g[2]+=Qe[Ot]*We.g[2]+Qe[Ct]*Re.g[2]}function oe(Ve,We){var Re=ar(We),Qe=We.a,Ot=Re.a;if(f(Qe.a,Ot.a)){if(0<S(Ot.b.a,Qe.a,Ot.a))return;if(_(Qe.a,Ot.a)){if(Qe.a!==Ot.a){Re=Ve.e;var qt=Qe.a.h;if(0<=qt){var nr=(Re=Re.b).d,Ct=Re.e,Tt=Re.c,Gt=Tt[qt];nr[Gt]=nr[Re.a],(Tt[nr[Gt]]=Gt)<=--Re.a&&(Gt<=1||f(Ct[nr[Gt>>1]],Ct[nr[Gt]])?Bt:fr)(Re,Gt),Ct[qt]=null,Tt[qt]=Re.b,Re.b=qt}else for(Re.c[-(qt+1)]=null;0<Re.a&&null===Re.c[Re.d[Re.a-1]];)--Re.a;q(Ve,Ot.b.e,Qe)}}else g(Ot.b),d(Qe,Ot.b.e),We.b=Re.b=!0}else{if(S(Qe.b.a,Ot.a,Qe.a)<0)return;$t(We).b=We.b=!0,g(Qe.b),d(Ot.b.e,Qe)}return 1}function me(Ve,We){var Re=ar(We),Qe=We.a,Ot=Re.a,qt=Qe.a,nr=Ot.a,Ct=Qe.b.a,Tt=Ot.b.a,Gt=new Ze;if(S(Ct,Ve.a,qt),S(Tt,Ve.a,nr),!(qt===nr||Math.min(qt.a,Ct.a)>Math.max(nr.a,Tt.a))){if(f(qt,nr)){if(0<S(Tt,qt,nr))return}else if(S(Ct,nr,qt)<0)return;var Vt,Dt,yt=Ct,Nt=qt,bt=Tt,Rt=nr;if(f(yt,Nt)||(Vt=yt,yt=Nt,Nt=Vt),f(bt,Rt)||(Vt=bt,bt=Rt,Rt=Vt),f(yt,bt)||(Vt=yt,yt=bt,bt=Vt,Vt=Nt,Nt=Rt,Rt=Vt),f(bt,Nt)?f(Nt,Rt)?((Vt=m(yt,bt,Nt))+(Dt=m(bt,Nt,Rt))<0&&(Vt=-Vt,Dt=-Dt),Gt.b=a(Vt,bt.b,Dt,Nt.b)):((Vt=S(yt,bt,Nt))+(Dt=-S(yt,Rt,Nt))<0&&(Vt=-Vt,Dt=-Dt),Gt.b=a(Vt,bt.b,Dt,Rt.b)):Gt.b=(bt.b+Nt.b)/2,w(yt,Nt)||(Vt=yt,yt=Nt,Nt=Vt),w(bt,Rt)||(Vt=bt,bt=Rt,Rt=Vt),w(yt,bt)||(Vt=yt,yt=bt,bt=Vt,Vt=Nt,Nt=Rt,Rt=Vt),w(bt,Nt)?w(Nt,Rt)?((Vt=i(yt,bt,Nt))+(Dt=i(bt,Nt,Rt))<0&&(Vt=-Vt,Dt=-Dt),Gt.a=a(Vt,bt.a,Dt,Nt.a)):((Vt=l(yt,bt,Nt))+(Dt=-l(yt,Rt,Nt))<0&&(Vt=-Vt,Dt=-Dt),Gt.a=a(Vt,bt.a,Dt,Rt.a)):Gt.a=(bt.a+Nt.a)/2,f(Gt,Ve.a)&&(Gt.b=Ve.a.b,Gt.a=Ve.a.a),yt=f(qt,nr)?qt:nr,f(yt,Gt)&&(Gt.b=yt.b,Gt.a=yt.a),_(Gt,qt)||_(Gt,nr))return oe(Ve,We),0;if(!_(Ct,Ve.a)&&0<=S(Ct,Ve.a,Gt)||!_(Tt,Ve.a)&&S(Tt,Ve.a,Gt)<=0){if(Tt===Ve.a)g(Qe.b),d(Ot.b,Qe),Qe=ar(We=$(We)).a,Z(Ve,ar(We),Re),le(Ve,We,Qe.b.e,Qe,Qe,!0);else{if(Ct!==Ve.a)return 0<=S(Ct,Ve.a,Gt)&&($t(We).b=We.b=!0,g(Qe.b),Qe.a.b=Ve.a.b,Qe.a.a=Ve.a.a),void(S(Tt,Ve.a,Gt)<=0&&(We.b=Re.b=!0,g(Ot.b),Ot.a.b=Ve.a.b,Ot.a.a=Ve.a.a));for(g(Ot.b),d(Qe.e,Ot.b.e),nr=(qt=Re=We).a.b.a;(qt=$t(qt)).a.b.a===nr;);qt=ar(We=qt).a.b.c,Re.a=Ot.b.e,le(Ve,We,(Ot=Z(Ve,Re,null)).c,Qe.b.c,qt,!0)}return 1}g(Qe.b),g(Ot.b),d(Ot.b.e,Qe),Qe.a.b=Gt.b,Qe.a.a=Gt.a,Qe.a.h=kt(Ve.e,Qe.a),Ot=[0,0,0,0],Gt=[qt.d,Ct.d,nr.d,Tt.d],(Qe=Qe.a).g[0]=Qe.g[1]=Qe.g[2]=0,j(Qe,qt,Ct,Ot,0),j(Qe,nr,Tt,Ot,2),xe(Ve,Qe,Gt,Ot,!0),$t(We).b=We.b=Re.b=!0}}function Se(Ve,We){for(var Re=ar(We);;){for(;Re.b;)Re=ar(We=Re);if(!(We.b||null!==(We=$t(Re=We))&&We.b))break;We.b=!1;var Qe=We.a,Ot=Re.a;if(qt=Qe.b.a!==Ot.b.a)e:{var qt,nr=ar(qt=We),Ct=qt.a,Tt=nr.a,Gt=void 0;if(f(Ct.b.a,Tt.b.a)){if(S(Ct.b.a,Tt.b.a,Ct.a)<0){qt=!1;break e}$t(qt).b=qt.b=!0,Gt=g(Ct),d(Tt.b,Gt),Gt.d.c=qt.d}else{if(0<S(Tt.b.a,Ct.b.a,Tt.a)){qt=!1;break e}qt.b=nr.b=!0,Gt=g(Tt),d(Ct.e,Tt.b),Gt.b.d.c=qt.d}qt=!0}if(qt&&(Re.c?(J(Re),h(Ot),Ot=(Re=ar(We)).a):We.c&&(J(We),h(Qe),Qe=(We=$t(Re)).a)),Qe.a!==Ot.a)if(Qe.b.a===Ot.b.a||We.c||Re.c||Qe.b.a!==Ve.a&&Ot.b.a!==Ve.a)oe(Ve,We);else if(me(Ve,We))break;Qe.a===Ot.a&&Qe.b.a===Ot.b.a&&(O(Ot,Qe),J(We),h(Qe),We=$t(Re))}}function Le(Ve,We){var Re=new jt,Qe=u(Ve.b);Qe.a.b=4e150,Qe.a.a=We,Qe.b.a.b=-4e150,Qe.b.a.a=We,Ve.a=Qe.b.a,Re.a=Qe,Re.f=0,Re.d=!1,Re.c=!1,Re.h=!0,Re.b=!1,Qe=lt(Qe=Ve.f,Qe.a,Re),Re.e=Qe}function Xe(Ve){this.a=new He,this.b=Ve,this.c=P}function lt(Ve,We,Re){for(;null!==(We=We.c).b&&!Ve.c(Ve.b,We.b,Re););return Ve=new He(Re,We.a,We),We.a.c=Ve,We.a=Ve}function He(Ve,We,Re){this.b=Ve||null,this.a=We||this,this.c=Re||this}function nt(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function at(Ve,We){if(Ve.d!==We)for(;Ve.d!==We;)if(Ve.d<We)switch(Ve.d){case 0:Be(Ve,100151),Ve.u(null);break;case 1:Be(Ve,100152),Ve.t()}else switch(Ve.d){case 2:Be(Ve,100154),Ve.v();break;case 1:Be(Ve,100153),Ve.w()}}function Be(Ve,We){Ve.p&&Ve.p(We,Ve.c)}function st(Ve,We){this.b=Ve||this,this.d=We||this,this.a=null,this.c=!1}function Ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function it(){this.c=new Ze,this.a=new st,this.b=new Ye,this.d=new Ye,this.b.b=this.d,this.d.b=this.b}function Ze(Ve,We){this.e=Ve||this,this.f=We||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function pt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new zt}function kt(Ve,We){var Re,Qe,Ot;return Ve.e?(2*(Qe=++(Re=Ve.b).a)>Re.f&&(Re.f*=2,Re.c=hr(Re.c,Re.f+1)),0===Re.b?Ot=Qe:(Ot=Re.b,Re.b=Re.c[Re.b]),Re.e[Ot]=We,Re.c[Ot]=Qe,Re.d[Qe]=Ot,Re.h&&fr(Re,Qe),Ot):(Re=Ve.a++,Ve.c[Re]=We,-(Re+1))}function ir(Ve){if(0===Ve.a)return br(Ve.b);var We=Ve.c[Ve.d[Ve.a-1]];if(0!==Ve.b.a&&f(Ht(Ve.b),We))return br(Ve.b);for(;--Ve.a,0<Ve.a&&null===Ve.c[Ve.d[Ve.a-1]];);return We}function zt(){this.d=hr([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function hr(Ve,We){for(var Re=Array(We),Qe=0;Qe<Ve.length;Qe++)Re[Qe]=Ve[Qe];for(;Qe<We;Qe++)Re[Qe]=0;return Re}function Ht(Ve){return Ve.e[Ve.d[1]]}function br(Ve){var We=Ve.d,Re=Ve.e,Qe=Ve.c,Ot=We[1],qt=Re[Ot];return 0<Ve.a&&(We[1]=We[Ve.a],Qe[We[1]]=1,Re[Ot]=null,Qe[Ot]=Ve.b,Ve.b=Ot,0<--Ve.a&&Bt(Ve,1)),qt}function Bt(Ve,We){for(var Re=Ve.d,Qe=Ve.e,Ot=Ve.c,qt=We,nr=Re[qt];;){var Ct=qt<<1,Tt=(Ct<Ve.a&&f(Qe[Re[Ct+1]],Qe[Re[Ct]])&&(Ct+=1),Re[Ct]);if(Ct>Ve.a||f(Qe[nr],Qe[Tt])){Ot[Re[qt]=nr]=qt;break}Ot[Re[qt]=Tt]=qt,qt=Ct}}function fr(Ve,We){for(var Re=Ve.d,Qe=Ve.e,Ot=Ve.c,qt=We,nr=Re[qt];;){var Ct=qt>>1,Tt=Re[Ct];if(0==Ct||f(Qe[Tt],Qe[nr])){Ot[Re[qt]=nr]=qt;break}Ot[Re[qt]=Tt]=qt,qt=Ct}}function jt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ar(Ve){return Ve.e.c.b}function $t(Ve){return Ve.e.a.b}(v=nt.prototype).x=function(){at(this,0)},v.B=function(Ve,We){switch(Ve){case 100142:return;case 100140:switch(We){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=We)}break;case 100141:return void(this.m=!!We);default:return void Be(this,100900)}Be(this,100901)},v.y=function(Ve){switch(Ve){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Be(this,100900)}return!1},v.A=function(Ve,We,Re){this.j[0]=Ve,this.j[1]=We,this.j[2]=Re},v.z=function(Ve,We){var Re=We||null;switch(Ve){case 100100:case 100106:this.h=Re;break;case 100104:case 100110:this.l=Re;break;case 100101:case 100107:this.k=Re;break;case 100102:case 100108:this.i=Re;break;case 100103:case 100109:this.p=Re;break;case 100105:case 100111:this.o=Re;break;case 100112:this.r=Re;break;default:Be(this,100900)}},v.C=function(Ve,We){var Re=!1,Qe=[0,0,0];at(this,2);for(var Ot=0;Ot<3;++Ot){var qt=Ve[Ot];qt<-1e150&&(qt=-1e150,Re=!0),1e150<qt&&(qt=1e150,Re=!0),Qe[Ot]=qt}Re&&Be(this,100155),null===(Re=this.q)?d(Re=u(this.b),Re.b):(g(Re),Re=Re.e),Re.a.d=We,Re.a.g[0]=Qe[0],Re.a.g[1]=Qe[1],Re.a.g[2]=Qe[2],Re.f=1,Re.b.f=-1,this.q=Re},v.u=function(Ve){at(this,0),this.d=1,this.b=new it,this.c=Ve},v.t=function(){at(this,1),this.d=2,this.q=null},v.v=function(){at(this,2),this.d=1},v.w=function(){at(this,1),this.d=0;var Ve,We,qt=!1,nr=[Re=this.j[0],Qe=this.j[1],Ot=this.j[2]];if(0===Re&&0===Qe&&0===Ot){for(var Qe=[-2e150,-2e150,-2e150],Ct=[2e150,2e150,2e150],Ot=[],Tt=[],Re=(qt=this.b.c).e;Re!==qt;Re=Re.e)for(var Gt=0;Gt<3;++Gt){var Vt=Re.g[Gt];Vt<Ct[Gt]&&(Ct[Gt]=Vt,Tt[Gt]=Re),Vt>Qe[Gt]&&(Qe[Gt]=Vt,Ot[Gt]=Re)}if(Qe[1]-Ct[1]>Qe[Re=0]-Ct[0]&&(Re=1),Ct[Re=Qe[2]-Ct[2]>Qe[Re]-Ct[Re]?2:Re]>=Qe[Re])nr[0]=0,nr[1]=0,nr[2]=1;else{for(Ct=Tt[Re],Tt=[Qe=0,0,0],Ct=[Ct.g[0]-(Ot=Ot[Re]).g[0],Ct.g[1]-Ot.g[1],Ct.g[2]-Ot.g[2]],Gt=[0,0,0],Re=qt.e;Re!==qt;Re=Re.e)Gt[0]=Re.g[0]-Ot.g[0],Gt[1]=Re.g[1]-Ot.g[1],Gt[2]=Re.g[2]-Ot.g[2],Tt[0]=Ct[1]*Gt[2]-Ct[2]*Gt[1],Tt[1]=Ct[2]*Gt[0]-Ct[0]*Gt[2],Tt[2]=Ct[0]*Gt[1]-Ct[1]*Gt[0],Qe<(Vt=Tt[0]*Tt[0]+Tt[1]*Tt[1]+Tt[2]*Tt[2])&&(Qe=Vt,nr[0]=Tt[0],nr[1]=Tt[1],nr[2]=Tt[2]);Qe<=0&&(nr[0]=nr[1]=nr[2]=0,nr[D(Ct)]=1)}qt=!0}for(Qe=((Tt=D(nr))+1)%3,Ot=(Tt+2)%3,Tt=0<nr[Tt]?1:-1,nr=(Re=this.b.c).e;nr!==Re;nr=nr.e)nr.b=nr.g[Qe],nr.a=Tt*nr.g[Ot];if(qt){for(nr=0,Re=(qt=this.b.a).b;Re!==qt;Re=Re.b)if(!((Qe=Re.a).f<=0))for(;nr+=(Qe.a.b-Qe.b.a.b)*(Qe.a.a+Qe.b.a.a),(Qe=Qe.e)!==Re.a;);if(nr<0)for(qt=(nr=this.b.c).e;qt!==nr;qt=qt.e)qt.a=-qt.a}for(this.n=!1,Re=(nr=this.b.b).h;Re!==nr;Re=qt)qt=Re.h,Qe=Re.e,_(Re.a,Re.b.a)&&Re.e.e!==Re&&(q(this,Qe,Re),h(Re),Qe=(Re=Qe).e),Qe.e===Re&&(Qe!==Re&&(Qe!==qt&&Qe!==qt.b||(qt=qt.h),h(Qe)),Re!==qt&&Re!==qt.b||(qt=qt.h),h(Re));for(this.e=nr=new pt,Re=(qt=this.b.c).e;Re!==qt;Re=Re.e)Re.h=kt(nr,Re);var Dt=nr;Dt.d=[];for(var yt=0;yt<Dt.a;yt++)Dt.d[yt]=yt;Dt.d.sort(function(Rt){return function(cr,ft){return f(Rt[cr],Rt[ft])?1:-1}}(Dt.c)),Dt.e=!0;for(var Nt=Dt.b,bt=Nt.a;1<=bt;--bt)Bt(Nt,bt);for(Nt.h=!0,this.f=new Xe(this),Le(this,-4e150),Le(this,4e150);null!==(nr=ir(this.e));){for(;;){e:if(0===(Re=this.e).a)qt=Ht(Re.b);else if(qt=Re.c[Re.d[Re.a-1]],0!==Re.b.a&&f(Re=Ht(Re.b),qt)){qt=Re;break e}if(null===qt||!_(qt,nr))break;qt=ir(this.e),q(this,nr.c,qt.c)}!function Rt(cr,ft){for(var xt,tr=(cr.a=ft).c;null===tr.i;)if((tr=tr.c)===ft.c){tr=cr;var Zt=ft;(xr=new jt).a=Zt.c.b;for(var Mr=(lr=tr.f).a;null!==(Mr=Mr.a).b&&!lr.c(lr.b,xr,Mr.b););var lr,yr,wr=ar(lr=Mr.b),xr=lr.a;return Mr=wr.a,void(0===S(xr.b.a,Zt,xr.a)?_((xr=lr.a).a,Zt)||_(xr.b.a,Zt)||(g(xr.b),lr.c&&(h(xr.c),lr.c=!1),d(Zt.c,xr),Rt(tr,Zt)):(yr=f(Mr.b.a,xr.b.a)?lr:wr,wr=void 0,lr.d||yr.c?(wr=yr===lr?p(Zt.c.b,xr.e):p(Mr.b.c.b,Zt.c).b,yr.c?re(yr,wr):((lr=Q(xr=tr,lr,wr)).f=$t(lr).f+lr.a.f,lr.d=V(xr,lr.f)),Rt(tr,Zt)):le(tr,lr,Zt.c,Zt.c,null,!0)))}lr=(xr=ar(tr=$(tr.i))).a,(xr=Z(cr,xr,null)).c===lr?(xr=(lr=xr).c,Mr=ar(tr),xt=!1,(wr=tr.a).b.a!==(yr=Mr.a).b.a&&me(cr,tr),_(wr.a,cr.a)&&(d(xr.b.e,wr),xr=ar(tr=$(tr)).a,Z(cr,ar(tr),Mr),xt=!0),_(yr.a,cr.a)&&(d(lr,yr.b.e),lr=Z(cr,Mr,null),xt=!0),xt?le(cr,tr,lr.c,xr,xr,!0):(Zt=f(yr.a,wr.a)?yr.b.e:wr,le(cr,tr,Zt=p(lr.c.b,Zt),Zt.c,Zt.c,!1),Zt.b.i.c=!0,Se(cr,tr))):le(cr,tr,xr.c,lr,lr,!0)}(this,nr)}for(this.a=this.f.a.a.b.a.a,nr=0;null!==(qt=this.f.a.a.b);)qt.h||++nr,J(qt);for(this.f=null,(nr=this.e).b=null,nr.d=null,this.e=nr.c=null,Re=(nr=this.b).a.b;Re!==nr.a;Re=qt)qt=Re.b,(Re=Re.a).e.e===Re&&(O(Re.c,Re),h(Re));if(!this.n){if(nr=this.b,this.m)for(Re=nr.b.h;Re!==nr.b;Re=qt)qt=Re.h,Re.b.d.c!==Re.d.c?Re.f=Re.d.c?1:-1:h(Re);else for(Re=nr.a.b;Re!==nr.a;Re=qt)if(qt=Re.b,Re.c){for(Re=Re.a;f(Re.b.a,Re.a);Re=Re.c.b);for(;f(Re.a,Re.b.a);Re=Re.e);for(Qe=Re.c.b,Ot=void 0;Re.e!==Qe;)if(f(Re.b.a,Qe.a)){for(;Qe.e!==Re&&(f((We=Qe.e).b.a,We.a)||S(Qe.a,Qe.b.a,Qe.e.b.a)<=0);)Qe=(Ot=p(Qe.e,Qe)).b;Qe=Qe.c.b}else{for(;Qe.e!==Re&&(f((Ve=Re.c.b).a,Ve.b.a)||0<=S(Re.b.a,Re.a,Re.c.b.a));)Re=(Ot=p(Re,Re.c.b)).b;Re=Re.e}for(;Qe.e.e!==Re;)Qe=(Ot=p(Qe.e,Qe)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(qt=(nr=this.b).a.b;qt!==nr.a;qt=qt.b)if(qt.c){for(this.h&&this.h(2,this.c),Re=qt.a;this.k&&this.k(Re.a.d,this.c),(Re=Re.e)!==qt.a;);this.i&&this.i(this.c)}}else{for(qt=!!this.l,Re=!1,Qe=-1,Ot=(nr=this.b).a.d;Ot!==nr.a;Ot=Ot.d)if(Ot.c)for(Re||(this.h&&this.h(4,this.c),Re=!0),Tt=Ot.a;qt&&Qe!==(Ct=Tt.b.d.c?0:1)&&(Qe=Ct,this.l&&this.l(!!Qe,this.c)),this.k&&this.k(Tt.a.d,this.c),(Tt=Tt.e)!==Ot.a;);Re&&this.i&&this.i(this.c)}if(this.r){for(Re=(nr=this.b).a.b;Re!==nr.a;Re=qt)if(qt=Re.b,!Re.c){for(Ot=(Qe=Re.a).e,Tt=void 0;Ot=(Tt=Ot).e,(Tt.d=null)===Tt.b.d&&(Tt.c===Tt?k(Tt.a,null):(Tt.a.c=Tt.c,T(Tt,Tt.b.e)),(Ct=Tt.b).c===Ct?k(Ct.a,null):(Ct.a.c=Ct.c,T(Ct,Ct.b.e)),N(Tt)),Tt!==Qe;);Qe=Re.d,((Re=Re.b).d=Qe).b=Re}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:nt,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},nt.prototype.gluDeleteTess=nt.prototype.x,nt.prototype.gluTessProperty=nt.prototype.B,nt.prototype.gluGetTessProperty=nt.prototype.y,nt.prototype.gluTessNormal=nt.prototype.A,nt.prototype.gluTessCallback=nt.prototype.z,nt.prototype.gluTessVertex=nt.prototype.C,nt.prototype.gluTessBeginPolygon=nt.prototype.u,nt.prototype.gluTessBeginContour=nt.prototype.t,nt.prototype.gluTessEndContour=nt.prototype.v,nt.prototype.gluTessEndPolygon=nt.prototype.w,void 0!==ie&&(ie.exports=this.libtess)},{}],256:[function(o,ie,B){"use strict";function _(f,m,S,w){for(var i=f[m++],l=1<<i,a=1+l,u=1+a,d=i+1,h=(1<<d)-1,g=0,p=0,y=0,T=f[m++],z=new Int32Array(4096),G=null;;){for(;g<16&&0!==T;)p|=f[m++]<<g,g+=8,1===T?T=f[m++]:--T;if(g<d)break;var N=p&h;if(p>>=d,g-=d,N==l)u=1+a,h=(1<<(d=i+1))-1,G=null;else{if(N==a)break;for(var k=N<u?N:G,X=0,D=k;l<D;)D=z[D]>>8,++X;var O=D;if(w<y+X+(k!==N?1:0))return void console.log("Warning, gif stream longer than expected.");S[y++]=O;var P=y+=X;for(k!==N&&(S[y++]=O),D=k;X--;)S[--P]=255&(D=z[D]),D>>=8;null!==G&&u<4096&&(z[u++]=G<<8|O,h+1<=u&&d<12&&(++d,h=h<<1|1)),G=N}}y!==w&&console.log("Warning, gif stream shorter than expected.")}try{B.GifWriter=function v(f,m,S,w){var i=0,l=void 0===(w=void 0===w?{}:w).loop?null:w.loop,a=void 0===w.palette?null:w.palette;if(m<=0||S<=0||65535<m||65535<S)throw new Error("Width/Height invalid.");function u(G){if((G=G.length)<2||256<G||G&G-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return G}f[i++]=71,f[i++]=73,f[i++]=70,f[i++]=56,f[i++]=57,f[i++]=97;var d=0,h=0;if(null!==a){for(var g=u(a);g>>=1;)++d;if(g=1<<d,--d,void 0!==w.background){if(g<=(h=w.background))throw new Error("Background index out of range.");if(0===h)throw new Error("Background index explicitly passed as 0.")}}if(f[i++]=255&m,f[i++]=m>>8&255,f[i++]=255&S,f[i++]=S>>8&255,f[i++]=(null!==a?128:0)|d,f[i++]=h,f[i++]=0,null!==a)for(var p=0,y=a.length;p<y;++p){var T=a[p];f[i++]=T>>16&255,f[i++]=T>>8&255,f[i++]=255&T}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");f[i++]=33,f[i++]=255,f[i++]=11,f[i++]=78,f[i++]=69,f[i++]=84,f[i++]=83,f[i++]=67,f[i++]=65,f[i++]=80,f[i++]=69,f[i++]=50,f[i++]=46,f[i++]=48,f[i++]=3,f[i++]=1,f[i++]=255&l,f[i++]=l>>8&255,f[i++]=0}var z=!1;this.addFrame=function(G,N,k,X,D,O){if(!0===z&&(--i,z=!1),O=void 0===O?{}:O,G<0||N<0||65535<G||65535<N)throw new Error("x/y invalid.");if(k<=0||X<=0||65535<k||65535<X)throw new Error("Width/Height invalid.");if(D.length<k*X)throw new Error("Not enough pixels for the frame size.");var P=!0,J=O.palette;if(null==J&&(P=!1,J=a),null==J)throw new Error("Must supply either a local or global palette.");for(var $=u(J),re=0;$>>=1;)++re;$=1<<re;var Q=void 0===O.delay?0:O.delay,V=void 0===O.disposal?0:O.disposal;if(V<0||3<V)throw new Error("Disposal out of range.");var H=!1,Z=0;if(null!=O.transparent&&(H=!0,(Z=O.transparent)<0||$<=Z))throw new Error("Transparent color index.");if(0===V&&!H&&0===Q||(f[i++]=33,f[i++]=249,f[i++]=4,f[i++]=V<<2|(!0===H?1:0),f[i++]=255&Q,f[i++]=Q>>8&255,f[i++]=Z,f[i++]=0),f[i++]=44,f[i++]=255&G,f[i++]=G>>8&255,f[i++]=255&N,f[i++]=N>>8&255,f[i++]=255&k,f[i++]=k>>8&255,f[i++]=255&X,f[i++]=X>>8&255,f[i++]=!0===P?128|re-1:0,!0===P)for(var le=0,xe=J.length;le<xe;++le){var q=J[le];f[i++]=q>>16&255,f[i++]=q>>8&255,f[i++]=255&q}return i=function(j,oe,me,Se){j[oe++]=me;var Le=oe++,Xe=1<<me,lt=Xe-1,He=1+Xe,nt=1+He,at=me+1,Be=0,st=0;function Ye(br){for(;br<=Be;)j[oe++]=255&st,st>>=8,Be-=8,oe===Le+256&&(j[Le]=255,Le=oe++)}function it(br){st|=br<<Be,Be+=at,Ye(8)}var Ze=Se[0]&lt,pt={};it(Xe);for(var kt=1,ir=Se.length;kt<ir;++kt){var zt=Se[kt]&lt,hr=Ze<<8|zt,Ht=pt[hr];if(void 0===Ht){for(st|=Ze<<Be,Be+=at;8<=Be;)j[oe++]=255&st,st>>=8,Be-=8,oe===Le+256&&(j[Le]=255,Le=oe++);4096===nt?(it(Xe),nt=1+He,at=me+1,pt={}):(1<<at<=nt&&++at,pt[hr]=nt++),Ze=zt}else Ze=Ht}return it(Ze),it(He),Ye(1),Le+1===oe?j[Le]=0:(j[Le]=oe-Le-1,j[oe++]=0),oe}(f,i,re<2?2:re,D)},this.end=function(){return!1===z&&(f[i++]=59,z=!0),i},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(G){f=G},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(G){i=G}},B.GifReader=function(f){var m=0;if(71!==f[m++]||73!==f[m++]||70!==f[m++]||56!==f[m++]||56!=(f[m++]+1&253)||97!==f[m++])throw new Error("Invalid GIF 87a/89a header.");var S=f[m++]|f[m++]<<8,w=f[m++]|f[m++]<<8,i=f[m++],a=(m++,m++,null),u=null,d=(i>>7&&(a=m,m+=3*(u=1<<1+(7&i))),!0),h=[],g=0,p=null,y=0,T=null;for(this.width=S,this.height=w;d&&m<f.length;)switch(f[m++]){case 33:switch(f[m++]){case 255:if(11!==f[m]||78==f[m+1]&&69==f[m+2]&&84==f[m+3]&&83==f[m+4]&&67==f[m+5]&&65==f[m+6]&&80==f[m+7]&&69==f[m+8]&&50==f[m+9]&&46==f[m+10]&&48==f[m+11]&&3==f[m+12]&&1==f[m+13]&&0==f[m+16])m+=14,T=f[m++]|f[m++]<<8,m++;else for(m+=12;;){if(!(0<=(G=f[m++])))throw Error("Invalid block size");if(0===G)break;m+=G}break;case 249:if(4!==f[m++]||0!==f[m+4])throw new Error("Invalid graphics extension block.");var z=f[m++];g=f[m++]|f[m++]<<8,p=f[m++],!(1&z)&&(p=null),y=z>>2&7,m++;break;case 254:for(;;){if(!(0<=(G=f[m++])))throw Error("Invalid block size");if(0===G)break;m+=G}break;default:throw new Error("Unknown graphic control label: 0x"+f[m-1].toString(16))}break;case 44:var G,N=f[m++]|f[m++]<<8,k=f[m++]|f[m++]<<8,X=f[m++]|f[m++]<<8,D=f[m++]|f[m++]<<8,O=(Q=f[m++])>>6&1,J=a,re=u,$=!1,Q=(Q>>7&&($=!0,J=m,m+=3*(re=1<<1+(7&Q))),m);for(m++;;){if(!(0<=(G=f[m++])))throw Error("Invalid block size");if(0===G)break;m+=G}h.push({x:N,y:k,width:X,height:D,has_local_palette:$,palette_offset:J,palette_size:re,data_offset:Q,data_length:m-Q,transparent_index:p,interlaced:!!O,delay:g,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+f[m-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return T},this.frameInfo=function(V){if(V<0||V>=h.length)throw new Error("Frame index out of range.");return h[V]},this.decodeAndBlitFrameBGRA=function(V,H){for(var Z=(V=this.frameInfo(V)).width*V.height,le=new Uint8Array(Z),xe=(_(f,V.data_offset,le,Z),V.palette_offset),q=V.transparent_index,j=(null===q&&(q=256),V.width),oe=S-j,me=j,Se=4*(V.y*S+V.x),Le=4*((V.y+V.height)*S+V.x),Xe=Se,lt=4*oe,He=(!0===V.interlaced&&(lt+=4*S*7),8),nt=0,at=le.length;nt<at;++nt){var Be,st,Ye=le[nt];0===me&&(me=j,Le<=(Xe+=lt)&&(lt=4*oe+4*S*(He-1),Xe=Se+(j+oe)*(He<<1),He>>=1)),Ye===q?Xe+=4:(Be=f[xe+3*Ye],st=f[xe+3*Ye+1],H[Xe++]=Ye=f[xe+3*Ye+2],H[Xe++]=st,H[Xe++]=Be,H[Xe++]=255),--me}},this.decodeAndBlitFrameRGBA=function(V,H){for(var Z=(V=this.frameInfo(V)).width*V.height,le=new Uint8Array(Z),xe=(_(f,V.data_offset,le,Z),V.palette_offset),q=V.transparent_index,j=(null===q&&(q=256),V.width),oe=S-j,me=j,Se=4*(V.y*S+V.x),Le=4*((V.y+V.height)*S+V.x),Xe=Se,lt=4*oe,He=(!0===V.interlaced&&(lt+=4*S*7),8),nt=0,at=le.length;nt<at;++nt){var Be,st,Ye=le[nt];0===me&&(me=j,Le<=(Xe+=lt)&&(lt=4*oe+4*S*(He-1),Xe=Se+(j+oe)*(He<<1),He>>=1)),Ye===q?Xe+=4:(Be=f[xe+3*Ye],st=f[xe+3*Ye+1],Ye=f[xe+3*Ye+2],H[Xe++]=Be,H[Xe++]=st,H[Xe++]=Ye,H[Xe++]=255),--me}}}}catch{}},{}],257:[function(o,ie,B){(function(v){var f;f=function(m){"use strict";function S(fe){if(null==this)throw TypeError();var F,K=String(this),ne=K.length;if(!((fe=(fe=fe?Number(fe):0)!=fe?0:fe)<0||ne<=fe))return 55296<=(F=K.charCodeAt(fe))&&F<=56319&&fe+1<ne&&56320<=(ne=K.charCodeAt(fe+1))&&ne<=57343?1024*(F-55296)+ne-56320+65536:F}String.prototype.codePointAt||((w=function(){try{var E={},F=Object.defineProperty,K=F(E,E,E)&&F}catch{}return K}())?w(String.prototype,"codePointAt",{value:S,configurable:!0,writable:!0}):String.prototype.codePointAt=S);var w;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(E,F){this.source=E,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=F,this.destLen=0,this.ltree=new a,this.dtree=new a}var d=new a,h=new a,g=new Uint8Array(30),p=new Uint16Array(30),y=new Uint8Array(30),T=new Uint16Array(30),z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G=new a,N=new Uint8Array(320);function k(E,F,K,ne){for(var fe,Me=0;Me<K;++Me)E[Me]=0;for(Me=0;Me<30-K;++Me)E[Me+K]=Me/K|0;for(fe=ne,Me=0;Me<30;++Me)F[Me]=fe,fe+=1<<E[Me]}var X=new Uint16Array(16);function D(E,F,K,ne){for(var fe,Me=0;Me<16;++Me)E.table[Me]=0;for(Me=0;Me<ne;++Me)E.table[F[K+Me]]++;for(Me=fe=E.table[0]=0;Me<16;++Me)X[Me]=fe,fe+=E.table[Me];for(Me=0;Me<ne;++Me)F[K+Me]&&(E.trans[X[F[K+Me]]++]=Me)}function O(E,F,K){if(!F)return K;for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;var ne=E.tag&65535>>>16-F;return E.tag>>>=F,E.bitcount-=F,ne+K}function P(E,F){for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;for(var K=0,ne=0,fe=0,Me=E.tag;ne=2*ne+(1&Me),Me>>>=1,K+=F.table[++fe],0<=(ne-=F.table[fe]););return E.tag=Me,E.bitcount-=fe,F.trans[K+ne]}function J(E,F,K){for(;;){if(256===(ne=P(E,F)))return 0;if(ne<256)E.dest[E.destLen++]=ne;else for(var fe,Me=O(E,g[ne-=257],p[ne]),ne=P(E,K),Ne=fe=E.destLen-O(E,y[ne],T[ne]);Ne<fe+Me;++Ne)E.dest[E.destLen++]=E.dest[Ne]}}for(var re=d,$=h,Q=0;Q<7;++Q)re.table[Q]=0;for(re.table[7]=24,re.table[8]=152,re.table[9]=112,Q=0;Q<24;++Q)re.trans[Q]=256+Q;for(Q=0;Q<144;++Q)re.trans[24+Q]=Q;for(Q=0;Q<8;++Q)re.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)re.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)$.table[Q]=0;for($.table[5]=32,Q=0;Q<32;++Q)$.trans[Q]=Q;k(g,p,4,3),k(y,T,2,1),g[28]=0,p[28]=258;var V=function(E,F){var K,ne,fe,Me=new u(E,F);do{switch(void 0,(ne=Me).bitcount--||(ne.tag=ne.source[ne.sourceIndex++],ne.bitcount=7),fe=1&ne.tag,ne.tag>>>=1,ne=fe,O(Me,2,0)){case 0:K=function(or){for(var Br,Lr;8<or.bitcount;)or.sourceIndex--,or.bitcount-=8;if((Br=256*or.source[or.sourceIndex+1]+or.source[or.sourceIndex])!==(65535&~(256*or.source[or.sourceIndex+3]+or.source[or.sourceIndex+2])))return-3;for(or.sourceIndex+=4,Lr=Br;Lr;--Lr)or.dest[or.destLen++]=or.source[or.sourceIndex++];return or.bitcount=0,0}(Me);break;case 1:K=J(Me,d,h);break;case 2:Ut=Ge=ge=Xt=Ne=be=void 0;for(var Ne,tt=Me,_t=Me.ltree,vt=Me.dtree,Kt=O(tt,5,257),ve=O(tt,5,1),ae=O(tt,4,4),be=0;be<19;++be)N[be]=0;for(be=0;be<ae;++be){var ge=O(tt,3,0);N[z[be]]=ge}for(D(G,N,0,19),Ne=0;Ne<Kt+ve;){var Ge=P(tt,G);switch(Ge){case 16:for(var Ut=N[Ne-1],Xt=O(tt,2,3);Xt;--Xt)N[Ne++]=Ut;break;case 17:for(Xt=O(tt,3,3);Xt;--Xt)N[Ne++]=0;break;case 18:for(Xt=O(tt,7,11);Xt;--Xt)N[Ne++]=0;break;default:N[Ne++]=Ge}}D(_t,N,0,Kt),D(vt,N,Kt,ve),K=J(Me,Me.ltree,Me.dtree);break;default:K=-3}if(0!==K)throw new Error("Data error")}while(!ne);return Me.destLen<Me.dest.length?"function"==typeof Me.dest.slice?Me.dest.slice(0,Me.destLen):Me.dest.subarray(0,Me.destLen):Me.dest};function H(E,F,K,ne,fe){return Math.pow(1-fe,3)*E+3*Math.pow(1-fe,2)*fe*F+3*(1-fe)*Math.pow(fe,2)*K+Math.pow(fe,3)*ne}function Z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(E){throw new Error(E)}function q(E,F){E||xe(F)}Z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Z.prototype.addPoint=function(E,F){"number"==typeof E&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=E,this.x2=E),E<this.x1&&(this.x1=E),E>this.x2&&(this.x2=E)),"number"==typeof F&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=F,this.y2=F),F<this.y1&&(this.y1=F),F>this.y2&&(this.y2=F))},Z.prototype.addX=function(E){this.addPoint(E,null)},Z.prototype.addY=function(E){this.addPoint(null,E)},Z.prototype.addBezier=function(E,F,K,ne,fe,Me,Ne,tt){var _t=[E,F],vt=[K,ne],Kt=[fe,Me],ve=[Ne,tt];this.addPoint(E,F),this.addPoint(Ne,tt);for(var ae=0;ae<=1;ae++){var be,ge=6*_t[ae]-12*vt[ae]+6*Kt[ae],Ge=-3*_t[ae]+9*vt[ae]-9*Kt[ae]+3*ve[ae],Ut=3*vt[ae]-3*_t[ae];0==Ge?0==ge||0<(be=-Ut/ge)&&be<1&&(0===ae&&this.addX(H(_t[ae],vt[ae],Kt[ae],ve[ae],be)),1===ae&&this.addY(H(_t[ae],vt[ae],Kt[ae],ve[ae],be))):(be=Math.pow(ge,2)-4*Ut*Ge)<0||(0<(Ut=(-ge+Math.sqrt(be))/(2*Ge))&&Ut<1&&(0===ae&&this.addX(H(_t[ae],vt[ae],Kt[ae],ve[ae],Ut)),1===ae&&this.addY(H(_t[ae],vt[ae],Kt[ae],ve[ae],Ut))),0<(Ut=(-ge-Math.sqrt(be))/(2*Ge))&&Ut<1&&(0===ae&&this.addX(H(_t[ae],vt[ae],Kt[ae],ve[ae],Ut)),1===ae&&this.addY(H(_t[ae],vt[ae],Kt[ae],ve[ae],Ut))))}},Z.prototype.addQuad=function(E,F,K,ne,fe,Me){this.addBezier(E,F,K=E+2/3*(K-E),ne=F+2/3*(ne-F),K+1/3*(fe-E),ne+1/3*(Me-F),fe,Me)},le.prototype.moveTo=function(E,F){this.commands.push({type:"M",x:E,y:F})},le.prototype.lineTo=function(E,F){this.commands.push({type:"L",x:E,y:F})},le.prototype.curveTo=le.prototype.bezierCurveTo=function(E,F,K,ne,fe,Me){this.commands.push({type:"C",x1:E,y1:F,x2:K,y2:ne,x:fe,y:Me})},le.prototype.quadTo=le.prototype.quadraticCurveTo=function(E,F,K,ne){this.commands.push({type:"Q",x1:E,y1:F,x:K,y:ne})},le.prototype.close=le.prototype.closePath=function(){this.commands.push({type:"Z"})},le.prototype.extend=function(E){var F;if(E.commands)E=E.commands;else if(E instanceof Z)return this.moveTo((F=E).x1,F.y1),this.lineTo(F.x2,F.y1),this.lineTo(F.x2,F.y2),this.lineTo(F.x1,F.y2),void this.close();Array.prototype.push.apply(this.commands,E)},le.prototype.getBoundingBox=function(){for(var E=new Z,F=0,K=0,ne=0,fe=0,Me=0;Me<this.commands.length;Me++){var Ne=this.commands[Me];switch(Ne.type){case"M":E.addPoint(Ne.x,Ne.y),F=ne=Ne.x,K=fe=Ne.y;break;case"L":E.addPoint(Ne.x,Ne.y),ne=Ne.x,fe=Ne.y;break;case"Q":E.addQuad(ne,fe,Ne.x1,Ne.y1,Ne.x,Ne.y),ne=Ne.x,fe=Ne.y;break;case"C":E.addBezier(ne,fe,Ne.x1,Ne.y1,Ne.x2,Ne.y2,Ne.x,Ne.y),ne=Ne.x,fe=Ne.y;break;case"Z":ne=F,fe=K;break;default:throw new Error("Unexpected path command "+Ne.type)}}return E.isEmpty()&&E.addPoint(0,0),E},le.prototype.draw=function(E){E.beginPath();for(var F=0;F<this.commands.length;F+=1){var K=this.commands[F];"M"===K.type?E.moveTo(K.x,K.y):"L"===K.type?E.lineTo(K.x,K.y):"C"===K.type?E.bezierCurveTo(K.x1,K.y1,K.x2,K.y2,K.x,K.y):"Q"===K.type?E.quadraticCurveTo(K.x1,K.y1,K.x,K.y):"Z"===K.type&&E.closePath()}this.fill&&(E.fillStyle=this.fill,E.fill()),this.stroke&&(E.strokeStyle=this.stroke,E.lineWidth=this.strokeWidth,E.stroke())},le.prototype.toPathData=function(E){function F(){for(var Me=arguments,Ne="",tt=0;tt<arguments.length;tt+=1){var _t=Me[tt];0<=_t&&0<tt&&(Ne+=" "),Ne+=Math.round(_t)===_t?""+Math.round(_t):_t.toFixed(E)}return Ne}E=void 0!==E?E:2;for(var K="",ne=0;ne<this.commands.length;ne+=1){var fe=this.commands[ne];"M"===fe.type?K+="M"+F(fe.x,fe.y):"L"===fe.type?K+="L"+F(fe.x,fe.y):"C"===fe.type?K+="C"+F(fe.x1,fe.y1,fe.x2,fe.y2,fe.x,fe.y):"Q"===fe.type?K+="Q"+F(fe.x1,fe.y1,fe.x,fe.y):"Z"===fe.type&&(K+="Z")}return K},le.prototype.toSVG=function(E){var F=(F='<path d="')+this.toPathData(E)+'"';return this.fill&&"black"!==this.fill&&(F+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(F+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),F+"/>"},le.prototype.toDOMElement=function(F){F=this.toPathData(F);var K=document.createElementNS("http://www.w3.org/2000/svg","path");return K.setAttribute("d",F),K};var j={fail:xe,argument:q,assert:q},oe={},me={},Se={};function Le(E){return function(){return E}}me.BYTE=function(E){return j.argument(0<=E&&E<=255,"Byte value should be between 0 and 255."),[E]},Se.BYTE=Le(1),me.CHAR=function(E){return[E.charCodeAt(0)]},Se.CHAR=Le(1),me.CHARARRAY=function(E){for(var F=[],K=0;K<E.length;K+=1)F[K]=E.charCodeAt(K);return F},Se.CHARARRAY=function(E){return E.length},me.USHORT=function(E){return[E>>8&255,255&E]},Se.USHORT=Le(2),me.SHORT=function(E){return[(E=32768<=E?-(65536-E):E)>>8&255,255&E]},Se.SHORT=Le(2),me.UINT24=function(E){return[E>>16&255,E>>8&255,255&E]},Se.UINT24=Le(3),me.ULONG=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},Se.ULONG=Le(4),me.LONG=function(E){return[(E=2147483648<=E?-(4294967296-E):E)>>24&255,E>>16&255,E>>8&255,255&E]},Se.LONG=Le(4),me.FIXED=me.ULONG,Se.FIXED=Se.ULONG,me.FWORD=me.SHORT,Se.FWORD=Se.SHORT,me.UFWORD=me.USHORT,Se.UFWORD=Se.USHORT,me.LONGDATETIME=function(E){return[0,0,0,0,E>>24&255,E>>16&255,E>>8&255,255&E]},Se.LONGDATETIME=Le(8),me.TAG=function(E){return j.argument(4===E.length,"Tag should be exactly 4 ASCII characters."),[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]},Se.TAG=Le(4),me.Card8=me.BYTE,Se.Card8=Se.BYTE,me.Card16=me.USHORT,Se.Card16=Se.USHORT,me.OffSize=me.BYTE,Se.OffSize=Se.BYTE,me.SID=me.USHORT,Se.SID=Se.USHORT,me.NUMBER=function(E){return-107<=E&&E<=107?[E+139]:108<=E&&E<=1131?[247+((E-=108)>>8),255&E]:-1131<=E&&E<=-108?[251+((E=-E-108)>>8),255&E]:-32768<=E&&E<=32767?me.NUMBER16(E):me.NUMBER32(E)},Se.NUMBER=function(E){return me.NUMBER(E).length},me.NUMBER16=function(E){return[28,E>>8&255,255&E]},Se.NUMBER16=Le(3),me.NUMBER32=function(E){return[29,E>>24&255,E>>16&255,E>>8&255,255&E]},Se.NUMBER32=Le(5),me.REAL=function(E){for(var F=E.toString(),K=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(F),ne=(K&&(K=parseFloat("1e"+((K[2]?+K[2]:0)+K[1].length)),F=(Math.round(E*K)/K).toString()),""),fe=0,Me=F.length;fe<Me;fe+=1){var Ne=F[fe];ne+="e"===Ne?"-"===F[++fe]?"c":"b":"."===Ne?"a":"-"===Ne?"e":Ne}for(var tt=[30],_t=0,vt=(ne+=1&ne.length?"f":"ff").length;_t<vt;_t+=2)tt.push(parseInt(ne.substr(_t,2),16));return tt},Se.REAL=function(E){return me.REAL(E).length},me.NAME=me.CHARARRAY,Se.NAME=Se.CHARARRAY,me.STRING=me.CHARARRAY,Se.STRING=Se.CHARARRAY,oe.UTF8=function(E,F,K){for(var ne=[],fe=K,Me=0;Me<fe;Me++,F+=1)ne[Me]=E.getUint8(F);return String.fromCharCode.apply(null,ne)},oe.UTF16=function(E,F,K){for(var ne=[],fe=K/2,Me=0;Me<fe;Me++,F+=2)ne[Me]=E.getUint16(F);return String.fromCharCode.apply(null,ne)},me.UTF16=function(E){for(var F=[],K=0;K<E.length;K+=1){var ne=E.charCodeAt(K);F[F.length]=ne>>8&255,F[F.length]=255&ne}return F},Se.UTF16=function(E){return 2*E.length};var Xe,lt={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},He=(oe.MACSTRING=function(E,F,K,ne){var fe=lt[ne];if(void 0!==fe){for(var Me="",Ne=0;Ne<K;Ne++){var tt=E.getUint8(F+Ne);Me+=tt<=127?String.fromCharCode(tt):fe[127&tt]}return Me}},"function"==typeof WeakMap&&new WeakMap);function nt(E){return-128<=E&&E<=127}me.MACSTRING=function(E,F){var K=function(Ne){if(!Xe)for(var tt in Xe={},lt)Xe[tt]=new String(tt);var _t=Xe[Ne];if(void 0!==_t){if(He){var vt=He.get(_t);if(void 0!==vt)return vt}var Kt=lt[Ne];if(void 0!==Kt){for(var ve={},ae=0;ae<Kt.length;ae++)ve[Kt.charCodeAt(ae)]=ae+128;return He&&He.set(_t,ve),ve}}}(F);if(void 0!==K){for(var ne=[],fe=0;fe<E.length;fe++){var Me=E.charCodeAt(fe);if(128<=Me&&void 0===(Me=K[Me]))return;ne[fe]=Me}return ne}},Se.MACSTRING=function(E,F){return void 0!==(E=me.MACSTRING(E,F))?E.length:0},me.VARDELTAS=function(E){for(var ne=0,F=[];ne<E.length;){var K=E[ne];ne=(0===K?function(fe,Me,Ne){for(var tt=0,_t=fe.length;Me<_t&&tt<64&&0===fe[Me];)++Me,++tt;return Ne.push(128|tt-1),Me}:-128<=K&&K<=127?function(fe,Me,Ne){for(var tt=0,_t=fe.length,vt=Me;vt<_t&&tt<64;){var Kt=fe[vt];if(!nt(Kt)||0===Kt&&vt+1<_t&&0===fe[vt+1])break;++vt,++tt}Ne.push(tt-1);for(var ve=Me;ve<vt;++ve)Ne.push(fe[ve]+256&255);return vt}:function(fe,Me,Ne){for(var tt=0,_t=fe.length,vt=Me;vt<_t&&tt<64;){var Kt=fe[vt];if(0===Kt||nt(Kt)&&vt+1<_t&&nt(fe[vt+1]))break;++vt,++tt}Ne.push(64|tt-1);for(var ve=Me;ve<vt;++ve){var ae=fe[ve];Ne.push(ae+65536>>8&255,ae+256&255)}return vt})(E,ne,F)}return F},me.INDEX=function(E){for(var F=1,K=[F],ne=[],fe=0;fe<E.length;fe+=1){var Me=me.OBJECT(E[fe]);Array.prototype.push.apply(ne,Me),K.push(F+=Me.length)}if(0===ne.length)return[0,0];for(var Ne=[],tt=1+Math.floor(Math.log(F)/Math.log(2))/8|0,_t=[void 0,me.BYTE,me.USHORT,me.UINT24,me.ULONG][tt],vt=0;vt<K.length;vt+=1){var Kt=_t(K[vt]);Array.prototype.push.apply(Ne,Kt)}return Array.prototype.concat(me.Card16(E.length),me.OffSize(tt),Ne,ne)},Se.INDEX=function(E){return me.INDEX(E).length},me.DICT=function(E){for(var F=[],K=Object.keys(E),ne=K.length,fe=0;fe<ne;fe+=1){var Me=parseInt(K[fe],0),Ne=E[Me];F=(F=F.concat(me.OPERAND(Ne.value,Ne.type))).concat(me.OPERATOR(Me))}return F},Se.DICT=function(E){return me.DICT(E).length},me.OPERATOR=function(E){return E<1200?[E]:[12,E-1200]},me.OPERAND=function(E,F){var K=[];if(Array.isArray(F))for(var ne=0;ne<F.length;ne+=1)j.argument(E.length===F.length,"Not enough arguments given for type"+F),K=K.concat(me.OPERAND(E[ne],F[ne]));else if("SID"===F)K=K.concat(me.NUMBER(E));else if("offset"===F)K=K.concat(me.NUMBER32(E));else if("number"===F)K=K.concat(me.NUMBER(E));else{if("real"!==F)throw new Error("Unknown operand type "+F);K=K.concat(me.REAL(E))}return K},me.OP=me.BYTE,Se.OP=Se.BYTE;var at="function"==typeof WeakMap&&new WeakMap;function Be(E,F,K){for(var ne=0;ne<F.length;ne+=1){var fe=F[ne];this[fe.name]=fe.value}if(this.tableName=E,this.fields=F,K)for(var Me=Object.keys(K),Ne=0;Ne<Me.length;Ne+=1){var tt=Me[Ne];void 0!==this[tt]&&(this[tt]=K[tt])}}function st(E,F,K){void 0===K&&(K=F.length);var ne=new Array(F.length+1);ne[0]={name:E+"Count",type:"USHORT",value:K};for(var fe=0;fe<F.length;fe++)ne[fe+1]={name:E+fe,type:"USHORT",value:F[fe]};return ne}function Ye(E,F,K){var ne=F.length,fe=new Array(ne+1);fe[0]={name:E+"Count",type:"USHORT",value:ne};for(var Me=0;Me<ne;Me++)fe[Me+1]={name:E+Me,type:"TABLE",value:K(F[Me],Me)};return fe}function it(E,F,K){var ne=F.length,fe=[];fe[0]={name:E+"Count",type:"USHORT",value:ne};for(var Me=0;Me<ne;Me++)fe=fe.concat(K(F[Me],Me));return fe}function Ze(E){1===E.format?Be.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(st("glyph",E.glyphs))):j.assert(!1,"Can't create coverage table format 2 yet.")}function pt(E){Be.call(this,"scriptListTable",it("scriptRecord",E,function(F,K){var ne=F.script,fe=ne.defaultLangSys;return j.assert(!!fe,"Unable to write GSUB: script "+F.tag+" has no default language system."),[{name:"scriptTag"+K,type:"TAG",value:F.tag},{name:"script"+K,type:"TABLE",value:new Be("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Be("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:fe.reqFeatureIndex}].concat(st("featureIndex",fe.featureIndexes)))}].concat(it("langSys",ne.langSysRecords,function(Me,Ne){var tt=Me.langSys;return[{name:"langSysTag"+Ne,type:"TAG",value:Me.tag},{name:"langSys"+Ne,type:"TABLE",value:new Be("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:tt.reqFeatureIndex}].concat(st("featureIndex",tt.featureIndexes)))}]})))}]}))}function kt(E){Be.call(this,"featureListTable",it("featureRecord",E,function(F,K){var ne=F.feature;return[{name:"featureTag"+K,type:"TAG",value:F.tag},{name:"feature"+K,type:"TABLE",value:new Be("featureTable",[{name:"featureParams",type:"USHORT",value:ne.featureParams}].concat(st("lookupListIndex",ne.lookupListIndexes)))}]}))}function ir(E,F){Be.call(this,"lookupListTable",Ye("lookup",E,function(K){var ne=F[K.lookupType];return j.assert(!!ne,"Unable to write GSUB lookup type "+K.lookupType+" tables."),new Be("lookupTable",[{name:"lookupType",type:"USHORT",value:K.lookupType},{name:"lookupFlag",type:"USHORT",value:K.lookupFlag}].concat(Ye("subtable",K.subtables,ne)))}))}me.CHARSTRING=function(E){if(at){var F=at.get(E);if(void 0!==F)return F}for(var Me=[],K=E.length,ne=0;ne<K;ne+=1){var fe=E[ne];Me=Me.concat(me[fe.type](fe.value))}return at&&at.set(E,Me),Me},Se.CHARSTRING=function(E){return me.CHARSTRING(E).length},me.OBJECT=function(E){var F=me[E.type];return j.argument(void 0!==F,"No encoding function for type "+E.type),F(E.value)},Se.OBJECT=function(E){var F=Se[E.type];return j.argument(void 0!==F,"No sizeOf function for type "+E.type),F(E.value)},me.TABLE=function(E){for(var F=[],K=E.fields.length,ne=[],fe=[],Me=0;Me<K;Me+=1){var Ne=E.fields[Me],tt=(j.argument(void 0!==(_t=me[Ne.type]),"No encoding function for field type "+Ne.type+" ("+Ne.name+")"),E[Ne.name]),_t=_t(tt=void 0===tt?Ne.value:tt);"TABLE"===Ne.type?(fe.push(F.length),F=F.concat([0,0]),ne.push(_t)):F=F.concat(_t)}for(var vt=0;vt<ne.length;vt+=1){var Kt=fe[vt],ve=F.length;j.argument(ve<65536,"Table "+E.tableName+" too big."),F[Kt]=ve>>8,F[Kt+1]=255&ve,F=F.concat(ne[vt])}return F},Se.TABLE=function(E){for(var F=0,K=E.fields.length,ne=0;ne<K;ne+=1){var fe=E.fields[ne],Me=Se[fe.type],Ne=(j.argument(void 0!==Me,"No sizeOf function for field type "+fe.type+" ("+fe.name+")"),E[fe.name]);F+=Me(Ne=void 0===Ne?fe.value:Ne),"TABLE"===fe.type&&(F+=2)}return F},me.RECORD=me.TABLE,Se.RECORD=Se.TABLE,me.LITERAL=function(E){return E},Se.LITERAL=function(E){return E.length},Be.prototype.encode=function(){return me.TABLE(this)},Be.prototype.sizeOf=function(){return Se.TABLE(this)};var zt={Table:Be,Record:Be,Coverage:(Ze.prototype=Object.create(Be.prototype)).constructor=Ze,ScriptList:(pt.prototype=Object.create(Be.prototype)).constructor=pt,FeatureList:(kt.prototype=Object.create(Be.prototype)).constructor=kt,LookupList:(ir.prototype=Object.create(Be.prototype)).constructor=ir,ushortList:st,tableList:Ye,recordList:it};function hr(E,F){return E.getUint8(F)}function Ht(E,F){return E.getUint16(F,!1)}function br(E,F){return E.getUint32(F,!1)}function Bt(E,F){return E.getInt16(F,!1)+E.getUint16(F+2,!1)/65535}var fr={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function jt(E,F){this.data=E,this.offset=F,this.relativeOffset=0}jt.prototype.parseByte=function(){var E=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},jt.prototype.parseChar=function(){var E=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},jt.prototype.parseCard8=jt.prototype.parseByte,jt.prototype.parseCard16=jt.prototype.parseUShort=function(){var E=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},jt.prototype.parseSID=jt.prototype.parseUShort,jt.prototype.parseOffset16=jt.prototype.parseUShort,jt.prototype.parseShort=function(){var E=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},jt.prototype.parseF2Dot14=function(){var E=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,E},jt.prototype.parseOffset32=jt.prototype.parseULong=function(){var E=br(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},jt.prototype.parseFixed=function(){var E=Bt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},jt.prototype.parseString=function(E){var F=this.data,K=this.offset+this.relativeOffset,ne="";this.relativeOffset+=E;for(var fe=0;fe<E;fe++)ne+=String.fromCharCode(F.getUint8(K+fe));return ne},jt.prototype.parseTag=function(){return this.parseString(4)},jt.prototype.parseLongDateTime=function(){var E=br(this.data,this.offset+this.relativeOffset+4);return E-=2082844800,this.relativeOffset+=8,E},jt.prototype.parseVersion=function(E){var F=Ht(this.data,this.offset+this.relativeOffset),K=Ht(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,F+K/(E=void 0===E?4096:E)/10},jt.prototype.skip=function(E,F){this.relativeOffset+=fr[E]*(F=void 0===F?1:F)},jt.prototype.parseULongList=function(E){void 0===E&&(E=this.parseULong());for(var F=new Array(E),K=this.data,ne=this.offset+this.relativeOffset,fe=0;fe<E;fe++)F[fe]=K.getUint32(ne),ne+=4;return this.relativeOffset+=4*E,F},jt.prototype.parseOffset16List=jt.prototype.parseUShortList=function(E){void 0===E&&(E=this.parseUShort());for(var F=new Array(E),K=this.data,ne=this.offset+this.relativeOffset,fe=0;fe<E;fe++)F[fe]=K.getUint16(ne),ne+=2;return this.relativeOffset+=2*E,F},jt.prototype.parseShortList=function(E){for(var F=new Array(E),K=this.data,ne=this.offset+this.relativeOffset,fe=0;fe<E;fe++)F[fe]=K.getInt16(ne),ne+=2;return this.relativeOffset+=2*E,F},jt.prototype.parseByteList=function(E){for(var F=new Array(E),K=this.data,ne=this.offset+this.relativeOffset,fe=0;fe<E;fe++)F[fe]=K.getUint8(ne++);return this.relativeOffset+=E,F},jt.prototype.parseList=function(E,F){F||(F=E,E=this.parseUShort());for(var K=new Array(E),ne=0;ne<E;ne++)K[ne]=F.call(this);return K},jt.prototype.parseList32=function(E,F){F||(F=E,E=this.parseULong());for(var K=new Array(E),ne=0;ne<E;ne++)K[ne]=F.call(this);return K},jt.prototype.parseRecordList=function(E,F){F||(F=E,E=this.parseUShort());for(var K=new Array(E),ne=Object.keys(F),fe=0;fe<E;fe++){for(var Me={},Ne=0;Ne<ne.length;Ne++){var tt=ne[Ne];Me[tt]=F[tt].call(this)}K[fe]=Me}return K},jt.prototype.parseRecordList32=function(E,F){F||(F=E,E=this.parseULong());for(var K=new Array(E),ne=Object.keys(F),fe=0;fe<E;fe++){for(var Me={},Ne=0;Ne<ne.length;Ne++){var tt=ne[Ne];Me[tt]=F[tt].call(this)}K[fe]=Me}return K},jt.prototype.parseStruct=function(E){if("function"==typeof E)return E.call(this);for(var F=Object.keys(E),K={},ne=0;ne<F.length;ne++){var fe=F[ne];K[fe]=E[fe].call(this)}return K},jt.prototype.parseValueRecord=function(E){var F;if(0!==(E=void 0===E?this.parseUShort():E))return F={},1&E&&(F.xPlacement=this.parseShort()),2&E&&(F.yPlacement=this.parseShort()),4&E&&(F.xAdvance=this.parseShort()),8&E&&(F.yAdvance=this.parseShort()),16&E&&(F.xPlaDevice=void 0,this.parseShort()),32&E&&(F.yPlaDevice=void 0,this.parseShort()),64&E&&(F.xAdvDevice=void 0,this.parseShort()),128&E&&(F.yAdvDevice=void 0,this.parseShort()),F},jt.prototype.parseValueRecordList=function(){for(var E=this.parseUShort(),F=this.parseUShort(),K=new Array(F),ne=0;ne<F;ne++)K[ne]=this.parseValueRecord(E);return K},jt.prototype.parsePointer=function(E){var F=this.parseOffset16();if(0<F)return new jt(this.data,this.offset+F).parseStruct(E)},jt.prototype.parsePointer32=function(E){var F=this.parseOffset32();if(0<F)return new jt(this.data,this.offset+F).parseStruct(E)},jt.prototype.parseListOfLists=function(E){for(var F=this.parseOffset16List(),K=F.length,ne=this.relativeOffset,fe=new Array(K),Me=0;Me<K;Me++){var Ne=F[Me];if(0===Ne)fe[Me]=void 0;else if(this.relativeOffset=Ne,E){for(var tt=this.parseOffset16List(),_t=new Array(tt.length),vt=0;vt<tt.length;vt++)this.relativeOffset=Ne+tt[vt],_t[vt]=E.call(this);fe[Me]=_t}else fe[Me]=this.parseUShortList()}return this.relativeOffset=ne,fe},jt.prototype.parseCoverage=function(){var E=this.offset+this.relativeOffset,F=this.parseUShort(),K=this.parseUShort();if(1===F)return{format:1,glyphs:this.parseUShortList(K)};if(2!==F)throw new Error("0x"+E.toString(16)+": Coverage format must be 1 or 2.");for(var ne=new Array(K),fe=0;fe<K;fe++)ne[fe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ne}},jt.prototype.parseClassDef=function(){var E=this.offset+this.relativeOffset,F=this.parseUShort();if(1===F)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===F)return{format:2,ranges:this.parseRecordList({start:jt.uShort,end:jt.uShort,classId:jt.uShort})};throw new Error("0x"+E.toString(16)+": ClassDef format must be 1 or 2.")},jt.list=function(E,F){return function(){return this.parseList(E,F)}},jt.list32=function(E,F){return function(){return this.parseList32(E,F)}},jt.recordList=function(E,F){return function(){return this.parseRecordList(E,F)}},jt.recordList32=function(E,F){return function(){return this.parseRecordList32(E,F)}},jt.pointer=function(E){return function(){return this.parsePointer(E)}},jt.pointer32=function(E){return function(){return this.parsePointer32(E)}},jt.tag=jt.prototype.parseTag,jt.byte=jt.prototype.parseByte,jt.uShort=jt.offset16=jt.prototype.parseUShort,jt.uShortList=jt.prototype.parseUShortList,jt.uLong=jt.offset32=jt.prototype.parseULong,jt.uLongList=jt.prototype.parseULongList,jt.struct=jt.prototype.parseStruct,jt.coverage=jt.prototype.parseCoverage,jt.classDef=jt.prototype.parseClassDef;var ar={reserved:jt.uShort,reqFeatureIndex:jt.uShort,featureIndexes:jt.uShortList},$t=(jt.prototype.parseScriptList=function(){return this.parsePointer(jt.recordList({tag:jt.tag,script:jt.pointer({defaultLangSys:jt.pointer(ar),langSysRecords:jt.recordList({tag:jt.tag,langSys:jt.pointer(ar)})})}))||[]},jt.prototype.parseFeatureList=function(){return this.parsePointer(jt.recordList({tag:jt.tag,feature:jt.pointer({featureParams:jt.offset16,lookupListIndexes:jt.uShortList})}))||[]},jt.prototype.parseLookupList=function(E){return this.parsePointer(jt.list(jt.pointer(function(){var F=this.parseUShort(),K=(j.argument(1<=F&&F<=9,"GPOS/GSUB lookup type "+F+" unknown."),this.parseUShort()),ne=16&K;return{lookupType:F,lookupFlag:K,subtables:this.parseList(jt.pointer(E[F])),markFilteringSet:ne?this.parseUShort():void 0}})))||[]},jt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var E=this.parseUShort(),F=this.parseUShort();return j.argument(1===E&&F<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:jt.offset32,featureTableSubstitutionOffset:jt.offset32})})||[]},{getByte:hr,getCard8:hr,getUShort:Ht,getCard16:Ht,getShort:function(E,F){return E.getInt16(F,!1)},getULong:br,getFixed:Bt,getTag:function(E,F){for(var K="",ne=F;ne<F+4;ne+=1)K+=String.fromCharCode(E.getInt8(ne));return K},getOffset:function(E,F,K){for(var ne=0,fe=0;fe<K;fe+=1)ne=(ne<<=8)+E.getUint8(F+fe);return ne},getBytes:function(E,F,K){for(var ne=[],fe=F;fe<K;fe+=1)ne.push(E.getUint8(fe));return ne},bytesToString:function(E){for(var F="",K=0;K<E.length;K+=1)F+=String.fromCharCode(E[K]);return F},Parser:jt}),Ve_parse=function(E,F){for(var K={},ne=(K.version=$t.getUShort(E,F),j.argument(0===K.version,"cmap table version should be 0."),K.numTables=$t.getUShort(E,F+2),-1),fe=K.numTables-1;0<=fe;--fe){var Me=$t.getUShort(E,F+4+8*fe),Ne=$t.getUShort(E,F+4+8*fe+2);if(3===Me&&(0===Ne||1===Ne||10===Ne)||0===Me&&(0===Ne||1===Ne||2===Ne||3===Ne||4===Ne)){ne=$t.getULong(E,F+4+8*fe+4);break}}if(-1===ne)throw new Error("No valid cmap sub-tables found.");var tt=new $t.Parser(E,F+ne);if(K.format=tt.parseUShort(),12===K.format){var _t,vt=K,Kt=tt;Kt.parseUShort(),vt.length=Kt.parseULong(),vt.language=Kt.parseULong(),vt.groupCount=_t=Kt.parseULong(),vt.glyphIndexMap={};for(var ve=0;ve<_t;ve+=1)for(var ae=Kt.parseULong(),be=Kt.parseULong(),ge=Kt.parseULong(),Ge=ae;Ge<=be;Ge+=1)vt.glyphIndexMap[Ge]=ge,ge++}else{if(4!==K.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+K.format+").");var Ut=K,Xt=E,or=F,Br=ne;Ut.length=tt.parseUShort(),Ut.language=tt.parseUShort(),Ut.segCount=Lr=tt.parseUShort()>>1,tt.skip("uShort",3),Ut.glyphIndexMap={};for(var Lr,zr=new $t.Parser(Xt,or+Br+14),Wr=new $t.Parser(Xt,or+Br+16+2*Lr),Qr=new $t.Parser(Xt,or+Br+16+4*Lr),vn=new $t.Parser(Xt,or+Br+16+6*Lr),qn=or+Br+16+8*Lr,to=0;to<Lr-1;to+=1)for(var so=void 0,Kn=zr.parseUShort(),fo=Wr.parseUShort(),Tn=Qr.parseShort(),Mn=vn.parseUShort(),$r=fo;$r<=Kn;$r+=1)0!==Mn?(qn=(qn=vn.offset+vn.relativeOffset-2)+Mn+2*($r-fo),0!==(so=$t.getUShort(Xt,qn))&&(so=so+Tn&65535)):so=$r+Tn&65535,Ut.glyphIndexMap[$r]=so}return K},Ve_make=function(E){for(var F=!0,K=E.length-1;0<K;--K)if(65535<E.get(K).unicode){console.log("Adding CMAP format 12 (needed!)"),F=!1;break}var ne,fe,Me=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:F?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:F?12:20}],Ne=(Me=(Me=F?Me:Me.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new zt.Table("cmap",Me));for(Ne.segments=[],K=0;K<E.length;K+=1){for(var tt=E.get(K),_t=0;_t<tt.unicodes.length;_t+=1)Ne.segments.push({end:ne=tt.unicodes[_t],start:ne,delta:-(ne-(fe=K)),offset:0,glyphIndex:fe});Ne.segments=Ne.segments.sort(function(or,Br){return or.start-Br.start})}Ne.segments.push({end:65535,start:65535,delta:1,offset:0});var vt=Ne.segments.length,Kt=0,ve=[],ae=[],be=[],ge=[],Ge=[],Ut=[];for(K=0;K<vt;K+=1){var Xt=Ne.segments[K];Xt.end<=65535&&Xt.start<=65535?(ve=ve.concat({name:"end_"+K,type:"USHORT",value:Xt.end}),ae=ae.concat({name:"start_"+K,type:"USHORT",value:Xt.start}),be=be.concat({name:"idDelta_"+K,type:"SHORT",value:Xt.delta}),ge=ge.concat({name:"idRangeOffset_"+K,type:"USHORT",value:Xt.offset}),void 0!==Xt.glyphId&&(Ge=Ge.concat({name:"glyph_"+K,type:"USHORT",value:Xt.glyphId}))):Kt+=1,F||void 0===Xt.glyphIndex||(Ut=(Ut=(Ut=Ut.concat({name:"cmap12Start_"+K,type:"ULONG",value:Xt.start})).concat({name:"cmap12End_"+K,type:"ULONG",value:Xt.end})).concat({name:"cmap12Glyph_"+K,type:"ULONG",value:Xt.glyphIndex}))}return Ne.segCountX2=2*(vt-Kt),Ne.searchRange=2*Math.pow(2,Math.floor(Math.log(vt-Kt)/Math.log(2))),Ne.entrySelector=Math.log(Ne.searchRange/2)/Math.log(2),Ne.rangeShift=Ne.segCountX2-Ne.searchRange,Ne.fields=Ne.fields.concat(ve),Ne.fields.push({name:"reservedPad",type:"USHORT",value:0}),Ne.fields=Ne.fields.concat(ae),Ne.fields=Ne.fields.concat(be),Ne.fields=Ne.fields.concat(ge),Ne.fields=Ne.fields.concat(Ge),Ne.cmap4Length=14+2*ve.length+2+2*ae.length+2*be.length+2*ge.length+2*Ge.length,F||(Me=16+4*Ut.length,Ne.cmap12Offset=20+Ne.cmap4Length,Ne.fields=Ne.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Me},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ut.length/3}]),Ne.fields=Ne.fields.concat(Ut)),Ne},We=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Qe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ot=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function qt(E){this.font=E}function nr(E){this.cmap=E}function Ct(E,F){this.encoding=E,this.charset=F}function Tt(E){switch(E.version){case 1:this.names=Ot.slice();break;case 2:this.names=new Array(E.numberOfGlyphs);for(var F=0;F<E.numberOfGlyphs;F++)this.names[F]=E.glyphNameIndex[F]<Ot.length?Ot[E.glyphNameIndex[F]]:E.names[E.glyphNameIndex[F]-Ot.length];break;case 2.5:this.names=new Array(E.numberOfGlyphs);for(var K=0;K<E.numberOfGlyphs;K++)this.names[K]=Ot[K+E.glyphNameIndex[K]];break;default:this.names=[]}}qt.prototype.charToGlyphIndex=function(E){var F=E.codePointAt(0),K=this.font.glyphs;if(K)for(var ne=0;ne<K.length;ne+=1)for(var fe=K.get(ne),Me=0;Me<fe.unicodes.length;Me+=1)if(fe.unicodes[Me]===F)return ne;return null},nr.prototype.charToGlyphIndex=function(E){return this.cmap.glyphIndexMap[E.codePointAt(0)]||0},Ct.prototype.charToGlyphIndex=function(E){return E=E.codePointAt(0),this.charset.indexOf(E=this.encoding[E])},Tt.prototype.nameToGlyphIndex=function(E){return this.names.indexOf(E)},Tt.prototype.glyphIndexToName=function(E){return this.names[E]};var Gt_line=function(E,F,K,ne,fe){E.beginPath(),E.moveTo(F,K),E.lineTo(ne,fe),E.stroke()};function Vt(E){this.bindConstructorValues(E)}function Dt(E,F,K){Object.defineProperty(E,F,{get:function(){return E[K]},set:function(ne){E[K]=ne},enumerable:!0,configurable:!0})}function yt(E,F){if(this.font=E,this.glyphs={},Array.isArray(F))for(var K=0;K<F.length;K++)this.glyphs[K]=F[K];this.length=F&&F.length||0}Vt.prototype.bindConstructorValues=function(E){var F;this.index=E.index||0,this.name=E.name||null,this.unicode=E.unicode||void 0,this.unicodes=E.unicodes||void 0!==E.unicode?[E.unicode]:[],E.xMin&&(this.xMin=E.xMin),E.yMin&&(this.yMin=E.yMin),E.xMax&&(this.xMax=E.xMax),E.yMax&&(this.yMax=E.yMax),E.advanceWidth&&(this.advanceWidth=E.advanceWidth),Object.defineProperty(this,"path",(F=(E=E.path)||new le,{configurable:!0,get:function(){return F="function"==typeof F?F():F},set:function(K){F=K}}))},Vt.prototype.addUnicode=function(E){0===this.unicodes.length&&(this.unicode=E),this.unicodes.push(E)},Vt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Vt.prototype.getPath=function(E,F,K,ne,fe){E=void 0!==E?E:0,F=void 0!==F?F:0,K=void 0!==K?K:72;for(var Me,Ne,tt=(ne=ne||{}).xScale,_t=ne.yScale,vt=((Me=ne.hinting&&fe&&fe.hinting?this.path&&fe.hinting.exec(this,K):Me)?(Ne=fe.hinting.getCommands(Me),E=Math.round(E),F=Math.round(F),tt=_t=1):(Ne=this.path.commands,ne=1/this.path.unitsPerEm*K,void 0===tt&&(tt=ne),void 0===_t&&(_t=ne)),new le),Kt=0;Kt<Ne.length;Kt+=1){var ve=Ne[Kt];"M"===ve.type?vt.moveTo(E+ve.x*tt,F+-ve.y*_t):"L"===ve.type?vt.lineTo(E+ve.x*tt,F+-ve.y*_t):"Q"===ve.type?vt.quadraticCurveTo(E+ve.x1*tt,F+-ve.y1*_t,E+ve.x*tt,F+-ve.y*_t):"C"===ve.type?vt.curveTo(E+ve.x1*tt,F+-ve.y1*_t,E+ve.x2*tt,F+-ve.y2*_t,E+ve.x*tt,F+-ve.y*_t):"Z"===ve.type&&vt.closePath()}return vt},Vt.prototype.getContours=function(){if(void 0===this.points)return[];for(var E=[],F=[],K=0;K<this.points.length;K+=1){var ne=this.points[K];F.push(ne),ne.lastPointOfContour&&(E.push(F),F=[])}return j.argument(0===F.length,"There are still points left in the current contour."),E},Vt.prototype.getMetrics=function(){for(var E=this.path.commands,F=[],K=[],ne=0;ne<E.length;ne+=1){var fe=E[ne];"Z"!==fe.type&&(F.push(fe.x),K.push(fe.y)),"Q"!==fe.type&&"C"!==fe.type||(F.push(fe.x1),K.push(fe.y1)),"C"===fe.type&&(F.push(fe.x2),K.push(fe.y2))}var Me={xMin:Math.min.apply(null,F),yMin:Math.min.apply(null,K),xMax:Math.max.apply(null,F),yMax:Math.max.apply(null,K),leftSideBearing:this.leftSideBearing};return isFinite(Me.xMin)||(Me.xMin=0),isFinite(Me.xMax)||(Me.xMax=this.advanceWidth),isFinite(Me.yMin)||(Me.yMin=0),isFinite(Me.yMax)||(Me.yMax=0),Me.rightSideBearing=this.advanceWidth-Me.leftSideBearing-(Me.xMax-Me.xMin),Me},Vt.prototype.draw=function(E,F,K,ne,fe){this.getPath(F,K,ne,fe).draw(E)},Vt.prototype.drawPoints=function(E,F,K,ne){function fe(Kt,ve,ae,be){var ge=2*Math.PI;E.beginPath();for(var Ge=0;Ge<Kt.length;Ge+=1)E.moveTo(ve+Kt[Ge].x*be,ae+Kt[Ge].y*be),E.arc(ve+Kt[Ge].x*be,ae+Kt[Ge].y*be,2,0,ge,!1);E.closePath(),E.fill()}F=void 0!==F?F:0,K=void 0!==K?K:0,ne=1/this.path.unitsPerEm*(ne=void 0!==ne?ne:24);for(var Me=[],Ne=[],tt=this.path,_t=0;_t<tt.commands.length;_t+=1){var vt=tt.commands[_t];void 0!==vt.x&&Me.push({x:vt.x,y:-vt.y}),void 0!==vt.x1&&Ne.push({x:vt.x1,y:-vt.y1}),void 0!==vt.x2&&Ne.push({x:vt.x2,y:-vt.y2})}E.fillStyle="blue",fe(Me,F,K,ne),E.fillStyle="red",fe(Ne,F,K,ne)},Vt.prototype.drawMetrics=function(E,F,K,ne){F=void 0!==F?F:0,K=void 0!==K?K:0,ne=1/this.path.unitsPerEm*(ne=void 0!==ne?ne:24),E.lineWidth=1,E.strokeStyle="black",Gt_line(E,F,-1e4,F,1e4),Gt_line(E,-1e4,K,1e4,K);var fe=this.xMin||0,Me=this.yMin||0,Ne=this.xMax||0,tt=this.yMax||0,_t=this.advanceWidth||0;E.strokeStyle="blue",Gt_line(E,F+fe*ne,-1e4,F+fe*ne,1e4),Gt_line(E,F+Ne*ne,-1e4,F+Ne*ne,1e4),Gt_line(E,-1e4,K+-Me*ne,1e4,K+-Me*ne),Gt_line(E,-1e4,K+-tt*ne,1e4,K+-tt*ne),E.strokeStyle="green",Gt_line(E,F+_t*ne,-1e4,F+_t*ne,1e4)},yt.prototype.get=function(E){return"function"==typeof this.glyphs[E]&&(this.glyphs[E]=this.glyphs[E]()),this.glyphs[E]},yt.prototype.push=function(E,F){this.glyphs[E]=F,this.length++};var Nt={GlyphSet:yt,glyphLoader:function(E,F){return new Vt({index:F,font:E})},ttfGlyphLoader:function(E,F,K,ne,fe,Me){return function(){var Ne=new Vt({index:F,font:E});return Ne.path=function(){K(Ne,ne,fe);var tt=Me(E.glyphs,Ne);return tt.unitsPerEm=E.unitsPerEm,tt},Dt(Ne,"xMin","_xMin"),Dt(Ne,"xMax","_xMax"),Dt(Ne,"yMin","_yMin"),Dt(Ne,"yMax","_yMax"),Ne}},cffGlyphLoader:function(E,F,K,ne){return function(){var fe=new Vt({index:F,font:E});return fe.path=function(){var Me=K(E,fe,ne);return Me.unitsPerEm=E.unitsPerEm,Me},fe}}};function bt(E){return E.length<1240?107:E.length<33900?1131:32768}function Rt(E,F,K){var ne,fe=[],Me=[],Ne=$t.getCard16(E,F);if(0!==Ne){for(var tt=$t.getByte(E,F+2),_t=F+(Ne+1)*tt+2,vt=F+3,Kt=0;Kt<Ne+1;Kt+=1)fe.push($t.getOffset(E,vt,tt)),vt+=tt;ne=_t+fe[Ne]}else ne=F+2;for(var ve=0;ve<fe.length-1;ve+=1){var ae=$t.getBytes(E,_t+fe[ve],_t+fe[ve+1]);K&&(ae=K(ae)),Me.push(ae)}return{objects:Me,startOffset:F,endOffset:ne}}function cr(E,F){if(28===F)return E.parseByte()<<8|E.parseByte();if(29===F)return E.parseByte()<<24|E.parseByte()<<16|E.parseByte()<<8|E.parseByte();if(30===F){for(var K=E,ne="",fe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Me=(Ne=K.parseByte())>>4,Ne=15&Ne;if(15==Me||(ne+=fe[Me],15==Ne))break;ne+=fe[Ne]}return parseFloat(ne)}if(32<=F&&F<=246)return F-139;if(247<=F&&F<=250)return 256*(F-247)+E.parseByte()+108;if(251<=F&&F<=254)return 256*-(F-251)-E.parseByte()-108;throw new Error("Invalid b0 "+F)}function ft(E,F,K){var ne=new $t.Parser(E,F=void 0!==F?F:0),fe=[],Me=[];for(K=void 0!==K?K:E.length;ne.relativeOffset<K;){var Ne=ne.parseByte();Ne<=21?(12===Ne&&(Ne=1200+ne.parseByte()),fe.push([Ne,Me]),Me=[]):Me.push(cr(ne,Ne))}for(var tt=fe,_t={},vt=0;vt<tt.length;vt+=1){var ae,Kt=tt[vt][0],ve=tt[vt][1];if(ae=1===ve.length?ve[0]:ve,_t.hasOwnProperty(Kt)&&!isNaN(_t[Kt]))throw new Error("Object "+_t+" already has key "+Kt);_t[Kt]=ae}return _t}function xt(E,F){return F<=390?We[F]:E[F-391]}function tr(E,F,K){for(var ne,fe={},Me=0;Me<F.length;Me+=1){var Ne=F[Me];if(Array.isArray(Ne.type)){var tt=[];tt.length=Ne.type.length;for(var _t=0;_t<Ne.type.length;_t++)void 0===(ne=void 0!==E[Ne.op]?E[Ne.op][_t]:void 0)&&(ne=void 0!==Ne.value&&void 0!==Ne.value[_t]?Ne.value[_t]:null),"SID"===Ne.type[_t]&&(ne=xt(K,ne)),tt[_t]=ne;fe[Ne.name]=tt}else void 0===(ne=E[Ne.op])&&(ne=void 0!==Ne.value?Ne.value:null),"SID"===Ne.type&&(ne=xt(K,ne)),fe[Ne.name]=ne}return fe}var Zt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],lr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function yr(E,F,K,ne){return tr(ft(E,F,K),lr,ne)}function wr(E,F,K,ne){for(var fe=[],Me=0;Me<K.length;Me+=1){var Ne,tt=((tt=ne,Ne=tr(ft(Ne=new DataView(new Uint8Array(K[Me]).buffer),0,Ne.byteLength),Zt,tt))._subrs=[],Ne._subrsBias=0,Ne.private[0]),_t=Ne.private[1];0!==tt&&0!==_t&&(tt=yr(E,_t+F,tt,ne),Ne._defaultWidthX=tt.defaultWidthX,Ne._nominalWidthX=tt.nominalWidthX,0!==tt.subrs&&(_t=Rt(E,_t+tt.subrs+F),Ne._subrs=_t.objects,Ne._subrsBias=bt(Ne._subrs)),Ne._privateDict=tt),fe.push(Ne)}return fe}function xr(E,F,K){var ne,fe,Me,Ne,tt,_t,vt,Kt,ve,ae=new le,be=[],ge=0,Ge=!1,Ut=!1,Xt=0,or=0,Br=(ve=(E.isCIDFont?(tt=E.tables.cff.topDict._fdSelect[F.index],tt=E.tables.cff.topDict._fdArray[tt],_t=tt._subrs,vt=tt._subrsBias,Kt=tt._defaultWidthX,tt):(_t=E.tables.cff.topDict._subrs,vt=E.tables.cff.topDict._subrsBias,Kt=E.tables.cff.topDict._defaultWidthX,E.tables.cff.topDict))._nominalWidthX,Kt);function Lr(Wr,Qr){Ut&&ae.closePath(),ae.moveTo(Wr,Qr),Ut=!0}function zr(){be.length%2==0||Ge||(Br=be.shift()+ve),ge+=be.length>>1,be.length=0,Ge=!0}return function Wr(Qr){for(var vn,qn,to,so,Kn,fo,Tn,Mn,$r,$n,Vn,lo,kn=0;kn<Qr.length;){var uo=Qr[kn];switch(kn+=1,uo){case 1:case 3:case 18:case 23:zr();break;case 4:1<be.length&&!Ge&&(Br=be.shift()+ve,Ge=!0),or+=be.pop(),Lr(Xt,or);break;case 5:for(;0<be.length;)Xt+=be.shift(),or+=be.shift(),ae.lineTo(Xt,or);break;case 6:for(;0<be.length&&(Xt+=be.shift(),ae.lineTo(Xt,or),0!==be.length);)or+=be.shift(),ae.lineTo(Xt,or);break;case 7:for(;0<be.length&&(or+=be.shift(),ae.lineTo(Xt,or),0!==be.length);)Xt+=be.shift(),ae.lineTo(Xt,or);break;case 8:for(;0<be.length;)ne=Xt+be.shift(),fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me+be.shift(),or=Ne+be.shift(),ae.curveTo(ne,fe,Me,Ne,Xt,or);break;case 10:Kn=be.pop()+vt,(fo=_t[Kn])&&Wr(fo);break;case 11:return;case 12:switch(uo=Qr[kn],kn+=1,uo){case 35:ne=Xt+be.shift(),fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Tn=Me+be.shift(),Mn=Ne+be.shift(),$r=Tn+be.shift(),$n=Mn+be.shift(),Vn=$r+be.shift(),lo=$n+be.shift(),Xt=Vn+be.shift(),or=lo+be.shift(),be.shift(),ae.curveTo(ne,fe,Me,Ne,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Xt,or);break;case 34:ne=Xt+be.shift(),fe=or,Me=ne+be.shift(),Ne=fe+be.shift(),Tn=Me+be.shift(),Mn=Ne,$r=Tn+be.shift(),$n=Ne,Vn=$r+be.shift(),lo=or,Xt=Vn+be.shift(),ae.curveTo(ne,fe,Me,Ne,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Xt,or);break;case 36:ne=Xt+be.shift(),fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Tn=Me+be.shift(),Mn=Ne,$r=Tn+be.shift(),$n=Ne,Vn=$r+be.shift(),lo=$n+be.shift(),Xt=Vn+be.shift(),ae.curveTo(ne,fe,Me,Ne,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Xt,or);break;case 37:ne=Xt+be.shift(),fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Tn=Me+be.shift(),Mn=Ne+be.shift(),$r=Tn+be.shift(),$n=Mn+be.shift(),Vn=$r+be.shift(),lo=$n+be.shift(),Math.abs(Vn-Xt)>Math.abs(lo-or)?Xt=Vn+be.shift():or=lo+be.shift(),ae.curveTo(ne,fe,Me,Ne,Tn,Mn),ae.curveTo($r,$n,Vn,lo,Xt,or);break;default:console.log("Glyph "+F.index+": unknown operator 1200"+uo),be.length=0}break;case 14:0<be.length&&!Ge&&(Br=be.shift()+ve,Ge=!0),Ut&&(ae.closePath(),Ut=!1);break;case 19:case 20:zr(),kn+=ge+7>>3;break;case 21:2<be.length&&!Ge&&(Br=be.shift()+ve,Ge=!0),or+=be.pop(),Lr(Xt+=be.pop(),or);break;case 22:1<be.length&&!Ge&&(Br=be.shift()+ve,Ge=!0),Lr(Xt+=be.pop(),or);break;case 24:for(;2<be.length;)ne=Xt+be.shift(),fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me+be.shift(),or=Ne+be.shift(),ae.curveTo(ne,fe,Me,Ne,Xt,or);Xt+=be.shift(),or+=be.shift(),ae.lineTo(Xt,or);break;case 25:for(;6<be.length;)Xt+=be.shift(),or+=be.shift(),ae.lineTo(Xt,or);ne=Xt+be.shift(),fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me+be.shift(),or=Ne+be.shift(),ae.curveTo(ne,fe,Me,Ne,Xt,or);break;case 26:for(be.length%2&&(Xt+=be.shift());0<be.length;)ne=Xt,fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me,or=Ne+be.shift(),ae.curveTo(ne,fe,Me,Ne,Xt,or);break;case 27:for(be.length%2&&(or+=be.shift());0<be.length;)ne=Xt+be.shift(),fe=or,Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me+be.shift(),ae.curveTo(ne,fe,Me,Ne,Xt,or=Ne);break;case 28:be.push(((vn=Qr[kn])<<24|(qn=Qr[kn+1])<<16)>>16),kn+=2;break;case 29:Kn=be.pop()+E.gsubrsBias,(fo=E.gsubrs[Kn])&&Wr(fo);break;case 30:for(;0<be.length&&(ne=Xt,fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me+be.shift(),or=Ne+(1===be.length?be.shift():0),ae.curveTo(ne,fe,Me,Ne,Xt,or),0!==be.length);)ne=Xt+be.shift(),fe=or,Me=ne+be.shift(),Ne=fe+be.shift(),or=Ne+be.shift(),Xt=Me+(1===be.length?be.shift():0),ae.curveTo(ne,fe,Me,Ne,Xt,or);break;case 31:for(;0<be.length&&(ne=Xt+be.shift(),fe=or,Me=ne+be.shift(),Ne=fe+be.shift(),or=Ne+be.shift(),Xt=Me+(1===be.length?be.shift():0),ae.curveTo(ne,fe,Me,Ne,Xt,or),0!==be.length);)ne=Xt,fe=or+be.shift(),Me=ne+be.shift(),Ne=fe+be.shift(),Xt=Me+be.shift(),or=Ne+(1===be.length?be.shift():0),ae.curveTo(ne,fe,Me,Ne,Xt,or);break;default:uo<32?console.log("Glyph "+F.index+": unknown operator "+uo):uo<247?be.push(uo-139):uo<251?(vn=Qr[kn],kn+=1,be.push(256*(uo-247)+vn+108)):uo<255?(vn=Qr[kn],kn+=1,be.push(256*-(uo-251)-vn-108)):(vn=Qr[kn],qn=Qr[kn+1],to=Qr[kn+2],so=Qr[kn+3],kn+=4,be.push((vn<<24|qn<<16|to<<8|so)/65536))}}}(K),F.advanceWidth=Br,ae}function Mr(E,F){var K,ne=We.indexOf(E);return 0<=ne&&(K=ne),0<=(ne=F.indexOf(E))?K=ne+We.length:(K=We.length+F.length,F.push(E)),K}function W(E,F,K){for(var ne={},fe=0;fe<E.length;fe+=1){var Me=E[fe],Ne=F[Me.name];void 0===Ne||function tt(_t,vt){if(_t===vt)return 1;if(Array.isArray(_t)&&Array.isArray(vt)&&_t.length===vt.length){for(var Kt=0;Kt<_t.length;Kt+=1)if(!tt(_t[Kt],vt[Kt]))return;return 1}}(Ne,Me.value)||("SID"===Me.type&&(Ne=Mr(Ne,K)),ne[Me.op]={name:Me.name,type:Me.type,value:Ne})}return ne}function pe(E,F){var K=new zt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return K.dict=W(Zt,E,F),K}function Pe(E){var F=new zt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return F.topDicts=[{name:"topDict_0",type:"TABLE",value:E}],F}var A_parse=function(E,F,K){K.tables.cff={},(fe={}).formatMajor=$t.getCard8(tt=E,ne=F),fe.formatMinor=$t.getCard8(tt,ne+1),fe.size=$t.getCard8(tt,ne+2),fe.offsetSize=$t.getCard8(tt,ne+3),fe.startOffset=ne,fe.endOffset=ne+4;var tt=Rt(E,fe.endOffset,$t.bytesToString),ne=Rt(E,tt.endOffset),fe=Rt(E,ne.endOffset,$t.bytesToString);if(tt=Rt(E,fe.endOffset),K.gsubrs=tt.objects,K.gsubrsBias=bt(K.gsubrs),1!==(tt=wr(E,F,ne.objects,fe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+tt.length);if((K.tables.cff.topDict=ne=tt[0])._privateDict&&(K.defaultWidthX=ne._privateDict.defaultWidthX,K.nominalWidthX=ne._privateDict.nominalWidthX),void 0!==ne.ros[0]&&void 0!==ne.ros[1]&&(K.isCIDFont=!0),K.isCIDFont){var Me=ne.fdSelect;if(0===(tt=ne.fdArray)||0===Me)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");tt=wr(E,F,Rt(E,tt+=F).objects,fe.objects),ne._fdArray=tt,ne._fdSelect=function(ae,be,ge,Ge){var Ut,Xt=[],or=new $t.Parser(ae,be);if(0===(ae=or.parseCard8()))for(var Br=0;Br<ge;Br++){if(Ge<=(Ut=or.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ut+" (FD count "+Ge+")");Xt.push(Ut)}else{if(3!==ae)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ae);var Lr,zr=or.parseCard16(),Wr=or.parseCard16();if(0!==Wr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Wr);for(var Qr=0;Qr<zr;Qr++){if(Ut=or.parseCard8(),Lr=or.parseCard16(),Ge<=Ut)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ut+" (FD count "+Ge+")");if(ge<Lr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Lr);for(;Wr<Lr;Wr++)Xt.push(Ut);Wr=Lr}if(Lr!==ge)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Lr)}return Xt}(E,Me+=F,K.numGlyphs,tt.length)}tt=yr(E,Me=F+ne.private[1],ne.private[0],fe.objects);var Ne=(K.defaultWidthX=tt.defaultWidthX,K.nominalWidthX=tt.nominalWidthX,0!==tt.subrs?(Me=Rt(E,Me+tt.subrs),K.subrs=Me.objects,K.subrsBias=bt(K.subrs)):(K.subrs=[],K.subrsBias=0),Rt(E,F+ne.charStrings));K.nGlyphs=Ne.objects.length,tt=function(Kt,ve,ae,be){var ge=new $t.Parser(Kt,ve),Ge=(--ae,[".notdef"]);if(0===(Kt=ge.parseCard8()))for(var Ut=0;Ut<ae;Ut+=1)Xt=ge.parseSID(),Ge.push(xt(be,Xt));else if(1===Kt)for(;Ge.length<=ae;)for(var Xt=ge.parseSID(),or=ge.parseCard8(),Br=0;Br<=or;Br+=1)Ge.push(xt(be,Xt)),Xt+=1;else{if(2!==Kt)throw new Error("Unknown charset format "+Kt);for(;Ge.length<=ae;){Xt=ge.parseSID(),or=ge.parseCard16();for(var Lr=0;Lr<=or;Lr+=1)Ge.push(xt(be,Xt)),Xt+=1}}return Ge}(E,F+ne.charset,K.nGlyphs,fe.objects),K.cffEncoding=0===ne.encoding?new Ct(Re,tt):1===ne.encoding?new Ct(Qe,tt):function(Kt,ve,ae){var be={},ge=new $t.Parser(Kt,ve);if(0===(Kt=ge.parseCard8()))for(var Ge=ge.parseCard8(),Ut=0;Ut<Ge;Ut+=1)be[or=ge.parseCard8()]=Ut;else{if(1!==Kt)throw new Error("Unknown encoding format "+Kt);for(var Xt=ge.parseCard8(),or=1,Br=0;Br<Xt;Br+=1)for(var Lr=ge.parseCard8(),zr=ge.parseCard8(),Wr=Lr;Wr<=Lr+zr;Wr+=1)be[Wr]=or,or+=1}return new Ct(be,ae)}(E,F+ne.encoding,tt),K.encoding=K.encoding||K.cffEncoding,K.glyphs=new Nt.GlyphSet(K);for(var _t=0;_t<K.nGlyphs;_t+=1)K.glyphs.push(_t,Nt.cffGlyphLoader(K,_t,xr,Ne.objects[_t]))},A_make=function(E,Kt){for(var K,ne=new zt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fe={version:Kt.version,fullName:Kt.fullName,familyName:Kt.familyName,weight:Kt.weightName,fontBBox:Kt.fontBBox||[0,0,0,0],fontMatrix:[fe=1/Kt.unitsPerEm,0,0,fe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Me=[],Ne=1;Ne<E.length;Ne+=1)K=E.get(Ne),Me.push(K.name);var tt,_t,vt=[],ve=(ne.header=new zt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),ne.nameIndex=function(ae){var be=new zt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var ge=0;ge<ae.length;ge+=1)be.names.push({name:"name_"+ge,type:"NAME",value:ae[ge]});return be}([Kt.postScriptName]),Kt=pe(fe,vt),ne.topDictIndex=Pe(Kt),ne.globalSubrIndex=new zt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),ne.charsets=function(ae,be){for(var ge=new zt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ge=0;Ge<ae.length;Ge+=1){var Ut=Mr(ae[Ge],be);ge.fields.push({name:"glyph_"+Ge,type:"SID",value:Ut})}return ge}(Me,vt),ne.charStringsIndex=function b(E){for(var F=new zt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),K=0;K<E.length;K+=1){var ne=E.get(K),fe=function(Me){for(var Ne=[],tt=Me.path,_t=(Ne.push({name:"width",type:"NUMBER",value:Me.advanceWidth}),0),vt=0,Kt=0;Kt<tt.commands.length;Kt+=1){var ve,ae,be,ge,Ge=void 0,Ut=void 0,Xt=tt.commands[Kt];"M"===(Xt="Q"===Xt.type?{type:"C",x:Xt.x,y:Xt.y,x1:1/3*_t+2/3*Xt.x1,y1:1/3*vt+2/3*Xt.y1,x2:1/3*Xt.x+2/3*Xt.x1,y2:1/3*Xt.y+2/3*Xt.y1}:Xt).type?(Ge=Math.round(Xt.x-_t),Ut=Math.round(Xt.y-vt),Ne.push({name:"dx",type:"NUMBER",value:Ge}),Ne.push({name:"dy",type:"NUMBER",value:Ut}),Ne.push({name:"rmoveto",type:"OP",value:21}),_t=Math.round(Xt.x),vt=Math.round(Xt.y)):"L"===Xt.type?(Ge=Math.round(Xt.x-_t),Ut=Math.round(Xt.y-vt),Ne.push({name:"dx",type:"NUMBER",value:Ge}),Ne.push({name:"dy",type:"NUMBER",value:Ut}),Ne.push({name:"rlineto",type:"OP",value:5}),_t=Math.round(Xt.x),vt=Math.round(Xt.y)):"C"===Xt.type&&(ve=Math.round(Xt.x1-_t),ae=Math.round(Xt.y1-vt),be=Math.round(Xt.x2-Xt.x1),ge=Math.round(Xt.y2-Xt.y1),Ge=Math.round(Xt.x-Xt.x2),Ut=Math.round(Xt.y-Xt.y2),Ne.push({name:"dx1",type:"NUMBER",value:ve}),Ne.push({name:"dy1",type:"NUMBER",value:ae}),Ne.push({name:"dx2",type:"NUMBER",value:be}),Ne.push({name:"dy2",type:"NUMBER",value:ge}),Ne.push({name:"dx",type:"NUMBER",value:Ge}),Ne.push({name:"dy",type:"NUMBER",value:Ut}),Ne.push({name:"rrcurveto",type:"OP",value:8}),_t=Math.round(Xt.x),vt=Math.round(Xt.y))}return Ne.push({name:"endchar",type:"OP",value:14}),Ne}(ne);F.charStrings.push({name:ne.name,type:"CHARSTRING",value:fe})}return F}(E),ne.privateDict=(ve={},tt=vt,(_t=new zt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=W(lr,ve,tt),_t),ne.stringIndex=function(ae){var be=new zt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var ge=0;ge<ae.length;ge+=1)be.strings.push({name:"string_"+ge,type:"STRING",value:ae[ge]});return be}(vt),ne.header.sizeOf()+ne.nameIndex.sizeOf()+ne.topDictIndex.sizeOf()+ne.stringIndex.sizeOf()+ne.globalSubrIndex.sizeOf());return fe.charset=ve,fe.encoding=0,fe.charStrings=fe.charset+ne.charsets.sizeOf(),fe.private[1]=fe.charStrings+ne.charStringsIndex.sizeOf(),Kt=pe(fe,vt),ne.topDictIndex=Pe(Kt),ne},R_parse=function(ne,F){var K={};return ne=new $t.Parser(ne,F),K.version=ne.parseVersion(),K.fontRevision=Math.round(1e3*ne.parseFixed())/1e3,K.checkSumAdjustment=ne.parseULong(),K.magicNumber=ne.parseULong(),j.argument(1594834165===K.magicNumber,"Font header has wrong magic number."),K.flags=ne.parseUShort(),K.unitsPerEm=ne.parseUShort(),K.created=ne.parseLongDateTime(),K.modified=ne.parseLongDateTime(),K.xMin=ne.parseShort(),K.yMin=ne.parseShort(),K.xMax=ne.parseShort(),K.yMax=ne.parseShort(),K.macStyle=ne.parseUShort(),K.lowestRecPPEM=ne.parseUShort(),K.fontDirectionHint=ne.parseShort(),K.indexToLocFormat=ne.parseShort(),K.glyphDataFormat=ne.parseShort(),K},R_make=function(E){var F=Math.round((new Date).getTime()/1e3)+2082844800,K=F;return E.createdTimestamp&&(K=E.createdTimestamp+2082844800),new zt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:K},{name:"modified",type:"LONGDATETIME",value:F},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],E)},C_parse=function(ne,F){var K={};return ne=new $t.Parser(ne,F),K.version=ne.parseVersion(),K.ascender=ne.parseShort(),K.descender=ne.parseShort(),K.lineGap=ne.parseShort(),K.advanceWidthMax=ne.parseUShort(),K.minLeftSideBearing=ne.parseShort(),K.minRightSideBearing=ne.parseShort(),K.xMaxExtent=ne.parseShort(),K.caretSlopeRise=ne.parseShort(),K.caretSlopeRun=ne.parseShort(),K.caretOffset=ne.parseShort(),ne.relativeOffset+=8,K.metricDataFormat=ne.parseShort(),K.numberOfHMetrics=ne.parseUShort(),K},C_make=function(E){return new zt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],E)},Y_parse=function(E,F,K,ne,fe){for(var Me,Ne,tt=new $t.Parser(E,F),_t=0;_t<ne;_t+=1){_t<K&&(Me=tt.parseUShort(),Ne=tt.parseShort());var vt=fe.get(_t);vt.advanceWidth=Me,vt.leftSideBearing=Ne}},Y_make=function(E){for(var F=new zt.Table("hmtx",[]),K=0;K<E.length;K+=1){var ne=(fe=E.get(K)).advanceWidth||0,fe=fe.leftSideBearing||0;F.fields.push({name:"advanceWidth_"+K,type:"USHORT",value:ne}),F.fields.push({name:"leftSideBearing_"+K,type:"SHORT",value:fe})}return F},U_make=function(E){for(var F=new zt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:E.length}]),K="",ne=12+4*E.length,fe=0;fe<E.length;++fe){var Me=K.indexOf(E[fe]);Me<0&&(Me=K.length,K+=E[fe]),F.fields.push({name:"offset "+fe,type:"USHORT",value:ne+Me}),F.fields.push({name:"length "+fe,type:"USHORT",value:E[fe].length})}return F.fields.push({name:"stringPool",type:"CHARARRAY",value:K}),F},U_parse=function(E,F){for(var K=new $t.Parser(E,F),ne=K.parseULong(),fe=(j.argument(1===ne,"Unsupported ltag table version."),K.skip("uLong",1),K.parseULong()),Me=[],Ne=0;Ne<fe;Ne++){for(var tt="",_t=F+K.parseUShort(),vt=K.parseUShort(),Kt=_t;Kt<_t+vt;++Kt)tt+=String.fromCharCode(E.getInt8(Kt));Me.push(tt)}return Me},te_parse=function(ne,F){var K={};return ne=new $t.Parser(ne,F),K.version=ne.parseVersion(),K.numGlyphs=ne.parseUShort(),1===K.version&&(K.maxPoints=ne.parseUShort(),K.maxContours=ne.parseUShort(),K.maxCompositePoints=ne.parseUShort(),K.maxCompositeContours=ne.parseUShort(),K.maxZones=ne.parseUShort(),K.maxTwilightPoints=ne.parseUShort(),K.maxStorage=ne.parseUShort(),K.maxFunctionDefs=ne.parseUShort(),K.maxInstructionDefs=ne.parseUShort(),K.maxStackElements=ne.parseUShort(),K.maxSizeOfInstructions=ne.parseUShort(),K.maxComponentElements=ne.parseUShort(),K.maxComponentDepth=ne.parseUShort()),K},te_make=function(E){return new zt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:E}])},Oe=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Te={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Je={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Wt="utf-16",Ie={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ae={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function qe(E,F,K){switch(E){case 0:return Wt;case 1:return Ae[K]||Ie[F];case 3:if(1===F||10===F)return Wt}}function $e(E){var F,K={};for(F in E)K[E[F]]=parseInt(F);return K}function ct(E,F,K,ne,fe,Me){return new zt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:E},{name:"encodingID",type:"USHORT",value:F},{name:"languageID",type:"USHORT",value:K},{name:"nameID",type:"USHORT",value:ne},{name:"length",type:"USHORT",value:fe},{name:"offset",type:"USHORT",value:Me}])}function Ft(E,F){if((K=function(Me,Ne){var tt=Me.length,_t=Ne.length-tt+1;e:for(var vt=0;vt<_t;vt++)for(;vt<_t;vt++){for(var Kt=0;Kt<tt;Kt++)if(Ne[vt+Kt]!==Me[Kt])continue e;return vt}return-1}(E,F))<0)for(var K=F.length,ne=0,fe=E.length;ne<fe;++ne)F.push(E[ne]);return K}var ur_parse=function(E,F,K){for(var ne={},fe=new $t.Parser(E,F),Me=(F=fe.parseUShort(),fe.parseUShort()),Ne=fe.offset+fe.parseUShort(),tt=0;tt<Me;tt++){var ge=fe.parseUShort(),_t=fe.parseUShort(),vt=fe.parseUShort(),Kt=fe.parseUShort(),ve=(Kt=Oe[Kt]||Kt,fe.parseUShort()),ae=fe.parseUShort(),be=function(Ut,Xt,or){switch(Ut){case 0:if(65535===Xt)return"und";if(or)return or[Xt];break;case 1:return Te[Xt];case 3:return gt[Xt]}}(ge,vt,K);void 0!==(ge=qe(ge,_t,vt))&&void 0!==be&&(_t=void 0,(_t=ge===Wt?oe.UTF16(E,Ne+ae,ve):oe.MACSTRING(E,Ne+ae,ve,ge))&&((vt=void 0===(vt=ne[Kt])?ne[Kt]={}:vt)[be]=_t))}return 1===F&&fe.parseUShort(),ne},ur_make=function(E,F){var K,ne=[],fe={},Me=$e(Oe);for(K in E){var Ne=Me[K];if(void 0===Ne&&(Ne=K),ae=parseInt(Ne),isNaN(ae))throw new Error('Name table entry "'+K+'" does not exist, see nameTableNames for complete list.');fe[ae]=E[K],ne.push(ae)}for(var tt=$e(Te),_t=$e(gt),vt=[],Kt=[],ve=0;ve<ne.length;ve++){var ae,be,ge=fe[ae=ne[ve]];for(be in ge){var Lr,Ge=ge[be],Ut=tt[be],Xt=Je[Ut],or=qe(Lr=1,Xt,Ut),Br=(void 0===(or=me.MACSTRING(Ge,or))&&(Lr=0,(Ut=F.indexOf(be))<0&&(Ut=F.length,F.push(be)),Xt=4,or=me.UTF16(Ge)),Ft(or,Kt));void 0!==(vt.push(ct(Lr,Xt,Ut,ae,or.length,Br)),Lr=_t[be])&&(Ut=Ft(Xt=me.UTF16(Ge),Kt),vt.push(ct(3,1,Lr,ae,Xt.length,Ut)))}}vt.sort(function(Qr,vn){return Qr.platformID-vn.platformID||Qr.encodingID-vn.encodingID||Qr.languageID-vn.languageID||Qr.nameID-vn.nameID});for(var zr=new zt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:vt.length},{name:"stringOffset",type:"USHORT",value:6+12*vt.length}]),Wr=0;Wr<vt.length;Wr++)zr.fields.push({name:"record_"+Wr,type:"RECORD",value:vt[Wr]});return zr.fields.push({name:"strings",type:"LITERAL",value:Kt}),zr},vr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Pr_parse=function(E,F){var K={},ne=new $t.Parser(E,F);K.version=ne.parseUShort(),K.xAvgCharWidth=ne.parseShort(),K.usWeightClass=ne.parseUShort(),K.usWidthClass=ne.parseUShort(),K.fsType=ne.parseUShort(),K.ySubscriptXSize=ne.parseShort(),K.ySubscriptYSize=ne.parseShort(),K.ySubscriptXOffset=ne.parseShort(),K.ySubscriptYOffset=ne.parseShort(),K.ySuperscriptXSize=ne.parseShort(),K.ySuperscriptYSize=ne.parseShort(),K.ySuperscriptXOffset=ne.parseShort(),K.ySuperscriptYOffset=ne.parseShort(),K.yStrikeoutSize=ne.parseShort(),K.yStrikeoutPosition=ne.parseShort(),K.sFamilyClass=ne.parseShort(),K.panose=[];for(var fe=0;fe<10;fe++)K.panose[fe]=ne.parseByte();return K.ulUnicodeRange1=ne.parseULong(),K.ulUnicodeRange2=ne.parseULong(),K.ulUnicodeRange3=ne.parseULong(),K.ulUnicodeRange4=ne.parseULong(),K.achVendID=String.fromCharCode(ne.parseByte(),ne.parseByte(),ne.parseByte(),ne.parseByte()),K.fsSelection=ne.parseUShort(),K.usFirstCharIndex=ne.parseUShort(),K.usLastCharIndex=ne.parseUShort(),K.sTypoAscender=ne.parseShort(),K.sTypoDescender=ne.parseShort(),K.sTypoLineGap=ne.parseShort(),K.usWinAscent=ne.parseUShort(),K.usWinDescent=ne.parseUShort(),1<=K.version&&(K.ulCodePageRange1=ne.parseULong(),K.ulCodePageRange2=ne.parseULong()),2<=K.version&&(K.sxHeight=ne.parseShort(),K.sCapHeight=ne.parseShort(),K.usDefaultChar=ne.parseUShort(),K.usBreakChar=ne.parseUShort(),K.usMaxContent=ne.parseUShort()),K},Pr_make=function(E){return new zt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],E)},Pr_getUnicodeRange=function(E){for(var F=0;F<vr.length;F+=1){var K=vr[F];if(E>=K.begin&&E<K.end)return F}return-1},on_parse=function(E,F){var K={},ne=new $t.Parser(E,F);switch(K.version=ne.parseVersion(),K.italicAngle=ne.parseFixed(),K.underlinePosition=ne.parseShort(),K.underlineThickness=ne.parseShort(),K.isFixedPitch=ne.parseULong(),K.minMemType42=ne.parseULong(),K.maxMemType42=ne.parseULong(),K.minMemType1=ne.parseULong(),K.maxMemType1=ne.parseULong(),K.version){case 1:K.names=Ot.slice();break;case 2:K.numberOfGlyphs=ne.parseUShort(),K.glyphNameIndex=new Array(K.numberOfGlyphs);for(var fe=0;fe<K.numberOfGlyphs;fe++)K.glyphNameIndex[fe]=ne.parseUShort();K.names=[];for(var Me,Ne=0;Ne<K.numberOfGlyphs;Ne++)K.glyphNameIndex[Ne]>=Ot.length&&(Me=ne.parseChar(),K.names.push(ne.parseString(Me)));break;case 2.5:K.numberOfGlyphs=ne.parseUShort(),K.offset=new Array(K.numberOfGlyphs);for(var tt=0;tt<K.numberOfGlyphs;tt++)K.offset[tt]=ne.parseChar()}return K},on_make=function(){return new zt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},nn=new Array(9),Nn=(nn[1]=function(){var E=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{substFormat:1,coverage:this.parsePointer(jt.coverage),deltaGlyphId:this.parseUShort()}:2===F?{substFormat:2,coverage:this.parsePointer(jt.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+E.toString(16)+": lookup type 1 format must be 1 or 2.")},nn[2]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(jt.coverage),sequences:this.parseListOfLists()}},nn[3]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(jt.coverage),alternateSets:this.parseListOfLists()}},nn[4]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB ligature table identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(jt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:jt.uShort,lookupListIndex:jt.uShort});nn[5]=function(){var E,F,K=this.offset+this.relativeOffset,ne=this.parseUShort();return 1===ne?{substFormat:ne,coverage:this.parsePointer(jt.coverage),ruleSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Me=this.parseUShort();return{input:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Me,Nn)}})}:2===ne?{substFormat:ne,coverage:this.parsePointer(jt.coverage),classDef:this.parsePointer(jt.classDef),classSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Me=this.parseUShort();return{classes:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Me,Nn)}})}:3===ne?(E=this.parseUShort(),F=this.parseUShort(),{substFormat:ne,coverages:this.parseList(E,jt.pointer(jt.coverage)),lookupRecords:this.parseRecordList(F,Nn)}):void j.assert(!1,"0x"+K.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},nn[6]=function(){var E=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{substFormat:1,coverage:this.parsePointer(jt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:2===F?{substFormat:2,coverage:this.parsePointer(jt.coverage),backtrackClassDef:this.parsePointer(jt.classDef),inputClassDef:this.parsePointer(jt.classDef),lookaheadClassDef:this.parsePointer(jt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:3===F?{substFormat:3,backtrackCoverage:this.parseList(jt.pointer(jt.coverage)),inputCoverage:this.parseList(jt.pointer(jt.coverage)),lookaheadCoverage:this.parseList(jt.pointer(jt.coverage)),lookupRecords:this.parseRecordList(Nn)}:void j.assert(!1,"0x"+E.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},nn[7]=function(){var E=this.parseUShort(),F=(j.argument(1===E,"GSUB Extension Substitution subtable identifier-format must be 1"),E=this.parseUShort(),new jt(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:E,extension:nn[E].call(F)}},nn[8]=function(){var E=this.parseUShort();return j.argument(1===E,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(jt.coverage),backtrackCoverage:this.parseList(jt.pointer(jt.coverage)),lookaheadCoverage:this.parseList(jt.pointer(jt.coverage)),substitutes:this.parseUShortList()}};var Dn=new Array(9);Dn[1]=function(E){return new zt.Table("substitutionTable",1===E.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new zt.Coverage(E.coverage)},{name:"deltaGlyphID",type:"USHORT",value:E.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new zt.Coverage(E.coverage)}].concat(zt.ushortList("substitute",E.substitute)))},Dn[3]=function(E){return j.assert(1===E.substFormat,"Lookup type 3 substFormat must be 1."),new zt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new zt.Coverage(E.coverage)}].concat(zt.tableList("altSet",E.alternateSets,function(F){return new zt.Table("alternateSetTable",zt.ushortList("alternate",F))})))},Dn[4]=function(E){return j.assert(1===E.substFormat,"Lookup type 4 substFormat must be 1."),new zt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new zt.Coverage(E.coverage)}].concat(zt.tableList("ligSet",E.ligatureSets,function(F){return new zt.Table("ligatureSetTable",zt.tableList("ligature",F,function(K){return new zt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:K.ligGlyph}].concat(zt.ushortList("component",K.components,K.components.length+1)))}))})))};var Kr_parse=function(E,F){return F=(E=new jt(E,F=F||0)).parseVersion(1),j.argument(1===F||1.1===F,"Unsupported GSUB table version."),1===F?{version:F,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(nn)}:{version:F,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(nn),variations:E.parseFeatureVariationsList()}},Kr_make=function(E){return new zt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new zt.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new zt.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new zt.LookupList(E.lookups,Dn)}])},yn_parse=function(E,F){for(var K=new $t.Parser(E,F),ne=K.parseULong(),fe=(j.argument(1===ne,"Unsupported META table version."),K.parseULong(),K.parseULong(),K.parseULong()),Me={},Ne=0;Ne<fe;Ne++){var tt=K.parseTag(),vt=K.parseULong(),_t=K.parseULong();vt=oe.UTF8(E,F+vt,_t),Me[tt]=vt}return Me},yn_make=function(E){var F,K=Object.keys(E).length,ne="",fe=16+12*K,Me=new zt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:fe},{name:"numTags",type:"ULONG",value:K}]);for(F in E){var Ne=ne.length;ne+=E[F],Me.fields.push({name:"tag "+F,type:"TAG",value:F}),Me.fields.push({name:"offset "+F,type:"ULONG",value:fe+Ne}),Me.fields.push({name:"length "+F,type:"ULONG",value:E[F].length})}return Me.fields.push({name:"stringPool",type:"CHARARRAY",value:ne}),Me};function Gn(E){return Math.log(E)/Math.log(2)|0}function bn(E){for(;E.length%4!=0;)E.push(0);for(var F=0,K=0;K<E.length;K+=4)F+=(E[K]<<24)+(E[K+1]<<16)+(E[K+2]<<8)+E[K+3];return F%Math.pow(2,32)}function Ln(E,F,K,ne){return new zt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==E?E:""},{name:"checkSum",type:"ULONG",value:void 0!==F?F:0},{name:"offset",type:"ULONG",value:void 0!==K?K:0},{name:"length",type:"ULONG",value:void 0!==ne?ne:0}])}function To(E){for(var F=new zt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),K=(F.tables=E,F.numTables=E.length,Math.pow(2,Gn(F.numTables))),ne=(F.searchRange=16*K,F.entrySelector=Gn(K),F.rangeShift=16*F.numTables-F.searchRange,[]),fe=[],Me=F.sizeOf()+Ln().sizeOf()*F.numTables;Me%4!=0;)Me+=1,fe.push({name:"padding",type:"BYTE",value:0});for(var Ne=0;Ne<E.length;Ne+=1){var tt=E[Ne],_t=(j.argument(4===tt.tableName.length,"Table name"+tt.tableName+" is invalid."),tt.sizeOf()),vt=Ln(tt.tableName,bn(tt.encode()),Me,_t);for(ne.push({name:vt.tag+" Table Record",type:"RECORD",value:vt}),fe.push({name:tt.tableName+" table",type:"RECORD",value:tt}),Me+=_t,j.argument(!isNaN(Me),"Something went wrong calculating the offset.");Me%4!=0;)Me+=1,fe.push({name:"padding",type:"BYTE",value:0})}return ne.sort(function(Kt,ve){return Kt.value.tag>ve.value.tag?1:-1}),F.fields=F.fields.concat(ne),F.fields=F.fields.concat(fe),F}function eo(E,F,K){for(var ne=0;ne<F.length;ne+=1){var fe=E.charToGlyphIndex(F[ne]);if(0<fe)return E.glyphs.get(fe).getMetrics()}return K}var wo_fontToTable=function(E){for(var F,K=[],ne=[],fe=[],Me=[],Ne=[],tt=[],_t=[],vt=0,Kt=0,ve=0,ae=0,be=0,ge=0;ge<E.glyphs.length;ge+=1){var Ge=E.glyphs.get(ge),Ut=0|Ge.unicode;if(isNaN(Ge.advanceWidth))throw new Error("Glyph "+Ge.name+" ("+ge+"): advanceWidth is not a number.");if((Ut<F||void 0===F)&&0<Ut&&(F=Ut),vt<Ut&&(vt=Ut),(Ut=Pr_getUnicodeRange(Ut))<32)Kt|=1<<Ut;else if(Ut<64)ve|=1<<Ut-32;else if(Ut<96)ae|=1<<Ut-64;else{if(!(Ut<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Ut-96}".notdef"!==Ge.name&&(Ut=Ge.getMetrics(),K.push(Ut.xMin),ne.push(Ut.yMin),fe.push(Ut.xMax),Me.push(Ut.yMax),tt.push(Ut.leftSideBearing),_t.push(Ut.rightSideBearing),Ne.push(Ge.advanceWidth))}var Xt,or={xMin:Math.min.apply(null,K),yMin:Math.min.apply(null,ne),xMax:Math.max.apply(null,fe),yMax:Math.max.apply(null,Me),advanceWidthMax:Math.max.apply(null,Ne),advanceWidthAvg:function(uo){for(var rs=0,ni=0;ni<uo.length;ni+=1)rs+=uo[ni];return rs/uo.length}(Ne),minLeftSideBearing:Math.min.apply(null,tt),maxLeftSideBearing:Math.max.apply(null,tt),minRightSideBearing:Math.min.apply(null,_t)},Br=(or.ascender=E.ascender,or.descender=E.descender,R_make({flags:3,unitsPerEm:E.unitsPerEm,xMin:or.xMin,yMin:or.yMin,xMax:or.xMax,yMax:or.yMax,lowestRecPPEM:3,createdTimestamp:E.createdTimestamp})),Lr=C_make({ascender:or.ascender,descender:or.descender,advanceWidthMax:or.advanceWidthMax,minLeftSideBearing:or.minLeftSideBearing,minRightSideBearing:or.minRightSideBearing,xMaxExtent:or.maxLeftSideBearing+(or.xMax-or.xMin),numberOfHMetrics:E.glyphs.length}),zr=te_make(E.glyphs.length),Wr=Pr_make({xAvgCharWidth:Math.round(or.advanceWidthAvg),usWeightClass:E.tables.os2.usWeightClass,usWidthClass:E.tables.os2.usWidthClass,usFirstCharIndex:F,usLastCharIndex:vt,ulUnicodeRange1:Kt,ulUnicodeRange2:ve,ulUnicodeRange3:ae,ulUnicodeRange4:be,fsSelection:E.tables.os2.fsSelection,sTypoAscender:or.ascender,sTypoDescender:or.descender,sTypoLineGap:0,usWinAscent:or.yMax,usWinDescent:Math.abs(or.yMin),ulCodePageRange1:1,sxHeight:eo(E,"xyvw",{yMax:Math.round(or.ascender/2)}).yMax,sCapHeight:eo(E,"HIKLEFJMNTZBDPRAGOQSUVWXY",or).yMax,usDefaultChar:E.hasChar(" ")?32:0,usBreakChar:E.hasChar(" ")?32:0}),Qr=Y_make(E.glyphs),vn=Ve_make(E.glyphs),Tn=(Mn=E.getEnglishName("fontFamily"))+" "+($r=E.getEnglishName("fontSubfamily")),qn=(qn=E.getEnglishName("postScriptName"))||Mn.replace(/\s/g,"")+"-"+$r,to={};for(Xt in E.names)to[Xt]=E.names[Xt];to.uniqueID||(to.uniqueID={en:E.getEnglishName("manufacturer")+":"+Tn}),to.postScriptName||(to.postScriptName={en:qn}),to.preferredFamily||(to.preferredFamily=E.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=E.names.fontSubfamily);var so=ur_make(to,Kn=[]),Kn=0<Kn.length?U_make(Kn):void 0,fo=on_make(),Mn=(Tn=A_make(E.glyphs,{version:E.getEnglishName("version"),fullName:Tn,familyName:Mn,weightName:$r,postScriptName:qn,unitsPerEm:E.unitsPerEm,fontBBox:[0,or.yMin,or.ascender,or.advanceWidthMax]}),E.metas&&0<Object.keys(E.metas).length?yn_make(E.metas):void 0),$r=[Br,Lr,zr,Wr,so,vn,fo,Tn,Qr];Kn&&$r.push(Kn),E.tables.gsub&&$r.push(Kr_make(E.tables.gsub)),Mn&&$r.push(Mn);for(var $n=bn((qn=To($r)).encode()),Vn=qn.fields,lo=!1,kn=0;kn<Vn.length;kn+=1)if("head table"===Vn[kn].name){Vn[kn].value.checkSumAdjustment=2981146554-$n,lo=!0;break}if(lo)return qn;throw new Error("Could not find head table with checkSum to adjust.")};function Ro(E,F){for(var K=0,ne=E.length-1;K<=ne;){var fe=K+ne>>>1,Me=E[fe].tag;if(Me===F)return fe;Me<F?K=1+fe:ne=fe-1}return-K-1}function No(E,F){for(var K=0,ne=E.length-1;K<=ne;){var fe=K+ne>>>1,Me=E[fe];if(Me===F)return fe;Me<F?K=1+fe:ne=fe-1}return-K-1}function $o(E,F){for(var K=0,ne=E.length-1;K<=ne;){var fe,Me=K+ne>>>1,Ne=(fe=E[Me]).start;if(Ne===F)return fe;Ne<F?K=1+Me:ne=Me-1}if(0<K)return F>(fe=E[K-1]).end?0:fe}function Wn(E,F){this.font=E,this.tableName=F}function Vo(E){Wn.call(this,E,"gpos")}function oo(E){Wn.call(this,E,"gsub")}function cs(E,F,K){for(var ne=E.subtables,fe=0;fe<ne.length;fe++){var Me=ne[fe];if(Me.substFormat===F)return Me}if(K)return ne.push(K),K}function vs(E){for(var F=new ArrayBuffer(E.length),K=new Uint8Array(F),ne=0;ne<E.length;++ne)K[ne]=E[ne];return F}function ye(E,F){if(!E)throw F}function ze(E,F,K,ne,fe){var Me=0<(F&ne)?(Me=E.parseByte(),K+(Me=F&fe?Me:-Me)):0<(F&fe)?K:K+E.parseShort();return Me}function ht(E,F,K){var ne,fe=new $t.Parser(F,K);if(E.numberOfContours=fe.parseShort(),E._xMin=fe.parseShort(),E._yMin=fe.parseShort(),E._xMax=fe.parseShort(),E._yMax=fe.parseShort(),0<E.numberOfContours){for(var Me=E.endPointIndices=[],Ne=0;Ne<E.numberOfContours;Ne+=1)Me.push(fe.parseUShort());E.instructionLength=fe.parseUShort(),E.instructions=[];for(var tt=0;tt<E.instructionLength;tt+=1)E.instructions.push(fe.parseByte());for(var _t=Me[Me.length-1]+1,vt=[],Kt=0;Kt<_t;Kt+=1)if(ne=fe.parseByte(),vt.push(ne),0<(8&ne))for(var ve=fe.parseByte(),ae=0;ae<ve;ae+=1)vt.push(ne),Kt+=1;if(j.argument(vt.length===_t,"Bad flags."),0<Me.length){var be,ge=[];if(0<_t){for(var Ge=0;Ge<_t;Ge+=1)(be={}).onCurve=!!(1&(ne=vt[Ge])),be.lastPointOfContour=0<=Me.indexOf(Ge),ge.push(be);for(var Ut=0,Xt=0;Xt<_t;Xt+=1)(be=ge[Xt]).x=ze(fe,ne=vt[Xt],Ut,2,16),Ut=be.x;for(var or=0,Br=0;Br<_t;Br+=1)(be=ge[Br]).y=ze(fe,ne=vt[Br],or,4,32),or=be.y}E.points=ge}else E.points=[]}else if(0===E.numberOfContours)E.points=[];else{E.isComposite=!0,E.points=[],E.components=[];for(var Lr=!0;Lr;){vt=fe.parseUShort();var zr={glyphIndex:fe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&vt)?0<(2&vt)?(zr.dx=fe.parseShort(),zr.dy=fe.parseShort()):zr.matchedPoints=[fe.parseUShort(),fe.parseUShort()]:0<(2&vt)?(zr.dx=fe.parseChar(),zr.dy=fe.parseChar()):zr.matchedPoints=[fe.parseByte(),fe.parseByte()],0<(8&vt)?zr.xScale=zr.yScale=fe.parseF2Dot14():0<(64&vt)?(zr.xScale=fe.parseF2Dot14(),zr.yScale=fe.parseF2Dot14()):0<(128&vt)&&(zr.xScale=fe.parseF2Dot14(),zr.scale01=fe.parseF2Dot14(),zr.scale10=fe.parseF2Dot14(),zr.yScale=fe.parseF2Dot14()),E.components.push(zr),Lr=!!(32&vt)}if(256&vt){E.instructionLength=fe.parseUShort(),E.instructions=[];for(var Wr=0;Wr<E.instructionLength;Wr+=1)E.instructions.push(fe.parseByte())}}}function Ee(E,F){for(var K=[],ne=0;ne<E.length;ne+=1){var fe;K.push(fe={x:F.xScale*(fe=E[ne]).x+F.scale01*fe.y+F.dx,y:F.scale10*fe.x+F.yScale*fe.y+F.dy,onCurve:fe.onCurve,lastPointOfContour:fe.lastPointOfContour})}return K}function mt(E){var F=new le;if(E)for(var K=function(ve){for(var ae=[],be=[],ge=0;ge<ve.length;ge+=1){var Ge=ve[ge];be.push(Ge),Ge.lastPointOfContour&&(ae.push(be),be=[])}return j.argument(0===be.length,"There are still points left in the current contour."),ae}(E),ne=0;ne<K.length;++ne){var fe,Me=K[ne],tt=Me[0];(Ne=Me[Me.length-1]).onCurve?F.moveTo(Ne.x,Ne.y):tt.onCurve?F.moveTo(tt.x,tt.y):F.moveTo((fe={x:.5*(Ne.x+tt.x),y:.5*(Ne.y+tt.y)}).x,fe.y);for(var _t=0;_t<Me.length;++_t){var vt,Ne=tt;tt=Me[(_t+1)%Me.length],Ne.onCurve?F.lineTo(Ne.x,Ne.y):(vt=tt,tt.onCurve||(vt={x:.5*(Ne.x+tt.x),y:.5*(Ne.y+tt.y)}),F.quadraticCurveTo(Ne.x,Ne.y,vt.x,vt.y))}F.closePath()}return F}function Qt(E,F){if(F.isComposite)for(var K=0;K<F.components.length;K+=1){var fe=E.get((ne=F.components[K]).glyphIndex);if(fe.getPath(),fe.points){var Me=void 0;if(void 0===ne.matchedPoints)Me=Ee(fe.points,ne);else{if(ne.matchedPoints[0]>F.points.length-1||ne.matchedPoints[1]>fe.points.length-1)throw Error("Matched points out of range in "+F.name);var ne,Ne=F.points[ne.matchedPoints[0]],tt=Ee([tt=fe.points[ne.matchedPoints[1]]],ne={xScale:ne.xScale,scale01:ne.scale01,scale10:ne.scale10,yScale:ne.yScale,dx:0,dy:0})[0];ne.dx=Ne.x-tt.x,ne.dy=Ne.y-tt.y,Me=Ee(fe.points,ne)}F.points=F.points.concat(Me)}}return mt(F.points)}(Vo.prototype=Wn.prototype={searchTag:Ro,binSearch:No,getTable:function(E){var F=this.font.tables[this.tableName];return!F&&E?this.font.tables[this.tableName]=this.createDefaultTable():F},getScriptNames:function(){var E=this.getTable();return E?E.scripts.map(function(F){return F.tag}):[]},getDefaultScriptName:function(){var E=this.getTable();if(E){for(var F=!1,K=0;K<E.scripts.length;K++){var ne=E.scripts[K].tag;if("DFLT"===ne)return ne;"latn"===ne&&(F=!0)}return F?"latn":void 0}},getScriptTable:function(E,F){var K,ne=this.getTable(F);if(ne)return K=ne.scripts,0<=(ne=Ro(ne.scripts,E=E||"DFLT"))?K[ne].script:F?(K.splice(-1-ne,0,F={tag:E,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),F.script):void 0},getLangSysTable:function(fe,F,K){var ne;if(fe=this.getScriptTable(fe,K))return F&&"dflt"!==F&&"DFLT"!==F?0<=(ne=Ro(fe.langSysRecords,F))?fe.langSysRecords[ne].langSys:K?(fe.langSysRecords.splice(-1-ne,0,K={tag:F,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),K.langSys):void 0:fe.defaultLangSys},getFeatureTable:function(E,F,K,ne){if(E=this.getLangSysTable(E,F,ne)){for(var fe,Me=E.featureIndexes,Ne=this.font.tables[this.tableName].features,tt=0;tt<Me.length;tt++)if((fe=Ne[Me[tt]]).tag===K)return fe.feature;if(ne)return j.assert(0===(F=Ne.length)||K>=Ne[F-1].tag,"Features must be added in alphabetical order."),Ne.push(fe={tag:K,feature:{params:0,lookupListIndexes:[]}}),Me.push(F),fe.feature}},getLookupTables:function(Me,F,K,ne,fe){var Ne=[];if(Me=this.getFeatureTable(Me,F,K,fe)){for(var tt,_t=Me.lookupListIndexes,vt=this.font.tables[this.tableName].lookups,Kt=0;Kt<_t.length;Kt++)(tt=vt[_t[Kt]]).lookupType===ne&&Ne.push(tt);if(0===Ne.length&&fe)return F=vt.length,vt.push(tt={lookupType:ne,lookupFlag:0,subtables:[],markFilteringSet:void 0}),_t.push(F),[tt]}return Ne},getGlyphClass:function(E,F){switch(E.format){case 1:return E.startGlyph<=F&&F<E.startGlyph+E.classes.length?E.classes[F-E.startGlyph]:0;case 2:var K=$o(E.ranges,F);return K?K.classId:0}},getCoverageIndex:function(E,F){switch(E.format){case 1:var K=No(E.glyphs,F);return 0<=K?K:-1;case 2:return(K=$o(E.ranges,F))?K.index+F-K.start:-1}},expandCoverage:function(E){if(1===E.format)return E.glyphs;for(var F=[],K=E.ranges,ne=0;ne<K.length;ne++)for(var fe=K[ne],Ne=fe.end,tt=fe.start;tt<=Ne;tt++)F.push(tt);return F}}).init=function(){var E=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(E)},Vo.prototype.getKerningValue=function(E,F,K){for(var ne=0;ne<E.length;ne++)for(var fe=E[ne].subtables,Me=0;Me<fe.length;Me++){var Ne=fe[Me],tt=this.getCoverageIndex(Ne.coverage,F);if(!(tt<0))switch(Ne.posFormat){case 1:for(var _t=Ne.pairSets[tt],vt=0;vt<_t.length;vt++){var Kt=_t[vt];if(Kt.secondGlyph===K)return Kt.value1&&Kt.value1.xAdvance||0}break;case 2:var ae=this.getGlyphClass(Ne.classDef1,F),ve=this.getGlyphClass(Ne.classDef2,K);return(ae=Ne.classRecords[ae][ve]).value1&&ae.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(E,F){if(this.font.tables.gpos)return this.getLookupTables(E,F,"kern",2)},(oo.prototype=Wn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(E,F,K){for(var ne=[],fe=this.getLookupTables(F,K,E,1),Me=0;Me<fe.length;Me++)for(var Ne=fe[Me].subtables,tt=0;tt<Ne.length;tt++){var _t=Ne[tt],vt=this.expandCoverage(_t.coverage),Kt=void 0;if(1===_t.substFormat){var ve=_t.deltaGlyphId;for(Kt=0;Kt<vt.length;Kt++){var ae=vt[Kt];ne.push({sub:ae,by:ae+ve})}}else{var be=_t.substitute;for(Kt=0;Kt<vt.length;Kt++)ne.push({sub:vt[Kt],by:be[Kt]})}}return ne},oo.prototype.getAlternates=function(E,F,K){for(var ne=[],fe=this.getLookupTables(F,K,E,3),Me=0;Me<fe.length;Me++)for(var Ne=fe[Me].subtables,tt=0;tt<Ne.length;tt++)for(var _t=Ne[tt],vt=this.expandCoverage(_t.coverage),Kt=_t.alternateSets,ve=0;ve<vt.length;ve++)ne.push({sub:vt[ve],by:Kt[ve]});return ne},oo.prototype.getLigatures=function(E,F,K){for(var ne=[],fe=this.getLookupTables(F,K,E,4),Me=0;Me<fe.length;Me++)for(var Ne=fe[Me].subtables,tt=0;tt<Ne.length;tt++)for(var _t=Ne[tt],vt=this.expandCoverage(_t.coverage),Kt=_t.ligatureSets,ve=0;ve<vt.length;ve++)for(var ae=vt[ve],be=Kt[ve],ge=0;ge<be.length;ge++){var Ge=be[ge];ne.push({sub:[ae].concat(Ge.components),by:Ge.ligGlyph})}return ne},oo.prototype.addSingle=function(E,F,K,ne){K=cs(this.getLookupTables(K,ne,E,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(1===K.coverage.format,"Ligature: unable to modify coverage table format "+K.coverage.format),(E=this.binSearch(K.coverage.glyphs,ne=F.sub))<0&&(K.coverage.glyphs.splice(E=-1-E,0,ne),K.substitute.splice(E,0,0)),K.substitute[E]=F.by},oo.prototype.addAlternate=function(E,F,K,ne){K=cs(this.getLookupTables(K,ne,E,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(1===K.coverage.format,"Ligature: unable to modify coverage table format "+K.coverage.format),(E=this.binSearch(K.coverage.glyphs,ne=F.sub))<0&&(K.coverage.glyphs.splice(E=-1-E,0,ne),K.alternateSets.splice(E,0,0)),K.alternateSets[E]=F.by},oo.prototype.addLigature=function(Me,_t,tt,fe){(fe=(tt=this.getLookupTables(tt,fe,Me,4,!0)[0]).subtables[0])||(tt.subtables[0]=fe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(1===fe.coverage.format,"Ligature: unable to modify coverage table format "+fe.coverage.format),Me=_t.sub[0];var Ne=_t.sub.slice(1);if(tt={ligGlyph:_t.by,components:Ne},0<=(_t=this.binSearch(fe.coverage.glyphs,Me))){for(var vt=fe.ligatureSets[_t],Kt=0;Kt<vt.length;Kt++)if(function(ve,ae){var be=ve.length;if(be===ae.length){for(var ge=0;ge<be;ge++)if(ve[ge]!==ae[ge])return;return 1}}(vt[Kt].components,Ne))return;vt.push(tt)}else fe.coverage.glyphs.splice(_t=-1-_t,0,Me),fe.ligatureSets.splice(_t,0,[tt])},oo.prototype.getFeature=function(E,F,K){if(/ss\d\d/.test(E))return this.getSingle(E,F,K);switch(E){case"aalt":case"salt":return this.getSingle(E,F,K).concat(this.getAlternates(E,F,K));case"dlig":case"liga":case"rlig":return this.getLigatures(E,F,K)}},oo.prototype.add=function(E,F,K,ne){if(/ss\d\d/.test(E))return this.addSingle(E,F,K,ne);switch(E){case"aalt":case"salt":return"number"==typeof F.by?this.addSingle(E,F,K,ne):this.addAlternate(E,F,K,ne);case"dlig":case"liga":case"rlig":return this.addLigature(E,F,K,ne)}};var hn={getPath:mt,parse:function(E,F,K,ne){for(var fe=new Nt.GlyphSet(ne),Me=0;Me<K.length-1;Me+=1){var Ne=K[Me];fe.push(Me,Ne!==K[Me+1]?Nt.ttfGlyphLoader(ne,Me,ht,E,F+Ne,Qt):Nt.glyphLoader(ne,Me))}return fe}};function Fn(E){this.font=E,this.getCommands=function(F){return hn.getPath(F).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(E){return E}function ts(E){return Math.sign(E)*Math.round(Math.abs(E))}function Yo(E){return Math.sign(E)*Math.round(Math.abs(2*E))/2}function As(E){return Math.sign(E)*(Math.round(Math.abs(E)+.5)-.5)}function Ms(E){return Math.sign(E)*Math.ceil(Math.abs(E))}function Is(E){return Math.sign(E)*Math.floor(Math.abs(E))}function js(E){var F=this.srPeriod,K=this.srPhase,ne=1;return E<0&&(E=-E,ne=-1),E+=this.srThreshold-K,E=Math.trunc(E/F)*F,(E+=K)<0?K*ne:E*ne}var So={x:1,y:0,axis:"x",distance:function(E,F,K,ne){return(K?E.xo:E.x)-(ne?F.xo:F.x)},interpolate:function(E,F,K,ne){var fe,Me,Ne,tt,_t,vt,Kt;if(!ne||ne===this)return fe=E.xo-F.xo,Me=E.xo-K.xo,_t=F.x-F.xo,vt=K.x-K.xo,0===(Kt=(Ne=Math.abs(fe))+(tt=Math.abs(Me)))?void(E.x=E.xo+(_t+vt)/2):void(E.x=E.xo+(_t*tt+vt*Ne)/Kt);fe=ne.distance(E,F,!0,!0),Me=ne.distance(E,K,!0,!0),_t=ne.distance(F,F,!1,!0),vt=ne.distance(K,K,!1,!0),0===(Kt=(Ne=Math.abs(fe))+(tt=Math.abs(Me)))?So.setRelative(E,E,(_t+vt)/2,ne,!0):So.setRelative(E,E,(_t*tt+vt*Ne)/Kt,ne,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(E,F,K,ne,fe){var Me,Ne;ne&&ne!==this?(Me=fe?F.xo:F.x,Ne=fe?F.yo:F.y,E.x=(Me+=K*ne.x)+(E.y-(Ne+=K*ne.y))/ne.normalSlope):E.x=(fe?F.xo:F.x)+K},slope:0,touch:function(E){E.xTouched=!0},touched:function(E){return E.xTouched},untouch:function(E){E.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(E,F,K,ne){return(K?E.yo:E.y)-(ne?F.yo:F.y)},interpolate:function(E,F,K,ne){var fe,Me,Ne,tt,_t,vt,Kt;if(!ne||ne===this)return fe=E.yo-F.yo,Me=E.yo-K.yo,_t=F.y-F.yo,vt=K.y-K.yo,0===(Kt=(Ne=Math.abs(fe))+(tt=Math.abs(Me)))?void(E.y=E.yo+(_t+vt)/2):void(E.y=E.yo+(_t*tt+vt*Ne)/Kt);fe=ne.distance(E,F,!0,!0),Me=ne.distance(E,K,!0,!0),_t=ne.distance(F,F,!1,!0),vt=ne.distance(K,K,!1,!0),0===(Kt=(Ne=Math.abs(fe))+(tt=Math.abs(Me)))?Ao.setRelative(E,E,(_t+vt)/2,ne,!0):Ao.setRelative(E,E,(_t*tt+vt*Ne)/Kt,ne,!0)},normalSlope:0,setRelative:function(E,F,K,ne,fe){var Me,Ne;ne&&ne!==this?(Me=fe?F.xo:F.x,Ne=fe?F.yo:F.y,E.y=(Ne+=K*ne.y)+ne.normalSlope*(E.x-(Me+=K*ne.x))):E.y=(fe?F.yo:F.y)+K},slope:Number.POSITIVE_INFINITY,touch:function(E){E.yTouched=!0},touched:function(E){return E.yTouched},untouch:function(E){E.yTouched=!1}};function Yn(E,F){this.x=E,this.y=F,this.axis=void 0,this.slope=F/E,this.normalSlope=-E/F,Object.freeze(this)}function Eo(E,F){var K=Math.sqrt(E*E+F*F);return F/=K,1==(E/=K)&&0===F?So:0===E&&1===F?Ao:new Yn(E,F)}function Ue(E,F,K,ne){this.x=this.xo=Math.round(64*E)/64,this.y=this.yo=Math.round(64*F)/64,this.lastPointOfContour=K,this.onCurve=ne,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(So),Object.freeze(Ao),Yn.prototype.distance=function(E,F,K,ne){return this.x*So.distance(E,F,K,ne)+this.y*Ao.distance(E,F,K,ne)},Yn.prototype.interpolate=function(E,fe,Me,ne){var Ne=ne.distance(E,fe,!0,!0),tt=ne.distance(E,Me,!0,!0),_t=(fe=ne.distance(fe,fe,!1,!0),Me=ne.distance(Me,Me,!1,!0),(Ne=Math.abs(Ne))+(tt=Math.abs(tt)));this.setRelative(E,E,0===_t?(fe+Me)/2:(fe*tt+Me*Ne)/_t,ne,!0)},Yn.prototype.setRelative=function(E,Me,_t,vt,tt){var Ne=tt?Me.xo:Me.x,Kt=(tt=tt?Me.yo:Me.y,Me=Ne+_t*(vt=vt||this).x,Ne=tt+_t*vt.y,tt=vt.normalSlope,E.y);E.x=((_t=this.slope)*(vt=E.x)-tt*Me+Ne-Kt)/(_t-tt),E.y=_t*(E.x-vt)+Kt},Yn.prototype.touch=function(E){E.xTouched=!0,E.yTouched=!0},Ue.prototype.nextTouched=function(E){for(var F=this.nextPointOnContour;!E.touched(F)&&F!==this;)F=F.nextPointOnContour;return F},Ue.prototype.prevTouched=function(E){for(var F=this.prevPointOnContour;!E.touched(F)&&F!==this;)F=F.prevPointOnContour;return F};var ot=Object.freeze(new Ue(0,0)),At={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Lt(E,F){switch(this.env=E,this.stack=[],this.prog=F,E){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=So,this.round=ts}}function er(E){for(var F=E.tZone=new Array(E.gZone.length),K=0;K<F.length;K++)F[K]=new Ue(0,0)}function Jt(E,F){var K,ne=E.prog,fe=E.ip,Me=1;do{if(88===(K=ne[++fe]))Me++;else if(89===K)Me--;else if(64===K)fe+=ne[fe+1]+1;else if(65===K)fe+=2*ne[fe+1]+1;else if(176<=K&&K<=183)fe+=K-176+1;else if(184<=K&&K<=191)fe+=2*(K-184+1);else if(F&&1===Me&&27===K)break}while(0<Me);E.ip=fe}function mr(E,F){m.DEBUG&&console.log(F.step,"SVTCA["+E.axis+"]"),F.fv=F.pv=F.dpv=E}function Sr(E,F){m.DEBUG&&console.log(F.step,"SPVTCA["+E.axis+"]"),F.pv=F.dpv=E}function Cr(E,F){m.DEBUG&&console.log(F.step,"SFVTCA["+E.axis+"]"),F.fv=E}function Tr(E,F){var K,ne=(fe=F.stack).pop(),fe=fe.pop(),Me=F.z2[ne],Ne=F.z1[fe];m.DEBUG&&console.log("SPVTL["+E+"]",ne,fe),ne=E?(K=Me.y-Ne.y,Ne.x-Me.x):(K=Ne.x-Me.x,Ne.y-Me.y),F.pv=F.dpv=Eo(K,ne)}function Ur(E,F){var K,ne=(fe=F.stack).pop(),fe=fe.pop(),Me=F.z2[ne],Ne=F.z1[fe];m.DEBUG&&console.log("SFVTL["+E+"]",ne,fe),ne=E?(K=Me.y-Ne.y,Ne.x-Me.x):(K=Ne.x-Me.x,Ne.y-Me.y),F.fv=Eo(K,ne)}function Fr(E){m.DEBUG&&console.log(E.step,"POP[]"),E.stack.pop()}function Gr(E,F){var K=F.stack.pop(),ne=F.z0[K],fe=F.fv,Me=F.pv,Ne=(m.DEBUG&&console.log(F.step,"MDAP["+E+"]",K),Me.distance(ne,ot));E&&(Ne=F.round(Ne)),fe.setRelative(ne,ot,Ne,Me),fe.touch(ne),F.rp0=F.rp1=K}function qr(E,F){var K,ne,fe,Me=F.z2,Ne=Me.length-2;m.DEBUG&&console.log(F.step,"IUP["+E.axis+"]");for(var tt=0;tt<Ne;tt++)E.touched(K=Me[tt])||(ne=K.prevTouched(E))!==K&&(ne===(fe=K.nextTouched(E))&&E.setRelative(K,K,E.distance(ne,ne,!1,!0),E,!0),E.interpolate(K,ne,fe,E))}function pn(E,F){for(var K=F.stack,fe=(E?F.z0:F.z1)[E?F.rp1:F.rp2],Me=F.fv,Ne=F.pv,tt=F.loop,_t=F.z2;tt--;){var vt=K.pop(),Kt=_t[vt],ve=Ne.distance(fe,fe,!1,!0);Me.setRelative(Kt,Kt,ve,Ne),Me.touch(Kt),m.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-tt)+": ":"")+"SHP["+(E?"rp1":"rp2")+"]",vt)}F.loop=1}function _n(E,F){for(var ne=(E?F.z0:F.z1)[E?F.rp1:F.rp2],fe=F.fv,Me=F.pv,Ne=F.stack.pop(),tt=F.z2[F.contours[Ne]],_t=tt,vt=(m.DEBUG&&console.log(F.step,"SHC["+E+"]",Ne),Me.distance(ne,ne,!1,!0));_t!==ne&&fe.setRelative(_t,_t,vt,Me),(_t=_t.nextPointOnContour)!==tt;);}function wn(E,F){var K,ne,fe=(E?F.z0:F.z1)[fe=E?F.rp1:F.rp2],Me=F.fv,Ne=F.pv,tt=(tt=F.stack).pop();switch(m.DEBUG&&console.log(F.step,"SHZ["+E+"]",tt),tt){case 0:K=F.tZone;break;case 1:K=F.gZone;break;default:throw new Error("Invalid zone")}for(var _t=Ne.distance(fe,fe,!1,!0),vt=K.length-2,Kt=0;Kt<vt;Kt++)Me.setRelative(ne=K[Kt],ne,_t,Ne)}function Un(E,F){var K=(ne=F.stack).pop()/64,ne=ne.pop(),fe=F.z1[ne],Ne=F.fv;Ne.setRelative(fe,F.z0[F.rp0],K,F.pv),Ne.touch(fe),m.DEBUG&&console.log(F.step,"MSIRP["+E+"]",K,ne),F.rp1=F.rp0,F.rp2=ne,E&&(F.rp0=ne)}function Rn(E,F){var tt=(K=F.stack).pop(),K=K.pop(),ne=F.z0[K],fe=F.fv,Me=F.pv,Ne=F.cvt[tt];m.DEBUG&&console.log(F.step,"MIAP["+E+"]",tt,"(",Ne,")",K),tt=Me.distance(ne,ot),E&&(Math.abs(tt-Ne)<F.cvCutIn&&(tt=Ne),tt=F.round(tt)),fe.setRelative(ne,ot,tt,Me),0===F.zp0&&(ne.xo=ne.x,ne.yo=ne.y),fe.touch(ne),F.rp0=F.rp1=K}function kr(E,F){var K=F.stack,ne=K.pop(),fe=F.z2[ne];m.DEBUG&&console.log(F.step,"GC["+E+"]",ne),K.push(64*F.dpv.distance(fe,ot,E,!1))}function go(E,F){var K=(ne=F.stack).pop(),ne=ne.pop(),Me=F.dpv.distance(Me=F.z0[ne],F.z1[K],E,E);m.DEBUG&&console.log(F.step,"MD["+E+"]",K,ne,"->",Me),F.stack.push(Math.round(64*Me))}function Lo(E,F){var K=F.stack,ne=K.pop(),fe=F.fv,Me=F.pv,Ne=F.ppem,tt=F.deltaBase+16*(E-1),_t=F.deltaShift,vt=F.z0;m.DEBUG&&console.log(F.step,"DELTAP["+E+"]",ne,K);for(var Kt=0;Kt<ne;Kt++){var ve=K.pop(),ae=K.pop();tt+((240&ae)>>4)===Ne&&(0<=(ae=(15&ae)-8)&&ae++,m.DEBUG&&console.log(F.step,"DELTAPFIX",ve,"by",ae*_t),fe.setRelative(ve=vt[ve],ve,ae*_t,Me))}}function Pn(E,F){var K=F.stack,ne=K.pop();m.DEBUG&&console.log(F.step,"ROUND[]"),K.push(64*F.round(ne/64))}function Os(E,F){var K=F.stack,ne=K.pop(),fe=F.ppem,Me=F.deltaBase+16*(E-1),Ne=F.deltaShift;m.DEBUG&&console.log(F.step,"DELTAC["+E+"]",ne,K);for(var tt=0;tt<ne;tt++){var _t=K.pop(),vt=K.pop();Me+((240&vt)>>4)===fe&&(0<=(vt=(15&vt)-8)&&vt++,vt*=Ne,m.DEBUG&&console.log(F.step,"DELTACFIX",_t,"by",vt),F.cvt[_t]+=vt)}}function yi(E,F){var K,ne=(fe=F.stack).pop(),fe=fe.pop(),Me=F.z2[ne],Ne=F.z1[fe];m.DEBUG&&console.log(F.step,"SDPVTL["+E+"]",ne,fe),ne=E?(K=Me.y-Ne.y,Ne.x-Me.x):(K=Ne.x-Me.x,Ne.y-Me.y),F.dpv=Eo(K,ne)}function ho(E,F){var K=F.stack,ne=F.prog,fe=F.ip;m.DEBUG&&console.log(F.step,"PUSHB["+E+"]");for(var Me=0;Me<E;Me++)K.push(ne[++fe]);F.ip=fe}function Bn(E,F){var K=F.ip,ne=F.prog,fe=F.stack;m.DEBUG&&console.log(F.ip,"PUSHW["+E+"]");for(var Me=0;Me<E;Me++){var Ne=ne[++K]<<8|ne[++K];32768&Ne&&(Ne=-(1+(65535^Ne))),fe.push(Ne)}F.ip=K}function Vr(E,F,K,ne,fe,Me){var Ne,tt,Kt,vt=Me.stack,_t=E&&vt.pop(),ve=(vt=vt.pop(),Me.z1[vt]),ae=Me.minDis,be=Me.fv,ge=Me.dpv,Ge=Ne=ge.distance(ve,Kt=Me.z0[Kt=Me.rp0],!0,!0),Ut=0<=Ge?1:-1;Ge=Math.abs(Ge),E&&(tt=Me.cvt[_t],ne&&Math.abs(Ge-tt)<Me.cvCutIn&&(Ge=tt)),K&&Ge<ae&&(Ge=ae),ne&&(Ge=Me.round(Ge)),be.setRelative(ve,Kt,Ut*Ge,ge),be.touch(ve),m.DEBUG&&console.log(Me.step,(E?"MIRP[":"MDRP[")+(F?"M":"m")+(K?">":"_")+(ne?"R":"_")+(0===fe?"Gr":1===fe?"Bl":2===fe?"Wh":"")+"]",E?_t+"("+Me.cvt[_t]+","+tt+")":"",vt,"(d =",Ne,"->",Ut*Ge,")"),Me.rp1=Me.rp0,Me.rp2=vt,F&&(Me.rp0=vt)}Fn.prototype.exec=function(E,F){if("number"!=typeof F)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var K=this.font,ne=this._prepState;if(!ne||ne.ppem!==F){var fe=this._fpgmState;if(!fe){Lt.prototype=At,(fe=this._fpgmState=new Lt("fpgm",K.tables.fpgm)).funcs=[],fe.font=K,m.DEBUG&&(console.log("---EXEC FPGM---"),fe.step=-1);try{xo(fe)}catch(vt){return console.log("Hinting error in FPGM:"+vt),void(this._errorState=3)}}Lt.prototype=fe,(ne=this._prepState=new Lt("prep",K.tables.prep)).ppem=F;var Me=K.tables.cvt;if(Me)for(var Ne=ne.cvt=new Array(Me.length),tt=F/K.unitsPerEm,_t=0;_t<Me.length;_t++)Ne[_t]=Me[_t]*tt;else ne.cvt=[];m.DEBUG&&(console.log("---EXEC PREP---"),ne.step=-1);try{xo(ne)}catch(vt){this._errorState<2&&console.log("Hinting error in PREP:"+vt),this._errorState=2}}if(!(1<this._errorState))try{return Go(E,ne)}catch(vt){this._errorState<1&&(console.log("Hinting error:"+vt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(E,F){var K=F.ppem/F.font.unitsPerEm,ne=K,fe=E.components;if(Lt.prototype=F,fe){for(var Me=F.font,Ne=[],tt=[],_t=0;_t<fe.length;_t++){var vt=fe[_t],Kt=Me.glyphs.get(vt.glyphIndex),ve=new Lt("glyf",Kt.instructions);m.DEBUG&&(console.log("---EXEC COMP "+_t+"---"),ve.step=-1),Jo(Kt,ve,K,ne);for(var ae=Math.round(vt.dx*K),be=Math.round(vt.dy*ne),ge=ve.gZone,Ge=ve.contours,Ut=0;Ut<ge.length;Ut++){var Xt=ge[Ut];Xt.xTouched=Xt.yTouched=!1,Xt.xo=Xt.x=Xt.x+ae,Xt.yo=Xt.y=Xt.y+be}var or=Ne.length;Ne.push.apply(Ne,ge);for(var Br=0;Br<Ge.length;Br++)tt.push(Ge[Br]+or)}E.instructions&&!ve.inhibitGridFit&&((ve=new Lt("glyf",E.instructions)).gZone=ve.z0=ve.z1=ve.z2=Ne,ve.contours=tt,Ne.push(new Ue(0,0),new Ue(Math.round(E.advanceWidth*K),0)),m.DEBUG&&(console.log("---EXEC COMPOSITE---"),ve.step=-1),xo(ve),Ne.length-=2)}else ve=new Lt("glyf",E.instructions),m.DEBUG&&(console.log("---EXEC GLYPH---"),ve.step=-1),Jo(E,ve,K,ne),Ne=ve.gZone;return Ne},Jo=function(E,F,K,ne){for(var fe,Me,tt=E.points||[],_t=tt.length,vt=F.gZone=F.z0=F.z1=F.z2=[],Kt=F.contours=[],ve=0;ve<_t;ve++)vt[ve]=new Ue((fe=tt[ve]).x*K,fe.y*ne,fe.lastPointOfContour,fe.onCurve);for(var ae=0;ae<_t;ae++)fe=vt[ae],Me||(Me=fe,Kt.push(ae)),fe.lastPointOfContour?((fe.nextPointOnContour=Me).prevPointOnContour=fe,Me=void 0):(fe.nextPointOnContour=vt[ae+1]).prevPointOnContour=fe;if(!F.inhibitGridFit){if(m.DEBUG){console.log("PROCESSING GLYPH",F.stack);for(var be=0;be<_t;be++)console.log(be,vt[be].x,vt[be].y)}if(vt.push(new Ue(0,0),new Ue(Math.round(E.advanceWidth*K),0)),xo(F),vt.length-=2,m.DEBUG){console.log("FINISHED GLYPH",F.stack);for(var ge=0;ge<_t;ge++)console.log(ge,vt[ge].x,vt[ge].y)}}},xo=function(E){var F=E.prog;if(F){var K,ne=F.length;for(E.ip=0;E.ip<ne;E.ip++){if(m.DEBUG&&E.step++,!(K=Ps[F[E.ip]]))throw new Error("unknown instruction: 0x"+Number(F[E.ip]).toString(16));K(E)}}},Ps=[mr.bind(void 0,Ao),mr.bind(void 0,So),Sr.bind(void 0,Ao),Sr.bind(void 0,So),Cr.bind(void 0,Ao),Cr.bind(void 0,So),Tr.bind(void 0,0),Tr.bind(void 0,1),Ur.bind(void 0,0),Ur.bind(void 0,1),function(E){var F=(K=E.stack).pop(),K=K.pop();m.DEBUG&&console.log(E.step,"SPVFS[]",F,K),E.pv=E.dpv=Eo(K,F)},function(E){var F=(K=E.stack).pop(),K=K.pop();m.DEBUG&&console.log(E.step,"SPVFS[]",F,K),E.fv=Eo(K,F)},function(E){var F=E.stack,K=E.pv;m.DEBUG&&console.log(E.step,"GPV[]"),F.push(16384*K.x),F.push(16384*K.y)},function(E){var F=E.stack,K=E.fv;m.DEBUG&&console.log(E.step,"GFV[]"),F.push(16384*K.x),F.push(16384*K.y)},function(E){E.fv=E.pv,m.DEBUG&&console.log(E.step,"SFVTPV[]")},function(F){var K=(Ne=F.stack).pop(),ne=Ne.pop(),fe=Ne.pop(),Me=Ne.pop(),Ne=Ne.pop(),tt=(_t=F.z0)[K],_t=_t[ne],vt=(Kt=F.z1)[fe],Kt=Kt[Me],ve=(F=F.z2[Ne],m.DEBUG&&console.log("ISECT[], ",K,ne,fe,Me,Ne),K=tt.x,ne=tt.y,tt=vt.y,K*(Me=_t.y)-ne*(fe=_t.x)),ae=(Ne=vt.x)*(vt=Kt.y)-tt*(_t=Kt.x);F.x=(ve*(Ne-_t)-ae*(K-fe))/(Kt=(K-fe)*(tt-vt)-(ne-Me)*(Ne-_t)),F.y=(ve*(tt-vt)-ae*(ne-Me))/Kt},function(E){E.rp0=E.stack.pop(),m.DEBUG&&console.log(E.step,"SRP0[]",E.rp0)},function(E){E.rp1=E.stack.pop(),m.DEBUG&&console.log(E.step,"SRP1[]",E.rp1)},function(E){E.rp2=E.stack.pop(),m.DEBUG&&console.log(E.step,"SRP2[]",E.rp2)},function(E){var F=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"SZP0[]",F),E.zp0=F){case 0:E.tZone||er(E),E.z0=E.tZone;break;case 1:E.z0=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var F=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"SZP1[]",F),E.zp1=F){case 0:E.tZone||er(E),E.z1=E.tZone;break;case 1:E.z1=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var F=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"SZP2[]",F),E.zp2=F){case 0:E.tZone||er(E),E.z2=E.tZone;break;case 1:E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var F=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"SZPS[]",F),E.zp0=E.zp1=E.zp2=F){case 0:E.tZone||er(E),E.z0=E.z1=E.z2=E.tZone;break;case 1:E.z0=E.z1=E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){E.loop=E.stack.pop(),m.DEBUG&&console.log(E.step,"SLOOP[]",E.loop)},function(E){m.DEBUG&&console.log(E.step,"RTG[]"),E.round=ts},function(E){m.DEBUG&&console.log(E.step,"RTHG[]"),E.round=As},function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"SMD[]",F),E.minDis=F/64},function(E){m.DEBUG&&console.log(E.step,"ELSE[]"),Jt(E,!1)},function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"JMPR[]",F),E.ip+=F-1},function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"SCVTCI[]",F),E.cvCutIn=F/64},void 0,void 0,function(E){var F=E.stack;m.DEBUG&&console.log(E.step,"DUP[]"),F.push(F[F.length-1])},Fr,function(E){m.DEBUG&&console.log(E.step,"CLEAR[]"),E.stack.length=0},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"SWAP[]"),F.push(K),F.push(ne)},function(E){var F=E.stack;m.DEBUG&&console.log(E.step,"DEPTH[]"),F.push(F.length)},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"CINDEX[]",K),F.push(F[F.length-K])},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"MINDEX[]",K),F.push(F.splice(F.length-K,1)[0])},void 0,void 0,void 0,function(E){var F=(ne=E.stack).pop(),K=ne.pop(),ne=(m.DEBUG&&console.log(E.step,"LOOPCALL[]",F,K),E.ip),fe=E.prog;E.prog=E.funcs[F];for(var Me=0;Me<K;Me++)xo(E),m.DEBUG&&console.log(++E.step,Me+1<K?"next loopcall":"done loopcall",Me);E.ip=ne,E.prog=fe},function(E){var F=E.stack.pop(),K=(m.DEBUG&&console.log(E.step,"CALL[]",F),E.ip),ne=E.prog;E.prog=E.funcs[F],xo(E),E.ip=K,E.prog=ne,m.DEBUG&&console.log(++E.step,"returning from",F)},function(E){if("fpgm"!==E.env)throw new Error("FDEF not allowed here");var F=E.prog,K=E.ip,ne=(ne=E.stack).pop(),fe=K;for(m.DEBUG&&console.log(E.step,"FDEF[]",ne);45!==F[++K];);E.ip=K,E.funcs[ne]=F.slice(fe+1,K)},void 0,Gr.bind(void 0,0),Gr.bind(void 0,1),qr.bind(void 0,Ao),qr.bind(void 0,So),pn.bind(void 0,0),pn.bind(void 0,1),_n.bind(void 0,0),_n.bind(void 0,1),wn.bind(void 0,0),wn.bind(void 0,1),function(E){for(var F=E.stack,K=E.loop,ne=E.fv,fe=F.pop()/64,Me=E.z2;K--;){var Ne=F.pop(),tt=Me[Ne];m.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-K)+": ":"")+"SHPIX[]",Ne,fe),ne.setRelative(tt,tt,fe),ne.touch(tt)}E.loop=1},function(E){for(var F=E.stack,K=E.rp1,ne=E.rp2,fe=E.loop,Me=E.z0[K],Ne=E.z1[ne],tt=E.fv,_t=E.dpv,vt=E.z2;fe--;){var Kt=F.pop(),ve=vt[Kt];m.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-fe)+": ":"")+"IP[]",Kt,K,"<->",ne),tt.interpolate(ve,Me,Ne,_t),tt.touch(ve)}E.loop=1},Un.bind(void 0,0),Un.bind(void 0,1),function(E){for(var F=E.stack,ne=E.z0[E.rp0],fe=E.loop,Me=E.fv,Ne=E.pv,tt=E.z1;fe--;){var _t=F.pop(),vt=tt[_t];m.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-fe)+": ":"")+"ALIGNRP[]",_t),Me.setRelative(vt,ne,0,Ne),Me.touch(vt)}E.loop=1},function(E){m.DEBUG&&console.log(E.step,"RTDG[]"),E.round=Yo},Rn.bind(void 0,0),Rn.bind(void 0,1),function(E){var F=E.prog,K=E.ip,ne=E.stack,fe=F[++K];m.DEBUG&&console.log(E.step,"NPUSHB[]",fe);for(var Me=0;Me<fe;Me++)ne.push(F[++K]);E.ip=K},function(E){var F=E.ip,K=E.prog,ne=E.stack,fe=K[++F];m.DEBUG&&console.log(E.step,"NPUSHW[]",fe);for(var Me=0;Me<fe;Me++){var Ne=K[++F]<<8|K[++F];32768&Ne&&(Ne=-(1+(65535^Ne))),ne.push(Ne)}E.ip=F},function(E){var ne=E.stack,F=(F=E.store)||(E.store=[]),K=ne.pop();ne=ne.pop(),m.DEBUG&&console.log(E.step,"WS",K,ne),F[ne]=K},function(fe){var F=fe.stack,K=fe.store,ne=F.pop();m.DEBUG&&console.log(fe.step,"RS",ne),F.push(fe=K&&K[ne]||0)},function(E){var F=(K=E.stack).pop(),K=K.pop();m.DEBUG&&console.log(E.step,"WCVTP",F,K),E.cvt[K]=F/64},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"RCVT",K),F.push(64*E.cvt[K])},kr.bind(void 0,0),kr.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(E){m.DEBUG&&console.log(E.step,"MPPEM[]"),E.stack.push(E.ppem)},void 0,function(E){m.DEBUG&&console.log(E.step,"FLIPON[]"),E.autoFlip=!0},void 0,void 0,function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"LT[]",K,ne),F.push(ne<K?1:0)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"LTEQ[]",K,ne),F.push(ne<=K?1:0)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"GT[]",K,ne),F.push(K<ne?1:0)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"GTEQ[]",K,ne),F.push(K<=ne?1:0)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"EQ[]",K,ne),F.push(K===ne?1:0)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"NEQ[]",K,ne),F.push(K!==ne?1:0)},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"ODD[]",K),F.push(Math.trunc(K)%2?1:0)},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"EVEN[]",K),F.push(Math.trunc(K)%2?0:1)},function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"IF[]",F),F||(Jt(E,!0),m.DEBUG&&console.log(E.step,"EIF[]"))},function(E){m.DEBUG&&console.log(E.step,"EIF[]")},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"AND[]",K,ne),F.push(K&&ne?1:0)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"OR[]",K,ne),F.push(K||ne?1:0)},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"NOT[]",K),F.push(K?0:1)},Lo.bind(void 0,1),function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"SDB[]",F),E.deltaBase=F},function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"SDS[]",F),E.deltaShift=Math.pow(.5,F)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"ADD[]",K,ne),F.push(ne+K)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"SUB[]",K,ne),F.push(ne-K)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"DIV[]",K,ne),F.push(64*ne/K)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"MUL[]",K,ne),F.push(ne*K/64)},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"ABS[]",K),F.push(Math.abs(K))},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"NEG[]",K),F.push(-K)},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"FLOOR[]",K),F.push(64*Math.floor(K/64))},function(E){var F=E.stack,K=F.pop();m.DEBUG&&console.log(E.step,"CEILING[]",K),F.push(64*Math.ceil(K/64))},Pn.bind(void 0,0),Pn.bind(void 0,1),Pn.bind(void 0,2),Pn.bind(void 0,3),void 0,void 0,void 0,void 0,function(E){var F=(K=E.stack).pop(),K=K.pop();m.DEBUG&&console.log(E.step,"WCVTF[]",F,K),E.cvt[K]=F*E.ppem/E.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),Os.bind(void 0,1),Os.bind(void 0,2),Os.bind(void 0,3),function(E){var F,K=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"SROUND[]",K),E.round=js,192&K){case 0:F=.5;break;case 64:F=1;break;case 128:F=2;break;default:throw new Error("invalid SROUND value")}switch(E.srPeriod=F,48&K){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*F;break;case 32:E.srPhase=.5*F;break;case 48:E.srPhase=.75*F;break;default:throw new Error("invalid SROUND value")}E.srThreshold=0==(K&=15)?0:(K/8-.5)*F},function(E){var F,K=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"S45ROUND[]",K),E.round=js,192&K){case 0:F=Math.sqrt(2)/2;break;case 64:F=Math.sqrt(2);break;case 128:F=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(E.srPeriod=F,48&K){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*F;break;case 32:E.srPhase=.5*F;break;case 48:E.srPhase=.75*F;break;default:throw new Error("invalid S45ROUND value")}E.srThreshold=0==(K&=15)?0:(K/8-.5)*F},void 0,void 0,function(E){m.DEBUG&&console.log(E.step,"ROFF[]"),E.round=mo},void 0,function(E){m.DEBUG&&console.log(E.step,"RUTG[]"),E.round=Ms},function(E){m.DEBUG&&console.log(E.step,"RDTG[]"),E.round=Is},Fr,Fr,void 0,void 0,void 0,void 0,void 0,function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"SCANCTRL[]",F)},yi.bind(void 0,0),yi.bind(void 0,1),function(E){var F=E.stack,K=F.pop(),ne=0;m.DEBUG&&console.log(E.step,"GETINFO[]",K),1&K&&(ne=35),32&K&&(ne|=4096),F.push(ne)},void 0,function(E){var F=E.stack,K=F.pop(),ne=F.pop(),fe=F.pop();m.DEBUG&&console.log(E.step,"ROLL[]"),F.push(ne),F.push(K),F.push(fe)},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"MAX[]",K,ne),F.push(Math.max(ne,K))},function(E){var F=E.stack,K=F.pop(),ne=F.pop();m.DEBUG&&console.log(E.step,"MIN[]",K,ne),F.push(Math.min(ne,K))},function(E){var F=E.stack.pop();m.DEBUG&&console.log(E.step,"SCANTYPE[]",F)},function(E){var F=E.stack.pop(),K=E.stack.pop();switch(m.DEBUG&&console.log(E.step,"INSTCTRL[]",F,K),F){case 1:return void(E.inhibitGridFit=!!K);case 2:return void(E.ignoreCvt=!!K);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Bn.bind(void 0,1),Bn.bind(void 0,2),Bn.bind(void 0,3),Bn.bind(void 0,4),Bn.bind(void 0,5),Bn.bind(void 0,6),Bn.bind(void 0,7),Bn.bind(void 0,8),Vr.bind(void 0,0,0,0,0,0),Vr.bind(void 0,0,0,0,0,1),Vr.bind(void 0,0,0,0,0,2),Vr.bind(void 0,0,0,0,0,3),Vr.bind(void 0,0,0,0,1,0),Vr.bind(void 0,0,0,0,1,1),Vr.bind(void 0,0,0,0,1,2),Vr.bind(void 0,0,0,0,1,3),Vr.bind(void 0,0,0,1,0,0),Vr.bind(void 0,0,0,1,0,1),Vr.bind(void 0,0,0,1,0,2),Vr.bind(void 0,0,0,1,0,3),Vr.bind(void 0,0,0,1,1,0),Vr.bind(void 0,0,0,1,1,1),Vr.bind(void 0,0,0,1,1,2),Vr.bind(void 0,0,0,1,1,3),Vr.bind(void 0,0,1,0,0,0),Vr.bind(void 0,0,1,0,0,1),Vr.bind(void 0,0,1,0,0,2),Vr.bind(void 0,0,1,0,0,3),Vr.bind(void 0,0,1,0,1,0),Vr.bind(void 0,0,1,0,1,1),Vr.bind(void 0,0,1,0,1,2),Vr.bind(void 0,0,1,0,1,3),Vr.bind(void 0,0,1,1,0,0),Vr.bind(void 0,0,1,1,0,1),Vr.bind(void 0,0,1,1,0,2),Vr.bind(void 0,0,1,1,0,3),Vr.bind(void 0,0,1,1,1,0),Vr.bind(void 0,0,1,1,1,1),Vr.bind(void 0,0,1,1,1,2),Vr.bind(void 0,0,1,1,1,3),Vr.bind(void 0,1,0,0,0,0),Vr.bind(void 0,1,0,0,0,1),Vr.bind(void 0,1,0,0,0,2),Vr.bind(void 0,1,0,0,0,3),Vr.bind(void 0,1,0,0,1,0),Vr.bind(void 0,1,0,0,1,1),Vr.bind(void 0,1,0,0,1,2),Vr.bind(void 0,1,0,0,1,3),Vr.bind(void 0,1,0,1,0,0),Vr.bind(void 0,1,0,1,0,1),Vr.bind(void 0,1,0,1,0,2),Vr.bind(void 0,1,0,1,0,3),Vr.bind(void 0,1,0,1,1,0),Vr.bind(void 0,1,0,1,1,1),Vr.bind(void 0,1,0,1,1,2),Vr.bind(void 0,1,0,1,1,3),Vr.bind(void 0,1,1,0,0,0),Vr.bind(void 0,1,1,0,0,1),Vr.bind(void 0,1,1,0,0,2),Vr.bind(void 0,1,1,0,0,3),Vr.bind(void 0,1,1,0,1,0),Vr.bind(void 0,1,1,0,1,1),Vr.bind(void 0,1,1,0,1,2),Vr.bind(void 0,1,1,0,1,3),Vr.bind(void 0,1,1,1,0,0),Vr.bind(void 0,1,1,1,0,1),Vr.bind(void 0,1,1,1,0,2),Vr.bind(void 0,1,1,1,0,3),Vr.bind(void 0,1,1,1,1,0),Vr.bind(void 0,1,1,1,1,1),Vr.bind(void 0,1,1,1,1,2),Vr.bind(void 0,1,1,1,1,3)],bs=Array.from||function(E){return E.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function xn(E){(E=E||{}).empty||(ye(E.familyName,"When creating a new Font object, familyName is required."),ye(E.styleName,"When creating a new Font object, styleName is required."),ye(E.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ye(E.ascender,"When creating a new Font object, ascender is required."),ye(E.descender,"When creating a new Font object, descender is required."),ye(E.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:E.familyName||" "},fontSubfamily:{en:E.styleName||" "},fullName:{en:E.fullName||E.familyName+" "+E.styleName},postScriptName:{en:E.postScriptName||(E.familyName+E.styleName).replace(/\s/g,"")},designer:{en:E.designer||" "},designerURL:{en:E.designerURL||" "},manufacturer:{en:E.manufacturer||" "},manufacturerURL:{en:E.manufacturerURL||" "},license:{en:E.license||" "},licenseURL:{en:E.licenseURL||" "},version:{en:E.version||"Version 0.1"},description:{en:E.description||" "},copyright:{en:E.copyright||" "},trademark:{en:E.trademark||" "}},this.unitsPerEm=E.unitsPerEm||1e3,this.ascender=E.ascender,this.descender=E.descender,this.createdTimestamp=E.createdTimestamp,this.tables={os2:{usWeightClass:E.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:E.widthClass||this.usWidthClasses.MEDIUM,fsSelection:E.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Nt.GlyphSet(this,E.glyphs||[]),this.encoding=new qt(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Fn(this):void 0)}})}xn.prototype.hasChar=function(E){return null!==this.encoding.charToGlyphIndex(E)},xn.prototype.charToGlyphIndex=function(E){return this.encoding.charToGlyphIndex(E)},xn.prototype.charToGlyph=function(E){return E=this.charToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},xn.prototype.stringToGlyphs=function(E,F){F=F||this.defaultRenderOptions;for(var K=bs(E),ne=[],fe=0;fe<K.length;fe+=1)ne.push(this.charToGlyphIndex(K[fe]));var Ne=ne.length;if(F.features){E=F.script||this.substitution.getDefaultScriptName();var tt=[];F.features.liga&&(tt=tt.concat(this.substitution.getFeature("liga",E,F.language))),F.features.rlig&&(tt=tt.concat(this.substitution.getFeature("rlig",E,F.language)));for(var _t=0;_t<Ne;_t+=1)for(var vt=0;vt<tt.length;vt++){for(var Kt=tt[vt],ve=Kt.sub,ae=ve.length,be=0;be<ae&&ve[be]===ne[_t+be];)be++;be===ae&&(ne.splice(_t,ae,Kt.by),Ne=Ne-ae+1)}}for(var ge=new Array(Ne),Ge=this.glyphs.get(0),Ut=0;Ut<Ne;Ut+=1)ge[Ut]=this.glyphs.get(ne[Ut])||Ge;return ge},xn.prototype.nameToGlyphIndex=function(E){return this.glyphNames.nameToGlyphIndex(E)},xn.prototype.nameToGlyph=function(E){return E=this.nameToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},xn.prototype.glyphIndexToName=function(E){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(E):""},xn.prototype.getKerningValue=function(E,F){E=E.index||E,F=F.index||F;var K=this.position.defaultKerningTables;return K?this.position.getKerningValue(K,E,F):this.kerningPairs[E+","+F]||0},xn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},xn.prototype.forEachGlyph=function(E,F,K,ne,fe,Me){F=void 0!==F?F:0,K=void 0!==K?K:0;var Ne,tt=1/this.unitsPerEm*(ne=void 0!==ne?ne:72),_t=this.stringToGlyphs(E,fe=fe||this.defaultRenderOptions);fe.kerning&&(E=fe.script||this.position.getDefaultScriptName(),Ne=this.position.getKerningTables(E,fe.language));for(var vt=0;vt<_t.length;vt+=1){var Kt=_t[vt];Me.call(this,Kt,F,K,ne,fe),Kt.advanceWidth&&(F+=Kt.advanceWidth*tt),fe.kerning&&vt<_t.length-1&&(F+=(Ne?this.position.getKerningValue(Ne,Kt.index,_t[vt+1].index):this.getKerningValue(Kt,_t[vt+1]))*tt),fe.letterSpacing?F+=fe.letterSpacing*ne:fe.tracking&&(F+=fe.tracking/1e3*ne)}return F},xn.prototype.getPath=function(E,F,K,ne,fe){var Me=new le;return this.forEachGlyph(E,F,K,ne,fe,function(Ne,tt,_t,vt){Ne=Ne.getPath(tt,_t,vt,fe,this),Me.extend(Ne)}),Me},xn.prototype.getPaths=function(E,F,K,ne,fe){var Me=[];return this.forEachGlyph(E,F,K,ne,fe,function(Ne,tt,_t,vt){Ne=Ne.getPath(tt,_t,vt,fe,this),Me.push(Ne)}),Me},xn.prototype.getAdvanceWidth=function(E,F,K){return this.forEachGlyph(E,0,0,F,K,function(){})},xn.prototype.draw=function(E,F,K,ne,fe,Me){this.getPath(F,K,ne,fe,Me).draw(E)},xn.prototype.drawPoints=function(E,F,K,ne,fe,Me){this.forEachGlyph(F,K,ne,fe,Me,function(Ne,tt,_t,vt){Ne.drawPoints(E,tt,_t,vt)})},xn.prototype.drawMetrics=function(E,F,K,ne,fe,Me){this.forEachGlyph(F,K,ne,fe,Me,function(Ne,tt,_t,vt){Ne.drawMetrics(E,tt,_t,vt)})},xn.prototype.getEnglishName=function(E){if(E=this.names[E])return E.en},xn.prototype.validate=function(){var E=this;function F(K){(K=E.getEnglishName(K))&&K.trim()}F("fontFamily"),F("weightName"),F("manufacturer"),F("copyright"),F("version")},xn.prototype.toTables=function(){return wo_fontToTable(this)},xn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},xn.prototype.toArrayBuffer=function(){for(var E=this.toTables().encode(),F=new ArrayBuffer(E.length),K=new Uint8Array(F),ne=0;ne<E.length;ne++)K[ne]=E[ne];return F},xn.prototype.download=function(E){var F=this.getEnglishName("fontFamily"),K=this.getEnglishName("fontSubfamily"),ne=(E=E||F.replace(/\s/g,"")+"-"+K+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,ne.byteLength,function(fe){fe.root.getFile(E,{create:!0},function(Me){Me.createWriter(function(Ne){var tt=new DataView(ne);tt=new Blob([tt],{type:"font/opentype"}),Ne.write(tt),Ne.addEventListener("writeend",function(){location.href=Me.toURL()},!1)})})},function(fe){throw new Error(fe.name+": "+fe.message)})):(F=o("fs"),K=function(fe){for(var Me=new v(fe.byteLength),Ne=new Uint8Array(fe),tt=0;tt<Me.length;++tt)Me[tt]=Ne[tt];return Me}(ne),F.writeFileSync(E,K))},xn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},xn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},xn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ii_parse=function(E,F,K){for(var ne,Me,Ne,tt=new $t.Parser(E,F),_t=tt.parseULong(),vt=(j.argument(65536===_t,"Unsupported fvar table version."),tt.parseOffset16()),Kt=(tt.skip("uShort",1),tt.parseUShort()),ve=tt.parseUShort(),ae=tt.parseUShort(),be=tt.parseUShort(),ge=[],Ge=0;Ge<Kt;Ge++)ge.push((Me=K,Ne={},ne=new $t.Parser(ne=E,F+vt+Ge*ve),Ne.tag=ne.parseTag(),Ne.minValue=ne.parseFixed(),Ne.defaultValue=ne.parseFixed(),Ne.maxValue=ne.parseFixed(),ne.skip("uShort",1),Ne.name=Me[ne.parseUShort()]||{},Ne));for(var Ut=[],Xt=F+vt+Kt*ve,or=0;or<ae;or++)Ut.push(function(Br,Lr,zr,Wr){var Qr={},vn=new $t.Parser(Br,Lr);Qr.name=Wr[vn.parseUShort()]||{},vn.skip("uShort",1),Qr.coordinates={};for(var qn=0;qn<zr.length;++qn)Qr.coordinates[zr[qn].tag]=vn.parseFixed();return Qr}(E,Xt+or*be,ge,K));return{axes:ge,instances:Ut}},Mo=new Array(10);Mo[1]=function(){var E=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{posFormat:1,coverage:this.parsePointer(jt.coverage),value:this.parseValueRecord()}:2===F?{posFormat:2,coverage:this.parsePointer(jt.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+E.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var E,F,K,ne,Me=this.offset+this.relativeOffset,fe=this.parseUShort(),Ne=(j.assert(1===fe||2===fe,"0x"+Me.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Me=this.parsePointer(jt.coverage),this.parseUShort()),tt=this.parseUShort();return 1===fe?{posFormat:fe,coverage:Me,valueFormat1:Ne,valueFormat2:tt,pairSets:this.parseList(jt.pointer(jt.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Ne),value2:this.parseValueRecord(tt)}})))}:2===fe?(E=this.parsePointer(jt.classDef),F=this.parsePointer(jt.classDef),K=this.parseUShort(),ne=this.parseUShort(),{posFormat:fe,coverage:Me,valueFormat1:Ne,valueFormat2:tt,classDef1:E,classDef2:F,class1Count:K,class2Count:ne,classRecords:this.parseList(K,jt.list(ne,function(){return{value1:this.parseValueRecord(Ne),value2:this.parseValueRecord(tt)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var ks_parse=function(E,F){return F=(E=new jt(E,F=F||0)).parseVersion(1),j.argument(1===F||1.1===F,"Unsupported GPOS table version "+F),1===F?{version:F,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Mo)}:{version:F,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Mo),variations:E.parseFeatureVariationsList()}},Xn_parse=function(E,F){if(0===(F=(E=new $t.Parser(E,F)).parseUShort())){var K=E,ne={},ve=(K.skip("uShort"),K.parseUShort()),fe=(j.argument(0===ve,"Unsupported kern sub-table version."),K.skip("uShort",2),K.parseUShort());K.skip("uShort",3);for(var Me=0;Me<fe;Me+=1){var Ne=K.parseUShort(),tt=K.parseUShort(),_t=K.parseShort();ne[Ne+","+tt]=_t}return ne}if(1!==F)throw new Error("Unsupported kern table version ("+F+").");var vt=E,Kt={};if(vt.skip("uShort"),1<vt.parseULong()&&console.warn("Only the first kern subtable is supported."),vt.skip("uLong"),ve=255&vt.parseUShort(),vt.skip("uShort"),0==ve){var ae=vt.parseUShort();vt.skip("uShort",3);for(var be=0;be<ae;be+=1){var ge=vt.parseUShort(),Ge=vt.parseUShort(),Ut=vt.parseShort();Kt[ge+","+Ge]=Ut}}return Kt},Rs_parse=function(E,F,K,ne){for(var fe=new $t.Parser(E,F),Me=ne?fe.parseUShort:fe.parseULong,Ne=[],tt=0;tt<K+1;tt+=1){var _t=Me.call(fe);ne&&(_t*=2),Ne.push(_t)}return Ne};function _s(E,F){o("fs").readFile(E,function(K,ne){if(K)return F(K.message);F(null,vs(ne))})}function ws(E,F){var K=new XMLHttpRequest;K.open("get",E,!0),K.responseType="arraybuffer",K.onload=function(){return K.response?F(null,K.response):F("Font could not be loaded: "+K.statusText)},K.onerror=function(){F("Font could not be loaded")},K.send()}function Gs(E,F){for(var K=[],ne=12,fe=0;fe<F;fe+=1){var Me=$t.getTag(E,ne),Ne=$t.getULong(E,ne+4),tt=$t.getULong(E,ne+8),_t=$t.getULong(E,ne+12);K.push({tag:Me,checksum:Ne,offset:tt,length:_t,compression:!1}),ne+=16}return K}function Hr(K,F){if("WOFF"!==F.compression)return{data:K,offset:F.offset};K=new Uint8Array(K.buffer,F.offset+2,F.compressedLength-2);var ne=new Uint8Array(F.length);if(V(K,ne),ne.byteLength!==F.length)throw new Error("Decompression error: "+F.tag+" decompressed length doesn't match recorded length");return{data:new DataView(ne.buffer,0),offset:0}}function Ho(or){var F,K,ne,fe,Me,Ne,tt,_t,vt,Kt,ve,ae,be,ge,Ge=new xn({empty:!0}),Ut=new DataView(or,0),Xt=[];if("\0\x01\0\0"===(or=$t.getTag(Ut,0))||"true"===or||"typ1"===or)Ge.outlinesFormat="truetype",Xt=Gs(Ut,ne=$t.getUShort(Ut,4));else if("OTTO"===or)Ge.outlinesFormat="cff",Xt=Gs(Ut,ne=$t.getUShort(Ut,4));else{if("wOFF"!==or)throw new Error("Unsupported OpenType signature "+or);if("\0\x01\0\0"===(Br=$t.getTag(Ut,4)))Ge.outlinesFormat="truetype";else{if("OTTO"!==Br)throw new Error("Unsupported OpenType flavor "+or);Ge.outlinesFormat="cff"}Xt=function(Mn,$r){for(var $n=[],Vn=44,lo=0;lo<$r;lo+=1){var kn=$t.getTag(Mn,Vn),uo=$t.getULong(Mn,Vn+4),rs=$t.getULong(Mn,Vn+8),ni=$t.getULong(Mn,Vn+12);$n.push({tag:kn,offset:uo,compression:rs<ni&&"WOFF",compressedLength:rs,length:ni}),Vn+=20}return $n}(Ut,ne=$t.getUShort(Ut,12))}for(var Lr=0;Lr<ne;Lr+=1){var zr=Xt[Lr],Wr=void 0;switch(zr.tag){case"cmap":Wr=Hr(Ut,zr),Ge.tables.cmap=Ve_parse(Wr.data,Wr.offset),Ge.encoding=new nr(Ge.tables.cmap);break;case"cvt ":Wr=Hr(Ut,zr),ge=new $t.Parser(Wr.data,Wr.offset),Ge.tables.cvt=ge.parseShortList(zr.length/2);break;case"fvar":Me=zr;break;case"fpgm":Wr=Hr(Ut,zr),ge=new $t.Parser(Wr.data,Wr.offset),Ge.tables.fpgm=ge.parseByteList(zr.length);break;case"head":Wr=Hr(Ut,zr),Ge.tables.head=R_parse(Wr.data,Wr.offset),Ge.unitsPerEm=Ge.tables.head.unitsPerEm,F=Ge.tables.head.indexToLocFormat;break;case"hhea":Wr=Hr(Ut,zr),Ge.tables.hhea=C_parse(Wr.data,Wr.offset),Ge.ascender=Ge.tables.hhea.ascender,Ge.descender=Ge.tables.hhea.descender,Ge.numberOfHMetrics=Ge.tables.hhea.numberOfHMetrics;break;case"hmtx":vt=zr;break;case"ltag":Wr=Hr(Ut,zr),K=U_parse(Wr.data,Wr.offset);break;case"maxp":Wr=Hr(Ut,zr),Ge.tables.maxp=te_parse(Wr.data,Wr.offset),Ge.numGlyphs=Ge.tables.maxp.numGlyphs;break;case"name":ae=zr;break;case"OS/2":Wr=Hr(Ut,zr),Ge.tables.os2=Pr_parse(Wr.data,Wr.offset);break;case"post":Wr=Hr(Ut,zr),Ge.tables.post=on_parse(Wr.data,Wr.offset),Ge.glyphNames=new Tt(Ge.tables.post);break;case"prep":Wr=Hr(Ut,zr),ge=new $t.Parser(Wr.data,Wr.offset),Ge.tables.prep=ge.parseByteList(zr.length);break;case"glyf":Ne=zr;break;case"loca":ve=zr;break;case"CFF ":fe=zr;break;case"kern":Kt=zr;break;case"GPOS":tt=zr;break;case"GSUB":_t=zr;break;case"meta":be=zr}}if(Br=Hr(Ut,ae),Ge.tables.name=ur_parse(Br.data,Br.offset,K),Ge.names=Ge.tables.name,Ne&&ve)or=0===F,Br=Hr(Ut,ve),Br=Rs_parse(Br.data,Br.offset,Ge.numGlyphs,or),or=Hr(Ut,Ne),Ge.glyphs=hn.parse(or.data,or.offset,Br,Ge);else{if(!fe)throw new Error("Font doesn't contain TrueType or CFF outlines.");or=Hr(Ut,fe),A_parse(or.data,or.offset,Ge)}for(var Br=Hr(Ut,vt),Qr=(Y_parse(Br.data,Br.offset,Ge.numberOfHMetrics,Ge.numGlyphs,Ge.glyphs),Ge),vn=Qr.tables.cmap.glyphIndexMap,qn=Object.keys(vn),to=0;to<qn.length;to+=1){var so,Kn=qn[to];(so=Qr.glyphs.get(vn[Kn])).addUnicode(parseInt(Kn))}for(var Tn=0;Tn<Qr.glyphs.length;Tn+=1)so=Qr.glyphs.get(Tn),Qr.cffEncoding?so.name=Qr.isCIDFont?"gid"+Tn:Qr.cffEncoding.charset[Tn]:Qr.glyphNames.names&&(so.name=Qr.glyphNames.glyphIndexToName(Tn));return Kt?(or=Hr(Ut,Kt),Ge.kerningPairs=Xn_parse(or.data,or.offset)):Ge.kerningPairs={},tt&&(Br=Hr(Ut,tt),Ge.tables.gpos=ks_parse(Br.data,Br.offset),Ge.position.init()),_t&&(or=Hr(Ut,_t),Ge.tables.gsub=Kr_parse(or.data,or.offset)),Me&&(Br=Hr(Ut,Me),Ge.tables.fvar=Ii_parse(Br.data,Br.offset,Ge.names)),be&&(or=Hr(Ut,be),Ge.tables.meta=yn_parse(or.data,or.offset),Ge.metas=Ge.tables.meta),Ge}m.Font=xn,m.Glyph=Vt,m.Path=le,m.BoundingBox=Z,m._parse=$t,m.parse=Ho,m.load=function(E,F){(typeof window>"u"?_s:ws)(E,function(K,ne){if(K)return F(K);var fe;try{fe=Ho(ne)}catch(Me){return F(Me,null)}return F(null,fe)})},m.loadSync=function(E){return Ho(vs(o("fs").readFileSync(E)))},Object.defineProperty(m,"__esModule",{value:!0})},f("object"==typeof B&&void 0!==ie?B:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,ie,B){(function(v){function _(S,w){for(var i=0,l=S.length-1;0<=l;l--){var a=S[l];"."===a?S.splice(l,1):".."===a?(S.splice(l,1),i++):i&&(S.splice(l,1),i--)}if(w)for(;i--;)S.unshift("..");return S}function f(S,w){if(S.filter)return S.filter(w);for(var i=[],l=0;l<S.length;l++)w(S[l],l,S)&&i.push(S[l]);return i}B.resolve=function(){for(var S="",w=!1,i=arguments.length-1;-1<=i&&!w;i--){var l=0<=i?arguments[i]:v.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(S=l+"/"+S,w="/"===l.charAt(0))}return(w?"/":"")+(S=_(f(S.split("/"),function(a){return!!a}),!w).join("/"))||"."},B.normalize=function(S){var w=B.isAbsolute(S),i="/"===m(S,-1);return(S=(S=_(f(S.split("/"),function(l){return!!l}),!w).join("/"))||w?S:".")&&i&&(S+="/"),(w?"/":"")+S},B.isAbsolute=function(S){return"/"===S.charAt(0)},B.join=function(){var S=Array.prototype.slice.call(arguments,0);return B.normalize(f(S,function(w,i){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},B.relative=function(S,w){function i(p){for(var y=0;y<p.length&&""===p[y];y++);for(var T=p.length-1;0<=T&&""===p[T];T--);return T<y?[]:p.slice(y,T-y+1)}S=B.resolve(S).substr(1),w=B.resolve(w).substr(1);for(var l=i(S.split("/")),a=i(w.split("/")),u=Math.min(l.length,a.length),d=u,h=0;h<u;h++)if(l[h]!==a[h]){d=h;break}var g=[];for(h=d;h<l.length;h++)g.push("..");return(g=g.concat(a.slice(d))).join("/")},B.sep="/",B.delimiter=":",B.dirname=function(S){if("string"!=typeof S&&(S+=""),0===S.length)return".";for(var w=47===S.charCodeAt(0),i=-1,l=!0,a=S.length-1;1<=a;--a)if(47===S.charCodeAt(a)){if(!l){i=a;break}}else l=!1;return-1===i?w?"/":".":w&&1===i?"/":S.slice(0,i)},B.basename=function(S,w){return S=function(i){"string"!=typeof i&&(i+="");for(var l=0,a=-1,u=!0,d=i.length-1;0<=d;--d)if(47===i.charCodeAt(d)){if(!u){l=d+1;break}}else-1===a&&(u=!1,a=d+1);return-1===a?"":i.slice(l,a)}(S),w&&S.substr(-1*w.length)===w?S.substr(0,S.length-w.length):S},B.extname=function(S){"string"!=typeof S&&(S+="");for(var w=-1,i=0,l=-1,a=!0,u=0,d=S.length-1;0<=d;--d){var h=S.charCodeAt(d);if(47===h){if(a)continue;i=d+1;break}-1===l&&(a=!1,l=d+1),46===h?-1===w?w=d:1!==u&&(u=1):-1!==w&&(u=-1)}return-1===w||-1===l||0===u||1===u&&w===l-1&&w===i+1?"":S.slice(w,l)};var m=function(S,w,i){return S.substr(w,i)}}).call(this,o("_process"))},{_process:259}],259:[function(o,f,B){var v,_;function m(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}f=f.exports={};try{v="function"==typeof setTimeout?setTimeout:m}catch{v=m}try{_="function"==typeof clearTimeout?clearTimeout:S}catch{_=S}function w(y){if(v===setTimeout)return setTimeout(y,0);if((v===m||!v)&&setTimeout)return(v=setTimeout)(y,0);try{return v(y,0)}catch{try{return v.call(null,y,0)}catch{return v.call(this,y,0)}}}var i,l=[],a=!1,u=-1;function d(){a&&i&&(a=!1,i.length?l=i.concat(l):u=-1,l.length&&h())}function h(){if(!a){for(var y=w(d),T=(a=!0,l.length);T;){for(i=l,l=[];++u<T;)i&&i[u].run();u=-1,T=l.length}i=null,a=!1,function(z){if(_===clearTimeout)return clearTimeout(z);if((_===S||!_)&&clearTimeout)return(_=clearTimeout)(z);try{_(z)}catch{try{return _.call(null,z)}catch{return _.call(this,z)}}}(y)}}function g(y,T){this.fun=y,this.array=T}function p(){}f.nextTick=function(y){var T=new Array(arguments.length-1);if(1<arguments.length)for(var z=1;z<arguments.length;z++)T[z-1]=arguments[z];l.push(new g(y,T)),1!==l.length||a||w(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(y){return[]},f.binding=function(y){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(y){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],260:[function(o,ie,B){ie=function(v){"use strict";var _,f=Object.prototype,m=f.hasOwnProperty,S=(G="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",w=G.asyncIterator||"@@asyncIterator",i=G.toStringTag||"@@toStringTag";function l(Q,oe,H,me){var le,xe,q,j;return oe=oe&&oe.prototype instanceof y?oe:y,oe=Object.create(oe.prototype),me=new J(me||[]),oe._invoke=(le=Q,xe=H,q=me,j=u,function(Se,Le){if(j===h)throw new Error("Generator is already running");if(j===g){if("throw"===Se)throw Le;return $()}for(q.method=Se,q.arg=Le;;){var Xe=q.delegate;if(Xe&&(Xe=function lt(He,nt){var at=He.iterator[nt.method];if(at===_){if(nt.delegate=null,"throw"===nt.method){if(He.iterator.return&&(nt.method="return",nt.arg=_,lt(He,nt),"throw"===nt.method))return p;nt.method="throw",nt.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(at=a(at,He.iterator,nt.arg)).type?(nt.method="throw",nt.arg=at.arg,nt.delegate=null,p):(at=at.arg)?at.done?(nt[He.resultName]=at.value,nt.next=He.nextLoc,"return"!==nt.method&&(nt.method="next",nt.arg=_),nt.delegate=null,p):at:(nt.method="throw",nt.arg=new TypeError("iterator result is not an object"),nt.delegate=null,p)}(Xe,q))){if(Xe===p)continue;return Xe}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(j===u)throw j=g,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);if(j=h,"normal"===(Xe=a(le,xe,q)).type){if(j=q.done?g:d,Xe.arg!==p)return{value:Xe.arg,done:q.done}}else"throw"===Xe.type&&(j=g,q.method="throw",q.arg=Xe.arg)}}),oe}function a(Q,V,H){try{return{type:"normal",arg:Q.call(V,H)}}catch(Z){return{type:"throw",arg:Z}}}v.wrap=l;var u="suspendedStart",d="suspendedYield",h="executing",g="completed",p={};function y(){}function T(){}function z(){}var G,N,k=((G={})[S]=function(){return this},(N=(N=Object.getPrototypeOf)&&N(N(re([]))))&&N!==f&&m.call(N,S)&&(G=N),z.prototype=y.prototype=Object.create(G));function X(Q){["next","throw","return"].forEach(function(V){Q[V]=function(H){return this._invoke(V,H)}})}function D(Q){var V;this._invoke=function(H,Z){function le(){return new Promise(function(xe,q){!function j(lt,me,Se,Le){var Xe;if("throw"!==(lt=a(Q[lt],Q,me)).type)return(me=(Xe=lt.arg).value)&&"object"==typeof me&&m.call(me,"__await")?Promise.resolve(me.__await).then(function(He){j("next",He,Se,Le)},function(He){j("throw",He,Se,Le)}):Promise.resolve(me).then(function(He){Xe.value=He,Se(Xe)},function(He){return j("throw",He,Se,Le)});Le(lt.arg)}(H,Z,xe,q)})}return V=V?V.then(le,le):le()}}function O(Q){var V={tryLoc:Q[0]};1 in Q&&(V.catchLoc=Q[1]),2 in Q&&(V.finallyLoc=Q[2],V.afterLoc=Q[3]),this.tryEntries.push(V)}function P(Q){var V=Q.completion||{};V.type="normal",delete V.arg,Q.completion=V}function J(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(O,this),this.reset(!0)}function re(Q){if(Q){var V,H=Q[S];if(H)return H.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length))return V=-1,(H=function Z(){for(;++V<Q.length;)if(m.call(Q,V))return Z.value=Q[V],Z.done=!1,Z;return Z.value=_,Z.done=!0,Z}).next=H}return{next:$}}function $(){return{value:_,done:!0}}return(T.prototype=k.constructor=z).constructor=T,z[i]=T.displayName="GeneratorFunction",v.isGeneratorFunction=function(Q){return!!(Q="function"==typeof Q&&Q.constructor)&&(Q===T||"GeneratorFunction"===(Q.displayName||Q.name))},v.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,z):(Q.__proto__=z,i in Q||(Q[i]="GeneratorFunction")),Q.prototype=Object.create(k),Q},v.awrap=function(Q){return{__await:Q}},X(D.prototype),D.prototype[w]=function(){return this},v.AsyncIterator=D,v.async=function(Q,V,H,Z){var le=new D(l(Q,V,H,Z));return v.isGeneratorFunction(V)?le:le.next().then(function(xe){return xe.done?xe.value:le.next()})},X(k),k[i]="Generator",k[S]=function(){return this},k.toString=function(){return"[object Generator]"},v.keys=function(Q){var V,H=[];for(V in Q)H.push(V);return H.reverse(),function Z(){for(;H.length;){var le=H.pop();if(le in Q)return Z.value=le,Z.done=!1,Z}return Z.done=!0,Z}},v.values=re,J.prototype={constructor:J,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(P),!Q)for(var V in this)"t"===V.charAt(0)&&m.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=_)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if("throw"===Q.type)throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var V=this;function H(oe,me){return xe.type="throw",xe.arg=Q,V.next=oe,me&&(V.method="next",V.arg=_),!!me}for(var Z=this.tryEntries.length-1;0<=Z;--Z){var le=this.tryEntries[Z],xe=le.completion;if("root"===le.tryLoc)return H("end");if(le.tryLoc<=this.prev){var q=m.call(le,"catchLoc"),j=m.call(le,"finallyLoc");if(q&&j){if(this.prev<le.catchLoc)return H(le.catchLoc,!0);if(this.prev<le.finallyLoc)return H(le.finallyLoc)}else if(q){if(this.prev<le.catchLoc)return H(le.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return H(le.finallyLoc)}}}},abrupt:function(Q,V){for(var H=this.tryEntries.length-1;0<=H;--H){var Z=this.tryEntries[H];if(Z.tryLoc<=this.prev&&m.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var le=Z;break}}var xe=(le=le&&("break"===Q||"continue"===Q)&&le.tryLoc<=V&&V<=le.finallyLoc?null:le)?le.completion:{};return xe.type=Q,xe.arg=V,le?(this.method="next",this.next=le.finallyLoc,p):this.complete(xe)},complete:function(Q,V){if("throw"===Q.type)throw Q.arg;return"break"===Q.type||"continue"===Q.type?this.next=Q.arg:"return"===Q.type?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):"normal"===Q.type&&V&&(this.next=V),p},finish:function(Q){for(var V=this.tryEntries.length-1;0<=V;--V){var H=this.tryEntries[V];if(H.finallyLoc===Q)return this.complete(H.completion,H.afterLoc),P(H),p}},catch:function(Q){for(var V=this.tryEntries.length-1;0<=V;--V){var H,Z,le=this.tryEntries[V];if(le.tryLoc===Q)return"throw"===(H=le.completion).type&&(Z=H.arg,P(le)),Z}throw new Error("illegal catch attempt")},delegateYield:function(Q,V,H){return this.delegate={iterator:re(Q),resultName:V,nextLoc:H},"next"===this.method&&(this.arg=_),p}},v}("object"==typeof ie?ie.exports:{});try{regeneratorRuntime=ie}catch{Function("r","regeneratorRuntime = r")(ie)}},{}],261:[function(o,ie,B){!function(v){"use strict";var _,f,m,S,w,i,l,a,u,d;function h(P){if("string"!=typeof P&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function g(P){return"string"!=typeof P?String(P):P}function p(P){var J={next:function(){var re=P.shift();return{done:void 0===re,value:re}}};return f&&(J[Symbol.iterator]=function(){return J}),J}function y(P){this.map={},P instanceof y?P.forEach(function(J,re){this.append(re,J)},this):Array.isArray(P)?P.forEach(function(J){this.append(J[0],J[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(J){this.append(J,P[J])},this)}function T(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function z(P){return new Promise(function(J,re){P.onload=function(){J(P.result)},P.onerror=function(){re(P.error)}})}function G(P){var J=new FileReader,re=z(J);return J.readAsArrayBuffer(P),re}function N(P){var J;return P.slice?P.slice(0):((J=new Uint8Array(P.byteLength)).set(new Uint8Array(P)),J.buffer)}function k(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if("string"==typeof P)this._bodyText=P;else if(m&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(S&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(_&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(w&&m&&l(P))this._bodyArrayBuffer=N(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(P)&&!a(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=N(P)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof P?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m&&(this.blob=function(){var P=T(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(G)}),this.text=function(){var P,J,re=T(this);if(re)return re;if(this._bodyBlob)return re=this._bodyBlob,J=z(P=new FileReader),P.readAsText(re),J;if(this._bodyArrayBuffer)return Promise.resolve(function($){for(var Q=new Uint8Array($),V=new Array(Q.length),H=0;H<Q.length;H++)V[H]=String.fromCharCode(Q[H]);return V.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}function X(P,J){var re,$=(J=J||{}).body;if(P instanceof X){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,J.headers||(this.headers=new y(P.headers)),this.method=P.method,this.mode=P.mode,$||null==P._bodyInit||($=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=J.credentials||this.credentials||"omit",!J.headers&&this.headers||(this.headers=new y(J.headers)),this.method=(re=(P=J.method||this.method||"GET").toUpperCase(),-1<u.indexOf(re)?re:P),this.mode=J.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}function D(P){var J=new FormData;return P.trim().split("&").forEach(function(re){var $;re&&($=(re=re.split("=")).shift().replace(/\+/g," "),re=re.join("=").replace(/\+/g," "),J.append(decodeURIComponent($),decodeURIComponent(re)))}),J}function O(P,J){J=J||{},this.type="default",this.status=void 0===J.status?200:J.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in J?J.statusText:"OK",this.headers=new y(J.headers),this.url=J.url||"",this._initBody(P)}v.fetch||(_="URLSearchParams"in v,f="Symbol"in v&&"iterator"in Symbol,m="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),S="FormData"in v,(w="ArrayBuffer"in v)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(P){return P&&DataView.prototype.isPrototypeOf(P)},a=ArrayBuffer.isView||function(P){return P&&-1<i.indexOf(Object.prototype.toString.call(P))}),y.prototype.append=function(P,J){P=h(P),J=g(J);var re=this.map[P];this.map[P]=re?re+","+J:J},y.prototype.delete=function(P){delete this.map[h(P)]},y.prototype.get=function(P){return P=h(P),this.has(P)?this.map[P]:null},y.prototype.has=function(P){return this.map.hasOwnProperty(h(P))},y.prototype.set=function(P,J){this.map[h(P)]=g(J)},y.prototype.forEach=function(P,J){for(var re in this.map)this.map.hasOwnProperty(re)&&P.call(J,this.map[re],re,this)},y.prototype.keys=function(){var P=[];return this.forEach(function(J,re){P.push(re)}),p(P)},y.prototype.values=function(){var P=[];return this.forEach(function(J){P.push(J)}),p(P)},y.prototype.entries=function(){var P=[];return this.forEach(function(J,re){P.push([re,J])}),p(P)},f&&(y.prototype[Symbol.iterator]=y.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],X.prototype.clone=function(){return new X(this,{body:this._bodyInit})},k.call(X.prototype),k.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},O.error=function(){var P=new O(null,{status:0,statusText:""});return P.type="error",P},d=[301,302,303,307,308],O.redirect=function(P,J){if(-1===d.indexOf(J))throw new RangeError("Invalid status code");return new O(null,{status:J,headers:{location:P}})},v.Headers=y,v.Request=X,v.Response=O,v.fetch=function(P,J){return new Promise(function(re,$){var Q=new X(P,J),V=new XMLHttpRequest;V.onload=function(){var H,Z={status:V.status,statusText:V.statusText,headers:(Z=V.getAllResponseHeaders()||"",H=new y,Z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(q){var j=(q=q.split(":")).shift().trim();j&&(q=q.join(":").trim(),H.append(j,q))}),H)},le=(Z.url="responseURL"in V?V.responseURL:Z.headers.get("X-Request-URL"),"response"in V?V.response:V.responseText);re(new O(le,Z))},V.onerror=function(){$(new TypeError("Network request failed"))},V.ontimeout=function(){$(new TypeError("Network request failed"))},V.open(Q.method,Q.url,!0),"include"===Q.credentials?V.withCredentials=!0:"omit"===Q.credentials&&(V.withCredentials=!1),"responseType"in V&&m&&(V.responseType="blob"),Q.headers.forEach(function(H,Z){V.setRequestHeader(Z,H)}),V.send(void 0===Q._bodyInit?null:Q._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,ie,B){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v,_=m(o("../core/main")),f=m(o("../color/color_conversion"));function m(i){return i&&i.__esModule?i:{default:i}}var S=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];_.default.prototype._rgbColorName=function(u){u=f.default._rgbaToHSBA(u);var l,a,d=[(v=u)[0],u[1],u[2]];0!==d[0]&&(d[0]=Math.round(100*d[0]),(u=d[0].toString().split(""))[a=u.length-1]=parseInt(u[a]),u[a]<2.5?u[a]=0:2.5<=u[a]&&u[a]<7.5&&(u[a]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[a]&&(u[a]=0,u[0]=u[0]+1),d[0]=10*u[0]+u[1]):d[0]=7.5<=u[a]?10:u[a]),d[2]=d[2]/255;for(var h=d.length-1;1<=h;h--)d[h]=d[h]<=.25?0:.25<d[h]&&d[h]<.75?.5:1;if(0===d[0]&&0===d[1]&&1===d[2]){for(var g=2;0<=g;g--)v[g]=Math.round(1e4*v[g])/1e4;for(var p=0;p<S.length;p++){if(S[p].h===v[0]&&S[p].s===v[1]&&S[p].b===v[2]){l=S[p].name;break}l="white"}}else for(var y=0;y<w.length;y++)if(w[y].h===d[0]&&w[y].s===d[1]&&w[y].b===d[2]){l=w[y].name;break}return l},B.default=o=_.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,ie,B){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},_="_Description",f="_fallbackDesc",m="_fallbackTable",S="_Label",w="_labelDesc",i="_labelTable";function l(a){if("label"===a||"fallback"===a)throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}v.default.prototype.describe=function(a,u){var d;v.default._validateParameters("describe",arguments),"string"==typeof a&&(d=this.canvas.id,a=l(a),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},v.default.prototype.describeElement=function(a,u,d){var h,g;v.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof a&&(h=this.canvas.id,u=l(u),g=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),g='<th scope="row">'.concat(g,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==g&&(this.descriptions.fallbackElements[a].innerHTML=g):this._describeElementHTML("fallback",a,g),d===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==g&&(this.descriptions.labelElements[a].innerHTML=g):this._describeElementHTML("label",a,g)))},v.default.prototype._describeHTML=function(a,u){var d,h=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(h+_))?this.dummyDOM.querySelector("#"+h+m).insertAdjacentHTML("beforebegin",'<p id="'.concat(h+f,'"></p>')):(d='<div id="'.concat(h).concat(_,'" role="region" aria-label="Canvas Description"><p id="').concat(h).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#".concat(h)).innerHTML=d),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat(f)),this.descriptions.fallback.innerHTML=u):"label"===a&&(this.dummyDOM.querySelector("#".concat(h+S))?this.dummyDOM.querySelector("#".concat(h+i))&&this.dummyDOM.querySelector("#".concat(h+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(h).concat(w,'"></p>')):(d='<div id="'.concat(h).concat(S,'" class="p5Label"><p id="').concat(h).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",d)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+w),this.descriptions.label.innerHTML=u)},v.default.prototype._describeElementHTML=function(a,u,d){var h,g=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(g+_))?this.dummyDOM.querySelector("#"+g+m)||this.dummyDOM.querySelector("#"+g+f).insertAdjacentHTML("afterend",'<table id="'.concat(g).concat(m,'"><caption>Canvas elements and their descriptions</caption></table>')):(h='<div id="'.concat(g).concat(_,'" role="region" aria-label="Canvas Description"><table id="').concat(g).concat(m,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+g).innerHTML=h),(h=document.createElement("tr")).id=g+"_fte_"+u,this.dummyDOM.querySelector("#"+g+m).appendChild(h),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(g).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=d):"label"===a&&(this.dummyDOM.querySelector("#".concat(g+S))?this.dummyDOM.querySelector("#".concat(g+i))||this.dummyDOM.querySelector("#"+g+w).insertAdjacentHTML("afterend",'<table id="'.concat(g+i,'"></table>')):(h='<div id="'.concat(g).concat(S,'" class="p5Label"><table id="').concat(g).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",h)),(a=document.createElement("tr")).id=g+"_lte_"+u,this.dummyDOM.querySelector("#"+g+i).appendChild(a),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(g).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=d)},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,ie,B){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var _,f,m,S,w,i,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(_=this._accessibleOutputs[v],w=(f=function(w,i){var l,a="",u="",d=0;for(l in i){var h,g=0;for(h in i[l]){var p='<li id="'.concat(w,"shape").concat(d,'">').concat(i[l][h].color," ").concat(l,",");"line"===l?p+=" location = ".concat(i[l][h].pos,", length = ").concat(i[l][h].length," pixels"):(p+=" location = ".concat(i[l][h].pos),"point"!==l&&(p+=", area = ".concat(i[l][h].area," %")),p+="</li>"),a+=p,g++,d++}u=1<g?"".concat(u," ").concat(g," ").concat(l,"s"):"".concat(u," ").concat(g," ").concat(l)}return{numShapes:[d,u],details:a}}(v,this.ingredients.shapes)).numShapes,l=this.width,a=this.height,i="".concat(i=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(a," pixels, contains ").concat(w[0]),m=i="".concat(i,1===w[0]?" shape: ":" shapes: ").concat(w[1]),S=function(w,i){var l,a,u=0,d="",h=Array.from(Array(10),function(){return Array(10)});for(l in i)for(var g in i[l]){var p;p="line"!==l?'<a href="#'.concat(w,"shape").concat(u,'">').concat(i[l][g].color," ").concat(l,"</a>"):'<a href="#'.concat(w,"shape").concat(u,'">').concat(i[l][g].color," ").concat(l," midpoint</a>"),i[l][g].loc.locY<h.length&&i[l][g].loc.locX<h[i[l][g].loc.locY].length&&(h[i[l][g].loc.locY][i[l][g].loc.locX]=h[i[l][g].loc.locY][i[l][g].loc.locX]?h[i[l][g].loc.locY][i[l][g].loc.locX]+"  "+p:p,u++)}for(a in h){var y,T="<tr>";for(y in h[a])T+="<td>",void 0!==h[a][y]&&(T+=h[a][y]),T+="</td>";d=d+T+"</tr>"}return d}(v,this.ingredients.shapes),m!==_.summary.innerHTML&&(_.summary.innerHTML=m),S!==_.map.innerHTML&&(_.map.innerHTML=S),f.details!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=f.details),this._accessibleOutputs[v]=_)},B.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(m,S,w){return 10===(S=Math.floor(m[0]/S*10))&&(S-=1),10===(m=Math.floor(m[1]/w*10))&&(m-=1),{locX:S,locY:m}}v.default.prototype.textOutput=function(m){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(m){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(m,S){var w,i,l,a=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");"Fallback"===S?(w=a+m,this.dummyDOM.querySelector("#".concat(i=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===S&&(w=a+m+(u=S),this.dummyDOM.querySelector("#".concat(i=a+"accessibleOutput"+S))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[w]={},"textOutput"===m?(u="#".concat(a,"gridOutput").concat(u),l='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(i)).innerHTML=l,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):"gridOutput"===m&&(u="#".concat(a,"textOutput").concat(u),l='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(i)).innerHTML=l,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},v.default.prototype._updateAccsOutput=function(){var m=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(m+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(m+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(m+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(m+"gridOutputLabel"))},v.default.prototype._accsBackground=function(m){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==m&&(this.ingredients.colors.backgroundRGBA=m,this.ingredients.colors.background=this._rgbColorName(m))},v.default.prototype._accsCanvasColors=function(m,S){"fill"===m?this.ingredients.colors.fillRGBA!==S&&(this.ingredients.colors.fillRGBA=S,this.ingredients.colors.fill=this._rgbColorName(S)):"stroke"===m&&this.ingredients.colors.strokeRGBA!==S&&(this.ingredients.colors.strokeRGBA=S,this.ingredients.colors.stroke=this._rgbColorName(S))},v.default.prototype._accsOutput=function(m,S){"ellipse"===m&&S[2]===S[3]?m="circle":"rectangle"===m&&S[2]===S[3]&&(m="square");var w,i,h,g,p,l={},a=!0,u=(g=S,h="rectangle"===(h=m)||"ellipse"===h||"arc"===h||"circle"===h||"square"===h?(p=Math.round(g[0]+g[2]/2),Math.round(g[1]+g[3]/2)):"triangle"===h?(p=(g[0]+g[2]+g[4])/3,(g[1]+g[3]+g[5])/3):"quadrilateral"===h?(p=(g[0]+g[2]+g[4]+g[6])/4,(g[1]+g[3]+g[5]+g[7])/4):"line"===h?(p=(g[0]+g[2])/2,(g[1]+g[3])/2):(p=g[0],g[1]),[p,h]);if("line"===m?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(S[0],S[1],S[2],S[3])),w=this._getPos(S[0],[1]),i=this._getPos(S[2],[3]),l.loc=f(u,this.width,this.height),l.pos=w===i?"at ".concat(w):"from ".concat(w," to ").concat(i)):("point"===m?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(m,S)),l.pos=this._getPos.apply(this,function _(m){return function(S){if(Array.isArray(S)){for(var w=0,i=new Array(S.length);w<S.length;w++)i[w]=S[w];return i}}(m)||function(S){if(Symbol.iterator in Object(S)||"[object Arguments]"===Object.prototype.toString.call(S))return Array.from(S)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),l.loc=f(u,this.width,this.height)),this.ingredients.shapes[m]){if(this.ingredients.shapes[m]!==[l]){for(var d in this.ingredients.shapes[m])JSON.stringify(this.ingredients.shapes[m][d])===JSON.stringify(l)&&(a=!1);!0===a&&this.ingredients.shapes[m].push(l)}}else this.ingredients.shapes[m]=[l]},v.default.prototype._getPos=function(i,w){i=new DOMPointReadOnly(i,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),w=(i=i.matrixTransform(w)).x,i=i.y;var l=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return w<.4*l?i<.4*a?"top left":.6*a<i?"bottom left":"mid left":.6*l<w?i<.4*a?"top right":.6*a<i?"bottom right":"mid right":i<.4*a?"top middle":.6*a<i?"bottom middle":"middle"},v.default.prototype._getArea=function(m,S){var w,i,l=0,a=("arc"===m?(l=(w=((S[5]-S[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*S[2]*S[3]/8,"open"!==S[6]&&"chord"!==S[6]||(i=S[0],g=S[1],a=S[0]+S[2]/2*Math.cos(S[4]).toFixed(2),p=S[1]+S[3]/2*Math.sin(S[4]).toFixed(2),d=S[0]+S[2]/2*Math.cos(S[5]).toFixed(2),u=S[1]+S[3]/2*Math.sin(S[5]).toFixed(2),i=Math.abs(i*(p-u)+a*(u-g)+d*(g-p))/2,w>Math.PI?l+=i:l-=i)):"ellipse"===m||"circle"===m?l=3.14*S[2]/2*S[3]/2:"line"===m||"point"===m?l=0:"quadrilateral"===m?l=Math.abs((S[6]+S[0])*(S[7]-S[1])+(S[0]+S[2])*(S[1]-S[3])+(S[2]+S[4])*(S[3]-S[5])+(S[4]+S[6])*(S[5]-S[7]))/2:"rectangle"===m||"square"===m?l=S[2]*S[3]:"triangle"===m&&(l=Math.abs(S[0]*(S[3]-S[5])+S[2]*(S[5]-S[1])+S[4]*(S[1]-S[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,d=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,u),new DOMPoint(0,u)],h=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),g=d.map(function(y){return y.matrixTransform(h)}),p=Math.abs((g[3].x+g[0].x)*(g[3].y-g[0].y)+(g[0].x+g[1].x)*(g[0].y-g[1].y)+(g[1].x+g[2].x)*(g[1].y-g[2].y)+(g[2].x+g[3].x)*(g[2].y-g[3].y))/2;return Math.round(100*l/p)},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,ie,B){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var _,f,m,S,w,i,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(_=this._accessibleOutputs[v],w=(f=function(w,i){var l,a="",u=0;for(l in i)for(var d in i[l]){var h='<li><a href="#'.concat(w,"shape").concat(u,'">').concat(i[l][d].color," ").concat(l,"</a>");"line"===l?h+=", ".concat(i[l][d].pos,", ").concat(i[l][d].length," pixels long.</li>"):(h+=", at ".concat(i[l][d].pos),"point"!==l&&(h+=", covering ".concat(i[l][d].area,"% of the canvas")),h+=".</li>"),a+=h,u++}return{numShapes:u,listShapes:a}}(v,this.ingredients.shapes)).numShapes,i=this.ingredients.colors.background,a=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(a," pixels, ").concat(i," canvas containing the following"),m=l=1===w?"".concat(l," shape:"):"".concat(l," ").concat(w," shapes:"),S=function(w,i){var l,a="",u=0;for(l in i)for(var d in i[l]){var h='<tr id="'.concat(w,"shape").concat(u,'"><th>').concat(i[l][d].color," ").concat(l,"</th>");"line"===l?h+="<td>location = ".concat(i[l][d].pos,"</td><td>length = ").concat(i[l][d].length," pixels</td></tr>"):(h+="<td>location = ".concat(i[l][d].pos,"</td>"),"point"!==l&&(h+="<td> area = ".concat(i[l][d].area,"%</td>")),h+="</tr>"),a+=h,u++}return a}(v,this.ingredients.shapes),m!==_.summary.innerHTML&&(_.summary.innerHTML=m),f.listShapes!==_.list.innerHTML&&(_.list.innerHTML=f.listShapes),S!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=S),this._accessibleOutputs[v]=_)},B.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,ie,B){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),ie.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var f=v[1],m=v[2],S=(2-f)*m/2;return 0!=S&&(1==S?f=0:S<.5?f/=2-f:f=f*m/(2-2*S)),[v[0],f,S,v[3]]},_hsbaToRGBA:function(v){var _,f,m,S,w,i=6*v[0],l=v[1],a=v[2];return 0===l?[a,a,a,v[3]]:(f=a*(1-l),m=a*(1-l*(i-(_=Math.floor(i)))),l=a*(1-l*(1+_-i)),i=1===_?(S=m,w=a,f):2===_?(S=f,w=a,l):3===_?(S=f,w=m,a):4===_?(S=l,w=f,a):5===_?(S=a,w=f,m):(S=a,w=l,f),[S,w,i,v[3]])},_hslaToHSBA:function(v){var f=v[1],m=v[2],S=m<.5?(1+f)*m:m+f-m*f;return[v[0],f=2*(S-m)/S,S,v[3]]},_hslaToRGBA:function(v){var _,f=6*v[0],m=v[1],S=v[2];return 0===m?[S,S,S,v[3]]:[(_=function(w,i,l){return w<0?w+=6:6<=w&&(w-=6),w<1?i+(l-i)*w:w<3?l:w<4?i+(l-i)*(4-w):i})(2+f,m=2*S-(S=S<.5?(1+m)*S:S+m-S*m),S),_(f,m,S),_(f-2,m,S),v[3]]},_rgbaToHSBA:function(v){var _,f,m=v[0],S=v[1],w=v[2],i=Math.max(m,S,w),l=i-Math.min(m,S,w);return 0==l?f=_=0:(f=l/i,m===i?_=(S-w)/l:S===i?_=2+(w-m)/l:w===i&&(_=4+(m-S)/l),_<0?_+=6:6<=_&&(_-=6)),[_/6,f,i,v[3]]},_rgbaToHSLA:function(v){var _,f,a,m=v[0],S=v[1],w=v[2],i=Math.max(m,S,w),l=i+(a=Math.min(m,S,w));return 0==(a=i-a)?f=_=0:(f=l<1?a/l:a/(2-l),m===i?_=(S-w)/a:S===i?_=2+(w-m)/a:w===i&&(_=4+(m-S)/a),_<0?_+=6:6<=_&&(_-=6)),[_/6,f,l/2,v[3]]}},B.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(w=o("../core/main"))&&w.__esModule?w:{default:w},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var l=S();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.alpha=function(i){return f.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},f.default.prototype.blue=function(i){return f.default._validateParameters("blue",arguments),this.color(i)._getBlue()},f.default.prototype.brightness=function(i){return f.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},f.default.prototype.color=function(){for(var i,l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];return f.default._validateParameters("color",a),a[0]instanceof f.default.Color?a[0]:(i=Array.isArray(a[0])?a[0]:a,new f.default.Color(this,i))},f.default.prototype.green=function(i){return f.default._validateParameters("green",arguments),this.color(i)._getGreen()},f.default.prototype.hue=function(i){return f.default._validateParameters("hue",arguments),this.color(i)._getHue()},f.default.prototype.lerpColor=function(i,l,a){f.default._validateParameters("lerpColor",arguments);var u,d,h,g=this._colorMode,p=this._colorMaxes;if(g===m.RGB)d=i.levels.map(function(y){return y/255}),h=l.levels.map(function(y){return y/255});else if(g===m.HSB)i._getBrightness(),l._getBrightness(),d=i.hsba,h=l.hsba;else{if(g!==m.HSL)throw new Error("".concat(g," cannot be used for interpolation."));i._getLightness(),l._getLightness(),d=i.hsla,h=l.hsla}return a=Math.max(Math.min(a,1),0),void 0===this.lerp&&(this.lerp=function(y,T,z){return z*(T-y)+y}),g===m.RGB?u=this.lerp(d[0],h[0],a):(.5<Math.abs(d[0]-h[0])&&(d[0]>h[0]?h[0]+=1:d[0]+=1),1<=(u=this.lerp(d[0],h[0],a))&&--u),i=this.lerp(d[1],h[1],a),l=this.lerp(d[2],h[2],a),d=this.lerp(d[3],h[3],a),this.color(u*=p[g][0],i*=p[g][1],l*=p[g][2],d*=p[g][3])},f.default.prototype.lightness=function(i){return f.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},f.default.prototype.red=function(i){return f.default._validateParameters("red",arguments),this.color(i)._getRed()},f.default.prototype.saturation=function(i){return f.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var w=f.default;B.default=w},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(u,ie,B){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(y)}function _(y){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(T){return v(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":v(T)})(y)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=i(u("../core/main")),m=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==_(y)&&"function"!=typeof y)return{default:y};var T=w();if(T&&T.has(y))return T.get(y);var z,G={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(z in y){var k;Object.prototype.hasOwnProperty.call(y,z)&&((k=N?Object.getOwnPropertyDescriptor(y,z):null)&&(k.get||k.set)?Object.defineProperty(G,z,k):G[z]=y[z])}return G.default=y,T&&T.set(y,G),G}(u("../core/constants")),S=i(u("./color_conversion"));function w(){var y;return"function"!=typeof WeakMap?null:(w=function(){return y},y=new WeakMap)}function i(y){return y&&y.__esModule?y:{default:y}}function l(y,T){for(var z=0;z<T.length;z++){var G=T[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(y,G.key,G)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(u=/\s*/,/(\d{1,3})/),d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(d.source,"%")),g={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i")};f.default.Color=function(){function y(N,k){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(N._colorMode,N._colorMaxes),![m.RGB,m.HSL,m.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=y._parseInputs.apply(this,k),this._calculateLevels()}var T,z,G;return T=y,G=[{key:"_parseInputs",value:function(N,k,X,D){var O,P=arguments.length,J=this.mode,re=this.maxes[J],$=[];if(3<=P){for($[0]=N/re[0],$[1]=k/re[1],$[2]=X/re[2],$[3]="number"==typeof D?D/re[3]:1,O=$.length-1;0<=O;--O){var Q=$[O];Q<0?$[O]=0:1<Q&&($[O]=1)}return J===m.HSL?S.default._hslaToRGBA($):J===m.HSB?S.default._hsbaToRGBA($):$}if(1===P&&"string"==typeof N){if(X=N.trim().toLowerCase(),a[X])return y._parseInputs.call(this,a[X]);if(g.HEX3.test(X))return($=g.HEX3.exec(X).slice(1).map(function(V){return parseInt(V+V,16)/255}))[3]=1,$;if(g.HEX6.test(X))return($=g.HEX6.exec(X).slice(1).map(function(V){return parseInt(V,16)/255}))[3]=1,$;if(g.HEX4.test(X))return g.HEX4.exec(X).slice(1).map(function(V){return parseInt(V+V,16)/255});if(g.HEX8.test(X))return g.HEX8.exec(X).slice(1).map(function(V){return parseInt(V,16)/255});if(g.RGB.test(X))return($=g.RGB.exec(X).slice(1).map(function(V){return V/255}))[3]=1,$;if(g.RGB_PERCENT.test(X))return($=g.RGB_PERCENT.exec(X).slice(1).map(function(V){return parseFloat(V)/100}))[3]=1,$;if(g.RGBA.test(X))return g.RGBA.exec(X).slice(1).map(function(V,H){return 3===H?parseFloat(V):V/255});if(g.RGBA_PERCENT.test(X))return g.RGBA_PERCENT.exec(X).slice(1).map(function(V,H){return 3===H?parseFloat(V):parseFloat(V)/100});if(g.HSL.test(X)?($=g.HSL.exec(X).slice(1).map(function(V,H){return 0===H?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:g.HSLA.test(X)&&($=g.HSLA.exec(X).slice(1).map(function(V,H){return 0===H?parseInt(V,10)/360:3===H?parseFloat(V):parseInt(V,10)/100})),($=$.map(function(V){return Math.max(Math.min(V,1),0)})).length)return S.default._hslaToRGBA($);if(g.HSB.test(X)?($=g.HSB.exec(X).slice(1).map(function(V,H){return 0===H?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:g.HSBA.test(X)&&($=g.HSBA.exec(X).slice(1).map(function(V,H){return 0===H?parseInt(V,10)/360:3===H?parseFloat(V):parseInt(V,10)/100})),$.length){for(O=$.length-1;0<=O;--O)$[O]=Math.max(Math.min($[O],1),0);return S.default._hsbaToRGBA($)}$=[1,1,1,1]}else{if(1!==P&&2!==P||"number"!=typeof N)throw new Error("".concat(arguments,"is not a valid color representation."));$[0]=N/re[2],$[1]=N/re[2],$[2]=N/re[2],$[3]="number"==typeof k?k/re[3]:1,$=$.map(function(V){return Math.max(Math.min(V,1),0)})}return $}}],(z=[{key:"toString",value:function(N){var k=this.levels,X=this._array,D=X[3];switch(N){case"#rrggbb":return"#".concat(k[0]<16?"0".concat(k[0].toString(16)):k[0].toString(16),k[1]<16?"0".concat(k[1].toString(16)):k[1].toString(16),k[2]<16?"0".concat(k[2].toString(16)):k[2].toString(16));case"#rrggbbaa":return"#".concat(k[0]<16?"0".concat(k[0].toString(16)):k[0].toString(16),k[1]<16?"0".concat(k[1].toString(16)):k[1].toString(16),k[2]<16?"0".concat(k[2].toString(16)):k[2].toString(16),k[3]<16?"0".concat(k[3].toString(16)):k[3].toString(16));case"#rgb":return"#".concat(Math.round(15*X[0]).toString(16),Math.round(15*X[1]).toString(16),Math.round(15*X[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*X[0]).toString(16),Math.round(15*X[1]).toString(16),Math.round(15*X[2]).toString(16),Math.round(15*X[3]).toString(16));case"rgb":return"rgb(".concat(k[0],", ",k[1],", ",k[2],")");case"rgb%":return"rgb(".concat((100*X[0]).toPrecision(3),"%, ",(100*X[1]).toPrecision(3),"%, ",(100*X[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*X[0]).toPrecision(3),"%, ",(100*X[1]).toPrecision(3),"%, ",(100*X[2]).toPrecision(3),"%, ",(100*X[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[m.HSB][0],", ",this.hsba[1]*this.maxes[m.HSB][1],", ",this.hsba[2]*this.maxes[m.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[m.HSB][0],", ",this.hsba[1]*this.maxes[m.HSB][1],", ",this.hsba[2]*this.maxes[m.HSB][2],", ",D,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*D).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[m.HSL][0],", ",this.hsla[1]*this.maxes[m.HSL][1],", ",this.hsla[2]*this.maxes[m.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[m.HSL][0],", ",this.hsla[1]*this.maxes[m.HSL][1],", ",this.hsla[2]*this.maxes[m.HSL][2],", ",D,")");case"hsla%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*D).toPrecision(3),"%)");default:return"rgba(".concat(k[0],",",k[1],",",k[2],",",D,")")}}},{key:"setRed",value:function(N){this._array[0]=N/this.maxes[m.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(N){this._array[1]=N/this.maxes[m.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(N){this._array[2]=N/this.maxes[m.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(N){this._array[3]=N/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var N=this._array,k=this.levels=new Array(N.length),X=N.length-1;0<=X;--X)k[X]=Math.round(255*N[X]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(N,k){this.mode=N,this.maxes=k}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[m.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[m.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[m.RGB][1]}},{key:"_getHue",value:function(){return this.mode===m.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[m.HSB][0]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[m.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[m.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[m.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===m.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[m.HSB][1]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[m.HSL][1])}}])&&l(T.prototype,z),G&&l(T,G),y}(),B.default=p=f.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(w=o("../core/main"))&&w.__esModule?w:{default:w},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var l=S();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}o("./p5.Color"),f.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},f.default.prototype.endClip=function(){this._renderer.endClip()},f.default.prototype.clip=function(i,l){this._renderer.beginClip(l),i(),this._renderer.endClip(l)},f.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},f.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},f.default.prototype.colorMode=function(i,l,a,u,d){return f.default._validateParameters("colorMode",arguments),i!==m.RGB&&i!==m.HSB&&i!==m.HSL||(this._colorMode=i,i=this._colorMaxes[i],2===arguments.length?(i[0]=l,i[1]=l,i[2]=l,i[3]=l):4===arguments.length?(i[0]=l,i[1]=a,i[2]=u):5===arguments.length&&(i[0]=l,i[1]=a,i[2]=u,i[3]=d)),this},f.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},f.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},f.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},f.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},f.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},f.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=f.default;B.default=w},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.QUADRATIC=B.LINEAR=B._CTX_MIDDLE=B._DEFAULT_LEADMULT=B._DEFAULT_TEXT_FILL=B.WORD=B.CHAR=B.BOLDITALIC=B.BOLD=B.ITALIC=B.NORMAL=B.BLUR=B.ERODE=B.DILATE=B.POSTERIZE=B.INVERT=B.OPAQUE=B.GRAY=B.THRESHOLD=B.BURN=B.DODGE=B.SOFT_LIGHT=B.HARD_LIGHT=B.OVERLAY=B.REPLACE=B.SCREEN=B.MULTIPLY=B.EXCLUSION=B.SUBTRACT=B.DIFFERENCE=B.LIGHTEST=B.DARKEST=B.ADD=B.REMOVE=B.BLEND=B.UP_ARROW=B.TAB=B.SHIFT=B.RIGHT_ARROW=B.RETURN=B.OPTION=B.LEFT_ARROW=B.ESCAPE=B.ENTER=B.DOWN_ARROW=B.DELETE=B.CONTROL=B.BACKSPACE=B.ALT=B.AUTO=B.HSL=B.HSB=B.RGB=B.MITER=B.BEVEL=B.ROUND=B.SQUARE=B.PROJECT=B.PIE=B.CHORD=B.OPEN=B.CLOSE=B.TESS=B.QUAD_STRIP=B.QUADS=B.TRIANGLE_STRIP=B.TRIANGLE_FAN=B.TRIANGLES=B.LINE_LOOP=B.LINE_STRIP=B.LINES=B.POINTS=B.BASELINE=B.BOTTOM=B.TOP=B.CENTER=B.LEFT=B.RIGHT=B.RADIUS=B.CORNERS=B.CORNER=B.RAD_TO_DEG=B.DEG_TO_RAD=B.RADIANS=B.DEGREES=B.TWO_PI=B.TAU=B.QUARTER_PI=B.PI=B.HALF_PI=B.WAIT=B.TEXT=B.MOVE=B.HAND=B.CROSS=B.ARROW=B.WEBGL2=B.WEBGL=B.P2D=B.VERSION=void 0,B.RGBA=B.HALF_FLOAT=B.FLOAT=B.UNSIGNED_INT=B.UNSIGNED_BYTE=B.COVER=B.CONTAIN=B.FALLBACK=B.LABEL=B.AXES=B.GRID=B._DEFAULT_FILL=B._DEFAULT_STROKE=B.PORTRAIT=B.LANDSCAPE=B.SMOOTH=B.FLAT=B.MIRROR=B.CLAMP=B.REPEAT=B.NEAREST=B.IMAGE=B.IMMEDIATE=B.TEXTURE=B.FILL=B.STROKE=B.CURVE=B.BEZIER=void 0;var v=Math.PI,_=(B.VERSION="1.10.0",B.P2D="p2d",B.WEBGL="webgl",B.WEBGL2="webgl2",B.ARROW="default",B.CROSS="crosshair",B.HAND="pointer",B.MOVE="move",B.TEXT="text",B.WAIT="wait",v/2);B.HALF_PI=_,B.PI=_=v,B.QUARTER_PI=_=v/4,B.TAU=_=2*v,B.TWO_PI=_=2*v,B.DEGREES="degrees",B.RADIANS="radians",B.DEG_TO_RAD=_=v/180,B.RAD_TO_DEG=_=180/v,B.CORNER="corner",B.CORNERS="corners",B.RADIUS="radius",B.RIGHT="right",B.LEFT="left",B.CENTER="center",B.TOP="top",B.BOTTOM="bottom",B.BASELINE="alphabetic",B.POINTS=0,B.LINES=1,B.LINE_STRIP=3,B.LINE_LOOP=2,B.TRIANGLES=4,B.TRIANGLE_FAN=6,B.TRIANGLE_STRIP=5,B.QUADS="quads",B.QUAD_STRIP="quad_strip",B.TESS="tess",B.CLOSE="close",B.OPEN="open",B.CHORD="chord",B.PIE="pie",B.PROJECT="square",B.SQUARE="butt",B.ROUND="round",B.BEVEL="bevel",B.MITER="miter",B.RGB="rgb",B.HSB="hsb",B.HSL="hsl",B.AUTO="auto",B.ALT=18,B.BACKSPACE=8,B.CONTROL=17,B.DELETE=46,B.DOWN_ARROW=40,B.ENTER=13,B.ESCAPE=27,B.LEFT_ARROW=37,B.OPTION=18,B.RETURN=13,B.RIGHT_ARROW=39,B.SHIFT=16,B.TAB=9,B.UP_ARROW=38,B.BLEND="source-over",B.REMOVE="destination-out",B.ADD="lighter",B.DARKEST="darken",B.LIGHTEST="lighten",B.DIFFERENCE="difference",B.SUBTRACT="subtract",B.EXCLUSION="exclusion",B.MULTIPLY="multiply",B.SCREEN="screen",B.REPLACE="copy",B.OVERLAY="overlay",B.HARD_LIGHT="hard-light",B.SOFT_LIGHT="soft-light",B.DODGE="color-dodge",B.BURN="color-burn",B.THRESHOLD="threshold",B.GRAY="gray",B.OPAQUE="opaque",B.INVERT="invert",B.POSTERIZE="posterize",B.DILATE="dilate",B.ERODE="erode",B.BLUR="blur",B.NORMAL="normal",B.ITALIC="italic",B.BOLD="bold",B.BOLDITALIC="bold italic",B.CHAR="CHAR",B.WORD="WORD",B._DEFAULT_TEXT_FILL="#000000",B._DEFAULT_LEADMULT=1.25,B._CTX_MIDDLE="middle",B.LINEAR="linear",B.QUADRATIC="quadratic",B.BEZIER="bezier",B.CURVE="curve",B.STROKE="stroke",B.FILL="fill",B.TEXTURE="texture",B.IMMEDIATE="immediate",B.IMAGE="image",B.NEAREST="nearest",B.REPEAT="repeat",B.CLAMP="clamp",B.MIRROR="mirror",B.FLAT="flat",B.SMOOTH="smooth",B.LANDSCAPE="landscape",B.PORTRAIT="portrait",B._DEFAULT_STROKE="#000000",B._DEFAULT_FILL="#FFFFFF",B.GRID="grid",B.AXES="axes",B.LABEL="label",B.FALLBACK="fallback",B.CONTAIN="contain",B.COVER="cover",B.UNSIGNED_BYTE="unsigned-byte",B.UNSIGNED_INT="unsigned-int",B.FLOAT="float",B.HALF_FLOAT="half-float",B.RGBA="rgba"},{}],273:[function(o,ie,B){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(m=o("./main"))&&m.__esModule?m:{default:m},m=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var h=S();if(h&&h.has(d))return h.get(d);var g,p={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var T;Object.prototype.hasOwnProperty.call(d,g)&&((T=y?Object.getOwnPropertyDescriptor(d,g):null)&&(T.get||T.set)?Object.defineProperty(p,g,T):p[g]=d[g])}return p.default=d,h&&h.set(d,p),p}(o("./constants"));function S(){var d;return"function"!=typeof WeakMap?null:(S=function(){return d},d=new WeakMap)}var w=[m.ARROW,m.CROSS,m.HAND,m.MOVE,m.TEXT,m.WAIT],i=(f.default.prototype._frameRate=0,f.default.prototype._lastFrameTime=window.performance.now(),f.default.prototype._targetFrameRate=60,window.print),l=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}f.default.prototype.print=function(){var d;arguments.length?(d=console).log.apply(d,arguments):l||(i(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},f.default.prototype.frameCount=0,f.default.prototype.deltaTime=0,f.default.prototype.focused=document.hasFocus(),f.default.prototype.cursor=function(d,h,g){var p,y="auto",T=this._curElement.elt;w.includes(d)?y=d:"string"==typeof d&&(p="",h&&g&&"number"==typeof h&&"number"==typeof g&&(p="".concat(h," ").concat(g)),y="http://"===d.substring(0,7)||"https://"===d.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(d)?"url(".concat(d,") ").concat(p,", auto"):d),T.style.cursor=y},f.default.prototype.frameRate=function(d){return f.default._validateParameters("frameRate",arguments),"number"!=typeof d||d<0?this._frameRate:(this._setProperty("_targetFrameRate",d),0===d&&this._setProperty("_frameRate",d),this)},f.default.prototype.getFrameRate=function(){return this.frameRate()},f.default.prototype.setFrameRate=function(d){return this.frameRate(d)},f.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},f.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},f.default.prototype.webglVersion=m.P2D,f.default.prototype.displayWidth=screen.width,f.default.prototype.displayHeight=screen.height,f.default.prototype.windowWidth=0,f.default.prototype.windowHeight=0,f.default.prototype._onresize=function(d){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",u());var h=this._isGlobal?window:this;"function"!=typeof h.windowResized||void 0===(h=h.windowResized(d))||h||d.preventDefault()},f.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",u())},f.default.prototype.width=0,f.default.prototype.height=0,f.default.prototype.fullscreen=function(d){if(f.default._validateParameters("fullscreen",arguments),void 0===d)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(d){if(d=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},f.default.prototype.pixelDensity=function(d){var h;return f.default._validateParameters("pixelDensity",arguments),"number"==typeof d?(d!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=d),(h=this).resizeCanvas(this.width,this.height,!0)):h=this._pixelDensity,h},f.default.prototype.displayDensity=function(){return window.devicePixelRatio},f.default.prototype.getURL=function(){return location.href},f.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(d){return""!==d})},f.default.prototype.getURLParams=function(){for(var d,h=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,g={};null!=(d=h.exec(location.search));)d.index===h.lastIndex&&h.lastIndex++,g[d[1]]=d[2];return g},B.default=o=f.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(w=o("../main"))&&w.__esModule?w:{default:w};function _(i,l){l=l||console.log.bind(console),f||S(),f.some(function(a){var u;if(i.message&&null!==i.message.match("\\W?".concat(a.name,"\\W")))return u="function"===a.type?"".concat(a.name,"()"):a.name,l("Did you just try to use p5.js's ".concat(u," ").concat(a.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(m)),!0})}o("../internationalization");var f=null,S=null,m=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},f=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),w=(S=function(){function i(a){return Object.getOwnPropertyNames(a).filter(function(u){return"_"!==u[0]&&!(u in l)&&(l[u]=!0)}).map(function(u){var d="function"==typeof a[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:d}})}var l={};(f=[].concat(i(v.default.prototype),i(o("../constants")))).sort(function(a,u){return u.name.length-a.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=_,"complete"!==document.readyState&&(window.addEventListener("error",_,!1),window.addEventListener("load",function(){window.removeEventListener("error",_,!1)})),v.default);B.default=w},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},B.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,ie,B){"use strict";function v(j){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(j)}function _(j){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(oe){return v(oe)}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":v(oe)})(j)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=function V(j){return j&&j.__esModule?j:{default:j}}(o("../main"));function $(){var j;return"function"!=typeof WeakMap?null:($=function(){return j},j=new WeakMap)}o("../internationalization"),function Q(j){if(j&&j.__esModule)return j;if(null===j||"object"!==_(j)&&"function"!=typeof j)return{default:j};var oe=$();if(oe&&oe.has(j))return oe.get(j);var me,Se,Le={},Xe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(me in j)Object.prototype.hasOwnProperty.call(j,me)&&((Se=Xe?Object.getOwnPropertyDescriptor(j,me):null)&&(Se.get||Se.set)?Object.defineProperty(Le,me,Se):Le[me]=j[me]);return Le.default=j,oe&&oe.set(j,Le),Le}(o("../constants")),f.default._fesCodeReader=function(){},B.default=f.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,ie,B){"use strict";function v(){var _=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,m=/^(eval@)?(\[native code])?$/;return{parse:function(S){return void 0!==S.stacktrace||void 0!==S["opera#sourceloc"]?this.parseOpera(S):S.stack&&S.stack.match(f)?this.parseV8OrIE(S):S.stack?this.parseFFOrSafari(S):void 0},extractLocation:function(S){return-1===S.indexOf(":")?[S]:[(S=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S.replace(/[()]/g,"")))[1],S[2]||void 0,S[3]||void 0]},parseV8OrIE:function(S){return S.stack.split("\n").filter(function(w){return!!w.match(f)},this).map(function(w){var l=(i=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=l?i.replace(l[0],""):i).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:i.pop()),{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseFFOrSafari:function(S){return S.stack.split("\n").filter(function(w){return!w.match(m)},this).map(function(w){var i,l;return-1===(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")&&-1===w.indexOf(":")?{functionName:w}:{functionName:(l=w.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(w.replace(i,"")))[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseOpera:function(S){return!S.stacktrace||-1<S.message.indexOf("\n")&&S.message.split("\n").length>S.stacktrace.split("\n").length?this.parseOpera9(S):S.stack?this.parseOpera11(S):this.parseOpera10(S)},parseOpera9:function(S){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,i=S.message.split("\n"),l=[],a=2,u=i.length;a<u;a+=2){var d=w.exec(i[a]);d&&l.push({fileName:d[2],lineNumber:d[1],source:i[a]})}return l},parseOpera10:function(S){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=S.stacktrace.split("\n"),l=[],a=0,u=i.length;a<u;a+=2){var d=w.exec(i[a]);d&&l.push({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:i[a]})}return l},parseOpera11:function(S){return S.stack.split("\n").filter(function(w){return!!w.match(_)&&!w.match(/^Error created at/)},this).map(function(w){var i,a=w.split("@"),l=this.extractLocation(a.pop());return{functionName:(a=a.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(i=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)||"[arguments not available]"===i?void 0:i.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},B.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,ie,B){"use strict";function v(S){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(S)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=(_=o("../main"))&&_.__esModule?_:{default:_};function f(){var S;return"function"!=typeof WeakMap?null:(f=function(){return S},S=new WeakMap)}function m(S){return(m="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(S)}(function(S){if(!(S&&S.__esModule||null===S||"object"!==m(S)&&"function"!=typeof S)){var w=f();if(w&&w.has(S))return w.get(S);var i,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in S){var u;Object.prototype.hasOwnProperty.call(S,i)&&((u=a?Object.getOwnPropertyDescriptor(S,i):null)&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=S[i])}l.default=S,w&&w.set(S,l)}})(o("../constants")),o("../internationalization"),_.default._validateParameters=_.default._clearValidateParamsCache=function(){},B.default=o=_.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,ie,B){"use strict";function v(S){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(S)}function _(S){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(S)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=function(S){if(S&&S.__esModule)return S;if(null===S||"object"!==_(S)&&"function"!=typeof S)return{default:S};var w=m();if(w&&w.has(S))return w.get(S);var i,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in S){var u;Object.prototype.hasOwnProperty.call(S,i)&&((u=a?Object.getOwnPropertyDescriptor(S,i):null)&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=S[i])}return l.default=S,w&&w.set(S,l),l}(o("./constants"));function m(){var S;return"function"!=typeof WeakMap?null:(m=function(){return S},S=new WeakMap)}B.default={modeAdjust:function(S,w,i,l,a){return a===f.CORNER?{x:S,y:w,w:i,h:l}:a===f.CORNERS?{x:S,y:w,w:i-S,h:l-w}:a===f.RADIUS?{x:S-i,y:w-l,w:2*i,h:2*l}:a===f.CENTER?{x:S-.5*i,y:w-.5*l,w:i,h:l}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,ie,B){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(_=o("../core/main"))&&_.__esModule?_:{default:_};o("./internationalization");var _=Promise.resolve();Promise.all([new Promise(function(f,m){"complete"===document.readyState?f():window.addEventListener("load",f,!1)}),_]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,ie,B){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.setTranslatorLanguage=B.currentTranslatorLanguage=B.availableTranslatorLanguages=B.initialize=B.translator=void 0;var v,f=S(o("i18next")),m=S(o("i18next-browser-languagedetector"));function S(l){return l&&l.__esModule?l:{default:l}}function w(l,a){for(var u=0;u<a.length;u++){var d=a[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}var i=function(){function l(h,g){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(h,g)}var a,u;return a=l,(u=[{key:"fetchWithTimeout",value:function(h,g){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(h,g),new Promise(function(y,T){return setTimeout(function(){return T(new Error("timeout"))},p)})])}},{key:"init",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=h,this.options=g}},{key:"read",value:function(h,g,p){var y=this.options.loadPath;h===this.options.fallback?p(null,v[h][g]):undefined.includes(h)?(y=this.services.interpolator.interpolate(y,{lng:h,ns:g}),this.loadUrl(y,p)):p("Not found",!1)}},{key:"loadUrl",value:function(h,g){this.fetchWithTimeout(h).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(h))},function(){throw new Error("failed loading ".concat(h))}).then(function(p){return g(null,p)}).catch(g)}}])&&w(a.prototype,u),l}();i.type="backend",B.translator=function(l,a){console.debug("p5.js translator called before translations were loaded"),f.default.t(l,a)},B.initialize=function(){return f.default.use(m.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(l){B.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},B.availableTranslatorLanguages=function(){return f.default.languages},B.currentTranslatorLanguage=function(l){return f.default.language},B.setTranslatorLanguage=function(l){return f.default.changeLanguage(l||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},B.default=o=o.default},{"./main":283}],283:[function(o,ie,B){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,o("./shim");var f=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var a=m();if(a&&a.has(l))return a.get(l);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=h?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=l[u])}return d.default=l,a&&a.set(l,d),d}(o("./constants"));function m(){var l;return"function"!=typeof WeakMap?null:(m=function(){return l},l=new WeakMap)}function S(l,a){for(var u=0;u<a.length;u++){var d=a[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}var w,i=function(){function l(h,y){var p=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},y=Object.getOwnPropertyNames(l.prototype._registeredMethods);var T=!0,z=!1,G=void 0;try{for(var N,k=y[Symbol.iterator]();!(T=(N=k.next()).done);T=!0){var X=N.value;this._registeredMethods[X]=l.prototype._registeredMethods[X].slice()}}catch(H){z=!0,G=H}finally{try{T||null==k.return||k.return()}finally{if(z)throw G}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(H){var Z=this||l.prototype,le=this._isGlobal?window:this;if(Z._registeredMethods.hasOwnProperty(H)){Z=Z._registeredMethods[H];var xe=!0,q=void(H=!1);try{for(var j,oe=Z[Symbol.iterator]();!(xe=(j=oe.next()).done);xe=!0){var me=j.value;"function"==typeof me&&me.call(le)}}catch(Xe){H=!0,q=Xe}finally{try{xe||null==oe.return||oe.return()}finally{if(H)throw q}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var H=p._isGlobal?window:p;if(H.preload){p.callRegisteredHooksFor("beforePreload");var Z,le=document.getElementById(p._loadingScreenId),xe=(le||((le=document.createElement("div")).innerHTML="Loading...",le.style.position="absolute",le.id=p._loadingScreenId,(p._userNode||document.body).appendChild(le)),p._preloadMethods);for(Z in xe){xe[Z]=xe[Z]||l;var q=xe[Z];q!==l.prototype&&q!==l||(p._isGlobal&&(window[Z]=p._wrapPreload(p,Z)),q=p),p._registeredPreloadMethods[Z]=q[Z],q[Z]=p._wrapPreload(q,Z)}H.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var H,Z=this._isGlobal?window:this;0===Z._preloadCount&&((H=document.getElementById(Z._loadingScreenId))&&H.parentNode.removeChild(H),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Z._setup(),this._recording||Z._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||"function"!=typeof H.preload||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,Z){var le=this;return function(){le._incrementPreload();for(var xe=arguments.length,q=new Array(xe),j=0;j<xe;j++)q[j]=arguments[j];return le._registeredPreloadMethods[Z].apply(H,q)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var H=p._isGlobal?window:p;if("function"==typeof H.preload)for(var Z in p._preloadMethods)H[Z]=p._preloadMethods[Z][Z],H[Z]&&p&&(H[Z]=H[Z].bind(p));p._millisStart=window.performance.now(),H._preloadDone=!0,"function"==typeof H.setup&&H.setup();var le=document.getElementsByTagName("canvas"),xe=!0,q=!1,j=void 0;try{for(var oe,me=le[Symbol.iterator]();!(xe=(oe=me.next()).done);xe=!0){var Se=oe.value;"true"===Se.dataset.hidden&&(Se.style.visibility="",delete Se.dataset.hidden)}}catch(Le){q=!0,j=Le}finally{try{xe||null==me.return||me.return()}finally{if(q)throw j}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(Z){Z=Z||window.performance.now();var xe=1e3/p._targetFrameRate;(!p._loop||xe-5<=Z-p._lastTargetFrameTime)&&(p.deltaTime=Z-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+xe,Z),p._lastRealFrameTime=Z,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(H,Z){p[H]=Z,p._isGlobal&&(window[H]=Z)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(H=document.getElementById(p._loadingScreenId))&&(H.parentNode.removeChild(H),p._incrementPreload()),p._curElement){for(var Z in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(Z,p._events[Z]);var le=!0,H=!1,xe=void 0;try{for(var q,j=p._elements[Symbol.iterator]();!(le=(q=j.next()).done);le=!0){var oe,me=q.value;for(oe in me.elt&&me.elt.parentNode&&me.elt.parentNode.removeChild(me.elt),me._events)me.elt.removeEventListener(oe,me._events[oe])}}catch(He){H=!0,xe=He}finally{try{le||null==j.return||j.return()}finally{if(H)throw xe}}var Se=p;p._registeredMethods.remove.forEach(function(He){void 0!==He&&He.call(Se)})}if(p._isGlobal){for(var Le in l.prototype)try{delete window[Le]}catch{window[Le]=void 0}for(var Xe in p)if(p.hasOwnProperty(Xe))try{delete window[Xe]}catch{window[Xe]=void 0}l.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(H){void 0!==H&&H.call(this)},this),this._setupPromisePreloads();var D,O,P=this._createFriendlyGlobalFunctionBinder();if(h)h(this),l._checkForUserDefinedFunctions(this);else{for(var J in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[J]?(D=J.substring(2),this._events.hasOwnProperty(D)||(Math.hasOwnProperty(J)&&Math[J]===l.prototype[J]?P(J,l.prototype[J]):P(J,l.prototype[J].bind(this)))):P(J,l.prototype[J]);for(var re in this)this.hasOwnProperty(re)&&P(re,this[re])}for(O in this._events){var $=this["_on".concat(O)];$&&($=$.bind(this),window.addEventListener(O,$,{passive:!1}),this._events[O]=$)}function Q(){p._setProperty("focused",!0)}function V(){p._setProperty("focused",!1)}window.addEventListener("focus",Q),window.addEventListener("blur",V),this.registerMethod("remove",function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",V)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,u;return a=l,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=f.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(h,g){l.prototype._preloadMethods.hasOwnProperty(h)||(l.prototype._preloadMethods[h]=g)}},{key:"registerMethod",value:function(h,g){var p=this||l.prototype;p._registeredMethods.hasOwnProperty(h)||(p._registeredMethods[h]=[]),p._registeredMethods[h].push(g)}},{key:"unregisterMethod",value:function(h,g){var p=this||l.prototype;if(p._registeredMethods.hasOwnProperty(h)){for(var y=p._registeredMethods[h],T=[],z=0;z<y.length;z++)y[z]===g&&T.push(z);for(var G=T.length-1;0<=G;G--)y.splice(T[G],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=h.globalObject||window;return h.log||console.log.bind(console),function(p,y){g[p]=y}}}])&&S(a.prototype,u),l}();for(w in i.instance=null,i.disableFriendlyErrors=!1,f)i.prototype[w]=f[w];i.VERSION=f.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},B.default=i},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function _(f,m){for(var S=0;S<m.length;S++){var w=m[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Element=function(){function f(i,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var m,S,w;return m=f,w=[{key:"_adjustListener",value:function(i,l,a){return!1===l?v.default.Element._detachListener(i,a):v.default.Element._attachListener(i,l,a),this}},{key:"_attachListener",value:function(i,l,a){a._events[i]&&v.default.Element._detachListener(i,a),l=l.bind(a),a.elt.addEventListener(i,l,!1),a._events[i]=l}},{key:"_detachListener",value:function(i,l){l.elt.removeEventListener(i,l._events[i],!1),l._events[i]=null}}],(S=[{key:"parent",value:function(i){return void 0===i?this.elt.parentNode:("string"==typeof i?("#"===i[0]&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof v.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return void 0===i?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return void 0===i?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return v.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),i.call(this,l)},this),this}},{key:"doubleClicked",value:function(i){return v.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return v.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return v.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return v.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return v.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return v.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return v.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return v.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return v.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return v.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return v.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return v.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,l){this[i]=l}}])&&_(m.prototype,S),w&&_(m,w),f}(),B.default=o=v.default.Element},{"./main":283}],285:[function(o,ie,B){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function _(g){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(h=o("./main"))&&h.__esModule?h:{default:h},m=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==_(g)&&"function"!=typeof g)return{default:g};var p=S();if(p&&p.has(g))return p.get(g);var y,T={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var G;Object.prototype.hasOwnProperty.call(g,y)&&((G=z?Object.getOwnPropertyDescriptor(g,y):null)&&(G.get||G.set)?Object.defineProperty(T,y,G):T[y]=g[y])}return T.default=g,p&&p.set(g,T),T}(o("./constants"));function S(){var g;return"function"!=typeof WeakMap?null:(S=function(){return g},g=new WeakMap)}function w(g,p){for(var y=0;y<p.length;y++){var T=p[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}function i(g,p){return(i=Object.setPrototypeOf||function(y,T){return y.__proto__=T,y})(g,p)}function a(g,p){return!p||"object"!==_(p)&&"function"!=typeof p?u(g):p}function u(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function d(g){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}f.default.Graphics=function(g){var p=z;if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&i(p,g);var T=function l(g){return function(){var p,y=d(g);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=d(this).constructor,Reflect.construct(y,arguments,p)):y.apply(this,arguments))}}(z);function z(G,N,re,X,D){var O;if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");J=D||document.createElement("canvas"),(O=T.call(this,J,X)).canvas=J;var P,J=re||m.P2D;for(P in re=X._userNode||document.body,D||re.appendChild(O.canvas),f.default.prototype)O[P]||(O[P]="function"==typeof f.default.prototype[P]?f.default.prototype[P].bind(u(O)):f.default.prototype[P]);return f.default.prototype._initializeInstanceVariables.apply(u(O)),O.width=G,O.height=N,O._pixelDensity=X._pixelDensity,J===m.WEBGL?(O._renderer=new f.default.RendererGL(O.canvas,u(O),!1),G=(D=O._renderer._adjustDimensions(G,N)).adjustedWidth,N=D.adjustedHeight):O._renderer=new f.default.Renderer2D(O.canvas,u(O),!1),X._elements.push(u(O)),Object.defineProperty(u(O),"deltaTime",{get:function(){return this._pInst.deltaTime}}),O._renderer.resize(G,N),O._renderer._applyDefaults(),a(O,u(O))}return p=z,(g=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var G,N=this._pInst._elements.indexOf(this);for(G in-1!==N&&this._pInst._elements.splice(N,1),this._events)this.elt.removeEventListener(G,this._events[G]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(G){return new f.default.Framebuffer(this,G)}}])&&w(p.prototype,g),z}(f.default.Element);var h=f.default.Graphics;B.default=h},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,ie,B){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=(d=o("./main"))&&d.__esModule?d:{default:d},f=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==S(g)&&"function"!=typeof g)return{default:g};var p=m();if(p&&p.has(g))return p.get(g);var y,T={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var G;Object.prototype.hasOwnProperty.call(g,y)&&((G=z?Object.getOwnPropertyDescriptor(g,y):null)&&(G.get||G.set)?Object.defineProperty(T,y,G):T[y]=g[y])}return T.default=g,p&&p.set(g,T),T}(o("../core/constants"));function m(){var g;return"function"!=typeof WeakMap?null:(m=function(){return g},g=new WeakMap)}function S(g){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(g)}function w(g,p){for(var y=0;y<p.length;y++){var T=p[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}function i(g,p){return(i=Object.setPrototypeOf||function(y,T){return y.__proto__=T,y})(g,p)}function a(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(g){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}var d=function(g){var p=z;if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&i(p,g);var T=function l(g){return function(){var p,y,T=u(g);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(T,arguments,p)):T.apply(this,arguments),T=this,!(y=p)||"object"!==S(y)&&"function"!=typeof y?a(T):y}}(z);function z(G,N,k){var X;if(this instanceof z)return(X=T.call(this,G,N)).canvas=G,X._pixelsState=N,k?(X._isMainCanvas=!0,X._pInst._setProperty("_curElement",a(X)),X._pInst._setProperty("canvas",X.canvas),X._pInst._setProperty("width",X.width),X._pInst._setProperty("height",X.height)):(X.canvas.style.display="none",X._styles=[]),X._clipping=!1,X._clipInvert=!1,X._textSize=12,X._textLeading=15,X._textFont="sans-serif",X._textStyle=f.NORMAL,X._textAscent=null,X._textDescent=null,X._textAlign=f.LEFT,X._textBaseline=f.BASELINE,X._textWrap=f.WORD,X._rectMode=f.CORNER,X._ellipseMode=f.CENTER,X._curveTightness=0,X._imageMode=f.CORNER,X._tint=null,X._doStroke=!0,X._doFill=!0,X._strokeSet=!1,X._fillSet=!1,X._leadingSet=!1,X._pushPopDepth=0,X;throw new TypeError("Cannot call a class as a function")}return p=z,(g=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(G){this._pushPopDepth--,G.properties&&Object.assign(this,G.properties)}},{key:"beginClip",value:function(){var G=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=G.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(G,N){this.width=G,this.height=N,this.elt.width=G*this._pInst._pixelDensity,this.elt.height=N*this._pInst._pixelDensity,this.elt.style.width="".concat(G,"px"),this.elt.style.height="".concat(N,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(G,N,k,X){var D=this._pixelsState,O=D._pixelDensity,P=this.canvas;if(void 0===G&&void 0===N)G=N=0,k=D.width,X=D.height;else if(G*=O,N*=O,void 0===k&&void 0===X)return G<0||N<0||G>=P.width||N>=P.height?[0,0,0,0]:this._getPixel(G,N);return(D=new _.default.Image(k*O,X*O)).pixelDensity(O),D.canvas.getContext("2d").drawImage(P,G,N,k*O,X*O,0,0,k*O,X*O),D}},{key:"textLeading",value:function(G){return"number"==typeof G?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",G),this._pInst):this._textLeading}},{key:"textStyle",value:function(G){return G?(G!==f.NORMAL&&G!==f.ITALIC&&G!==f.BOLD&&G!==f.BOLDITALIC||this._setProperty("_textStyle",G),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(G,N){return void 0!==G?(this._setProperty("_textAlign",G),void 0!==N&&this._setProperty("_textBaseline",N),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(G){return this._setProperty("_textWrap",G),this._textWrap}},{key:"text",value:function(G,N,k,X,D){var O,P,J,re,$=this._pInst,Q=this._textWrap,V=Number.MAX_VALUE,H=k;if((this._doFill||this._doStroke)&&void 0!==G){if(O=(G=(G="string"!=typeof G?G.toString():G).replace(/(\t)/g,"  ")).split("\n"),void 0!==X){switch(this._rectMode===f.CENTER&&(N-=X/2),this._textAlign){case f.CENTER:N+=X/2;break;case f.RIGHT:N+=X}if(void 0!==D){this._rectMode===f.CENTER&&(k-=D/2,H-=D/2),G=k;var Z=$.textAscent();switch(this._textBaseline){case f.BOTTOM:re=k+D,k=Math.max(re,k),H+=Z;break;case f.CENTER:re=k+D/2,k=Math.max(re,k),H+=Z/2}V=k+D-Z,this._textBaseline===f.CENTER&&(V=G+D-Z/2)}else this._textBaseline!==f.BOTTOM&&this._textBaseline!==f.CENTER||(H=k-(G=$.textSize()*this._textLeading)/2,V=k+G/2);if(Q===f.WORD){for(var le=[],xe=0;xe<O.length;xe++){for(var q="",j=O[xe].split(" "),oe=0;oe<j.length;oe++)P="".concat(q+j[oe])+" ",q=X<(J=this.textWidth(P))&&0<q.length?(le.push(q),"".concat(j[oe])+" "):P;le.push(q)}var me=0;this._textBaseline===f.CENTER?me=(le.length-1)*$.textLeading()/2:this._textBaseline===f.BOTTOM&&(me=(le.length-1)*$.textLeading());for(var Se=0;Se<O.length;Se++){q="",j=O[Se].split(" ");for(var Le=0;Le<j.length;Le++)P="".concat(q+j[Le])+" ",X<(J=this.textWidth(P))&&0<q.length?(this._renderText($,q.trim(),N,k-me,V,H),q="".concat(j[Le])+" ",k+=$.textLeading()):q=P;this._renderText($,q.trim(),N,k-me,V,H),k+=$.textLeading()}}else{for(var Xe=[],lt=0;lt<O.length;lt++)for(var He=O[lt].split(q=""),nt=0;nt<He.length;nt++)P="".concat(q+He[nt]),(J=this.textWidth(P))<=X?q+=He[nt]:X<J&&0<q.length&&(Xe.push(q),q="".concat(He[nt]));Xe.push(q);var at=0;this._textBaseline===f.CENTER?at=(Xe.length-1)*$.textLeading()/2:this._textBaseline===f.BOTTOM&&(at=(Xe.length-1)*$.textLeading());for(var Be=0;Be<O.length;Be++){He=O[Be].split(q="");for(var st=0;st<He.length;st++)P="".concat(q+He[st]),(J=this.textWidth(P))<=X?q+=He[st]:X<J&&0<q.length&&(this._renderText($,q.trim(),N,k-at,V,H),k+=$.textLeading(),q="".concat(He[st]))}this._renderText($,q.trim(),N,k-at,V,H),k+=$.textLeading()}}else{var Ye=0;this._textBaseline===f.CENTER?Ye=(O.length-1)*$.textLeading()/2:this._textBaseline===f.BOTTOM&&(Ye=(O.length-1)*$.textLeading());for(var it=0;it<O.length;it++)this._renderText($,O[it],N,k-Ye,V,H-Ye),k+=$.textLeading()}return $}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var G=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===S(G)&&G.font&&G.font.supported}},{key:"_updateTextMetrics",value:function(){var G,N,k,X,D,O;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((G=document.createElement("span")).style.fontFamily=this._textFont,G.style.fontSize="".concat(this._textSize,"px"),G.innerHTML="ABCjgq|",(O=document.createElement("div")).style.display="inline-block",O.style.width="1px",O.style.height="0px",(N=document.createElement("div")).appendChild(G),N.appendChild(O),N.style.height="0px",N.style.overflow="hidden",document.body.appendChild(N),O.style.verticalAlign="baseline",X=h(O),D=h(G),k=X[1]-D[1],O.style.verticalAlign="bottom",X=h(O),D=h(G),O=X[1]-D[1]-k,document.body.removeChild(N),this._setProperty("_textAscent",k),this._setProperty("_textDescent",O)),this}}])&&w(p.prototype,g),z}(_.default.Element);function h(g){var p=0,y=0;if(g.offsetParent)for(;p+=g.offsetLeft,y+=g.offsetTop,g=g.offsetParent;);else p+=g.offsetLeft,y+=g.offsetTop;return[p,y]}d.prototype.textSize=function(g){return"number"==typeof g?(this._setProperty("_textSize",g),this._leadingSet||this._setProperty("_textLeading",g*f._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},_.default.Renderer=d,B.default=o=_.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(g,ie,B){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.concat"),g("core-js/modules/es.array.fill"),g("core-js/modules/es.array.for-each"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.function.name"),g("core-js/modules/es.number.to-fixed"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.get-prototype-of"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.reflect.construct"),g("core-js/modules/es.reflect.get"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.concat"),g("core-js/modules/es.array.fill"),g("core-js/modules/es.array.for-each"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.function.name"),g("core-js/modules/es.number.to-fixed"),g("core-js/modules/es.object.get-prototype-of"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(h=g("./main"))&&h.__esModule?h:{default:h},m=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var y=S();if(y&&y.has(p))return y.get(p);var T,z={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in p){var N;Object.prototype.hasOwnProperty.call(p,T)&&((N=G?Object.getOwnPropertyDescriptor(p,T):null)&&(N.get||N.set)?Object.defineProperty(z,T,N):z[T]=p[T])}return z.default=p,y&&y.set(p,z),z}(g("./constants"));function S(){var p;return"function"!=typeof WeakMap?null:(S=function(){return p},p=new WeakMap)}function w(p,y){for(var T=0;T<y.length;T++){var z=y[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(p,z.key,z)}}function i(p,y,T){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(k,G,N){if(k=function(X,D){for(;!Object.prototype.hasOwnProperty.call(X,D)&&null!==(X=u(X)););return X}(k,G))return(k=Object.getOwnPropertyDescriptor(k,G)).get?k.get.call(N):k.value})(p,y,T||p)}function l(p,y){return(l=Object.setPrototypeOf||function(T,z){return T.__proto__=z,T})(p,y)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}g("./p5.Renderer");var d="rgba(0,0,0,0)",h=function(p){var y=G;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&l(y,p);var z=function a(p){return function(){var y,T=u(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=u(this).constructor,Reflect.construct(T,arguments,y)):T.apply(this,arguments),T=this,!y||"object"!==_(y)&&"function"!=typeof y){if(void 0!==T)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(G);function G(N,k,X){if(this instanceof G)return(N=z.call(this,N,k,X)).drawingContext=N.canvas.getContext("2d"),N._pInst._setProperty("drawingContext",N.drawingContext),N;throw new TypeError("Cannot call a class as a function")}return y=G,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new f.default.Graphics(this.width,this.height,m.WEBGL,(this._pInst instanceof f.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=m.BLEND,this._setFill(m._DEFAULT_FILL),this._setStroke(m._DEFAULT_STROKE),this.drawingContext.lineCap=m.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(N,k){i(u(G.prototype),"resize",this).call(this,N,k),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var N,k;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof f.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(N=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(N,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(N=this._getFill(),k=(k=this._pInst).color.apply(k,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(k.levels),k=k.toString(),this._setFill(k),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(N),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var N=(N=this._pInst).color.apply(N,arguments);this._setFill(N.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",N.levels)}},{key:"stroke",value:function(){var N=(N=this._pInst).color.apply(N,arguments);this._setStroke(N.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",N.levels)}},{key:"erase",value:function(N,k){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,N=this._pInst.color(255,N).toString(),this.drawingContext.fillStyle=N,this._cachedStrokeStyle=this.drawingContext.strokeStyle,N=this._pInst.color(255,k).toString(),this.drawingContext.strokeStyle=N,k=this._cachedBlendMode,this.blendMode(m.REMOVE),this._cachedBlendMode=k,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(u(G.prototype),"beginClip",this).call(this,N),this._cachedFillStyle=this.drawingContext.fillStyle,N=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=N,this._cachedStrokeStyle=this.drawingContext.strokeStyle,N=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=N,N=this._cachedBlendMode,this.blendMode(m.BLEND),this._cachedBlendMode=N,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),i(u(G.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(N,k,X,D,O,P,J,re,$){N.gifProperties&&N._animateGif(this._pInst);try{f.default.MediaElement&&N instanceof f.default.MediaElement&&N._ensureCanvas();var Q=(Q=this._tint&&N.canvas?this._getTintedImageCanvas(N):Q)||N.canvas||N.elt,V=1;N.width&&0<N.width&&(V=Q.width/N.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(Q,V*k,V*X,V*D,V*O,P,J,re,$),this._isErasing&&this._pInst.erase()}catch(H){if("NS_ERROR_NOT_AVAILABLE"!==H.name)throw H}}},{key:"_getTintedImageCanvas",value:function(N){if(!N.canvas)return N;N.tintCanvas||(N.tintCanvas=document.createElement("canvas")),N.tintCanvas.width!==N.canvas.width&&(N.tintCanvas.width=N.canvas.width),N.tintCanvas.height!==N.canvas.height&&(N.tintCanvas.height=N.canvas.height);var k=N.tintCanvas.getContext("2d");return k.save(),k.clearRect(0,0,N.canvas.width,N.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(k.drawImage(N.canvas,0,0),k.globalCompositeOperation="luminosity",k.drawImage(N.canvas,0,0),k.globalCompositeOperation="color",k.drawImage(N.canvas,0,0),k.globalCompositeOperation="multiply",k.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),k.fillRect(0,0,N.canvas.width,N.canvas.height),k.globalCompositeOperation="destination-in"),k.globalAlpha=this._tint[3]/255,k.drawImage(N.canvas,0,0),k.restore(),N.tintCanvas}},{key:"blendMode",value:function(N){if(N===m.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(N!==m.BLEND&&N!==m.REMOVE&&N!==m.DARKEST&&N!==m.LIGHTEST&&N!==m.DIFFERENCE&&N!==m.MULTIPLY&&N!==m.EXCLUSION&&N!==m.SCREEN&&N!==m.REPLACE&&N!==m.OVERLAY&&N!==m.HARD_LIGHT&&N!==m.SOFT_LIGHT&&N!==m.DODGE&&N!==m.BURN&&N!==m.ADD)throw new Error("Mode ".concat(N," not recognized."));this._cachedBlendMode=N,this.drawingContext.globalCompositeOperation=N}}},{key:"blend",value:function(){for(var N=this.drawingContext.globalCompositeOperation,k=arguments.length,X=new Array(k),D=0;D<k;D++)X[D]=arguments[D];var O=X[X.length-1],P=Array.prototype.slice.call(X,0,X.length-1);this.drawingContext.globalCompositeOperation=O,f.default.prototype.copy.apply(this,P),this.drawingContext.globalCompositeOperation=N}},{key:"_getPixel",value:function(N,k){return[(N=this.drawingContext.getImageData(N,k,1,1).data)[0],N[1],N[2],N[3]]}},{key:"loadPixels",value:function(){var k,N=this._pixelsState,X=this.drawingContext.getImageData(0,0,X=this.width*(k=N._pixelDensity),k*=this.height);N._setProperty("imageData",X),N._setProperty("pixels",X.data)}},{key:"set",value:function(N,k,X){N=Math.floor(N),k=Math.floor(k);var D=this._pixelsState;if(X instanceof f.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(D._pixelDensity,D._pixelDensity),this.drawingContext.clearRect(N,k,X.width,X.height),this.drawingContext.drawImage(X.canvas,N,k),this.drawingContext.restore();else{var O=0,P=0,J=0,re=0,$=4*(k*D._pixelDensity*(this.width*D._pixelDensity)+N*D._pixelDensity);if(D.imageData||D.loadPixels(),"number"==typeof X)$<D.pixels.length&&(J=P=O=X,re=255);else if(Array.isArray(X)){if(X.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");$<D.pixels.length&&(O=X[0],P=X[1],J=X[2],re=X[3])}else X instanceof f.default.Color&&$<D.pixels.length&&(O=X.levels[0],P=X.levels[1],J=X.levels[2],re=X.levels[3]);for(var Q=0;Q<D._pixelDensity;Q++)for(var V=0;V<D._pixelDensity;V++)D.pixels[$=4*((k*D._pixelDensity+V)*this.width*D._pixelDensity+(N*D._pixelDensity+Q))]=O,D.pixels[$+1]=P,D.pixels[$+2]=J,D.pixels[$+3]=re}}},{key:"updatePixels",value:function(N,k,X,D){var O=this._pixelsState,P=O._pixelDensity;void 0===N&&void 0===k&&void 0===X&&void 0===D&&(k=N=0,X=this.width,D=this.height),N*=P,k*=P,X*=P,D*=P,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=O.imageData),this.drawingContext.putImageData(O.imageData,N,k,0,0,X,D)}},{key:"_acuteArcToBezier",value:function(N,k){var P=k/2,X=Math.cos(P),re=Math.sin(P),D=1/Math.tan(P),O=(P=N+P,Math.cos(P)),J=(P=Math.sin(P),(4-X)/3);return re+=(X-J)*D,{ax:Math.cos(N).toFixed(7),ay:Math.sin(N).toFixed(7),bx:(J*O+re*P).toFixed(7),by:(J*P-re*O).toFixed(7),cx:(J*O-re*P).toFixed(7),cy:(J*P+re*O).toFixed(7),dx:Math.cos(N+k).toFixed(7),dy:Math.sin(N+k).toFixed(7)}}},{key:"arc",value:function(N,k,X,D,O,P,J){var re,$=this.drawingContext,Q=X/2,V=D/2,H=[];for(N+=Q,k+=V;1e-5<=P-O;)re=Math.min(P-O,m.HALF_PI),H.push(this._acuteArcToBezier(O,re)),O+=re;return this._doFill&&(this._clipping||$.beginPath(),H.forEach(function(Z,le){0===le&&$.moveTo(N+Z.ax*Q,k+Z.ay*V),$.bezierCurveTo(N+Z.bx*Q,k+Z.by*V,N+Z.cx*Q,k+Z.cy*V,N+Z.dx*Q,k+Z.dy*V)}),J!==m.PIE&&null!=J||$.lineTo(N,k),$.closePath(),this._clipping||$.fill()),this._doStroke&&(this._clipping||$.beginPath(),H.forEach(function(Z,le){0===le&&$.moveTo(N+Z.ax*Q,k+Z.ay*V),$.bezierCurveTo(N+Z.bx*Q,k+Z.by*V,N+Z.cx*Q,k+Z.cy*V,N+Z.dx*Q,k+Z.dy*V)}),J===m.PIE?($.lineTo(N,k),$.closePath()):J===m.CHORD&&$.closePath(),this._clipping||$.stroke()),this}},{key:"ellipse",value:function(re){var k=this.drawingContext,X=this._doFill,D=this._doStroke,O=parseFloat(re[0]),P=parseFloat(re[1]),J=parseFloat(re[2]);if(re=parseFloat(re[3]),X&&!D){if(this._getFill()===d)return this}else if(!X&&D&&this._getStroke()===d)return this;O+=J/2,P+=re/2,J/=2,re/=2,this._clipping||k.beginPath(),k.ellipse(O,P,J,re,0,0,2*Math.PI),!this._clipping&&X&&k.fill(),!this._clipping&&D&&k.stroke()}},{key:"line",value:function(N,k,X,D){var O=this.drawingContext;return this._doStroke&&this._getStroke()!==d&&(this._clipping||O.beginPath(),O.moveTo(N,k),O.lineTo(X,D),O.stroke()),this}},{key:"point",value:function(N,k){var X,D,O=this.drawingContext;return this._doStroke&&this._getStroke()!==d?(X=this._getStroke(),D=this._getFill(),this._clipping||this._setFill(X),this._clipping||O.beginPath(),O.arc(N,k,O.lineWidth/2,0,m.TWO_PI,!1),void(this._clipping||(O.fill(),this._setFill(D)))):this}},{key:"quad",value:function(N,k,X,D,O,P,J,re){var $=this.drawingContext,Q=this._doFill,V=this._doStroke;if(Q&&!V){if(this._getFill()===d)return this}else if(!Q&&V&&this._getStroke()===d)return this;return this._clipping||$.beginPath(),$.moveTo(N,k),$.lineTo(X,D),$.lineTo(O,P),$.lineTo(J,re),$.closePath(),!this._clipping&&Q&&$.fill(),!this._clipping&&V&&$.stroke(),this}},{key:"rect",value:function(V){var k,X,D=V[0],O=V[1],P=V[2],J=V[3],re=V[4],$=V[5],Q=V[6],H=(V=V[7],this.drawingContext),Z=this._doFill,le=this._doStroke;if(Z&&!le){if(this._getFill()===d)return this}else if(!Z&&le&&this._getStroke()===d)return this;return this._clipping||H.beginPath(),void 0===re?H.rect(D,O,P,J):(void 0===$&&($=re),void 0===Q&&(Q=$),void 0===V&&(V=Q),le=(Z=Math.abs(P))/2,X=(k=Math.abs(J))/2,k<2*(re=Z<2*re?le:re)&&(re=X),k<2*($=Z<2*$?le:$)&&($=X),k<2*(Q=Z<2*Q?le:Q)&&(Q=X),k<2*(V=Z<2*V?le:V)&&(V=X),this._clipping||H.beginPath(),H.moveTo(D+re,O),H.arcTo(D+P,O,D+P,O+J,$),H.arcTo(D+P,O+J,D,O+J,Q),H.arcTo(D,O+J,D,O,V),H.arcTo(D,O,D+P,O,re),H.closePath()),!this._clipping&&this._doFill&&H.fill(),!this._clipping&&this._doStroke&&H.stroke(),this}},{key:"triangle",value:function(Q){var k=this.drawingContext,X=this._doFill,D=this._doStroke,O=Q[0],P=Q[1],J=Q[2],re=Q[3],$=Q[4];if(Q=Q[5],X&&!D){if(this._getFill()===d)return this}else if(!X&&D&&this._getStroke()===d)return this;this._clipping||k.beginPath(),k.moveTo(O,P),k.lineTo(J,re),k.lineTo($,Q),k.closePath(),!this._clipping&&X&&k.fill(),!this._clipping&&D&&k.stroke()}},{key:"endShape",value:function(N,k,X,D,O,P,J){if(0!==k.length&&(this._doStroke||this._doFill)){var re,$,Q,V=N===m.CLOSE,H=(V&&!P&&k.push(k[0]),k.length);if(X&&null===J){if(3<H){var Z=[],le=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(k[1][0],k[1][1]),$=1;$+2<H;$++)Z[0]=[(re=k[$])[0],re[1]],Z[1]=[re[0]+(le*k[$+1][0]-le*k[$-1][0])/6,re[1]+(le*k[$+1][1]-le*k[$-1][1])/6],Z[2]=[k[$+1][0]+(le*k[$][0]-le*k[$+2][0])/6,k[$+1][1]+(le*k[$][1]-le*k[$+2][1])/6],Z[3]=[k[$+1][0],k[$+1][1]],this.drawingContext.bezierCurveTo(Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[3][0],Z[3][1]);V&&this.drawingContext.lineTo(k[$+1][0],k[$+1][1]),this._doFillStrokeClose(V)}}else if(D&&null===J){for(this._clipping||this.drawingContext.beginPath(),$=0;$<H;$++)k[$].isVert?k[$].moveTo?this.drawingContext.moveTo(k[$][0],k[$][1]):this.drawingContext.lineTo(k[$][0],k[$][1]):this.drawingContext.bezierCurveTo(k[$][0],k[$][1],k[$][2],k[$][3],k[$][4],k[$][5]);this._doFillStrokeClose(V)}else if(O&&null===J){for(this._clipping||this.drawingContext.beginPath(),$=0;$<H;$++)k[$].isVert?k[$].moveTo?this.drawingContext.moveTo(k[$][0],k[$][1]):this.drawingContext.lineTo(k[$][0],k[$][1]):this.drawingContext.quadraticCurveTo(k[$][0],k[$][1],k[$][2],k[$][3]);this._doFillStrokeClose(V)}else if(J===m.POINTS)for($=0;$<H;$++)re=k[$],this._doStroke&&this._pInst.stroke(re[6]),this._pInst.point(re[0],re[1]);else if(J===m.LINES)for($=0;$+1<H;$+=2)re=k[$],this._doStroke&&this._pInst.stroke(k[$+1][6]),this._pInst.line(re[0],re[1],k[$+1][0],k[$+1][1]);else if(J===m.TRIANGLES)for($=0;$+2<H;$+=3)re=k[$],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(re[0],re[1]),this.drawingContext.lineTo(k[$+1][0],k[$+1][1]),this.drawingContext.lineTo(k[$+2][0],k[$+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(k[$+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(k[$+2][6]),this.drawingContext.stroke());else if(J===m.TRIANGLE_STRIP)for($=0;$+1<H;$++)re=k[$],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(k[$+1][0],k[$+1][1]),this.drawingContext.lineTo(re[0],re[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[$+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(k[$+1][5]),$+2<H&&(this.drawingContext.lineTo(k[$+2][0],k[$+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[$+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(k[$+2][5])),this._doFillStrokeClose(V);else if(J===m.TRIANGLE_FAN){if(2<H){for(this._clipping||this.drawingContext.beginPath(),$=2;$<H;$++)re=k[$],this.drawingContext.moveTo(k[0][0],k[0][1]),this.drawingContext.lineTo(k[$-1][0],k[$-1][1]),this.drawingContext.lineTo(re[0],re[1]),this.drawingContext.lineTo(k[0][0],k[0][1]),$<H-1&&(this._doFill&&re[5]!==k[$+1][5]||this._doStroke&&re[6]!==k[$+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(re[5]),this.drawingContext.fill(),this._pInst.fill(k[$+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(re[6]),this.drawingContext.stroke(),this._pInst.stroke(k[$+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(V)}}else if(J===m.QUADS)for($=0;$+3<H;$+=4){for(re=k[$],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(re[0],re[1]),Q=1;Q<4;Q++)this.drawingContext.lineTo(k[$+Q][0],k[$+Q][1]);this.drawingContext.lineTo(re[0],re[1]),!this._clipping&&this._doFill&&this._pInst.fill(k[$+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[$+3][6]),this._doFillStrokeClose(V)}else if(J===m.QUAD_STRIP){if(3<H)for($=0;$+1<H;$+=2)re=k[$],this._clipping||this.drawingContext.beginPath(),$+3<H?(this.drawingContext.moveTo(k[$+2][0],k[$+2][1]),this.drawingContext.lineTo(re[0],re[1]),this.drawingContext.lineTo(k[$+1][0],k[$+1][1]),this.drawingContext.lineTo(k[$+3][0],k[$+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(k[$+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[$+3][6])):(this.drawingContext.moveTo(re[0],re[1]),this.drawingContext.lineTo(k[$+1][0],k[$+1][1])),this._doFillStrokeClose(V)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(k[0][0],k[0][1]),$=1;$<H;$++)(re=k[$]).isVert&&(re.moveTo?(V&&this.drawingContext.closePath(),this.drawingContext.moveTo(re[0],re[1])):this.drawingContext.lineTo(re[0],re[1]));this._doFillStrokeClose(V)}P=O=D=X=!1,V&&k.pop()}return this}},{key:"strokeCap",value:function(N){return N!==m.ROUND&&N!==m.SQUARE&&N!==m.PROJECT||(this.drawingContext.lineCap=N),this}},{key:"strokeJoin",value:function(N){return N!==m.ROUND&&N!==m.BEVEL&&N!==m.MITER||(this.drawingContext.lineJoin=N),this}},{key:"strokeWeight",value:function(N){return this.drawingContext.lineWidth=void 0===N||0===N?1e-4:N,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(N){N!==this._cachedFillStyle&&(this.drawingContext.fillStyle=N,this._cachedFillStyle=N)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(N){N!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=N,this._cachedStrokeStyle=N)}},{key:"bezier",value:function(N,k,X,D,O,P,J,re){return this._pInst.beginShape(),this._pInst.vertex(N,k),this._pInst.bezierVertex(X,D,O,P,J,re),this._pInst.endShape(),this}},{key:"curve",value:function(N,k,X,D,O,P,J,re){return this._pInst.beginShape(),this._pInst.curveVertex(N,k),this._pInst.curveVertex(X,D),this._pInst.curveVertex(O,P),this._pInst.curveVertex(J,re),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(N){N&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(N,k,X,D,O,P){this.drawingContext.transform(N,k,X,D,O,P)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(N){this.drawingContext.rotate(N)}},{key:"scale",value:function(N,k){return this.drawingContext.scale(N,k),this}},{key:"translate",value:function(N,k){return N instanceof f.default.Vector&&(k=N.y,N=N.x),this.drawingContext.translate(N,k),this}},{key:"_renderText",value:function(N,k,X,D,O,P){if(!(D<P||O<=D))return N.push(),this._isOpenType()?this._textFont._renderPath(k,X,D,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(k,X,D),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(m._DEFAULT_TEXT_FILL),this.drawingContext.fillText(k,X,D))),N.pop(),N}},{key:"textWidth",value:function(N){return this._isOpenType()?this._textFont._textWidth(N,this._textSize):this.drawingContext.measureText(N).width}},{key:"_applyTextProperties",value:function(){var N=this._pInst,k=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),k=this._textFont,this._isOpenType()&&(k=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),k||"sans-serif");return/\s/.exec(k)&&(k='"'.concat(k,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(k),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===m.CENTER?m._CTX_MIDDLE:this._textBaseline,N}},{key:"push",value:function(){return this.drawingContext.save(),i(u(G.prototype),"push",this).call(this)}},{key:"pop",value:function(N){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(u(G.prototype),"pop",this).call(this,N)}}])&&w(y.prototype,p),G}(f.default.Renderer);h.prototype.text=function(p,y,T,k,G){var N;return void 0!==k&&this.drawingContext.textBaseline===m.BASELINE&&(N=!0,this.drawingContext.textBaseline=m.TOP),k=f.default.Renderer.prototype.text.apply(this,arguments),N&&(this.drawingContext.textBaseline=m.BASELINE),k},f.default.Renderer2D=h,B.default=g=f.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function _(){return{}}v.default.prototype._promisePreloads=[];var f=!(v.default.prototype.registerPromisePreload=function(m){v.default.prototype._promisePreloads.push(m)});v.default.prototype._setupPromisePreloads=function(){var m=!0,S=!1,w=void 0;try{for(var i,l=this._promisePreloads[Symbol.iterator]();!(m=(i=l.next()).done);m=!0){var a=i.value,u=this,d=a.method,h=a.addCallbacks,g=a.legacyPreloadSetup,p=a.target||this,y=p[d].bind(p);if(p===v.default.prototype){if(f)continue;u=null,y=p[d]}p[d]=this._wrapPromisePreload(u,y,h),g&&(p[g.method]=this._legacyPreloadGenerator(u,g,p[d]))}}catch(T){S=!0,w=T}finally{try{m||null==l.return||l.return()}finally{if(S)throw w}}f=!0},v.default.prototype._wrapPromisePreload=function(m,S,w){var i=function(){for(var l=this,a=(this._incrementPreload(),null),u=null,d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];if(w)for(var p=h.length-1;0<=p&&!u&&"function"==typeof h[p];p--)u=a,a=h.pop();var y=Promise.resolve(S.apply(this,h));return a&&y.then(a),u&&y.catch(u),y.then(function(){return l._decrementPreload()}),y};return m?i.bind(m):i},v.default.prototype._legacyPreloadGenerator=function(m,l,w){var i=l.createBaseObject||_;return l=function(){var a=this;this._incrementPreload();for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var g=i.apply(this,d);return w.apply(this,d).then(function(p){Object.assign(g,p),a._decrementPreload()}),g},m?l.bind(m):l}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,ie,B){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=(i=o("./main"))&&i.__esModule?i:{default:i},f=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==S(l)&&"function"!=typeof l)return{default:l};var a=m();if(a&&a.has(l))return a.get(l);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=h?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=l[u])}return d.default=l,a&&a.set(l,d),d}(o("./constants"));function m(){var l;return"function"!=typeof WeakMap?null:(m=function(){return l},l=new WeakMap)}function S(l){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var w="defaultCanvas0",i=(_.default.prototype.createCanvas=function(l,a,u,d){var h,g,p;if(_.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=f.P2D,d=arguments[2]):h=u||f.P2D,d)(p=document.getElementById(w))&&p.parentNode.removeChild(p),p=d,this._defaultGraphicsCreated=!1;else{if(h===f.WEBGL)(p=document.getElementById(w))&&(p.parentNode.removeChild(p),g=this._renderer,this._elements=this._elements.filter(function(T){return T!==g})),(p=document.createElement("canvas")).id=w,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=d||document.createElement("canvas");for(var y=0;document.getElementById("defaultCanvas".concat(y));)y++;w="defaultCanvas".concat(y),p.id=w,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(p)}return h===f.WEBGL?(this._setProperty("_renderer",new _.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),l=(d=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=d.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new _.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,a),this._renderer._applyDefaults(),this._renderer},_.default.prototype.resizeCanvas=function(l,a,u){if(_.default._validateParameters("resizeCanvas",arguments),this._renderer){var d,h,g,p={};for(d in this.drawingContext){var y=this.drawingContext[d];"object"!==S(y)&&"function"!=typeof y&&(p[d]=y)}for(g in this._renderer instanceof _.default.RendererGL&&(l=(h=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=h.adjustedHeight),this.width=l,this.height=a,this._renderer.resize(l,a),p)try{this.drawingContext[g]=p[g]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},_.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},_.default.prototype.createGraphics=function(l,a){for(var u=arguments.length,d=new Array(2<u?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];return d[0]instanceof HTMLCanvasElement&&(d[1]=d[0],d[0]=f.P2D),_.default._validateParameters("createGraphics",arguments),new _.default.Graphics(l,a,d[0],this,d[1])},_.default.prototype.createFramebuffer=function(l){return new _.default.Framebuffer(this,l)},_.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},_.default.prototype.blendMode=function(l){_.default._validateParameters("blendMode",arguments),l===f.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=f.BLEND),this._renderer.blendMode(l)},_.default);B.default=i},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,ie,B){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=i(o("../main")),m=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var u=w();if(u&&u.has(a))return u.get(a);var d,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var p;Object.prototype.hasOwnProperty.call(a,d)&&((p=g?Object.getOwnPropertyDescriptor(a,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=a[d])}return h.default=a,u&&u.set(a,h),h}(o("../constants")),S=i(o("../helpers"));function w(){var a;return"function"!=typeof WeakMap?null:(w=function(){return a},a=new WeakMap)}function i(a){return a&&a.__esModule?a:{default:a}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),f.default.prototype._normalizeArcAngles=function(a,u,d,h,g){var p;return a-=m.TWO_PI*Math.floor(a/m.TWO_PI),u-=m.TWO_PI*Math.floor(u/m.TWO_PI),p=Math.min(Math.abs(a-u),m.TWO_PI-Math.abs(a-u)),g&&(a=a<=m.HALF_PI?Math.atan(d/h*Math.tan(a)):a>m.HALF_PI&&a<=3*m.HALF_PI?Math.atan(d/h*Math.tan(a))+m.PI:Math.atan(d/h*Math.tan(a))+m.TWO_PI,u=u<=m.HALF_PI?Math.atan(d/h*Math.tan(u)):u>m.HALF_PI&&u<=3*m.HALF_PI?Math.atan(d/h*Math.tan(u))+m.PI:Math.atan(d/h*Math.tan(u))+m.TWO_PI),u<a&&(u+=m.TWO_PI),{start:a,stop:u,correspondToSamePoint:p<1e-5}},f.default.prototype.arc=function(a,u,d,h,g,p,y,T){return f.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&g!==p&&(g=this._toRadians(g),p=this._toRadians(p),d=Math.abs(d),h=Math.abs(h),a=S.default.modeAdjust(a,u,d,h,this._renderer._ellipseMode),(u=this._normalizeArcAngles(g,p,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,T]):(this._renderer.arc(a.x,a.y,a.w,a.h,u.start,u.stop,y,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,u.start,u.stop,y]))),this},f.default.prototype.ellipse=function(a,u,d,h,g){return f.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},f.default.prototype.circle=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];f.default._validateParameters("circle",u);var h=u.slice(0,2);return h.push(u[2],u[2]),this._renderEllipse.apply(this,function l(a){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(a)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(h))},f.default.prototype._renderEllipse=function(a,u,d,h,g){return(this._renderer._doStroke||this._renderer._doFill)&&(d<0&&(d=Math.abs(d)),void 0===h?h=d:h<0&&(h=Math.abs(h)),a=S.default.modeAdjust(a,u,d,h,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,g]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},f.default.prototype.line=function(){for(var a,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("line",d),this._renderer._doStroke&&(a=this._renderer).line.apply(a,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",d),this},f.default.prototype.point=function(){for(var a,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("point",d),this._renderer._doStroke&&(1===d.length&&d[0]instanceof f.default.Vector?this._renderer.point.call(this._renderer,d[0].x,d[0].y,d[0].z):((a=this._renderer).point.apply(a,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",d))),this},f.default.prototype.quad=function(){for(var a,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return f.default._validateParameters("quad",d),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&d.length<12?this._renderer.quad.call(this._renderer,d[0],d[1],0,d[2],d[3],0,d[4],d[5],0,d[6],d[7],0,d[8],d[9]):((a=this._renderer).quad.apply(a,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",d))),this},f.default.prototype.rect=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return f.default._validateParameters("rect",u),this._renderRect.apply(this,u)},f.default.prototype.square=function(a,u,d,h,g,p,y){return f.default._validateParameters("square",arguments),this._renderRect.call(this,a,u,d,d,h,g,p,y)},f.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var a=S.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[a.x,a.y,a.w,a.h],d=4;d<arguments.length;d++)u[d]=arguments[d];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},f.default.prototype.triangle=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return f.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},B.default=o=f.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(w=o("../main"))&&w.__esModule?w:{default:w},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var l=S();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}f.default.prototype.ellipseMode=function(i){return f.default._validateParameters("ellipseMode",arguments),i!==m.CORNER&&i!==m.CORNERS&&i!==m.RADIUS&&i!==m.CENTER||(this._renderer._ellipseMode=i),this},f.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},f.default.prototype.rectMode=function(i){return f.default._validateParameters("rectMode",arguments),i!==m.CORNER&&i!==m.CORNERS&&i!==m.RADIUS&&i!==m.CENTER||(this._renderer._rectMode=i),this},f.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},f.default.prototype.strokeCap=function(i){return f.default._validateParameters("strokeCap",arguments),i!==m.ROUND&&i!==m.SQUARE&&i!==m.PROJECT||this._renderer.strokeCap(i),this},f.default.prototype.strokeJoin=function(i){return f.default._validateParameters("strokeJoin",arguments),i!==m.ROUND&&i!==m.BEVEL&&i!==m.MITER||this._renderer.strokeJoin(i),this},f.default.prototype.strokeWeight=function(i){return f.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var w=f.default;B.default=w},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(_=o("../main"))&&_.__esModule?_:{default:_};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var f,m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return v.default._validateParameters("bezier",S),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,S),this},v.default.prototype.bezierDetail=function(f){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},v.default.prototype.bezierPoint=function(f,m,S,w,i){v.default._validateParameters("bezierPoint",arguments);var l=1-i;return Math.pow(l,3)*f+3*Math.pow(l,2)*i*m+3*l*Math.pow(i,2)*S+Math.pow(i,3)*w},v.default.prototype.bezierTangent=function(f,m,S,w,i){v.default._validateParameters("bezierTangent",arguments);var l=1-i;return 3*w*Math.pow(i,2)-3*S*Math.pow(i,2)+6*S*l*i-6*m*l*i+3*m*Math.pow(l,2)-3*f*Math.pow(l,2)},v.default.prototype.curve=function(){for(var f,m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return v.default._validateParameters("curve",S),this._renderer._doStroke&&(f=this._renderer).curve.apply(f,S),this},v.default.prototype.curveDetail=function(f){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},v.default.prototype.curveTightness=function(f){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},v.default.prototype.curvePoint=function(f,m,S,w,i){v.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,a=i*i*i,u=i*i;return f*((l-1)/2*a+(1-l)*u+(l-1)/2*i)+m*((l+3)/2*a+(-5-l)/2*u+1)+S*((-3-l)/2*a+(l+2)*u+(1-l)/2*i)+w*((1-l)/2*a+(l-1)/2*u)},v.default.prototype.curveTangent=function(f,m,S,w,u){v.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,a=u*u*3;return f*((l-1)/2*a+(1-l)*(u*=2)+(l-1)/2)+m*((l+3)/2*a+(-5-l)/2*u)+S*((-3-l)/2*a+(l+2)*u+(1-l)/2)+w*((1-l)/2*a+(l-1)/2*u)};var _=v.default;B.default=_},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,ie,B){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(y)}function _(y){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(T){return v(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":v(T)})(y)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(p=o("../main"))&&p.__esModule?p:{default:p},m=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==_(y)&&"function"!=typeof y)return{default:y};var T=S();if(T&&T.has(y))return T.get(y);var z,G={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(z in y){var k;Object.prototype.hasOwnProperty.call(y,z)&&((k=N?Object.getOwnPropertyDescriptor(y,z):null)&&(k.get||k.set)?Object.defineProperty(G,z,k):G[z]=y[z])}return G.default=y,T&&T.set(y,G),G}(o("../constants"));function S(){var y;return"function"!=typeof WeakMap?null:(S=function(){return y},y=new WeakMap)}var w=null,i=[],l=[],a=!1,u=!1,d=!1,h=!1,g=!0,p=(f.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],h=!0),this},f.default.prototype.beginShape=function(y){var T;return f.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(w=y===m.POINTS||y===m.LINES||y===m.TRIANGLES||y===m.TRIANGLE_FAN||y===m.TRIANGLE_STRIP||y===m.QUADS||y===m.QUAD_STRIP?y:null,i=[],l=[]),this},f.default.prototype.bezierVertex=function(){for(var y,T=arguments.length,z=new Array(T),G=0;G<T;G++)z[G]=arguments[G];if(f.default._validateParameters("bezierVertex",z),this._renderer.isP3D)(y=this._renderer).bezierVertex.apply(y,z);else if(0===i.length)f.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var N=[],k=0;k<z.length;k++)N[k]=z[k];N.isVert=!1,(h?l:i).push(N)}return this},f.default.prototype.curveVertex=function(){for(var y,T=arguments.length,z=new Array(T),G=0;G<T;G++)z[G]=arguments[G];return f.default._validateParameters("curveVertex",z),this._renderer.isP3D?(y=this._renderer).curveVertex.apply(y,z):(u=!0,this.vertex(z[0],z[1])),this},f.default.prototype.endContour=function(){if(!this._renderer.isP3D){var y=l[0].slice();y.isVert=l[0].isVert,y.moveTo=!1,l.push(y),g&&(i.push(i[0]),g=!1);for(var T=0;T<l.length;T++)i.push(l[T])}return this},f.default.prototype.endShape=function(y){var T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(f.default._validateParameters("endShape",arguments),T<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(y,u,a,d,h,w,T);else{if(1!==T&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(T=y===m.CLOSE)&&!h&&i.push(i[0]),this._renderer.endShape(y,i,u,a,d,h,w),g=!(h=d=a=u=!1),T&&i.pop()}return this},f.default.prototype.quadraticVertex=function(){for(var y,T=arguments.length,z=new Array(T),G=0;G<T;G++)z[G]=arguments[G];if(f.default._validateParameters("quadraticVertex",z),this._renderer.isP3D)(y=this._renderer).quadraticVertex.apply(y,z);else{if(this._contourInited)return(y={}).x=z[0],y.y=z[1],y.x3=z[2],y.y3=z[3],y.type=m.QUADRATIC,this._contourVertices.push(y),this;if(0<i.length){d=!0;for(var N=[],k=0;k<z.length;k++)N[k]=z[k];N.isVert=!1,(h?l:i).push(N)}else f.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},f.default.prototype.vertex=function(y,T,z,G,N){var k;return this._renderer.isP3D?(k=this._renderer).vertex.apply(k,arguments):((k=[]).isVert=!0,k[0]=y,k[1]=T,k[2]=0,k[3]=0,k[4]=0,k[5]=this._renderer._getFill(),k[6]=this._renderer._getStroke(),z&&(k.moveTo=z),(h?(0===l.length&&(k.moveTo=!0),l):i).push(k)),this},f.default.prototype.normal=function(y,T,z){var G;return this._assert3d("normal"),f.default._validateParameters("normal",arguments),(G=this._renderer).normal.apply(G,arguments),this},f.default);B.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,ie,B){},{}],295:[function(o,ie,B){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var _=parseInt(v),f=((isNaN(_)||_<1)&&(_=1),this._isGlobal?window:this);if("function"==typeof f.draw){void 0===f.setup&&f.scale(f._pixelDensity,f._pixelDensity);for(var m=0;m<_;m++){f.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),f._renderer.isP3D&&f._renderer._update(),f._setProperty("frameCount",f.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{f.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},B.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var f=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||f?(f=this._renderer).applyMatrix.apply(f,function _(f){return function(m){if(Array.isArray(m)){for(var S=0,w=new Array(m.length);S<m.length;S++)w[S]=m[S];return w}}(f)||function(m){if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m))return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(f=this._renderer).applyMatrix.apply(f,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(f,m){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(f),m),this},v.default.prototype.rotateX=function(f){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(f)),this},v.default.prototype.rotateY=function(f){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(f)),this},v.default.prototype.rotateZ=function(f){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(f)),this},v.default.prototype.scale=function(f,m,S){var w;return v.default._validateParameters("scale",arguments),f instanceof v.default.Vector?(f=(w=f).x,m=w.y,S=w.z):Array.isArray(f)&&(f=(w=f)[0],m=w[1],S=w[2]||1),isNaN(m)?m=S=f:isNaN(S)&&(S=1),this._renderer.scale(f,m,S),this},v.default.prototype.shearX=function(f){return v.default._validateParameters("shearX",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this},v.default.prototype.shearY=function(f){return v.default._validateParameters("shearY",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this},v.default.prototype.translate=function(f,m,S){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(f,m,S):this._renderer.translate(f,m),this},B.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,ie,B){"use strict";function v(S){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(S)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(S){return function(w){if(Array.isArray(w)){for(var i=0,l=new Array(w.length);i<w.length;i++)l[i]=w[i];return l}}(S)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(S){return(m="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(S)}_.default.prototype.storeItem=function(S,w){"string"!=typeof S&&console.log("The argument that you passed to storeItem() - ".concat(S," is not a string.")),S.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(S," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var i=m(w);switch(i){case"number":case"boolean":w=w.toString();break;case"object":w instanceof _.default.Color?i="p5.Color":w instanceof _.default.Vector&&(i="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(S,w),S="".concat(S,"p5TypeID"),localStorage.setItem(S,i)},_.default.prototype.getItem=function(S){var w=localStorage.getItem(S),i=localStorage.getItem("".concat(S,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(S,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(i){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,f(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,f(w))}return w},_.default.prototype.clearStorage=function(){var S=this;Object.keys(localStorage).forEach(function(w){w.endsWith("p5TypeID")&&S.removeItem(w.replace("p5TypeID",""))})},_.default.prototype.removeItem=function(S){"string"!=typeof S&&console.log("The argument that you passed to removeItem() - ".concat(S," is not a string.")),localStorage.removeItem(S),localStorage.removeItem("".concat(S,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,ie,B){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(o=o("../core/main"))&&o.__esModule?o:{default:o};function m(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),h&&S(d,h)}function S(d,h){return(S=Object.setPrototypeOf||function(g,p){return g.__proto__=p,g})(d,h)}function w(d){return function(){var h,g=i(d);if(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=i(this).constructor,Reflect.construct(g,arguments,h)):g.apply(this,arguments),g=this,!h||"object"!==_(h)&&"function"!=typeof h){if(void 0!==g)return g;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function i(d){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(d)}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function a(d,h){for(var g=0;g<h.length;g++){var p=h[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function u(d,h,g){h&&a(d.prototype,h),g&&a(d,g)}f.default.prototype.createStringDict=function(d,h){return f.default._validateParameters("createStringDict",arguments),new f.default.StringDict(d,h)},f.default.prototype.createNumberDict=function(d,h){return f.default._validateParameters("createNumberDict",arguments),new f.default.NumberDict(d,h)},f.default.TypedDict=function(){function d(h,g){return l(this,d),h instanceof Object?this.data=h:(this.data={},this.data[h]=g),this}return u(d,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(h){return this.data.hasOwnProperty(h)}},{key:"get",value:function(h){if(this.data.hasOwnProperty(h))return this.data[h];console.log("".concat(h," does not exist in this Dictionary"))}},{key:"set",value:function(h,g){this._validate(g)?this.data[h]=g:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(h){for(var g in h)this.set(g,h[g])}},{key:"create",value:function(h,g){h instanceof Object&&void 0===g?this._addObj(h):void 0!==h?this.set(h,g):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(h){if(!this.data.hasOwnProperty(h))throw new Error("".concat(h," does not exist in this Dictionary"));delete this.data[h]}},{key:"print",value:function(){for(var h in this.data)console.log("key:".concat(h," value:").concat(this.data[h]))}},{key:"saveTable",value:function(h){var g,p="";for(g in this.data)p+="".concat(g,",").concat(this.data[g],"\n");var y=new Blob([p],{type:"text/csv"});f.default.prototype.downloadFile(y,h||"mycsv","csv")}},{key:"saveJSON",value:function(h,g){f.default.prototype.saveJSON(this.data,h,g)}},{key:"_validate",value:function(h){return!0}}]),d}(),f.default.StringDict=function(){m(h,f.default.TypedDict);var d=w(h);function h(){l(this,h);for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];return d.call.apply(d,[this].concat(p))}return u(h,[{key:"_validate",value:function(g){return"string"==typeof g}}]),h}(),f.default.NumberDict=function(){m(h,f.default.TypedDict);var d=w(h);function h(){l(this,h);for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];return d.call.apply(d,[this].concat(p))}return u(h,[{key:"_validate",value:function(g){return"number"==typeof g}},{key:"add",value:function(g,p){this.data.hasOwnProperty(g)?this.data[g]+=p:console.log("The key - ".concat(g," does not exist in this dictionary."))}},{key:"sub",value:function(g,p){this.add(g,-p)}},{key:"mult",value:function(g,p){this.data.hasOwnProperty(g)?this.data[g]*=p:console.log("The key - ".concat(g," does not exist in this dictionary."))}},{key:"div",value:function(g,p){this.data.hasOwnProperty(g)?this.data[g]/=p:console.log("The key - ".concat(g," does not exist in this dictionary."))}},{key:"_valueTest",value:function(g){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,y=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*g<y*g&&(y=this.data[p]);return y}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(g){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],y=1;y<Object.keys(this.data).length;y++)Object.keys(this.data)[y]*g<p*g&&(p=Object.keys(this.data)[y]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),h}(),B.default=o=f.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,ie,B){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(p,y){for(var T=0;T<y.length;T++){var z=y[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(p,z.key,z)}}function m(p,y,T){y&&f(p.prototype,y),T&&f(p,T)}function S(p,y){return(S=Object.setPrototypeOf||function(T,z){return T.__proto__=z,T})(p,y)}function i(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function a(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p){return(u="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}function d(p,y,T){return(y._userNode||document.body).appendChild(p),T=new(T?_.default.MediaElement:_.default.Element)(p,y),y._elements.push(T),T}function h(p,k,T,z){var G=document.createElement(k),N=("string"==typeof(T=T||"")&&(T=[T]),!0),X=void(k=!1);try{for(var D,O=T[Symbol.iterator]();!(N=(D=O.next()).done);N=!0){var P=D.value,J=document.createElement("source");J.setAttribute("src",P),G.appendChild(J)}}catch($){k=!0,X=$}finally{try{N||null==O.return||O.return()}finally{if(k)throw X}}"function"==typeof z&&G.addEventListener("canplaythrough",function $(){z(),G.removeEventListener("canplaythrough",$)});var re=d(G,p,!0);return re.loadedmetadata=!1,G.addEventListener("loadedmetadata",function(){re.width=G.videoWidth,re.height=G.videoHeight,0===re.elt.width&&(re.elt.width=G.videoWidth),0===re.elt.height&&(re.elt.height=G.videoHeight),re.presetPlaybackRate&&(re.elt.playbackRate=re.presetPlaybackRate,delete re.presetPlaybackRate),re.loadedmetadata=!0}),re}function g(p,y,T,z){a(this,g),this.callback=p,this.time=y,this.id=T,this.val=z}_.default.prototype.select=function(p,y){return _.default._validateParameters("select",arguments),(y=this._getContainer(y).querySelector(p))?this._wrapElement(y):null},_.default.prototype.selectAll=function(p,y){_.default._validateParameters("selectAll",arguments);var T=[],z=this._getContainer(y).querySelectorAll(p);if(z)for(var G=0;G<z.length;G++){var N=this._wrapElement(z[G]);T.push(N)}return T},_.default.prototype._getContainer=function(p){var y=document;return"string"==typeof p?y=document.querySelector(p)||document:p instanceof _.default.Element?y=p.elt:p instanceof HTMLElement&&(y=p),y},_.default.prototype._wrapElement=function(p){var y,T=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((y=new _.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},y):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new _.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new _.default.Element(p,this)):0<T.length&&T.every(function(z){return"INPUT"===z.tagName||"LABEL"===z.tagName})&&("DIV"===p.tagName||"SPAN"===p.tagName)?this.createRadio(new _.default.Element(p,this)):new _.default.Element(p,this)},_.default.prototype.removeElements=function(p){_.default._validateParameters("removeElements",arguments),this._elements.filter(function(y){return!(y.elt instanceof HTMLCanvasElement)}).map(function(y){return y.remove()})},_.default.Element.prototype.changed=function(p){return _.default.Element._adjustListener("change",p,this),this},_.default.Element.prototype.input=function(p){return _.default.Element._adjustListener("input",p,this),this},_.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("div");return y.innerHTML=p,d(y,this)},_.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("p");return y.innerHTML=p,d(y,this)},_.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("span");return y.innerHTML=p,d(y,this)},_.default.prototype.createImg=function(){_.default._validateParameters("createImg",arguments);var p,y=document.createElement("img"),T=arguments;return 1<T.length&&"string"==typeof T[1]&&(y.alt=T[1]),2<T.length&&"string"==typeof T[2]&&(y.crossOrigin=T[2]),y.src=T[0],p=d(y,this),y.addEventListener("load",function(){p.width=y.offsetWidth||y.width,p.height=y.offsetHeight||y.height;var z=T[T.length-1];"function"==typeof z&&z(p)}),p},_.default.prototype.createA=function(p,y,T){_.default._validateParameters("createA",arguments);var z=document.createElement("a");return z.href=p,z.innerHTML=y,T&&(z.target=T),d(z,this)},_.default.prototype.createSlider=function(p,y,T,z){_.default._validateParameters("createSlider",arguments);var G=document.createElement("input");return G.type="range",G.min=p,G.max=y,0===z?G.step=1e-18:z&&(G.step=z),"number"==typeof T&&(G.value=T),d(G,this)},_.default.prototype.createButton=function(p,y){_.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=p,y&&(T.value=y),d(T,this)},_.default.prototype.createCheckbox=function(){for(var p=arguments.length,y=new Array(p),T=0;T<p;T++)y[T]=arguments[T];_.default._validateParameters("createCheckbox",y);var z=document.createElement("div"),G=document.createElement("input"),N=(G.type="checkbox",document.createElement("label")),k=(N.appendChild(G),z.appendChild(N),d(z,this));return k.checked=function(){var X=k.elt.firstElementChild.getElementsByTagName("input")[0];if(X){if(0===arguments.length)return X.checked;X.checked=!(arguments.length<=0||!arguments[0])}return k},this.value=function(X){return k.value=X,this},y[0]&&(k.value(y[0]),(z=document.createElement("span")).innerHTML=y[0],N.appendChild(z)),y[1]&&(G.checked=!0),k},_.default.prototype.createSelect=function(){for(var p,y=arguments.length,T=new Array(y),z=0;z<y;z++)T[z]=arguments[z];_.default._validateParameters("createSelect",T);var G,N=T[0];return N instanceof _.default.Element&&N.elt instanceof HTMLSelectElement?this.elt=(p=N).elt:N instanceof HTMLSelectElement?(p=d(N,this),this.elt=N):(G=document.createElement("select"),N&&"boolean"==typeof N&&G.setAttribute("multiple","true"),p=d(G,this),this.elt=G),p.option=function(k,X){var D;if(void 0!==k){for(var O,P=0;P<this.elt.length;P+=1)if(this.elt[P].textContent===k){D=P;break}void 0!==D?!1===X?this.elt.remove(D):this.elt[D].value=X:((O=document.createElement("option")).textContent=k,O.value=void 0===X?k:X,this.elt.appendChild(O),this._pInst._elements.push(O))}},p.selected=function(k){if(void 0!==k){for(var X=0;X<this.elt.length;X+=1)this.elt[X].value.toString()===k.toString()&&(this.elt.selectedIndex=X);return this}if(this.elt.getAttribute("multiple")){var D=[],O=!0,P=!1,J=void 0;try{for(var re,$=this.elt.selectedOptions[Symbol.iterator]();!(O=(re=$.next()).done);O=!0)D.push(re.value.value)}catch(V){P=!0,J=V}finally{try{O||null==$.return||$.return()}finally{if(P)throw J}}return D}return this.elt.value},p.disable=function(k){if("string"==typeof k)for(var X=0;X<this.elt.length;X++)this.elt[X].value.toString()===k&&(this.elt[X].disabled=!0,this.elt[X].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(k){if("string"==typeof k)for(var X=0;X<this.elt.length;X++)this.elt[X].value.toString()===k&&(this.elt[X].disabled=!1,this.elt[X].selected=!1);else{this.elt.disabled=!1;for(var D=0;D<this.elt.length;D++)this.elt[D].disabled=!1,this.elt[D].selected=!1}return this},p},_.default.prototype.createRadio=function(){function p(k){return k instanceof HTMLInputElement&&"radio"===k.type}function y(k){return k instanceof HTMLLabelElement}var T,z,G,N=arguments.length<=0?void 0:arguments[0];return N instanceof _.default.Element&&(N.elt instanceof HTMLDivElement||N.elt instanceof HTMLSpanElement)?(T=N,this.elt=N.elt):N instanceof HTMLDivElement||N instanceof HTMLSpanElement?(T=d(N,this),z=this.elt=N,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(G=arguments.length<=1?void 0:arguments[1])):("string"==typeof N&&(G=N),z=document.createElement("div"),T=d(z,this),this.elt=z),T._name=G||"radioOption",T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(k){return p(k)||y(k)&&p(k.firstElementChild)}).map(function(k){return p(k)?k:k.firstElementChild})},T.option=function(k,X){var D,O,P,J=!0,re=!1,$=void 0;try{for(var Q,V=T._getOptionsArray()[Symbol.iterator]();!(J=(Q=V.next()).done);J=!0){var H=Q.value;if(H.value===k){D=H;break}}}catch(Z){re=!0,$=Z}finally{try{J||null==V.return||V.return()}finally{if(re)throw $}}return void 0===D&&((D=document.createElement("input")).setAttribute("type","radio"),D.setAttribute("value",k)),D.setAttribute("name",T._name),y(D.parentElement)?O=D.parentElement:(O=document.createElement("label")).insertAdjacentElement("afterbegin",D),O.lastElementChild instanceof HTMLSpanElement?P=O.lastElementChild:(P=document.createElement("span"),D.insertAdjacentElement("afterend",P)),P.innerHTML=void 0===X?k:X,this.elt.appendChild(O),D},T.remove=function(k){var X=!0,D=!1,O=void 0;try{for(var P,J=T._getOptionsArray()[Symbol.iterator]();!(X=(P=J.next()).done);X=!0){var re=P.value;if(re.value===k)return void(y(re.parentElement)?re.parentElement:re).remove()}}catch($){D=!0,O=$}finally{try{X||null==J.return||J.return()}finally{if(D)throw O}}},T.value=function(){var k="",X=!0,D=!1,O=void 0;try{for(var P,J=T._getOptionsArray()[Symbol.iterator]();!(X=(P=J.next()).done);X=!0){var re=P.value;if(re.checked){k=re.value;break}}}catch($){D=!0,O=$}finally{try{X||null==J.return||J.return()}finally{if(D)throw O}}return k},T.selected=function(k){var X=null;if(void 0===k){var D=!0,O=!1,P=void 0;try{for(var J,re=T._getOptionsArray()[Symbol.iterator]();!(D=(J=re.next()).done);D=!0){var $=J.value;if($.checked){X=$;break}}}catch(le){O=!0,P=le}finally{try{D||null==re.return||re.return()}finally{if(O)throw P}}}else{T._getOptionsArray().forEach(function(q){q.checked=!1,q.removeAttribute("checked")});var Q=!0;O=!1,P=void 0;try{for(var V,H=T._getOptionsArray()[Symbol.iterator]();!(Q=(V=H.next()).done);Q=!0){var Z=V.value;Z.value===k&&(Z.setAttribute("checked",!0),Z.checked=!0,X=Z)}}catch(q){O=!0,P=q}finally{try{Q||null==H.return||H.return()}finally{if(O)throw P}}}return X},T.disable=function(){var k=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],X=!0,D=!1,O=void 0;try{for(var P,J=T._getOptionsArray()[Symbol.iterator]();!(X=(P=J.next()).done);X=!0)P.value.setAttribute("disabled",k)}catch(re){D=!0,O=re}finally{try{X||null==J.return||J.return()}finally{if(D)throw O}}},T},_.default.prototype.createColorPicker=function(p){_.default._validateParameters("createColorPicker",arguments);var y=document.createElement("input");return y.type="color",p?p instanceof _.default.Color?y.value=p.toString("#rrggbb"):(_.default.prototype._colorMode="rgb",_.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},y.value=_.default.prototype.color(p).toString("#rrggbb")):y.value="#000000",(y=d(y,this)).color=function(){return p&&(p.mode&&(_.default.prototype._colorMode=p.mode),p.maxes&&(_.default.prototype._colorMaxes=p.maxes)),_.default.prototype.color(this.elt.value)},y},_.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",T=(_.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",p),T.setAttribute("type",y),d(T,this)},_.default.prototype.createFileInput=function(p){var y,T=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(_.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(y=document.createElement("input")).setAttribute("type","file"),T&&y.setAttribute("multiple",!0),y.addEventListener("change",function(z){var G=!0,N=!1,k=void 0;try{for(var X,D=z.target.files[Symbol.iterator]();!(G=(X=D.next()).done);G=!0)_.default.File._load(X.value,p)}catch(P){N=!0,k=P}finally{try{G||null==D.return||D.return()}finally{if(N)throw k}}},!1),d(y,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},_.default.prototype.createVideo=function(p,y){return _.default._validateParameters("createVideo",arguments),h(this,"video",p,y)},_.default.prototype.createAudio=function(p,y){return _.default._validateParameters("createAudio",arguments),h(this,"audio",p,y)},_.default.prototype.VIDEO="video",_.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var y=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return y?new Promise(function(T,z){y.call(navigator,p,T,z)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),_.default.prototype.createCapture=function(){for(var p=arguments.length,y=new Array(p),T=0;T<p;T++)y[T]=arguments[T];if(_.default._validateParameters("createCapture",y),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var z,G=!0,N=!0,k=!1,X=0,D=y;X<D.length;X++){var O=D[X];O===_.default.prototype.VIDEO?N=!1:O===_.default.prototype.AUDIO?G=!1:"object"===u(O)?(void 0!==O.flipped&&(k=O.flipped,delete O.flipped),P=Object.assign({},P,O)):"function"==typeof O&&(z=O)}var P=Object.assign({},{video:G,audio:N},P),J=document.createElement("video"),re=(J.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(P).then(function($){try{"srcObject"in J?J.srcObject=$:J.src=window.URL.createObjectURL($)}catch{J.src=$}}).catch(function($){"NotFoundError"===$.name&&_.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===$.name&&_.default._friendlyError("Access to the camera was denied","createCapture"),console.error($)}),d(J,this,!0));return re.loadedmetadata=!1,J.addEventListener("loadedmetadata",function(){J.play(),J.width?(re.width=J.width,re.height=J.height,k&&(re.elt.style.transform="scaleX(-1)")):(re.width=re.elt.width=J.videoWidth,re.height=re.elt.height=J.videoHeight),re.loadedmetadata=!0,z&&z(J.srcObject)}),re.flipped=k,re},_.default.prototype.createElement=function(p,y){return _.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==y&&(p.innerHTML=y),d(p,this)},_.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},_.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},_.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},_.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},_.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof _.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},_.default.Element.prototype.center=function(p){var y=this.elt.style.display,T="none"===this.elt.style.display,z="none"===this.parent().style.display,G={x:this.elt.offsetLeft,y:this.elt.offsetTop},N=(T&&this.show(),z&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),k=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(N/2+this.parent().offsetLeft,k/2+this.parent().offsetTop):"horizontal"===p?this.position(N/2+this.parent().offsetLeft,G.y):"vertical"===p&&this.position(G.x,k/2+this.parent().offsetTop),this.style("display",y),T&&this.hide(),z&&this.parent().hide(),this},_.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},_.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},_.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},_.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},_.default.Element.prototype.style=function(p,y){if(void 0===(y=y instanceof _.default.Color?"rgba("+y.levels[0]+","+y.levels[1]+","+y.levels[2]+","+y.levels[3]/255+")":y)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var T=p.split(";"),z=0;z<T.length;z++){var G=T[z].split(":");G[0]&&G[1]&&(this.elt.style[G[0].trim()]=G[1].trim())}}else this.elt.style[p]=y,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(y=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(y,10)));return this},_.default.Element.prototype.attribute=function(p,y){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===y?this.elt.getAttribute(p):(this.elt.setAttribute(p,y),this);if(void 0===y)return this.elt.firstChild.getAttribute(p);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(p,y)},_.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var y=0;y<this.elt.childNodes.length;y++)this.elt.childNodes[y].removeAttribute(p);return this.elt.removeAttribute(p),this},_.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},_.default.Element.prototype.show=function(){return this.elt.style.display="block",this},_.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},_.default.Element.prototype.size=function(p,y){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=p,z=y,G=_.default.prototype.AUTO;if(T!==G||z!==G){if(T===G?T=y*this.width/this.height:z===G&&(z=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var N,k={},X=this.elt.getContext("2d");for(N in X)k[N]=X[N];for(N in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",z*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=z+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),k)this.elt.getContext("2d")[N]=k[N]}else this.elt.style.width=T+"px",this.elt.style.height=z+"px",this.elt.width=T,this.elt.height=z;this.width=T,this.height=z,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",z))}return this},_.default.Element.prototype.remove=function(){this instanceof _.default.MediaElement&&(this.stop(),null!==(y=this.elt.srcObject)&&y.getTracks().forEach(function(T){T.stop()}));var p,y=this._pInst._elements.indexOf(this);for(p in-1!==y&&this._pInst._elements.splice(y,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},_.default.Element.prototype.drop=function(p,y){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(z){z.preventDefault()}),this.elt.addEventListener("dragleave",T)),_.default.Element._attachListener("drop",function(G){G.preventDefault(),"function"==typeof y&&y.call(this,G),G=G.dataTransfer.files;var N=!0,k=!1,X=void 0;try{for(var D,O=G[Symbol.iterator]();!(N=(D=O.next()).done);N=!0)_.default.File._load(D.value,p)}catch(J){k=!0,X=J}finally{try{N||null==O.return||O.return()}finally{if(k)throw X}}},this)):console.log("The File APIs are not fully supported in this browser."),this},_.default.Element.prototype.draggable=function(p){var y,T="ontouchstart"in window,z=0,G=0,N=0,k=0,X=T?"touchend":"mouseup",D=T?"touchmove":"mousemove";function O(J){var re;J=J||window.event,k=T?(re=J.changedTouches,z=N-parseInt(re[0].clientX),G=k-parseInt(re[0].clientY),N=parseInt(re[0].clientX),parseInt(re[0].clientY)):(z=N-parseInt(J.clientX),G=k-parseInt(J.clientY),N=parseInt(J.clientX),parseInt(J.clientY)),p.style.left=p.offsetLeft-z+"px",p.style.top=p.offsetTop-G+"px"}function P(){document.removeEventListener(X,P,!1),document.removeEventListener(D,O,!1)}return void 0===p?y=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,y=this.elt),y.addEventListener(T?"touchstart":"mousedown",function(J){var re;return J=J||window.event,k=T?(re=J.changedTouches,N=parseInt(re[0].clientX),parseInt(re[0].clientY)):(N=parseInt(J.clientX),parseInt(J.clientY)),document.addEventListener(X,P,!1),document.addEventListener(D,O,!1),!1},!1),y.style.cursor="move",this},o=function(p){var y=z;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&S(y,p);var T=function w(p){return function(){var y,T,z=l(p);return y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=l(this).constructor,Reflect.construct(z,arguments,y)):z.apply(this,arguments),z=this,!(T=y)||"object"!==u(T)&&"function"!=typeof T?i(z):T}}(z);function z(G,N){a(this,z);var k=i(N=T.call(this,G,N));return N.elt.crossOrigin="anonymous",N._prevTime=0,N._cueIDCounter=0,N._cues=[],N.pixels=[],N._pixelsState=i(N),N._pixelDensity=1,N._modified=!1,N._frameOnCanvas=-1,Object.defineProperty(k,"src",{get:function(){var X=k.elt.children[0].src,D=k.elt.src===window.location.href?"":k.elt.src;return X===window.location.href?D:X},set:function(X){for(var D=0;D<k.elt.children.length;D++)k.elt.removeChild(k.elt.children[D]);var O=document.createElement("source");O.src=X,G.appendChild(O),k.elt.src=X,k.modified=!0}}),k._onended=function(){},k.elt.onended=function(){k._onended(k)},N}return m(z,[{key:"play",value:function(){var G;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(G=this.elt.play())&&G.catch&&G.catch(function(N){"NotAllowedError"===N.name?console.error(N):console.error("Media play method encountered an unexpected error",N)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var G=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(G)},{passive:!0,once:!0})}},{key:"autoplay",value:function(G){var N=this,k=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",G),G&&!k&&(G=function(){return N._setupAutoplayFailDetection()},4===this.elt.readyState?G():this.elt.addEventListener("canplay",G,{passive:!0,once:!0})),this}},{key:"volume",value:function(G){if(void 0===G)return this.elt.volume;this.elt.volume=G}},{key:"speed",value:function(G){if(void 0===G)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=G:this.presetPlaybackRate=G}},{key:"time",value:function(G){return void 0===G?this.elt.currentTime:(this.elt.currentTime=G,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var G=arguments.length,N=new Array(G),k=0;k<G;k++)N[k]=arguments[k];return _.default.Renderer2D.prototype.loadPixels.apply(this,N)}},{key:"updatePixels",value:function(G,N,k,X){return this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.updatePixels.call(this,G,N,k,X)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var G=arguments.length,N=new Array(G),k=0;k<G;k++)N[k]=arguments[k];return _.default.Renderer2D.prototype.get.apply(this,N)}},{key:"_getPixel",value:function(){this.loadPixels();for(var G=arguments.length,N=new Array(G),k=0;k<G;k++)N[k]=arguments[k];return _.default.Renderer2D.prototype._getPixel.apply(this,N)}},{key:"set",value:function(G,N,k){this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.set.call(this,G,N,k),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var G=arguments.length,N=new Array(G),k=0;k<G;k++)N[k]=arguments[k];_.default.prototype.copy.apply(this,N)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var G=arguments.length,N=new Array(G),k=0;k<G;k++)N[k]=arguments[k];_.default.Image.prototype.mask.apply(this,N)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(G){this._modified=G}},{key:"onended",value:function(G){return this._onended=G,this}},{key:"connect",value:function(G){var N,k;if("function"==typeof _.default.prototype.getAudioContext)N=_.default.prototype.getAudioContext(),k=_.default.soundOut.input;else try{k=(N=G.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=N.createMediaElementSource(this.elt),this.audioSourceNode.connect(k)),this.audioSourceNode.connect(G?G.input?G.input:G:k)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(G,D,k){var X=this._cueIDCounter++;return D=new g(D,G,X,k),this._cues.push(D),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),X}},{key:"removeCue",value:function(G){for(var N=0;N<this._cues.length;N++)this._cues[N].id===G&&(console.log(G),this._cues.splice(N,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var G=this.time(),N=0;N<this._cues.length;N++){var k=this._cues[N].time;this._prevTime<k&&k<=G&&this._cues[N].callback(this._cues[N].val)}this._prevTime=G}}]),z}(_.default.Element),_.default.MediaElement=o,o=function(){function p(y,T){a(this,p),this.file=y,this._pInst=T,T=y.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=y.name,this.size=y.size,this.data=void 0}return m(p,null,[{key:"_createLoader",value:function(y,T){var z=new FileReader;return z.onload=function(G){var N,k=new _.default.File(y);"application/json"===k.file.type?k.data=JSON.parse(G.target.result):"text/xml"===k.file.type?(N=(new DOMParser).parseFromString(G.target.result,"text/xml"),k.data=new _.default.XML(N.documentElement)):k.data=G.target.result,T(k)},z}},{key:"_load",value:function(y,T){var z;/^text\//.test(y.type)||"application/json"===y.type?_.default.File._createLoader(y,T).readAsText(y):/^(video|audio)\//.test(y.type)?((z=new _.default.File(y)).data=URL.createObjectURL(y),T(z)):_.default.File._createLoader(y,T).readAsDataURL(y)}}]),p}(),_.default.File=o,B.default=o=_.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(u,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(u=u("../core/main"))&&u.__esModule?u:{default:u};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var _=v.default.prototype.pRotationZ=0,f=0,m=0,S="clockwise",w="clockwise",i="clockwise",l=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),a=30;v.default.prototype.setMoveThreshold=function(d){v.default._validateParameters("setMoveThreshold",arguments),l=d},v.default.prototype.setShakeThreshold=function(d){v.default._validateParameters("setShakeThreshold",arguments),a=d},v.default.prototype._ondeviceorientation=function(d){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(d.beta)),this._setProperty("rotationY",this._fromDegrees(d.gamma)),this._setProperty("rotationZ",this._fromDegrees(d.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(d){this._updatePAccelerations(),this._setProperty("accelerationX",2*d.acceleration.x),this._setProperty("accelerationY",2*d.acceleration.y),this._setProperty("accelerationZ",2*d.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var d,h,g,p,y,T=this._isGlobal?window:this;"function"==typeof T.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&T.deviceMoved(),"function"==typeof T.deviceTurned&&(h=this._toDegrees(this.rotationX)+180,g=this._toDegrees(this.pRotationX)+180,d=_+180,0<h-g&&h-g<270||h-g<-270?S="clockwise":(h-g<0||270<h-g)&&(S="counter-clockwise"),S!==this.pRotateDirectionX&&(d=h),90<Math.abs(h-d)&&Math.abs(h-d)<270&&(d=h,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=S,_=d-180,g=this._toDegrees(this.rotationY)+180,h=this._toDegrees(this.pRotationY)+180,d=f+180,0<g-h&&g-h<270||g-h<-270?w="clockwise":(g-h<0||270<g-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(d=g),90<Math.abs(g-d)&&Math.abs(g-d)<270&&(d=g,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=w,f=d-180,0<(h=this._toDegrees(this.rotationZ))-(g=this._toDegrees(this.pRotationZ))&&h-g<270||h-g<-270?i="clockwise":(h-g<0||270<h-g)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(m=h),90<Math.abs(h-m)&&Math.abs(h-m)<270&&(m=h,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)),"function"==typeof T.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),y=Math.abs(this.accelerationY-this.pAccelerationY)),a<p+y&&T.deviceShaken())},B.default=u=v.default},{"../core/main":283}],301:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(_){var f;this._downKeys[_.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),this._downKeys[_.which]=!0,this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"!=typeof(f=this._isGlobal?window:this).keyPressed||_.charCode||!1===f.keyPressed(_)&&_.preventDefault())},v.default.prototype._onkeyup=function(_){this._downKeys[_.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),this._setProperty("keyCode",_.which);var f=this._isGlobal?window:this;"function"==typeof f.keyReleased&&!1===f.keyReleased(_)&&_.preventDefault()},v.default.prototype._onkeypress=function(_){var f;_.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"==typeof(f=this._isGlobal?window:this).keyTyped&&!1===f.keyTyped(_)&&_.preventDefault())},v.default.prototype._onblur=function(_){this._downKeys={}},v.default.prototype.keyIsDown=function(_){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[_]||!1},v.default.prototype._areDownKeys=function(){for(var _ in this._downKeys)if(this._downKeys.hasOwnProperty(_)&&!0===this._downKeys[_])return!0;return!1},B.default=o=v.default},{"../core/main":283}],302:[function(o,ie,B){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(w)}function _(w){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(i){return v(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(f=o("../core/main"))&&f.__esModule?f:{default:f},m=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==_(w)&&"function"!=typeof w)return{default:w};var i=S();if(i&&i.has(w))return i.get(w);var l,a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in w){var d;Object.prototype.hasOwnProperty.call(w,l)&&((d=u?Object.getOwnPropertyDescriptor(w,l):null)&&(d.get||d.set)?Object.defineProperty(a,l,d):a[l]=w[l])}return a.default=w,i&&i.set(w,a),a}(o("../core/constants"));function S(){var w;return"function"!=typeof WeakMap?null:(S=function(){return w},w=new WeakMap)}f.default.prototype.movedX=0,f.default.prototype.movedY=0,f.default.prototype._hasMouseInteracted=!1,f.default.prototype.mouseX=0,f.default.prototype.mouseY=0,f.default.prototype.pmouseX=0,f.default.prototype.pmouseY=0,f.default.prototype.winMouseX=0,f.default.prototype.winMouseY=0,f.default.prototype.pwinMouseX=0,f.default.prototype.pwinMouseY=0,f.default.prototype.mouseButton=0,f.default.prototype.mouseIsPressed=!1,f.default.prototype._updateNextMouseCoords=function(w){var i,l,a,u,d;null!==this._curElement&&(!w.touches||0<w.touches.length)&&(l=this.width,a=this.height,(u=w)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),d=(i=this._curElement.elt).getBoundingClientRect(),a={x:(u.clientX-d.left)/(l=i.scrollWidth/l||1),y:(u.clientY-d.top)/(i=i.scrollHeight/a||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},f.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},f.default.prototype._setMouseButton=function(w){this._setProperty("mouseButton",1===w.button?m.CENTER:2===w.button?m.RIGHT:m.LEFT)},f.default.prototype._onmousemove=function(w){var i=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?"function"==typeof i.mouseDragged?!1===i.mouseDragged(w)&&w.preventDefault():"function"==typeof i.touchMoved&&!1===i.touchMoved(w)&&w.preventDefault():"function"==typeof i.mouseMoved&&!1===i.mouseMoved(w)&&w.preventDefault()},f.default.prototype._onmousedown=function(w){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||("function"==typeof i.mousePressed?!1===i.mousePressed(w)&&w.preventDefault():"function"==typeof i.touchStarted&&!1===i.touchStarted(w)&&w.preventDefault(),this.touchstart=!1)},f.default.prototype._onmouseup=function(w){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof i.mouseReleased?!1===i.mouseReleased(w)&&w.preventDefault():"function"==typeof i.touchEnded&&!1===i.touchEnded(w)&&w.preventDefault(),this.touchend=!1)},f.default.prototype._ondragend=f.default.prototype._onmouseup,f.default.prototype._ondragover=f.default.prototype._onmousemove,f.default.prototype._onclick=function(w){var i=this._isGlobal?window:this;"function"==typeof i.mouseClicked&&!1===i.mouseClicked(w)&&w.preventDefault()},f.default.prototype._ondblclick=function(w){var i=this._isGlobal?window:this;"function"==typeof i.doubleClicked&&!1===i.doubleClicked(w)&&w.preventDefault()},f.default.prototype._mouseWheelDeltaY=0,f.default.prototype._pmouseWheelDeltaY=0,f.default.prototype._onwheel=function(w){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),"function"==typeof i.mouseWheel&&(w.delta=w.deltaY,!1===i.mouseWheel(w)&&w.preventDefault())},f.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},f.default.prototype.exitPointerLock=function(){document.exitPointerLock()},B.default=o=f.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var _=[],f=0;f<v.touches.length;f++)_[f]=function(d,u,h,i){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=d.getBoundingClientRect();return u=d.scrollWidth/u||1,d=d.scrollHeight/h||1,{x:((h=i.touches[l]||i.changedTouches[l]).clientX-a.left)/u,y:(h.clientY-a.top)/d,winX:h.clientX,winY:h.clientY,id:h.identifier}}(this._curElement.elt,this.width,this.height,v,f);this._setProperty("touches",_)}},o.default.prototype._ontouchstart=function(v){var _=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof _.touchStarted&&(!1===_.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var _=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof _.touchMoved?!1===_.touchMoved(v)&&v.preventDefault():"function"==typeof _.mouseDragged&&!1===_.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var _=this._isGlobal?window:this;"function"==typeof _.touchEnded&&(!1===_.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},B.default=o=o.default},{"../core/main":283}],304:[function(o,ie,B){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v,_,f,m,S={_toPixels:function(w){var i,l;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(l=(i=w.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,l=new Uint8Array(l),i.readPixels(0,0,w.width,w.height,i.RGBA,i.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(w,i){return w[3+(i*=4)]<<24&4278190080|w[i]<<16&16711680|w[1+i]<<8&65280|255&w[2+i]},_setPixels:function(w,i){for(var l,a=0,u=w.length;a<u;a++)w[0+(l=4*a)]=(16711680&i[a])>>>16,w[1+l]=(65280&i[a])>>>8,w[2+l]=255&i[a],w[3+l]=(4278190080&i[a])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,i){return S._tmpCanvas=document.createElement("canvas"),S._tmpCtx=S._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,i)},apply:function(w,d,l){var a=w.getContext("2d"),u=a.getImageData(0,0,w.width,w.height);(d=d(u,l))instanceof ImageData?a.putImageData(d,0,0,0,0,w.width,w.height):a.putImageData(u,0,0,0,0,w.width,w.height)},threshold:function(w){for(var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=S._toPixels(w),a=Math.floor(255*i),u=0;u<l.length;u+=4)l[u]=l[u+1]=l[u+2]=a<=.2126*l[u]+.7152*l[u+1]+.0722*l[u+2]?255:0},gray:function(w){for(var i=S._toPixels(w),l=0;l<i.length;l+=4)i[l]=i[l+1]=i[l+2]=.2126*i[l]+.7152*i[l+1]+.0722*i[l+2]},opaque:function(w){for(var i=S._toPixels(w),l=0;l<i.length;l+=4)i[l+3]=255;return i},invert:function(w){for(var i=S._toPixels(w),l=0;l<i.length;l+=4)i[l]=255-i[l],i[l+1]=255-i[l+1],i[l+2]=255-i[l+2]},posterize:function(w){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=S._toPixels(w);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=i-1,u=0;u<l.length;u+=4){var h=l[u+1],g=l[u+2];l[u]=255*(l[u]*i>>8)/a,l[u+1]=255*(h*i>>8)/a,l[u+2]=255*(g*i>>8)/a}},dilate:function(w){for(var i,l,a,u,d,h,g,p,y,T=S._toPixels(w),z=0,G=T.length?T.length/4:0,N=new Int32Array(G);z<G;)for(l=(i=z)+w.width;z<l;)u=a=S._getARGB(T,z),(y=z-1)<i&&(y=z),l<=(p=z+1)&&(p=z),(d=z-w.width)<0&&(d=0),G<=(h=z+w.width)&&(h=z),d=S._getARGB(T,d),y=S._getARGB(T,y),h=S._getARGB(T,h),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(g=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(a=y,u=g),u<(g=77*((y=S._getARGB(T,p))>>16&255)+151*(y>>8&255)+28*(255&y))&&(a=y,u=g),u<(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=d,u=p),u<(y=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(a=h,u=y),N[z++]=a;S._setPixels(T,N)},erode:function(w){for(var i,l,a,u,d,h,g,p,y,T=S._toPixels(w),z=0,G=T.length?T.length/4:0,N=new Int32Array(G);z<G;)for(l=(i=z)+w.width;z<l;)u=a=S._getARGB(T,z),(y=z-1)<i&&(y=z),l<=(p=z+1)&&(p=z),(d=z-w.width)<0&&(d=0),G<=(h=z+w.width)&&(h=z),d=S._getARGB(T,d),y=S._getARGB(T,y),h=S._getARGB(T,h),(g=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=y,u=g),(g=77*((y=S._getARGB(T,p))>>16&255)+151*(y>>8&255)+28*(255&y))<u&&(a=y,u=g),(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<u&&(a=d,u=p),(y=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<u&&(a=h,u=y),N[z++]=a;S._setPixels(T,N)},blur:function(w,i){for(var l,a,u,d,h,g,p,y,T,z,G=S._toPixels(w),N=w.width,k=w.height,X=N*k,D=new Int32Array(X),O=0;O<X;O++)D[O]=S._getARGB(G,O);var P,J,re,$,Q,V,H,Z,le=new Int32Array(X),xe=new Int32Array(X),q=new Int32Array(X),j=new Int32Array(X),oe=0,me=3.5*i|0;if(v!==(me=me<1?1:me<248?me:248)){_=1+(v=me)<<1,f=new Int32Array(_),m=new Array(_);for(var Se=0;Se<_;Se++)m[Se]=new Int32Array(256);for(var Le=1,Xe=me-1;Le<me;Le++){f[me+Le]=f[Xe]=V=Xe*Xe,H=m[me+Le],Z=m[Xe--];for(var lt=0;lt<256;lt++)H[lt]=Z[lt]=V*lt}Q=f[me]=me*me,H=m[me];for(var He=0;He<256;He++)H[He]=Q*He}for(J=0;J<k;J++){for(P=0;P<N;P++){if(d=u=a=h=l=0,(g=P-v)<0)z=-g,g=0;else{if(N<=g)break;z=0}for(re=z;re<_&&!(N<=g);re++){var nt=D[g+oe];h+=($=m[re])[(-16777216&nt)>>>24],a+=$[(16711680&nt)>>16],u+=$[(65280&nt)>>8],d+=$[255&nt],l+=f[re],g++}le[p=oe+P]=h/l,xe[p]=a/l,q[p]=u/l,j[p]=d/l}oe+=N}for(T=(y=-v)*N,J=oe=0;J<k;J++){for(P=0;P<N;P++){if(d=u=a=h=l=0,y<0)z=p=-y,g=P;else{if(k<=y)break;z=0,p=y,g=P+T}for(re=z;re<_&&!(k<=p);re++)h+=($=m[re])[le[g]],a+=$[xe[g]],u+=$[q[g]],d+=$[j[g]],l+=f[re],p++,g+=N;D[P+oe]=h/l<<24|a/l<<16|u/l<<8|d/l}oe+=N,T+=N,y++}S._setPixels(G,D)}};B.default=S},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=f(o("../core/main")),_=f(o("omggif"));function f(S){return S&&S.__esModule?S:{default:S}}function m(S){return function(w){if(Array.isArray(w)){for(var i=0,l=new Array(w.length);i<w.length;i++)l[i]=w[i];return l}}(S)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(S,w){return v.default._validateParameters("createImage",arguments),new v.default.Image(S,w)},v.default.prototype.saveCanvas=function(){for(var S,w,i,l,a,u,d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];switch(v.default._validateParameters("saveCanvas",h),h[0]instanceof HTMLCanvasElement?(S=h[0],h.shift()):h[0]instanceof v.default.Element?(S=h[0].elt,h.shift()):h[0]instanceof v.default.Framebuffer?((a=this.createGraphics((l=h[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),a.loadPixels(),a.pixels.set(l.pixels),a.updatePixels(),S=a.elt,h.shift()):S=this._curElement&&this._curElement.elt,1<=h.length&&(w=h[0]),i=(i=2<=h.length?h[1]:i)||v.default.prototype._checkFileExtension(w,i)[1]||"png"){default:u="image/png";break;case"webp":u="image/webp";break;case"jpeg":case"jpg":u="image/jpeg"}S.toBlob(function(p){v.default.prototype.downloadFile(p,w,i),a&&a.remove()},u)},v.default.prototype.encodeAndDownloadGif=function(S,w){for(var i=S.gifProperties,a=(1===(l=i.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(S.width*S.height*i.numFrames)),u=[],d={},h=0;h<i.numFrames;h++){for(var g=new Set,p=i.frames[h].image.data,y=p.length,T=new Uint32Array(S.width*S.height),z=0,G=0;z<y;z+=4,G++){var N=p[z+0]<<16|p[z+1]<<8|p[z+2];g.add(N),T[G]=N}var k=m(g).sort().toString();void 0===d[k]?d[k]={freq:1,frames:[h]}:(d[k].freq+=1,d[k].frames.push(h)),u.push(T)}for(var O=[],X=Object.keys(d).sort(function(q,j){return d[j].freq-d[q].freq}),D=X[0].split(",").map(function(q){return parseInt(q)}),P=(O=O.concat(d[D].frames),new Set(D)),J=1;J<X.length;J++){var re=X[J].split(",").map(function(q){return parseInt(q)}).filter(function(q){return!P.has(q)});if(D.length+re.length<=256){for(var $=0;$<re.length;$++)D.push(re[$]),P.add(re[$]);O=O.concat(d[X[J]].frames)}}O=new Set(O);for(var Q={},V=0;V<D.length;V++)Q[D[V]]||(Q[D[V]]=V);for(var H=1;H<D.length;)H<<=1;D.length=H;for(var l={loop:l,palette:new Uint32Array(D)},Z=new _.default.GifWriter(a,S.width,S.height,l),le={},xe=0;xe<i.numFrames;xe++)!function(j){var oe=!O.has(j),me=oe?[]:D,Se=new Uint8Array(S.width*S.height),Le={},Xe=new Set,lt=(u[j].forEach(function(st,Ye){oe?(void 0===Le[st]&&(Le[st]=me.length,me.push(st)),Se[Ye]=Le[st]):Se[Ye]=Q[st],0<j&&u[j-1][Ye]!==st&&Xe.add(st)}),{});if(0<(He=me.filter(function(st){return!Xe.has(st)})).length){var He,nt=(oe?Le:Q)[He=He[0]];if(0<j){for(var at=0;at<u[j].length;at++)u[j-1][at]===u[j][at]&&(Se[at]=nt);lt.transparent=nt,le.frameOpts.disposal=1}}if(lt.delay=i.frames[j].delay/10,oe){for(var Be=1;Be<me.length;)Be<<=1;me.length=Be,lt.palette=new Uint32Array(me)}0<j&&Z.addFrame(0,0,S.width,S.height,le.pixelPaletteIndex,le.frameOpts),le={pixelPaletteIndex:Se,frameOpts:lt}}(xe);le.frameOpts.disposal=1,Z.addFrame(0,0,S.width,S.height,le.pixelPaletteIndex,le.frameOpts),l=new Blob([a.slice(0,Z.end())],{type:"image/gif"}),v.default.prototype.downloadFile(l,w,"gif")},v.default.prototype.saveFrames=function(S,w,i,u,a){v.default._validateParameters("saveFrames",arguments),i=v.default.prototype.constrain(i=i||3,0,15),i*=1e3,u=v.default.prototype.constrain(u||15,0,22);var d=0,h=v.default.prototype._makeFrame,g=this._curElement.elt,p=[],y=setInterval(function(){p.push(h(S+d,w,g)),d++},1e3/u);setTimeout(function(){if(clearInterval(y),a)a(p);else for(var T=0,z=p;T<z.length;T++){var G=z[T];v.default.prototype.downloadFile(G.imageData,G.filename,G.ext)}p=[]},.01+i)},v.default.prototype._makeFrame=function(S,w,a){var l;if(a=this?this._curElement.elt:a,w)switch(w.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else w="png",l="image/png";a=(a=a.toDataURL(l)).replace(l,"image/octet-stream");var u={};return u.imageData=a,u.filename=S,u.ext=w,u},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,ie,B){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function _(g){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,o("regenerator-runtime/runtime");var f=a(o("../core/main")),m=a(o("../core/helpers")),S=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==_(g)&&"function"!=typeof g)return{default:g};var p=l();if(p&&p.has(g))return p.get(g);var y,T={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var G;Object.prototype.hasOwnProperty.call(g,y)&&((G=z?Object.getOwnPropertyDescriptor(g,y):null)&&(G.get||G.set)?Object.defineProperty(T,y,G):T[y]=g[y])}return T.default=g,p&&p.set(g,T),T}(o("../core/constants")),w=a(o("omggif")),i=o("gifenc");function l(){var g;return"function"!=typeof WeakMap?null:(l=function(){return g},g=new WeakMap)}function a(g){return g&&g.__esModule?g:{default:g}}function u(g,p,y,T,z,G,N){try{var k=g[G](N),X=k.value}catch(D){return void y(D)}k.done?p(X):Promise.resolve(X).then(T,z)}function h(g,p){return 0<g&&g<p?g:p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.loadImage=function(g,p,y){f.default._validateParameters("loadImage",arguments);var T=new f.default.Image(1,1,this),z=this,G=new Request(g,{method:"GET",mode:"cors"});return fetch(g,G).then(function(N){var k,X=N.headers.get("content-type");null===X&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),X&&X.includes("image/gif")?N.arrayBuffer().then(function(D){if(D){D=new Uint8Array(D);for(var O=T,P=p,J=y,re=function(oe){z._decrementPreload()}.bind(z),$=new w.default.GifReader(D),Q=(O.width=O.canvas.width=$.width,O.height=O.canvas.height=$.height,[]),V=$.numFrames(),H=new Uint8ClampedArray(O.width*O.height*4),Z=0;Z<V;Z++){var le=$.frameInfo(Z),xe=O.drawingContext.getImageData(0,0,O.width,O.height),q=(H=xe.data.slice(),function(oe,me){try{me.decodeAndBlitFrameRGBA(oe,H)}catch(Se){f.default._friendlyFileLoadError(8,O.src),"function"==typeof J?J(Se):console.error(Se)}}(Z,$),new ImageData(H,O.width,O.height));0===(O.drawingContext.putImageData(q,0,0),q=le.delay)&&(q=10),Q.push({image:O.drawingContext.getImageData(0,0,O.width,O.height),delay:10*q}),2===le.disposal?O.drawingContext.clearRect(le.x,le.y,le.width,le.height):3===le.disposal&&O.drawingContext.putImageData(xe,0,0,le.x,le.y,le.width,le.height)}null===(D=$.loopCount())?D=1:0===D&&(D=null),O.drawingContext.putImageData(Q[0].image,0,0),1<Q.length&&(O.gifProperties={displayIndex:0,loopLimit:D,loopCount:0,frames:Q,numFrames:V,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof P&&P(O),re()}},function(D){"function"==typeof y?(y(D),z._decrementPreload()):console.error(D)}):((k=new Image).onload=function(){T.width=T.canvas.width=k.width,T.height=T.canvas.height=k.height,T.drawingContext.drawImage(k,0,0),T.modified=!0,"function"==typeof p&&p(T),z._decrementPreload()},k.onerror=function(D){f.default._friendlyFileLoadError(0,k.src),"function"==typeof y?(y(D),z._decrementPreload()):console.error(D)},0!==g.indexOf("data:image/")&&(k.crossOrigin="Anonymous"),k.src=g),T.modified=!0}).catch(function(N){f.default._friendlyFileLoadError(0,g),"function"==typeof y?(y(N),z._decrementPreload()):console.error(N)}),T},f.default.prototype.saveGif=function(){g=I.mark(function y(T,z){var G,N,k,X,D,O,P,J,re,$,Q,V,H,Z,le,xe,q,j,oe,me,Se,Le,Xe,lt,He,nt,at=arguments;return I.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(G=2<at.length&&void 0!==at[2]?at[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof T)throw TypeError("fileName parameter must be a string");Be.next=3;break;case 3:if("number"!=typeof z)throw TypeError("Duration parameter must be a number");Be.next=5;break;case 5:if(k=G&&G.units||"seconds",X=G&&G.silent||!1,D=G&&G.notificationDuration||0,O=G&&G.notificationID||"progressBar","number"!=typeof(N=G&&G.delay||0))throw TypeError("Delay parameter must be a number");Be.next=12;break;case 12:if("seconds"!==k&&"frames"!==k)throw TypeError('Units parameter must be either "frames" or "seconds"');Be.next=14;break;case 14:if("boolean"!=typeof X)throw TypeError("Silent parameter must be a boolean");Be.next=16;break;case 16:if("number"!=typeof D)throw TypeError("Notification duration parameter must be a number");Be.next=18;break;case 18:if("string"!=typeof O)throw TypeError("Notification ID parameter must be a string");Be.next=20;break;case 20:return this._recording=!0,P=(P=1/($=($=this._targetFrameRate)!==1/0&&void 0!==$&&0!==$?$:60)*1e3)<20?20:P,re=(J="seconds"===k?z*$:z)+($="seconds"===k?N*$:N),this.frameCount=$,Q=this._pixelDensity,this.pixelDensity(1),V=[],null!==document.getElementById(O)&&document.getElementById(O).remove(),X||((H=this.createP("")).id(O),H.style("font-size","16px"),H.style("font-family","Montserrat"),H.style("background-color","#ffffffa0"),H.style("padding","8px"),H.style("border-radius","10px"),H.position(0,0)),this._renderer instanceof f.default.RendererGL&&(le=this.drawingContext,Z=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4)),this.noLoop(),Be.next=39,Promise.resolve();case 39:if($<re)return this.redraw(),lt=void 0,lt=this._renderer instanceof f.default.RendererGL?(Z=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4),le.readPixels(0,0,le.drawingBufferWidth,le.drawingBufferHeight,le.RGBA,le.UNSIGNED_BYTE,Z),function(st,Ye,it){for(var Ze=parseInt(it/2),pt=4*Ye,kt=new Uint8Array(4*Ye),ir=0;ir<Ze;++ir){var zt=ir*pt,hr=(it-ir-1)*pt;kt.set(st.subarray(zt,zt+pt)),st.copyWithin(zt,hr,hr+pt),st.set(kt,hr)}return st}(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,V.push(lt),$++,X||H.html("Saved frame <b>"+V.length.toString()+"</b> out of "+J.toString()),Be.next=48,new Promise(function(st){return setTimeout(st,0)});Be.next=50;break;case 48:Be.next=39;break;case 50:X||H.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(Q),xe=(0,i.GIFEncoder)(),q=function(st){for(var Ye=new Uint8Array(st.length*st[0].length),it=0;it<st.length;it++)Ye.set(st[it],it*st[0].length);var Ze=(0,i.quantize)(Ye,256,{format:"rgba4444",oneBitAlpha:!0});return 256===Ze.length?Ze[Ze.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ze.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ze}(V),j={},oe=function(st){for(var Ye=st.length/4,it=new Uint8Array(Ye),Ze=0;Ze<Ye;Ze++){var pt=st[4*Ze]<<24|st[4*Ze+1]<<16|st[4*Ze+2]<<8|st[4*Ze+3];void 0===j[pt]&&(j[pt]=(0,i.nearestColorIndex)(q,st.slice(4*Ze,4*(Ze+1)))),it[Ze]=j[pt]}return it},me=q.length-1,Se=[],Le=0;case 60:if(!(Le<V.length)){Be.next=71;break}if(Xe=oe(V[Le]),lt=Xe.slice(),0===Le)xe.writeFrame(Xe,this.width,this.height,{palette:q,delay:P,dispose:1});else{for(He=0;He<Xe.length;He++)Xe[He]===Se[He]&&(Xe[He]=me);xe.writeFrame(Xe,this.width,this.height,{delay:P,transparent:!0,transparentIndex:me,dispose:1})}return Se=lt,X||H.html("Rendered frame <b>"+Le.toString()+"</b> out of "+J.toString()),Be.next=68,new Promise(function(st){return setTimeout(st,0)});case 68:Le++,Be.next=60;break;case 71:xe.finish(),nt=xe.bytesView(),nt=new Blob([nt],{type:"image/gif"}),V=[],this._recording=!1,this.loop(),X||(H.html("Done. Downloading your gif!\u{1f338}"),0<D&&setTimeout(function(){return H.remove()},1e3*D)),f.default.prototype.downloadFile(nt,T,"gif");case 80:case"end":return Be.stop()}},y,this)});var g,p=function(){var y=this,T=arguments;return new Promise(function(z,G){var N=g.apply(y,T);function k(D){u(N,z,G,k,X,"next",D)}function X(D){u(N,z,G,k,X,"throw",D)}k(void 0)})};return function(y,T){return p.apply(this,arguments)}}(),f.default.prototype.image=function(g,p,y,T,$,Q,V,H,le,D,O,P){f.default._validateParameters("image",arguments);var Z=g.width,J=g.height,re=(P=P||S.CENTER,O=O||S.CENTER,g.elt&&(Z=void 0!==Z?Z:g.elt.width,J=void 0!==J?J:g.elt.height),g.elt&&g.elt.videoWidth&&!g.canvas&&(Z=void 0!==Z?Z:g.elt.videoWidth,J=void 0!==J?J:g.elt.videoHeight),T||Z);$=$||J,Q=Q||0,V=V||0,H=h(void 0!==H?H:Z,Z),Z=h(void 0!==le?le:J,J),le=1,g.elt&&!g.canvas&&g.elt.style.width&&(le=g.elt.videoWidth&&!T?g.elt.videoWidth:g.elt.width,le/=parseInt(g.elt.style.width,10)),Q*=le,V*=le,Z*=le,H*=le,J=function d(g,p,y,T,z,G,N,k,X,D,O){var P,J,re,$,Q,V,H,Z,le;return g===S.COVER&&(P=p,re=y,H=G,Z=N,V=k,le=X,J=D,$=O,H/=Q=Math.max(H/J,Z/$),Z/=Q,Q=V,V=le,P===S.CENTER?Q+=(J-H)/2:P===S.RIGHT&&(Q+=J-H),re===S.CENTER?V+=($-Z)/2:re===S.BOTTOM&&(V+=$-Z),k=(le={x:Q,y:V,w:H,h:Z}).x,X=le.y,D=le.w,O=le.h),g===S.CONTAIN&&(P=p,J=y,re=T,$=z,Q=G,V=N,H=D,Z=O,H/=le=Math.max(H/Q,Z/V),Z/=le,le=re,re=$,P===S.CENTER?le+=(Q-H)/2:P===S.RIGHT&&(le+=Q-H),J===S.CENTER?re+=(V-Z)/2:J===S.BOTTOM&&(re+=V-Z),T=(g={x:le,y:re,w:H,h:Z}).x,z=g.y,G=g.w,N=g.h),{sx:k,sy:X,sw:D,sh:O,dx:T,dy:z,dw:G,dh:N}}(D,O,P,(J=m.default.modeAdjust(p,y,re,$,this._renderer._imageMode)).x,J.y,J.w,J.h,Q,V,H,Z),this._renderer.image(g,J.sx,J.sy,J.sw,J.sh,J.dx,J.dy,J.dw,J.dh)},f.default.prototype.tint=function(){for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];f.default._validateParameters("tint",p);var T=this.color.apply(this,p);this._renderer._tint=T.levels},f.default.prototype.noTint=function(){this._renderer._tint=null},f.default.prototype._getTintedImageCanvas=f.default.Renderer2D.prototype._getTintedImageCanvas,f.default.prototype.imageMode=function(g){f.default._validateParameters("imageMode",arguments),g!==S.CORNER&&g!==S.CORNERS&&g!==S.CENTER||(this._renderer._imageMode=g)},B.default=o=f.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=f(o("../core/main")),_=f(o("./filters"));function f(S){return S&&S.__esModule?S:{default:S}}function m(S,w){for(var i=0;i<w.length;i++){var l=w[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}v.default.Image=function(){function S(a,u){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,i;return w=S,(i=[{key:"pixelDensity",value:function(a){return void 0!==a?(a<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(h){var u,d=this.gifProperties;h=h._lastRealFrameTime||window.performance.now(),0===d.lastChangeTime&&(d.lastChangeTime=h),d.playing&&(d.timeDisplayed=h-d.lastChangeTime,d.timeDisplayed>=(u=d.frames[d.displayIndex].delay)&&(u=Math.floor(d.timeDisplayed/u),d.timeDisplayed=0,d.lastChangeTime=h,d.displayIndex+=u,d.loopCount=Math.floor(d.displayIndex/d.numFrames),null!==d.loopLimit&&d.loopCount>=d.loopLimit?d.playing=!1:(this.drawingContext.putImageData(d.frames[h=d.displayIndex%d.numFrames].image,0,0),d.displayIndex=h,this.setModified(!0))))}},{key:"_setProperty",value:function(a,u){this[a]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,u,d,h){v.default.Renderer2D.prototype.updatePixels.call(this,a,u,d,h),this.setModified(!0)}},{key:"get",value:function(a,u,d,h){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return v.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(a,u,d){v.default.Renderer2D.prototype.set.call(this,a,u,d),this.setModified(!0)}},{key:"resize",value:function(a,u){0===a&&0===u?(a=this.canvas.width,u=this.canvas.height):0===a?a=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*a/this.canvas.width),a=Math.floor(a),u=Math.floor(u);var d=document.createElement("canvas");if(d.width=a,d.height=u,this.gifProperties)for(var h=this.gifProperties,g=0;g<h.numFrames;g++){for(var p=this.drawingContext.createImageData(a,u),y=(k=k=N=G=z=void 0,h.frames[g].image),T=p,z=0,G=0;G<T.height;G++)for(var N=0;N<T.width;N++){var k=Math.floor(N*y.width/T.width);k=4*(Math.floor(G*y.height/T.height)*y.width+k),T.data[z++]=y.data[k++],T.data[z++]=y.data[k++],T.data[z++]=y.data[k++],T.data[z++]=y.data[+k]}h.frames[g].image=p}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height),this.canvas.width=this.width=a,this.canvas.height=this.height=u,this.drawingContext.drawImage(d,0,0,a,u,0,0,a,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];v.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(a){var u=this.drawingContext.globalCompositeOperation,d=this._pixelDensity,h=1,g=[a=void 0===a?this:a,0,0,(h=a instanceof v.default.Renderer?a._pInst._pixelDensity:h)*a.width,h*a.height,0,0,d*this.width,d*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var p=0;p<this.gifProperties.frames.length;p++)this.drawingContext.putImageData(this.gifProperties.frames[p].image,0,0),this.copy.apply(this,g),this.gifProperties.frames[p].image=this.drawingContext.getImageData(0,0,d*this.width,d*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,g);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(a,u){_.default.apply(this.canvas,_.default[a],u),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,u){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,a):v.default.prototype.saveCanvas(this.canvas,a,u)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var u;this.gifProperties&&(a<(u=this.gifProperties).numFrames&&0<=a?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=a,this.drawingContext.putImageData(u.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,u){if(this.gifProperties){var d=this.gifProperties;if(u<d.numFrames&&0<=u)d.frames[u].delay=a;else{var h=!0,g=void(u=!1);try{for(var p,y=d.frames[Symbol.iterator]();!(h=(p=y.next()).done);h=!0)p.value.delay=a}catch(z){u=!0,g=z}finally{try{h||null==y.return||y.return()}finally{if(u)throw g}}}}}}])&&m(w.prototype,i),S}(),B.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,ie,B){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=f(o("../core/main")),_=f(o("./filters"));function f(m){return m&&m.__esModule?m:{default:m}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var m,S=arguments.length,w=new Array(S),i=0;i<S;i++)w[i]=arguments[i];v.default._validateParameters("blend",w),this._renderer?(m=this._renderer).blend.apply(m,w):v.default.Renderer2D.prototype.blend.apply(this,w)},v.default.prototype.copy=function(){for(var m,S,w,i,l,a,u,d,h,g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];if(v.default._validateParameters("copy",p),9===p.length)m=p[0],S=p[1],w=p[2],i=p[3],l=p[4],a=p[5],u=p[6],d=p[7],h=p[8];else{if(8!==p.length)throw new Error("Signature not supported");m=this,S=p[0],w=p[1],i=p[2],l=p[3],a=p[4],u=p[5],d=p[6],h=p[7]}v.default.prototype._copyHelper(this,m,S,w,i,l,a,u,d,h)},v.default.prototype._copyHelper=function(m,S,w,i,l,a,u,d,h,g){var p=S.canvas.width/S.width,y=0,T=0;S._renderer&&S._renderer.isP3D&&(y=S.width/2,T=S.height/2),m._renderer&&m._renderer.isP3D?(m.push(),m.resetMatrix(),m.noLights(),m.blendMode(m.BLEND),m.imageMode(m.CORNER),v.default.RendererGL.prototype.image.call(m._renderer,S,w+y,i+T,l,a,u,d,h,g),m.pop()):m.drawingContext.drawImage(S.canvas,p*(w+y),p*(i+T),p*l,p*a,u,d,h,g)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];v.default._validateParameters("filter",S);var u=function(){var d,h={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?h.shader=arguments.length<=0?void 0:arguments[0]:(h.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(h.value=arguments.length<=1?void 0:arguments[1]),!1===((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])&&(h.useWebGL=!1)),h}.apply(void 0,S),i=u.shader,l=u.operation,a=u.value;u=u.useWebGL,this._renderer.isP3D&&i?v.default.RendererGL.prototype.filter.call(this._renderer,i):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,l,a):((i=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),i.filter.apply(i,S),this.copy(i._renderer,0,0,this.width,this.height,0,0,this.width,this.height),i.clear())):_.default.apply(void 0!==this.canvas?this.canvas:this.elt,_.default[l],a)},v.default.prototype.get=function(m,S,w,i){var l;return v.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},v.default.prototype.loadPixels=function(){for(var m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];v.default._validateParameters("loadPixels",S),this._renderer.loadPixels()},v.default.prototype.set=function(m,S,w){this._renderer.set(m,S,w)},v.default.prototype.updatePixels=function(m,S,w,i){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(m,S,w,i)},B.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,ie,B){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=S(o("../core/main")),f=(o("whatwg-fetch"),o("es6-promise/auto"),S(o("fetch-jsonp"))),m=S(o("file-saver"));function S(a){return a&&a.__esModule?a:{default:a}}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}function i(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(a,u){u&&!0!==u&&"true"!==u||(u="");var d="";return(a=a||"untitled")&&a.includes(".")&&(d=a.split(".").pop()),u&&d!==u&&(d=u,a="".concat(a,".").concat(d)),[a,d]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),_.default.prototype.loadJSON=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];_.default._validateParameters("loadJSON",u);for(var h,g,p,y=u[0],T={},z="json",G=1;G<u.length;G++){var N=u[G];"string"==typeof N?"jsonp"!==N&&"json"!==N||(z=N):"function"==typeof N?h?g=N:h=N:"object"===w(N)&&(N.hasOwnProperty("jsonpCallback")||N.hasOwnProperty("jsonpCallbackFunction"))&&(z="jsonp",p=N)}var k=this;return this.httpDo(y,"GET",p,z,function(X){for(var D in X)T[D]=X[D];void 0!==h&&h(X),k._decrementPreload()},function(X){if(_.default._friendlyFileLoadError(5,y),!g)throw X;g(X)}),T},_.default.prototype.loadStrings=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];_.default._validateParameters("loadStrings",u);for(var h,g,p=[],y=1;y<u.length;y++){var T=u[y];"function"==typeof T&&(void 0===h?h=T:void 0===g&&(g=T))}var z=this;return _.default.prototype.httpDo.call(this,u[0],"GET","text",function(G){for(var N=G.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),k=0,X=N.length;k<X;k+=32768)Array.prototype.push.apply(p,N.slice(k,Math.min(k+32768,X)));void 0!==h&&h(p),z._decrementPreload()},function(G){if(_.default._friendlyFileLoadError(3,G),!g)throw G;g(G)}),p},_.default.prototype.loadTable=function(a){var u,d,h,g=[],p=!1,y=a.substring(a.lastIndexOf(".")+1,a.length);"csv"===y?h=",":"ssv"===y?h=";":"tsv"===y&&(h="\t");for(var T=1;T<arguments.length;T++)"function"==typeof arguments[T]?void 0===u?u=arguments[T]:void 0===d&&(d=arguments[T]):"string"==typeof arguments[T]&&(g.push(arguments[T]),"header"===arguments[T]&&(p=!0),"csv"===arguments[T]?h=",":"ssv"===arguments[T]?h=";":"tsv"===arguments[T]&&(h="\t"));var z=new _.default.Table,G=this;return this.httpDo(a,"GET","table",function(N){for(var k,X,D={},P=[],J=0,re=null,$=function(){D.currentState=0,D.token=""},Q=function(){re.push(D.token),$()},V=function(){D.currentState=4,P.push(re),re=null};;){if(null==(k=N[J++])){if(D.escaped)throw new Error("Unclosed quote in file.");if(re){Q(),V();break}}if(null===re&&(D.escaped=!1,re=[],$()),0===D.currentState){if('"'===k){D.escaped=!0,D.currentState=1;continue}D.currentState=1}if(1===D.currentState&&D.escaped)if('"'===k)'"'===N[J]?(D.token+='"',J++):(D.escaped=!1,D.currentState=2);else{if("\r"===k)continue;D.token+=k}else"\r"===k?("\n"===N[J]&&J++,Q(),V()):"\n"===k?(Q(),V()):k===h?Q():1===D.currentState&&(D.token+=k)}if(p)z.columns=P.shift();else for(var H=0;H<P[0].length;H++)z.columns[H]="null";for(var Z=0;Z<P.length;Z++)(1!==P[Z].length||"undefined"!==P[Z][0]&&""!==P[Z][0])&&((X=new _.default.TableRow).arr=P[Z],X.obj=function(le,xe){if(void 0===(xe=xe||[]))for(var q=0;q<le.length;q++)xe[q.toString()]=q;return Object.fromEntries(xe.map(function(j,oe){return[j,le[oe]]}))}(P[Z],z.columns),z.addRow(X));"function"==typeof u&&u(z),G._decrementPreload()},function(N){_.default._friendlyFileLoadError(2,a),d?d(N):console.error(N)}),z},_.default.prototype.loadXML=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];for(var h,g,p=new _.default.XML,y=1;y<u.length;y++){var T=u[y];"function"==typeof T&&(void 0===h?h=T:void 0===g&&(g=T))}var z=this;return this.httpDo(u[0],"GET","xml",function(G){for(var N in G)p[N]=G[N];void 0!==h&&h(p),z._decrementPreload()},function(G){if(_.default._friendlyFileLoadError(1,G),!g)throw G;g(G)}),p},_.default.prototype.loadBytes=function(a,u,d){var h={},g=this;return this.httpDo(a,"GET","arrayBuffer",function(p){h.bytes=new Uint8Array(p),"function"==typeof u&&u(h),g._decrementPreload()},function(p){if(_.default._friendlyFileLoadError(6,a),!d)throw p;d(p)}),h},_.default.prototype.httpGet=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return _.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpPost=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return _.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpDo=function(){for(var a,u,d,h={},g=0,p="text/plain",y=arguments.length-1;0<y&&"function"==typeof(y<0||arguments.length<=y?void 0:arguments[y]);y--)g++;var z=arguments.length<=0?void 0:arguments[0];if(2==(T=arguments.length-g)&&"string"==typeof z&&"object"===w(arguments.length<=1?void 0:arguments[1]))O=new Request(z,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3];else{for(var G,N="GET",k=1;k<arguments.length;k++){var X=k<0||arguments.length<=k?void 0:arguments[k];if("string"==typeof X)"GET"===X||"POST"===X||"PUT"===X||"DELETE"===X?N=X:"json"===X||"jsonp"===X||"binary"===X||"arrayBuffer"===X||"xml"===X||"text"===X||"table"===X?a=X:G=X;else if("number"==typeof X)G=X.toString();else if("object"===w(X))if(X.hasOwnProperty("jsonpCallback")||X.hasOwnProperty("jsonpCallbackFunction"))for(var D in X)h[D]=X[D];else p=X instanceof _.default.XML?(G=X.serialize(),"application/xml"):(G=JSON.stringify(X),"application/json");else"function"==typeof X&&(u?d=X:u=X)}var T="GET"===N?new Headers:new Headers({"Content-Type":p}),O=new Request(z,{method:N,mode:"cors",body:G,headers:T})}return(T=(T="jsonp"===(a=a||(z.includes("json")?"json":z.includes("xml")?"xml":"text"))?(0,f.default)(z,h):fetch(O)).then(function(P){if(!P.ok)throw(J=new Error(P.body)).status=P.status,J.ok=!1,J;var J=0;switch((J="jsonp"!==a?P.headers.get("content-length"):J)&&64e6<J&&_.default._friendlyFileLoadError(7,z),a){case"json":case"jsonp":return P.json();case"binary":return P.blob();case"arrayBuffer":return P.arrayBuffer();case"xml":return P.text().then(function(re){return re=(new DOMParser).parseFromString(re,"text/xml"),new _.default.XML(re.documentElement)});default:return P.text()}})).then(u||function(){}),T.catch(d||console.error),T},window.URL=window.URL||window.webkitURL,_.default.prototype._pWriters=[],_.default.prototype.createWriter=function(a,u){var d,h;for(h in _.default.prototype._pWriters)if(_.default.prototype._pWriters[h].name===a)return d=new _.default.PrintWriter(a+this.millis(),u),_.default.prototype._pWriters.push(d),d;return d=new _.default.PrintWriter(a,u),_.default.prototype._pWriters.push(d),d},_.default.PrintWriter=function(a,u){var d=this;this.name=a,this.content="",this.write=function(h){this.content+=h},this.print=function(h){this.content+="".concat(h,"\n")},this.clear=function(){this.content=""},this.close=function(){var h,g=[];for(h in g.push(this.content),_.default.prototype.writeFile(g,a,u),_.default.prototype._pWriters)_.default.prototype._pWriters[h].name===this.name&&_.default.prototype._pWriters.splice(h,1);d.clear(),d={}}},_.default.prototype.save=function(a,u,d){var h=arguments,g=(this._curElement||this).elt;if(0===h.length)_.default.prototype.saveCanvas(g);else if(h[0]instanceof _.default.Renderer||h[0]instanceof _.default.Graphics)_.default.prototype.saveCanvas(h[0].elt,h[1],h[2]);else if(1===h.length&&"string"==typeof h[0])_.default.prototype.saveCanvas(g,h[0]);else switch(l(h[1],h[2])[1]){case"json":return void _.default.prototype.saveJSON(h[0],h[1],h[2]);case"txt":return void _.default.prototype.saveStrings(h[0],h[1],h[2]);default:h[0]instanceof Array?_.default.prototype.saveStrings(h[0],h[1],h[2]):h[0]instanceof _.default.Table?_.default.prototype.saveTable(h[0],h[1],h[2]):h[0]instanceof _.default.Image?_.default.prototype.saveCanvas(h[0].canvas,h[1]):h[0]instanceof _.default.SoundFile&&_.default.prototype.saveSound(h[0],h[1],h[2],h[3])}},_.default.prototype.saveJSON=function(a,u,d){_.default._validateParameters("saveJSON",arguments),d=d?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(d.split("\n"),u,"json")},_.default.prototype.saveJSONObject=_.default.prototype.saveJSON,_.default.prototype.saveJSONArray=_.default.prototype.saveJSON,_.default.prototype.saveStrings=function(a,u,d,h){_.default._validateParameters("saveStrings",arguments);for(var g=this.createWriter(u,d||"txt"),p=0;p<a.length;p++)g.write(h?a[p]+"\r\n":a[p]+"\n");g.close(),g.clear()},_.default.prototype.saveTable=function(a,u,d){_.default._validateParameters("saveTable",arguments),h=void 0===d?u.substring(u.lastIndexOf(".")+1,u.length):d;var h,g=this.createWriter(u,h),p=a.columns,y="tsv"===h?"\t":",";if("html"!==h){if("0"!==p[0]){for(var T=0;T<p.length;T++)g.write(T<p.length-1?p[T]+y:p[T]);g.write("\n")}for(var z=0;z<a.rows.length;z++){var G=void 0;for(G=0;G<a.rows[z].arr.length;G++)G<a.rows[z].arr.length-1?"csv"===h&&String(a.rows[z].arr[G]).includes(",")?g.write('"'+a.rows[z].arr[G]+'"'+y):g.write(a.rows[z].arr[G]+y):"csv"===h&&String(a.rows[z].arr[G]).includes(",")?g.write('"'+a.rows[z].arr[G]+'"'):g.write(a.rows[z].arr[G]);g.write("\n")}}else{if(g.print("<html>"),g.print("<head>"),g.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),g.print("</head>"),g.print("<body>"),g.print("  <table>"),"0"!==p[0]){g.print("    <tr>");for(var N=0;N<p.length;N++){var k=i(p[N]);g.print("      <td>".concat(k)),g.print("      </td>")}g.print("    </tr>")}for(var X=0;X<a.rows.length;X++){g.print("    <tr>");for(var D=0;D<a.columns.length;D++){var O=i(a.rows[X].getString(D));g.print("      <td>".concat(O)),g.print("      </td>")}g.print("    </tr>")}g.print("  </table>"),g.print("</body>"),g.print("</html>")}g.close(),g.clear()},_.default.prototype.writeFile=function(g,u,d){var h="application/octet-stream";_.default.prototype._isSafari()&&(h="text/plain"),g=new Blob(g,{type:h}),_.default.prototype.downloadFile(g,u,d)},_.default.prototype.downloadFile=function(a,g,p){var h;p=(g=l(g,p))[0],a instanceof Blob?m.default.saveAs(a,p):((h=document.createElement("a")).href=a,h.download=p,h.onclick=function(y){document.body.removeChild(y.target),y.stopPropagation()},h.style.display="none",document.body.appendChild(h),_.default.prototype._isSafari()&&(a=(a='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(g[1],'"'),alert(a)),h.click())},_.default.prototype._checkFileExtension=l,_.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},B.default=o=_.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,ie,B){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,m){for(var S=0;S<m.length;S++){var w=m[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Table=function(){function f(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=i}var m,S;return m=f,(S=[{key:"addRow",value:function(i){if(void 0===(i=i||new v.default.TableRow).arr||void 0===i.obj)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i}},{key:"removeRow",value:function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)}},{key:"getRow",value:function(i){return this.rows[i]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(i,l){if("string"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[l]===i)return this.rows[a]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[l]===i)return this.rows[u];return null}},{key:"findRows",value:function(i,l){var a=[];if("string"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[l]===i&&a.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].arr[l]===i&&a.push(this.rows[d]);return a}},{key:"matchRow",value:function(i,l){if("number"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[l].match(i))return this.rows[a]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[l].match(i))return this.rows[u];return null}},{key:"matchRows",value:function(i,l){var a=[];if("number"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[l].match(i)&&a.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].obj[l].match(i)&&a.push(this.rows[d]);return a}},{key:"getColumn",value:function(i){var l=[];if("string"==typeof i)for(var a=0;a<this.rows.length;a++)l.push(this.rows[a].obj[i]);else for(var u=0;u<this.rows.length;u++)l.push(this.rows[u].arr[i]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(i){this.columns.push(i||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(i,l){for(var a=[],u=0;u<i.length;u++)a.push(i.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var d=new RegExp(a.join("|"),"g");if(void 0===l)for(var h=0;h<this.columns.length;h++)for(var g=0;g<this.rows.length;g++){var p=(p=this.rows[g].arr[h]).replace(d,"");this.rows[g].arr[h]=p,this.rows[g].obj[this.columns[h]]=p}else if("string"==typeof l)for(var y=0;y<this.rows.length;y++){var T=(T=this.rows[y].obj[l]).replace(d,""),z=(this.rows[y].obj[l]=T,this.columns.indexOf(l));this.rows[y].arr[z]=T}else for(var G=0;G<this.rows.length;G++){var N=(N=this.rows[G].arr[l]).replace(d,"");this.rows[G].arr[l]=N,this.rows[G].obj[this.columns[l]]=N}}},{key:"trim",value:function(i){var l=new RegExp(" ","g");if(void 0===i)for(var a=0;a<this.columns.length;a++)for(var u=0;u<this.rows.length;u++){var d=(d=this.rows[u].arr[a]).replace(l,"");this.rows[u].arr[a]=d,this.rows[u].obj[this.columns[a]]=d}else if("string"==typeof i)for(var h=0;h<this.rows.length;h++){var g=(g=this.rows[h].obj[i]).replace(l,""),p=(this.rows[h].obj[i]=g,this.columns.indexOf(i));this.rows[h].arr[p]=g}else for(var y=0;y<this.rows.length;y++){var T=(T=this.rows[y].arr[i]).replace(l,"");this.rows[y].arr[i]=T,this.rows[y].obj[this.columns[i]]=T}}},{key:"removeColumn",value:function(u){var l,a;"string"==typeof u?a=this.columns.indexOf(l=u):l=this.columns[a=u],u=this.columns.splice(a+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var d=0;d<this.rows.length;d++){var h=this.rows[d].arr,g=h.splice(a+1,h.length);h.pop(),this.rows[d].arr=h.concat(g),delete this.rows[d].obj[l]}}},{key:"set",value:function(i,l,a){this.rows[i].set(l,a)}},{key:"setNum",value:function(i,l,a){this.rows[i].setNum(l,a)}},{key:"setString",value:function(i,l,a){this.rows[i].setString(l,a)}},{key:"get",value:function(i,l){return this.rows[i].get(l)}},{key:"getNum",value:function(i,l){return this.rows[i].getNum(l)}},{key:"getString",value:function(i,l){return this.rows[i].getString(l)}},{key:"getObject",value:function(i){for(var l,a={},u=0;u<this.rows.length;u++)if(l=this.rows[u].obj,"string"==typeof i){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));a[l[i]]=l}else a[u]=this.rows[u].obj;return a}},{key:"getArray",value:function(){for(var i=[],l=0;l<this.rows.length;l++)i.push(this.rows[l].arr);return i}}])&&_(m.prototype,S),f}(),B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,ie,B){"use strict";function v(_,f){for(var m=0;m<f.length;m++){var S=f[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function _(w,i){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");var l=[];w&&(l=w.split(i=i||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var f,m;return f=_,(m=[{key:"set",value:function(w,i){if("string"==typeof w){var l=this.table.columns.indexOf(w);if(!(0<=l))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=i,this.arr[l]=i}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=i,this.obj[l=this.table.columns[w]]=i}}},{key:"setNum",value:function(w,i){i=parseFloat(i),this.set(w,i)}},{key:"setString",value:function(w,i){i=i.toString(),this.set(w,i)}},{key:"get",value:function(w){return("string"==typeof w?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var i=parseFloat("string"==typeof w?this.obj[w]:this.arr[w]);if("NaN"===i.toString())throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return i}},{key:"getString",value:function(w){return("string"==typeof w?this.obj:this.arr)[w].toString()}}])&&v(f.prototype,m),_}(),B.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(m,S){for(var w=0;w<S.length;w++){var i=S[w];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}v.default.XML=function(){function m(l){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var S,w;return S=m,(w=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var a=this.DOM.innerHTML,u=this.DOM.attributes,d=document.implementation.createDocument(null,"default").createElement(l);d.innerHTML=a;for(var h=0;h<u.length;h++)d.setAttribute(u[h].nodeName,u[h].nodeValue);this.DOM=d}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],a=0;a<this.DOM.childNodes.length;a++)l.push(this.DOM.childNodes[a].nodeName);return l}},{key:"getChildren",value:function(l){return function f(m){for(var S=[],w=0;w<m.length;w++)S.push(new v.default.XML(m[w]));return S}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new v.default.XML(this.DOM.children[l]);var a=!0,u=!1,d=void 0;try{for(var h,g=this.DOM.children[Symbol.iterator]();!(a=(h=g.next()).done);a=!0){var p=h.value;if(p.tagName===l)return new v.default.XML(p)}}catch(y){u=!0,d=y}finally{try{a||null==g.return||g.return()}finally{if(u)throw d}}}},{key:"addChild",value:function(l){l instanceof v.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var a=-1;if("string"==typeof l){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){a=u;break}}else a=l;-1!==a&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],a=!0,u=!1,d=void 0;try{for(var h,g=this.DOM.attributes[Symbol.iterator]();!(a=(h=g.next()).done);a=!0)l.push(h.value.nodeName)}catch(y){u=!0,d=y}finally{try{a||null==g.return||g.return()}finally{if(u)throw d}}return l}},{key:"hasAttribute",value:function(l){var a={},u=!0,d=!1,h=void 0;try{for(var g,p=this.DOM.attributes[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var y=g.value;a[y.nodeName]=y.nodeValue}}catch(T){d=!0,h=T}finally{try{u||null==p.return||p.return()}finally{if(d)throw h}}return!!a[l]}},{key:"getNum",value:function(l,a){var u={},d=!0,h=!1,g=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var T=p.value;u[T.nodeName]=T.nodeValue}}catch(z){h=!0,g=z}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}return Number(u[l])||a||0}},{key:"getString",value:function(l,a){var u={},d=!0,h=!1,g=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var T=p.value;u[T.nodeName]=T.nodeValue}}catch(z){h=!0,g=z}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}return u[l]?String(u[l]):a||null}},{key:"setAttribute",value:function(l,a){this.DOM.setAttribute(l,a)}},{key:"getContent",value:function(l){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&_(S.prototype,w),m}(),B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f){return function(m){if(Array.isArray(m)){for(var S=0,w=new Array(m.length);S<m.length;S++)w[S]=m[S];return w}}(f)||function(m){if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m))return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(f,m,S){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(f,S),m)},v.default.prototype.dist=function(){for(var f=arguments.length,m=new Array(f),S=0;S<f;S++)m[S]=arguments[S];return v.default._validateParameters("dist",m),4===m.length?Math.hypot(m[2]-m[0],m[3]-m[1]):6===m.length?Math.hypot(m[3]-m[0],m[4]-m[1],m[5]-m[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(f,m,S){return v.default._validateParameters("lerp",arguments),S*(m-f)+f},v.default.prototype.log=Math.log,v.default.prototype.mag=function(f,m){return v.default._validateParameters("mag",arguments),Math.hypot(f,m)},v.default.prototype.map=function(f,m,S,w,i,l){return v.default._validateParameters("map",arguments),f=(f-m)/(S-m)*(i-w)+w,l?w<i?this.constrain(f,w,i):this.constrain(f,i,w):f},v.default.prototype.max=function(){for(var f=function(i){return Math.max.apply(Math,_(i))},m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return Array.isArray(S[0])?f(S[0]):f(S)},v.default.prototype.min=function(){for(var f=function(i){return Math.min.apply(Math,_(i))},m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return Array.isArray(S[0])?f(S[0]):f(S)},v.default.prototype.norm=function(f,m,S){return v.default._validateParameters("norm",arguments),this.map(f,m,S,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(f,m){return m?(m=Math.pow(10,m),Math.round(f*m)/m):Math.round(f)},v.default.prototype.sq=function(f){return f*f},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(w){v.default._validateParameters("fract",arguments);var m,S=0;return w=Number(w),isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,S=1),String(w).includes(".")&&!String(w).includes("e")?(m=+("0"+(m=String(w)).slice(m.indexOf("."))),Math.abs(S-m)):w<1?Math.abs(S-w):0)},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,ie,B){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(m,S,w){return(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,l,a){var u=[null];return u.push.apply(u,l),l=new(Function.bind.apply(i,u)),a&&f(l,a.prototype),l}).apply(null,arguments)}function f(m,S){return(f=Object.setPrototypeOf||function(w,i){return w.__proto__=i,w})(m,S)}v.default.prototype.createVector=function(m,S,w){return this instanceof v.default?_(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(m,S,w)},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(w,ie,B){"use strict";function v(i){return.5*(1-Math.cos(i*Math.PI))}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};var _,f=4095,m=4,S=.5;w.default.prototype.noise=function(i){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==_){_=new Array(4096);for(var u=0;u<4096;u++)_[u]=Math.random()}i<0&&(i=-i),l<0&&(l=-l),a<0&&(a=-a);for(var d,h,g=Math.floor(i),p=Math.floor(l),y=Math.floor(a),T=i-g,z=l-p,G=a-y,N=0,k=.5,X=0;X<m;X++){var D=g+(p<<4)+(y<<8),O=v(T),P=v(z),J=_[D&f];J+=O*(_[D+1&f]-J),d=_[D+16&f],J+=P*((d+=O*(_[D+16+1&f]-d))-J),d=_[(D+=256)&f],d+=O*(_[D+1&f]-d),h=_[D+16&f],d+=P*((h+=O*(_[D+16+1&f]-h))-d),N+=(J+=v(G)*(d-J))*k,k*=S,g<<=1,p<<=1,y<<=1,1<=(T*=2)&&(g++,T--),1<=(z*=2)&&(p++,z--),1<=(G*=2)&&(y++,G--)}return N},w.default.prototype.noiseDetail=function(i,l){0<i&&(m=i),0<l&&(S=l)},w.default.prototype.noiseSeed=function(i){u=4294967296;var a,u,d_rand=function(){return(a=(1664525*a+1013904223)%u)/u};(function(g){a=(null==g?Math.random()*u:g)>>>0})(i),_=new Array(4096);for(var h=0;h<4096;h++)_[h]=d_rand()},B.default=w=w.default},{"../core/main":283}],316:[function(o,ie,B){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(i=o("../core/main"))&&i.__esModule?i:{default:i},m=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var a=S();if(a&&a.has(l))return a.get(l);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=h?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=l[u])}return d.default=l,a&&a.set(l,d),d}(o("../core/constants"));function S(){var l;return"function"!=typeof WeakMap?null:(S=function(){return l},l=new WeakMap)}function w(l,a){for(var u=0;u<a.length;u++){var d=a[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}f.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var g,p,y="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],g=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(g=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=g,this.y=p,this.z=y}var a,u,d;return a=l,d=[{key:"fromAngle",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new f.default.Vector(g*Math.cos(h),g*Math.sin(h),0)}},{key:"fromAngles",value:function(G,T){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,y=Math.cos(T),z=(T=Math.sin(T),Math.cos(G));return G=Math.sin(G),new f.default.Vector(p*G*T,-p*z,p*G*y)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*m.TWO_PI)}},{key:"random3D",value:function(){var h=Math.random()*m.TWO_PI,g=2*Math.random()-1,p=(y=Math.sqrt(1-g*g))*Math.cos(h),y=y*Math.sin(h);return new f.default.Vector(p,y,g)}},{key:"copy",value:function(h){return h.copy(h)}},{key:"add",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return z?z.set(y):(z=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),z.add(T),z}},{key:"rem",value:function(h,g){if(h instanceof f.default.Vector&&g instanceof f.default.Vector)return(h=h.copy()).rem(g),h}},{key:"sub",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return z?z.set(y):(z=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),z.sub(T),z}},{key:"mult",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return z?z.set(y):(z=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),z.mult(T),z}},{key:"rotate",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return 2===g.length?z=y.copy():(z instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),z.set(y)),z.rotate(T),z}},{key:"div",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return z?z.set(y):(z=y.copy(),3===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),z.div(T),z}},{key:"dot",value:function(h,g){return h.dot(g)}},{key:"cross",value:function(h,g){return h.cross(g)}},{key:"dist",value:function(h,g){return h.dist(g)}},{key:"lerp",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2],G=g[3];return G?G.set(y):(G=y.copy(),4===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),G.lerp(T,z),G}},{key:"slerp",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2],G=g[3];return G?G.set(y):(G=y.copy(),4===g.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),G.slerp(T,z),G}},{key:"mag",value:function(h){return h.mag()}},{key:"magSq",value:function(h){return h.magSq()}},{key:"normalize",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1];return g.length<2?T=y.copy():(T instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),T.set(y)),T.normalize()}},{key:"limit",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return g.length<3?z=y.copy():(z instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),z.set(y)),z.limit(T)}},{key:"setMag",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return g.length<3?z=y.copy():(z instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),z.set(y)),z.setMag(T)}},{key:"heading",value:function(h){return h.heading()}},{key:"angleBetween",value:function(h,g){return h.angleBetween(g)}},{key:"reflect",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];return g.length<3?z=y.copy():(z instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),z.set(y)),z.reflect(T)}},{key:"array",value:function(h){return h.array()}},{key:"equals",value:function(h,g){var p;return h instanceof f.default.Vector?p=h:Array.isArray(h)?p=(new f.default.Vector).set(h):f.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(g)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(h,g,p){return h instanceof f.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):Array.isArray(h)?(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=g||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new f.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(h,g,p){return h instanceof f.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):Array.isArray(h)?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=g||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(h,g){return 0!==h&&(this.x=this.x%h),0!==g&&(this.y=this.y%g),this}},{key:"calculateRemainder3D",value:function(h,g,p){return 0!==h&&(this.x=this.x%h),0!==g&&(this.y=this.y%g),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y,T,z,G=g[0],N=g[1],k=g[2];if(G instanceof f.default.Vector){if([G.x,G.y,G.z].every(Number.isFinite))return y=parseFloat(G.x),T=parseFloat(G.y),z=parseFloat(G.z),this.calculateRemainder3D(y,T,z)}else if(Array.isArray(G)){if(G.every(Number.isFinite))return 2===G.length?this.calculateRemainder2D(G[0],G[1]):3===G.length?this.calculateRemainder3D(G[0],G[1],G[2]):void 0}else if(1===g.length){if(Number.isFinite(G)&&0!==G)return this.x=this.x%G,this.y=this.y%G,this.z=this.z%G,this}else if(2===g.length){if(g.every(Number.isFinite))return this.calculateRemainder2D(G,N)}else if(3===g.length&&g.every(Number.isFinite))return this.calculateRemainder3D(G,N,k)}},{key:"sub",value:function(h,g,p){return h instanceof f.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):Array.isArray(h)?(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=g||0,this.z-=p||0),this}},{key:"mult",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y,T=g[0],z=g[1],G=g[2];return T instanceof f.default.Vector?Number.isFinite(T.x)&&Number.isFinite(T.y)&&Number.isFinite(T.z)&&"number"==typeof T.x&&"number"==typeof T.y&&"number"==typeof T.z?(this.x*=T.x,this.y*=T.y,this.z*=T.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(T)?T.every(function(N){return Number.isFinite(N)})&&T.every(function(N){return"number"==typeof N})?1===T.length?(this.x*=T[0],this.y*=T[0],this.z*=T[0]):2===T.length?(this.x*=T[0],this.y*=T[1]):3===T.length&&(this.x*=T[0],this.y*=T[1],this.z*=T[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=g).every(function(N){return Number.isFinite(N)})&&y.every(function(N){return"number"==typeof N})?(1===g.length&&(this.x*=T,this.y*=T,this.z*=T),2===g.length&&(this.x*=T,this.y*=z),3===g.length&&(this.x*=T,this.y*=z,this.z*=G)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var y=g[0],T=g[1],z=g[2];if(y instanceof f.default.Vector)if(Number.isFinite(y.x)&&Number.isFinite(y.y)&&Number.isFinite(y.z)&&"number"==typeof y.x&&"number"==typeof y.y&&"number"==typeof y.z){var G=0===y.z&&0===this.z;if(0===y.x||0===y.y||!G&&0===y.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=y.x,this.y/=y.y,G||(this.z/=y.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(y))if(y.every(Number.isFinite)&&y.every(function(N){return"number"==typeof N})){if(y.some(function(N){return 0===N}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===y.length?(this.x/=y[0],this.y/=y[0],this.z/=y[0]):2===y.length?(this.x/=y[0],this.y/=y[1]):3===y.length&&(this.x/=y[0],this.y/=y[1],this.z/=y[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(g.every(Number.isFinite)&&g.every(function(N){return"number"==typeof N})){if(g.some(function(N){return 0===N}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===g.length&&(this.x/=y,this.y/=y,this.z/=y),2===g.length&&(this.x/=y,this.y/=T),3===g.length&&(this.x/=y,this.y/=T,this.z/=z)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var h=this.x,g=this.y,p=this.z;return h*h+g*g+p*p}},{key:"dot",value:function(h,g,p){return h instanceof f.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(g||0)+this.z*(p||0)}},{key:"cross",value:function(y){var g=this.y*y.z-this.z*y.y,p=this.z*y.x-this.x*y.z;return y=this.x*y.y-this.y*y.x,this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,g,p,y):new f.default.Vector(g,p,y)}},{key:"dist",value:function(h){return h.copy().sub(this).mag()}},{key:"normalize",value:function(){var h=this.mag();return 0!==h&&this.mult(1/h),this}},{key:"limit",value:function(h){var g=this.magSq();return h*h<g&&this.div(Math.sqrt(g)).mult(h),this}},{key:"setMag",value:function(h){return this.normalize().mult(h)}},{key:"heading",value:function(){var h=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(h):h}},{key:"setHeading",value:function(h){this.isPInst&&(h=this._toRadians(h));var g=this.mag();return this.x=g*Math.cos(h),this.y=g*Math.sin(h),this}},{key:"rotate",value:function(g){g=this.heading()+g;var p=(this.isPInst&&(g=this._toRadians(g)),this.mag());return this.x=Math.cos(g)*p,this.y=Math.sin(g)*p,this}},{key:"angleBetween",value:function(h){var g;return this.magSq()*h.magSq()==0?NaN:(g=this.cross(h),h=Math.atan2(g.mag(),this.dot(h))*Math.sign(g.z||1),this.isPInst?this._fromRadians(h):h)}},{key:"lerp",value:function(h,g,p,y){return h instanceof f.default.Vector?this.lerp(h.x,h.y,h.z,g):(this.x+=(h-this.x)*y||0,this.y+=(g-this.y)*y||0,this.z+=(p-this.z)*y||0,this)}},{key:"slerp",value:function(h,g){if(0!==g){if(1===g)return this.set(h);var p=this.mag(),y=h.mag();if(p*y==0)this.mult(1-g).add(h.x*g,h.y*g,h.z*g);else{var T=this.cross(h),z=T.mag(),G=Math.atan2(z,this.dot(h));if(0<z)T.x/=z,T.y/=z,T.z/=z;else{if(G<.5*Math.PI)return this.mult(1-g).add(h.x*g,h.y*g,h.z*g),this;0===this.z&&0===h.z?T.set(0,0,1):0!==this.x?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}z=T.cross(this),T=(h=1-g+g*y/p)*Math.cos(g*G),y=h*Math.sin(g*G),this.x=this.x*T+z.x*y,this.y=this.y*T+z.y*y,this.z=this.z*T+z.z*y}}return this}},{key:"reflect",value:function(h){return h=f.default.Vector.normalize(h),this.sub(h.mult(2*this.dot(h)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(z,g,p){var y,T;return z=z instanceof f.default.Vector?(y=z.x||0,T=z.y||0,z.z||0):Array.isArray(z)?(y=z[0]||0,T=z[1]||0,z[2]||0):(y=z||0,T=g||0,p||0),this.x===y&&this.y===T&&this.z===z}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(h){return Math.abs(+(h||0))<=Number.EPSILON?0:h}}])&&w(a.prototype,u),d&&w(a,d),l}();var i=f.default.Vector;B.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(S,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(S=S("../core/main"))&&S.__esModule?S:{default:S},_="_lcg_random_state",f=4294967296,m=0;v.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%f,this[w]/f},v.default.prototype._lcgSetSeed=function(w,i){this[w]=(null==i?Math.random()*f:i)>>>0},v.default.prototype.randomSeed=function(w){this._lcgSetSeed(_,w),this._gaussian_previous=!1},v.default.prototype.random=function(w,i){var l,a;return v.default._validateParameters("random",arguments),l=null!=this[_]?this._lcg(_):Math.random(),void 0===w?l:void 0===i?Array.isArray(w)?w[Math.floor(l*w.length)]:l*w:(i<w&&(a=w,w=i,i=a),l*(i-w)+w)},v.default.prototype.randomGaussian=function(w){var i,l,a,u,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)i=m,this._gaussian_previous=!1;else{for(;1<=(u=(l=this.random(2)-1)*l+(a=this.random(2)-1)*a););i=l*(u=Math.sqrt(-2*Math.log(u)/u)),m=a*u,this._gaussian_previous=!0}return i*d+(w||0)},B.default=S=v.default},{"../core/main":283}],318:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(w=o("../core/main"))&&w.__esModule?w:{default:w},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var l=S();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}f.default.prototype._angleMode=m.RADIANS,f.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},f.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},f.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},f.default.prototype.atan2=function(i,l){return this._fromRadians(Math.atan2(i,l))},f.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},f.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},f.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},f.default.prototype.degrees=function(i){return i*m.RAD_TO_DEG},f.default.prototype.radians=function(i){return i*m.DEG_TO_RAD},f.default.prototype.angleMode=function(i){if(f.default._validateParameters("angleMode",arguments),void 0===i)return this._angleMode;i!==m.DEGREES&&i!==m.RADIANS||i!==this._angleMode&&(i===m.RADIANS?(this._setProperty("pRotationX",this.pRotationX*m.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*m.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*m.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*m.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*m.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*m.RAD_TO_DEG)),this._angleMode=i)},f.default.prototype._toRadians=function(i){return this._angleMode===m.DEGREES?i*m.DEG_TO_RAD:i},f.default.prototype._toDegrees=function(i){return this._angleMode===m.RADIANS?i*m.RAD_TO_DEG:i},f.default.prototype._fromRadians=function(i){return this._angleMode===m.DEGREES?i*m.RAD_TO_DEG:i},f.default.prototype._fromDegrees=function(i){return this._angleMode===m.RADIANS?i*m.DEG_TO_RAD:i};var w=f.default;B.default=w},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,ie,B){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(_,f){var m;return v.default._validateParameters("textAlign",arguments),(m=this._renderer).textAlign.apply(m,arguments)},v.default.prototype.textLeading=function(_){var f;return v.default._validateParameters("textLeading",arguments),(f=this._renderer).textLeading.apply(f,arguments)},v.default.prototype.textSize=function(_){var f;return v.default._validateParameters("textSize",arguments),(f=this._renderer).textSize.apply(f,arguments)},v.default.prototype.textStyle=function(_){var f;return v.default._validateParameters("textStyle",arguments),(f=this._renderer).textStyle.apply(f,arguments)},v.default.prototype.textWidth=function(){for(var _=arguments.length,f=new Array(_),m=0;m<_;m++)f[m]=arguments[m];if(f[0]+="",v.default._validateParameters("textWidth",f),0===f[0].length)return 0;for(var S=f[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],i=0;i<S.length;i++)w.push(this._renderer.textWidth(S[i]));return Math.max.apply(Math,w)},v.default.prototype.textAscent=function(){for(var _=arguments.length,f=new Array(_),m=0;m<_;m++)f[m]=arguments[m];return v.default._validateParameters("textAscent",f),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var _=arguments.length,f=new Array(_),m=0;m<_;m++)f[m]=arguments[m];return v.default._validateParameters("textDescent",f),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(_){return v.default._validateParameters("textWrap",[_]),this._renderer.textWrap(_)},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,ie,B){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(l=o("../core/main"))&&l.__esModule?l:{default:l},m=i(o("../core/constants")),S=i(o("opentype.js"));function w(){var a;return"function"!=typeof WeakMap?null:(w=function(){return a},a=new WeakMap)}function i(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var u=w();if(u&&u.has(a))return u.get(a);var d,h,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&((h=p?Object.getOwnPropertyDescriptor(a,d):null)&&(h.get||h.set)?Object.defineProperty(g,d,h):g[d]=a[d]);return g.default=a,u&&u.set(a,g),g}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),f.default.prototype.loadFont=function(a,u,d){f.default._validateParameters("loadFont",arguments);var h=new f.default.Font(this),g=this;return S.load(a,function(T,z){if(T)return f.default._friendlyFileLoadError(4,a),void 0!==d?d(T):void console.error(T,a);h.font=z,void 0!==u&&u(h),g._decrementPreload();var G=(z=(T=a.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:T.slice(z+1);["ttf","otf","woff","woff2"].includes(G)&&(G=T.slice(0,-1!==z?z:0),(T=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(G,";\nsrc: url(").concat(a,");\n}\n"))),document.head.appendChild(T))}),h},f.default.prototype.text=function(a,u,d,h,g){var p;return f.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},f.default.prototype.textFont=function(a,u){if(f.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*m._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=f.default;B.default=l},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,ie,B){"use strict";function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(N)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=(_=o("../core/main"))&&_.__esModule?_:{default:_},f=function(N){if(N&&N.__esModule)return N;if(null===N||"object"!==S(N)&&"function"!=typeof N)return{default:N};var k=m();if(k&&k.has(N))return k.get(N);var X,D={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(X in N){var P;Object.prototype.hasOwnProperty.call(N,X)&&((P=O?Object.getOwnPropertyDescriptor(N,X):null)&&(P.get||P.set)?Object.defineProperty(D,X,P):D[X]=N[X])}return D.default=N,k&&k.set(N,D),D}(o("../core/constants"));function m(){var N;return"function"!=typeof WeakMap?null:(m=function(){return N},N=new WeakMap)}function S(N){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(k){return v(k)}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":v(k)})(N)}function w(N,k){for(var X=0;X<k.length;X++){var D=k[X];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}function i(N,k){var X=N.length;return N[k<0?k%X+X:k%X]}function l(N,k,X,D){var O,P,J;return D?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),J=l.tmpPoint2,(P=l.tmpPoint1).x=k.x-N.x,P.y=k.y-N.y,J.x=X.x-k.x,J.y=X.y-k.y,O=P.x*J.x+P.y*J.y,P=Math.sqrt(P.x*P.x+P.y*P.y),J=Math.sqrt(J.x*J.x+J.y*J.y),Math.acos(O/(P*J))<D):(k[0]-N[0])*(X[1]-N[1])-(X[0]-N[0])*(k[1]-N[1])==0}function a(j,me,oe,Se,Le,P,J,re,$){var Q=1-$,V=(H=Math.pow(Q,3))*j+3*(Z=Math.pow(Q,2))*$*oe+3*Q*$*$*Le+(le=(q=$*$)*$)*J,H=H*me+3*Z*$*Se+3*Q*$*$*P+le*re,Z=j+2*$*(oe-j)+q*(Le-2*oe+j),le=me+2*$*(Se-me)+q*(P-2*Se+me),xe=oe+2*$*(Le-oe)+q*(J-2*Le+oe),q=Se+2*$*(P-Se)+q*(re-2*P+Se);return j=Q*j+$*oe,oe=Q*me+$*Se,me=Q*Le+$*J,Se=Q*P+$*re,Le=90-180*Math.atan2(Z-xe,le-q)/Math.PI,(xe<Z||le<q)&&(Le+=180),{x:V,y:H,m:{x:Z,y:le},n:{x:xe,y:q},start:{x:j,y:oe},end:{x:me,y:Se},alpha:Le}}function u(N,k,X,D,O,P,J,re,$){return null==$?z(N,k,X,D,O,P,J,re):a(N,k,X,D,O,P,J,re,function(Q,V,H,Z,le,xe,q,j,oe){if(!(oe<0||z(Q,V,H,Z,le,xe,q,j)<oe)){var me,Se=.5,Le=1-Se;for(me=z(Q,V,H,Z,le,xe,q,j,Le);.01<Math.abs(me-oe);)me=z(Q,V,H,Z,le,xe,q,j,Le+=(me<oe?1:-1)*(Se/=2));return Le}}(N,k,X,D,O,P,J,re,$))}function d(N,k,X){for(var D,O,P,J,re,$=0,Q=0,V=(N=function(H,Z){function le(Ze,pt,kt){var ir,zt;if(!Ze)return["C",pt.x,pt.y,pt.x,pt.y,pt.x,pt.y];switch(Ze[0]in{T:1,Q:1}||(pt.qx=pt.qy=null),Ze[0]){case"M":pt.X=Ze[1],pt.Y=Ze[2];break;case"A":Ze=["C"].concat(g.apply(0,[pt.x,pt.y].concat(Ze.slice(1))));break;case"S":zt="C"===kt||"S"===kt?(ir=2*pt.x-pt.bx,2*pt.y-pt.by):(ir=pt.x,pt.y),Ze=["C",ir,zt].concat(Ze.slice(1));break;case"T":"Q"===kt||"T"===kt?(pt.qx=2*pt.x-pt.qx,pt.qy=2*pt.y-pt.qy):(pt.qx=pt.x,pt.qy=pt.y),Ze=["C"].concat(T(pt.x,pt.y,pt.qx,pt.qy,Ze[1],Ze[2]));break;case"Q":pt.qx=Ze[1],pt.qy=Ze[2],Ze=["C"].concat(T(pt.x,pt.y,Ze[1],Ze[2],Ze[3],Ze[4]));break;case"L":Ze=["C"].concat(y(pt.x,pt.y,Ze[1],Ze[2]));break;case"H":Ze=["C"].concat(y(pt.x,pt.y,Ze[1],pt.y));break;case"V":Ze=["C"].concat(y(pt.x,pt.y,pt.x,Ze[1]));break;case"Z":Ze=["C"].concat(y(pt.x,pt.y,pt.X,pt.Y))}return Ze}function xe(Ze,pt){if(7<Ze[pt].length){Ze[pt].shift();for(var kt=Ze[pt];kt.length;)Xe[pt]="A",me&&(lt[pt]="A"),Ze.splice(pt++,0,["C"].concat(kt.splice(0,6)));Ze.splice(pt,1),j=Math.max(oe.length,me&&me.length||0)}}function q(Ze,pt,kt,ir,zt){Ze&&pt&&"M"===Ze[zt][0]&&"M"!==pt[zt][0]&&(pt.splice(zt,0,["M",ir.x,ir.y]),kt.bx=0,kt.by=0,kt.x=Ze[zt][1],kt.y=Ze[zt][2],j=Math.max(oe.length,me&&me.length||0))}var j,oe=h(H),me=Z,Se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Le={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Xe=[],lt=[],He="",nt="";j=Math.max(oe.length,me&&me.length||0);for(var at=0;at<j;at++){"C"!==(He=oe[at]?oe[at][0]:He)&&(Xe[at]=He,at&&(nt=Xe[at-1])),oe[at]=le(oe[at],Se,nt),"A"!==Xe[at]&&"C"===He&&(Xe[at]="C"),xe(oe,at),me&&("C"!==(He=me[at]?me[at][0]:He)&&(lt[at]=He,at&&(nt=lt[at-1])),me[at]=le(me[at],Le,nt),"A"!==lt[at]&&"C"===He&&(lt[at]="C"),xe(me,at)),q(oe,me,Se,Le,at),q(me,oe,Le,Se,at);var Be=oe[at],st=me&&me[at],Ye=Be.length,it=me&&st.length;Se.x=Be[Ye-2],Se.y=Be[Ye-1],Se.bx=parseFloat(Be[Ye-4])||Se.x,Se.by=parseFloat(Be[Ye-3])||Se.y,Le.bx=me&&(parseFloat(st[it-4])||Le.x),Le.by=me&&(parseFloat(st[it-3])||Le.y),Le.x=me&&st[it-2],Le.y=me&&st[it-1]}return me?[oe,me]:oe}(N)).length;Q<V;Q++){if("M"===(P=N[Q])[0])D=+P[1],O=+P[2];else{if(k<$+(J=u(D,O,P[1],P[2],P[3],P[4],P[5],P[6]))&&!X)return{x:(re=u(D,O,P[1],P[2],P[3],P[4],P[5],P[6],k-$)).x,y:re.y,alpha:re.alpha};$+=J,D=+P[5],O=+P[6]}P.shift()}return(re=X?$:a(D,O,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha?{x:re.x,y:re.y,alpha:re.alpha}:re}function h(N){var k=[],X=0,D=0,O=0,P=0,J=0;if(N){"M"===N[0][0]&&(O=X=+N[0][1],P=D=+N[0][2],J++,k[0]=["M",X,D]);for(var re,$,Q=3===N.length&&"M"===N[0][0]&&"R"===N[1][0].toUpperCase()&&"Z"===N[2][0].toUpperCase(),V=J,H=N.length;V<H;V++){if(k.push(re=[]),($=N[V])[0]!==$[0].toUpperCase())switch(re[0]=$[0].toUpperCase(),re[0]){case"A":re[1]=$[1],re[2]=$[2],re[3]=$[3],re[4]=$[4],re[5]=$[5],re[6]=+($[6]+X),re[7]=+($[7]+D);break;case"V":re[1]=+$[1]+D;break;case"H":re[1]=+$[1]+X;break;case"R":for(var Z,le=2,xe=(Z=[X,D].concat($.slice(1))).length;le<xe;le++)Z[le]=+Z[le]+X,Z[++le]=+Z[le]+D;k.pop(),k=k.concat(p(Z,Q));break;case"M":O=+$[1]+X,P=+$[2]+D;break;default:for(var q=1,j=$.length;q<j;q++)re[q]=+$[q]+(q%2?X:D)}else if("R"===$[0])Z=[X,D].concat($.slice(1)),k.pop(),k=k.concat(p(Z,Q)),re=["R"].concat($.slice(-2));else for(var oe=0,me=$.length;oe<me;oe++)re[oe]=$[oe];switch(re[0]){case"Z":X=O,D=P;break;case"H":X=re[1];break;case"V":D=re[1];break;case"M":O=re[re.length-2],P=re[re.length-1];break;default:X=re[re.length-2],D=re[re.length-1]}}}return k}function g(N,k,X,D,me,Xe,Se,re,$,Q){function V(it,Ze,pt){return{x:it*Math.cos(pt)-Ze*Math.sin(pt),y:it*Math.sin(pt)+Ze*Math.cos(pt)}}var H,oe=120*(j=Math.PI)/180,Z=j/180*(+me||0),le=[],xe=(Q?(at=Q[0],H=Q[1],He=Q[2],nt=Q[3]):(N=(Le=V(N,k,-Z)).x,k=Le.y,1<(xe=(q=(N-(re=(Le=V(re,$,-Z)).x))/2)*q/(X*X)+(Le=(k-($=Le.y))/2)*Le/(D*D))&&(X*=xe=Math.sqrt(xe),D*=xe),xe=X*X,lt=D*D,He=(Xe=(Xe===Se?-1:1)*Math.sqrt(Math.abs((xe*lt-xe*Le*Le-lt*q*q)/(xe*Le*Le+lt*q*q))))*X*Le/D+(N+re)/2,nt=Xe*-D*q/X+(k+$)/2,at=Math.asin(((k-nt)/D).toFixed(9)),H=Math.asin((($-nt)/D).toFixed(9)),(at=N<He?j-at:at)<0&&(at=2*j+at),(H=re<He?j-H:H)<0&&(H=2*j+H),Se&&H<at&&(at-=2*j),!Se&&at<H&&(H-=2*j)),H-at),q=(Math.abs(xe)>oe&&(lt=H,Le=re,Xe=$,H=at+oe*(Se&&at<H?1:-1),le=g(re=He+X*Math.cos(H),$=nt+D*Math.sin(H),X,D,me,0,Se,Le,Xe,[H,lt,He,nt])),xe=H-at,Math.cos(at)),j=Math.sin(at),Le=(oe=Math.cos(H),me=Math.sin(H),4/3*X*(Se=Math.tan(xe/4))),lt=[N,k],He=[N+Le*j,k-(Xe=4/3*D*Se)*q],nt=[re+Le*me,$-Xe*oe],at=[re,$];if(He[0]=2*lt[0]-He[0],He[1]=2*lt[1]-He[1],Q)return[He,nt,at].concat(le);for(var Be=[],st=0,Ye=(le=[He,nt,at].concat(le).join().split(",")).length;st<Ye;st++)Be[st]=st%2?V(le[st-1],le[st],Z).y:V(le[st],le[st+1],Z).x;return Be}function p(N,k){for(var X=[],D=0,O=N.length;D<O-2*!k;D+=2){var P=[{x:+N[D-2],y:+N[D-1]},{x:+N[D],y:+N[D+1]},{x:+N[D+2],y:+N[D+3]},{x:+N[D+4],y:+N[D+5]}];k?D?O-4===D?P[3]={x:+N[0],y:+N[1]}:O-2===D&&(P[2]={x:+N[0],y:+N[1]},P[3]={x:+N[2],y:+N[3]}):P[0]={x:+N[O-2],y:+N[O-1]}:O-4===D?P[3]=P[2]:D||(P[0]={x:+N[D],y:+N[D+1]}),X.push(["C",(6*P[1].x-P[0].x+P[2].x)/6,(6*P[1].y-P[0].y+P[2].y)/6,(P[1].x+6*P[2].x-P[3].x)/6,(P[1].y+6*P[2].y-P[3].y)/6,P[2].x,P[2].y])}return X}function y(N,k,X,D){return[N,k,X,D,X,D]}function T(N,k,X,D,O,P){return[1/3*N+2/3*X,1/3*k+2/3*D,1/3*O+2/3*X,1/3*P+2/3*D,O,P]}function z(N,k,X,D,O,P,J,re,$){for(var Q=($=1<($=null==$?1:$)?1:$<0?0:$)/2,V=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var xe=G(q=Q*V[le]+Q,N,X,O,J),q=G(q,k,D,P,re);H+=Z[le]*Math.sqrt(xe*xe+q*q)}return Q*H}function G(N,k,X,D,O){return N*(N*(-3*k+9*X-9*D+3*O)+6*k-12*X+6*D)-3*k+3*X}_.default.Font=function(){function N(O){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");this.parent=O,this.cache={},this.font=void 0}var k,X;return k=N,(X=[{key:"textBounds",value:function(O){var P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,J=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,re=4<arguments.length?arguments[4]:void 0,$=re&&re.renderer&&re.renderer._pInst||this.parent,Q=$._renderer.drawingContext,V=(V=3<arguments.length?arguments[3]:void 0)||$._renderer._textSize;if(!Xe){for(var H=[],Z=[],le=[],xe=(le[0]=[],[]),q=this._scale(V),j=$._renderer.textLeading(),oe=0,me=(this.font.forEachGlyph(O,P,J,V,re,function(nt,at,Be,st){var Ye=nt.getMetrics();0===nt.index?le[oe+=1]=[]:(le[oe].push(at+Ye.xMin*q),le[oe].push(at+Ye.xMax*q),xe.push(Be+oe*j+-Ye.yMin*q),xe.push(Be+oe*j+-Ye.yMax*q))}),0<le[oe].length&&(H[oe]=Math.min.apply(null,le[oe]),Z[oe]=Math.max.apply(null,le[oe])),0),Se=0;Se<=oe;Se++){H[Se]=Math.min.apply(null,le[Se]),Z[Se]=Math.max.apply(null,le[Se]);var Le=Z[Se]-H[Se];me<Le&&(me=Le)}var Xe={x:Q=Math.min.apply(null,H),y:J=Math.min.apply(null,xe),h:Math.max.apply(null,xe)-J,w:me,advance:Q-P};V=this._handleAlignment($._renderer,O,Xe.x,Xe.y,Xe.w+Xe.advance),Xe.x=V.x,Xe.y=V.y}return Xe}},{key:"textToPoints",value:function(O,P,J,re,$){var Q=P,V=[],H=O.split(/\r?\n|\r|\n/g);re=re||this.parent._renderer._textSize;for(var Z,le,xe,q=0;q<H.length;q++){var j=0;P=Q;for(var oe=(oe=H[q]).replace("\t","  "),me=this._getGlyphs(oe),Se=0;Se<me.length;Se++){if(le=oe,!((xe=me)[Z=Se].name&&"space"===xe[Z].name||le.length===xe.length&&" "===le[Z]))for(var Le=function(nt){for(var at,Be=[],st=0;st<nt.length;st++)"M"===nt[st].type&&(at&&Be.push(at),at=[]),at.push((it=void 0,it=[(Ye=nt[st]).type],"M"===Ye.type||"L"===Ye.type?it.push(Ye.x,Ye.y):"C"===Ye.type?it.push(Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y):"Q"===Ye.type&&it.push(Ye.x1,Ye.y1,Ye.x,Ye.y),it));var Ye,it;return Be.push(at),Be}(me[Se].getPath(P,J,re).commands),Xe=0;Xe<Le.length;Xe++)for(var lt=function(nt,at){at=function(pt,kt){if("object"!==S(pt))pt=kt;else for(var ir in kt)void 0===pt[ir]&&(pt[ir]=kt[ir]);return pt}(at,{sampleFactor:.1,simplifyThreshold:0});for(var Be=d(nt,0,1),st=Be/(Be*at.sampleFactor),Ye=[],it=0;it<Be;it+=st)Ye.push(d(nt,it));return at.simplifyThreshold&&function(Ze){for(var pt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,ir=Ze.length-1;3<Ze.length&&0<=ir;--ir)l(i(Ze,ir-1),i(Ze,ir),i(Ze,ir+1),pt)&&Ze.splice(ir%Ze.length,1)}(Ye,at.simplifyThreshold),Ye}(Le[Xe],$),He=0;He<lt.length;He++)lt[He].x+=j,V.push(lt[He]);j+=me[Se].advanceWidth*this._scale(re)}J+=this.parent._renderer._textLeading}return V}},{key:"_getGlyphs",value:function(O){return this.font.stringToGlyphs(O)}},{key:"_getPath",value:function(O,Q,J,re){var $=(re&&re.renderer&&re.renderer._pInst||this.parent)._renderer;return Q=this._handleAlignment($,O,Q,J),this.font.getPath(O,Q.x,Q.y,$._textSize,re)}},{key:"_getPathData",value:function(O,P,J,re){var $=3;return"string"==typeof O&&2<arguments.length?O=this._getPath(O,P,J,re):"object"===S(P)&&(re=P),re&&"number"==typeof re.decimals&&($=re.decimals),O.toPathData($)}},{key:"_getSVG",value:function(O,P,J,re){var $=3;return"string"==typeof O&&2<arguments.length?O=this._getPath(O,P,J,re):"object"===S(P)&&(re=P),re&&("number"==typeof re.decimals&&($=re.decimals),"number"==typeof re.strokeWidth&&(O.strokeWidth=re.strokeWidth),void 0!==re.fill&&(O.fill=re.fill),void 0!==re.stroke&&(O.stroke=re.stroke)),O.toSVG($)}},{key:"_renderPath",value:function(V,Z,le,re){var $=re&&re.renderer||this.parent._renderer,Q=$.drawingContext,H=(V=("object"===S(V)&&V.commands?V:this._getPath(V,Z,le,re)).commands,$._clipping||Q.beginPath(),!0);Z=!1,le=void 0;try{for(var xe,q=V[Symbol.iterator]();!(H=(xe=q.next()).done);H=!0){var j=xe.value;"M"===j.type?Q.moveTo(j.x,j.y):"L"===j.type?Q.lineTo(j.x,j.y):"C"===j.type?Q.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):"Q"===j.type?Q.quadraticCurveTo(j.x1,j.y1,j.x,j.y):"Z"===j.type&&Q.closePath()}}catch(oe){Z=!0,le=oe}finally{try{H||null==q.return||q.return()}finally{if(Z)throw le}}return $._doStroke&&$._strokeSet&&!$._clipping&&Q.stroke(),$._doFill&&!$._clipping&&($._fillSet||$._setFill(f._DEFAULT_TEXT_FILL),Q.fill()),this}},{key:"_textWidth",value:function(O,P){return this.font.getAdvanceWidth(O,P)}},{key:"_textAscent",value:function(O){return this.font.ascender*this._scale(O)}},{key:"_textDescent",value:function(O){return-this.font.descender*this._scale(O)}},{key:"_scale",value:function(O){return 1/this.font.unitsPerEm*(O||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(O,P,J,re,$){var Q=O._textSize;switch(void 0===$&&($=this._textWidth(P,Q)),O._textAlign){case f.CENTER:J-=$/2;break;case f.RIGHT:J-=$}switch(O._textBaseline){case f.TOP:re+=this._textAscent(Q);break;case f.CENTER:re+=this._textAscent(Q)/2;break;case f.BOTTOM:re-=this._textDescent(Q)}return{x:J,y:re}}}])&&w(k.prototype,X),N}(),B.default=o=_.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,ie,B){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,_){return v.push(_),v},o.default.prototype.arrayCopy=function(v,_,f,m,S){var w,i;v=void 0!==S?(i=Math.min(S,v.length),w=m,v.slice(_,i+_)):(i=void 0!==f?(i=f,Math.min(i,v.length)):v.length,f=_,v.slice(w=0,i)),Array.prototype.splice.apply(f,[w,i].concat(v))},o.default.prototype.concat=function(v,_){return v.concat(_)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,_){for(var f,m,S=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),w=(v=_||S?v:v.slice()).length;1<w;)f=this.random(0,1)*w|0,m=v[--w],v[w]=v[f],v[f]=m;return v},o.default.prototype.sort=function(v,m){var f=m?v.slice(0,Math.min(m,v.length)):v;return m=m?v.slice(Math.min(m,v.length)):[],(f="string"==typeof f[0]?f.sort():f.sort(function(S,w){return S-w})).concat(m)},o.default.prototype.splice=function(v,_,f){return Array.prototype.splice.apply(v,[f,0].concat(_)),v},o.default.prototype.subset=function(v,_,f){return v.slice(_,void 0!==f?_+f:v.length)},B.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,ie,B){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},v.default.prototype.int=function(_){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return _===1/0||"Infinity"===_?1/0:_===-1/0||"-Infinity"===_?-1/0:"string"==typeof _?parseInt(_,f):"number"==typeof _?0|_:"boolean"==typeof _?_?1:0:_ instanceof Array?_.map(function(m){return v.default.prototype.int(m,f)}):void 0},v.default.prototype.str=function(_){return _ instanceof Array?_.map(v.default.prototype.str):String(_)},v.default.prototype.boolean=function(_){return"number"==typeof _?0!==_:"string"==typeof _?"true"===_.toLowerCase():"boolean"==typeof _?_:_ instanceof Array?_.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(_){return"number"==typeof(_=v.default.prototype.int(_,10))?(_+128)%256-128:_ instanceof Array?_.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(_){return"number"!=typeof _||isNaN(_)?_ instanceof Array?_.map(v.default.prototype.char):"string"==typeof _?v.default.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},v.default.prototype.unchar=function(_){return"string"==typeof _&&1===_.length?_.charCodeAt(0):_ instanceof Array?_.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(_,f){if(f=null==f?8:f,_ instanceof Array)return _.map(function(S){return v.default.prototype.hex(S,f)});if(_===1/0||_===-1/0)return(_===1/0?"F":"0").repeat(f);if("number"==typeof _){_<0&&(_=4294967295+_+1);for(var m=Number(_).toString(16).toUpperCase();m.length<f;)m="0".concat(m);return m.length>=f?m.substring(m.length-f,m.length):m}},v.default.prototype.unhex=function(_){return _ instanceof Array?_.map(v.default.prototype.unhex):parseInt("0x".concat(_),16)},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(i=o("../core/main"))&&i.__esModule?i:{default:i};function _(l,a){return function(u){if(Array.isArray(u))return u}(l)||function(u,d){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var h=[],g=!0,p=!1,y=void 0;try{for(var T,z=u[Symbol.iterator]();!(g=(T=z.next()).done)&&(h.push(T.value),!d||h.length!==d);g=!0);}catch(G){p=!0,y=G}finally{try{g||null==z.return||z.return()}finally{if(p)throw y}}return h}}(l,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(l,a,u){var d=(h=_(l.toString().split("."),2))[0],h=h[1];return void 0===u?(d=d.padStart(a,"0"),h?d+"."+h:d):(d=(l=_(l.toFixed(u).toString().split("."),2))[0],h=l[1],d=d.padStart(a,"0"),void 0===h?d:d+"."+h)}function m(h,a){var u=(h=h.toString()).indexOf("."),d=-1!==u?h.substring(u):"";if(h=(h=-1!==u?h.substring(0,u):h).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===a)d="";else if(void 0!==a)if(a>d.length)for(var g=a-(d+=-1===u?".":"").length+1,p=0;p<g;p++)d+="0";else d=d.substring(0,a+1);return h+d}function S(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function w(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(l,a){return v.default._validateParameters("join",arguments),l.join(a)},v.default.prototype.match=function(l,a){return v.default._validateParameters("match",arguments),l.match(a)},v.default.prototype.matchAll=function(l,a){v.default._validateParameters("matchAll",arguments);for(var u=new RegExp(a,"g"),d=u.exec(l),h=[];null!==d;)h.push(d),d=u.exec(l);return h},v.default.prototype.nf=function(l,a,u){return v.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(d){return f(d,a,u)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):f(l,a,u)},v.default.prototype.nfc=function(l,a){return v.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(u){return m(u,a)}):m(l,a)},v.default.prototype.nfp=function(){for(var l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];v.default._validateParameters("nfp",a);var d=v.default.prototype.nf.apply(this,a);return d instanceof Array?d.map(S):S(d)},v.default.prototype.nfs=function(){for(var l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];v.default._validateParameters("nfs",a);var d=v.default.prototype.nf.apply(this,a);return d instanceof Array?d.map(w):w(d)},v.default.prototype.split=function(l,a){return v.default._validateParameters("split",arguments),l.split(a)},v.default.prototype.splitTokens=function(l,a){var u,d;return v.default._validateParameters("splitTokens",arguments),d=void 0!==a?(d=/\]/g.exec(a),(u=/\[/g.exec(a))&&d?(a=a.slice(0,d.index)+a.slice(d.index+1),u=/\[/g.exec(a),a=a.slice(0,u.index)+a.slice(u.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):d?(a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[".concat(a,"\\]]"),"g")):u?(a=a.slice(0,u.index)+a.slice(u.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,l.split(d).filter(function(h){return h})},v.default.prototype.trim=function(l){return v.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var i=v.default;B.default=i},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},B.default=o=o.default},{"../core/main":283}],326:[function(o,ie,B){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(i=o("../core/main"))&&i.__esModule?i:{default:i},m=(o("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var a=S();if(a&&a.has(l))return a.get(l);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=h?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(d,u,g):d[u]=l[u])}return d.default=l,a&&a.set(l,d),d}(o("../core/constants")));function S(){var l;return"function"!=typeof WeakMap?null:(S=function(){return l},l=new WeakMap)}function w(l,a,u,d,h,g,p){l=l<=0?1:l,a=a<0?0:a,u=u<=0?l:u,d=d<3?3:d;for(var y,T,z=(g=void 0===g||g)?-2:0,G=(h=h<1?1:h)+((p=void 0===p?0!==a:p)?2:0),N=Math.atan2(l-a,u),k=Math.sin(N),X=Math.cos(N),D=z;D<=G;++D){var O=D/h,P=u*O,J=void 0;for(J=D<0?(O=P=0,l):h<D?(P=u,O=1,a):l+(a-l)*O,-2!==D&&D!==h+2||(J=0),P-=u/2,y=0;y<d;++y){var re=y/(d-1),Q=2*Math.PI*re,$=Math.sin(Q),V=(Q=Math.cos(Q),this.vertices.push(new f.default.Vector($*J,P,Q*J)));V=D<0?new f.default.Vector(0,-1,0):h<D&&a?new f.default.Vector(0,1,0):new f.default.Vector($*X,k,Q*X),this.vertexNormals.push(V),this.uvs.push(re,O)}}var H=0;if(g){for(T=0;T<d;++T)this.faces.push([H+T,H+d+(T+1)%d,H+d+T]);H+=2*d}for(D=0;D<h;++D){for(y=0;y<d;++y){var Z=(y+1)%d;this.faces.push([H+y,H+Z,H+d+Z]),this.faces.push([H+y,H+d+Z,H+d+y])}H+=d}if(p)for(H+=d,y=0;y<d;++y)this.faces.push([H+y,H+(y+1)%d,H+d])}f.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},f.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},f.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},f.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},f.default.prototype.plane=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=(this._assert3d("plane"),f.default._validateParameters("plane",arguments),"plane|".concat(d,"|").concat(h));return this._renderer.geometryInHash(g)||((l=new f.default.Geometry(d,h,function(){for(var p,y,T=0;T<=this.detailY;T++)for(var z=T/this.detailY,G=0;G<=this.detailX;G++)y=new f.default.Vector((p=G/this.detailX)-.5,z-.5,0),this.vertices.push(y),this.uvs.push(p,z)})).computeFaces().computeNormals(),d<=1&&h<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(g,l)),this._renderer.drawBuffersScaled(g,a,u,1),this},f.default.prototype.box=function(l,a,u,d,h){this._assert3d("box"),f.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===a&&(a=l),void 0===u&&(u=a);var g,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===h&&(h=p?1:4),p="box|".concat(d=void 0===d?p?1:4:d,"|").concat(h),this._renderer.geometryInHash(p)||((g=new f.default.Geometry(d,h,function(){var y=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,z){z*=4;for(var G=0;G<4;G++){var N=new f.default.Vector((2*(1&(N=T[G]))-1)/2,((2&N)-1)/2,((4&N)/2-1)/2);y.vertices.push(N),y.uvs.push(1&G,(2&G)/2)}y.faces.push([z,1+z,2+z]),y.faces.push([2+z,1+z,3+z])})})).computeNormals(),d<=4&&h<=4?g._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,g)),this._renderer.drawBuffersScaled(p,l,a,u),this},f.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),f.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,a,u),this},f.default.prototype.cylinder=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],y=(this._assert3d("cylinder"),f.default._validateParameters("cylinder",arguments),"cylinder|".concat(d,"|").concat(h,"|").concat(g,"|").concat(p));return this._renderer.geometryInHash(y)||(l=new f.default.Geometry(d,h),w.call(l,1,1,1,d,h,g,p),d<=24&&h<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(y,l)),this._renderer.drawBuffersScaled(y,a,u,a),this},f.default.prototype.cone=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),f.default._validateParameters("cone",arguments),"cone|".concat(d,"|").concat(h,"|").concat(g));return this._renderer.geometryInHash(p)||(l=new f.default.Geometry(d,h),w.call(l,1,0,1,d,h,g,!1),d<=24&&h<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,a,u,a),this},f.default.prototype.ellipsoid=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),f.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(h,"|").concat(g));return this._renderer.geometryInHash(p)||((l=new f.default.Geometry(h,g,function(){for(var y=0;y<=this.detailY;y++)for(var T=y/this.detailY,z=Math.PI*T-Math.PI/2,G=Math.cos(z),N=Math.sin(z),k=0;k<=this.detailX;k++){var X=k/this.detailX,O=2*Math.PI*X,D=Math.cos(O);O=Math.sin(O),O=new f.default.Vector(G*O,N,G*D),this.vertices.push(O),this.vertexNormals.push(O),this.uvs.push(X,T)}})).computeFaces(),h<=24&&g<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,a,u,d),this},f.default.prototype.torus=function(l,p,u,d){if(this._assert3d("torus"),f.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===p)p=10;else if(!p)return;void 0===u&&(u=24),void 0===d&&(d=16);var h,g=(p/l).toPrecision(4);return p="torus|".concat(g,"|").concat(u,"|").concat(d),this._renderer.geometryInHash(p)||((h=new f.default.Geometry(u,d,function(){for(var y=0;y<=this.detailY;y++)for(var T=y/this.detailY,z=2*Math.PI*T,G=Math.cos(z),N=Math.sin(z),k=1+g*G,X=0;X<=this.detailX;X++){var D=X/this.detailX,O=2*Math.PI*D,J=Math.cos(O),P=(O=Math.sin(O),new f.default.Vector(k*J,k*O,g*N));J=new f.default.Vector(G*J,G*O,N),this.vertices.push(P),this.vertexNormals.push(J),this.uvs.push(D,T)}})).computeFaces(),u<=24&&d<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,h)),this._renderer.drawBuffersScaled(p,l,l,l),this},f.default.RendererGL.prototype.point=function(l,a){var u=[];return u.push(new f.default.Vector(l,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},f.default.RendererGL.prototype.triangle=function(p){var a=p[0],u=p[1],d=p[2],h=p[3],g=p[4],y=(p=p[5],this.geometryInHash("tri")||((y=new f.default.Geometry(1,1,function(){var G=[];G.push(new f.default.Vector(0,0,0)),G.push(new f.default.Vector(1,0,0)),G.push(new f.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=G,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),y.computeNormals(),this.createBuffers("tri",y)),this.uModelMatrix.copy());try{var T=Math.sign(a*h-d*u+d*p-g*h+g*u-a*p),z=new f.default.Matrix([d-a,h-u,0,0,g-a,p-u,0,0,0,0,T,0,a,u,0,1]).mult(this.uModelMatrix);this.uModelMatrix=z,this.drawBuffers("tri")}finally{this.uModelMatrix=y}return this},f.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,m.TWO_PI,m.OPEN,l[4])},f.default.RendererGL.prototype.arc=function(){var l,a=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],d=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3],g=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],y=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,z=(Math.abs(p-g)>=m.TWO_PI?"".concat(G="ellipse","|"):"".concat(G="arc","|").concat(g,"|").concat(p,"|").concat(y,"|")).concat(T,"|"),G=(this.geometryInHash(z)||((l=new f.default.Geometry(T,1,function(){if(g.toFixed(10)!==p.toFixed(10)){y!==m.PIE&&void 0!==y||(this.vertices.push(new f.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var N=0;N<=T;N++){var X=N/T*(p-g)+g,k=.5+Math.cos(X)/2;X=.5+Math.sin(X)/2,this.vertices.push(new f.default.Vector(k,X,0)),this.uvs.push([k,X]),N<T-1&&(this.faces.push([0,N+1,N+2]),this.edges.push([N+1,N+2]))}switch(y){case m.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case m.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case m.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(G," with more than 50 detail")),this.createBuffers(z,l)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,u,0]),this.uModelMatrix.scale(d,h,1),this.drawBuffers(z)}finally{this.uModelMatrix=G}return this},f.default.RendererGL.prototype.rect=function(l){var a=l[0],u=l[1],d=l[2],h=l[3];if(void 0===l[4]){var y=this._pInst._glAttributes.perPixelLighting,g=l[4]||(y?1:24),p=l[5]||(y?1:16),T=(y="rect|".concat(g,"|").concat(p),this.geometryInHash(y)||((T=new f.default.Geometry(g,p,function(){for(var V=0;V<=this.detailY;V++)for(var H=V/this.detailY,Z=0;Z<=this.detailX;Z++){var le=Z/this.detailX,xe=new f.default.Vector(le,H,0);this.vertices.push(xe),this.uvs.push(le,H)}0<g&&0<p&&(this.edges=[[0,g],[g,(g+1)*(p+1)-1],[(g+1)*(p+1)-1,(g+1)*p],[(g+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(y,T)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,u,0]),this.uModelMatrix.scale(d,h,1),this.drawBuffers(y)}finally{this.uModelMatrix=T}}else{y=l[4],T=void 0===l[5]?y:l[5];var z=void 0===l[6]?T:l[6],O=(l=void 0===l[7]?z:l[7],d),G=h,N=((O+=a)<a&&(X=a,a=O,O=X),(G+=u)<u&&(X=u,u=G,G=X),(X=Math.min((O-a)/2,(G-u)/2))<y&&(y=X),X<T&&(T=X),X<z&&(z=X),X<l&&(l=X),a),k=u,X=O,D=(a=G,this.beginShape(),0!==T?(this.vertex(X-T,k),this.quadraticVertex(X,k,X,k+T)):this.vertex(X,k),0!==z?(this.vertex(X,a-z),this.quadraticVertex(X,a,X-z,a)):this.vertex(X,a),0!==l?(this.vertex(N+l,a),this.quadraticVertex(N,a,N,a-l)):this.vertex(N,a),0!==y?(this.vertex(N,k+y),this.quadraticVertex(N,k,N+y,k)):this.vertex(N,k),!(this.immediateMode.geometry.uvs.length=0));u=!1,O=void 0;try{for(var P,J=this.immediateMode.geometry.vertices[Symbol.iterator]();!(D=(P=J.next()).done);D=!0){var re=P.value;this.immediateMode.geometry.uvs.push((re.x-N)/d,(re.y-k)/h)}}catch(q){u=!0,O=q}finally{try{D||null==J.return||J.return()}finally{if(u)throw O}}this.endShape(m.CLOSE)}return this},f.default.RendererGL.prototype.quad=function(l,a,u,d,h,g,p,y,T,z,G,N){var k=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,X=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,D="quad|".concat(l,"|").concat(a,"|").concat(u,"|").concat(d,"|").concat(h,"|").concat(g,"|").concat(p,"|").concat(y,"|").concat(T,"|").concat(z,"|").concat(G,"|").concat(N,"|").concat(k,"|").concat(X);if(!this.geometryInHash(D)){var O=new f.default.Geometry(k,X,function(){for(var Z=1/(this.detailX-1),le=1/(this.detailY-1),xe=0;xe<this.detailY;xe++)for(var q=0;q<this.detailX;q++){var j=q*Z,oe=xe*le;this.vertices.push(new f.default.Vector((1-j)*((1-oe)*l+oe*z)+j*((1-oe)*d+oe*p),(1-j)*((1-oe)*a+oe*G)+j*((1-oe)*h+oe*y),(1-j)*((1-oe)*u+oe*N)+j*((1-oe)*g+oe*T))),this.uvs.push([j,oe])}});O.faces=[];for(var P=0;P<X-1;P++)for(var J=0;J<k-1;J++){var re=J+P*k,$=J+1+(P+1)*k,Q=J+(P+1)*k;O.faces.push([re,J+1+P*k,$]),O.faces.push([re,$,Q])}O.computeNormals();for(var V=[O.edges.length=0,2,3,1],H=0;H<V.length;H++)O.edges.push([V[H],V[(H+1)%V.length]]);O._edgesToVertices(),this.createBuffers(D,O)}return this.drawBuffers(D),this},f.default.RendererGL.prototype.bezier=function(l,a,u,d,h,g,p,y,T,z,G,N){8===arguments.length&&(G=y,z=p,y=g,p=h,h=d,d=u,u=g=T=N=0);var k=this._pInst._bezierDetail||20;this.beginShape();for(var X=0;X<=k;X++){var D=Math.pow(1-X/k,3),O=X/k*3*Math.pow(1-X/k,2),P=3*Math.pow(X/k,2)*(1-X/k),J=Math.pow(X/k,3);this.vertex(l*D+d*O+p*P+z*J,a*D+h*O+y*P+G*J,u*D+g*O+T*P+N*J)}return this.endShape(),this},f.default.RendererGL.prototype.curve=function(l,a,u,d,h,g,p,y,T,z,G,N){8===arguments.length&&(z=p,G=y,p=h,y=d,h=d=u,u=g=T=N=0);var k=this._pInst._curveDetail;this.beginShape();for(var X=0;X<=k;X++){var D=.5*Math.pow(X/k,3),O=.5*Math.pow(X/k,2),P=X/k*.5;this.vertex(D*(3*d-l-3*p+z)+O*(2*l-5*d+4*p-z)+P*(-l+p)+2*d*.5,D*(3*h-a-3*y+G)+O*(2*a-5*h+4*y-G)+P*(-a+y)+2*h*.5,D*(3*g-u-3*T+N)+O*(2*u-5*g+4*T-N)+P*(-u+T)+2*g*.5)}return this.endShape(),this},f.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(m.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(m.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},f.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,a,u,d,h,g,p=[],y=[],T=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var z=1/this._lutBezierDetail,G=0,N=1,k=0;G<1;){if(g=parseFloat(G.toFixed(6)),this._lookUpTableBezier[k]=this._bezierCoefficients(g),N.toFixed(6)===z.toFixed(6)){g=parseFloat(N.toFixed(6))+parseFloat(G.toFixed(6)),++k,this._lookUpTableBezier[k]=this._bezierCoefficients(g);break}G+=z,N-=z,++k}}for(var X=this._lookUpTableBezier.length,D=[],O=0;O<4;O++)D.push([]);D[0]=this.immediateMode.geometry.vertexColors.slice(-4),D[3]=this.curFillColor.slice();var P=[];for(O=0;O<4;O++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[3]=this.curStrokeColor.slice(),6===T){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var J=Math.hypot(p[0]-p[1],y[0]-y[1]),$=Math.hypot(p[1]-p[2],y[1]-y[2]),re=Math.hypot(p[2]-p[3],y[2]-y[3]);for(J/=$=J+$+re,re/=$,h=0;h<4;h++)D[1].push(D[0][h]*(1-J)+D[3][h]*J),D[2].push(D[0][h]*re+D[3][h]*(1-re)),P[1].push(P[0][h]*(1-J)+P[3][h]*J),P[2].push(P[0][h]*re+P[3][h]*(1-re));for(d=0;d<X;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],O=l=a=0;O<4;O++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[d][O]*D[O][h],this.curStrokeColor[h]+=this._lookUpTableBezier[d][O]*P[O][h];l+=p[O]*this._lookUpTableBezier[d][O],a+=y[O]*this._lookUpTableBezier[d][O]}this.vertex(l,a)}this.curFillColor=D[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===T){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],V=Math.hypot(p[0]-p[1],y[0]-y[1],Q[0]-Q[1]),H=($=Math.hypot(p[1]-p[2],y[1]-y[2],Q[1]-Q[2]),Math.hypot(p[2]-p[3],y[2]-y[3],Q[2]-Q[3]));for(V/=T=V+$+H,H/=T,h=0;h<4;h++)D[1].push(D[0][h]*(1-V)+D[3][h]*V),D[2].push(D[0][h]*H+D[3][h]*(1-H)),P[1].push(P[0][h]*(1-V)+P[3][h]*V),P[2].push(P[0][h]*H+P[3][h]*(1-H));for(d=0;d<X;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],O=l=a=u=0;O<4;O++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[d][O]*D[O][h],this.curStrokeColor[h]+=this._lookUpTableBezier[d][O]*P[O][h];l+=p[O]*this._lookUpTableBezier[d][O],a+=y[O]*this._lookUpTableBezier[d][O],u+=Q[O]*this._lookUpTableBezier[d][O]}this.vertex(l,a,u)}this.curFillColor=D[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},f.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,a,u,d,h,g,p=[],y=[],T=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var z=1/this._lutQuadraticDetail,G=0,N=1,k=0;G<1;){if(g=parseFloat(G.toFixed(6)),this._lookUpTableQuadratic[k]=this._quadraticCoefficients(g),N.toFixed(6)===z.toFixed(6)){g=parseFloat(N.toFixed(6))+parseFloat(G.toFixed(6)),++k,this._lookUpTableQuadratic[k]=this._quadraticCoefficients(g);break}G+=z,N-=z,++k}}for(var X=this._lookUpTableQuadratic.length,D=[],O=0;O<3;O++)D.push([]);D[0]=this.immediateMode.geometry.vertexColors.slice(-4),D[2]=this.curFillColor.slice();var P=[];for(O=0;O<3;O++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[2]=this.curStrokeColor.slice(),4===T){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var J=Math.hypot(p[0]-p[1],y[0]-y[1]);for(J/=J+Math.hypot(p[1]-p[2],y[1]-y[2]),h=0;h<4;h++)D[1].push(D[0][h]*(1-J)+D[2][h]*J),P[1].push(P[0][h]*(1-J)+P[2][h]*J);for(d=0;d<X;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],O=l=a=0;O<3;O++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[d][O]*D[O][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[d][O]*P[O][h];l+=p[O]*this._lookUpTableQuadratic[d][O],a+=y[O]*this._lookUpTableQuadratic[d][O]}this.vertex(l,a)}this.curFillColor=D[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===T){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var re=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],$=Math.hypot(p[0]-p[1],y[0]-y[1],re[0]-re[1]);for($/=$+Math.hypot(p[1]-p[2],y[1]-y[2],re[1]-re[2]),h=0;h<4;h++)D[1].push(D[0][h]*(1-$)+D[2][h]*$),P[1].push(P[0][h]*(1-$)+P[2][h]*$);for(d=0;d<X;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],O=l=a=u=0;O<3;O++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[d][O]*D[O][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[d][O]*P[O][h];l+=p[O]*this._lookUpTableQuadratic[d][O],a+=y[O]*this._lookUpTableQuadratic[d][O],u+=re[O]*this._lookUpTableQuadratic[d][O]}this.vertex(l,a,u)}this.curFillColor=D[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},f.default.RendererGL.prototype.curveVertex=function(){var l,h,g,p=[],y=[],T=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var z=1/this._lutBezierDetail,G=0,N=1,k=0;G<1;){if(g=parseFloat(G.toFixed(6)),this._lookUpTableBezier[k]=this._bezierCoefficients(g),N.toFixed(6)===z.toFixed(6)){g=parseFloat(N.toFixed(6))+parseFloat(G.toFixed(6)),++k,this._lookUpTableBezier[k]=this._bezierCoefficients(g);break}G+=z,N-=z,++k}}var X=this._lookUpTableBezier.length;if(2===T){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),h=0;h<X;h++)this.vertex(p[0]*this._lookUpTableBezier[h][0]+p[1]*this._lookUpTableBezier[h][1]+p[2]*this._lookUpTableBezier[h][2]+p[3]*this._lookUpTableBezier[h][3],y[0]*this._lookUpTableBezier[h][0]+y[1]*this._lookUpTableBezier[h][1]+y[2]*this._lookUpTableBezier[h][2]+y[3]*this._lookUpTableBezier[h][3]);for(h=0;h<T;h++)this.immediateMode._curveVertex.shift()}}else if(3===T&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),h=0;h<X;h++)this.vertex(p[0]*this._lookUpTableBezier[h][0]+p[1]*this._lookUpTableBezier[h][1]+p[2]*this._lookUpTableBezier[h][2]+p[3]*this._lookUpTableBezier[h][3],y[0]*this._lookUpTableBezier[h][0]+y[1]*this._lookUpTableBezier[h][1]+y[2]*this._lookUpTableBezier[h][2]+y[3]*this._lookUpTableBezier[h][3],l[0]*this._lookUpTableBezier[h][0]+l[1]*this._lookUpTableBezier[h][1]+l[2]*this._lookUpTableBezier[h][2]+l[3]*this._lookUpTableBezier[h][3]);for(h=0;h<T;h++)this.immediateMode._curveVertex.shift()}},f.default.RendererGL.prototype.image=function(l,N,u,k,h,g,p,y,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(m.NORMAL);var z=0,G=(N<=l.width&&(z=N/l.width),1);N+k<=l.width&&(G=(N+k)/l.width),N=0,u<=l.height&&(N=u/l.height),k=1,u+h<=l.height&&(k=(u+h)/l.height),this.beginShape(),this.vertex(g,p,0,z,N),this.vertex(g+y,p,0,G,N),this.vertex(g+y,p+T,0,G,k),this.vertex(g,p+T,0,z,k),this.endShape(m.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(m.REMOVE)};var i=f.default;B.default=i},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,ie,B){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(l=o("../core/main"))&&l.__esModule?l:{default:l},m=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var u=S();if(u&&u.has(a))return u.get(a);var d,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var p;Object.prototype.hasOwnProperty.call(a,d)&&((p=g?Object.getOwnPropertyDescriptor(a,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=a[d])}return h.default=a,u&&u.set(a,h),h}(o("../core/constants"));function S(){var a;return"function"!=typeof WeakMap?null:(S=function(){return a},a=new WeakMap)}function w(a){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(a)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(a,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}var l=function(){function a(g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=g)._pInst.push(),this.identityMatrix=new f.default.Matrix,g.uModelMatrix=new f.default.Matrix,this.geometry=new f.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var u,d;return u=a,(d=[{key:"transformVertices",value:function(g){var p=this;return this.hasTransform?g.map(function(y){return p.renderer.uModelMatrix.multiplyPoint(y)}):g}},{key:"transformNormals",value:function(g){var p=this;return this.hasTransform?g.map(function(y){return p.renderer.uNMatrix.multiplyVec3(y)}):g}},{key:"addGeometry",value:function(g){for(var p,y=this,T=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(G,N){return G===y.identityMatrix.mat4[N]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),z=((p=this.geometry.vertices).push.apply(p,w(this.transformVertices(g.vertices))),(p=this.geometry.vertexNormals).push.apply(p,w(this.transformNormals(g.vertexNormals))),(p=this.geometry.uvs).push.apply(p,w(g.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,w(g.faces.map(function(G){return G.map(function(N){return N+T})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,w(g.edges.map(function(G){return G.map(function(N){return N+T})}))),w(g.vertexColors));z.length<4*g.vertices.length;)z.push.apply(z,w(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,w(z))}},{key:"addImmediate",value:function(){var g=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,y=[];if(this.renderer._doFill)if(p===m.TRIANGLE_STRIP||p===m.QUAD_STRIP)for(var T=2;T<g.vertices.length;T++)y.push(T%2==0?[T,T-1,T-2]:[T,T-2,T-1]);else if(p===m.TRIANGLE_FAN)for(var z=2;z<g.vertices.length;z++)y.push([0,z-1,z]);else for(var G=0;G<g.vertices.length;G+=3)y.push([G,G+1,G+2]);this.addGeometry(Object.assign({},g,{faces:y}))}},{key:"addRetained",value:function(g){this.addGeometry(g.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&i(u.prototype,d),a}();l.nextGeometryId=0,B.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var _=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==S(i)&&"function"!=typeof i)return{default:i};var l=m();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function m(){var i;return"function"!=typeof WeakMap?null:(m=function(){return i},i=new WeakMap)}function S(i){return(S="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}_.default.prototype.orbitControl=function(i,l,a,T){var d=this,h=(this._assert3d("orbitControl"),_.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===i&&(i=1),void 0===l&&(l=i),void 0===a&&(a=1),"object"!==S(T)&&(T={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var G=T.disableTouchActions;!0===this.touchActionsDisabled||void 0!==G&&!G||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),T=void 0!==(G=T.freeRotation)&&G;var g,p,y,z=[],N=(this.touches.forEach(function(J){d._renderer.prevTouches.forEach(function(re){J.id===re.id&&z.push(re={x:J.x,y:J.y,px:re.x,py:re.y})})}),this._renderer.prevTouches=this.touches,G=0,0),k=0,X=0,D=0,O=this.height<this.width?this.height:this.width,P=!1;return 0<z.length?(P=0<z[0].x&&z[0].x<this.width&&0<z[0].y&&z[0].y<this.height,1===z.length?(N=-i*((g=z[0]).x-g.px)/O,k=l*(g.y-g.py)/O):(g=z[0],p=z[1],G=-(Math.hypot(g.x-p.x,g.y-p.y)-Math.hypot(g.px-p.px,g.py-p.py))*a*4e-4,X=.5*(g.x+p.x)-.5*(g.px+p.px),D=.5*(g.y+p.y)-.5*(g.py+p.py)),0<this.touches.length?P&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(P=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(G=Math.sign(this._mouseWheelDeltaY)*a,G*=.01,this._mouseWheelDeltaY=0,P&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(N=-i*this.movedX/O,k=l*this.movedY/O):this.mouseButton===this.RIGHT&&(X=this.movedX,D=this.movedY*h.yScale),P&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==G&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=G),.001<Math.abs(this._renderer.zoomVelocity)?(T?h._orbitFree(0,0,this._renderer.zoomVelocity):h._orbit(0,0,this._renderer.zoomVelocity),0!==h.projMatrix.mat4[15]&&(h.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),h.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=h.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=h.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===N&&0===k||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*N,.6*k),1e-6<this._renderer.rotateVelocity.magSq()?(T?h._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):h._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===X&&0===D||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(g=2*X/this.width),.15*(p=2*-D/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(a=h._getLocalAxes(),i=h.eyeX-h.centerX,l=h.eyeY-h.centerY,O=h.eyeZ-h.centerZ,P=Math.sqrt(i*i+l*l+O*O),G=new _.default.Vector(h.centerX,h.centerY,h.centerZ),G=h.cameraMatrix.multiplyPoint(G),(G=this._renderer.uPMatrix.multiplyAndNormalizePoint(G)).x-=this._renderer.moveVelocity.x,G.y-=this._renderer.moveVelocity.y,k=0===(N=this._renderer.uPMatrix.mat4)[15]?(y=(N[8]+G.x)/N[0]*P,(N[9]+G.y)/N[5]*P):(y=(G.x-N[12])/N[0],(G.y-N[13])/N[5]),h.setPosition(h.eyeX+y*a.x[0]+k*a.y[0],h.eyeY+y*a.x[1]+k*a.y[1],h.eyeZ+y*a.x[2]+k*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},_.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];_.default._validateParameters("debugMode",l);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);l[0]===f.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===f.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},_.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},_.default.prototype._grid=function(i,l,a,u,d){void 0===i&&(i=this.width/2),void 0===l&&(l=Math.round(i/30)<4?4:Math.round(i/30)),void 0===a&&(a=0),void 0===u&&(u=0),void 0===d&&(d=0);var h=i/l,g=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var p=0;p<=l;p++)this.beginShape(this.LINES),this.vertex(-g+a,u,p*h-g+d),this.vertex(g+a,u,p*h-g+d),this.endShape();for(var y=0;y<=l;y++)this.beginShape(this.LINES),this.vertex(y*h-g+a,u,-g+d),this.vertex(y*h-g+a,u,g+d),this.endShape();this.pop()}},_.default.prototype._axesIcon=function(i,l,a,u){return void 0===i&&(i=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===a&&(a=l),void 0===u&&(u=l),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,a,u),this.vertex(l+i,a,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,a,u),this.vertex(l,a+i,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,a,u),this.vertex(l,a,u+i),this.endShape(),this.pop()}};var w=_.default;B.default=w},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,ie,B){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(_,f,m,S){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(_,f,m){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var S=this.color.apply(this,arguments);return this._renderer.specularColors=[S._array[0],S._array[1],S._array[2]],this},v.default.prototype.directionalLight=function(_,d,u,S,w,i){var l,a;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),_=_ instanceof v.default.Color?_:this.color(_,d,u),u="number"==typeof(d=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=d.x,a=d.y,d.z),d=Math.sqrt(l*l+a*a+u*u),this._renderer.directionalLightDirections.push(l/d,a/d,u/d),this._renderer.directionalLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(_,u,d,S,w,i){var l,a;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),_=_ instanceof v.default.Color?_:this.color(_,u,d),d="number"==typeof(u=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=u.x,a=u.y,u.z),this._renderer.pointLightPositions.push(l,a,d),this._renderer.pointLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(_){this._renderer.activeImageLight=_,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(_){this.filter(this._renderer._getSphereMapping(_))},v.default.prototype.lights=function(){this._assert3d("lights");var _=this.color("rgb(128,128,128)");return this.ambientLight(_),this.directionalLight(_,0,0,-1),this},v.default.prototype.lightFalloff=function(_,f,m){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),_<0&&(_=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),m<0&&(m=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===_&&0===f&&0===m&&(_=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=_,this._renderer.linearAttenuation=f,this._renderer.quadraticAttenuation=m,this},v.default.prototype.spotLight=function(_,f,m,S,w,i,l,a,u,d,h){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var g,p,y,T=arguments.length;switch(T){case 11:case 10:g=this.color(_,f,m),p=new v.default.Vector(S,w,i),y=new v.default.Vector(l,a,u);break;case 9:_ instanceof v.default.Color?(g=_,p=new v.default.Vector(f,m,S),y=new v.default.Vector(w,i,l),d=a,h=u):S instanceof v.default.Vector?(g=this.color(_,f,m),p=S,y=new v.default.Vector(w,i,l),d=a,h=u):l instanceof v.default.Vector?(g=this.color(_,f,m),p=new v.default.Vector(S,w,i),y=l,d=a,h=u):(g=this.color(_,f,m),p=new v.default.Vector(S,w,i),y=new v.default.Vector(l,a,u));break;case 8:y=_ instanceof v.default.Color?(g=_,p=new v.default.Vector(f,m,S),new v.default.Vector(w,i,l)):S instanceof v.default.Vector?(g=this.color(_,f,m),p=S,new v.default.Vector(w,i,l)):(g=this.color(_,f,m),p=new v.default.Vector(S,w,i),l),d=a;break;case 7:_ instanceof v.default.Color&&f instanceof v.default.Vector?(g=_,p=f,y=new v.default.Vector(m,S,w),d=i,h=l):_ instanceof v.default.Color&&w instanceof v.default.Vector?(g=_,p=new v.default.Vector(f,m,S),y=w,d=i,h=l):S instanceof v.default.Vector&&w instanceof v.default.Vector?(g=this.color(_,f,m),p=S,y=w,d=i,h=l):y=_ instanceof v.default.Color?(g=_,p=new v.default.Vector(f,m,S),new v.default.Vector(w,i,l)):S instanceof v.default.Vector?(g=this.color(_,f,m),p=S,new v.default.Vector(w,i,l)):(g=this.color(_,f,m),p=new v.default.Vector(S,w,i),l);break;case 6:S instanceof v.default.Vector&&w instanceof v.default.Vector?(g=this.color(_,f,m),p=S,y=w,d=i):_ instanceof v.default.Color&&w instanceof v.default.Vector?(g=_,p=new v.default.Vector(f,m,S),y=w,d=i):_ instanceof v.default.Color&&f instanceof v.default.Vector&&(g=_,p=f,y=new v.default.Vector(m,S,w),d=i);break;case 5:_ instanceof v.default.Color&&f instanceof v.default.Vector&&m instanceof v.default.Vector?(g=_,p=f,y=m,d=S,h=w):S instanceof v.default.Vector&&w instanceof v.default.Vector?(g=this.color(_,f,m),p=S,y=w):_ instanceof v.default.Color&&w instanceof v.default.Vector?(g=_,p=new v.default.Vector(f,m,S),y=w):_ instanceof v.default.Color&&f instanceof v.default.Vector&&(g=_,p=f,y=new v.default.Vector(m,S,w));break;case 4:g=_,p=f,y=m,d=S;break;case 3:g=_,p=f,y=m;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(g._array[0],g._array[1],g._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),y.normalize(),this._renderer.spotLightDirections.push(y.x,y.y,y.z),void 0===d&&(d=Math.PI/3),void 0!==h&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===h&&(h=100),d=this._renderer._pInst._toRadians(d),this._renderer.spotLightAngle.push(Math.cos(d)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var _=arguments.length,f=new Array(_),m=0;m<_;m++)f[m]=arguments[m];return v.default._validateParameters("noLights",f),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},B.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,ie,B){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,o("regenerator-runtime/runtime");var _=(i=o("../core/main"))&&i.__esModule?i:{default:i};function f(l){return function(a){if(Array.isArray(a)){for(var u=0,d=new Array(a.length);u<a.length;u++)d[u]=a[u];return d}}(l)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(l,a,u,d,h,g,p){try{var y=l[g](p),T=y.value}catch(z){return void u(z)}y.done?a(T):Promise.resolve(T).then(d,h)}function S(l){return function(){var a=this,u=arguments;return new Promise(function(d,h){var g=l.apply(a,u);function p(T){m(g,d,h,p,y,"next",T)}function y(T){m(g,d,h,p,y,"throw",T)}p(void 0)})}}function w(l){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Geometry"),_.default.prototype.loadModel=function(l,a){_.default._validateParameters("loadModel",arguments);var u,d,k,h=!1,g=!1,p=!1,y=l.slice(-4),T=(a&&"object"===w(a)?(h=a.normalize||!1,u=a.successCallback,d=a.failureCallback,y=a.fileType||y,g=a.flipU||!1,p=a.flipV||!1):"boolean"==typeof a?(h=a,u=arguments[2],d=arguments[3],void 0!==arguments[4]&&(y=arguments[4])):(u="function"==typeof a?a:void 0,d=arguments[2],void 0!==arguments[3]&&(y=arguments[3])),new _.default.Geometry),z=(T.gid="".concat(l,"|").concat(h),this);function G(){return(G=S(I.mark(function k(X){var D,O,P,J;return I.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:for(D=[],O=0;O<X.length;O++)(P=X[O].match(/^mtllib (.+)/))&&function(){var $,Q=P[1],V=l.split("/");$=1<V.length?(V.pop(),V.join("/")+"/"+Q):Q,D.push(function(){return N.apply(this,arguments)}($).then(function(H){return H?(Z=z,le=$,new Promise(function(xe,q){var j=null,oe={};Z.loadStrings(le,function(me){for(var Se=0;Se<me.length;++Se){var Xe=me[Se].trim().split(/\s+/);"newmtl"===Xe[0]?oe[j=Xe[1]]={}:"Kd"===Xe[0]?oe[j].diffuseColor=[parseFloat(Xe[1]),parseFloat(Xe[2]),parseFloat(Xe[3])]:"Ka"===Xe[0]?oe[j].ambientColor=[parseFloat(Xe[1]),parseFloat(Xe[2]),parseFloat(Xe[3])]:"Ks"===Xe[0]?oe[j].specularColor=[parseFloat(Xe[1]),parseFloat(Xe[2]),parseFloat(Xe[3])]:"map_Kd"===Xe[0]&&(oe[j].texturePath=Xe[1])}xe(oe)},q)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat($)),{});var Z,le}).catch(function(H){return console.warn("Error loading MTL file: ".concat($),H),{}}))}();return re.prev=2,re.next=5,Promise.all(D);case 5:return J=re.sent,J=Object.assign.apply(Object,[{}].concat(f(J))),re.abrupt("return",J);case 10:return re.prev=10,re.t0=re.catch(2),re.abrupt("return",{});case 13:case"end":return re.stop()}},k,null,[[2,10]])}))).apply(this,arguments)}function N(){return(N=S(I.mark(function k(X){return I.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,fetch(X,{method:"HEAD"});case 3:return O.abrupt("return",O.sent.ok);case 7:return O.prev=7,O.t0=O.catch(0),O.abrupt("return",!1);case 10:case"end":return O.stop()}},k,null,[[0,7]])}))).apply(this,arguments)}return y.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(k){(function(X,D){if(function(O){for(var P=new DataView(O),J=[115,111,108,105,100],re=0;re<5;re++)if(function($,Q,V){for(var H=0,Z=$.length;H<Z;H++)if($[H]!==Q.getUint8(V+H,!1))return;return 1}(J,P,re))return;return 1}(D))!function(O,P){for(var J,re,$,Q,V,H,Z,le=new DataView(P),xe=le.getUint32(80,!0),q=!1,j=0;j<70;j++)1129270351===le.getUint32(j,!1)&&82===le.getUint8(j+4)&&61===le.getUint8(j+5)&&(q=!0,Q=[],V=le.getUint8(j+6)/255,H=le.getUint8(j+7)/255,Z=le.getUint8(j+8)/255);for(var oe=0;oe<xe;oe++){for(var me,Se=84+50*oe,Le=le.getFloat32(Se,!0),Xe=le.getFloat32(4+Se,!0),lt=le.getFloat32(8+Se,!0),He=(q&&($=32768&(me=le.getUint16(48+Se,!0))?(J=V,re=H,Z):(J=(31&me)/31,re=(me>>5&31)/31,(me>>10&31)/31)),new _.default.Vector(Le,Xe,lt)),nt=1;nt<=3;nt++){var at=new _.default.Vector(le.getFloat32(at=Se+12*nt,!0),le.getFloat32(4+at,!0),le.getFloat32(8+at,!0));O.vertices.push(at),O.vertexNormals.push(He),q&&Q.push(J,re,$)}O.faces.push([3*oe,3*oe+1,3*oe+2]),O.uvs.push([0,0],[0,0],[0,0])}}(X,D);else{if(D=new DataView(D),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(O,P){for(var J,re,$="",Q=[],V=0;V<P.length;++V){for(var H=P[V].trim(),Z=H.split(" "),le=0;le<Z.length;++le)""===Z[le]&&Z.splice(le,1);if(0!==Z.length)switch($){case"":if("solid"!==Z[0])return console.error(H),console.error('Invalid state "'.concat(Z[0],'", should be "solid"'));$="solid";break;case"solid":if("facet"!==Z[0]||"normal"!==Z[1])return console.error(H),console.error('Invalid state "'.concat(Z[0],'", should be "facet normal"'));J=new _.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),O.vertexNormals.push(J,J,J),$="facet normal";break;case"facet normal":if("outer"!==Z[0]||"loop"!==Z[1])return console.error(H),console.error('Invalid state "'.concat(Z[0],'", should be "outer loop"'));$="vertex";break;case"vertex":if("vertex"===Z[0])re=new _.default.Vector(parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])),O.vertices.push(re),O.uvs.push([0,0]),Q.push(O.vertices.indexOf(re));else{if("endloop"!==Z[0])return console.error(H),console.error('Invalid state "'.concat(Z[0],'", should be "vertex" or "endloop"'));O.faces.push(Q),Q=[],$="endloop"}break;case"endloop":if("endfacet"!==Z[0])return console.error(H),console.error('Invalid state "'.concat(Z[0],'", should be "endfacet"'));$="endfacet";break;case"endfacet":if("endsolid"!==Z[0]){if("facet"!==Z[0]||"normal"!==Z[1])return console.error(H),console.error('Invalid state "'.concat(Z[0],'", should be "endsolid" or "facet normal"'));J=new _.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),O.vertexNormals.push(J,J,J),$="facet normal"}break;default:console.error('Invalid state "'.concat($,'"'))}}}(X,D=new TextDecoder("utf-8").decode(D).split("\n"))}})(T,k),h&&T.normalize(),g&&T.flipU(),p&&T.flipV(),z._decrementPreload(),"function"==typeof u&&u(T)},d):y.match(/\.obj$/i)?this.loadStrings(l,(k=S(I.mark(function X(D){return I.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,function(){return G.apply(this,arguments)}(D);case 3:(function(J,re){for(var $=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Q={v:[],vt:[],vn:[]},V={},H=null,Z=new Set,le=!1,xe=!1,q=0;q<re.length;++q){var j=re[q].trim().split(/\b\s+/);if(0<j.length)if("usemtl"===j[0])H=j[1];else if("v"===j[0]||"vn"===j[0]){var oe=new _.default.Vector(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));Q[j[0]].push(oe)}else if("vt"===j[0])oe=[parseFloat(j[1]),1-parseFloat(j[2])],Q[j[0]].push(oe);else if("f"===j[0])for(var me=3;me<j.length;++me){for(var Se=[],Le=[1,me-1,me],Xe=0;Xe<Le.length;++Xe){for(var lt,He=j[Le[Xe]],nt=He.split("/"),at=0;at<nt.length;at++)nt[at]=parseInt(nt[at])-1;V[He]||(V[He]={}),void 0===V[He][H]?(lt=J.vertices.length,J.vertices.push(Q.v[nt[0]].copy()),J.uvs.push(Q.vt[nt[1]]?Q.vt[nt[1]].slice():[0,0]),J.vertexNormals.push(Q.vn[nt[2]]?Q.vn[nt[2]].copy():new _.default.Vector),V[He][H]=lt,Se.push(lt),H&&$[H]&&$[H].diffuseColor&&Z.add(Q.v[nt[0]])):Se.push(V[He][H])}if(Se[0]!==Se[1]&&Se[0]!==Se[2]&&Se[1]!==Se[2])if(J.faces.push(Se),H&&$[H]&&$[H].diffuseColor){le=le=!0;for(var Be=$[H].diffuseColor,st=0;st<Se.length;st++)J.vertexColors.push(Be[0]),J.vertexColors.push(Be[1]),J.vertexColors.push(Be[2])}else xe=!0}}if(0===J.vertexNormals.length&&J.computeNormals(),le===xe)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(T,D,P.sent),P.next=11;break;case 7:return P.prev=7,P.t0=P.catch(0),d?d(P.t0):_.default._friendlyError("Error during parsing: "+P.t0.message),P.abrupt("return");case 11:return P.prev=11,h&&T.normalize(),g&&T.flipU(),p&&T.flipV(),z._decrementPreload(),"function"==typeof u&&u(T),P.finish(11);case 18:case"end":return P.stop()}},X,null,[[0,7,11,18]])})),function(X){return k.apply(this,arguments)}),d):(_.default._friendlyFileLoadError(3,l),d?d():_.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},_.default.prototype.model=function(l){this._assert3d("model"),_.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(0===l.edges.length&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var i=_.default;B.default=i},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(w=o("../core/main"))&&w.__esModule?w:{default:w},m=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var l=S();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}o("./p5.Texture"),f.default.prototype.loadShader=function(i,l,a,u){function d(){g._decrementPreload(),a&&a(h)}f.default._validateParameters("loadShader",arguments),u=u||console.error;var h=new f.default.Shader,g=this,p=!1,y=!1;return this.loadStrings(i,function(T){h._vertSrc=T.join("\n"),y=!0,p&&d()},u),this.loadStrings(l,function(T){h._fragSrc=T.join("\n"),p=!0,y&&d()},u),h},f.default.prototype.createShader=function(i,l){return f.default._validateParameters("createShader",arguments),new f.default.Shader(this._renderer,i,l)},f.default.prototype.createFilterShader=function(i){f.default._validateParameters("createFilterShader",arguments);var l=i.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new f.default.Shader(this._renderer,l,i)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},f.default.prototype.shader=function(i){return this._assert3d("shader"),f.default._validateParameters("shader",arguments),i.ensureCompiledOnContext(this),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},f.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},f.default.prototype.texture=function(i){return this._assert3d("texture"),f.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=m.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.textureMode=function(i){i!==m.IMAGE&&i!==m.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},f.default.prototype.textureWrap=function(i){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,a=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=l,!0),u=!1,d=void 0;try{for(var h,g=this._renderer.textures.values()[Symbol.iterator]();!(a=(h=g.next()).done);a=!0)h.value.setWrapMode(i,l)}catch(p){u=!0,d=p}finally{try{a||null==g.return||g.return()}finally{if(u)throw d}}},f.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return f.default._validateParameters("normalMaterial",l),this._renderer.drawMode=m.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},f.default.prototype.ambientMaterial=function(i,l,a){this._assert3d("ambientMaterial"),f.default._validateParameters("ambientMaterial",arguments);var u=f.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.emissiveMaterial=function(i,l,a,u){this._assert3d("emissiveMaterial"),f.default._validateParameters("emissiveMaterial",arguments);var d=f.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=d._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.specularMaterial=function(i,l,a,u){this._assert3d("specularMaterial"),f.default._validateParameters("specularMaterial",arguments);var d=f.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.shininess=function(i){return this._assert3d("shininess"),f.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},f.default.prototype.metalness=function(i){return this._assert3d("metalness"),i=1-Math.exp(-i/100),this._renderer._useMetalness=i,this},f.default.RendererGL.prototype._applyColorBlend=function(i,d){var a=this.GL;return(d=d||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===m.TEXTURE||this.curBlendMode!==m.BLEND||i[i.length-1]<1||this._isErasing)!==this._isBlending&&(d||this.curBlendMode!==m.BLEND&&this.curBlendMode!==m.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=d),this._applyBlendMode(),i},f.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case m.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case m.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case m.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case m.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case m.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case m.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case m.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case m.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case m.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case m.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=f.default;B.default=w},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,ie,B){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,m){for(var S=0;S<m.length;S++){var w=m[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.prototype.camera=function(){var f;this._assert3d("camera");for(var m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return v.default._validateParameters("camera",S),(f=this._renderer._curCamera).camera.apply(f,S),this},v.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return v.default._validateParameters("perspective",S),(f=this._renderer._curCamera).perspective.apply(f,S),this},v.default.prototype.linePerspective=function(f){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===f)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=f},v.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return v.default._validateParameters("ortho",S),(f=this._renderer._curCamera).ortho.apply(f,S),this},v.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var m=arguments.length,S=new Array(m),w=0;w<m;w++)S[w]=arguments[w];return v.default._validateParameters("frustum",S),(f=this._renderer._curCamera).frustum.apply(f,S),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new v.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},v.default.Camera=function(){function f(i){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=i,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var m,S;return m=f,(S=[{key:"perspective",value:function(d,l,a,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===d?d=this.defaultCameraFOV:this._renderer._pInst._toRadians(d),void 0===l&&(l=this.defaultAspectRatio),void 0===a&&(a=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=a,this.cameraFar=u,this.projMatrix=v.default.Matrix.identity(),d=1/Math.tan(this.cameraFOV/2);var h=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(d/l,0,0,0,0,-d*this.yScale,0,0,0,0,(u+a)*h,-1,0,0,2*u*a*h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(N,G,a,u,d,h){var k=this.fbo||this._renderer,g=(void 0===N&&(N=-k.width/2),void 0===G&&(G=+k.width/2),void 0===a&&(a=-k.height/2),void 0===u&&(u=+k.height/2),void 0===d&&(d=0),void 0===h&&(h=Math.max(k.width,k.height)+800),this.cameraNear=d,k=G-N,u-a),p=(this.cameraFar=h)-d,y=2/k,T=2/g*this.yScale,z=-2/p;G=-(G+N)/k,N=-(u+a)/g,k=-(h+d)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-T,0,0,0,0,z,0,G,N,k,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(N,G,a,u,d,h){void 0===N&&(N=.05*-this._renderer.width),void 0===G&&(G=.05*+this._renderer.width),void 0===a&&(a=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===d&&(d=this.defaultCameraNear),void 0===h&&(h=this.defaultCameraFar),this.cameraNear=d;var k=G-N,g=u-a,p=(this.cameraFar=h)-d,y=2*d/k,T=2*d/g*this.yScale,z=-2*h*d/p;G=(G+N)/k,N=(u+a)/g,k=-(h+d)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-T,0,0,G,N,k,-1,0,0,z,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(y,l,a,u){var d=this.centerX,h=this.centerY,g=this.centerZ,p=(d-=this.eyeX,h-=this.eyeY,g-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(y),l,a,u),y=[d*p.mat4[0]+h*p.mat4[4]+g*p.mat4[8],d*p.mat4[1]+h*p.mat4[5]+g*p.mat4[9],d*p.mat4[2]+h*p.mat4[6]+g*p.mat4[10]])[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(a){var l=this._getLocalAxes();a=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(a),l.z[0],l.z[1],l.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"pan",value:function(i){var l=this._getLocalAxes();this._rotateView(i,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(i){var l=this._getLocalAxes();this._rotateView(i,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(i,l,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,l,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(i,l,a,u,d,h,g,p,y){return void 0===i&&(a=this.defaultEyeZ,u=i=this.defaultEyeX,d=l=this.defaultEyeY,p=1,y=g=h=0),this.eyeX=i,this.eyeY=l,this.eyeZ=a,void 0!==u&&(this.centerX=u,this.centerY=d,this.centerZ=h),void 0!==g&&(this.upX=g,this.upY=p,this.upZ=y),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([d=-i,-l,-a]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,d,a){var h=this._getLocalAxes();this.camera(this.eyeX+(u=[h.x[0]*u,h.x[1]*u,h.x[2]*u])[0]+(d=[h.y[0]*d,h.y[1]*d,h.y[2]*d])[0]+(h=[h.z[0]*a,h.z[1]*a,h.z[2]*a])[0],this.eyeY+u[1]+d[1]+h[1],this.eyeZ+u[2]+d[2]+h[2],this.centerX+u[0]+d[0]+h[0],this.centerY+u[1]+d[1]+h[1],this.centerZ+u[2]+d[2]+h[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(i,l,a){this.camera(i,l,a,this.centerX+(i-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(a-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(i){for(var l=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<a.length;l++){var u=a[l];this[u]=i[u]}this.cameraMatrix=i.cameraMatrix.copy(),this.projMatrix=i.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(i,l,a){var u,d,h,g,p,y,T,z,G,N,k,X,D,O,P,J,re,$;0===a?this.set(i):1===a?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=i.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/i.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=i.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/i.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),g=new v.default.Vector(i.eyeX,i.eyeY,i.eyeZ),p=new v.default.Vector(l.eyeX,l.eyeY,l.eyeZ),J=new v.default.Vector(i.centerX,i.centerY,i.centerZ),$=new v.default.Vector(l.centerX,l.centerY,l.centerZ),h=v.default.Vector.dist(g,J),u=v.default.Vector.dist(p,$),u=h*Math.pow(u/h,a),h=v.default.Vector.sub(g,p),d=1,1e-6<(re=(O=g.copy().sub(p).sub(J).add($)).magSq())&&(d=v.default.Vector.dot(h,O)/re,d=Math.max(0,Math.min(d,1))),h=v.default.Vector.lerp(v.default.Vector.lerp(g,J,d),v.default.Vector.lerp(p,$,d),a),O=i.cameraMatrix.createSubMatrix3x3(),re=l.cameraMatrix.createSubMatrix3x3(),g=O.row(2),J=re.row(2),p=O.row(1),$=re.row(1),i=new v.default.Vector,l=new v.default.Vector,y=new v.default.Vector,T=new v.default.Vector,1-(z=.5*((O=(re=re.mult3x3(O.copy().transpose3x3())).diagonal())[0]+O[1]+O[2]-1))<1e-7?(i.set(v.default.Vector.lerp(g,J,a)).normalize(),y.set(i).mult(d*u).add(h),T.set(i).mult((d-1)*u).add(h),l.set(v.default.Vector.lerp(p,$,a)).normalize()):(J=1/(1-z),$=Math.max(O[0],O[1],O[2]),X=re.mat3[1]+re.mat3[3],D=re.mat3[2]+re.mat3[6],P=re.mat3[5]+re.mat3[7],$=$===O[0]?(N=.5*X*(J/=G=Math.sqrt((O[0]-z)*J)),k=.5*D*J,.5*(re.mat3[7]-re.mat3[5])/G):$===O[1]?(k=.5*P*(J/=N=Math.sqrt((O[1]-z)*J)),G=.5*X*J,.5*(re.mat3[2]-re.mat3[6])/N):(G=.5*D*(J/=k=Math.sqrt((O[2]-z)*J)),N=.5*P*J,.5*(re.mat3[3]-re.mat3[1])/k),X=a*Math.atan2($,z),D=Math.cos(X),O=Math.sin(X),($=new v.default.Matrix("mat3",[D+(P=1-D)*G*G,P*(J=G*N)+O*k,P*(re=k*G)-O*N,P*J-O*k,D+P*N*N,P*(a=N*k)+O*G,P*re+O*N,P*a-O*G,D+P*k*k])).multiplyVec3(g,i),y.set(i).mult(d*u).add(h),T.set(i).mult((d-1)*u).add(h),$.multiplyVec3(p,l)),this.camera(y.x,y.y,y.z,T.x,T.y,T.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var i=new v.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.upX=this.upX,i.upY=this.upY,i.upZ=this.upZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i.yScale=this.yScale,i}},{key:"_getLocalAxes",value:function(){var T,i=this.eyeX-this.centerX,l=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,g=(0!==(g=Math.sqrt(i*i+l*l+a*a))&&(i/=g,l/=g,a/=g),this.upX),u=(p=this.upY)*a-(y=this.upZ)*l,d=-g*a+y*i,h=g*l-p*i,p=(g=l*h-a*d,-i*h+a*u),y=i*d-l*u;return 0!==(0!==(T=Math.sqrt(u*u+d*d+h*h))&&(u/=T,d/=T,h/=T),T=Math.sqrt(g*g+p*p+y*y))&&(g/=T,p/=T,y/=T),{x:[u,d,h],y:[g,p,y],z:[i,l,a]}}},{key:"_orbit",value:function(i,T,y){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,u=Math.hypot(d,h,g),p=(d=new v.default.Vector(d,h,g).normalize(),h=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),g=v.default.Vector.cross(h,d).normalize(),v.default.Vector.cross(g,h));(u=(u*=Math.pow(10,y))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(d,h))))+T,T=i,(y<=0||y>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(y)),p.mult(Math.cos(T)*Math.sin(y)),g.mult(Math.sin(T)*Math.sin(y)),d.set(h).add(p).add(g),this.eyeX=u*d.x+this.centerX,this.eyeY=u*d.y+this.centerY,this.eyeZ=u*d.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(y,T,G){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,u=Math.hypot(d,h,g),p=(d=new v.default.Vector(d,h,g).normalize(),h=new v.default.Vector(this.upX,this.upY,this.upZ),g=v.default.Vector.cross(h,d).normalize(),v.default.Vector.cross(d,g)),N=Math.atan2(T,y),z=(p.mult(Math.sin(N)),g.mult(Math.cos(N)).add(p),N=Math.sqrt(y*y+T*T),p=v.default.Vector.cross(d,g),(u=(u*=Math.pow(10,G))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.cos(N),T=Math.sin(N),(G=h.dot(d))*y+(N=h.dot(g))*T);G=-G*T+N*y,N=h.dot(p),h.x=z*d.x+G*g.x+N*p.x,h.y=z*d.y+G*g.y+N*p.y,h.z=z*d.z+G*g.z+N*p.z,g.mult(-T),d.mult(y).add(g).mult(u),this.camera(d.x+this.centerX,d.y+this.centerY,d.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&_(m.prototype,S),f}(),v.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix),this._renderer.uViewMatrix.set(f.cameraMatrix)},B.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,ie,B){"use strict";function v(_,f){for(var m=0;m<f.length;m++){var S=f[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function _(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var f,m;return f=_,(m=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,i=new Array(w),l=0;l<w;l++)i[l]=arguments[l];this.ensureLength(this.length+i.length),this.data.set(i,this.length),this.length+=i.length}},{key:"slice",value:function(w,i){return this.data.slice(w,Math.min(i,this.length))}},{key:"subArray",value:function(w,i){return this.data.subarray(w,Math.min(i,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var i=new Float32Array(2*this.data.length);i.set(this.data,0),this.data=i}}}])&&v(f.prototype,m),_}(),B.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(k,ie,B){"use strict";function v(X){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(X)}function _(X){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(D){return v(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":v(D)})(X)}k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.object.get-own-property-descriptor"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.reflect.construct"),k("core-js/modules/es.reflect.get"),k("core-js/modules/es.regexp.to-string"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint8-clamped-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/es.weak-map"),k("core-js/modules/web.dom-collections.iterator"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint8-clamped-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(N=k("../core/main"))&&N.__esModule?N:{default:N},m=function(X){if(X&&X.__esModule)return X;if(null===X||"object"!==_(X)&&"function"!=typeof X)return{default:X};var D=i();if(D&&D.has(X))return D.get(X);var O,P={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in X){var re;Object.prototype.hasOwnProperty.call(X,O)&&((re=J?Object.getOwnPropertyDescriptor(X,O):null)&&(re.get||re.set)?Object.defineProperty(P,O,re):P[O]=X[O])}return P.default=X,D&&D.set(X,P),P}(k("../core/constants")),S=k("./p5.Texture"),w=k("./p5.RendererGL");function i(){var X;return"function"!=typeof WeakMap?null:(i=function(){return X},X=new WeakMap)}function l(X,D){return function(O){if(Array.isArray(O))return O}(X)||function(O,P){if(Symbol.iterator in Object(O)||"[object Arguments]"===Object.prototype.toString.call(O)){var J=[],re=!0,$=!1,Q=void 0;try{for(var V,H=O[Symbol.iterator]();!(re=(V=H.next()).done)&&(J.push(V.value),!P||J.length!==P);re=!0);}catch(Z){$=!0,Q=Z}finally{try{re||null==H.return||H.return()}finally{if($)throw Q}}return J}}(X,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(X,D,O){return D in X?Object.defineProperty(X,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):X[D]=O,X}function u(X,D){if(!(X instanceof D))throw new TypeError("Cannot call a class as a function")}function d(X,D){for(var O=0;O<D.length;O++){var P=D[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(X,P.key,P)}}function h(X,D,O){D&&d(X.prototype,D),O&&d(X,O)}function g(X,D,O){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function($,J,re){if($=function(Q,V){for(;!Object.prototype.hasOwnProperty.call(Q,V)&&null!==(Q=T(Q)););return Q}($,J))return($=Object.getOwnPropertyDescriptor($,J)).get?$.get.call(re):$.value})(X,D,O||X)}function p(X,D){return(p=Object.setPrototypeOf||function(O,P){return O.__proto__=P,O})(X,D)}function T(X){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(X)}var z=function(X){var D=P;if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(X&&X.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),X&&p(D,X);var O=function y(X){return function(){var D,O=T(X);if(D=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(D=T(this).constructor,Reflect.construct(O,arguments,D)):O.apply(this,arguments),O=this,!D||"object"!==_(D)&&"function"!=typeof D){if(void 0!==O)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return D}}(P);function P(J){var re;return u(this,P),(re=O.call(this,J.target._renderer)).fbo=J,re.yScale=-1,re}return h(P,[{key:"_computeCameraDefaultSettings",value:function(){g(T(P.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),P}(f.default.Camera),G=(f.default.FramebufferCamera=z,function(){function X(D,O){u(this,X),this.framebuffer=D,this.property=O}return h(X,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),X}()),N=(f.default.FramebufferTexture=G,function(){function X(D){var O=this,P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},J=(u(this,X),this.target=D,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=P.format||m.UNSIGNED_BYTE,this.channels=P.channels||(D._renderer._pInst._glAttributes.alpha?m.RGBA:m.RGB),this.useDepth=void 0===P.depth||P.depth,this.depthFormat=P.depthFormat||m.FLOAT,this.textureFiltering=P.textureFiltering||m.LINEAR,this.antialiasSamples=void 0===P.antialias?D._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof P.antialias?P.antialias:P.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&D.webglVersion!==m.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=P.density||D.pixelDensity(),D._renderer.GL);if(this.gl=J,P.width&&P.height?(re=D._renderer._adjustDimensions(P.width,P.height),this.width=re.adjustedWidth,this.height=re.adjustedHeight,this._autoSized=!1):(void 0===P.width!=(void 0===P.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=D.width,this.height=D.height,this._autoSized=!0),this._checkIfFormatsAvailable(),P.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===P.stencil||P.stencil),this.framebuffer=J.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=J.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var re=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=re,this.draw(function(){return O.target.clear()})}return h(X,[{key:"resize",value:function(D,O){this._autoSized=!1;var P=this.target._renderer._adjustDimensions(D,O);O=P.adjustedHeight,this.width=D=P.adjustedWidth,this.height=O,this._handleResize()}},{key:"pixelDensity",value:function(D){if(!D)return this.density;this._autoSized=!1,this.density=D,this._handleResize()}},{key:"autoSized",value:function(D){if(void 0===D)return this._autoSized;this._autoSized=D,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var D=this.gl;(this.useDepth&&this.target.webglVersion===m.WEBGL&&!D.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===m.WEBGL&&this.depthFormat===m.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=m.UNSIGNED_INT),[m.UNSIGNED_BYTE,m.FLOAT,m.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.useDepth&&![m.UNSIGNED_INT,m.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=m.FLOAT),D=(0,S.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==m.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.useDepth&&!D.float&&this.depthFormat===m.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=m.UNSIGNED_INT),D.halfFloat||this.format!==m.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.channels===m.RGB&&[m.FLOAT,m.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=m.RGBA)}},{key:"_recreateTextures",value:function(){var D=this.gl,O=(this._updateSize(),D.getParameter(D.TEXTURE_BINDING_2D)),P=D.getParameter(D.FRAMEBUFFER_BINDING);if(!(J=D.createTexture()))throw new Error("Unable to create color texture");D.bindTexture(D.TEXTURE_2D,J);var re=this._glColorFormat();if(D.texImage2D(D.TEXTURE_2D,0,re.internalFormat,this.width*this.density,this.height*this.density,0,re.format,re.type,null),this.colorTexture=J,D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,J,0),this.useDepth){var J;if(!(J=D.createTexture()))throw new Error("Unable to create depth texture");var $=this._glDepthFormat();D.bindTexture(D.TEXTURE_2D,J),D.texImage2D(D.TEXTURE_2D,0,$.internalFormat,this.width*this.density,this.height*this.density,0,$.format,$.type,null),D.framebufferTexture2D(D.FRAMEBUFFER,this.useStencil?D.DEPTH_STENCIL_ATTACHMENT:D.DEPTH_ATTACHMENT,D.TEXTURE_2D,J,0),this.depthTexture=J}this.antialias&&(this.colorRenderbuffer=D.createRenderbuffer(),D.bindRenderbuffer(D.RENDERBUFFER,this.colorRenderbuffer),D.renderbufferStorageMultisample(D.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,D.getParameter(D.MAX_SAMPLES))),re.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&($=this._glDepthFormat(),this.depthRenderbuffer=D.createRenderbuffer(),D.bindRenderbuffer(D.RENDERBUFFER,this.depthRenderbuffer),D.renderbufferStorageMultisample(D.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,D.getParameter(D.MAX_SAMPLES))),$.internalFormat,this.width*this.density,this.height*this.density)),D.bindFramebuffer(D.FRAMEBUFFER,this.aaFramebuffer),D.framebufferRenderbuffer(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&D.framebufferRenderbuffer(D.FRAMEBUFFER,this.useStencil?D.DEPTH_STENCIL_ATTACHMENT:D.DEPTH_ATTACHMENT,D.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new G(this,"depthTexture"),this.depthP5Texture=new f.default.Texture(this.target._renderer,this.depth,{minFilter:J=D.NEAREST,magFilter:J}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new G(this,"colorTexture"),this.colorP5Texture=new f.default.Texture(this.target._renderer,this.color,{minFilter:re=this.textureFiltering===m.LINEAR?D.LINEAR:D.NEAREST,magFilter:re}),this.target._renderer.textures.set(this.color,this.colorP5Texture),D.bindTexture(D.TEXTURE_2D,O),D.bindFramebuffer(D.FRAMEBUFFER,P)}},{key:"_glColorFormat",value:function(){var D,O,P=this.gl,J=this.format===m.FLOAT?P.FLOAT:this.format===m.HALF_FLOAT?this.target.webglVersion===m.WEBGL2?P.HALF_FLOAT:P.getExtension("OES_texture_half_float").HALF_FLOAT_OES:P.UNSIGNED_BYTE,re=this.channels===m.RGBA?P.RGBA:P.RGB;return{internalFormat:this.target.webglVersion===m.WEBGL2?(a(O={},P.FLOAT,a({},P.RGBA,P.RGBA32F)),a(O,P.HALF_FLOAT,a({},P.RGBA,P.RGBA16F)),a(O,P.UNSIGNED_BYTE,(a(D={},P.RGBA,P.RGBA8),a(D,P.RGB,P.RGB8),D)),O[J][re]):this.format===m.HALF_FLOAT?P.RGBA:re,format:re,type:J}}},{key:"_glDepthFormat",value:function(){var P=this.gl,D=this.useStencil?this.depthFormat===m.FLOAT?P.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===m.WEBGL2?P.UNSIGNED_INT_24_8:P.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===m.FLOAT?P.FLOAT:P.UNSIGNED_INT,O=this.useStencil?P.DEPTH_STENCIL:P.DEPTH_COMPONENT;return{internalFormat:P=this.useStencil?this.depthFormat===m.FLOAT?P.DEPTH32F_STENCIL8:this.target.webglVersion===m.WEBGL2?P.DEPTH24_STENCIL8:P.DEPTH_STENCIL:this.target.webglVersion===m.WEBGL2?this.depthFormat===m.FLOAT?P.DEPTH_COMPONENT32F:P.DEPTH_COMPONENT24:P.DEPTH_COMPONENT,format:O,type:D}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var D=this.depth,O=this.colorRenderbuffer,P=this.depthRenderbuffer,J=(this._deleteTexture(J=this.color),D&&this._deleteTexture(D),this.gl);O&&J.deleteRenderbuffer(O),P&&J.deleteRenderbuffer(P),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var D=new z(this);return D._computeCameraDefaultSettings(),D._setDefaultCamera(),this.target._renderer._curCamera=D}},{key:"_deleteTexture",value:function(D){this.gl.deleteTexture(D.rawTexture()),this.target._renderer.textures.delete(D)}},{key:"remove",value:function(){var D=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),D.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&D.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&D.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&D.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var D=this.gl;D.bindFramebuffer(D.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var D=this.gl,O=(D.bindFramebuffer(D.READ_FRAMEBUFFER,this.aaFramebuffer),D.bindFramebuffer(D.DRAW_FRAMEBUFFER,this.framebuffer),[[D.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&O.push([D.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var P=0,J=O;P<J.length;P++){var $=l(J[P],2);D.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,$[0],$=$[1])}}}},{key:"end",value:function(){var D=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(D.bindFramebuffer(D.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(D){this.begin(),D(),this.end()}},{key:"loadPixels",value:function(){var D=this.gl,O=this.target._renderer.activeFramebuffer(),P=(D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,D,this.framebuffer,0,0,this.width*this.density,this.height*this.density,P.format,P.type),D.bindFramebuffer(D.FRAMEBUFFER,O?O._framebufferToBind():null)}},{key:"get",value:function(D,O,P,J){f.default._validateParameters("p5.Framebuffer.get",arguments);var re=this._glColorFormat();if(void 0===D&&void 0===O)O=D=0,P=this.width,J=this.height;else if(void 0===P&&void 0===J)return(D<0||O<0||D>=this.width||O>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),D=this.target.constrain(D,0,this.width-1),O=this.target.constrain(O,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,D*this.density,O*this.density,re.format,re.type);D=this.target.constrain(D,0,this.width-1),O=this.target.constrain(O,0,this.height-1),P=this.target.constrain(P,1,this.width-D),J=this.target.constrain(J,1,this.height-O);for(var $=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,D*this.density,O*this.density,P*this.density,J*this.density,re.format,re.type),Q=new Uint8ClampedArray(P*J*this.density*this.density*4),V=(Q.fill(255),re.type===this.gl.RGB?3:4),H=0;H<J*this.density;H++)for(var Z=0;Z<P*this.density;Z++)for(var le=0;le<4;le++){var q=4*(H*P*this.density+Z)+le;le<V&&(Q[q]=$[4==V?q:(H*P*this.density+Z)*V+le])}return(D=new f.default.Image(P*this.density,J*this.density)).imageData=D.canvas.getContext("2d").createImageData(D.width,D.height),D.imageData.data.set(Q),D.pixels=D.imageData.data,D.updatePixels(),1!==this.density&&D.resize(P,J),D}},{key:"updatePixels",value:function(){var D=this.gl,O=(this.colorP5Texture.bindTexture(),this._glColorFormat()),P=this.width*this.height*this.density*this.density*(P=O.format===D.RGBA?4:3),J=O.type===D.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof J)||this.pixels.length!==P)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");D.texImage2D(D.TEXTURE_2D,0,O.internalFormat,this.width*this.density,this.height*this.density,0,O.format,O.type,this.pixels),this.colorP5Texture.unbindTexture(),J=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(D.clearDepth(1),D.clear(D.DEPTH_BUFFER_BIT)),this.end()):(D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this.useDepth&&(D.clearDepth(1),D.clear(D.DEPTH_BUFFER_BIT)),D.bindFramebuffer(D.FRAMEBUFFER,J?J._framebufferToBind():null))}}]),X}());k=f.default.Framebuffer=N,B.default=k},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,ie,B){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function _(u){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==_(u)&&"function"!=typeof u)return{default:u};var d=S();if(d&&d.has(u))return d.get(u);var h,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var y;Object.prototype.hasOwnProperty.call(u,h)&&((y=p?Object.getOwnPropertyDescriptor(u,h):null)&&(y.get||y.set)?Object.defineProperty(g,h,y):g[h]=u[h])}return g.default=u,d&&d.set(u,g),g}(o("../core/constants"));function S(){var u;return"function"!=typeof WeakMap?null:(S=function(){return u},u=new WeakMap)}function w(u){return function(d){if(Array.isArray(d)){for(var h=0,g=new Array(d.length);h<d.length;h++)g[h]=d[h];return g}}(u)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(u,d){return function(h){if(Array.isArray(h))return h}(u)||function(h,g){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h)){var p=[],y=!0,T=!1,z=void 0;try{for(var G,N=h[Symbol.iterator]();!(y=(G=N.next()).done)&&(p.push(G.value),!g||p.length!==g);y=!0);}catch(k){T=!0,z=k}finally{try{y||null==N.return||N.return()}finally{if(T)throw z}}return p}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(u,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}f.default.Geometry=function(){function u(p,y,T){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new f.default.DataArray,this.lineTangentsIn=new f.default.DataArray,this.lineTangentsOut=new f.default.DataArray,this.lineSides=new f.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new f.default.DataArray,this.detailX=void 0!==p?p:1,this.detailY=void 0!==y?y:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,T instanceof Function&&T.call(this)}var d,h;return d=u,(h=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var p=new f.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),y=new f.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),T=0;T<this.vertices.length;T++){var z=this.vertices[T];p.x=Math.min(p.x,z.x),p.y=Math.min(p.y,z.y),p.z=Math.min(p.z,z.z),y.x=Math.max(y.x,z.x),y.y=Math.max(y.y,z.y),y.z=Math.max(y.z,z.z)}var G=new f.default.Vector(y.x-p.x,y.y-p.y,y.z-p.z),N=new f.default.Vector((p.x+y.x)/2,(p.y+y.y)/2,(p.z+y.z)/2);this.boundingBoxCache={min:p,max:y,size:G,offset:N}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var p=0;p<this.vertexColors.length;p+=4)if(this.vertexColors[p+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var p=0;p<this.lineVertexColors.length;p+=4)if(this.lineVertexColors[p+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var p=this,y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",T="";if(this.vertices.forEach(function(N){T+="v ".concat(N.x," ").concat(N.y," ").concat(N.z,"\n")}),this.uvs&&0<this.uvs.length)for(var z=0;z<this.uvs.length;z+=2)T+="vt ".concat(this.uvs[z]," ").concat(this.uvs[z+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(N){T+="vn ".concat(N.x," ").concat(N.y," ").concat(N.z,"\n")}),this.faces.forEach(function(N){var k="f";N.forEach(function(X){k=k+" "+(X+1),(0<p.vertexNormals.length||0<p.uvs.length)&&(k+="/",0<p.uvs.length&&(k+=X+1),k+="/",0<p.vertexNormals.length&&(k+=X+1))}),T+=k+"\n"});var G=new Blob([T],{type:"text/plain"});f.default.prototype.downloadFile(G,y,"obj")}},{key:"saveStl",value:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",y=void 0!==(y=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&y,T=p.substring(0,p.lastIndexOf(".")),z=[],G=!0,N=!1,k=void 0;try{for(var X,D=this.faces[Symbol.iterator]();!(G=(X=D.next()).done);G=!0){var O=X.value,P=f.default.Vector.sub(this.vertices[O[1]],this.vertices[O[0]]),J=f.default.Vector.sub(this.vertices[O[2]],this.vertices[O[0]]);z.push(new f.default.Vector(P.y*J.z-P.z*J.y,P.z*J.x-P.x*J.z,P.x*J.y-P.y*J.x).normalize())}}catch(kt){N=!0,k=kt}finally{try{G||null==D.return||D.return()}finally{if(N)throw k}}if(y){var V,H=80;N=2*this.faces.length+3*this.faces.length*4*4+80+4,k=new ArrayBuffer(N),(V=new DataView(k)).setUint32(H,this.faces.length,!0),H+=4;for(var Z=0,le=Object.entries(this.faces);Z<le.length;Z++){var j=(xe=i(le[Z],2))[0],xe=xe[1],q=(V.setFloat32(H,(j=z[j]).x,!0),V.setFloat32(H+=4,j.y,!0),V.setFloat32(H+=4,j.z,!0),H+=4,!0),oe=void(j=!1);try{for(var me,Se=xe[Symbol.iterator]();!(q=(me=Se.next()).done);q=!0){var Xe=this.vertices[me.value];V.setFloat32(H,Xe.x,!0),V.setFloat32(H+=4,Xe.y,!0),V.setFloat32(H+=4,Xe.z,!0),H+=4}}catch(zt){j=!0,oe=zt}finally{try{q||null==Se.return||Se.return()}finally{if(j)throw oe}}V.setUint16(H,0,!0),H+=2}}else{V="solid "+T+"\n";for(var lt=0,He=Object.entries(this.faces);lt<He.length;lt++){var Be=(nt=i(He[lt],2))[0],nt=nt[1],at=(V=V+" facet norm "+(Be=z[Be]).x+" "+Be.y+" "+Be.z+"\n  outer loop\n",!0),st=void(Be=!1);try{for(var Ye,it=nt[Symbol.iterator]();!(at=(Ye=it.next()).done);at=!0){var pt=this.vertices[Ye.value];V+="   vertex "+pt.x+" "+pt.y+" "+pt.z+"\n"}}catch(kt){Be=!0,st=kt}finally{try{at||null==it.return||it.return()}finally{if(Be)throw st}}V+="  endloop\n endfacet\n"}V+="endsolid "+T+"\n"}y=new Blob([V],{type:"text/plain"}),f.default.prototype.downloadFile(y,p,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(p,y){return y%2==0?1-p:p})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(p,y){return y%2==0?p:1-p})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var p,y,T,z=this.detailX+1,G=0;G<this.detailY;G++)for(var N=0;N<this.detailX;N++)y=(G+1)*z+N+1,this.faces.push([G*z+N,p=G*z+N+1,T=(G+1)*z+N]),this.faces.push([T,p,y]);return this}},{key:"_getFaceNormal",value:function(y){var T=this.vertices[(y=this.faces[y])[0]],G=this.vertices[y[1]],z=(y=this.vertices[y[2]],G=f.default.Vector.sub(G,T),y=f.default.Vector.sub(y,T),T=f.default.Vector.cross(G,y),f.default.Vector.mag(T));return 0==(G=z/(f.default.Vector.mag(G)*f.default.Vector.mag(y)))||isNaN(G)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),T):(1<G&&(G=1),T.mult(Math.asin(G)/z))}},{key:"computeNormals",value:function(){var p,y=this,z=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,G=this.vertexNormals,N=this.vertices,k=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:m.FLAT)===m.SMOOTH){for(var X={},D=[],O=Math.pow(10,void 0===z?3:z),P=function(V){return Math.round(V*O)/O},J=function(V){return"".concat(P(V.x),",").concat(P(V.y),",").concat(P(V.z))},re=0;re<N.length;re++){var $=N[re],Q=J($);void 0===X[Q]&&(X[Q]=D.length,D.push($))}k.forEach(function(V){for(var H=0;H<3;++H){var Z=J(Z=N[Z=V[H]]);V[H]=X[Z]}}),this.edges.forEach(function(V){for(var H=0;H<2;++H){var Z=J(Z=N[Z=V[H]]);V[H]=X[Z]}}),this.vertices=N=D}for(p=G.length=0;p<N.length;++p)G.push(new f.default.Vector);for(k.forEach(function(V,H){for(var Z=y._getFaceNormal(H),le=0;le<3;++le)G[V[le]].add(Z)}),p=0;p<N.length;++p)G[p].normalize();return this}},{key:"averageNormals",value:function(){for(var p=0;p<=this.detailY;p++){var y=this.detailX+1,T=f.default.Vector.add(this.vertexNormals[p*y],this.vertexNormals[p*y+this.detailX]);T=f.default.Vector.div(T,2),this.vertexNormals[p*y]=T,this.vertexNormals[p*y+this.detailX]=T}return this}},{key:"averagePoleNormals",value:function(){for(var p=new f.default.Vector(0,0,0),y=0;y<this.detailX;y++)p.add(this.vertexNormals[y]);p=f.default.Vector.div(p,this.detailX);for(var T=0;T<this.detailX;T++)this.vertexNormals[T]=p;p=new f.default.Vector(0,0,0);for(var z=this.vertices.length-1;z>this.vertices.length-1-this.detailX;z--)p.add(this.vertexNormals[z]);p=f.default.Vector.div(p,this.detailX);for(var G=this.vertices.length-1;G>this.vertices.length-1-this.detailX;G--)this.vertexNormals[G]=p;return this}},{key:"_makeTriangleEdges",value:function(){for(var p=this.edges.length=0;p<this.faces.length;p++)this.edges.push([this.faces[p][0],this.faces[p][1]]),this.edges.push([this.faces[p][1],this.faces[p][2]]),this.edges.push([this.faces[p][2],this.faces[p][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var p,y=new Map,T=new Set,z=0;z<this.edges.length;z++){var G,N=this.edges[z-1],k=this.edges[z],X=this.vertices[k[0]],D=this.vertices[k[1]],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*k[0],4*(k[0]+1)):[0,0,0,0],P=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*k[1],4*(k[1]+1)):[0,0,0,0],J=D.copy().sub(X).normalize(),re=0<J.magSq();re&&this._addSegment(X,D,O,P,J),0<z&&N[1]===k[0]?T.has(k[0])||(T.add(k[0]),y.delete(k[0]),p&&re&&J.dot(p)<1-1e-8&&this._addJoin(X,p,J,O)):(re&&!T.has(k[0])&&((G=y.get(k[0]))?(this._addJoin(X,G.dir,J,O),y.delete(k[0]),T.add(k[0])):y.set(k[0],{point:X,dir:J.copy().mult(-1),color:O})),p&&!T.has(N[1])&&((G=y.get(N[1]))?(this._addJoin(this.vertices[N[1]],p,G.dir.copy().mult(-1),O),y.delete(N[1]),T.add(N[1])):y.set(N[1],{point:this.vertices[N[1]],dir:p,color:O}),p=void 0)),z!==this.edges.length-1||T.has(k[1])||((X=y.get(k[1]))?(this._addJoin(D,J,X.dir.copy().mult(-1),P),y.delete(k[1]),T.add(k[1])):y.set(k[1],{point:D,dir:J,color:P})),re&&(p=J)}var $=!0,Q=!1,V=void 0;try{for(var H,Z=y.values()[Symbol.iterator]();!($=(H=Z.next()).done);$=!0){var le=H.value;this._addCap(le.point,le.dir,le.color)}}catch(oe){Q=!0,V=oe}finally{try{$||null==Z.return||Z.return()}finally{if(Q)throw V}}return this}},{key:"_addSegment",value:function(N,k,T,z,G){N=N.array(),k=k.array();var X=G.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var D=0,O=[this.lineTangentsIn,this.lineTangentsOut];D<O.length;D++)for(var P=O[D],J=0;J<6;J++)P.push.apply(P,w(X));return(G=this.lineVertices).push.apply(G,w(N).concat(w(k),w(N),w(k),w(k),w(N))),(G=this.lineVertexColors).push.apply(G,w(T).concat(w(z),w(T),w(z),w(z),w(T))),this}},{key:"_addCap",value:function(p,y,T){for(var z,G=p.array(),N=y.array(),k=[0,0,0],X=0;X<6;X++)(z=this.lineVertices).push.apply(z,w(G)),(z=this.lineTangentsIn).push.apply(z,w(N)),(z=this.lineTangentsOut).push.apply(z,k),(z=this.lineVertexColors).push.apply(z,w(T));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(p,y,T,z){for(var G,N=p.array(),k=y.array(),X=T.array(),D=0;D<12;D++)(G=this.lineVertices).push.apply(G,w(N)),(G=this.lineTangentsIn).push.apply(G,w(k)),(G=this.lineTangentsOut).push.apply(G,w(X)),(G=this.lineVertexColors).push.apply(G,w(z));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var p=this.vertices[0].copy(),y=this.vertices[0].copy(),T=0;T<this.vertices.length;T++)p.x=Math.max(p.x,this.vertices[T].x),y.x=Math.min(y.x,this.vertices[T].x),p.y=Math.max(p.y,this.vertices[T].y),y.y=Math.min(y.y,this.vertices[T].y),p.z=Math.max(p.z,this.vertices[T].z),y.z=Math.min(y.z,this.vertices[T].z);for(var z=f.default.Vector.lerp(p,y,.5),G=f.default.Vector.sub(p,y),N=200/Math.max(Math.max(G.x,G.y),G.z),k=0;k<this.vertices.length;k++)this.vertices[k].sub(z),this.vertices[k].mult(N)}return this}}])&&l(d.prototype,h),u}();var a=f.default.Geometry;B.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(S,ie,B){"use strict";S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(S=S("../core/main"))&&S.__esModule?S:{default:S};function _(w,i){for(var l=0;l<i.length;l++){var a=i[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(w,a.key,a)}}var f=Array,m=function(w){return Array.isArray(w)};typeof Float32Array<"u"&&(f=Float32Array,m=function(w){return Array.isArray(w)||w instanceof Float32Array}),v.default.Matrix=function(){function w(){var u=this,d=w;if(u instanceof d)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof v.default&&(this.p5=(d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new f([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,l,a;return i=w,a=[{key:"identity",value:function(u){return new v.default.Matrix(u)}}],(l=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(u){var d=arguments;if(u instanceof v.default.Matrix?d=u.mat4:m(u)&&(d=u),16!==d.length)v.default._friendlyError("Expected 16 values but received ".concat(d.length,"."),"p5.Matrix.set");else for(var h=0;h<16;h++)this.mat4[h]=d[h];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var d,h,g,p,y,T;return u instanceof v.default.Matrix?(d=u.mat4[1],h=u.mat4[2],g=u.mat4[3],p=u.mat4[6],y=u.mat4[7],T=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=d,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=h,this.mat4[9]=p,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=g,this.mat4[13]=y,this.mat4[14]=T,this.mat4[15]=u.mat4[15]):m(u)&&(d=u[1],h=u[2],g=u[3],p=u[6],y=u[7],T=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=d,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=h,this.mat4[9]=p,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=g,this.mat4[13]=y,this.mat4[14]=T,this.mat4[15]=u[15]),this}},{key:"invert",value:function($){$ instanceof v.default.Matrix?(d=$.mat4[0],h=$.mat4[1],g=$.mat4[2],p=$.mat4[3],y=$.mat4[4],T=$.mat4[5],z=$.mat4[6],G=$.mat4[7],N=$.mat4[8],k=$.mat4[9],X=$.mat4[10],D=$.mat4[11],O=$.mat4[12],P=$.mat4[13],J=$.mat4[14],re=$.mat4[15]):m($)&&(d=$[0],h=$[1],g=$[2],p=$[3],y=$[4],T=$[5],z=$[6],G=$[7],N=$[8],k=$[9],X=$[10],D=$[11],O=$[12],P=$[13],J=$[14],re=$[15]);var d,h,g,p,y,T,z,G,N,k,X,D,O,P,J,re,Q=d*z-g*y,V=d*G-p*y,H=h*z-g*T,Z=h*G-p*T,le=g*G-p*z,xe=N*P-k*O,q=N*J-X*O,j=N*re-D*O,oe=k*J-X*P,me=k*re-D*P,Se=X*re-D*J,Le=($=d*T-h*y)*Se-Q*me+V*oe+H*j-Z*q+le*xe;return Le?(this.mat4[0]=(T*Se-z*me+G*oe)*(Le=1/Le),this.mat4[1]=(g*me-h*Se-p*oe)*Le,this.mat4[2]=(P*le-J*Z+re*H)*Le,this.mat4[3]=(X*Z-k*le-D*H)*Le,this.mat4[4]=(z*j-y*Se-G*q)*Le,this.mat4[5]=(d*Se-g*j+p*q)*Le,this.mat4[6]=(J*V-O*le-re*Q)*Le,this.mat4[7]=(N*le-X*V+D*Q)*Le,this.mat4[8]=(y*me-T*j+G*xe)*Le,this.mat4[9]=(h*j-d*me-p*xe)*Le,this.mat4[10]=(O*Z-P*V+re*$)*Le,this.mat4[11]=(k*V-N*Z-D*$)*Le,this.mat4[12]=(T*q-y*oe-z*xe)*Le,this.mat4[13]=(d*oe-h*q+g*xe)*Le,this.mat4[14]=(P*Q-O*H-J*$)*Le,this.mat4[15]=(N*H-k*Q+X*$)*Le,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],d=this.mat3[1],h=this.mat3[2],g=this.mat3[3],p=this.mat3[4],y=this.mat3[5],T=this.mat3[6],z=this.mat3[7],G=this.mat3[8],N=G*p-y*z,k=-G*g+y*T,X=z*g-p*T,D=u*N+d*k+h*X;return D?(this.mat3[0]=N*(D=1/D),this.mat3[1]=(-G*d+h*z)*D,this.mat3[2]=(y*d-h*p)*D,this.mat3[3]=k*D,this.mat3[4]=(G*u-h*T)*D,this.mat3[5]=(-y*u+h*g)*D,this.mat3[6]=X*D,this.mat3[7]=(-z*u+d*T)*D,this.mat3[8]=(p*u-d*g)*D,this):null}},{key:"transpose3x3",value:function(u){var d=(u=void 0===u?this.mat3:u)[1],h=u[2],g=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=d,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=h,this.mat3[7]=g,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var d=0;d<9;d++)this.mat3[d]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(h){var d;if(h===this||h===this.mat4)d=this.copy().mat4;else if(h instanceof v.default.Matrix)d=h.mat4;else if(m(h))d=h;else{if(16!==arguments.length)return;d=arguments}var g=this.mat4[1],p=this.mat4[2],y=this.mat4[3];return this.mat4[0]=(h=this.mat4[0])*d[0]+g*d[4]+p*d[8]+y*d[12],this.mat4[1]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[2]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[3]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this.mat4[4]=(h=this.mat4[4])*d[0]+(g=this.mat4[5])*d[4]+(p=this.mat4[6])*d[8]+(y=this.mat4[7])*d[12],this.mat4[5]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[6]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[7]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this.mat4[8]=(h=this.mat4[8])*d[0]+(g=this.mat4[9])*d[4]+(p=this.mat4[10])*d[8]+(y=this.mat4[11])*d[12],this.mat4[9]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[10]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[11]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this.mat4[12]=(h=this.mat4[12])*d[0]+(g=this.mat4[13])*d[4]+(p=this.mat4[14])*d[8]+(y=this.mat4[15])*d[12],this.mat4[13]=h*d[1]+g*d[5]+p*d[9]+y*d[13],this.mat4[14]=h*d[2]+g*d[6]+p*d[10]+y*d[14],this.mat4[15]=h*d[3]+g*d[7]+p*d[11]+y*d[15],this}},{key:"apply",value:function(h){var d;if(h===this||h===this.mat4)d=this.copy().mat4;else if(h instanceof v.default.Matrix)d=h.mat4;else if(m(h))d=h;else{if(16!==arguments.length)return;d=arguments}var p,y,T,g=((h=this.mat4)[0]=d[0]*(g=h[0])+d[1]*(p=h[4])+d[2]*(y=h[8])+d[3]*(T=h[12]),h[4]=d[4]*g+d[5]*p+d[6]*y+d[7]*T,h[8]=d[8]*g+d[9]*p+d[10]*y+d[11]*T,h[12]=d[12]*g+d[13]*p+d[14]*y+d[15]*T,h[1]);return h[1]=d[0]*g+d[1]*(p=h[5])+d[2]*(y=h[9])+d[3]*(T=h[13]),h[5]=d[4]*g+d[5]*p+d[6]*y+d[7]*T,h[9]=d[8]*g+d[9]*p+d[10]*y+d[11]*T,h[13]=d[12]*g+d[13]*p+d[14]*y+d[15]*T,h[2]=d[0]*(g=h[2])+d[1]*(p=h[6])+d[2]*(y=h[10])+d[3]*(T=h[14]),h[6]=d[4]*g+d[5]*p+d[6]*y+d[7]*T,h[10]=d[8]*g+d[9]*p+d[10]*y+d[11]*T,h[14]=d[12]*g+d[13]*p+d[14]*y+d[15]*T,h[3]=d[0]*(g=h[3])+d[1]*(p=h[7])+d[2]*(y=h[11])+d[3]*(T=h[15]),h[7]=d[4]*g+d[5]*p+d[6]*y+d[7]*T,h[11]=d[8]*g+d[9]*p+d[10]*y+d[11]*T,h[15]=d[12]*g+d[13]*p+d[14]*y+d[15]*T,this}},{key:"scale",value:function(u,d,h){return u instanceof v.default.Vector?(d=u.y,h=u.z,u=u.x):u instanceof Array&&(d=u[1],h=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=d,this.mat4[7]*=d,this.mat4[8]*=h,this.mat4[9]*=h,this.mat4[10]*=h,this.mat4[11]*=h,this}},{key:"rotate",value:function($,me,oe,g){me instanceof v.default.Vector?(oe=me.y,g=me.z,me=me.x):me instanceof Array&&(oe=me[1],g=me[2],me=me[0]);var p=(me*=1/(p=Math.sqrt(me*me+oe*oe+g*g)),oe*=1/p,g*=1/p,this.mat4[0]),y=this.mat4[1],T=this.mat4[2],z=this.mat4[3],G=this.mat4[4],N=this.mat4[5],k=this.mat4[6],X=this.mat4[7],D=this.mat4[8],O=this.mat4[9],P=this.mat4[10],J=this.mat4[11],re=Math.sin($),Q=1-($=Math.cos($)),V=me*me*Q+$,H=oe*me*Q+g*re,Z=g*me*Q-oe*re,le=me*oe*Q-g*re,xe=oe*oe*Q+$,q=g*oe*Q+me*re,j=me*g*Q+oe*re;return oe=oe*g*Q-me*re,me=g*g*Q+$,this.mat4[0]=p*V+G*H+D*Z,this.mat4[1]=y*V+N*H+O*Z,this.mat4[2]=T*V+k*H+P*Z,this.mat4[3]=z*V+X*H+J*Z,this.mat4[4]=p*le+G*xe+D*q,this.mat4[5]=y*le+N*xe+O*q,this.mat4[6]=T*le+k*xe+P*q,this.mat4[7]=z*le+X*xe+J*q,this.mat4[8]=p*j+G*oe+D*me,this.mat4[9]=y*j+N*oe+O*me,this.mat4[10]=T*j+k*oe+P*me,this.mat4[11]=z*j+X*oe+J*me,this}},{key:"translate",value:function(g){var d=g[0],h=g[1];this.mat4[12]+=this.mat4[0]*d+this.mat4[4]*h+this.mat4[8]*(g=g[2]||0),this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*h+this.mat4[9]*g,this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*h+this.mat4[10]*g,this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*h+this.mat4[11]*g}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(p,d,h,g){p=1/Math.tan(p/2);var y=1/(h-g);return this.mat4[0]=p/d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(g+h)*y,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*g*h*y,this.mat4[15]=0,this}},{key:"ortho",value:function(u,d,h,g,p,y){var T=1/(u-d),z=1/(h-g),G=1/(p-y);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*z,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*G,this.mat4[11]=0,this.mat4[12]=(u+d)*T,this.mat4[13]=(g+h)*z,this.mat4[14]=(y+p)*G,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,d,h,g){var p=new Array(4),y=this.mat4;return p[0]=y[0]*u+y[4]*d+y[8]*h+y[12]*g,p[1]=y[1]*u+y[5]*d+y[9]*h+y[13]*g,p[2]=y[2]*u+y[6]*d+y[10]*h+y[14]*g,p[3]=y[3]*u+y[7]*d+y[11]*h+y[15]*g,p}},{key:"multiplyPoint",value:function(h){var g=this.multiplyVec4(g=h.x,h.y,h=h.z,1);return new v.default.Vector(g[0],g[1],g[2])}},{key:"multiplyAndNormalizePoint",value:function(h){var g;return(g=this.multiplyVec4(g=h.x,h.y,h=h.z,1))[0]/=g[3],g[1]/=g[3],g[2]/=g[3],new v.default.Vector(g[0],g[1],g[2])}},{key:"multiplyDirection",value:function(h){var g=this.multiplyVec4(g=h.x,h.y,h=h.z,0);return new v.default.Vector(g[0],g[1],g[2])}},{key:"mult3x3",value:function(h){var d;if(h===this||h===this.mat3)d=this.copy().mat3;else if(h instanceof v.default.Matrix)d=h.mat3;else if(m(h))d=h;else{if(9!==arguments.length)return;d=arguments}var g=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(h=this.mat3[0])*d[0]+g*d[3]+p*d[6],this.mat3[1]=h*d[1]+g*d[4]+p*d[7],this.mat3[2]=h*d[2]+g*d[5]+p*d[8],this.mat3[3]=(h=this.mat3[3])*d[0]+(g=this.mat3[4])*d[3]+(p=this.mat3[5])*d[6],this.mat3[4]=h*d[1]+g*d[4]+p*d[7],this.mat3[5]=h*d[2]+g*d[5]+p*d[8],this.mat3[6]=(h=this.mat3[6])*d[0]+(g=this.mat3[7])*d[3]+(p=this.mat3[8])*d[6],this.mat3[7]=h*d[1]+g*d[4]+p*d[7],this.mat3[8]=h*d[2]+g*d[5]+p*d[8],this}},{key:"column",value:function(u){return new v.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new v.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,d){return(d=void 0===d?u.copy():d).x=this.row(0).dot(u),d.y=this.row(1).dot(u),d.z=this.row(2).dot(u),d}},{key:"createSubMatrix3x3",value:function(){var u=new v.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&_(i.prototype,l),a&&_(i,a),w}(),B.default=S=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,ie,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,m){for(var S=0;S<m.length;S++){var w=m[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Quat=function(){function f(i,l,a,u){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.w=i,this.vec=new v.default.Vector(l,a,u)}var m,S,w;return m=f,w=[{key:"fromAxisAngle",value:function(i,h,a,u){var d=Math.cos(i/2);return h=new v.default.Vector(h,a,u).normalize().mult(Math.sin(i/2)),new v.default.Quat(d,h.x,h.y,h.z)}}],(S=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(i){return new v.default.Quat(this.w*i.w-this.vec.x*i.vec.x-this.vec.y*i.vec.y-this.vec.z-i.vec.z,this.w*i.vec.x+this.vec.x*i.w+this.vec.y*i.vec.z-this.vec.z*i.vec.y,this.w*i.vec.y-this.vec.x*i.vec.z+this.vec.y*i.w+this.vec.z*i.vec.x,this.w*i.vec.z+this.vec.x*i.vec.y-this.vec.y*i.vec.x+this.vec.z*i.w)}},{key:"rotateVector",value:function(i){return new v.default.Vector.mult(i,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*i.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(i)).clampToZero()}},{key:"rotateBy",value:function(i){return i.multiply(this).multiply(i.conjugate()).vec.clampToZero()}}])&&_(m.prototype,S),w&&_(m,w),f}(),B.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,ie,B){"use strict";function v(_,f){for(var m=0;m<f.length;m++){var S=f[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function _(w,i,l,a,u,d){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=i,this.dst=l,this.attr=a,this._renderer=u,this.map=d}var f,m;return f=_,(m=[{key:"_prepareBuffer",value:function(w,i){var l,a,u,g,d=this._renderer.GL,h=w.model||w;(g=(g=i.attributes)[this.attr])&&(l=w[this.dst],0<(a=h[this.src]).length?((u=!l)&&(w[this.dst]=l=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,l),!u&&!1===h.dirtyFlags[this.src]||(u=(w=this.map)?w(a):a,this._renderer._bindBuffer(l,d.ARRAY_BUFFER,u),h.dirtyFlags[this.src]=!1),i.enableAttrib(g,this.size)):-1!==(w=g.location)&&this._renderer.registerEnabled.has(w)&&(d.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&v(f.prototype,m),_}(),B.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,ie,B){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(l=o("../core/main"))&&l.__esModule?l:{default:l},m=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var u=S();if(u&&u.has(a))return u.get(a);var d,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var p;Object.prototype.hasOwnProperty.call(a,d)&&((p=g?Object.getOwnPropertyDescriptor(a,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=a[d])}return h.default=a,u&&u.set(a,h),h}(o("../core/constants"));function S(){var a;return"function"!=typeof WeakMap?null:(S=function(){return a},a=new WeakMap)}function w(a){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(a)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),f.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=void 0!==a?a:m.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(f.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==m.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},f.default.RendererGL.prototype.vertex=function(a,u){if(this.immediateMode.shapeMode===m.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var d in i){var h=i[d];(d=this.immediateMode.geometry[d]).push.apply(d,w(d.slice(d.length-3*h,d.length-2*h)).concat(w(d.slice(d.length-h,d.length))))}var g,p,y=g=p=0,T=(3===arguments.length?y=arguments[2]:4===arguments.length?(g=arguments[2],p=arguments[3]):5===arguments.length&&(y=arguments[2],g=arguments[3],p=arguments[4]),new f.default.Vector(a,u,y));return this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((T=this.curFillColor||[.5,.5,.5,1])[0],T[1],T[2],T[3]),this.immediateMode.geometry.vertexStrokeColors.push((T=this.curStrokeColor||[.5,.5,.5,1])[0],T[1],T[2],T[3]),this.textureMode!==m.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(g/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(g,p),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=y,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=y,this},f.default.RendererGL.prototype.normal=function(a,u,d){return this._currentNormal=a instanceof f.default.Vector?a:new f.default.Vector(a,u,d),this},f.default.RendererGL.prototype.endShape=function(a,u,d,h,g,p){var y,T=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===m.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),y=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==m.LINE_STRIP&&this.immediateMode.shapeMode!==m.LINES||(this.immediateMode.shapeMode=m.TRIANGLE_FAN,y=!0),this.immediateMode.shapeMode===m.QUADS?this.immediateMode.shapeMode=m.TRIANGLES:this.immediateMode.shapeMode===m.QUAD_STRIP&&(this.immediateMode.shapeMode=m.TRIANGLE_STRIP),this._doFill&&!y&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(T),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},f.default.RendererGL.prototype._processVertices=function(a){var u;0!==this.immediateMode.geometry.vertices.length&&(a=a===m.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===m.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||a)&&this.immediateMode.shapeMode!==m.LINES&&this._tesselateShape())},f.default.RendererGL.prototype._calculateEdges=function(a,u,d){var h=[],g=0,p=this.immediateMode.contourIndices.slice(),y=0;switch(a){case m.TRIANGLE_STRIP:for(g=0;g<u.length-2;g++)h.push([g,g+1]),h.push([g,g+2]);h.push([g,g+1]);break;case m.TRIANGLE_FAN:for(g=1;g<u.length-1;g++)h.push([0,g]),h.push([g,g+1]);h.push([0,u.length-1]);break;case m.TRIANGLES:for(g=0;g<u.length-2;g+=3)h.push([g,g+1]),h.push([g+1,g+2]),h.push([g+2,g]);break;case m.LINES:for(g=0;g<u.length-1;g+=2)h.push([g,g+1]);break;case m.QUADS:for(g=0;g<u.length-5;g+=6)h.push([g,g+1]),h.push([g+1,g+2]),h.push([g+3,g+5]),h.push([g+4,g+5]);break;case m.QUAD_STRIP:for(g=0;g<u.length-2;g+=2)h.push([g,g+1]),h.push([g,g+2]),h.push([g+1,g+3]);h.push([g,g+1]);break;default:for(g=0;g<u.length;g++)g+1<u.length&&g+1!==p[0]?h.push([g,g+1]):((d||y)&&h.push([g,y]),0<p.length&&(y=p.shift()))}return a!==m.TESS&&d&&h.push([u.length-1,0]),h},f.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,u=(this.immediateMode.shapeMode=m.TRIANGLES,[[]]),d=0;d<this.immediateMode.geometry.vertices.length;d++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===d&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[d].x,this.immediateMode.geometry.vertices[d].y,this.immediateMode.geometry.vertices[d].z,this.immediateMode.geometry.uvs[2*d],this.immediateMode.geometry.uvs[2*d+1],this.immediateMode.geometry.vertexColors[4*d],this.immediateMode.geometry.vertexColors[4*d+1],this.immediateMode.geometry.vertexColors[4*d+2],this.immediateMode.geometry.vertexColors[4*d+3],this.immediateMode.geometry.vertexNormals[d].x,this.immediateMode.geometry.vertexNormals[d].y,this.immediateMode.geometry.vertexNormals[d].z);for(var h,g=this._triangulate(u),p=this.immediateMode.geometry.vertices,y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,z=g.length;T<z;T+=f.default.RendererGL.prototype.tessyVertexSize)y.push.apply(y,w(g.slice(T+5,T+9))),this.normal.apply(this,w(g.slice(T+9,T+12))),this.vertex.apply(this,w(g.slice(T,T+5)));this.geometryBuilder&&(h=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(G){return G.map(function(N){if(!h.has(N)){var k=p[N],X=a.immediateMode.geometry.vertices.findIndex(function(Q){return k.x===Q.x&&k.y===Q.y&&k.z===Q.z});if(-1===X){for(var D=1/0,O=0,P=0;P<a.immediateMode.geometry.vertices.length;P++){var re,$,J=k.y-(re=a.immediateMode.geometry.vertices[P]).y;($=($=k.x-re.x)*$+J*J+(re=k.z-re.z)*re)<D&&(D=$,O=P)}X=O}h.set(N,X)}return h.get(N)})})),this.immediateMode.geometry.vertexColors=y},f.default.RendererGL.prototype._drawImmediateFill=function(){var a,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,d=this.GL,h=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),g=!1,p=void 0;try{for(var y,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(y=T.next()).done);h=!0)y.value._prepareBuffer(this.immediateMode.geometry,a)}catch(z){g=!0,p=z}finally{try{h||null==T.return||T.return()}finally{if(g)throw p}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)d.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{d.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},f.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),d=(this._setStrokeUniforms(u),!0),h=!1,g=void 0;try{for(var p,y=this.immediateMode.buffers.stroke[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)p.value._prepareBuffer(this.immediateMode.geometry,u)}catch(T){h=!0,g=T}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},f.default.RendererGL);B.default=l},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,ie,B){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var f=(w=o("../core/main"))&&w.__esModule?w:{default:w},m=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var l=S();if(l&&l.has(i))return l.get(i);var a,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var h;Object.prototype.hasOwnProperty.call(i,a)&&((h=d?Object.getOwnPropertyDescriptor(i,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants")));function S(){var i;return"function"!=typeof WeakMap?null:(S=function(){return i},i=new WeakMap)}f.default.RendererGL.prototype.freeGeometry=function(i){i.gid?this._freeBuffers(i.gid):console.warn("The model you passed to freeGeometry does not have an id!")},f.default.RendererGL.prototype._initBufferDefaults=function(i){var l;return this._freeBuffers(i),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[i]={}},f.default.RendererGL.prototype._freeBuffers=function(i){var l,a=this.retainedMode.geometry[i];function u(d){var h=!0,g=!1,p=void 0;try{for(var y,T=d[Symbol.iterator]();!(h=(y=T.next()).done);h=!0){var z=y.value;a[z.dst]&&(l.deleteBuffer(a[z.dst]),a[z.dst]=null)}}catch(G){g=!0,p=G}finally{try{h||null==T.return||T.return()}finally{if(g)throw p}}}a&&(delete this.retainedMode.geometry[i],l=this.GL,a.indexBuffer&&l.deleteBuffer(a.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(g,l){var a,u,d,h=this.GL,p=((g=this._initBufferDefaults(g)).model=l,g.indexBuffer);return l.faces.length?(p=p||(g.indexBuffer=h.createBuffer()),d=(u=(a=f.default.RendererGL.prototype._flatten(l.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(p,h.ELEMENT_ARRAY_BUFFER,a,d),g.indexBufferType=u?h.UNSIGNED_INT:h.UNSIGNED_SHORT,g.vertexCount=3*l.faces.length):(p&&(h.deleteBuffer(p),g.indexBuffer=null),g.vertexCount=l.vertices?l.vertices.length:0),g.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,g},f.default.RendererGL.prototype.drawBuffers=function(i){var l=this.GL,a=this.retainedMode.geometry[i];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[i].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var u=this._getRetainedFillShader(),d=(this._setFillUniforms(u),!0),h=!1,g=void 0;try{for(var p,y=this.retainedMode.buffers.fill[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)p.value._prepareBuffer(a,u)}catch(k){h=!0,g=k}finally{try{d||null==y.return||y.return()}finally{if(h)throw g}}u.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,i),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),z=(this._setStrokeUniforms(T),!0);h=!1,g=void 0;try{for(var G,N=this.retainedMode.buffers.stroke[Symbol.iterator]();!(z=(G=N.next()).done);z=!0)G.value._prepareBuffer(a,T)}catch(D){h=!0,g=D}finally{try{z||null==N.return||N.return()}finally{if(h)throw g}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,i),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},f.default.RendererGL.prototype.drawBuffersScaled=function(i,l,a,u){var d=this.uModelMatrix.copy();try{this.uModelMatrix.scale(l,a,u),this.drawBuffers(i)}finally{this.uModelMatrix=d}},f.default.RendererGL.prototype._drawArrays=function(i,l){return this.GL.drawArrays(i,0,this.retainedMode.geometry[l].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(i,a){var u=this.GL;if((a=this.retainedMode.geometry[a]).indexBuffer){if(this._pInst.webglVersion!==m.WEBGL2&&a.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else u.drawArrays(i||u.TRIANGLES,0,a.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(i,l){var a=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(l,a.ARRAY_BUFFER,this._vToNArray(i),Float32Array,a.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,i.length),u.unbindShader()};var w=f.default.RendererGL;B.default=w},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(P,ie,B){"use strict";function v(H){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(H)}function _(H){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(Z){return v(Z)}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":v(Z)})(H)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.readPixelsWebGL=Q,B.readPixelWebGL=V,B.default=void 0;var f=a(P("../core/main")),m=function(H){if(H&&H.__esModule)return H;if(null===H||"object"!==_(H)&&"function"!=typeof H)return{default:H};var Z=l();if(Z&&Z.has(H))return Z.get(H);var le,xe={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(le in H){var j;Object.prototype.hasOwnProperty.call(H,le)&&((j=q?Object.getOwnPropertyDescriptor(H,le):null)&&(j.get||j.set)?Object.defineProperty(xe,le,j):xe[le]=H[le])}return xe.default=H,Z&&Z.set(H,xe),xe}(P("../core/constants")),S=a(P("./GeometryBuilder")),w=a(P("libtess")),i=(P("./p5.Shader"),P("./p5.Camera"),P("../core/p5.Renderer"),P("./p5.Matrix"),P("./p5.Framebuffer"),P("path"),P("./p5.Texture"));function l(){var H;return"function"!=typeof WeakMap?null:(l=function(){return H},H=new WeakMap)}function a(H){return H&&H.__esModule?H:{default:H}}function u(H){return function(Z){if(Array.isArray(Z)){for(var le=0,xe=new Array(Z.length);le<Z.length;le++)xe[le]=Z[le];return xe}}(H)||function(Z){if(Symbol.iterator in Object(Z)||"[object Arguments]"===Object.prototype.toString.call(Z))return Array.from(Z)}(H)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(H,Z){for(var le=0;le<Z.length;le++){var xe=Z[le];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}function h(H,Z,le){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(oe,q,j){if(oe=function(me,Se){for(;!Object.prototype.hasOwnProperty.call(me,Se)&&null!==(me=T(me)););return me}(oe,q))return(oe=Object.getOwnPropertyDescriptor(oe,q)).get?oe.get.call(j):oe.value})(H,Z,le||H)}function g(H,Z){return(g=Object.setPrototypeOf||function(le,xe){return le.__proto__=xe,le})(H,Z)}function y(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function T(H){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(H)}function z(H,Z,le){Z in H?Object.defineProperty(H,Z,{value:le,enumerable:!0,configurable:!0,writable:!0}):H[Z]=le}function G(H,Z){O+="#define STROKE_CAP_".concat(H," ").concat(Z,"\n"),X[m[H]]=Z}function N(H,Z){O+="#define STROKE_JOIN_".concat(H," ").concat(Z,"\n"),D[m[H]]=Z}var k,X={},D={},O="",J={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(G("ROUND",0),G("PROJECT",1),G("SQUARE",2),N("ROUND",0),N("MITER",1),N("BEVEL",2),(P='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:P+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:O+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:O+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},re=J.sphereMappingFrag;for(k in J)J[k]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+J[k];z(P={},m.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),z(P,m.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),z(P,m.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),z(P,m.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),z(P,m.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),z(P,m.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),z(P,m.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),z(P,m.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var $=P;function Q(H,Z,lt,xe,q,j,oe,me,Se,Le){var Xe=Z.getParameter(Z.FRAMEBUFFER_BINDING),He=j*oe*(Z.bindFramebuffer(Z.FRAMEBUFFER,lt),lt=me===Z.RGBA?4:3),nt=Se===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(H instanceof nt&&H.length===He||(H=new nt(He)),Z.readPixels(xe,Le?Le-q-oe:q,j,oe,me,Se,H),Z.bindFramebuffer(Z.FRAMEBUFFER,Xe),Le)for(var at=Math.floor(oe/2),Be=new nt(j*lt),st=0;st<at;st++){var Ye=st*j*4,it=(oe-st-1)*j*4;Be.set(H.subarray(Ye,Ye+4*j)),H.copyWithin(Ye,it,it+4*j),H.set(Be,it)}return H}function V(H,Se,le,xe,q,j,oe){var me=H.getParameter(H.FRAMEBUFFER_BINDING);return H.bindFramebuffer(H.FRAMEBUFFER,Se),Se=q===H.RGBA?4:3,Se=new(j===H.UNSIGNED_BYTE?Uint8Array:Float32Array)(Se),H.readPixels(le,oe?oe-xe-1:xe,1,1,q,j,Se),H.bindFramebuffer(H.FRAMEBUFFER,me),Array.from(Se)}f.default.prototype.setAttributes=function(H,Z){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var le=!0;if(void 0!==Z?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[H]!==Z&&(this._glAttributes[H]=Z,le=!1)):H instanceof Object&&this._glAttributes!==H&&(this._glAttributes=H,le=!1),this._renderer.isP3D&&!le){if(!this._setupDone)for(var xe in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(xe))return void f.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},f.default.RendererGL=function(H){var Z=q;if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(H&&H.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),H&&g(Z,H);var xe=function p(H){return function(){var Z,le,xe=T(H);return Z=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Z=T(this).constructor,Reflect.construct(xe,arguments,Z)):xe.apply(this,arguments),xe=this,!(le=Z)||"object"!==_(le)&&"function"!=typeof le?y(xe):le}}(q);function q(j,oe,me,Se){if(this instanceof q)return(j=xe.call(this,j,oe,me))._setAttributeDefaults(oe),j._initContext(),j.isP3D=!0,j.geometryBuilder=void 0,j.GL=j.drawingContext,j._pInst._setProperty("drawingContext",j.drawingContext),j._isErasing=!1,j._clipDepths=[],j._isClipApplied=!1,j._stencilTestOn=!1,j._enableLighting=!1,j.ambientLightColors=[],j.mixedAmbientLight=[],j.mixedSpecularColor=[],j.specularColors=[1,1,1],j.directionalLightDirections=[],j.directionalLightDiffuseColors=[],j.directionalLightSpecularColors=[],j.pointLightPositions=[],j.pointLightDiffuseColors=[],j.pointLightSpecularColors=[],j.spotLightPositions=[],j.spotLightDirections=[],j.spotLightDiffuseColors=[],j.spotLightSpecularColors=[],j.spotLightAngle=[],j.spotLightConc=[],j.activeImageLight=null,j.diffusedTextures=new Map,j.specularTextures=new Map,j.drawMode=m.FILL,j.curFillColor=j._cachedFillStyle=[1,1,1,1],j.curAmbientColor=j._cachedFillStyle=[1,1,1,1],j.curSpecularColor=j._cachedFillStyle=[0,0,0,0],j.curEmissiveColor=j._cachedFillStyle=[0,0,0,0],j.curStrokeColor=j._cachedStrokeStyle=[0,0,0,1],j.curBlendMode=m.BLEND,j.preEraseBlend=void 0,j._cachedBlendMode=void 0,j.blendExt=j.webglVersion===m.WEBGL2?j.GL:j.GL.getExtension("EXT_blend_minmax"),j._isBlending=!1,j._hasSetAmbient=!1,j._useSpecularMaterial=!1,j._useEmissiveMaterial=!1,j._useNormalMaterial=!1,j._useShininess=1,j._useMetalness=0,j._useLineColor=!1,j._useVertexColor=!1,j.registerEnabled=new Set,j._tint=[255,255,255,255],j.constantAttenuation=1,j.linearAttenuation=0,j.quadraticAttenuation=0,j.uModelMatrix=new f.default.Matrix,j.uViewMatrix=new f.default.Matrix,j.uMVMatrix=new f.default.Matrix,j.uPMatrix=new f.default.Matrix,j.uNMatrix=new f.default.Matrix("mat3"),j.curMatrix=new f.default.Matrix("mat3"),j._currentNormal=new f.default.Vector(0,0,1),j._curCamera=new f.default.Camera(y(j)),j._curCamera._computeCameraDefaultSettings(),j._curCamera._setDefaultCamera(),j.filterCamera=new f.default.Camera(y(j)),j.filterCamera._computeCameraDefaultSettings(),j.filterCamera._setDefaultCamera(),j.prevTouches=[],j.zoomVelocity=0,j.rotateVelocity=new f.default.Vector(0,0),j.moveVelocity=new f.default.Vector(0,0),j.executeZoom=!1,j.executeRotateAndMove=!1,j.specularShader=void 0,j.sphereMapping=void 0,j.diffusedShader=void 0,j._defaultLightShader=void 0,j._defaultImmediateModeShader=void 0,j._defaultNormalShader=void 0,j._defaultColorShader=void 0,j._defaultPointShader=void 0,j.userFillShader=void 0,j.userStrokeShader=void 0,j.userPointShader=void 0,j.retainedMode={geometry:{},buffers:{stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(j)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(j)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(j)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(j))],fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(j),j._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(j),j._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(j)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(j),j._flatten)],text:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(j),j._vToNArray),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(j),j._flatten)]}},j.immediateMode={geometry:new f.default.Geometry,shapeMode:m.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(j),j._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(j),j._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(j)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(j),j._flatten)],stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(j)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(j)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(j)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(j)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(j))],point:j.GL.createBuffer()}},j.pointSize=5,j.curStrokeWeight=1,j.curStrokeCap=m.ROUND,j.curStrokeJoin=m.ROUND,j.textures=new Map,j.framebuffers=new Set,j.activeFramebuffers=[],j.filterShader=void 0,j.filterLayer=void 0,j.filterLayerTemp=void 0,j.defaultFilterShaders={},j.textureMode=m.IMAGE,j.textureWrapX=m.CLAMP,j.textureWrapY=m.CLAMP,j._tex=null,j._curveTightness=6,j._lookUpTableBezier=[],j._lookUpTableQuadratic=[],j._lutBezierDetail=0,j._lutQuadraticDetail=0,j.isProcessingVertices=!1,j._tessy=j._initTessy(),j.fontInfos={},j._curShader=void 0,j;throw new TypeError("Cannot call a class as a function")}return Z=q,(H=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new S.default(this)}},{key:"endGeometry",value:function(){var j;if(this.geometryBuilder)return j=this.geometryBuilder.finish(),this.geometryBuilder=void 0,j;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(j){return this.beginGeometry(),j(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(j){var oe={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};j._glAttributes=null===j._glAttributes?oe:Object.assign(oe,j._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?m.WEBGL2:m.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var j=this.drawingContext;j.enable(j.DEPTH_TEST),j.depthFunc(j.LEQUAL),j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var j=this.drawingContext;return j.getParameter(j.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(j,oe){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Se=this._maxTextureSize,me=(Se=Math.floor(Se/this.pixelDensity()),Math.min(j,Se));return Se=Math.min(oe,Se),me===j&&Se===oe||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(me,", height: ").concat(Se,".")),{adjustedWidth:me,adjustedHeight:Se}}},{key:"_resetContext",value:function(j,oe){var me,Se=this.width,Le=this.height,lt=this.canvas.id,Xe=this._pInst instanceof f.default.Graphics;Xe?((me=this._pInst).canvas.parentNode.removeChild(me.canvas),me.canvas=document.createElement("canvas"),(me._pInst._userNode||document.body).appendChild(me.canvas),f.default.Element.call(me,me.canvas,me._pInst),me.width=Se,me.height=Le):((me=this.canvas)&&me.parentNode.removeChild(me),(me=document.createElement("canvas")).id=lt,(this._pInst._userNode||document.body).appendChild(me),this._pInst.canvas=me,this.canvas=me),lt=new f.default.RendererGL(this._pInst.canvas,this._pInst,!Xe),this._pInst._setProperty("_renderer",lt),lt.resize(Se,Le),lt._applyDefaults(),Xe||this._pInst._elements.push(lt),"function"==typeof oe&&setTimeout(function(){oe.apply(window._renderer,j)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Se=(Se=this._pInst).color.apply(Se,arguments);this.clear(Se.levels[0]/255,Se.levels[1]/255,Se.levels[2]/255,Se=Se.levels[3]/255)}},{key:"fill",value:function(j,oe,me,Se){var Le=f.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Le._array,this.drawMode=m.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(j,oe,me,Se){var Le=f.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Le._array}},{key:"strokeCap",value:function(j){this.curStrokeCap=j}},{key:"strokeJoin",value:function(j){this.curStrokeJoin=j}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(j,oe){j.width===oe.width&&j.height===oe.height||j.resize(oe.width,oe.height),j.pixelDensity()!==oe.pixelDensity()&&j.pixelDensity(oe.pixelDensity())}},{key:"filter",value:function(){var j,oe,me=this,Se=this.getFilterLayer(),Le=void 0,Xe=void 0,lt=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Xe=arguments.length<=0?void 0:arguments[0],z(j={},m.BLUR,3),z(j,m.POSTERIZE,4),z(j,m.THRESHOLD,.5),Le=Xe in j&&void 0===(arguments.length<=1?void 0:arguments[1])?j[Xe]:arguments.length<=1?void 0:arguments[1],Xe in this.defaultFilterShaders||(this.defaultFilterShaders[Xe]=new f.default.Shader(Se._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",$[Xe])),this.filterShader=this.defaultFilterShaders[Xe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),He=(this.matchSize(Se,lt),Se.draw(function(){return me._pInst.clear()}),[1/(lt.width*lt.pixelDensity()),1/(lt.height*lt.pixelDensity())]);Xe===m.BLUR?(oe=this.getFilterLayerTemp(),this.matchSize(oe,lt),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(m.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",He),this.filterShader.setUniform("canvasSize",[lt.width,lt.height]),this.filterShader.setUniform("radius",Math.max(1,Le)),oe.draw(function(){me.filterShader.setUniform("direction",[1,0]),me.filterShader.setUniform("tex0",lt),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(lt.width,lt.height)}),Se.draw(function(){me.filterShader.setUniform("direction",[0,1]),me.filterShader.setUniform("tex0",oe),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(lt.width,lt.height)}),this._pInst.pop()):Se.draw(function(){me._pInst.noStroke(),me._pInst.blendMode(m.BLEND),me._pInst.shader(me.filterShader),me.filterShader.setUniform("tex0",lt),me.filterShader.setUniform("texelSize",He),me.filterShader.setUniform("canvasSize",[lt.width,lt.height]),me.filterShader.setUniform("filterParameter",Le),me._pInst.noLights(),me._pInst.plane(lt.width,lt.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(m.CORNER),this._pInst.blendMode(m.BLEND),lt.filterCamera._resize(),this._pInst.setCamera(lt.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Se,-lt.width/2,-lt.height/2,lt.width,lt.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(j){return j?this._pInst.pixelDensity(j):this._pInst.pixelDensity()}},{key:"blendMode",value:function(j){j===m.DARKEST||j===m.LIGHTEST||j===m.ADD||j===m.BLEND||j===m.SUBTRACT||j===m.SCREEN||j===m.EXCLUSION||j===m.REPLACE||j===m.MULTIPLY||j===m.REMOVE?this.curBlendMode=j:j!==m.BURN&&j!==m.OVERLAY&&j!==m.HARD_LIGHT&&j!==m.SOFT_LIGHT&&j!==m.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(j,oe){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(m.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,j/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,oe/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(h(T(q.prototype),"beginClip",this).call(this,j),this.drawTarget()._isClipApplied=!0,j=this.GL).clearStencil(0),j.clear(j.STENCIL_BUFFER_BIT),j.enable(j.STENCIL_TEST),this._stencilTestOn=!0,j.stencilFunc(j.ALWAYS,1,255),j.stencilOp(j.KEEP,j.KEEP,j.REPLACE),j.disable(j.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var j=this.GL;j.stencilOp(j.KEEP,j.KEEP,j.KEEP),j.stencilFunc(this._clipInvert?j.EQUAL:j.NOTEQUAL,0,255),j.enable(j.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),h(T(q.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(j){this.curStrokeWeight!==j&&(this.pointSize=j,this.curStrokeWeight=j)}},{key:"_getPixel",value:function(j,oe){var me=this.GL;return V(me,null,j,oe,me.RGBA,me.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var j,oe,me=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):me._setProperty("pixels",Q(me.pixels,oe=this.GL,null,0,0,this.width*(j=this._pInst._pixelDensity),this.height*j,oe.RGBA,oe.UNSIGNED_BYTE,this.height*j))}},{key:"updatePixels",value:function(){var j=this._getTempFramebuffer();j.pixels=this._pixelsState.pixels,j.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(m.CENTER),this._pInst.image(j,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:m.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:m.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(j){return void 0!==this.retainedMode.geometry[j]}},{key:"viewport",value:function(j,oe){this._viewport=[0,0,j,oe],this.GL.viewport(0,0,j,oe)}},{key:"resize",value:function(Le,Se){f.default.Renderer.prototype.resize.call(this,Le,Se),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var me=(void 0!==(Le=this._pixelsState).pixels&&Le._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Se=!1,Le=void 0;try{for(var Xe,lt=this.framebuffers[Symbol.iterator]();!(me=(Xe=lt.next()).done);me=!0)Xe.value._canvasSizeChanged()}catch(He){Se=!0,Le=He}finally{try{me||null==lt.return||lt.return()}finally{if(Se)throw Le}}}},{key:"clear",value:function(){var j=(arguments.length<=0?void 0:arguments[0])||0,oe=(arguments.length<=1?void 0:arguments[1])||0,me=(arguments.length<=2?void 0:arguments[2])||0,Se=(arguments.length<=3?void 0:arguments[3])||0,Le=this.activeFramebuffer();Le&&Le.format===m.UNSIGNED_BYTE&&!Le.antialias&&0===Se&&(Se=1e-10),this.GL.clearColor(j*Se,oe*Se,me*Se,Se),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(j,oe,me,Se,Le,Xe){16===arguments.length?f.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([j,oe,0,0,me,Se,0,0,0,0,1,0,Le,Xe,0,1])}},{key:"translate",value:function(j,oe,me){return j instanceof f.default.Vector&&(me=j.z,oe=j.y,j=j.x),this.uModelMatrix.translate([j,oe,me]),this}},{key:"scale",value:function(j,oe,me){return this.uModelMatrix.scale(j,oe,me),this}},{key:"rotate",value:function(j,oe){return void 0===oe?this.rotateZ(j):(f.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(j){return this.rotate(j,1,0,0),this}},{key:"rotateY",value:function(j){return this.rotate(j,0,1,0),this}},{key:"rotateZ",value:function(j){return this.rotate(j,0,0,1),this}},{key:"push",value:function(){var j=f.default.Renderer.prototype.push.apply(this),oe=j.properties;return oe.uModelMatrix=this.uModelMatrix.copy(),oe.uViewMatrix=this.uViewMatrix.copy(),oe.uPMatrix=this.uPMatrix.copy(),oe._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),oe.ambientLightColors=this.ambientLightColors.slice(),oe.specularColors=this.specularColors.slice(),oe.directionalLightDirections=this.directionalLightDirections.slice(),oe.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),oe.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),oe.pointLightPositions=this.pointLightPositions.slice(),oe.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),oe.pointLightSpecularColors=this.pointLightSpecularColors.slice(),oe.spotLightPositions=this.spotLightPositions.slice(),oe.spotLightDirections=this.spotLightDirections.slice(),oe.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),oe.spotLightSpecularColors=this.spotLightSpecularColors.slice(),oe.spotLightAngle=this.spotLightAngle.slice(),oe.spotLightConc=this.spotLightConc.slice(),oe.userFillShader=this.userFillShader,oe.userStrokeShader=this.userStrokeShader,oe.userPointShader=this.userPointShader,oe.pointSize=this.pointSize,oe.curStrokeWeight=this.curStrokeWeight,oe.curStrokeColor=this.curStrokeColor,oe.curFillColor=this.curFillColor,oe.curAmbientColor=this.curAmbientColor,oe.curSpecularColor=this.curSpecularColor,oe.curEmissiveColor=this.curEmissiveColor,oe._hasSetAmbient=this._hasSetAmbient,oe._useSpecularMaterial=this._useSpecularMaterial,oe._useEmissiveMaterial=this._useEmissiveMaterial,oe._useShininess=this._useShininess,oe._useMetalness=this._useMetalness,oe.constantAttenuation=this.constantAttenuation,oe.linearAttenuation=this.linearAttenuation,oe.quadraticAttenuation=this.quadraticAttenuation,oe._enableLighting=this._enableLighting,oe._useNormalMaterial=this._useNormalMaterial,oe._tex=this._tex,oe.drawMode=this.drawMode,oe._currentNormal=this._currentNormal,oe.curBlendMode=this.curBlendMode,oe.activeImageLight=this.activeImageLight,j}},{key:"pop",value:function(){var j;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var oe=arguments.length,me=new Array(oe),Se=0;Se<oe;Se++)me[Se]=arguments[Se];(j=h(T(q.prototype),"pop",this)).call.apply(j,[this].concat(me)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var j=this.drawTarget();j._isClipApplied!==this._stencilTestOn&&(j._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var j=this.userStrokeShader;return j&&j.isStrokeShader()?j:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(j){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(re)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",j),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var j=this.userFillShader;if(this._useNormalMaterial&&(!j||!j.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getImmediateModeShader();return j}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var j=this.userFillShader;if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getColorShader();return j}},{key:"_getImmediatePointShader",value:function(){var j=this.userPointShader;return j&&j.isPointShader()?j:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+J.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+J.phongFrag):new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+J.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+J.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===m.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(j,oe){var me="";return this.webglVersion===m.WEBGL2&&(me+="#version 300 es\n#define WEBGL2\n"),"vert"===j?me+="#define VERTEX_SHADER\n":"frag"===j&&(me+="#define FRAGMENT_SHADER\n"),oe&&(me+="precision ".concat(oe," float;\n")),me}},{key:"_getEmptyTexture",value:function(){var j;return this._emptyTexture||((j=new f.default.Image(1,1)).set(0,0,255),this._emptyTexture=new f.default.Texture(this,j)),this._emptyTexture}},{key:"getTexture",value:function(j){j instanceof f.default.Framebuffer&&(j=j.color);var oe=this.textures.get(j);return oe||(oe=new f.default.Texture(this,j),this.textures.set(j,oe),oe)}},{key:"getDiffusedTexture",value:function(j){var oe,me,Se=this;return null!=this.diffusedTextures.get(j)?this.diffusedTextures.get(j):(oe=Math.floor(j.height/j.width*200),me=this._pInst.createFramebuffer({width:200,height:oe,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(J.imageLightVert,J.imageLightDiffusedFrag)),me.draw(function(){Se._pInst.shader(Se.diffusedShader),Se.diffusedShader.setUniform("environmentMap",j),Se._pInst.noStroke(),Se._pInst.rectMode(m.CENTER),Se._pInst.noLights(),Se._pInst.rect(0,0,200,oe)}),this.diffusedTextures.set(j,me),me)}},{key:"getSpecularTexture",value:function(j){var oe=this;if(null!=this.specularTextures.get(j))return this.specularTextures.get(j);for(var me,Se=[],Le=this._pInst.createFramebuffer({width:512,height:512,density:1}),Xe=Math.log(512)/Math.log(2),lt=(this.specularShader||(this.specularShader=this._pInst.createShader(J.imageLightVert,J.imageLightSpecularFrag)),512);1<=lt;lt/=2)!function(He){Le.resize(He,He);var nt=1-Math.log(He)/Math.log(2)/Xe;Le.draw(function(){oe._pInst.shader(oe.specularShader),oe._pInst.clear(),oe.specularShader.setUniform("environmentMap",j),oe.specularShader.setUniform("roughness",nt),oe._pInst.noStroke(),oe._pInst.noLights(),oe._pInst.plane(He,He)}),Se.push(Le.get().drawingContext.getImageData(0,0,He,He))}(lt);return Le.remove(),me=new i.MipmapTexture(this,Se,{}),this.specularTextures.set(j,me),me}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(j){return new f.default.Framebuffer(this,j)}},{key:"_setStrokeUniforms",value:function(j){j.bindShader(),j.setUniform("uUseLineColor",this._useLineColor),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uStrokeWeight",this.curStrokeWeight),j.setUniform("uStrokeCap",X[this.curStrokeCap]),j.setUniform("uStrokeJoin",D[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(j){var oe=this,me=(j.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Se,Le){return oe.curFillColor[Le]*oe._useMetalness+Se*(1-oe._useMetalness)})),j.setUniform("uUseVertexColor",this._useVertexColor),j.setUniform("uMaterialColor",this.curFillColor),j.setUniform("isTexture",!!this._tex),this._tex&&j.setUniform("uSampler",this._tex),j.setUniform("uTint",this._tint),j.setUniform("uHasSetAmbient",this._hasSetAmbient),j.setUniform("uAmbientMatColor",this.curAmbientColor),j.setUniform("uSpecularMatColor",this.mixedSpecularColor),j.setUniform("uEmissiveMatColor",this.curEmissiveColor),j.setUniform("uSpecular",this._useSpecularMaterial),j.setUniform("uEmissive",this._useEmissiveMaterial),j.setUniform("uShininess",this._useShininess),j.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(j),j.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);j.setUniform("uPointLightCount",me),j.setUniform("uPointLightLocation",this.pointLightPositions),j.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),j.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),j.setUniform("uDirectionalLightCount",me=this.directionalLightDiffuseColors.length/3),j.setUniform("uLightingDirection",this.directionalLightDirections),j.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),j.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),me=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Se){return Math.max(0,Se-=oe._useMetalness)})),j.setUniform("uAmbientLightCount",me),j.setUniform("uAmbientColor",this.mixedAmbientLight),j.setUniform("uSpotLightCount",me=this.spotLightDiffuseColors.length/3),j.setUniform("uSpotLightAngle",this.spotLightAngle),j.setUniform("uSpotLightConc",this.spotLightConc),j.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),j.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),j.setUniform("uSpotLightLocation",this.spotLightPositions),j.setUniform("uSpotLightDirection",this.spotLightDirections),j.setUniform("uConstantAttenuation",this.constantAttenuation),j.setUniform("uLinearAttenuation",this.linearAttenuation),j.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),j.bindTextures()}},{key:"_setImageLightUniforms",value:function(j){var oe;j.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(oe=this.getDiffusedTexture(this.activeImageLight),j.setUniform("environmentMapDiffused",oe),oe=this.getSpecularTexture(this.activeImageLight),j.setUniform("levelOfDetail",20/this._useShininess*8),j.setUniform("environmentMapSpecular",oe))}},{key:"_setPointUniforms",value:function(j){j.bindShader(),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(j,oe,me,Se,Le){this.GL.bindBuffer(oe=oe||this.GL.ARRAY_BUFFER,j),void 0!==me&&((j=me)instanceof f.default.DataArray?j=me.dataArray():j instanceof(Se||Float32Array)||(j=new(Se||Float32Array)(j)),this.GL.bufferData(oe,j,Le||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(j,oe){return j.length===oe.length&&j.every(function(me,Se){return me===oe[Se]})}},{key:"_isTypedArray",value:function(j){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(oe){return j instanceof oe})}},{key:"_flatten",value:function(j){return j.flat()}},{key:"_vToNArray",value:function(j){return j.flatMap(function(oe){return[oe.x,oe.y,oe.z]})}},{key:"_bezierCoefficients",value:function(j){var oe=j*j,me=1-j,Se=me*me;return[Se*me,3*Se*j,3*me*oe,oe*j]}},{key:"_quadraticCoefficients",value:function(j){var oe=1-j;return[oe*oe,2*oe*j,j*j]}},{key:"_bezierToCatmull",value:function(j){return[j[1],j[1]+(j[2]-j[0])/this._curveTightness,j[2]-(j[3]-j[1])/this._curveTightness,j[2]]}},{key:"_initTessy",value:function(){var j=new w.default.GluTesselator;return j.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(oe,me){var Se=!0,Le=!1,Xe=void 0;try{for(var lt,He=oe[Symbol.iterator]();!(Se=(lt=He.next()).done);Se=!0)me.push(lt.value)}catch(at){Le=!0,Xe=at}finally{try{Se||null==He.return||He.return()}finally{if(Le)throw Xe}}}),j.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(oe){oe!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(oe))}),j.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(oe){console.log("error callback"),console.log("error number: ".concat(oe))}),j.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(oe,me,Se){for(var Le=new Array(f.default.RendererGL.prototype.tessyVertexSize).fill(0),Xe=0;Xe<Se.length;Xe++)for(var lt=0;lt<Le.length;lt++)0!==Se[Xe]&&me[Xe]&&(Le[lt]+=me[Xe][lt]*Se[Xe]);return Le}),j.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(oe){}),j.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),j}},{key:"_triangulate",value:function(j){var oe=j[0]?j[0][2]:void 0,me=!0,Se=!0,nt=!1,Be=void 0;try{for(var Le,Xe=j[Symbol.iterator]();!(Se=(Le=Xe.next()).done);Se=!0)for(var lt=Le.value,He=0;He<lt.length;He+=f.default.RendererGL.prototype.tessyVertexSize)if(lt[He+2]!==oe){me=!1;break}}catch(ir){nt=!0,Be=ir}finally{try{Se||null==Xe.return||Xe.return()}finally{if(nt)throw Be}}this._tessy.gluTessNormal(0,0,me?1:0);var at=(this._tessy.gluTessBeginPolygon(nt=[]),!0),st=void(Be=!1);try{for(var Ye,it=j[Symbol.iterator]();!(at=(Ye=it.next()).done);at=!0){var Ze=Ye.value;this._tessy.gluTessBeginContour();for(var pt=0;pt<Ze.length;pt+=f.default.RendererGL.prototype.tessyVertexSize){var kt=Ze.slice(pt,pt+f.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(kt,kt)}this._tessy.gluTessEndContour()}}catch(ir){Be=!0,st=ir}finally{try{at||null==it.return||it.return()}finally{if(Be)throw st}}return this._tessy.gluTessEndPolygon(),nt}}])&&d(Z.prototype,H),q}(f.default.Renderer),f.default.prototype._assert3d=function(H){if(!this._renderer.isP3D)throw new Error("".concat(H,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},f.default.RendererGL.prototype.tessyVertexSize=12,B.default=P=f.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,ie,B){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,m){for(var S=0;S<m.length;S++){var w=m[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Shader=function(){function f(i,l,a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=l,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var m,S;return m=f,(S=[{key:"init",value:function(){if(0===this._glProgram){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(i){var l=new v.default.Shader(i._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(i),l}},{key:"ensureCompiledOnContext",value:function(i){if(0!==this._glProgram&&this._renderer!==i._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=i._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,l=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),a=0;a<l;++a){var u=i.getActiveAttrib(this._glProgram,a),d=u.name,h=i.getAttribLocation(this._glProgram,d),g={};g.name=d,g.location=h,g.index=a,g.type=u.type,g.size=u.size,this.attributes[d]=g}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,l=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),a=0,u=0;u<l;++u){var d=i.getActiveUniform(this._glProgram,u),h={},g=(h.location=i.getUniformLocation(this._glProgram,d.name),h.size=d.size,d.name);1<d.size&&(g=g.substring(0,g.indexOf("[0]"))),h.name=g,h.type=d.type,h._cachedData=void 0,h.type===i.SAMPLER_2D&&(h.samplerIndex=a,a++,this.samplers.push(h)),h.isArray=1<d.size||h.type===i.FLOAT_MAT3||h.type===i.FLOAT_MAT4||h.type===i.FLOAT_VEC2||h.type===i.FLOAT_VEC3||h.type===i.FLOAT_VEC4||h.type===i.INT_VEC2||h.type===i.INT_VEC4||h.type===i.INT_VEC3,this.uniforms[g]=h}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,l=!0,a=!1,u=void 0;try{for(var d,h=this.samplers[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var g=d.value,p=g.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+g.samplerIndex),p.bindTexture(),p.update(),i.uniform1i(g.location,g.samplerIndex)}}catch(y){a=!0,u=y}finally{try{l||null==h.return||h.return()}finally{if(a)throw u}}}},{key:"updateTextures",value:function(){var i=!0,l=!1,a=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var h=u.value.texture;h&&h.update()}}catch(g){l=!0,a=g}finally{try{i||null==d.return||d.return()}finally{if(l)throw a}}}},{key:"unbindTextures",value:function(){var i=!0,l=!1,a=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(i=(u=d.next()).done);i=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(g){l=!0,a=g}finally{try{i||null==d.return||d.return()}finally{if(l)throw a}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer.uModelMatrix,l=this._renderer.uViewMatrix,a=this._renderer.uPMatrix,u=i.copy().mult(l),d=(this._renderer.uMVMatrix=u).copy();d.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelMatrix",i.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",d.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,l){var a=this.uniforms[i];if(a){var u=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,l))return;a._cachedData=l.slice(0)}else{if(a._cachedData&&a._cachedData===l)return;a._cachedData=Array.isArray(l)?l.slice(0):l}var d=a.location;switch(this.useProgram(),a.type){case u.BOOL:u.uniform1i(d,!0===l?1:0);break;case u.INT:1<a.size?l.length&&u.uniform1iv(d,l):u.uniform1i(d,l);break;case u.FLOAT:1<a.size?l.length&&u.uniform1fv(d,l):u.uniform1f(d,l);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(d,!1,l);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(d,!1,l);break;case u.FLOAT_VEC2:1<a.size?l.length&&u.uniform2fv(d,l):u.uniform2f(d,l[0],l[1]);break;case u.FLOAT_VEC3:1<a.size?l.length&&u.uniform3fv(d,l):u.uniform3f(d,l[0],l[1],l[2]);break;case u.FLOAT_VEC4:1<a.size?l.length&&u.uniform4fv(d,l):u.uniform4f(d,l[0],l[1],l[2],l[3]);break;case u.INT_VEC2:1<a.size?l.length&&u.uniform2iv(d,l):u.uniform2i(d,l[0],l[1]);break;case u.INT_VEC3:1<a.size?l.length&&u.uniform3iv(d,l):u.uniform3i(d,l[0],l[1],l[2]);break;case u.INT_VEC4:1<a.size?l.length&&u.uniform4iv(d,l):u.uniform4i(d,l[0],l[1],l[2],l[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+a.samplerIndex),a.texture=l instanceof v.default.Texture?l:this._renderer.getTexture(l),u.uniform1i(d,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(i){return void 0!==i})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(i,l,a,u,d,h){var g;return i&&-1!==(i=i.location)&&(g=this._renderer.GL,this._renderer.registerEnabled.has(i)||(g.enableVertexAttribArray(i),this._renderer.registerEnabled.add(i)),this._renderer.GL.vertexAttribPointer(i,l,a||g.FLOAT,u||!1,d||0,h||0)),this}},{key:"disableRemainingAttributes",value:function(){var i=this,l=!0,a=!1,u=void 0;try{for(var d,h=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)!function(){var g=d.value;Object.keys(i.attributes).some(function(p){return i.attributes[p].location===g})||(i._renderer.GL.disableVertexAttribArray(g),i._renderer.registerEnabled.delete(g))}()}catch(g){a=!0,u=g}finally{try{l||null==h.return||h.return()}finally{if(a)throw u}}}}])&&_(m.prototype,S),f}(),B.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,ie,B){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(B,"__esModule",{value:!0}),B.checkWebGLCapabilities=g,B.default=B.MipmapTexture=void 0;var f=(h=o("../core/main"))&&h.__esModule?h:{default:h},m=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var y=S();if(y&&y.has(p))return y.get(p);var T,z={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in p){var N;Object.prototype.hasOwnProperty.call(p,T)&&((N=G?Object.getOwnPropertyDescriptor(p,T):null)&&(N.get||N.set)?Object.defineProperty(z,T,N):z[T]=p[T])}return z.default=p,y&&y.set(p,z),z}(o("../core/constants"));function S(){var p;return"function"!=typeof WeakMap?null:(S=function(){return p},p=new WeakMap)}function w(p,y){return(w=Object.setPrototypeOf||function(T,z){return T.__proto__=z,T})(p,y)}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function a(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p,y){for(var T=0;T<y.length;T++){var z=y[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(p,z.key,z)}}function d(p,y,T){y&&u(p.prototype,y),T&&u(p,T)}f.default.Texture=function(){function p(k,T,N){a(this,p),this._renderer=k;var G=this._renderer.GL;return N=N||{},this.src=T,this.glTex=void 0,this.glTarget=G.TEXTURE_2D,this.glFormat=N.format||G.RGBA,this.mipmaps=!1,this.glMinFilter=N.minFilter||G.LINEAR,this.glMagFilter=N.magFilter||G.LINEAR,this.glWrapS=N.wrapS||G.CLAMP_TO_EDGE,this.glWrapT=N.wrapT||G.CLAMP_TO_EDGE,this.glDataType=N.dataType||G.UNSIGNED_BYTE,N=g(k),this.glFormat!==G.HALF_FLOAT||N.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=G.FLOAT),this.glFormat!==G.HALF_FLOAT||this.glMinFilter!==G.LINEAR&&this.glMagFilter!==G.LINEAR||N.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===G.LINEAR&&(this.glMinFilter=G.NEAREST),this.glMagFilter===G.LINEAR&&(this.glMagFilter=G.NEAREST)),this.glFormat!==G.FLOAT||N.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=G.UNSIGNED_BYTE),this.glFormat!==G.FLOAT||this.glMinFilter!==G.LINEAR&&this.glMagFilter!==G.LINEAR||N.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===G.LINEAR&&(this.glMinFilter=G.NEAREST),this.glMagFilter===G.LINEAR&&(this.glMagFilter=G.NEAREST)),this.isSrcMediaElement=void 0!==f.default.MediaElement&&T instanceof f.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==f.default.Element&&T instanceof f.default.Element&&!(T instanceof f.default.Graphics)&&!(T instanceof f.default.Renderer),this.isSrcP5Image=T instanceof f.default.Image,this.isSrcP5Graphics=T instanceof f.default.Graphics,this.isSrcP5Renderer=T instanceof f.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof f.default.FramebufferTexture,k=this._getTextureDataFromSource(),this.width=k.width,this.height=k.height,this.init(k),this}return d(p,[{key:"_getTextureDataFromSource",value:function(){var y;return this.isFramebufferTexture?y=this.src.rawTexture():this.isSrcP5Image?y=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?y=this.src.elt:this.isImageData&&(y=this.src),y}},{key:"init",value:function(y){var T,z=this._renderer.GL;this.isFramebufferTexture||(this.glTex=z.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,this.glMagFilter),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),z.texImage2D(this.glTarget,0,z.RGBA,1,1,0,this.glFormat,this.glDataType,T)):z.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y))}},{key:"update",value:function(){var y,T,z,G=this.src;return 0!==G.width&&0!==G.height&&!this.isFramebufferTexture&&(y=this._getTextureDataFromSource(),T=!1,z=this._renderer.GL,y.width!==this.width||y.height!==this.height?(T=!0,this.width=y.width||G.width,this.height=y.height||G.height,this.isSrcP5Image?G.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&G.setModified(!0)):this.isSrcP5Image?G.isModified()&&G.setModified(!(T=!0)):this.isSrcMediaElement?G.isModified()?G.setModified(!(T=!0)):G.loadedmetadata&&this._videoPrevUpdateTime!==G.time()&&(this._videoPrevUpdateTime=G.time(),T=!0):this.isImageData?G._dirty&&(T=!(G._dirty=!1)):T=!0,T&&(this.bindTexture(),z.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(y,T){var z=this._renderer.GL;this.glMinFilter=this.glFilter(y),this.glMagFilter=this.glFilter(T),this.bindTexture(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,this.glMinFilter),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(y){var T=this._renderer.GL;return y===m.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(y,T){function z(X){return!(X&X-1)}var G=this._renderer.GL,k=(k=this._getTextureDataFromSource()).naturalWidth&&k.naturalHeight?(N=k.naturalWidth,k.naturalHeight):(N=this.width,this.height),N=z(N);k=z(k),y===m.REPEAT?this._renderer.webglVersion===m.WEBGL2||N&&k?this.glWrapS=G.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=G.CLAMP_TO_EDGE):y===m.MIRROR?this._renderer.webglVersion===m.WEBGL2||N&&k?this.glWrapS=G.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=G.CLAMP_TO_EDGE):this.glWrapS=G.CLAMP_TO_EDGE,T===m.REPEAT?this._renderer.webglVersion===m.WEBGL2||N&&k?this.glWrapT=G.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=G.CLAMP_TO_EDGE):T===m.MIRROR?this._renderer.webglVersion===m.WEBGL2||N&&k?this.glWrapT=G.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=G.CLAMP_TO_EDGE):this.glWrapT=G.CLAMP_TO_EDGE,this.bindTexture(),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,this.glWrapS),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var h=function(p){var y=z;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&w(y,p);var T=function i(p){return function(){var y,T=l(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=l(this).constructor,Reflect.construct(T,arguments,y)):T.apply(this,arguments),T=this,!y||"object"!==_(y)&&"function"!=typeof y){if(void 0!==T)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(z);function z(G,N,k){return a(this,z),N=(G=T.call(this,G,N,k))._renderer.GL,G.glMinFilter===N.LINEAR&&(G.glMinFilter=N.LINEAR_MIPMAP_LINEAR),G}return d(z,[{key:"glFilter",value:function(G){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(G){var N=this._renderer.GL;this.glTex=N.createTexture(),this.bindTexture();for(var k=0;k<G.length;k++)N.texImage2D(this.glTarget,k,this.glFormat,this.glFormat,this.glDataType,G[k]);this.glMinFilter=N.LINEAR_MIPMAP_LINEAR,N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,this.glMagFilter),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),z}(f.default.Texture);function g(G){var y=G.GL,T=(G=G.webglVersion)===m.WEBGL2?y.getExtension("EXT_color_buffer_float")&&y.getExtension("EXT_float_blend"):y.getExtension("OES_texture_float");return{float:T,floatLinear:T&&y.getExtension("OES_texture_float_linear"),halfFloat:G=y.getExtension(G===m.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:G&&y.getExtension("OES_texture_half_float_linear")}}B.MipmapTexture=h,B.default=o=f.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,ie,B){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var f,m=(f=o("../core/main"))&&f.__esModule?f:{default:f},S=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var y=w();if(y&&y.has(p))return y.get(p);var T,z={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in p){var N;Object.prototype.hasOwnProperty.call(p,T)&&((N=G?Object.getOwnPropertyDescriptor(p,T):null)&&(N.get||N.set)?Object.defineProperty(z,T,N):z[T]=p[T])}return z.default=p,y&&y.set(p,z),z}(o("../core/constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function i(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function l(p,y){for(var T=0;T<y.length;T++){var z=y[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(p,z.key,z)}}function a(p,y,T){y&&l(p.prototype,y),T&&l(p,T)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),m.default.RendererGL.prototype._applyTextProperties=function(){},m.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var u=function(){function p(y,T){i(this,p),this.width=y,this.height=T,this.infos=[]}return a(p,[{key:"findImage",value:function(y){var T,z,G=this.width*this.height;if(G<y)throw new Error("font is too complex to render in 3D");for(var N=this.infos.length-1;0<=N;--N){var k=this.infos[N];if(k.index+y<G){z=(T=k).imageData;break}}if(!T){try{z=new ImageData(this.width,this.height)}catch{var X=document.getElementsByTagName("canvas")[0],D=!X,O=(X||((X=document.createElement("canvas")).style.display="none",document.body.appendChild(X)),X.getContext("2d"));O&&(z=O.createImageData(this.width,this.height)),D&&document.body.removeChild(X)}this.infos.push(T={index:0,imageData:z})}return O=T.index,T.index+=y,z._dirty=!0,{imageData:z,index:O}}}]),p}();function d(k,y,T,z,G){var N=k.imageData.data;k=4*k.index++,N[k++]=y,N[k++]=T,N[k++]=z,N[+k]=G}var h=Math.sqrt(3),g=function(){function p(y){i(this,p),this.font=y,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return a(p,[{key:"getGlyphInfo",value:function(y){var T=this.glyphInfos[y.index];if(!T){var z=y.getBoundingBox(),G=z.x1,N=z.y1,k=z.x2-G,X=z.y2-N,D=y.path.commands;if(0==k||0==X||!D.length)return this.glyphInfos[y.index]={};for(var O=[],P=[],J=[],re=8;0<=re;--re)J.push([]);for(re=8;0<=re;--re)P.push([]);var $,Q,V,H,Z=function(){function Ht(br,Bt,fr,jt){i(this,Ht),this.p0=br,this.c0=Bt,this.c1=fr,this.p1=jt}return a(Ht,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return m.default.Vector.sub(m.default.Vector.sub(this.p1,this.p0),m.default.Vector.mult(m.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(ar){var Bt=m.default.Vector.lerp(this.p0,this.c0,ar),jt=m.default.Vector.lerp(this.c0,this.c1,ar),fr=m.default.Vector.lerp(Bt,jt,ar);return this.c1=m.default.Vector.lerp(this.c1,this.p1,ar),this.c0=m.default.Vector.lerp(jt,this.c1,ar),jt=m.default.Vector.lerp(fr,this.c0,ar),ar=new Ht(this.p0,Bt,fr,jt),this.p0=jt,ar}},{key:"splitInflections",value:function(){var br=m.default.Vector.sub(this.c0,this.p0),Bt=m.default.Vector.sub(m.default.Vector.sub(this.c1,this.c0),br),fr=m.default.Vector.sub(m.default.Vector.sub(m.default.Vector.sub(this.p1,this.c1),br),m.default.Vector.mult(Bt,2)),jt=[],ar=Bt.x*fr.y-Bt.y*fr.x;return 0!==ar&&0<=(br=(fr=br.x*fr.y-br.y*fr.x)*fr-4*ar*(br.x*Bt.y-br.y*Bt.x))&&(ar<0&&(ar=-ar,fr=-fr),br=(-fr+(Bt=Math.sqrt(br)))/(2*ar),0<(fr=(-fr-Bt)/(2*ar))&&fr<1&&(jt.push(this.split(fr)),br=1-(1-br)/(1-fr)),0<br&&br<1&&jt.push(this.split(br))),jt.push(this),jt}}]),Ht}(),le=!0,xe=!1,q=void 0;try{for(var j,oe=D[Symbol.iterator]();!(le=(j=oe.next()).done);le=!0){var me=j.value,Se=(me.x-G)/k,Le=(me.y-N)/X;if(!zt($,Q,Se,Le)){switch(me.type){case"M":V=Se,H=Le;break;case"L":ir($,Q,Se,Le);break;case"Q":var Xe=(me.x1-G)/k,lt=(me.y1-N)/X;pt([$,Se,Xe],[Q,Le,lt],{x:$,y:Q,cx:Xe,cy:lt});break;case"Z":zt($,Q,V,H)?O.push({x:$,y:Q}):(ir($,Q,V,H),O.push({x:V,y:H}));break;case"C":for(var He=function(We,qt,nr,fr,jt,ar,$t,Ve){We=new Z(new m.default.Vector(We,qt),new m.default.Vector(nr,fr),new m.default.Vector(jt,ar),new m.default.Vector($t,Ve)).splitInflections();var Re=[],Qe=30/h,Ot=!0;qt=!1,nr=void 0;try{for(var Ct,Tt=We[Symbol.iterator]();!(Ot=(Ct=Tt.next()).done);Ot=!0){for(var Gt=Ct.value,Vt=[],Dt=void 0;!(.125<=(Dt=Qe/Gt.quadError()));){var yt=Math.pow(Dt,.3333333333333333),Nt=Gt.split(yt),bt=Gt.split(1-yt/(1-yt));Re.push(Nt),Vt.push(Gt),Gt=bt}Dt<1&&Re.push(Gt.split(.5)),Re.push(Gt),Array.prototype.push.apply(Re,Vt.reverse())}}catch(Rt){qt=!0,nr=Rt}finally{try{Ot||null==Tt.return||Tt.return()}finally{if(qt)throw nr}}return Re}($,Q,(me.x1-G)/k,(me.y1-N)/X,(me.x2-G)/k,(me.y2-N)/X,Se,Le),nt=0;nt<He.length;nt++){var at=He[nt].toQuadratic();pt([at.x,at.x1,at.cx],[at.y,at.y1,at.cy],at)}break;default:throw new Error("unknown command type: ".concat(me.type))}$=Se,Q=Le}}}catch(Ht){xe=!0,q=Ht}finally{try{le||null==oe.return||oe.return()}finally{if(xe)throw q}}for(var Be=O.length,st=this.strokeImageInfos.findImage(Be),Ye=st.index,it=0;it<Be;++it){var Ze=O[it];d(st,kt(Ze.x),kt(Ze.y),kt(Ze.cx),kt(Ze.cy))}(T=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[z.x1,-z.y1,z.x2,-z.y2],strokeImageInfo:st,strokes:O,colInfo:hr(J,this.colDimImageInfos,this.colCellImageInfos),rowInfo:hr(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function pt(Ht,br,Bt){var fr=O.length;function jt(Re,Qe,Ot){for(var qt=Re.length;0<qt--;){var nr=Re[qt];nr<Qe&&(Qe=nr),Ot<nr&&(Ot=nr)}return{min:Qe,max:Ot}}O.push(Bt),Bt=jt(Ht,1,0),Ht=Math.max(Math.floor(9*Bt.min-.5),0);for(var ar=Math.min(Math.ceil(9*Bt.max+.5),9),$t=Ht;$t<ar;++$t)J[$t].push(fr);Bt=jt(br,1,0),Ht=Math.max(Math.floor(9*Bt.min-.5),0);for(var Ve=Math.min(Math.ceil(9*Bt.max+.5),9),We=Ht;We<Ve;++We)P[We].push(fr)}function kt(Ht){return(Ht=255*Ht)<0?0:255<Ht?255:Ht}function ir(Ht,br,Bt,fr){pt([Ht,Bt],[br,fr],{x:Ht,y:br,cx:(Ht+Bt)/2,cy:(br+fr)/2})}function zt(Ht,br,Bt,fr){return Math.abs(Bt-Ht)<1e-5&&Math.abs(fr-br)<1e-5}function hr(Ht,br,Bt){for(var fr=Ht.length,jt=br.findImage(fr),ar=(br=jt.index,0),$t=0;$t<fr;++$t)ar+=Ht[$t].length;for(var Ve=Bt.findImage(ar),We=0;We<fr;++We){var Re=Ht[We],Qe=Re.length,Ot=Ve.index;d(jt,Ot>>7,127&Ot,Qe>>7,127&Qe);for(var qt=0;qt<Qe;++qt){var nr=Re[qt]+Ye;d(Ve,nr>>7,127&nr,0,0)}}return{cellImageInfo:Ve,dimOffset:br,dimImageInfo:jt}}}}]),p}();m.default.RendererGL.prototype._renderText=function(p,y,T,z,G){if(this._textFont&&"string"!=typeof this._textFont){if(!(G<=z)&&this._doFill){if(this._isOpenType()){p.push(),G=this._doStroke;var N=this.drawMode,k=(this._doStroke=!1,this.drawMode=S.TEXTURE,this._textFont.font),X=(X=this._textFont._fontInfo)||(this._textFont._fontInfo=new g(k)),D=(T=this._textFont._handleAlignment(this,y,T,z),z=this._textSize/k.unitsPerEm,this.translate(T.x,T.y,0),this.scale(z,z,1),this.GL),O=(T=!this._defaultFontShader,this._getFontShader()),P=(O.init(),O.bindShader(),T&&(O.setUniform("uGridImageSize",[64,64]),O.setUniform("uCellsImageSize",[64,64]),O.setUniform("uStrokeImageSize",[64,64]),O.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),J=(P||((z=this._textGeom=new m.default.Geometry(1,1,function(){for(var nt=0;nt<=1;nt++)for(var at=0;at<=1;at++)this.vertices.push(new m.default.Vector(at,nt,0)),this.uvs.push(at,nt)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",z)),!0);T=!1,z=void 0;try{for(var re,$=this.retainedMode.buffers.text[Symbol.iterator]();!(J=(re=$.next()).done);J=!0)re.value._prepareBuffer(P,O)}catch(nt){T=!0,z=nt}finally{try{J||null==$.return||$.return()}finally{if(T)throw z}}this._bindBuffer(P.indexBuffer,D.ELEMENT_ARRAY_BUFFER),O.setUniform("uMaterialColor",this.curFillColor),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var Q=0,V=null,H=k.stringToGlyphs(y),Z=!0,le=!1,xe=void 0;try{for(var q,j=H[Symbol.iterator]();!(Z=(q=j.next()).done);Z=!0){var oe,me,Se=q.value,Le=(V&&(Q+=k.getKerningValue(V,Se)),X.getGlyphInfo(Se));Le.uGlyphRect&&(oe=Le.rowInfo,me=Le.colInfo,O.setUniform("uSamplerStrokes",Le.strokeImageInfo.imageData),O.setUniform("uSamplerRowStrokes",oe.cellImageInfo.imageData),O.setUniform("uSamplerRows",oe.dimImageInfo.imageData),O.setUniform("uSamplerColStrokes",me.cellImageInfo.imageData),O.setUniform("uSamplerCols",me.dimImageInfo.imageData),O.setUniform("uGridOffset",Le.uGridOffset),O.setUniform("uGlyphRect",Le.uGlyphRect),O.setUniform("uGlyphOffset",Q),O.bindTextures(),D.drawElements(D.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),Q+=Se.advanceWidth,V=Se}}catch(nt){le=!0,xe=nt}finally{try{Z||null==j.return||j.return()}finally{if(le)throw xe}}}finally{O.unbindShader(),this._doStroke=G,this.drawMode=N,D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(Dr,rr,_e)=>{function I(i){this.mode=et.MODE_8BIT_BYTE,this.data=i,this.parsedData=[];for(var l=0,a=this.data.length;l<a;l++){var u=[],d=this.data.charCodeAt(l);d>65536?(u[0]=240|(1835008&d)>>>18,u[1]=128|(258048&d)>>>12,u[2]=128|(4032&d)>>>6,u[3]=128|63&d):d>2048?(u[0]=224|(61440&d)>>>12,u[1]=128|(4032&d)>>>6,u[2]=128|63&d):d>128?(u[0]=192|(1984&d)>>>6,u[1]=128|63&d):u[0]=d,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function M(i,l){this.typeNumber=i,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}I.prototype={getLength:function(i){return this.parsedData.length},write:function(i){for(var l=0,a=this.parsedData.length;l<a;l++)i.put(this.parsedData[l],8)}},M.prototype={addData:function(i){var l=new I(i);this.dataList.push(l),this.dataCache=null},isDark:function(i,l){if(i<0||this.moduleCount<=i||l<0||this.moduleCount<=l)throw new Error(i+","+l);return this.modules[i][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(i,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[a][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,l),this.typeNumber>=7&&this.setupTypeNumber(i),null==this.dataCache&&(this.dataCache=M.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(i,l){for(var a=-1;a<=7;a++)if(!(i+a<=-1||this.moduleCount<=i+a))for(var u=-1;u<=7;u++)l+u<=-1||this.moduleCount<=l+u||(this.modules[i+a][l+u]=0<=a&&a<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var i=0,l=0,a=0;a<8;a++){this.makeImpl(!0,a);var u=ie.getLostPoint(this);(0==a||i>u)&&(i=u,l=a)}return l},createMovieClip:function(i,l,a){var u=i.createEmptyMovieClip(l,a);this.make();for(var h=0;h<this.modules.length;h++)for(var g=1*h,p=0;p<this.modules[h].length;p++){var y=1*p;this.modules[h][p]&&(u.beginFill(0,100),u.moveTo(y,g),u.lineTo(y+1,g),u.lineTo(y+1,g+1),u.lineTo(y,g+1),u.endFill())}return u},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++)null==this.modules[i][6]&&(this.modules[i][6]=i%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var i=ie.getPatternPosition(this.typeNumber),l=0;l<i.length;l++)for(var a=0;a<i.length;a++){var u=i[l],d=i[a];if(null==this.modules[u][d])for(var h=-2;h<=2;h++)for(var g=-2;g<=2;g++)this.modules[u+h][d+g]=-2==h||2==h||-2==g||2==g||0==h&&0==g}},setupTypeNumber:function(i){for(var l=ie.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var u=!i&&1==(l>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=u}for(a=0;a<18;a++)u=!i&&1==(l>>a&1),this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=u},setupTypeInfo:function(i,l){for(var u=ie.getBCHTypeInfo(this.errorCorrectLevel<<3|l),d=0;d<15;d++){var h=!i&&1==(u>>d&1);d<6?this.modules[d][8]=h:d<8?this.modules[d+1][8]=h:this.modules[this.moduleCount-15+d][8]=h}for(d=0;d<15;d++)h=!i&&1==(u>>d&1),d<8?this.modules[8][this.moduleCount-d-1]=h:d<9?this.modules[8][15-d-1+1]=h:this.modules[8][15-d-1]=h;this.modules[this.moduleCount-8][8]=!i},mapData:function(i,l){for(var a=-1,u=this.moduleCount-1,d=7,h=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var p=0;p<2;p++)if(null==this.modules[u][g-p]){var y=!1;h<i.length&&(y=1==(i[h]>>>d&1)),ie.getMask(l,u,g-p)&&(y=!y),this.modules[u][g-p]=y,-1==--d&&(h++,d=7)}if((u+=a)<0||this.moduleCount<=u){u-=a,a=-a;break}}}},M.PAD0=236,M.PAD1=17,M.createData=function(i,l,a){for(var u=f.getRSBlocks(i,l),d=new m,h=0;h<a.length;h++){var g=a[h];d.put(g.mode,4),d.put(g.getLength(),ie.getLengthInBits(g.mode,i)),g.write(d)}var p=0;for(h=0;h<u.length;h++)p+=u[h].dataCount;if(d.getLengthInBits()>8*p)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+8*p+")");for(d.getLengthInBits()+4<=8*p&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*p||(d.put(M.PAD0,8),d.getLengthInBits()>=8*p));)d.put(M.PAD1,8);return M.createBytes(d,u)},M.createBytes=function(i,l){for(var a=0,u=0,d=0,h=new Array(l.length),g=new Array(l.length),p=0;p<l.length;p++){var y=l[p].dataCount,T=l[p].totalCount-y;u=Math.max(u,y),d=Math.max(d,T),h[p]=new Array(y);for(var z=0;z<h[p].length;z++)h[p][z]=255&i.buffer[z+a];a+=y;var G=ie.getErrorCorrectPolynomial(T),k=new _(h[p],G.getLength()-1).mod(G);for(g[p]=new Array(G.getLength()-1),z=0;z<g[p].length;z++){var X=z+k.getLength()-g[p].length;g[p][z]=X>=0?k.get(X):0}}var D=0;for(z=0;z<l.length;z++)D+=l[z].totalCount;var O=new Array(D),P=0;for(z=0;z<u;z++)for(p=0;p<l.length;p++)z<h[p].length&&(O[P++]=h[p][z]);for(z=0;z<d;z++)for(p=0;p<l.length;p++)z<g[p].length&&(O[P++]=g[p][z]);return O};for(var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},St={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ie={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var l=i<<10;ie.getBCHDigit(l)-ie.getBCHDigit(ie.G15)>=0;)l^=ie.G15<<ie.getBCHDigit(l)-ie.getBCHDigit(ie.G15);return(i<<10|l)^ie.G15_MASK},getBCHTypeNumber:function(i){for(var l=i<<12;ie.getBCHDigit(l)-ie.getBCHDigit(ie.G18)>=0;)l^=ie.G18<<ie.getBCHDigit(l)-ie.getBCHDigit(ie.G18);return i<<12|l},getBCHDigit:function(i){for(var l=0;0!=i;)l++,i>>>=1;return l},getPatternPosition:function(i){return ie.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,l,a){switch(i){case o.PATTERN000:return(l+a)%2==0;case o.PATTERN001:return l%2==0;case o.PATTERN010:return a%3==0;case o.PATTERN011:return(l+a)%3==0;case o.PATTERN100:return(Math.floor(l/2)+Math.floor(a/3))%2==0;case o.PATTERN101:return l*a%2+l*a%3==0;case o.PATTERN110:return(l*a%2+l*a%3)%2==0;case o.PATTERN111:return(l*a%3+(l+a)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var l=new _([1],0),a=0;a<i;a++)l=l.multiply(new _([1,B.gexp(a)],0));return l},getLengthInBits:function(i,l){if(1<=l&&l<10)switch(i){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:case et.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(l<27)switch(i){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else{if(!(l<41))throw new Error("type:"+l);switch(i){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}}},getLostPoint:function(i){for(var l=i.getModuleCount(),a=0,u=0;u<l;u++)for(var d=0;d<l;d++){for(var h=0,g=i.isDark(u,d),p=-1;p<=1;p++)if(!(u+p<0||l<=u+p))for(var y=-1;y<=1;y++)d+y<0||l<=d+y||0==p&&0==y||g==i.isDark(u+p,d+y)&&h++;h>5&&(a+=3+h-5)}for(u=0;u<l-1;u++)for(d=0;d<l-1;d++){var T=0;i.isDark(u,d)&&T++,i.isDark(u+1,d)&&T++,i.isDark(u,d+1)&&T++,i.isDark(u+1,d+1)&&T++,(0==T||4==T)&&(a+=3)}for(u=0;u<l;u++)for(d=0;d<l-6;d++)i.isDark(u,d)&&!i.isDark(u,d+1)&&i.isDark(u,d+2)&&i.isDark(u,d+3)&&i.isDark(u,d+4)&&!i.isDark(u,d+5)&&i.isDark(u,d+6)&&(a+=40);for(d=0;d<l;d++)for(u=0;u<l-6;u++)i.isDark(u,d)&&!i.isDark(u+1,d)&&i.isDark(u+2,d)&&i.isDark(u+3,d)&&i.isDark(u+4,d)&&!i.isDark(u+5,d)&&i.isDark(u+6,d)&&(a+=40);var z=0;for(d=0;d<l;d++)for(u=0;u<l;u++)i.isDark(u,d)&&z++;return a+Math.abs(100*z/l/l-50)/5*10}},B={glog:function(i){if(i<1)throw new Error("glog("+i+")");return B.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return B.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)B.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)B.EXP_TABLE[v]=B.EXP_TABLE[v-4]^B.EXP_TABLE[v-5]^B.EXP_TABLE[v-6]^B.EXP_TABLE[v-8];for(v=0;v<255;v++)B.LOG_TABLE[B.EXP_TABLE[v]]=v;function _(i,l){if(null==i.length)throw new Error(i.length+"/"+l);for(var a=0;a<i.length&&0==i[a];)a++;this.num=new Array(i.length-a+l);for(var u=0;u<i.length-a;u++)this.num[u]=i[u+a]}function f(i,l){this.totalCount=i,this.dataCount=l}function m(){this.buffer=[],this.length=0}_.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var l=new Array(this.getLength()+i.getLength()-1),a=0;a<this.getLength();a++)for(var u=0;u<i.getLength();u++)l[a+u]^=B.gexp(B.glog(this.get(a))+B.glog(i.get(u)));return new _(l,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var l=B.glog(this.get(0))-B.glog(i.get(0)),a=new Array(this.getLength()),u=0;u<this.getLength();u++)a[u]=this.get(u);for(u=0;u<i.getLength();u++)a[u]^=B.gexp(B.glog(i.get(u))+l);return new _(a,0).mod(i)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(i,l){var a=f.getRsBlockTable(i,l);if(null==a)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+l);for(var u=a.length/3,d=[],h=0;h<u;h++)for(var g=a[3*h+0],p=a[3*h+1],y=a[3*h+2],T=0;T<g;T++)d.push(new f(p,y));return d},f.getRsBlockTable=function(i,l){switch(l){case St.L:return f.RS_BLOCK_TABLE[4*(i-1)+0];case St.M:return f.RS_BLOCK_TABLE[4*(i-1)+1];case St.Q:return f.RS_BLOCK_TABLE[4*(i-1)+2];case St.H:return f.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},m.prototype={get:function(i){var l=Math.floor(i/8);return 1==(this.buffer[l]>>>7-i%8&1)},put:function(i,l){for(var a=0;a<l;a++)this.putBit(1==(i>>>l-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),i&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var S=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(i){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof i&&(i={content:i}),i)for(var a in i)this.options[a]=i[a];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var g=this.options.content,p=function d(T,z){for(var G=function h(T){var z=encodeURI(T).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return z.length+(z.length!=T?3:0)}(T),N=1,k=0,X=0,D=S.length;X<=D;X++){var O=S[X];if(!O)throw new Error("Content too long: expected "+k+" but got "+G);switch(z){case"L":k=O[0];break;case"M":k=O[1];break;case"Q":k=O[2];break;case"H":k=O[3];break;default:throw new Error("Unknwon error correction level: "+z)}if(G<=k)break;N++}if(N>S.length)throw new Error("Content too long");return N}(g,this.options.ecl),y=function u(T){switch(T){case"L":return St.L;case"M":return St.M;case"Q":return St.Q;case"H":return St.H;default:throw new Error("Unknwon error correction level: "+T)}}(this.options.ecl);this.qrcode=new M(p,y),this.qrcode.addData(g),this.qrcode.make()}w.prototype.svg=function(i){var l=this.options||{},a=this.qrcode.modules;typeof i>"u"&&(i={container:l.container||"svg"});for(var u=!(typeof l.pretty<"u"&&!l.pretty),d=u?"  ":"",h=u?"\r\n":"",g=l.width,p=l.height,y=a.length,T=g/(y+2*l.padding),z=p/(y+2*l.padding),G=typeof l.join<"u"&&!!l.join,N=typeof l.swap<"u"&&!!l.swap,k=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),X=typeof l.predefined<"u"&&!!l.predefined,D=X?d+'<defs><path id="qrmodule" d="M0 0 h'+z+" v"+T+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+h:"",O=d+'<rect x="0" y="0" width="'+g+'" height="'+p+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+h,P="",J="",re=0;re<y;re++)for(var $=0;$<y;$++)if(a[$][re]){var V=$*T+l.padding*T,H=re*z+l.padding*z;if(N){var Z=V;V=H,H=Z}if(G){var le=T+V,xe=z+H;V=Number.isInteger(V)?Number(V):V.toFixed(2),H=Number.isInteger(H)?Number(H):H.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),J+="M"+V+","+H+" V"+(xe=Number.isInteger(xe)?Number(xe):xe.toFixed(2))+" H"+le+" V"+H+" H"+V+" Z "}else P+=X?d+'<use x="'+V.toString()+'" y="'+H.toString()+'" href="#qrmodule" />'+h:d+'<rect x="'+V.toString()+'" y="'+H.toString()+'" width="'+T+'" height="'+z+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+h}G&&(P=d+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+J+'" />');var q="";switch(i.container){case"svg":k&&(q+='<?xml version="1.0" standalone="yes"?>'+h),q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+g+'" height="'+p+'">'+h,q+=D+O+P,q+="</svg>";break;case"svg-viewbox":k&&(q+='<?xml version="1.0" standalone="yes"?>'+h),q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+g+" "+p+'">'+h,q+=D+O+P,q+="</svg>";break;case"g":q+='<g width="'+g+'" height="'+p+'">'+h,q+=D+O+P,q+="</g>";break;default:q+=(D+O+P).replace(/^\s+/,"")}return q},w.prototype.save=function(i,l){var a=this.svg();"function"!=typeof l&&(l=function(d,h){});try{_e(Object(function(){var h=new Error("Cannot find module 'fs'");throw h.code="MODULE_NOT_FOUND",h}())).writeFile(i,a,l)}catch(d){l(d)}},Dr.exports=w},4412:(Dr,rr,_e)=>{"use strict";_e.d(rr,{t:()=>M});var I=_e(1413);class M extends I.B{constructor(St){super(),this._value=St}get value(){return this.getValue()}_subscribe(St){const o=super._subscribe(St);return!o.closed&&St.next(this._value),o}getValue(){const{hasError:St,thrownError:o,_value:ie}=this;if(St)throw o;return this._throwIfClosed(),ie}next(St){super.next(this._value=St)}}},1985:(Dr,rr,_e)=>{"use strict";_e.d(rr,{c:()=>v});var I=_e(7707),M=_e(8359),et=_e(3494),St=_e(1203),o=_e(1026),ie=_e(8071),B=_e(9786);let v=(()=>{class S{constructor(i){i&&(this._subscribe=i)}lift(i){const l=new S;return l.source=this,l.operator=i,l}subscribe(i,l,a){const u=function m(S){return S&&S instanceof I.vU||function f(S){return S&&(0,ie.T)(S.next)&&(0,ie.T)(S.error)&&(0,ie.T)(S.complete)}(S)&&(0,M.Uv)(S)}(i)?i:new I.Ms(i,l,a);return(0,B.Y)(()=>{const{operator:d,source:h}=this;u.add(d?d.call(u,h):h?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(i){try{return this._subscribe(i)}catch(l){i.error(l)}}forEach(i,l){return new(l=_(l))((a,u)=>{const d=new I.Ms({next:h=>{try{i(h)}catch(g){u(g),d.unsubscribe()}},error:u,complete:a});this.subscribe(d)})}_subscribe(i){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(i)}[et.s](){return this}pipe(...i){return(0,St.m)(i)(this)}toPromise(i){return new(i=_(i))((l,a)=>{let u;this.subscribe(d=>u=d,d=>a(d),()=>l(u))})}}return S.create=w=>new S(w),S})();function _(S){var w;return null!==(w=null!=S?S:o.$.Promise)&&void 0!==w?w:Promise}},1413:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>B});var I=_e(1985),M=_e(8359);const St=(0,_e(1853).L)(_=>function(){_(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=_e(7908),ie=_e(9786);let B=(()=>{class _ extends I.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(m){const S=new v(this,this);return S.operator=m,S}_throwIfClosed(){if(this.closed)throw new St}next(m){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const S of this.currentObservers)S.next(m)}})}error(m){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=m;const{observers:S}=this;for(;S.length;)S.shift().error(m)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:m}=this;for(;m.length;)m.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var m;return(null===(m=this.observers)||void 0===m?void 0:m.length)>0}_trySubscribe(m){return this._throwIfClosed(),super._trySubscribe(m)}_subscribe(m){return this._throwIfClosed(),this._checkFinalizedStatuses(m),this._innerSubscribe(m)}_innerSubscribe(m){const{hasError:S,isStopped:w,observers:i}=this;return S||w?M.Kn:(this.currentObservers=null,i.push(m),new M.yU(()=>{this.currentObservers=null,(0,o.o)(i,m)}))}_checkFinalizedStatuses(m){const{hasError:S,thrownError:w,isStopped:i}=this;S?m.error(w):i&&m.complete()}asObservable(){const m=new I.c;return m.source=this,m}}return _.create=(f,m)=>new v(f,m),_})();class v extends B{constructor(f,m){super(),this.destination=f,this.source=m}next(f){var m,S;null===(S=null===(m=this.destination)||void 0===m?void 0:m.next)||void 0===S||S.call(m,f)}error(f){var m,S;null===(S=null===(m=this.destination)||void 0===m?void 0:m.error)||void 0===S||S.call(m,f)}complete(){var f,m;null===(m=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===m||m.call(f)}_subscribe(f){var m,S;return null!==(S=null===(m=this.source)||void 0===m?void 0:m.subscribe(f))&&void 0!==S?S:M.Kn}}},7707:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Ms:()=>a,vU:()=>S});var I=_e(8071),M=_e(8359),et=_e(1026),St=_e(5334),o=_e(5343);const ie=_("C",void 0,void 0);function _(p,y,T){return{kind:p,value:y,error:T}}var f=_e(9270),m=_e(9786);class S extends M.yU{constructor(y){super(),this.isStopped=!1,y?(this.destination=y,(0,M.Uv)(y)&&y.add(this)):this.destination=g}static create(y,T,z){return new a(y,T,z)}next(y){this.isStopped?h(function v(p){return _("N",p,void 0)}(y),this):this._next(y)}error(y){this.isStopped?h(function B(p){return _("E",void 0,p)}(y),this):(this.isStopped=!0,this._error(y))}complete(){this.isStopped?h(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(y){this.destination.next(y)}_error(y){try{this.destination.error(y)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function i(p,y){return w.call(p,y)}class l{constructor(y){this.partialObserver=y}next(y){const{partialObserver:T}=this;if(T.next)try{T.next(y)}catch(z){u(z)}}error(y){const{partialObserver:T}=this;if(T.error)try{T.error(y)}catch(z){u(z)}else u(y)}complete(){const{partialObserver:y}=this;if(y.complete)try{y.complete()}catch(T){u(T)}}}class a extends S{constructor(y,T,z){let G;if(super(),(0,I.T)(y)||!y)G={next:null!=y?y:void 0,error:null!=T?T:void 0,complete:null!=z?z:void 0};else{let N;this&&et.$.useDeprecatedNextContext?(N=Object.create(y),N.unsubscribe=()=>this.unsubscribe(),G={next:y.next&&i(y.next,N),error:y.error&&i(y.error,N),complete:y.complete&&i(y.complete,N)}):G=y}this.destination=new l(G)}}function u(p){et.$.useDeprecatedSynchronousErrorHandling?(0,m.l)(p):(0,St.m)(p)}function h(p,y){const{onStoppedNotification:T}=et.$;T&&f.f.setTimeout(()=>T(p,y))}const g={closed:!0,next:o.l,error:function d(p){throw p},complete:o.l}},8359:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Kn:()=>ie,yU:()=>o,Uv:()=>B});var I=_e(8071);const et=(0,_e(1853).L)(_=>function(m){_(this),this.message=m?`${m.length} errors occurred during unsubscription:\n${m.map((S,w)=>`${w+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=m});var St=_e(7908);class o{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:m}=this;if(m)if(this._parentage=null,Array.isArray(m))for(const i of m)i.remove(this);else m.remove(this);const{initialTeardown:S}=this;if((0,I.T)(S))try{S()}catch(i){f=i instanceof et?i.errors:[i]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const i of w)try{v(i)}catch(l){f=null!=f?f:[],l instanceof et?f=[...f,...l.errors]:f.push(l)}}if(f)throw new et(f)}}add(f){var m;if(f&&f!==this)if(this.closed)v(f);else{if(f instanceof o){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(m=this._finalizers)&&void 0!==m?m:[]).push(f)}}_hasParent(f){const{_parentage:m}=this;return m===f||Array.isArray(m)&&m.includes(f)}_addParent(f){const{_parentage:m}=this;this._parentage=Array.isArray(m)?(m.push(f),m):m?[m,f]:f}_removeParent(f){const{_parentage:m}=this;m===f?this._parentage=null:Array.isArray(m)&&(0,St.o)(m,f)}remove(f){const{_finalizers:m}=this;m&&(0,St.o)(m,f),f instanceof o&&f._removeParent(this)}}o.EMPTY=(()=>{const _=new o;return _.closed=!0,_})();const ie=o.EMPTY;function B(_){return _ instanceof o||_&&"closed"in _&&(0,I.T)(_.remove)&&(0,I.T)(_.add)&&(0,I.T)(_.unsubscribe)}function v(_){(0,I.T)(_)?_():_.unsubscribe()}},1026:(Dr,rr,_e)=>{"use strict";_e.d(rr,{$:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Dr,rr,_e)=>{"use strict";_e.d(rr,{G:()=>ie});var I=_e(1985),M=_e(8359),et=_e(9898),St=_e(4360),o=_e(9974);class ie extends I.c{constructor(v,_){super(),this.source=v,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new M.yU;const _=this.getSubject();v.add(this.source.subscribe((0,St._)(_,void 0,()=>{this._teardown(),_.complete()},f=>{this._teardown(),_.error(f)},()=>this._teardown()))),v.closed&&(this._connection=null,v=M.yU.EMPTY)}return v}refCount(){return(0,et.B)()(this)}}},4572:(Dr,rr,_e)=>{"use strict";_e.d(rr,{z:()=>f});var I=_e(1985),M=_e(3073),et=_e(6648),St=_e(3669),o=_e(6450),ie=_e(9326),B=_e(8496),v=_e(4360),_=_e(5225);function f(...w){const i=(0,ie.lI)(w),l=(0,ie.ms)(w),{args:a,keys:u}=(0,M.D)(w);if(0===a.length)return(0,et.H)([],i);const d=new I.c(function m(w,i,l=St.D){return a=>{S(i,()=>{const{length:u}=w,d=new Array(u);let h=u,g=u;for(let p=0;p<u;p++)S(i,()=>{const y=(0,et.H)(w[p],i);let T=!1;y.subscribe((0,v._)(a,z=>{d[p]=z,T||(T=!0,g--),g||a.next(l(d.slice()))},()=>{--h||a.complete()}))},a)},a)}}(a,i,u?h=>(0,B.e)(u,h):St.D));return l?d.pipe((0,o.I)(l)):d}function S(w,i,l){w?(0,_.N)(l,w,i):i()}},8793:(Dr,rr,_e)=>{"use strict";_e.d(rr,{x:()=>o});var I=_e(6365),et=_e(9326),St=_e(6648);function o(...ie){return function M(){return(0,I.U)(1)}()((0,St.H)(ie,(0,et.lI)(ie)))}},9030:(Dr,rr,_e)=>{"use strict";_e.d(rr,{v:()=>et});var I=_e(1985),M=_e(8750);function et(St){return new I.c(o=>{(0,M.Tg)(St()).subscribe(o)})}},983:(Dr,rr,_e)=>{"use strict";_e.d(rr,{w:()=>M});const M=new(_e(1985).c)(o=>o.complete())},6648:(Dr,rr,_e)=>{"use strict";_e.d(rr,{H:()=>z});var I=_e(8750),M=_e(5225),et=_e(9974),St=_e(4360);function o(G,N=0){return(0,et.N)((k,X)=>{k.subscribe((0,St._)(X,D=>(0,M.N)(X,G,()=>X.next(D),N),()=>(0,M.N)(X,G,()=>X.complete(),N),D=>(0,M.N)(X,G,()=>X.error(D),N)))})}function ie(G,N=0){return(0,et.N)((k,X)=>{X.add(G.schedule(()=>k.subscribe(X),N))})}var _=_e(1985),m=_e(4761),S=_e(8071);function i(G,N){if(!G)throw new Error("Iterable cannot be null");return new _.c(k=>{(0,M.N)(k,N,()=>{const X=G[Symbol.asyncIterator]();(0,M.N)(k,N,()=>{X.next().then(D=>{D.done?k.complete():k.next(D.value)})},0,!0)})})}var l=_e(5055),a=_e(7477),u=_e(7441),d=_e(5397),h=_e(7953),g=_e(591),p=_e(5196);function z(G,N){return N?function T(G,N){if(null!=G){if((0,l.l)(G))return function B(G,N){return(0,I.Tg)(G).pipe(ie(N),o(N))}(G,N);if((0,u.X)(G))return function f(G,N){return new _.c(k=>{let X=0;return N.schedule(function(){X===G.length?k.complete():(k.next(G[X++]),k.closed||this.schedule())})})}(G,N);if((0,a.y)(G))return function v(G,N){return(0,I.Tg)(G).pipe(ie(N),o(N))}(G,N);if((0,h.T)(G))return i(G,N);if((0,d.x)(G))return function w(G,N){return new _.c(k=>{let X;return(0,M.N)(k,N,()=>{X=G[m.l](),(0,M.N)(k,N,()=>{let D,O;try{({value:D,done:O}=X.next())}catch(P){return void k.error(P)}O?k.complete():k.next(D)},0,!0)}),()=>(0,S.T)(null==X?void 0:X.return)&&X.return()})}(G,N);if((0,p.U)(G))return function y(G,N){return i((0,p.C)(G),N)}(G,N)}throw(0,g.L)(G)}(G,N):(0,I.Tg)(G)}},3726:(Dr,rr,_e)=>{"use strict";_e.d(rr,{R:()=>f});var I=_e(8750),M=_e(1985),et=_e(1397),St=_e(7441),o=_e(8071),ie=_e(6450);const B=["addListener","removeListener"],v=["addEventListener","removeEventListener"],_=["on","off"];function f(l,a,u,d){if((0,o.T)(u)&&(d=u,u=void 0),d)return f(l,a,u).pipe((0,ie.I)(d));const[h,g]=function i(l){return(0,o.T)(l.addEventListener)&&(0,o.T)(l.removeEventListener)}(l)?v.map(p=>y=>l[p](a,y,u)):function S(l){return(0,o.T)(l.addListener)&&(0,o.T)(l.removeListener)}(l)?B.map(m(l,a)):function w(l){return(0,o.T)(l.on)&&(0,o.T)(l.off)}(l)?_.map(m(l,a)):[];if(!h&&(0,St.X)(l))return(0,et.Z)(p=>f(p,a,u))((0,I.Tg)(l));if(!h)throw new TypeError("Invalid event target");return new M.c(p=>{const y=(...T)=>p.next(1<T.length?T:T[0]);return h(y),()=>g(y)})}function m(l,a){return u=>d=>l[u](a,d)}},8750:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Tg:()=>w});var I=_e(1635),M=_e(7441),et=_e(7477),St=_e(1985),o=_e(5055),ie=_e(7953),B=_e(591),v=_e(5397),_=_e(5196),f=_e(8071),m=_e(5334),S=_e(3494);function w(p){if(p instanceof St.c)return p;if(null!=p){if((0,o.l)(p))return function i(p){return new St.c(y=>{const T=p[S.s]();if((0,f.T)(T.subscribe))return T.subscribe(y);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,M.X)(p))return function l(p){return new St.c(y=>{for(let T=0;T<p.length&&!y.closed;T++)y.next(p[T]);y.complete()})}(p);if((0,et.y)(p))return function a(p){return new St.c(y=>{p.then(T=>{y.closed||(y.next(T),y.complete())},T=>y.error(T)).then(null,m.m)})}(p);if((0,ie.T)(p))return d(p);if((0,v.x)(p))return function u(p){return new St.c(y=>{for(const T of p)if(y.next(T),y.closed)return;y.complete()})}(p);if((0,_.U)(p))return function h(p){return d((0,_.C)(p))}(p)}throw(0,B.L)(p)}function d(p){return new St.c(y=>{(function g(p,y){var T,z,G,N;return(0,I.sH)(this,void 0,void 0,function*(){try{for(T=(0,I.xN)(p);!(z=yield T.next()).done;)if(y.next(z.value),y.closed)return}catch(k){G={error:k}}finally{try{z&&!z.done&&(N=T.return)&&(yield N.call(T))}finally{if(G)throw G.error}}y.complete()})})(p,y).catch(T=>y.error(T))})}},7673:(Dr,rr,_e)=>{"use strict";_e.d(rr,{of:()=>et});var I=_e(9326),M=_e(6648);function et(...St){const o=(0,I.lI)(St);return(0,M.H)(St,o)}},8810:(Dr,rr,_e)=>{"use strict";_e.d(rr,{$:()=>et});var I=_e(1985),M=_e(8071);function et(St,o){const ie=(0,M.T)(St)?St:()=>St,B=v=>v.error(ie());return new I.c(o?v=>o.schedule(B,0,v):B)}},4360:(Dr,rr,_e)=>{"use strict";_e.d(rr,{_:()=>M});var I=_e(7707);function M(St,o,ie,B,v){return new et(St,o,ie,B,v)}class et extends I.vU{constructor(o,ie,B,v,_,f){super(o),this.onFinalize=_,this.shouldUnsubscribe=f,this._next=ie?function(m){try{ie(m)}catch(S){o.error(S)}}:super._next,this._error=v?function(m){try{v(m)}catch(S){o.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(m){o.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(Dr,rr,_e)=>{"use strict";_e.d(rr,{p:()=>et});var I=_e(9974),M=_e(4360);function et(St,o){return(0,I.N)((ie,B)=>{let v=0;ie.subscribe((0,M._)(B,_=>St.call(o,_,v++)&&B.next(_)))})}},6354:(Dr,rr,_e)=>{"use strict";_e.d(rr,{T:()=>et});var I=_e(9974),M=_e(4360);function et(St,o){return(0,I.N)((ie,B)=>{let v=0;ie.subscribe((0,M._)(B,_=>{B.next(St.call(o,_,v++))}))})}},3703:(Dr,rr,_e)=>{"use strict";_e.d(rr,{u:()=>M});var I=_e(6354);function M(et){return(0,I.T)(()=>et)}},6365:(Dr,rr,_e)=>{"use strict";_e.d(rr,{U:()=>et});var I=_e(1397),M=_e(3669);function et(St=1/0){return(0,I.Z)(M.D,St)}},1397:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Z:()=>v});var I=_e(6354),M=_e(8750),et=_e(9974),St=_e(5225),o=_e(4360),B=_e(8071);function v(_,f,m=1/0){return(0,B.T)(f)?v((S,w)=>(0,I.T)((i,l)=>f(S,i,w,l))((0,M.Tg)(_(S,w))),m):("number"==typeof f&&(m=f),(0,et.N)((S,w)=>function ie(_,f,m,S,w,i,l,a){const u=[];let d=0,h=0,g=!1;const p=()=>{g&&!u.length&&!d&&f.complete()},y=z=>d<S?T(z):u.push(z),T=z=>{i&&f.next(z),d++;let G=!1;(0,M.Tg)(m(z,h++)).subscribe((0,o._)(f,N=>{null==w||w(N),i?y(N):f.next(N)},()=>{G=!0},void 0,()=>{if(G)try{for(d--;u.length&&d<S;){const N=u.shift();l?(0,St.N)(f,l,()=>T(N)):T(N)}p()}catch(N){f.error(N)}}))};return _.subscribe((0,o._)(f,y,()=>{g=!0,p()})),()=>{null==a||a()}}(S,w,_,m)))}},9898:(Dr,rr,_e)=>{"use strict";_e.d(rr,{B:()=>et});var I=_e(9974),M=_e(4360);function et(){return(0,I.N)((St,o)=>{let ie=null;St._refCount++;const B=(0,M._)(o,void 0,void 0,void 0,()=>{if(!St||St._refCount<=0||0<--St._refCount)return void(ie=null);const v=St._connection,_=ie;ie=null,v&&(!_||v===_)&&v.unsubscribe(),o.unsubscribe()});St.subscribe(B),B.closed||(ie=St.connect())})}},5558:(Dr,rr,_e)=>{"use strict";_e.d(rr,{n:()=>St});var I=_e(8750),M=_e(9974),et=_e(4360);function St(o,ie){return(0,M.N)((B,v)=>{let _=null,f=0,m=!1;const S=()=>m&&!_&&v.complete();B.subscribe((0,et._)(v,w=>{null==_||_.unsubscribe();let i=0;const l=f++;(0,I.Tg)(o(w,l)).subscribe(_=(0,et._)(v,a=>v.next(ie?ie(w,a,l,i++):a),()=>{_=null,S()}))},()=>{m=!0,S()}))})}},6697:(Dr,rr,_e)=>{"use strict";_e.d(rr,{s:()=>St});var I=_e(983),M=_e(9974),et=_e(4360);function St(o){return o<=0?()=>I.w:(0,M.N)((ie,B)=>{let v=0;ie.subscribe((0,et._)(B,_=>{++v<=o&&(B.next(_),o<=v&&B.complete())}))})}},8141:(Dr,rr,_e)=>{"use strict";_e.d(rr,{M:()=>o});var I=_e(8071),M=_e(9974),et=_e(4360),St=_e(3669);function o(ie,B,v){const _=(0,I.T)(ie)||B||v?{next:ie,error:B,complete:v}:ie;return _?(0,M.N)((f,m)=>{var S;null===(S=_.subscribe)||void 0===S||S.call(_);let w=!0;f.subscribe((0,et._)(m,i=>{var l;null===(l=_.next)||void 0===l||l.call(_,i),m.next(i)},()=>{var i;w=!1,null===(i=_.complete)||void 0===i||i.call(_),m.complete()},i=>{var l;w=!1,null===(l=_.error)||void 0===l||l.call(_,i),m.error(i)},()=>{var i,l;w&&(null===(i=_.unsubscribe)||void 0===i||i.call(_)),null===(l=_.finalize)||void 0===l||l.call(_)}))}):St.D}},9270:(Dr,rr,_e)=>{"use strict";_e.d(rr,{f:()=>I});const I={setTimeout(M,et,...St){const{delegate:o}=I;return null!=o&&o.setTimeout?o.setTimeout(M,et,...St):setTimeout(M,et,...St)},clearTimeout(M){const{delegate:et}=I;return((null==et?void 0:et.clearTimeout)||clearTimeout)(M)},delegate:void 0}},4761:(Dr,rr,_e)=>{"use strict";_e.d(rr,{l:()=>M});const M=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Dr,rr,_e)=>{"use strict";_e.d(rr,{s:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Dr,rr,_e)=>{"use strict";_e.d(rr,{R0:()=>ie,lI:()=>o,ms:()=>St});var I=_e(8071),M=_e(9470);function et(B){return B[B.length-1]}function St(B){return(0,I.T)(et(B))?B.pop():void 0}function o(B){return(0,M.m)(et(B))?B.pop():void 0}function ie(B,v){return"number"==typeof et(B)?B.pop():v}},3073:(Dr,rr,_e)=>{"use strict";_e.d(rr,{D:()=>o});const{isArray:I}=Array,{getPrototypeOf:M,prototype:et,keys:St}=Object;function o(B){if(1===B.length){const v=B[0];if(I(v))return{args:v,keys:null};if(function ie(B){return B&&"object"==typeof B&&M(B)===et}(v)){const _=St(v);return{args:_.map(f=>v[f]),keys:_}}}return{args:B,keys:null}}},7908:(Dr,rr,_e)=>{"use strict";function I(M,et){if(M){const St=M.indexOf(et);0<=St&&M.splice(St,1)}}_e.d(rr,{o:()=>I})},1853:(Dr,rr,_e)=>{"use strict";function I(M){const St=M(o=>{Error.call(o),o.stack=(new Error).stack});return St.prototype=Object.create(Error.prototype),St.prototype.constructor=St,St}_e.d(rr,{L:()=>I})},8496:(Dr,rr,_e)=>{"use strict";function I(M,et){return M.reduce((St,o,ie)=>(St[o]=et[ie],St),{})}_e.d(rr,{e:()=>I})},9786:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Y:()=>et,l:()=>St});var I=_e(1026);let M=null;function et(o){if(I.$.useDeprecatedSynchronousErrorHandling){const ie=!M;if(ie&&(M={errorThrown:!1,error:null}),o(),ie){const{errorThrown:B,error:v}=M;if(M=null,B)throw v}}else o()}function St(o){I.$.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=o)}},5225:(Dr,rr,_e)=>{"use strict";function I(M,et,St,o=0,ie=!1){const B=et.schedule(function(){St(),ie?M.add(this.schedule(null,o)):this.unsubscribe()},o);if(M.add(B),!ie)return B}_e.d(rr,{N:()=>I})},3669:(Dr,rr,_e)=>{"use strict";function I(M){return M}_e.d(rr,{D:()=>I})},7441:(Dr,rr,_e)=>{"use strict";_e.d(rr,{X:()=>I});const I=M=>M&&"number"==typeof M.length&&"function"!=typeof M},7953:(Dr,rr,_e)=>{"use strict";_e.d(rr,{T:()=>M});var I=_e(8071);function M(et){return Symbol.asyncIterator&&(0,I.T)(null==et?void 0:et[Symbol.asyncIterator])}},8071:(Dr,rr,_e)=>{"use strict";function I(M){return"function"==typeof M}_e.d(rr,{T:()=>I})},5055:(Dr,rr,_e)=>{"use strict";_e.d(rr,{l:()=>et});var I=_e(3494),M=_e(8071);function et(St){return(0,M.T)(St[I.s])}},5397:(Dr,rr,_e)=>{"use strict";_e.d(rr,{x:()=>et});var I=_e(4761),M=_e(8071);function et(St){return(0,M.T)(null==St?void 0:St[I.l])}},7477:(Dr,rr,_e)=>{"use strict";_e.d(rr,{y:()=>M});var I=_e(8071);function M(et){return(0,I.T)(null==et?void 0:et.then)}},5196:(Dr,rr,_e)=>{"use strict";_e.d(rr,{C:()=>et,U:()=>St});var I=_e(1635),M=_e(8071);function et(o){return(0,I.AQ)(this,arguments,function*(){const B=o.getReader();try{for(;;){const{value:v,done:_}=yield(0,I.N3)(B.read());if(_)return yield(0,I.N3)(void 0);yield yield(0,I.N3)(v)}}finally{B.releaseLock()}})}function St(o){return(0,M.T)(null==o?void 0:o.getReader)}},9470:(Dr,rr,_e)=>{"use strict";_e.d(rr,{m:()=>M});var I=_e(8071);function M(et){return et&&(0,I.T)(et.schedule)}},9974:(Dr,rr,_e)=>{"use strict";_e.d(rr,{N:()=>et,S:()=>M});var I=_e(8071);function M(St){return(0,I.T)(null==St?void 0:St.lift)}function et(St){return o=>{if(M(o))return o.lift(function(ie){try{return St(ie,this)}catch(B){this.error(B)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Dr,rr,_e)=>{"use strict";_e.d(rr,{I:()=>St});var I=_e(6354);const{isArray:M}=Array;function St(o){return(0,I.T)(ie=>function et(o,ie){return M(ie)?o(...ie):o(ie)}(o,ie))}},5343:(Dr,rr,_e)=>{"use strict";function I(){}_e.d(rr,{l:()=>I})},1203:(Dr,rr,_e)=>{"use strict";_e.d(rr,{F:()=>M,m:()=>et});var I=_e(3669);function M(...St){return et(St)}function et(St){return 0===St.length?I.D:1===St.length?St[0]:function(ie){return St.reduce((B,v)=>v(B),ie)}}},5334:(Dr,rr,_e)=>{"use strict";_e.d(rr,{m:()=>et});var I=_e(1026),M=_e(9270);function et(St){M.f.setTimeout(()=>{const{onUnhandledError:o}=I.$;if(!o)throw St;o(St)})}},591:(Dr,rr,_e)=>{"use strict";function I(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_e.d(rr,{L:()=>I})},8996:(Dr,rr,_e)=>{var I={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function M(et){if(!_e.o(I,et))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+et+"'");throw ie.code="MODULE_NOT_FOUND",ie});var St=I[et],o=St[0];return Promise.all(St.slice(1).map(_e.e)).then(()=>_e(o))}M.keys=()=>Object.keys(I),M.id=8996,Dr.exports=M},5235:(Dr,rr,_e)=>{var I={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function M(et){if(!_e.o(I,et))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+et+"'");throw ie.code="MODULE_NOT_FOUND",ie});var St=I[et],o=St[0];return _e.e(St[1]).then(()=>_e(o))}M.keys=()=>Object.keys(I),M.id=5235,Dr.exports=M},4633:(Dr,rr,_e)=>{var I=_e(3738).default;function M(){"use strict";Dr.exports=M=function(){return St},Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports;var et,St={},o=Object.prototype,ie=o.hasOwnProperty,B=Object.defineProperty||function(Q,V,H){Q[V]=H.value},v="function"==typeof Symbol?Symbol:{},_=v.iterator||"@@iterator",f=v.asyncIterator||"@@asyncIterator",m=v.toStringTag||"@@toStringTag";function S(Q,V,H){return Object.defineProperty(Q,V,{value:H,enumerable:!0,configurable:!0,writable:!0}),Q[V]}try{S({},"")}catch{S=function(H,Z,le){return H[Z]=le}}function w(Q,V,H,Z){var xe=Object.create((V&&V.prototype instanceof g?V:g).prototype),q=new re(Z||[]);return B(xe,"_invoke",{value:D(Q,H,q)}),xe}function i(Q,V,H){try{return{type:"normal",arg:Q.call(V,H)}}catch(Z){return{type:"throw",arg:Z}}}St.wrap=w;var l="suspendedStart",a="suspendedYield",u="executing",d="completed",h={};function g(){}function p(){}function y(){}var T={};S(T,_,function(){return this});var z=Object.getPrototypeOf,G=z&&z(z($([])));G&&G!==o&&ie.call(G,_)&&(T=G);var N=y.prototype=g.prototype=Object.create(T);function k(Q){["next","throw","return"].forEach(function(V){S(Q,V,function(H){return this._invoke(V,H)})})}function X(Q,V){function H(le,xe,q,j){var oe=i(Q[le],Q,xe);if("throw"!==oe.type){var me=oe.arg,Se=me.value;return Se&&"object"==I(Se)&&ie.call(Se,"__await")?V.resolve(Se.__await).then(function(Le){H("next",Le,q,j)},function(Le){H("throw",Le,q,j)}):V.resolve(Se).then(function(Le){me.value=Le,q(me)},function(Le){return H("throw",Le,q,j)})}j(oe.arg)}var Z;B(this,"_invoke",{value:function(xe,q){function j(){return new V(function(oe,me){H(xe,q,oe,me)})}return Z=Z?Z.then(j,j):j()}})}function D(Q,V,H){var Z=l;return function(le,xe){if(Z===u)throw Error("Generator is already running");if(Z===d){if("throw"===le)throw xe;return{value:et,done:!0}}for(H.method=le,H.arg=xe;;){var q=H.delegate;if(q){var j=O(q,H);if(j){if(j===h)continue;return j}}if("next"===H.method)H.sent=H._sent=H.arg;else if("throw"===H.method){if(Z===l)throw Z=d,H.arg;H.dispatchException(H.arg)}else"return"===H.method&&H.abrupt("return",H.arg);Z=u;var oe=i(Q,V,H);if("normal"===oe.type){if(Z=H.done?d:a,oe.arg===h)continue;return{value:oe.arg,done:H.done}}"throw"===oe.type&&(Z=d,H.method="throw",H.arg=oe.arg)}}}function O(Q,V){var H=V.method,Z=Q.iterator[H];if(Z===et)return V.delegate=null,"throw"===H&&Q.iterator.return&&(V.method="return",V.arg=et,O(Q,V),"throw"===V.method)||"return"!==H&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+H+"' method")),h;var le=i(Z,Q.iterator,V.arg);if("throw"===le.type)return V.method="throw",V.arg=le.arg,V.delegate=null,h;var xe=le.arg;return xe?xe.done?(V[Q.resultName]=xe.value,V.next=Q.nextLoc,"return"!==V.method&&(V.method="next",V.arg=et),V.delegate=null,h):xe:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,h)}function P(Q){var V={tryLoc:Q[0]};1 in Q&&(V.catchLoc=Q[1]),2 in Q&&(V.finallyLoc=Q[2],V.afterLoc=Q[3]),this.tryEntries.push(V)}function J(Q){var V=Q.completion||{};V.type="normal",delete V.arg,Q.completion=V}function re(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(P,this),this.reset(!0)}function $(Q){if(Q||""===Q){var V=Q[_];if(V)return V.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length)){var H=-1,Z=function le(){for(;++H<Q.length;)if(ie.call(Q,H))return le.value=Q[H],le.done=!1,le;return le.value=et,le.done=!0,le};return Z.next=Z}}throw new TypeError(I(Q)+" is not iterable")}return p.prototype=y,B(N,"constructor",{value:y,configurable:!0}),B(y,"constructor",{value:p,configurable:!0}),p.displayName=S(y,m,"GeneratorFunction"),St.isGeneratorFunction=function(Q){var V="function"==typeof Q&&Q.constructor;return!!V&&(V===p||"GeneratorFunction"===(V.displayName||V.name))},St.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,y):(Q.__proto__=y,S(Q,m,"GeneratorFunction")),Q.prototype=Object.create(N),Q},St.awrap=function(Q){return{__await:Q}},k(X.prototype),S(X.prototype,f,function(){return this}),St.AsyncIterator=X,St.async=function(Q,V,H,Z,le){void 0===le&&(le=Promise);var xe=new X(w(Q,V,H,Z),le);return St.isGeneratorFunction(V)?xe:xe.next().then(function(q){return q.done?q.value:xe.next()})},k(N),S(N,m,"Generator"),S(N,_,function(){return this}),S(N,"toString",function(){return"[object Generator]"}),St.keys=function(Q){var V=Object(Q),H=[];for(var Z in V)H.push(Z);return H.reverse(),function le(){for(;H.length;){var xe=H.pop();if(xe in V)return le.value=xe,le.done=!1,le}return le.done=!0,le}},St.values=$,re.prototype={constructor:re,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=et,this.done=!1,this.delegate=null,this.method="next",this.arg=et,this.tryEntries.forEach(J),!V)for(var H in this)"t"===H.charAt(0)&&ie.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=et)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if("throw"===V.type)throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var H=this;function Z(me,Se){return q.type="throw",q.arg=V,H.next=me,Se&&(H.method="next",H.arg=et),!!Se}for(var le=this.tryEntries.length-1;le>=0;--le){var xe=this.tryEntries[le],q=xe.completion;if("root"===xe.tryLoc)return Z("end");if(xe.tryLoc<=this.prev){var j=ie.call(xe,"catchLoc"),oe=ie.call(xe,"finallyLoc");if(j&&oe){if(this.prev<xe.catchLoc)return Z(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return Z(xe.finallyLoc)}else if(j){if(this.prev<xe.catchLoc)return Z(xe.catchLoc,!0)}else{if(!oe)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return Z(xe.finallyLoc)}}}},abrupt:function(V,H){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var le=this.tryEntries[Z];if(le.tryLoc<=this.prev&&ie.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var xe=le;break}}xe&&("break"===V||"continue"===V)&&xe.tryLoc<=H&&H<=xe.finallyLoc&&(xe=null);var q=xe?xe.completion:{};return q.type=V,q.arg=H,xe?(this.method="next",this.next=xe.finallyLoc,h):this.complete(q)},complete:function(V,H){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&H&&(this.next=H),h},finish:function(V){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.finallyLoc===V)return this.complete(Z.completion,Z.afterLoc),J(Z),h}},catch:function(V){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.tryLoc===V){var le=Z.completion;if("throw"===le.type){var xe=le.arg;J(Z)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(V,H,Z){return this.delegate={iterator:$(V),resultName:H,nextLoc:Z},"next"===this.method&&(this.arg=et),h}},St}Dr.exports=M,Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports},3738:Dr=>{function rr(_e){return Dr.exports=rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports,rr(_e)}Dr.exports=rr,Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports},4756:(Dr,rr,_e)=>{var I=_e(4633)();Dr.exports=I;try{regeneratorRuntime=I}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=I:Function("r","regeneratorRuntime = r")(I)}},177:(Dr,rr,_e)=>{"use strict";_e.d(rr,{AJ:()=>Jt,MD:()=>er,N0:()=>pn,QT:()=>et,Sm:()=>a,Sq:()=>vr,T3:()=>No,UE:()=>Sr,VF:()=>o,Vy:()=>Cr,Xr:()=>Ur,ZD:()=>St,_b:()=>Ie,aZ:()=>d,bT:()=>nn,fw:()=>u,hb:()=>i,hj:()=>_,qQ:()=>B});var I=_e(3953);let M=null;function et(){return M}function St(ce){var ke;null!==(ke=M)&&void 0!==ke||(M=ce)}class o{}const B=new I.nKC("");let v=(()=>{var ce;class ke{historyGo(je){throw new Error("")}}return(ce=ke).\u0275fac=function(je){return new(je||ce)},ce.\u0275prov=I.jDH({token:ce,factory:()=>(0,I.WQX)(f),providedIn:"platform"}),ke})();const _=new I.nKC("");let f=(()=>{var ce;class ke extends v{constructor(){super(),this._doc=(0,I.WQX)(B),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return et().getBaseHref(this._doc)}onPopState(je){const ut=et().getGlobalEventTarget(this._doc,"window");return ut.addEventListener("popstate",je,!1),()=>ut.removeEventListener("popstate",je)}onHashChange(je){const ut=et().getGlobalEventTarget(this._doc,"window");return ut.addEventListener("hashchange",je,!1),()=>ut.removeEventListener("hashchange",je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(je){this._location.pathname=je}pushState(je,ut,Mt){this._history.pushState(je,ut,Mt)}replaceState(je,ut,Mt){this._history.replaceState(je,ut,Mt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(je=0){this._history.go(je)}getState(){return this._history.state}}return(ce=ke).\u0275fac=function(je){return new(je||ce)},ce.\u0275prov=I.jDH({token:ce,factory:()=>new ce,providedIn:"platform"}),ke})();function m(ce,ke){if(0==ce.length)return ke;if(0==ke.length)return ce;let wt=0;return ce.endsWith("/")&&wt++,ke.startsWith("/")&&wt++,2==wt?ce+ke.substring(1):1==wt?ce+ke:ce+"/"+ke}function S(ce){const ke=ce.match(/#|\?|$/),wt=ke&&ke.index||ce.length;return ce.slice(0,wt-("/"===ce[wt-1]?1:0))+ce.slice(wt)}function w(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let i=(()=>{var ce;class ke{historyGo(je){throw new Error("")}}return(ce=ke).\u0275fac=function(je){return new(je||ce)},ce.\u0275prov=I.jDH({token:ce,factory:()=>(0,I.WQX)(a),providedIn:"root"}),ke})();const l=new I.nKC("");let a=(()=>{var ce;class ke extends i{constructor(je,ut){var Mt,pr,Ir;super(),this._platformLocation=je,this._removeListenerFns=[],this._baseHref=null!==(Mt=null!==(pr=null!=ut?ut:this._platformLocation.getBaseHrefFromDOM())&&void 0!==pr?pr:null===(Ir=(0,I.WQX)(B).location)||void 0===Ir?void 0:Ir.origin)&&void 0!==Mt?Mt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(je){this._removeListenerFns.push(this._platformLocation.onPopState(je),this._platformLocation.onHashChange(je))}getBaseHref(){return this._baseHref}prepareExternalUrl(je){return m(this._baseHref,je)}path(je=!1){const ut=this._platformLocation.pathname+w(this._platformLocation.search),Mt=this._platformLocation.hash;return Mt&&je?`${ut}${Mt}`:ut}pushState(je,ut,Mt,pr){const Ir=this.prepareExternalUrl(Mt+w(pr));this._platformLocation.pushState(je,ut,Ir)}replaceState(je,ut,Mt,pr){const Ir=this.prepareExternalUrl(Mt+w(pr));this._platformLocation.replaceState(je,ut,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(je=0){var ut,Mt;null===(ut=(Mt=this._platformLocation).historyGo)||void 0===ut||ut.call(Mt,je)}}return(ce=ke).\u0275fac=function(je){return new(je||ce)(I.KVO(v),I.KVO(l,8))},ce.\u0275prov=I.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ke})(),u=(()=>{var ce;class ke extends i{constructor(je,ut){super(),this._platformLocation=je,this._baseHref="",this._removeListenerFns=[],null!=ut&&(this._baseHref=ut)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(je){this._removeListenerFns.push(this._platformLocation.onPopState(je),this._platformLocation.onHashChange(je))}getBaseHref(){return this._baseHref}path(je=!1){var ut;const Mt=null!==(ut=this._platformLocation.hash)&&void 0!==ut?ut:"#";return Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(je){const ut=m(this._baseHref,je);return ut.length>0?"#"+ut:ut}pushState(je,ut,Mt,pr){let Ir=this.prepareExternalUrl(Mt+w(pr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.pushState(je,ut,Ir)}replaceState(je,ut,Mt,pr){let Ir=this.prepareExternalUrl(Mt+w(pr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.replaceState(je,ut,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(je=0){var ut,Mt;null===(ut=(Mt=this._platformLocation).historyGo)||void 0===ut||ut.call(Mt,je)}}return(ce=ke).\u0275fac=function(je){return new(je||ce)(I.KVO(v),I.KVO(l,8))},ce.\u0275prov=I.jDH({token:ce,factory:ce.\u0275fac}),ke})(),d=(()=>{var ce;class ke{constructor(je){this._subject=new I.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=je;const ut=this._locationStrategy.getBaseHref();this._basePath=function y(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,wt]=ce.split(/\/\/[^\/]+/);return wt}return ce}(S(p(ut))),this._locationStrategy.onPopState(Mt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mt.state,type:Mt.type})})}ngOnDestroy(){var je;null===(je=this._urlChangeSubscription)||void 0===je||je.unsubscribe(),this._urlChangeListeners=[]}path(je=!1){return this.normalize(this._locationStrategy.path(je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(je,ut=""){return this.path()==this.normalize(je+w(ut))}normalize(je){return ke.stripTrailingSlash(function g(ce,ke){if(!ce||!ke.startsWith(ce))return ke;const wt=ke.substring(ce.length);return""===wt||["/",";","?","#"].includes(wt[0])?wt:ke}(this._basePath,p(je)))}prepareExternalUrl(je){return je&&"/"!==je[0]&&(je="/"+je),this._locationStrategy.prepareExternalUrl(je)}go(je,ut="",Mt=null){this._locationStrategy.pushState(Mt,"",je,ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(je+w(ut)),Mt)}replaceState(je,ut="",Mt=null){this._locationStrategy.replaceState(Mt,"",je,ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(je+w(ut)),Mt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(je=0){var ut,Mt;null===(ut=(Mt=this._locationStrategy).historyGo)||void 0===ut||ut.call(Mt,je)}onUrlChange(je){var ut;return this._urlChangeListeners.push(je),null!==(ut=this._urlChangeSubscription)&&void 0!==ut||(this._urlChangeSubscription=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)})),()=>{const Mt=this._urlChangeListeners.indexOf(je);var pr;this._urlChangeListeners.splice(Mt,1),0===this._urlChangeListeners.length&&(null===(pr=this._urlChangeSubscription)||void 0===pr||pr.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(je="",ut){this._urlChangeListeners.forEach(Mt=>Mt(je,ut))}subscribe(je,ut,Mt){return this._subject.subscribe({next:je,error:ut,complete:Mt})}}return(ce=ke).normalizeQueryParams=w,ce.joinWithSlash=m,ce.stripTrailingSlash=S,ce.\u0275fac=function(je){return new(je||ce)(I.KVO(i))},ce.\u0275prov=I.jDH({token:ce,factory:()=>function h(){return new d((0,I.KVO)(i))}(),providedIn:"root"}),ke})();function p(ce){return ce.replace(/\/index.html$/,"")}function Ie(ce,ke){ke=encodeURIComponent(ke);for(const wt of ce.split(";")){const je=wt.indexOf("="),[ut,Mt]=-1==je?[wt,""]:[wt.slice(0,je),wt.slice(je+1)];if(ut.trim()===ke)return decodeURIComponent(Mt)}return null}class ur{constructor(ke,wt,je,ut){this.$implicit=ke,this.ngForOf=wt,this.index=je,this.count=ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{var ce;class ke{set ngForOf(je){this._ngForOf=je,this._ngForOfDirty=!0}set ngForTrackBy(je){this._trackByFn=je}get ngForTrackBy(){return this._trackByFn}constructor(je,ut,Mt){this._viewContainer=je,this._template=ut,this._differs=Mt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(je){je&&(this._template=je)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const je=this._ngForOf;!this._differ&&je&&(this._differ=this._differs.find(je).create(this.ngForTrackBy))}if(this._differ){const je=this._differ.diff(this._ngForOf);je&&this._applyChanges(je)}}_applyChanges(je){const ut=this._viewContainer;je.forEachOperation((Mt,pr,Ir)=>{if(null==Mt.previousIndex)ut.createEmbeddedView(this._template,new ur(Mt.item,this._ngForOf,-1,-1),null===Ir?void 0:Ir);else if(null==Ir)ut.remove(null===pr?void 0:pr);else if(null!==pr){const sn=ut.get(pr);ut.move(sn,Ir),Pr(sn,Mt)}});for(let Mt=0,pr=ut.length;Mt<pr;Mt++){const sn=ut.get(Mt).context;sn.index=Mt,sn.count=pr,sn.ngForOf=this._ngForOf}je.forEachIdentityChange(Mt=>{Pr(ut.get(Mt.currentIndex),Mt)})}static ngTemplateContextGuard(je,ut){return!0}}return(ce=ke).\u0275fac=function(je){return new(je||ce)(I.rXU(I.c1b),I.rXU(I.C4Q),I.rXU(I._q3))},ce.\u0275dir=I.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ke})();function Pr(ce,ke){ce.context.$implicit=ke.item}let nn=(()=>{var ce;class ke{constructor(je,ut){this._viewContainer=je,this._context=new Nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ut}set ngIf(je){this._context.$implicit=this._context.ngIf=je,this._updateView()}set ngIfThen(je){Dn("ngIfThen",je),this._thenTemplateRef=je,this._thenViewRef=null,this._updateView()}set ngIfElse(je){Dn("ngIfElse",je),this._elseTemplateRef=je,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(je,ut){return!0}}return(ce=ke).\u0275fac=function(je){return new(je||ce)(I.rXU(I.c1b),I.rXU(I.C4Q))},ce.\u0275dir=I.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ke})();class Nn{constructor(){this.$implicit=null,this.ngIf=null}}function Dn(ce,ke){if(ke&&!ke.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,I.Tbb)(ke)}'.`)}let No=(()=>{var ce;class ke{constructor(je){this._viewContainerRef=je,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(je){if(this._shouldRecreateView(je)){var ut;const Mt=this._viewContainerRef;if(this._viewRef&&Mt.remove(Mt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pr=this._createContextForwardProxy();this._viewRef=Mt.createEmbeddedView(this.ngTemplateOutlet,pr,{injector:null!==(ut=this.ngTemplateOutletInjector)&&void 0!==ut?ut:void 0})}}_shouldRecreateView(je){return!!je.ngTemplateOutlet||!!je.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(je,ut,Mt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ut,Mt),get:(je,ut,Mt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ut,Mt)}})}}return(ce=ke).\u0275fac=function(je){return new(je||ce)(I.rXU(I.c1b))},ce.\u0275dir=I.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[I.OA$]}),ke})(),er=(()=>{var ce;class ke{}return(ce=ke).\u0275fac=function(je){return new(je||ce)},ce.\u0275mod=I.$C({type:ce}),ce.\u0275inj=I.G2t({}),ke})();const Jt="browser",mr="server";function Sr(ce){return ce===Jt}function Cr(ce){return ce===mr}let Ur=(()=>{var ce;class ke{}return(ce=ke).\u0275prov=(0,I.jDH)({token:ce,providedIn:"root",factory:()=>Sr((0,I.WQX)(I.Agw))?new Fr((0,I.WQX)(B),window):new qr}),ke})();class Fr{constructor(ke,wt){this.document=ke,this.window=wt,this.offset=()=>[0,0]}setOffset(ke){this.offset=Array.isArray(ke)?()=>ke:ke}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ke){this.window.scrollTo(ke[0],ke[1])}scrollToAnchor(ke){const wt=function Gr(ce,ke){const wt=ce.getElementById(ke)||ce.getElementsByName(ke)[0];if(wt)return wt;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const je=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let ut=je.currentNode;for(;ut;){const Mt=ut.shadowRoot;if(Mt){const pr=Mt.getElementById(ke)||Mt.querySelector(`[name="${ke}"]`);if(pr)return pr}ut=je.nextNode()}}return null}(this.document,ke);wt&&(this.scrollToElement(wt),wt.focus())}setHistoryScrollRestoration(ke){this.window.history.scrollRestoration=ke}scrollToElement(ke){const wt=ke.getBoundingClientRect(),je=wt.left+this.window.pageXOffset,ut=wt.top+this.window.pageYOffset,Mt=this.offset();this.window.scrollTo(je-Mt[0],ut-Mt[1])}}class qr{setOffset(ke){}getScrollPosition(){return[0,0]}scrollToPosition(ke){}scrollToAnchor(ke){}setHistoryScrollRestoration(ke){}}class pn{}},3953:(Dr,rr,_e)=>{"use strict";function I(t,r){return Object.is(t,r)}_e.d(rr,{iLQ:()=>Ad,sZ2:()=>Cc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ti,BIS:()=>aE,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Es,aKT:()=>Hl,uvJ:()=>Us,zcH:()=>fi,bkB:()=>hi,$GK:()=>mn,nKC:()=>$r,zZn:()=>Bo,_q3:()=>om,MKu:()=>sm,xe9:()=>Id,Co$:()=>E0,Vns:()=>fa,SKi:()=>no,Xx1:()=>co,Agw:()=>Lh,PLl:()=>Xg,sFG:()=>nD,_9s:()=>Nf,czy:()=>Fc,WPN:()=>ia,kdw:()=>Ca,C4Q:()=>au,NYb:()=>sI,giA:()=>p1,RxE:()=>a1,c1b:()=>nd,gXe:()=>wi,mal:()=>Fv,L39:()=>bj,EWP:()=>wj,a0P:()=>Aj,Ol2:()=>Qf,w6W:()=>ZD,oH4:()=>D1,SmG:()=>EI,Rfq:()=>Gs,WQX:()=>Rr,QuC:()=>fn,EmA:()=>si,fpN:()=>LI,HJs:()=>Mj,N4e:()=>bm,vPA:()=>o0,O8t:()=>Sj,H3F:()=>l1,zAP:()=>rw,H8p:()=>Jd,KH2:()=>_l,TgB:()=>oa,wOt:()=>kr,WHO:()=>h1,e01:()=>f1,lNU:()=>Rn,h9k:()=>gy,$MX:()=>kc,ZF7:()=>Xa,Kcf:()=>TE,e5t:()=>jE,UyX:()=>ME,cWb:()=>AE,osQ:()=>IE,H5H:()=>Cp,mq5:()=>Cb,JZv:()=>zn,LfX:()=>vn,plB:()=>Ni,jNT:()=>Xp,zjR:()=>m1,TL$:()=>sE,Tbb:()=>Xn,rcV:()=>Ti,Vt3:()=>Yf,GFd:()=>S0,OA$:()=>ih,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>hp,AVh:()=>vp,wni:()=>u_,VBU:()=>we,FsC:()=>sr,jDH:()=>Lr,G2t:()=>Wr,$C:()=>rt,EJ8:()=>_r,rXU:()=>Ya,nrm:()=>Ep,eu8:()=>xp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Sb,xGo:()=>hg,KVO:()=>Yr,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Ap,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Qb,NAR:()=>Zb,Y8G:()=>gp,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Zh,n$t:()=>vy,Aen:()=>Zs,DNE:()=>tp,EFF:()=>E_,JRh:()=>Op,SpI:()=>Ed,Lme:()=>Pp,DH7:()=>O_,mxI:()=>Rp,R50:()=>kp,GBs:()=>c_});let M=null,et=!1,St=1;const o=Symbol("SIGNAL");function ie(t){const r=M;return M=t,r}const f={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function m(t){if(et)throw new Error("");if(null===M)return;M.consumerOnSignalRead(t);const r=M.nextProducerIndex++;z(M),r<M.producerNode.length&&M.producerNode[r]!==t&&T(M)&&y(M.producerNode[r],M.producerIndexOfThis[r]),M.producerNode[r]!==t&&(M.producerNode[r]=t,M.producerIndexOfThis[r]=T(M)?p(t,M,r):0),M.producerLastReadVersion[r]=t.version}function w(t){if((!T(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==St)){if(!t.producerMustRecompute(t)&&!h(t))return t.dirty=!1,void(t.lastCleanEpoch=St);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=St}}function i(t){if(void 0===t.liveConsumerNode)return;const r=et;et=!0;try{for(const n of t.liveConsumerNode)n.dirty||a(n)}finally{et=r}}function l(){var t;return!1!==(null===(t=M)||void 0===t?void 0:t.consumerAllowSignalWrites)}function a(t){var r;t.dirty=!0,i(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function u(t){return t&&(t.nextProducerIndex=0),ie(t)}function d(t,r){if(ie(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(T(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)y(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function h(t){z(t);for(let r=0;r<t.producerNode.length;r++){const n=t.producerNode[r],s=t.producerLastReadVersion[r];if(s!==n.version||(w(n),s!==n.version))return!0}return!1}function g(t){if(z(t),T(t))for(let r=0;r<t.producerNode.length;r++)y(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function p(t,r,n){if(G(t),0===t.liveConsumerNode.length&&N(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=p(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(r)-1}function y(t,r){if(G(t),1===t.liveConsumerNode.length&&N(t))for(let s=0;s<t.producerNode.length;s++)y(t.producerNode[s],t.producerIndexOfThis[s]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];z(c),c.producerIndexOfThis[s]=r}}function T(t){var r,n;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}function z(t){var r,n,s;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}function G(t){var r,n;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}function N(t){return void 0!==t.producerNode}const X=Symbol("UNSET"),D=Symbol("COMPUTING"),O=Symbol("ERRORED"),P={...f,value:X,dirty:!0,error:null,equal:I,producerMustRecompute:t=>t.value===X||t.value===D,producerRecomputeValue(t){if(t.value===D)throw new Error("Detected cycle in computations.");const r=t.value;t.value=D;const n=u(t);let s;try{s=t.computation()}catch(c){s=O,t.error=c}finally{d(t,n)}r!==X&&r!==O&&s!==O&&t.equal(r,s)?t.value=r:(t.value=s,t.version++)}};let re=function J(){throw new Error};function $(){re()}let V=null;function xe(t,r){l()||$(),t.equal(t.value,r)||(t.value=r,function me(t){var r;t.version++,function S(){St++}(),i(t),null===(r=V)||void 0===r||r()}(t))}const oe={...f,equal:I,value:void 0};var _n,He=_e(4412),nt=_e(1413),at=_e(8359),Be=_e(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Rn="https://g.co/ng/security#xss";class kr extends Error{constructor(r,n){super(function go(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,n)),this.code=r}}function Bn(t){return{toString:t}.toString()}const Go="__parameters__";function bs(t,r,n){return Bn(()=>{const s=function Ps(t){return function(...n){if(t){const s=t(...n);for(const c in s)this[c]=s[c]}}}(r);function c(...x){if(this instanceof c)return s.apply(this,x),this;const L=new c(...x);return ee.annotation=L,ee;function ee(ue,Ce,Fe){const Ke=ue.hasOwnProperty(Go)?ue[Go]:Object.defineProperty(ue,Go,{value:[]})[Go];for(;Ke.length<=Fe;)Ke.push(null);return(Ke[Fe]=Ke[Fe]||[]).push(L),ue}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const zn=globalThis;function Sn(t){for(let r in t)if(t[r]===Sn)return r;throw Error("Could not find renamed property on target object.")}function ks(t,r){for(const n in r)r.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=r[n])}function Xn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function Rs(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ws=Sn({__forward_ref__:Sn});function Gs(t){return t.__forward_ref__=Gs,t.toString=function(){return Xn(this())},t}function Hr(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(ws)&&t.__forward_ref__===Gs}function Lr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qr(t){return qn(t,Kn)||qn(t,Tn)}function vn(t){return null!==Qr(t)}function qn(t,r){return t.hasOwnProperty(r)?t[r]:null}function so(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Mn))?t[fo]:null}const Kn=Sn({\u0275prov:Sn}),fo=Sn({\u0275inj:Sn}),Tn=Sn({ngInjectableDef:Sn}),Mn=Sn({ngInjectorDef:Sn});class $r{constructor(r,n){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Lr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $i(t){return t&&!!t.\u0275providers}const vi=Sn({\u0275cmp:Sn}),wa=Sn({\u0275dir:Sn}),Vi=Sn({\u0275pipe:Sn}),Sa=Sn({\u0275mod:Sn}),Ns=Sn({\u0275fac:Sn}),oi=Sn({__NG_ELEMENT_ID__:Sn}),Ea=Sn({__NG_ENV_ID__:Sn});function an(t){return"string"==typeof t?t:null==t?"":String(t)}function Gi(t,r){throw new kr(-201,!1)}var mn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mn||{});let Hs;function bi(){return Hs}function Io(t){const r=Hs;return Hs=t,r}function ds(t,r,n){const s=Qr(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&mn.Optional?null:void 0!==r?r:void Gi()}const ce={},ke="__NG_DI_FLAG__",wt="ngTempTokenPath",ut=/\n/gm,pr="__source";let Ir;function rn(t){const r=Ir;return Ir=t,r}function Cn(t,r=mn.Default){if(void 0===Ir)throw new kr(-203,!1);return null===Ir?ds(t,void 0,r):Ir.get(t,r&mn.Optional?null:void 0,r)}function Yr(t,r=mn.Default){return(bi()||Cn)(Hr(t),r)}function Rr(t,r=mn.Default){return Yr(t,Jn(r))}function Jn(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hs(t){const r=[];for(let n=0;n<t.length;n++){const s=Hr(t[n]);if(Array.isArray(s)){if(0===s.length)throw new kr(900,!1);let c,x=mn.Default;for(let L=0;L<s.length;L++){const ee=s[L],ue=zs(ee);"number"==typeof ue?-1===ue?c=ee.token:x|=ue:c=ee}r.push(Yr(c,x))}else r.push(Yr(s))}return r}function po(t,r){return t[ke]=r,t.prototype[ke]=r,t}function zs(t){return t[ke]}const co=po(bs("Optional"),8),Ca=po(bs("SkipSelf"),4);function _i(t,r){return t.hasOwnProperty(Ns)?t[Ns]:null}function ji(t,r){t.forEach(n=>Array.isArray(n)?ji(n,r):r(n))}function Gd(t,r,n){r>=t.length?t.push(n):t.splice(r,0,n)}function Ta(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ns(t,r,n){let s=zi(t,r);return s>=0?t[1|s]=n:(s=~s,function Cl(t,r,n,s){let c=t.length;if(c==r)t.push(n,s);else if(1===c)t.push(s,t[0]),t[0]=n;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=n,t[r+1]=s}}(t,s,r,n)),s}function zu(t,r){const n=zi(t,r);if(n>=0)return t[1|n]}function zi(t,r){return function Dl(t,r,n){let s=0,c=t.length>>n;for(;c!==s;){const x=s+(c-s>>1),L=t[x<<n];if(r===L)return x<<n;L>r?c=x:s=x+1}return~(c<<n)}(t,r,1)}const Ss={},En=[],Es=new $r(""),Wu=new $r("",-1),Xu=new $r("");class Wi{get(r,n=ce){if(n===ce){const s=new Error(`NullInjectorError: No provider for ${Xn(r)}!`);throw s.name="NullInjectorError",s}return n}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{}),Si=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Si||{});function cm(t,r,n){let s=t.length;for(;;){const c=t.indexOf(r,n);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const x=r.length;if(c+x===s||t.charCodeAt(c+x)<=32)return c}n=c+1}}function Tl(t,r,n){let s=0;for(;s<n.length;){const c=n[s];if("number"==typeof c){if(0!==c)break;s++;const x=n[s++],L=n[s++],ee=n[s++];t.setAttribute(r,L,ee,x)}else{const x=c,L=n[++s];Hd(x)?t.setProperty(r,x,L):t.setAttribute(r,x,L),s++}}return s}function qu(t){return 3===t||4===t||6===t}function Hd(t){return 64===t.charCodeAt(0)}function Pi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let n=-1;for(let s=0;s<r.length;s++){const c=r[s];"number"==typeof c?n=c:0===n||Ku(t,n,c,null,-1===n||2===n?r[++s]:null)}}return t}function Ku(t,r,n,s,c){let x=0,L=t.length;if(-1===r)L=-1;else for(;x<t.length;){const ee=t[x++];if("number"==typeof ee){if(ee===r){L=-1;break}if(ee>r){L=x-1;break}}}for(;x<t.length;){const ee=t[x];if("number"==typeof ee)break;if(ee===n){if(null===s)return void(null!==c&&(t[x+1]=c));if(s===t[x+1])return void(t[x+2]=c)}x++,null!==s&&x++,null!==c&&x++}-1!==L&&(t.splice(L,0,r),x=L+1),t.splice(x++,0,n),null!==s&&t.splice(x++,0,s),null!==c&&t.splice(x++,0,c)}const Yu="ng-template";function zd(t,r,n,s){let c=0;if(s){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==cm(r[c+1].toLowerCase(),n,0))return!0}else if(Al(t))return!1;if(c=r.indexOf(1,c),c>-1){let x;for(;++c<r.length&&"string"==typeof(x=r[c]);)if(x.toLowerCase()===n)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Wd(t,r,n){return r===(4!==t.type||n?t.value:Yu)}function Xd(t,r,n){let s=4;const c=t.attrs,x=null!==c?function hm(t){for(let r=0;r<t.length;r++)if(qu(t[r]))return r;return t.length}(c):0;let L=!1;for(let ee=0;ee<r.length;ee++){const ue=r[ee];if("number"!=typeof ue){if(!L)if(4&s){if(s=2|1&s,""!==ue&&!Wd(t,ue,n)||""===ue&&1===r.length){if(xs(s))return!1;L=!0}}else if(8&s){if(null===c||!zd(t,c,ue,n)){if(xs(s))return!1;L=!0}}else{const Ce=r[++ee],Fe=Ju(ue,c,Al(t),n);if(-1===Fe){if(xs(s))return!1;L=!0;continue}if(""!==Ce){let Ke;if(Ke=Fe>x?"":c[Fe+1].toLowerCase(),2&s&&Ce!==Ke){if(xs(s))return!1;L=!0}}}}else{if(!L&&!xs(s)&&!xs(ue))return!1;if(L&&xs(ue))continue;L=!1,s=ue|1&s}}return xs(s)||L}function xs(t){return!(1&t)}function Ju(t,r,n,s){if(null===r)return-1;let c=0;if(s||!n){let x=!1;for(;c<r.length;){const L=r[c];if(L===t)return c;if(3===L||6===L)x=!0;else{if(1===L||2===L){let ee=r[++c];for(;"string"==typeof ee;)ee=r[++c];continue}if(4===L)break;if(0===L){c+=4;continue}}c+=x?1:2}return-1}return function fm(t,r){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===r)return n;n++}return-1}(r,t)}function Zu(t,r,n=!1){for(let s=0;s<r.length;s++)if(Xd(t,r[s],n))return!0;return!1}function pm(t,r){e:for(let n=0;n<r.length;n++){const s=r[n];if(t.length===s.length){for(let c=0;c<t.length;c++)if(t[c]!==s[c])continue e;return!0}}return!1}function qd(t,r){return t?":not("+r.trim()+")":r}function mm(t){let r=t[0],n=1,s=2,c="",x=!1;for(;n<t.length;){let L=t[n];if("string"==typeof L)if(2&s){const ee=t[++n];c+="["+L+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&s?c+="."+L:4&s&&(c+=" "+L);else""!==c&&!xs(L)&&(r+=qd(x,c),c=""),s=L,x=x||!xs(s);n++}return""!==c&&(r+=qd(x,c)),r}function we(t){return Bn(()=>{var r;const n=ro(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||En,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(s);const c=t.dependencies;return s.directiveDefs=Fo(c,!1),s.pipeDefs=Fo(c,!0),s.id=function fs(t){let r=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of n)r=Math.imul(31,r)+c.charCodeAt(0)|0;return r+=2147483648,"c"+r}(s),s})}function de(t){return Yt(t)||Or(t)}function De(t){return null!==t}function rt(t){return Bn(()=>({type:t.type,bootstrap:t.bootstrap||En,declarations:t.declarations||En,imports:t.imports||En,exports:t.exports||En,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dt(t,r){if(null==t)return Ss;const n={};for(const c in t)if(t.hasOwnProperty(c)){const x=t[c];let L,ee,ue=Si.None;var s;Array.isArray(x)?(ue=x[0],L=x[1],ee=null!==(s=x[2])&&void 0!==s?s:L):(L=x,ee=x),r?(n[L]=ue!==Si.None?[c,ue]:c,r[L]=ee):n[L]=c}return n}function sr(t){return Bn(()=>{const r=ro(t);return Wo(r),r})}function _r(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yt(t){return t[vi]||null}function Or(t){return t[wa]||null}function Xr(t){return t[Vi]||null}function fn(t){const r=Yt(t)||Or(t)||Xr(t);return null!==r&&r.standalone}function Jr(t,r){const n=t[Sa]||null;if(!n&&!0===r)throw new Error(`Type ${Xn(t)} does not have '\u0275mod' property.`);return n}function ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ss,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dt(t.inputs,r),outputs:dt(t.outputs),debugInfo:null}}function Wo(t){var r;null===(r=t.features)||void 0===r||r.forEach(n=>n(t))}function Fo(t,r){if(!t)return null;const n=r?Xr:de;return()=>("function"==typeof t?t():t).map(s=>n(s)).filter(De)}function si(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:qi(0,t),\u0275fromNgModule:!0}}function qi(t,...r){const n=[],s=new Set;let c;const x=L=>{n.push(L)};return ji(r,L=>{const ee=L;Ei(ee,x,[],s)&&(c||(c=[]),c.push(ee))}),void 0!==c&&Qu(c,x),n}function Qu(t,r){for(let n=0;n<t.length;n++){const{ngModule:s,providers:c}=t[n];Kd(c,x=>{r(x,s)})}}function Ei(t,r,n,s){if(!(t=Hr(t)))return!1;let c=null,x=so(t);const L=!x&&Yt(t);if(x||L){if(L&&!L.standalone)return!1;c=t}else{const ue=t.ngModule;if(x=so(ue),!x)return!1;c=ue}const ee=s.has(c);if(L){if(ee)return!1;if(s.add(c),L.dependencies){const ue="function"==typeof L.dependencies?L.dependencies():L.dependencies;for(const Ce of ue)Ei(Ce,r,n,s)}}else{if(!x)return!1;{if(null!=x.imports&&!ee){let Ce;s.add(c);try{ji(x.imports,Fe=>{Ei(Fe,r,n,s)&&(Ce||(Ce=[]),Ce.push(Fe))})}finally{}void 0!==Ce&&Qu(Ce,r)}if(!ee){const Ce=_i(c)||(()=>new c);r({provide:c,useFactory:Ce,deps:En},c),r({provide:Xu,useValue:c,multi:!0},c),r({provide:Es,useValue:()=>Yr(c),multi:!0},c)}const ue=x.providers;if(null!=ue&&!ee){const Ce=t;Kd(ue,Fe=>{r(Fe,Ce)})}}}return c!==t&&void 0!==t.providers}function Kd(t,r){for(let n of t)$i(n)&&(n=n.\u0275providers),Array.isArray(n)?Kd(n,r):r(n)}const pw=Sn({provide:String,useValue:Sn});function Yd(t){return null!==t&&"object"==typeof t&&pw in t}function Ki(t){return"function"==typeof t}const Jd=new $r(""),ec={},gw={};let Zd;function tc(){return void 0===Zd&&(Zd=new Wi),Zd}class Us{}class Ia extends Us{get destroyed(){return this._destroyed}constructor(r,n,s,c){super(),this.parent=n,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eh(r,L=>this.processProvider(L)),this.records.set(Wu,ja(void 0,this)),c.has("environment")&&this.records.set(Us,ja(void 0,this));const x=this.records.get(Jd);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(Xu,En,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=ie(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const n=rn(this),s=Io(void 0);try{return r()}finally{rn(n),Io(s)}}get(r,n=ce,s=mn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ea))return r[Ea](this);s=Jn(s);const x=rn(this),L=Io(void 0);try{if(!(s&mn.SkipSelf)){let ue=this.records.get(r);if(void 0===ue){const Ce=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof $r}(r)&&Qr(r);ue=Ce&&this.injectableDefInScope(Ce)?ja(Qd(r),ec):null,this.records.set(r,ue)}if(null!=ue)return this.hydrate(r,ue)}return(s&mn.Self?tc():this.parent).get(r,n=s&mn.Optional&&n===ce?null:n)}catch(ee){if("NullInjectorError"===ee.name){if((ee[wt]=ee[wt]||[]).unshift(Xn(r)),x)throw ee;return function Ls(t,r,n,s){const c=t[wt];throw r[pr]&&c.unshift(r[pr]),t.message=function Ws(t,r,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Xn(r);if(Array.isArray(r))c=r.map(Xn).join(" -> ");else if("object"==typeof r){let x=[];for(let L in r)if(r.hasOwnProperty(L)){let ee=r[L];x.push(L+":"+("string"==typeof ee?JSON.stringify(ee):Xn(ee)))}c=`{${x.join(", ")}}`}return`${n}${s?"("+s+")":""}[${c}]: ${t.replace(ut,"\n  ")}`}("\n"+t.message,c,n,s),t.ngTokenPath=c,t[wt]=null,t}(ee,r,"R3InjectorError",this.source)}throw ee}finally{Io(L),rn(x)}}resolveInjectorInitializers(){const r=ie(null),n=rn(this),s=Io(void 0);try{const x=this.get(Es,En,mn.Self);for(const L of x)L()}finally{rn(n),Io(s),ie(r)}}toString(){const r=[],n=this.records;for(const s of n.keys())r.push(Xn(s));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kr(205,!1)}processProvider(r){let n=Ki(r=Hr(r))?r:Hr(r&&r.provide);const s=function vw(t){return Yd(t)?ja(void 0,t.useValue):ja(vm(t),ec)}(r);if(!Ki(r)&&!0===r.multi){let c=this.records.get(n);c||(c=ja(void 0,ec,!0),c.factory=()=>hs(c.multi),this.records.set(n,c)),n=r,c.multi.push(r)}this.records.set(n,s)}hydrate(r,n){const s=ie(null);try{return n.value===ec&&(n.value=gw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(s)}}injectableDefInScope(r){if(!r.providedIn)return!1;const n=Hr(r.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(r){const n=this._onDestroyHooks.indexOf(r);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qd(t){const r=Qr(t),n=null!==r?r.factory:_i(t);if(null!==n)return n;if(t instanceof $r)throw new kr(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new kr(204,!1);const n=function to(t){return t&&(t[Kn]||t[Tn])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new kr(204,!1)}function vm(t,r,n){let s;if(Ki(t)){const c=Hr(t);return _i(c)||Qd(c)}if(Yd(t))s=()=>Hr(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...hs(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))s=()=>Yr(Hr(t.useExisting));else{const c=Hr(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _i(c)||Qd(c);s=()=>new c(...hs(t.deps))}return s}function ja(t,r,n=!1){return{factory:t,value:r,multi:n?[]:void 0}}function eh(t,r){for(const n of t)Array.isArray(n)?eh(n,r):n&&$i(n)?eh(n.\u0275providers,r):r(n)}function bm(t,r){t instanceof Ia&&t.assertNotDestroyed();const s=rn(t),c=Io(void 0);try{return r()}finally{rn(s),Io(c)}}function _m(){return void 0!==bi()||null!=function sn(){return Ir}()}const io=0,Nr=1,en=2,Co=3,qs=4,Xo=5,os=6,Yi=7,Zn=8,Do=9,ii=10,ln=11,jl=12,Sm=13,Pa=14,ao=15,Ji=16,ka=17,ai=18,Ra=19,Em=20,ki=21,Ol=22,Bs=23,Zr=25,rh=1,li=7,Na=9,yo=10;var sc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sc||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[rh]}function Zo(t){return Array.isArray(t)&&!0===t[rh]}function nh(t){return!!(4&t.flags)}function Zi(t){return t.componentOffset>-1}function ic(t){return!(1&~t.flags)}function Ks(t){return!!t.template}function kl(t){return!!(512&t[en])}class kw{constructor(r,n,s){this.previousValue=r,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function Tm(t,r,n,s){null!==r?r.applyValueToInputSignal(r,s):t[n]=s}function ih(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),Rw}function Rw(){const t=Im(this),r=null==t?void 0:t.current;if(r){const n=t.previous;if(n===Ss)t.previous=r;else for(let s in r)n[s]=r[s];t.current=null,this.ngOnChanges(r)}}function Nw(t,r,n,s,c){const x=this.declaredInputs[s],L=Im(t)||function Lw(t,r){return t[Mm]=r}(t,{previous:Ss,current:null}),ee=L.current||(L.current={}),ue=L.previous,Ce=ue[x];ee[x]=new kw(Ce&&Ce.currentValue,n,ue===Ss),Tm(t,r,c,n)}ih.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const ui=function(t,r,n){};function jn(t){for(;Array.isArray(t);)t=t[io];return t}function Rl(t,r){return jn(r[t])}function ss(t,r){return jn(r[t.index])}function Nl(t,r){return t.data[r]}function Cs(t,r){const n=r[t];return Uo(n)?n:n[io]}function uh(t){return!(128&~t[en])}function $s(t,r){return null==r?null:t[r]}function Pm(t){t[ka]=0}function km(t){1024&t[en]||(t[en]|=1024,uh(t)&&ac(t))}function Ll(t){var r;return!!(9216&t[en]||null!==(r=t[Bs])&&void 0!==r&&r.dirty)}function ch(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(7),64&t[en]&&(t[en]|=1024),Ll(t)&&ac(t)}function ac(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(0);let n=xi(t);for(;null!==n&&!(8192&n[en])&&(n[en]|=8192,uh(n));)n=xi(n)}function lc(t,r){if(!(256&~t[en]))throw new kr(911,!1);null===t[ki]&&(t[ki]=[]),t[ki].push(r)}function xi(t){const r=t[Co];return Zo(r)?r[Co]:r}const un={lFrame:Km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return un.bindingsEnabled}function ea(){return null!==un.skipHydrationRootTNode}function Er(){return un.lFrame.lView}function gn(){return un.lFrame.tView}function Fm(t){return un.lFrame.contextLView=t,t[Zn]}function Um(t){return un.lFrame.contextLView=null,t}function Hn(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return un.lFrame.currentTNode}function Ys(t,r){const n=un.lFrame;n.currentTNode=t,n.isParent=r}function fh(){return un.lFrame.isParent}function ph(){un.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Js(){return un.lFrame.bindingIndex++}function Di(t){const r=un.lFrame,n=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,n}function Jw(t,r){const n=un.lFrame;n.bindingIndex=n.bindingRootIndex=t,mh(r)}function mh(t){un.lFrame.currentDirectiveIndex=t}function yh(){return un.lFrame.currentQueryIndex}function cc(t){un.lFrame.currentQueryIndex=t}function Qw(t){const r=t[Nr];return 2===r.type?r.declTNode:1===r.type?t[Xo]:null}function Xm(t,r,n){if(n&mn.SkipSelf){let c=r,x=t;for(;!(c=c.parent,null!==c||n&mn.Host||(c=Qw(x),null===c||(x=x[Pa],10&c.type))););if(null===c)return!1;r=c,t=x}const s=un.lFrame=qm();return s.currentTNode=r,s.lView=t,!0}function vh(t){const r=qm(),n=t[Nr];un.lFrame=r,r.currentTNode=n.firstChild,r.lView=t,r.tView=n,r.contextLView=t,r.bindingIndex=n.bindingStartIndex,r.inI18n=!1}function qm(){const t=un.lFrame,r=null===t?null:t.child;return null===r?Km(t):r}function Km(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ym(){const t=un.lFrame;return un.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function bh(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qo(){return un.lFrame.selectedIndex}function ta(t){un.lFrame.selectedIndex=t}function Qn(){const t=un.lFrame;return Nl(t.tView,t.selectedIndex)}let Qm=!0;function Ul(){return Qm}function ci(t){Qm=t}function dc(t,r){for(let Ce=r.directiveStart,Fe=r.directiveEnd;Ce<Fe;Ce++){const Et=t.data[Ce].type.prototype,{ngAfterContentInit:Pt,ngAfterContentChecked:It,ngAfterViewInit:dr,ngAfterViewChecked:Ar,ngOnDestroy:jr}=Et;var n,s,c,x,L,ee,ue;Pt&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-Ce,Pt),It&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(Ce,It),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(Ce,It)),dr&&(null!==(x=t.viewHooks)&&void 0!==x?x:t.viewHooks=[]).push(-Ce,dr),Ar&&((null!==(L=t.viewHooks)&&void 0!==L?L:t.viewHooks=[]).push(Ce,Ar),(null!==(ee=t.viewCheckHooks)&&void 0!==ee?ee:t.viewCheckHooks=[]).push(Ce,Ar)),null!=jr&&(null!==(ue=t.destroyHooks)&&void 0!==ue?ue:t.destroyHooks=[]).push(Ce,jr)}}function hc(t,r,n){eg(t,r,3,n)}function fc(t,r,n,s){(3&t[en])===n&&eg(t,r,n,s)}function _h(t,r){let n=t[en];(3&n)===r&&(n&=16383,n+=1,t[en]=n)}function eg(t,r,n,s){const x=null!=s?s:-1,L=r.length-1;let ee=0;for(let ue=void 0!==s?65535&t[ka]:0;ue<L;ue++)if("number"==typeof r[ue+1]){if(ee=r[ue],null!=s&&ee>=s)break}else r[ue]<0&&(t[ka]+=65536),(ee<x||-1==x)&&(iS(t,n,r,ue),t[ka]=(4294901760&t[ka])+ue+2),ue++}function tg(t,r){ui(4,t,r);const n=ie(null);try{r.call(t)}finally{ie(n),ui(5,t,r)}}function iS(t,r,n,s){const c=n[s]<0,x=n[s+1],ee=t[c?-n[s]:n[s]];c?t[en]>>14<t[ka]>>16&&(3&t[en])===r&&(t[en]+=16384,tg(ee,x)):tg(ee,x)}const La=-1;class Bl{constructor(r,n,s){this.factory=r,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}const Sh={};class ra{constructor(r,n){this.injector=r,this.parentInjector=n}get(r,n,s){s=Jn(s);const c=this.injector.get(r,Sh,s);return c!==Sh||n===Sh?c:this.parentInjector.get(r,n,s)}}function Eh(t){return t!==La}function $l(t){return 32767&t}function Vl(t,r){let n=function cS(t){return t>>16}(t),s=r;for(;n>0;)s=s[Pa],n--;return s}let xh=!0;function pc(t){const r=xh;return xh=t,r}const ng=255,og=5;let hS=0;const di={};function mc(t,r){const n=sg(t,r);if(-1!==n)return n;const s=r[Nr];s.firstCreatePass&&(t.injectorIndex=r.length,Ch(s.data,t),Ch(r,null),Ch(s.blueprint,null));const c=gc(t,r),x=t.injectorIndex;if(Eh(c)){const L=$l(c),ee=Vl(c,r),ue=ee[Nr].data;for(let Ce=0;Ce<8;Ce++)r[x+Ce]=ee[L+Ce]|ue[L+Ce]}return r[x+8]=c,x}function Ch(t,r){t.push(0,0,0,0,0,0,0,0,r)}function sg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,s=null,c=r;for(;null!==c;){if(s=fg(c),null===s)return La;if(n++,c=c[Pa],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return La}function Dh(t,r,n){!function fS(t,r,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(oi)&&(s=n[oi]),null==s&&(s=n[oi]=hS++);const c=s&ng;r.data[t+(c>>og)]|=1<<c}(t,r,n)}function ig(t,r,n){if(n&mn.Optional||void 0!==t)return t;Gi()}function ag(t,r,n,s){if(n&mn.Optional&&void 0===s&&(s=null),!(n&(mn.Self|mn.Host))){const c=t[Do],x=Io(void 0);try{return c?c.get(r,s,n&mn.Optional):ds(r,s,n&mn.Optional)}finally{Io(x)}}return ig(s,0,n)}function lg(t,r,n,s=mn.Default,c){if(null!==t){if(2048&r[en]&&!(s&mn.Self)){const L=function vS(t,r,n,s,c){let x=t,L=r;for(;null!==x&&null!==L&&2048&L[en]&&!(512&L[en]);){const ee=ug(x,L,n,s|mn.Self,di);if(ee!==di)return ee;let ue=x.parent;if(!ue){const Ce=L[Em];if(Ce){const Fe=Ce.get(n,di,s);if(Fe!==di)return Fe}ue=fg(L),L=L[Pa]}x=ue}return c}(t,r,n,s,di);if(L!==di)return L}const x=ug(t,r,n,s,di);if(x!==di)return x}return ag(r,n,s,c)}function ug(t,r,n,s,c){const x=function gS(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oi)?t[oi]:void 0;return"number"==typeof r?r>=0?r&ng:yS:r}(n);if("function"==typeof x){if(!Xm(r,t,s))return s&mn.Host?ig(c,0,s):ag(r,n,s,c);try{let L;if(L=x(s),null!=L||s&mn.Optional)return L;Gi()}finally{Jm()}}else if("number"==typeof x){let L=null,ee=sg(t,r),ue=La,Ce=s&mn.Host?r[ao][Xo]:null;for((-1===ee||s&mn.SkipSelf)&&(ue=-1===ee?gc(t,r):r[ee+8],ue!==La&&dg(s,!1)?(L=r[Nr],ee=$l(ue),r=Vl(ue,r)):ee=-1);-1!==ee;){const Fe=r[Nr];if(cg(x,ee,Fe.data)){const Ke=mS(ee,r,n,L,s,Ce);if(Ke!==di)return Ke}ue=r[ee+8],ue!==La&&dg(s,r[Nr].data[ee+8]===Ce)&&cg(x,ee,r)?(L=Fe,ee=$l(ue),r=Vl(ue,r)):ee=-1}}return c}function mS(t,r,n,s,c,x){const L=r[Nr],ee=L.data[t+8],Fe=yc(ee,L,n,null==s?Zi(ee)&&xh:s!=L&&!!(3&ee.type),c&mn.Host&&x===ee);return null!==Fe?na(r,L,Fe,ee):di}function yc(t,r,n,s,c){const x=t.providerIndexes,L=r.data,ee=1048575&x,ue=t.directiveStart,Fe=x>>20,Et=c?ee+Fe:t.directiveEnd;for(let Pt=s?ee:ee+Fe;Pt<Et;Pt++){const It=L[Pt];if(Pt<ue&&n===It||Pt>=ue&&It.type===n)return Pt}if(c){const Pt=L[ue];if(Pt&&Ks(Pt)&&Pt.type===n)return ue}return null}function na(t,r,n,s){let c=t[n];const x=r.data;if(function aS(t){return t instanceof Bl}(c)){const L=c;L.resolving&&function Hu(t,r){throw r&&r.join(" > "),new kr(-200,t)}(function An(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():an(t)}(x[n]));const ee=pc(L.canSeeViewProviders);L.resolving=!0;const Ce=L.injectImpl?Io(L.injectImpl):null;Xm(t,s,mn.Default);try{c=t[n]=L.factory(void 0,x,t,s),r.firstCreatePass&&n>=s.directiveStart&&function sS(t,r,n){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:x}=r.type.prototype;if(s){var L,ee;const Ke=Am(r);(null!==(L=n.preOrderHooks)&&void 0!==L?L:n.preOrderHooks=[]).push(t,Ke),(null!==(ee=n.preOrderCheckHooks)&&void 0!==ee?ee:n.preOrderCheckHooks=[]).push(t,Ke)}var ue,Ce,Fe;c&&(null!==(ue=n.preOrderHooks)&&void 0!==ue?ue:n.preOrderHooks=[]).push(0-t,c),x&&((null!==(Ce=n.preOrderHooks)&&void 0!==Ce?Ce:n.preOrderHooks=[]).push(t,x),(null!==(Fe=n.preOrderCheckHooks)&&void 0!==Fe?Fe:n.preOrderCheckHooks=[]).push(t,x))}(n,x[n],r)}finally{null!==Ce&&Io(Ce),pc(ee),L.resolving=!1,Jm()}}return c}function cg(t,r,n){return!!(n[r+(t>>og)]&1<<t)}function dg(t,r){return!(t&mn.Self||t&mn.Host&&r)}class Oo{constructor(r,n){this._tNode=r,this._lView=n}get(r,n,s){return lg(this._tNode,this._lView,r,Jn(s),n)}}function yS(){return new Oo(Hn(),Er())}function hg(t){return Bn(()=>{const r=t.prototype.constructor,n=r[Ns]||Th(r),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const x=c[Ns]||Th(c);if(x&&x!==n)return x;c=Object.getPrototypeOf(c)}return x=>new x})}function Th(t){return Ho(t)?()=>{const r=Th(Hr(t));return r&&r()}:_i(t)}function fg(t){const r=t[Nr],n=r.type;return 2===n?r.declTNode:1===n?t[Xo]:null}function vc(t){return function pS(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const n=t.attrs;if(n){const s=n.length;let c=0;for(;c<s;){const x=n[c];if(qu(x))break;if(0===x)c+=2;else if("number"==typeof x)for(c++;c<s&&"string"==typeof n[c];)c++;else{if(x===r)return n[c+1];c+=2}}}return null}(Hn(),t)}function vg(t,r=null,n=null,s){const c=bg(t,r,n,s);return c.resolveInjectorInitializers(),c}function bg(t,r=null,n=null,s,c=new Set){const x=[n||En,Ml(t)];return s=s||("object"==typeof t?void 0:Xn(t)),new Ia(x,r||tc(),s||null,c)}class Bo{static create(r,n){if(Array.isArray(r))return vg({name:""},n,r,"");{var s;const c=null!==(s=r.name)&&void 0!==s?s:"";return vg({name:c},r.parent,r.providers,c)}}}(_n=Bo).THROW_IF_NOT_FOUND=ce,_n.NULL=new Wi,_n.\u0275prov=Lr({token:_n,providedIn:"any",factory:()=>Yr(Wu)}),_n.__NG_ELEMENT_ID__=-1,new $r("").__NG_ELEMENT_ID__=t=>{const r=Hn();if(null===r)throw new kr(204,!1);if(2&r.type)return r.value;if(t&mn.Optional)return null;throw new kr(204,!1)};function Mh(t){return t.ngOriginalError}let Gl=(()=>{var t;class r{}return(t=r).__NG_ELEMENT_ID__=AS,t.__NG_ENV_ID__=n=>n,r})();class TS extends Gl{constructor(r){super(),this._lView=r}onDestroy(r){return lc(this._lView,r),()=>function dh(t,r){if(null===t[ki])return;const n=t[ki].indexOf(r);-1!==n&&t[ki].splice(n,1)}(this._lView,r)}}function AS(){return new TS(Er())}let oa=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();const hi=class MS extends nt.B{constructor(r=!1){var n,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,_m()&&(this.destroyRef=null!==(n=Rr(Gl,{optional:!0}))&&void 0!==n?n:void 0,this.pendingTasks=null!==(s=Rr(oa,{optional:!0}))&&void 0!==s?s:void 0)}emit(r){const n=ie(null);try{super.next(r)}finally{ie(n)}}subscribe(r,n,s){let c=r,x=n||(()=>null),L=s;if(r&&"object"==typeof r){var ee,ue,Ce;const Ke=r;c=null===(ee=Ke.next)||void 0===ee?void 0:ee.bind(Ke),x=null===(ue=Ke.error)||void 0===ue?void 0:ue.bind(Ke),L=null===(Ce=Ke.complete)||void 0===Ce?void 0:Ce.bind(Ke)}this.__isAsync&&(x=this.wrapInTimeout(x),c&&(c=this.wrapInTimeout(c)),L&&(L=this.wrapInTimeout(L)));const Fe=super.subscribe({next:c,error:x,complete:L});return r instanceof at.yU&&r.add(Fe),Fe}wrapInTimeout(r){return n=>{var s;const c=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var x;r(n),void 0!==c&&(null===(x=this.pendingTasks)||void 0===x||x.remove(c))})}}};function _c(...t){}function wg(t){let r,n;function s(){t=_c;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),s()})),()=>s()}function Sg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class no{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),typeof Zone>"u")throw new kr(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&n,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,function OS(t){const r=()=>{!function jS(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,Ih(t),t.isCheckStableRunning=!1})}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,c,x,L,ee)=>{if(function PS(t){return Cg(t,"__ignore_ng_zone__")}(ee))return n.invokeTask(c,x,L,ee);try{return Eg(t),n.invokeTask(c,x,L,ee)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||t.shouldCoalesceRunChangeDetection)&&r(),xg(t)}},onInvoke:(n,s,c,x,L,ee,ue)=>{try{return Eg(t),n.invoke(c,x,L,ee,ue)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function kS(t){return Cg(t,"__scheduler_tick__")}(ee)&&r(),xg(t)}},onHasTask:(n,s,c,x)=>{n.hasTask(c,x),s===c&&("microTask"==x.change?(t._hasPendingMicrotasks=x.microTask,jh(t),Ih(t)):"macroTask"==x.change&&(t.hasPendingMacrotasks=x.macroTask))},onHandleError:(n,s,c,x)=>(n.handleError(c,x),t.runOutsideAngular(()=>t.onError.emit(x)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new kr(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new kr(909,!1)}run(r,n,s){return this._inner.run(r,n,s)}runTask(r,n,s,c){const x=this._inner,L=x.scheduleEventTask("NgZoneEvent: "+c,r,IS,_c,_c);try{return x.runTask(L,n,s)}finally{x.cancelTask(L)}}runGuarded(r,n,s){return this._inner.runGuarded(r,n,s)}runOutsideAngular(r){return this._outer.run(r)}}const IS={};function Ih(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Eg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xg(t){t._nesting--,Ih(t)}class Oh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(r,n,s){return r.apply(n,s)}runGuarded(r,n,s){return r.apply(n,s)}runOutsideAngular(r){return r()}runTask(r,n,s,c){return r.apply(n,s)}}function Cg(t,r){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0])||void 0===n||null===(n=n.data)||void 0===n?void 0:n[r])}class fi{constructor(){this._console=console}handleError(r){const n=this._findOriginalError(r);this._console.error("ERROR",r),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(r){let n=r&&Mh(r);for(;n&&Mh(n);)n=Mh(n);return n||null}}const NS=new $r("",{providedIn:"root",factory:()=>{const t=Rr(no),r=Rr(fi);return n=>t.runOutsideAngular(()=>r.handleError(n))}});function LS(){return Ba(Hn(),Er())}function Ba(t,r){return new Hl(ss(t,r))}let Hl=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=LS,r})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FS(){return this._results[Symbol.iterator]()}class Ph{get changes(){var r;return null!==(r=this._changes)&&void 0!==r?r:this._changes=new hi}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Ph.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=FS)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,n){return this._results.reduce(r,n)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,n){this.dirty=!1;const s=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Vd(t,r,n){if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],x=r[s];if(n&&(c=n(c),x=n(x)),x!==c)return!1}return!0}(this._results,s,n))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){var r;this.dirty=!0,null===(r=this._onDirty)||void 0===r||r.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const kh=new Map;let BS=0;const Ec="__ngContext__";function Qo(t,r){Uo(r)?(t[Ec]=r[Ra],function VS(t){kh.set(t[Ra],t)}(r)):t[Ec]=r}function Lg(t){return Ug(t[jl])}function Fg(t){return Ug(t[qs])}function Ug(t){for(;null!==t&&!Zo(t);)t=t[qs];return t}let Nh;function sE(t){Nh=t}const Cc=new $r("",{providedIn:"root",factory:()=>iE}),iE="ng",Xg=new $r(""),Lh=new $r("",{providedIn:"platform",factory:()=>"unknown"}),aE=new $r("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Ri(){if(void 0!==Nh)return Nh;if(typeof document<"u")return document;throw new kr(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let qg=()=>null;function Vh(t,r,n=!1){return qg(t,r,n)}const ry=new $r("",{providedIn:"root",factory:()=>!1});let Oc,Pc;function Wa(t){var r;return(null===(r=function Xh(){if(void 0===Oc&&(Oc=null,zn.trustedTypes))try{Oc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oc}())||void 0===r?void 0:r.createHTML(t))||t}function ay(t){var r;return(null===(r=function qh(){if(void 0===Pc&&(Pc=null,zn.trustedTypes))try{Pc=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===r?void 0:r.createScriptURL(t))||t}class sa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rn})`}}class wE extends sa{getTypeName(){return"HTML"}}class SE extends sa{getTypeName(){return"Style"}}class EE extends sa{getTypeName(){return"Script"}}class xE extends sa{getTypeName(){return"URL"}}class CE extends sa{getTypeName(){return"ResourceURL"}}function Ti(t){return t instanceof sa?t.changingThisBreaksApplicationSecurity:t}function Xa(t,r){const n=function DE(t){return t instanceof sa&&t.getTypeName()||null}(t);if(null!=n&&n!==r){if("ResourceURL"===n&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${n} (see ${Rn})`)}return n===r}function TE(t){return new wE(t)}function AE(t){return new SE(t)}function ME(t){return new EE(t)}function IE(t){return new xE(t)}function jE(t){return new CE(t)}class OE{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const n=(new window.DOMParser).parseFromString(Wa(r),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(r):(n.removeChild(n.firstChild),n)}catch{return null}}}class PE{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const n=this.inertDocument.createElement("template");return n.innerHTML=Wa(r),n}}const RE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kc(t){return(t=String(t)).match(RE)?t:"unsafe:"+t}function Ai(t){const r={};for(const n of t.split(","))r[n]=!0;return r}function Ql(...t){const r={};for(const n of t)for(const s in n)n.hasOwnProperty(s)&&(r[s]=!0);return r}const uy=Ai("area,br,col,hr,img,wbr"),cy=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=Ai("rp,rt"),Kh=Ql(uy,Ql(cy,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(dy,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(dy,cy)),Yh=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Ql(Yh,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NE=Ai("script,style,template");class LE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let n=r.firstChild,s=!0,c=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)c.push(n),n=BE(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let x=UE(n);if(x){n=x;break}n=c.pop()}return this.buf.join("")}startElement(r){const n=fy(r).toLowerCase();if(!Kh.hasOwnProperty(n))return this.sanitizedSomething=!0,!NE.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=r.attributes;for(let c=0;c<s.length;c++){const x=s.item(c),L=x.name,ee=L.toLowerCase();if(!hy.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let ue=x.value;Yh[ee]&&(ue=kc(ue)),this.buf.push(" ",L,'="',my(ue),'"')}return this.buf.push(">"),!0}endElement(r){const n=fy(r).toLowerCase();Kh.hasOwnProperty(n)&&!uy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(r){this.buf.push(my(r))}}function UE(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw py(r);return r}function BE(t){const r=t.firstChild;if(r&&function FE(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw py(r);return r}function fy(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VE=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($E,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(VE,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rc;function gy(t,r){let n=null;try{Rc=Rc||function ly(t){const r=new PE(t);return function kE(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new OE(r):r}(t);let s=r?String(r):"";n=Rc.getInertBodyElement(s);let c=5,x=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=x,x=n.innerHTML,n=Rc.getInertBodyElement(s)}while(s!==x);return Wa((new LE).sanitizeChildren(Jh(n)||n))}finally{if(n){const s=Jh(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Jh(t){return"content"in t&&function GE(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ia=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ia||{});function Zh(t){const r=eu();return r?r.sanitize(ia.URL,t)||"":Xa(t,"URL")?Ti(t):kc(an(t))}function yy(t){const r=eu();if(r)return ay(r.sanitize(ia.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ti(t));throw new kr(904,!1)}function vy(t,r,n){return function KE(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?yy:Zh}(r,n)(t)}function eu(){const t=Er();return t&&t[ii].sanitizer}const YE=/^>|^->|<!--|-->|--!>|<!-$/g,JE=/(<|>)/g,ZE="\u200b$1\u200b";function Ds(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let tf;function rf(t,r){return tf(t,r)}function Ka(t,r,n,s,c){if(null!=s){let x,L=!1;Zo(s)?x=s:Uo(s)&&(L=!0,s=s[io]);const ee=jn(s);0===t&&null!==n?null==c?jy(r,n,ee):aa(r,n,ee,c||null,!0):1===t&&null!==n?aa(r,n,ee,c||null,!0):2===t?function ru(t,r,n){const s=$c(t,r);s&&function gx(t,r,n,s){t.removeChild(r,n,s)}(t,s,r,n)}(r,ee,L):3===t&&r.destroyNode(ee),null!=x&&function bx(t,r,n,s,c){const x=n[li];x!==jn(n)&&Ka(r,t,s,x,c);for(let ee=yo;ee<n.length;ee++){const ue=n[ee];Gc(ue[Nr],ue,t,r,s,x)}}(r,t,x,n,c)}}function sf(t,r){return t.createComment(function by(t){return t.replace(YE,r=>r.replace(JE,ZE))}(r))}function Uc(t,r,n){return t.createElement(r,n)}function Ay(t,r){var n;null===(n=r[ii].changeDetectionScheduler)||void 0===n||n.notify(8),Gc(t,r,r[ln],2,null,null)}function My(t,r){const n=t[Na],s=r[Co];(Uo(s)||r[ao]!==s[Co][ao])&&(t[en]|=sc.HasTransplantedViews),null===n?t[Na]=[r]:n.push(r)}function af(t,r){const n=t[Na],s=n.indexOf(r);n.splice(s,1)}function tu(t,r){if(t.length<=yo)return;const n=yo+r,s=t[n];if(s){const c=s[Ji];null!==c&&c!==t&&af(c,s),r>0&&(t[n-1][qs]=s[qs]);const x=Ta(t,yo+r);!function cx(t,r){Ay(t,r),r[io]=null,r[Xo]=null}(s[Nr],s);const L=x[ai];null!==L&&L.detachView(x[Nr]),s[Co]=null,s[qs]=null,s[en]&=-129}return s}function Bc(t,r){if(!(256&r[en])){const n=r[ln];n.destroyNode&&Gc(t,r,n,3,null,null),function hx(t){let r=t[jl];if(!r)return lf(t[Nr],t);for(;r;){let n=null;if(Uo(r))n=r[jl];else{const s=r[yo];s&&(n=s)}if(!n){for(;r&&!r[qs]&&r!==t;)Uo(r)&&lf(r[Nr],r),r=r[Co];null===r&&(r=t),Uo(r)&&lf(r[Nr],r),n=r&&r[qs]}r=n}}(r)}}function lf(t,r){if(256&r[en])return;const n=ie(null);try{r[en]&=-129,r[en]|=256,r[Bs]&&g(r[Bs]),function mx(t,r){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const c=r[n[s]];if(!(c instanceof Bl)){const x=n[s+1];if(Array.isArray(x))for(let L=0;L<x.length;L+=2){const ee=c[x[L]],ue=x[L+1];ui(4,ee,ue);try{ue.call(ee)}finally{ui(5,ee,ue)}}else{ui(4,c,x);try{x.call(c)}finally{ui(5,c,x)}}}}}(t,r),function px(t,r){const n=t.cleanup,s=r[Yi];if(null!==n)for(let x=0;x<n.length-1;x+=2)if("string"==typeof n[x]){const L=n[x+3];L>=0?s[L]():s[-L].unsubscribe(),x+=2}else n[x].call(s[n[x+1]]);null!==s&&(r[Yi]=null);const c=r[ki];if(null!==c){r[ki]=null;for(let x=0;x<c.length;x++)(0,c[x])()}}(t,r),1===r[Nr].type&&r[ln].destroy();const s=r[Ji];if(null!==s&&Zo(r[Co])){s!==r[Co]&&af(s,r);const c=r[ai];null!==c&&c.detachView(t)}!function GS(t){kh.delete(t[Ra])}(r)}finally{ie(n)}}function uf(t,r,n){return function Iy(t,r,n){let s=r;for(;null!==s&&168&s.type;)s=(r=s).parent;if(null===s)return n[io];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:x}=t.data[s.directiveStart+c];if(x===wi.None||x===wi.Emulated)return null}return ss(s,n)}}(t,r.parent,n)}function aa(t,r,n,s,c){t.insertBefore(r,n,s,c)}function jy(t,r,n){t.appendChild(r,n)}function Oy(t,r,n,s,c){null!==s?aa(t,r,n,s,c):jy(t,r,n)}function $c(t,r){return t.parentNode(r)}function Py(t,r,n){return Ry(t,r,n)}let cf,Ry=function ky(t,r,n){return 40&t.type?ss(t,n):null};function Vc(t,r,n,s){const c=uf(t,s,r),x=r[ln],ee=Py(s.parent||r[Xo],s,r);if(null!=c)if(Array.isArray(n))for(let ue=0;ue<n.length;ue++)Oy(x,c,n[ue],ee,!1);else Oy(x,c,n,ee,!1);void 0!==cf&&cf(x,s,r,n,c)}function la(t,r){if(null!==r){const n=r.type;if(3&n)return ss(r,t);if(4&n)return df(-1,t[r.index]);if(8&n){const s=r.child;if(null!==s)return la(t,s);{const c=t[r.index];return Zo(c)?df(-1,c):jn(c)}}if(128&n)return la(t,r.next);if(32&n)return rf(r,t)()||jn(t[r.index]);{const s=Ly(t,r);return null!==s?Array.isArray(s)?s[0]:la(xi(t[ao]),s):la(t,r.next)}}return null}function Ly(t,r){return null!==r?t[ao][Xo].projection[r.projection]:null}function df(t,r){const n=yo+t+1;if(n<r.length){const s=r[n],c=s[Nr].firstChild;if(null!==c)return la(s,c)}return r[li]}function hf(t,r,n,s,c,x,L){for(;null!=n;){if(128===n.type){n=n.next;continue}const ee=s[n.index],ue=n.type;if(L&&0===r&&(ee&&Qo(jn(ee),s),n.flags|=2),32&~n.flags)if(8&ue)hf(t,r,n.child,s,c,x,!1),Ka(r,t,c,ee,x);else if(32&ue){const Ce=rf(n,s);let Fe;for(;Fe=Ce();)Ka(r,t,c,Fe,x);Ka(r,t,c,ee,x)}else 16&ue?Uy(t,r,s,n,c,x):Ka(r,t,c,ee,x);n=L?n.projectionNext:n.next}}function Gc(t,r,n,s,c,x){hf(n,s,t.firstChild,r,c,x,!1)}function Uy(t,r,n,s,c,x){const L=n[ao],ue=L[Xo].projection[s.projection];if(Array.isArray(ue))for(let Ce=0;Ce<ue.length;Ce++)Ka(r,t,c,ue[Ce],x);else{let Ce=ue;const Fe=L[Co];wc(s)&&(Ce.flags|=128),hf(t,r,Ce,Fe,c,x,!0)}}function By(t,r,n){""===n?t.removeAttribute(r,"class"):t.setAttribute(r,"class",n)}function $y(t,r,n){const{mergedAttrs:s,classes:c,styles:x}=n;null!==s&&Tl(t,r,s),null!==c&&By(t,r,c),null!==x&&function wx(t,r,n){t.setAttribute(r,"style",n)}(t,r,x)}const cn={};function Vy(t=1){Gy(gn(),Er(),qo()+t,!1)}function Gy(t,r,n,s){if(!s)if(3&~r[en]){const x=t.preOrderHooks;null!==x&&fc(r,x,0,n)}else{const x=t.preOrderCheckHooks;null!==x&&hc(r,x,n)}ta(n)}function Ya(t,r=mn.Default){const n=Er();return null===n?Yr(t,r):lg(Hn(),n,Hr(t),r)}function Hy(){throw new Error("invalid")}function zy(t,r,n,s,c,x){const L=ie(null);try{let ee=null;c&Si.SignalBased&&(ee=r[s][o]),null!==ee&&void 0!==ee.transformFn&&(x=ee.transformFn(x)),c&Si.HasDecoratorInputTransform&&(x=t.inputTransforms[s].call(r,x)),null!==t.setInput?t.setInput(r,ee,x,n,s):Tm(r,ee,s,x)}finally{ie(L)}}function Hc(t,r,n,s,c,x,L,ee,ue,Ce,Fe){const Ke=r.blueprint.slice();return Ke[io]=c,Ke[en]=204|s,(null!==Ce||t&&2048&t[en])&&(Ke[en]|=2048),Pm(Ke),Ke[Co]=Ke[Pa]=t,Ke[Zn]=n,Ke[ii]=L||t&&t[ii],Ke[ln]=ee||t&&t[ln],Ke[Do]=ue||t&&t[Do]||null,Ke[Xo]=x,Ke[Ra]=function $S(){return BS++}(),Ke[os]=Fe,Ke[Em]=Ce,Ke[ao]=2==r.type?t[ao]:Ke,Ke}function ua(t,r,n,s,c){let x=t.data[r];if(null===x)x=function ff(t,r,n,s,c){const x=Bm(),L=fh(),ue=t.data[r]=function Mx(t,r,n,s,c,x){let L=r?r.injectorIndex:-1,ee=0;return ea()&&(ee|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:L,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ee,providerIndexes:0,value:c,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,L?x:x&&x.parent,n,r,s,c);return null===t.firstChild&&(t.firstChild=ue),null!==x&&(L?null==x.child&&null!==ue.parent&&(x.child=ue):null===x.next&&(x.next=ue,ue.prev=x)),ue}(t,r,n,s,c),function Yw(){return un.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=n,x.value=s,x.attrs=c;const L=function Fl(){const t=un.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();x.injectorIndex=null===L?-1:L.injectorIndex}return Ys(x,!0),x}function nu(t,r,n,s){if(0===n)return-1;const c=r.length;for(let x=0;x<n;x++)r.push(s),t.blueprint.push(s),t.data.push(null);return c}function Wy(t,r,n,s,c){const x=qo(),L=2&s;try{ta(-1),L&&r.length>Zr&&Gy(t,r,Zr,!1),ui(L?2:0,c),n(s,c)}finally{ta(x),ui(L?3:1,c)}}function pf(t,r,n){if(nh(r)){const s=ie(null);try{const x=r.directiveEnd;for(let L=r.directiveStart;L<x;L++){const ee=t.data[L];ee.contentQueries&&ee.contentQueries(1,n[L],L)}}finally{ie(s)}}}function mf(t,r,n){Lm()&&(function Nx(t,r,n,s){const c=n.directiveStart,x=n.directiveEnd;Zi(n)&&function Gx(t,r,n){const s=ss(r,t),c=Xy(n);let L=16;n.signals?L=4096:n.onPush&&(L=64);const ee=zc(t,Hc(t,c,null,L,s,r,null,t[ii].rendererFactory.createRenderer(s,n),null,null,null));t[r.index]=ee}(r,n,t.data[c+n.componentOffset]),t.firstCreatePass||mc(n,r),Qo(s,r);const L=n.initialInputs;for(let ee=c;ee<x;ee++){const ue=t.data[ee],Ce=na(r,t,ee,n);Qo(Ce,r),null!==L&&Hx(0,ee-c,Ce,ue,0,L),Ks(ue)&&(Cs(n.index,r)[Zn]=na(r,t,ee,n))}}(t,r,n,ss(n,r)),!(64&~n.flags)&&Zy(t,r,n))}function gf(t,r,n=ss){const s=r.localNames;if(null!==s){let c=r.index+1;for(let x=0;x<s.length;x+=2){const L=s[x+1],ee=-1===L?n(r,t):t[L];t[c++]=ee}}}function Xy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=yf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function yf(t,r,n,s,c,x,L,ee,ue,Ce,Fe){const Ke=Zr+s,Et=Ke+c,Pt=function Ex(t,r){const n=[];for(let s=0;s<r;s++)n.push(s<t?null:cn);return n}(Ke,Et),It="function"==typeof Ce?Ce():Ce;return Pt[Nr]={type:t,blueprint:Pt,template:n,queries:null,viewQuery:ee,declTNode:r,data:Pt.slice().fill(null,Ke),bindingStartIndex:Ke,expandoStartIndex:Et,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof L?L():L,firstChild:null,schemas:ue,consts:It,incompleteFirstPass:!1,ssrId:Fe}}let qy=()=>null;function Ky(t,r,n,s,c){for(let L in r){var x;if(!r.hasOwnProperty(L))continue;const ee=r[L];if(void 0===ee)continue;null!==(x=s)&&void 0!==x||(s={});let ue,Ce=Si.None;Array.isArray(ee)?(ue=ee[0],Ce=ee[1]):ue=ee;let Fe=L;if(null!==c){if(!c.hasOwnProperty(L))continue;Fe=c[L]}0===t?Yy(s,n,Fe,ue,Ce):Yy(s,n,Fe,ue)}return s}function Yy(t,r,n,s,c){let x;t.hasOwnProperty(n)?(x=t[n]).push(r,s):x=t[n]=[r,s],void 0!==c&&x.push(c)}function gs(t,r,n,s,c,x,L,ee){const ue=ss(r,n);let Fe,Ce=r.inputs;!ee&&null!=Ce&&(Fe=Ce[s])?(Sf(t,n,Fe,s,c),Zi(r)&&function Ox(t,r){const n=Cs(r,t);16&n[en]||(n[en]|=64)}(n,r.index)):3&r.type&&(s=function jx(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=L?L(c,r.value||"",s):c,x.setProperty(ue,s,c))}function vf(t,r,n,s){if(Lm()){const c=null===s?null:{"":-1},x=function Fx(t,r){const n=t.directiveRegistry;let s=null,c=null;if(n)for(let L=0;L<n.length;L++){const ee=n[L];if(Zu(r,ee.selectors,!1))if(s||(s=[]),Ks(ee))if(null!==ee.findHostDirectiveDefs){const ue=[];c=c||new Map,ee.findHostDirectiveDefs(ee,ue,c),s.unshift(...ue,ee),bf(t,r,ue.length)}else s.unshift(ee),bf(t,r,0);else{var x;c=c||new Map,null===(x=ee.findHostDirectiveDefs)||void 0===x||x.call(ee,ee,s,c),s.push(ee)}}return null===s?null:[s,c]}(t,n);let L,ee;null===x?L=ee=null:[L,ee]=x,null!==L&&Jy(t,r,n,L,c,ee),c&&function Ux(t,r,n){if(r){const s=t.localNames=[];for(let c=0;c<r.length;c+=2){const x=n[r[c+1]];if(null==x)throw new kr(-301,!1);s.push(r[c],x)}}}(n,s,c)}n.mergedAttrs=Pi(n.mergedAttrs,n.attrs)}function Jy(t,r,n,s,c,x){for(let Ke=0;Ke<s.length;Ke++)Dh(mc(n,r),t,s[Ke].type);!function $x(t,r,n){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+n,t.providerIndexes=r}(n,t.data.length,s.length);for(let Ke=0;Ke<s.length;Ke++){const Et=s[Ke];Et.providersResolver&&Et.providersResolver(Et)}let L=!1,ee=!1,ue=nu(t,r,s.length,null);for(let Ke=0;Ke<s.length;Ke++){const Et=s[Ke];n.mergedAttrs=Pi(n.mergedAttrs,Et.hostAttrs),Vx(t,n,r,ue,Et),Bx(ue,Et,c),null!==Et.contentQueries&&(n.flags|=4),(null!==Et.hostBindings||null!==Et.hostAttrs||0!==Et.hostVars)&&(n.flags|=64);const Pt=Et.type.prototype;var Ce,Fe;!L&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((null!==(Ce=t.preOrderHooks)&&void 0!==Ce?Ce:t.preOrderHooks=[]).push(n.index),L=!0),ee||!Pt.ngOnChanges&&!Pt.ngDoCheck||((null!==(Fe=t.preOrderCheckHooks)&&void 0!==Fe?Fe:t.preOrderCheckHooks=[]).push(n.index),ee=!0),ue++}!function Ix(t,r,n){const c=r.directiveEnd,x=t.data,L=r.attrs,ee=[];let ue=null,Ce=null;for(let Fe=r.directiveStart;Fe<c;Fe++){const Ke=x[Fe],Et=n?n.get(Ke):null,It=Et?Et.outputs:null;ue=Ky(0,Ke.inputs,Fe,ue,Et?Et.inputs:null),Ce=Ky(1,Ke.outputs,Fe,Ce,It);const dr=null===ue||null===L||Al(r)?null:zx(ue,Fe,L);ee.push(dr)}null!==ue&&(ue.hasOwnProperty("class")&&(r.flags|=8),ue.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=ee,r.inputs=ue,r.outputs=Ce}(t,n,x)}function Zy(t,r,n){const s=n.directiveStart,c=n.directiveEnd,x=n.index,L=function Zw(){return un.lFrame.currentDirectiveIndex}();try{ta(x);for(let ee=s;ee<c;ee++){const ue=t.data[ee],Ce=r[ee];mh(ee),(null!==ue.hostBindings||0!==ue.hostVars||null!==ue.hostAttrs)&&Lx(ue,Ce)}}finally{ta(-1),mh(L)}}function Lx(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function bf(t,r,n){var s;r.componentOffset=n,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(r.index)}function Bx(t,r,n){if(n){if(r.exportAs)for(let s=0;s<r.exportAs.length;s++)n[r.exportAs[s]]=t;Ks(r)&&(n[""]=t)}}function Vx(t,r,n,s,c){t.data[s]=c;const x=c.factory||(c.factory=_i(c.type)),L=new Bl(x,Ks(c),Ya);t.blueprint[s]=L,n[s]=L,function kx(t,r,n,s,c){const x=c.hostBindings;if(x){let L=t.hostBindingOpCodes;null===L&&(L=t.hostBindingOpCodes=[]);const ee=~r.index;(function Rx(t){let r=t.length;for(;r>0;){const n=t[--r];if("number"==typeof n&&n<0)return n}return 0})(L)!=ee&&L.push(ee),L.push(n,s,x)}}(t,r,s,nu(t,n,c.hostVars,cn),c)}function pi(t,r,n,s,c,x){const L=ss(t,r);!function _f(t,r,n,s,c,x,L){if(null==x)t.removeAttribute(r,c,n);else{const ee=null==L?an(x):L(x,s||"",c);t.setAttribute(r,c,ee,n)}}(r[ln],L,x,t.value,n,s,c)}function Hx(t,r,n,s,c,x){const L=x[r];if(null!==L)for(let ee=0;ee<L.length;)zy(s,n,L[ee++],L[ee++],L[ee++],L[ee++])}function zx(t,r,n){let s=null,c=0;for(;c<n.length;){const x=n[c];if(0!==x)if(5!==x){if("number"==typeof x)break;if(t.hasOwnProperty(x)){null===s&&(s=[]);const L=t[x];for(let ee=0;ee<L.length;ee+=3)if(L[ee]===r){s.push(x,L[ee+1],L[ee+2],n[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function Qy(t,r,n,s){return[t,!0,0,r,null,s,null,n,null,null]}function ev(t,r){const n=t.contentQueries;if(null!==n){const s=ie(null);try{for(let c=0;c<n.length;c+=2){const L=n[c+1];if(-1!==L){const ee=t.data[L];cc(n[c]),ee.contentQueries(2,r[L],L)}}}finally{ie(s)}}}function zc(t,r){return t[jl]?t[Sm][qs]=r:t[jl]=r,t[Sm]=r,r}function wf(t,r,n){cc(0);const s=ie(null);try{r(t,n)}finally{ie(s)}}function tv(t){var r;return null!==(r=t[Yi])&&void 0!==r?r:t[Yi]=[]}function rv(t){var r;return null!==(r=t.cleanup)&&void 0!==r?r:t.cleanup=[]}function Wc(t,r){const n=t[Do],s=n?n.get(fi,null):null;s&&s.handleError(r)}function Sf(t,r,n,s,c){for(let x=0;x<n.length;){const L=n[x++],ee=n[x++],ue=n[x++];zy(t.data[L],r[L],s,ee,ue,c)}}function Mi(t,r,n){const s=Rl(r,t);!function Ty(t,r,n){t.setValue(r,n)}(t[ln],s,n)}function Wx(t,r){const n=Cs(r,t),s=n[Nr];!function Xx(t,r){for(let n=r.length;n<t.blueprint.length;n++)r.push(t.blueprint[n])}(s,n);const c=n[io];null!==c&&null===n[os]&&(n[os]=Vh(c,n[Do])),Ef(s,n,n[Zn])}function Ef(t,r,n){vh(r);try{var s;const c=t.viewQuery;null!==c&&wf(1,c,n);const x=t.template;null!==x&&Wy(t,r,x,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=r[ai])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&ev(t,r),t.staticViewQueries&&wf(2,t.viewQuery,n);const L=t.components;null!==L&&function qx(t,r){for(let n=0;n<r.length;n++)Wx(t,r[n])}(r,L)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[en]&=-5,bh()}}function Ja(t,r,n,s){const c=ie(null);try{var x,L,ee;const ue=r.tView,Ke=Hc(t,ue,n,4096&t[en]?4096:16,null,r,null,null,null!==(x=null==s?void 0:s.injector)&&void 0!==x?x:null,null!==(L=null==s?void 0:s.embeddedViewInjector)&&void 0!==L?L:null,null!==(ee=null==s?void 0:s.dehydratedView)&&void 0!==ee?ee:null);Ke[Ji]=t[r.index];const Pt=t[ai];return null!==Pt&&(Ke[ai]=Pt.createEmbeddedView(ue)),Ef(ue,Ke,n),Ke}finally{ie(c)}}function ca(t,r){return!r||null===r.firstChild||wc(t)}function Za(t,r,n,s=!0){const c=r[Nr];if(function fx(t,r,n,s){const c=yo+s,x=n.length;s>0&&(n[c-1][qs]=r),s<x-yo?(r[qs]=n[c],Gd(n,yo+s,r)):(n.push(r),r[qs]=null),r[Co]=n;const L=r[Ji];null!==L&&n!==L&&My(L,r);const ee=r[ai];null!==ee&&ee.insertView(t),ch(r),r[en]|=128}(c,r,t,n),s){const L=df(n,t),ee=r[ln],ue=$c(ee,t[li]);null!==ue&&function dx(t,r,n,s,c,x){s[io]=c,s[Xo]=r,Gc(t,s,n,1,c,x)}(c,t[Xo],ee,r,ue,L)}const x=r[os];null!==x&&null!==x.firstChild&&(x.firstChild=null)}function ou(t,r,n,s,c=!1){for(;null!==n;){if(128===n.type){n=c?n.projectionNext:n.next;continue}const x=r[n.index];null!==x&&s.push(jn(x)),Zo(x)&&sv(x,s);const L=n.type;if(8&L)ou(t,r,n.child,s);else if(32&L){const ee=rf(n,r);let ue;for(;ue=ee();)s.push(ue)}else if(16&L){const ee=Ly(r,n);if(Array.isArray(ee))s.push(...ee);else{const ue=xi(r[ao]);ou(ue[Nr],ue,ee,s,!0)}}n=c?n.projectionNext:n.next}return s}function sv(t,r){for(let n=yo;n<t.length;n++){const s=t[n],c=s[Nr].firstChild;null!==c&&ou(s[Nr],s,c,r)}t[li]!==t[io]&&r.push(t[li])}let iv=[];const Zx={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Bs]=this}},eC={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let r=xi(t.lView);for(;r&&!av(r[Nr]);)r=xi(r);r&&km(r)},consumerOnSignalRead(){this.lView[Bs]=this}};function av(t){return 2!==t.type}const tC=100;function Xc(t,r=!0,n=0){const s=t[ii],c=s.rendererFactory;var L;null===(L=c.begin)||void 0===L||L.call(c);try{!function rC(t,r){const n=Gm();try{Hm(!0),Cf(t,r);let s=0;for(;Ll(t);){if(s===tC)throw new kr(103,!1);s++,Cf(t,1)}}finally{Hm(n)}}(t,n)}catch(Ce){throw r&&Wc(t,Ce),Ce}finally{var ee,ue;null===(ee=c.end)||void 0===ee||ee.call(c),null===(ue=s.inlineEffectRunner)||void 0===ue||ue.flush()}}function nC(t,r,n,s){var c;const x=r[en];if(!(256&~x))return;null===(c=r[ii].inlineEffectRunner)||void 0===c||c.flush(),vh(r);let ue=!0,Ce=null,Fe=null;av(t)?(Fe=function Kx(t){var r;return null!==(r=t[Bs])&&void 0!==r?r:function Yx(t){var r;const n=null!==(r=iv.pop())&&void 0!==r?r:Object.create(Zx);return n.lView=t,n}(t)}(r),Ce=u(Fe)):null===function B(){return M}()?(ue=!1,Fe=function Qx(t){var r;const n=null!==(r=t[Bs])&&void 0!==r?r:Object.create(eC);return n.lView=t,n}(r),Ce=u(Fe)):r[Bs]&&(g(r[Bs]),r[Bs]=null);try{Pm(r),function zm(t){return un.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Wy(t,r,n,2,s);const Ke=!(3&~x);if(Ke){const It=t.preOrderCheckHooks;null!==It&&hc(r,It,null)}else{const It=t.preOrderHooks;null!==It&&fc(r,It,0,null),_h(r,0)}if(function oC(t){for(let r=Lg(t);null!==r;r=Fg(r)){if(!(r[en]&sc.HasTransplantedViews))continue;const n=r[Na];for(let s=0;s<n.length;s++)km(n[s])}}(r),uv(r,0),null!==t.contentQueries&&ev(t,r),Ke){const It=t.contentCheckHooks;null!==It&&hc(r,It)}else{const It=t.contentHooks;null!==It&&fc(r,It,1),_h(r,1)}!function Sx(t,r){const n=t.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const c=n[s];if(c<0)ta(~c);else{const x=c,L=n[++s],ee=n[++s];Jw(L,x),ee(2,r[x])}}}finally{ta(-1)}}(t,r);const Et=t.components;null!==Et&&dv(r,Et,0);const Pt=t.viewQuery;if(null!==Pt&&wf(2,Pt,s),Ke){const It=t.viewCheckHooks;null!==It&&hc(r,It)}else{const It=t.viewHooks;null!==It&&fc(r,It,2),_h(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Ol]){for(const It of r[Ol])It();r[Ol]=null}r[en]&=-73}catch(Ke){throw ac(r),Ke}finally{null!==Fe&&(d(Fe,Ce),ue&&function Jx(t){t.lView[Bs]!==t&&(t.lView=null,iv.push(t))}(Fe)),bh()}}function uv(t,r){for(let n=Lg(t);null!==n;n=Fg(n))for(let s=yo;s<n.length;s++)cv(n[s],r)}function sC(t,r,n){cv(Cs(r,t),n)}function cv(t,r){uh(t)&&Cf(t,r)}function Cf(t,r){const s=t[Nr],c=t[en],x=t[Bs];let L=!!(0===r&&16&c);if(L||(L=!!(64&c&&0===r)),L||(L=!!(1024&c)),L||(L=!(null==x||!x.dirty||!h(x))),L||(L=!1),x&&(x.dirty=!1),t[en]&=-9217,L)nC(s,t,s.template,t[Zn]);else if(8192&c){uv(t,1);const ee=s.components;null!==ee&&dv(t,ee,1)}}function dv(t,r,n){for(let s=0;s<r.length;s++)sC(t,r[s],n)}function su(t,r){var n;const s=Gm()?64:1088;for(null===(n=t[ii].changeDetectionScheduler)||void 0===n||n.notify(r);t;){t[en]|=s;const c=xi(t);if(kl(t)&&!c)return t;t=c}return null}class iu{get rootNodes(){const r=this._lView,n=r[Nr];return ou(n,r,n.firstChild,[])}constructor(r,n,s=!0){this._lView=r,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(r){this._lView[Zn]=r}get destroyed(){return!(256&~this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Co];if(Zo(r)){const n=r[8],s=n?n.indexOf(this):-1;s>-1&&(tu(r,s),Ta(n,s))}this._attachedToViewContainer=!1}Bc(this._lView[Nr],this._lView)}onDestroy(r){lc(this._lView,r)}markForCheck(){su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[en]&=-129}reattach(){ch(this._lView),this._lView[en]|=128}detectChanges(){this._lView[en]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new kr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=kl(this._lView),n=this._lView[Ji];null!==n&&!r&&af(n,this._lView),Ay(this._lView[Nr],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new kr(902,!1);this._appRef=r;const n=kl(this._lView),s=this._lView[Ji];null!==s&&!n&&My(s,this._lView),ch(this._lView)}}let au=(()=>{class r{}return r.__NG_ELEMENT_ID__=lC,r})();const iC=au,aC=class extends iC{constructor(r,n,s){super(),this._declarationLView=r,this._declarationTContainer=n,this.elementRef=s}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,n){return this.createEmbeddedViewImpl(r,n)}createEmbeddedViewImpl(r,n,s){const c=Ja(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:n,dehydratedView:s});return new iu(c)}};function lC(){return qc(Hn(),Er())}function qc(t,r){return 4&t.type?new aC(r,t,Ba(t,r)):null}let Ov=()=>null;function ha(t,r){return Ov(t,r)}class el{}const mu=new $r("",{providedIn:"root",factory:()=>!1}),Pv=new $r("");class eD{}class kv{}class rD{resolveComponentFactory(r){throw function tD(t){const r=Error(`No component factory found for ${Xn(t)}.`);return r.ngComponent=t,r}(r)}}class gu{}gu.NULL=new rD;class Nf{}let nD=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function oD(){const t=Er(),n=Cs(Hn().index,t);return(Uo(n)?n:t)[ln]}(),r})(),sD=(()=>{var t;class r{}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>null}),r})();const Nv=new Set;function as(t){var r,n;Nv.has(t)||(Nv.add(t),null===(r=performance)||void 0===r||null===(n=r.mark)||void 0===n||n.call(r,"mark_feature_usage",{detail:{feature:t}}))}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{});const Lv={destroy(){}};function Fv(t,r){var n,s;!r&&function rc(t){if(!_m())throw new kr(-203,!1)}();const c=null!==(n=null==r?void 0:r.injector)&&void 0!==n?n:Rr(Bo);return function ms(t){return"browser"===(null!=t?t:Rr(Bo)).get(Lh)}(c)?(as("NgAfterNextRender"),function Uv(t,r,n,s){var c;const x=function aD(t,r){if(t instanceof Function)switch(r){case ls.EarlyRead:return{earlyRead:t};case ls.Write:return{write:t};case ls.MixedReadWrite:return{mixedReadWrite:t};case ls.Read:return{read:t}}return t}(t,s),L=r.get(ed),ee=null!==(c=L.handler)&&void 0!==c?c:L.handler=new uD,ue=[],Ce=[],Fe=()=>{for(const It of Ce)ee.unregister(It);Ke()},Ke=r.get(Gl).onDestroy(Fe);let Et=0;const Pt=(It,dr)=>{if(!dr)return;const Ar=n?(...gr)=>(Et--,Et<1&&Fe(),dr(...gr)):dr,jr=bm(r,()=>new lD(It,ue,Ar));ee.register(jr),Ce.push(jr),Et++};return Pt(ls.EarlyRead,x.earlyRead),Pt(ls.Write,x.write),Pt(ls.MixedReadWrite,x.mixedReadWrite),Pt(ls.Read,x.read),{destroy:Fe}}(t,c,!0,null!==(s=null==r?void 0:r.phase)&&void 0!==s?s:ls.MixedReadWrite)):Lv}class lD{constructor(r,n,s){var c;this.phase=r,this.pipelinedArgs=n,this.callbackFn=s,this.zone=Rr(no),this.errorHandler=Rr(fi,{optional:!0}),null===(c=Rr(el,{optional:!0}))||void 0===c||c.notify(6)}invoke(){try{const n=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,n)}catch(n){var r;null===(r=this.errorHandler)||void 0===r||r.handleError(n)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[ls.EarlyRead]:new Set,[ls.Write]:new Set,[ls.MixedReadWrite]:new Set,[ls.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const n of r)n.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var s;this.executeInternalCallbacks(),null===(s=this.handler)||void 0===s||s.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of s)c()}ngOnDestroy(){var s;null===(s=this.handler)||void 0===s||s.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();function Ni(t){return!!Jr(t)}function rd(t,r,n){let s=n?t.styles:null,c=n?t.classes:null,x=0;if(null!==r)for(let L=0;L<r.length;L++){const ee=r[L];"number"==typeof ee?x=ee:1==x?c=Rs(c,ee):2==x&&(s=Rs(s,ee+": "+r[++L]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=c:t.classesWithoutHost=c}class Vv extends gu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const n=Yt(r);return new bu(n,this.ngModule)}}function Gv(t,r){const n=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const c=t[s];if(void 0===c)continue;const x=Array.isArray(c),L=x?c[0]:c;n.push(r?{propName:L,templateName:s,isSignal:!!((x?c[1]:Si.None)&Si.SignalBased)}:{propName:L,templateName:s})}return n}class bu extends kv{get inputs(){const r=this.componentDef,n=r.inputTransforms,s=Gv(r.inputs,!0);if(null!==n)for(const c of s)n.hasOwnProperty(c.propName)&&(c.transform=n[c.propName]);return s}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(r,n){super(),this.componentDef=r,this.ngModule=n,this.componentType=r.type,this.selector=function se(t){return t.map(mm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!n}create(r,n,s,c){const x=ie(null);try{var ee;let ue=(c=c||this.ngModule)instanceof Us?c:null===(ee=c)||void 0===ee?void 0:ee.injector;ue&&null!==this.componentDef.getStandaloneInjector&&(ue=this.componentDef.getStandaloneInjector(ue)||ue);const Ce=ue?new ra(r,ue):r,Fe=Ce.get(Nf,null);if(null===Fe)throw new kr(407,!1);const Ke=Ce.get(sD,null),It={rendererFactory:Fe,sanitizer:Ke,inlineEffectRunner:null,afterRenderEventManager:Ce.get(ed,null),changeDetectionScheduler:Ce.get(el,null)},dr=Fe.createRenderer(null,this.componentDef),Ar=this.componentDef.selectors[0][0]||"div",jr=s?function xx(t,r,n,s){const x=s.get(ry,!1)||n===wi.ShadowDom,L=t.selectRootElement(r,x);return function Cx(t){qy(t)}(L),L}(dr,s,this.componentDef.encapsulation,Ce):Uc(dr,Ar,function hD(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ar));let gr=512;this.componentDef.signals?gr|=4096:this.componentDef.onPush||(gr|=16);let tn=null;null!==jr&&(tn=Vh(jr,Ce,!0));const dn=yf(0,null,null,1,0,null,null,null,null,null,null),On=Hc(null,dn,null,gr,null,null,It,dr,Ce,null,tn);let Ko,es;vh(On);try{const ri=this.componentDef;let ba,um=null;ri.findHostDirectiveDefs?(ba=[],um=new Map,ri.findHostDirectiveDefs(ri,ba,um),ba.push(ri)):ba=[ri];const Ij=function pD(t,r){const n=t[Nr],s=Zr;return t[s]=r,ua(n,s,2,"#host",null)}(On,jr),jj=function mD(t,r,n,s,c,x,L){const ee=c[Nr];!function gD(t,r,n,s){for(const c of t)r.mergedAttrs=Pi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(rd(r,r.mergedAttrs,!0),null!==n&&$y(s,n,r))}(s,t,r,L);let ue=null;null!==r&&(ue=Vh(r,c[Do]));const Ce=x.rendererFactory.createRenderer(r,n);let Fe=16;n.signals?Fe=4096:n.onPush&&(Fe=64);const Ke=Hc(c,Xy(n),null,Fe,c[t.index],t,x,Ce,null,null,ue);return ee.firstCreatePass&&bf(ee,t,s.length-1),zc(c,Ke),c[t.index]=Ke}(Ij,jr,ri,ba,On,It,dr);es=Nl(dn,Zr),jr&&function vD(t,r,n,s){if(s)Tl(t,n,["ng-version","18.1.3"]);else{const{attrs:c,classes:x}=function he(t){const r=[],n=[];let s=1,c=2;for(;s<t.length;){let x=t[s];if("string"==typeof x)2===c?""!==x&&r.push(x,t[++s]):8===c&&n.push(x);else{if(!xs(c))break;c=x}s++}return{attrs:r,classes:n}}(r.selectors[0]);c&&Tl(t,n,c),x&&x.length>0&&By(t,n,x.join(" "))}}(dr,ri,jr,s),void 0!==n&&function bD(t,r,n){const s=t.projection=[];for(let c=0;c<r.length;c++){const x=n[c];s.push(null!=x?Array.from(x):null)}}(es,this.ngContentSelectors,n),Ko=function yD(t,r,n,s,c,x){const L=Hn(),ee=c[Nr],ue=ss(L,c);Jy(ee,c,L,n,null,s);for(let Fe=0;Fe<n.length;Fe++)Qo(na(c,ee,L.directiveStart+Fe,L),c);Zy(ee,c,L),ue&&Qo(ue,c);const Ce=na(c,ee,L.directiveStart+L.componentOffset,L);if(t[Zn]=c[Zn]=Ce,null!==x)for(const Fe of x)Fe(Ce,r);return pf(ee,L,c),Ce}(jj,ri,ba,um,On,[_D]),Ef(dn,On,null)}finally{bh()}return new fD(this.componentType,Ko,Ba(es,On),On,es)}finally{ie(x)}}}class fD extends eD{constructor(r,n,s,c,x){super(),this.location=s,this._rootLView=c,this._tNode=x,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new iu(c,void 0,!1),this.componentType=r}setInput(r,n){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[r])){var x;if(null!==(x=this.previousInputValues)&&void 0!==x||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),n))return;const L=this._rootLView;Sf(L[Nr],L,c,r,n),this.previousInputValues.set(r,n),su(Cs(this._tNode.index,L),1)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function _D(){const t=Hn();dc(Er()[Nr],t)}let nd=(()=>{class r{}return r.__NG_ELEMENT_ID__=wD,r})();function wD(){return Wv(Hn(),Er())}const SD=nd,Hv=class extends SD{constructor(r,n,s){super(),this._lContainer=r,this._hostTNode=n,this._hostLView=s}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const r=gc(this._hostTNode,this._hostLView);if(Eh(r)){const n=Vl(r,this._hostLView),s=$l(r);return new Oo(n[Nr].data[s+8],n)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const n=zv(this._lContainer);return null!==n&&n[r]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(r,n,s){let c,x;"number"==typeof s?c=s:null!=s&&(c=s.index,x=s.injector);const L=ha(this._lContainer,r.ssrId),ee=r.createEmbeddedViewImpl(n||{},x,L);return this.insertImpl(ee,c,ca(this._hostTNode,L)),ee}createComponent(r,n,s,c,x){var L,ee,ue;const Ce=r&&!function Il(t){return"function"==typeof t}(r);let Fe;if(Ce)Fe=n;else{const jr=n||{};Fe=jr.index,s=jr.injector,c=jr.projectableNodes,x=jr.environmentInjector||jr.ngModuleRef}const Ke=Ce?r:new bu(Yt(r)),Et=s||this.parentInjector;if(!x&&null==Ke.ngModule){const gr=(Ce?Et:this.parentInjector).get(Us,null);gr&&(x=gr)}const Pt=Yt(null!==(L=Ke.componentType)&&void 0!==L?L:{}),It=ha(this._lContainer,null!==(ee=null==Pt?void 0:Pt.id)&&void 0!==ee?ee:null),dr=null!==(ue=null==It?void 0:It.firstChild)&&void 0!==ue?ue:null,Ar=Ke.create(Et,c,dr,x);return this.insertImpl(Ar.hostView,Fe,ca(this._hostTNode,It)),Ar}insert(r,n){return this.insertImpl(r,n,!0)}insertImpl(r,n,s){const c=r._lView;if(function $w(t){return Zo(t[Co])}(c)){const ee=this.indexOf(r);if(-1!==ee)this.detach(ee);else{const ue=c[Co],Ce=new Hv(ue,ue[Xo],ue[Co]);Ce.detach(Ce.indexOf(r))}}const x=this._adjustIndex(n),L=this._lContainer;return Za(L,c,x,s),r.attachToViewContainerRef(),Gd(Bf(L),x,r),r}move(r,n){return this.insert(r,n)}indexOf(r){const n=zv(this._lContainer);return null!==n?n.indexOf(r):-1}remove(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);s&&(Ta(Bf(this._lContainer),n),Bc(s[Nr],s))}detach(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);return s&&null!=Ta(Bf(this._lContainer),n)?new iu(s):null}_adjustIndex(r,n=0){return null==r?this.length+n:r}};function zv(t){return t[8]}function Bf(t){return t[8]||(t[8]=[])}function Wv(t,r){let n;const s=r[t.index];return Zo(s)?n=s:(n=Qy(s,r,null,t),r[t.index]=n,zc(r,n)),Xv(n,r,t,s),new Hv(n,t,r)}let Xv=function Kv(t,r,n,s){if(t[li])return;let c;c=8&n.type?jn(s):function ED(t,r){const n=t[ln],s=n.createComment(""),c=ss(r,t);return aa(n,$c(n,c),s,function yx(t,r){return t.nextSibling(r)}(n,c),!1),s}(r,n),t[li]=c},$f=()=>!1;class Vf{constructor(r){this.queryList=r,this.matches=null}clone(){return new Vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const n=r.queries;if(null!==n){const s=null!==r.contentQueries?r.contentQueries[0]:n.length,c=[];for(let x=0;x<s;x++){const L=n.getByIndex(x);c.push(this.queries[L.indexInDeclarationView].clone())}return new Gf(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let n=0;n<this.queries.length;n++)null!==qf(r,n).matches&&this.queries[n].setDirty()}}class Yv{constructor(r,n,s=null){this.flags=n,this.read=s,this.predicate="string"==typeof r?function jD(t){return t.split(",").map(r=>r.trim())}(r):r}}class Hf{constructor(r=[]){this.queries=r}elementStart(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(r,n)}elementEnd(r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(r)}embeddedTView(r){let n=null;for(let s=0;s<this.length;s++){const c=null!==n?n.length:0,x=this.getByIndex(s).embeddedTView(r,c);x&&(x.indexInDeclarationView=s,null!==n?n.push(x):n=[x])}return null!==n?new Hf(n):null}template(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(r,n)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class zf{constructor(r,n=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(r,n){this.isApplyingToNode(n)&&this.matchTNode(r,n)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,n){this.elementStart(r,n)}embeddedTView(r,n){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,n),new zf(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let s=r.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(r,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const x=s[c];this.matchTNodeWithReadOption(r,n,TD(n,x)),this.matchTNodeWithReadOption(r,n,yc(n,r,x,!1,!1))}else s===au?4&n.type&&this.matchTNodeWithReadOption(r,n,-1):this.matchTNodeWithReadOption(r,n,yc(n,r,s,!1,!1))}matchTNodeWithReadOption(r,n,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Hl||c===nd||c===au&&4&n.type)this.addMatch(n.index,-2);else{const x=yc(n,r,c,!1,!1);null!==x&&this.addMatch(n.index,x)}else this.addMatch(n.index,s)}}addMatch(r,n){null===this.matches?this.matches=[r,n]:this.matches.push(r,n)}}function TD(t,r){const n=t.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===r)return n[s+1];return null}function MD(t,r,n,s){return-1===n?function AD(t,r){return 11&t.type?Ba(t,r):4&t.type?qc(t,r):null}(r,t):-2===n?function ID(t,r,n){return n===Hl?Ba(r,t):n===au?qc(r,t):n===nd?Wv(r,t):void 0}(t,r,s):na(t,t[Nr],n,r)}function Jv(t,r,n,s){const c=r[ai].queries[s];if(null===c.matches){const x=t.data,L=n.matches,ee=[];for(let ue=0;null!==L&&ue<L.length;ue+=2){const Ce=L[ue];ee.push(Ce<0?null:MD(r,x[Ce],L[ue+1],n.metadata.read))}c.matches=ee}return c.matches}function Wf(t,r,n,s){const c=t.queries.getByIndex(n),x=c.matches;if(null!==x){const L=Jv(t,r,c,n);for(let ee=0;ee<x.length;ee+=2){const ue=x[ee];if(ue>0)s.push(L[ee/2]);else{const Ce=x[ee+1],Fe=r[-ue];for(let Ke=yo;Ke<Fe.length;Ke++){const Et=Fe[Ke];Et[Ji]===Et[Co]&&Wf(Et[Nr],Et,Ce,s)}if(null!==Fe[Na]){const Ke=Fe[Na];for(let Et=0;Et<Ke.length;Et++){const Pt=Ke[Et];Wf(Pt[Nr],Pt,Ce,s)}}}}}return s}function Zv(t,r,n){var s;const c=new Ph(!(4&~n));return function Ax(t,r,n,s){const c=tv(r);c.push(n),t.firstCreatePass&&rv(t).push(s,c.length-1)}(t,r,c,c.destroy),(null!==(s=r[ai])&&void 0!==s?s:r[ai]=new Gf).queries.push(new Vf(c))-1}function t0(t,r,n){null===t.queries&&(t.queries=new Hf),t.queries.track(new zf(r,n))}function qf(t,r){return t.queries.getByIndex(r)}function r0(t,r){const n=t[Nr],s=qf(n,r);return s.crossesNgTemplate?Wf(n,t,r,[]):Jv(n,t,s,r)}function o0(t,r){as("NgSignals");const n=function H(t){const r=Object.create(oe);r.value=t;const n=()=>(m(r),r.value);return n[o]=r,n}(t),s=n[o];return null!=r&&r.equal&&(s.equal=r.equal),n.set=c=>xe(s,c),n.update=c=>function q(t,r){l()||$(),xe(t,r(t.value))}(s,c),n.asReadonly=s0.bind(n),n}function s0(){const t=this[o];if(void 0===t.readonlyFn){const r=()=>this();r[o]=t,t.readonlyFn=r}return t.readonlyFn}function a0(t){return function n0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Yf(t){let r=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const s=[t];for(;r;){let c;if(Ks(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new kr(903,!1);c=r.\u0275dir}if(c){if(n){s.push(c);const L=t;L.inputs=sd(t.inputs),L.inputTransforms=sd(t.inputTransforms),L.declaredInputs=sd(t.declaredInputs),L.outputs=sd(t.outputs);const ee=c.hostBindings;ee&&WD(t,ee);const ue=c.viewQuery,Ce=c.contentQueries;if(ue&&HD(t,ue),Ce&&zD(t,Ce),VD(t,c),ks(t.outputs,c.outputs),Ks(c)&&c.data.animation){const Fe=t.data;Fe.animation=(Fe.animation||[]).concat(c.data.animation)}}const x=c.features;if(x)for(let L=0;L<x.length;L++){const ee=x[L];ee&&ee.ngInherit&&ee(t),ee===Yf&&(n=!1)}}r=Object.getPrototypeOf(r)}!function GD(t){let r=0,n=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=r+=c.hostVars,c.hostAttrs=Pi(c.hostAttrs,n=Pi(n,c.hostAttrs))}}(s)}function VD(t,r){for(const s in r.inputs){if(!r.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const c=r.inputs[s];if(void 0!==c&&(t.inputs[s]=c,t.declaredInputs[s]=r.declaredInputs[s],null!==r.inputTransforms)){var n;const x=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(x))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[x]=r.inputTransforms[x]}}}function sd(t){return t===Ss?{}:t===En?[]:t}function HD(t,r){const n=t.viewQuery;t.viewQuery=n?(s,c)=>{r(s,c),n(s,c)}:r}function zD(t,r){const n=t.contentQueries;t.contentQueries=n?(s,c,x)=>{r(s,c,x),n(s,c,x)}:r}function WD(t,r){const n=t.hostBindings;t.hostBindings=n?(s,c)=>{r(s,c),n(s,c)}:r}function S0(t){const r=t.inputConfig,n={};for(const s in r)if(r.hasOwnProperty(s)){const c=r[s];Array.isArray(c)&&c[3]&&(n[s]=c[3])}t.inputTransforms=n}class fa{}class E0{}function ZD(t,r){return new Jf(t,null!=r?r:null,[])}class Jf extends fa{constructor(r,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const c=Jr(r);this._bootstrapComponents=Ds(c.bootstrap),this._r3Injector=bg(r,n,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...s],Xn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Zf extends E0{constructor(r){super(),this.moduleType=r}create(r){return new Jf(this.moduleType,r,[])}}class x0 extends fa{constructor(r){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const n=new Ia([...r.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],r.parent||tc(),r.debugName,new Set(["environment"]));this.injector=n,r.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qf(t,r,n=null){return new x0({providers:t,parent:r,debugName:n,runEnvironmentInitializers:!0}).injector}function id(t){return!!ep(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ep(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,r,n){return!Object.is(t[r],n)&&(t[r]=n,!0)}function Su(t,r,n,s,c,x,L,ee,ue,Ce){const Fe=n+Zr,Ke=r.firstCreatePass?function oT(t,r,n,s,c,x,L,ee,ue){const Ce=r.consts,Fe=ua(r,t,4,L||null,ee||null);vf(r,n,Fe,$s(Ce,ue)),dc(r,Fe);const Ke=Fe.tView=yf(2,Fe,s,c,x,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ce,null);return null!==r.queries&&(r.queries.template(r,Fe),Ke.queries=r.queries.embeddedTView(Fe)),Fe}(Fe,r,t,s,c,x,L,ee,ue):r.data[Fe];Ys(Ke,!1);const Et=C0(r,t,Ke,n);Ul()&&Vc(r,t,Et,Ke),Qo(Et,t);const Pt=Qy(Et,t,Et,Ke);return t[Fe]=Pt,zc(t,Pt),function qv(t,r,n){return $f(t,r,n)}(Pt,Ke,t),ic(Ke)&&mf(r,t,Ke),null!=ue&&gf(t,Ke,Ce),Ke}function tp(t,r,n,s,c,x,L,ee){const ue=Er(),Ce=gn();return Su(ue,Ce,t,r,n,s,c,$s(Ce.consts,x),L,ee),tp}let C0=function D0(t,r,n,s){return ci(!0),r[ln].createComment("")};function hp(t,r,n,s){const c=Er();return vo(c,Js(),r)&&(gn(),pi(Qn(),c,t,r,n,s)),hp}function dl(t,r,n,s,c,x){const ee=function pa(t,r,n,s){const c=vo(t,r,n);return vo(t,r+1,s)||c}(t,function Ci(){return un.lFrame.bindingIndex}(),n,c);return Di(2),ee?r+an(n)+s+an(c)+x:cn}function fd(t,r){return t<<17|r<<2}function Ui(t){return t>>17&32767}function fp(t){return 2|t}function ga(t){return(131068&t)>>2}function pp(t,r){return-131069&t|r<<2}function mp(t){return 1|t}function nb(t,r,n,s){const c=t[n+1],x=null===r;let L=s?Ui(c):ga(c),ee=!1;for(;0!==L&&(!1===ee||x);){const Ce=t[L+1];GT(t[L],r)&&(ee=!0,t[L+1]=s?mp(Ce):fp(Ce)),L=s?Ui(Ce):ga(Ce)}ee&&(t[n+1]=s?fp(c):mp(c))}function GT(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&zi(t,r)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function ib(t,r){const n=Po.textEnd;let s=Po.key=vl(t,r,n);return n===s?-1:(s=Po.keyEnd=function qT(t,r,n){let s;for(;r<n&&(45===(s=t.charCodeAt(r))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)r++;return r}(t,s,n),s=lb(t,s,n),s=Po.value=vl(t,s,n),s=Po.valueEnd=function KT(t,r,n){let s=-1,c=-1,x=-1,L=r,ee=L;for(;L<n;){const ue=t.charCodeAt(L++);if(59===ue)return ee;34===ue||39===ue?ee=L=ub(t,ue,L,n):r===L-4&&85===x&&82===c&&76===s&&40===ue?ee=L=ub(t,41,L,n):ue>32&&(ee=L),x=c,c=s,s=-33&ue}return ee}(t,s,n),lb(t,s,n))}function vl(t,r,n){for(;r<n&&t.charCodeAt(r)<=32;)r++;return r}function lb(t,r,n,s){return(r=vl(t,r,n))<n&&r++,r}function ub(t,r,n,s){let c=-1,x=n;for(;x<s;){const L=t.charCodeAt(x++);if(L==r&&92!==c)return x;c=92==L&&92===c?0:L}throw new Error}function gp(t,r,n){const s=Er();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),gp}function yp(t,r,n,s,c){const L=c?"class":"style";Sf(t,n,r.inputs[L],L,s)}function vp(t,r){return function Qs(t,r,n,s){const c=Er(),x=gn(),L=Di(2);x.firstUpdatePass&&hb(x,t,L,s),r!==cn&&vo(c,L,r)&&pb(x,x.data[qo()],c,c[ln],t,c[L+1]=function sA(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Xn(Ti(t)))),t}(r,n),s,L)}(t,r,null,!0),vp}function Zs(t){!function ei(t,r,n,s){const c=gn(),x=Di(2);c.firstUpdatePass&&hb(c,null,x,s);const L=Er();if(n!==cn&&vo(L,x,n)){const ee=c.data[qo()];if(gb(ee,s)&&!db(c,x)){let ue=s?ee.classesWithoutHost:ee.stylesWithoutHost;null!==ue&&(n=Rs(ue,n||"")),yp(c,ee,L,n,s)}else!function oA(t,r,n,s,c,x,L,ee){c===cn&&(c=En);let ue=0,Ce=0,Fe=0<c.length?c[0]:null,Ke=0<x.length?x[0]:null;for(;null!==Fe||null!==Ke;){const Et=ue<c.length?c[ue+1]:void 0,Pt=Ce<x.length?x[Ce+1]:void 0;let dr,It=null;Fe===Ke?(ue+=2,Ce+=2,Et!==Pt&&(It=Ke,dr=Pt)):null===Ke||null!==Fe&&Fe<Ke?(ue+=2,It=Fe):(Ce+=2,It=Ke,dr=Pt),null!==It&&pb(t,r,n,s,It,dr,L,ee),Fe=ue<c.length?c[ue]:null,Ke=Ce<x.length?x[Ce]:null}}(c,ee,L,L[ln],L[x+1],L[x+1]=function rA(t,r,n){if(null==n||""===n)return En;const s=[],c=Ti(n);if(Array.isArray(c))for(let x=0;x<c.length;x++)t(s,c[x],!0);else if("object"==typeof c)for(const x in c)c.hasOwnProperty(x)&&t(s,x,c[x]);else"string"==typeof c&&r(s,c);return s}(t,r,n),s,x)}}(fb,YT,t,!1)}function YT(t,r){for(let n=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),ib(t,vl(t,0,Po.textEnd))}(r);n>=0;n=ib(r,n))fb(t,ob(r),HT(r))}function db(t,r){return r>=t.expandoStartIndex}function hb(t,r,n,s){const c=t.data;if(null===c[n+1]){const x=c[qo()],L=db(t,n);gb(x,s)&&null===r&&!L&&(r=!1),r=function ZT(t,r,n,s){const c=function gh(t){const r=un.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let x=s?r.residualClasses:r.residualStyles;if(null===c)0===(s?r.classBindings:r.styleBindings)&&(n=Du(n=bp(null,t,r,n,s),r.attrs,s),x=null);else{const L=r.directiveStylingLast;if(-1===L||t[L]!==c)if(n=bp(c,t,r,n,s),null===x){let ue=function QT(t,r,n){const s=n?r.classBindings:r.styleBindings;if(0!==ga(s))return t[Ui(s)]}(t,r,s);void 0!==ue&&Array.isArray(ue)&&(ue=bp(null,t,r,ue[1],s),ue=Du(ue,r.attrs,s),function eA(t,r,n,s){t[Ui(n?r.classBindings:r.styleBindings)]=s}(t,r,s,ue))}else x=function tA(t,r,n){let s;const c=r.directiveEnd;for(let x=1+r.directiveStylingLast;x<c;x++)s=Du(s,t[x].hostAttrs,n);return Du(s,r.attrs,n)}(t,r,s)}return void 0!==x&&(s?r.residualClasses=x:r.residualStyles=x),n}(c,x,r,s),function $T(t,r,n,s,c,x){let L=x?r.classBindings:r.styleBindings,ee=Ui(L),ue=ga(L);t[s]=n;let Fe,Ce=!1;if(Array.isArray(n)?(Fe=n[1],(null===Fe||zi(n,Fe)>0)&&(Ce=!0)):Fe=n,c)if(0!==ue){const Et=Ui(t[ee+1]);t[s+1]=fd(Et,ee),0!==Et&&(t[Et+1]=pp(t[Et+1],s)),t[ee+1]=function UT(t,r){return 131071&t|r<<17}(t[ee+1],s)}else t[s+1]=fd(ee,0),0!==ee&&(t[ee+1]=pp(t[ee+1],s)),ee=s;else t[s+1]=fd(ue,0),0===ee?ee=s:t[ue+1]=pp(t[ue+1],s),ue=s;Ce&&(t[s+1]=fp(t[s+1])),nb(t,Fe,s,!0),nb(t,Fe,s,!1),function VT(t,r,n,s,c){const x=c?t.residualClasses:t.residualStyles;null!=x&&"string"==typeof r&&zi(x,r)>=0&&(n[s+1]=mp(n[s+1]))}(r,Fe,t,s,x),L=fd(ee,ue),x?r.classBindings=L:r.styleBindings=L}(c,x,r,n,L,s)}}function bp(t,r,n,s,c){let x=null;const L=n.directiveEnd;let ee=n.directiveStylingLast;for(-1===ee?ee=n.directiveStart:ee++;ee<L&&(x=r[ee],s=Du(s,x.hostAttrs,c),x!==t);)ee++;return null!==t&&(n.directiveStylingLast=ee),s}function Du(t,r,n){const s=n?1:2;let c=-1;if(null!==r)for(let x=0;x<r.length;x++){const L=r[x];"number"==typeof L?c=L:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ns(t,L,!!n||r[++x]))}return void 0===t?null:t}function fb(t,r,n){ns(t,r,Ti(n))}function pb(t,r,n,s,c,x,L,ee){if(!(3&r.type))return;const ue=t.data,Ce=ue[ee+1],Fe=function BT(t){return!(1&~t)}(Ce)?mb(ue,r,n,c,ga(Ce),L):void 0;pd(Fe)||(pd(x)||function FT(t){return!(2&~t)}(Ce)&&(x=mb(ue,null,n,c,ee,L)),function _x(t,r,n,s,c){if(r)c?t.addClass(n,s):t.removeClass(n,s);else{let x=-1===s.indexOf("-")?void 0:Fc.DashCase;null==c?t.removeStyle(n,s,x):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),x|=Fc.Important),t.setStyle(n,s,c,x))}}(s,L,Rl(qo(),n),c,x))}function mb(t,r,n,s,c,x){const L=null===r;let ee;for(;c>0;){const ue=t[c],Ce=Array.isArray(ue),Fe=Ce?ue[1]:ue,Ke=null===Fe;let Et=n[c+1];Et===cn&&(Et=Ke?En:void 0);let Pt=Ke?zu(Et,s):Fe===s?Et:void 0;if(Ce&&!pd(Pt)&&(Pt=zu(ue,s)),pd(Pt)&&(ee=Pt,L))return ee;const It=t[c+1];c=L?Ui(It):ga(It)}if(null!==r){let ue=x?r.residualClasses:r.residualStyles;null!=ue&&(ee=zu(ue,s))}return ee}function pd(t){return void 0!==t}function gb(t,r){return!!(t.flags&(r?8:16))}function gd(t,r,n,s){const c=Er(),x=gn(),L=Zr+t,ee=c[ln],ue=x.firstCreatePass?function AA(t,r,n,s,c,x){const L=r.consts,ue=ua(r,t,2,s,$s(L,c));return vf(r,n,ue,$s(L,x)),null!==ue.attrs&&rd(ue,ue.attrs,!1),null!==ue.mergedAttrs&&rd(ue,ue.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ue),ue}(L,x,c,r,n,s):x.data[L],Ce=_b(x,c,ue,ee,r,t);c[L]=Ce;const Fe=ic(ue);return Ys(ue,!0),$y(ee,Ce,ue),!function rl(t){return!(32&~t.flags)}(ue)&&Ul()&&Vc(x,c,Ce,ue),0===function Vw(){return un.lFrame.elementDepthCount}()&&Qo(Ce,c),function Gw(){un.lFrame.elementDepthCount++}(),Fe&&(mf(x,c,ue),pf(x,ue,c)),null!==s&&gf(c,ue),gd}function yd(){let t=Hn();fh()?ph():(t=t.parent,Ys(t,!1));const r=t;(function zw(t){return un.skipHydrationRootTNode===t})(r)&&function Kw(){un.skipHydrationRootTNode=null}(),function Hw(){un.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(dc(n,t),nh(t)&&n.queries.elementEnd(t)),null!=r.classesWithoutHost&&function lS(t){return!!(8&t.flags)}(r)&&yp(n,r,Er(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function uS(t){return!!(16&t.flags)}(r)&&yp(n,r,Er(),r.stylesWithoutHost,!1),yd}function Ep(t,r,n,s){return gd(t,r,n,s),yd(),Ep}let _b=(t,r,n,s,c,x)=>(ci(!0),Uc(s,c,function Zm(){return un.lFrame.currentNamespace}()));function vd(t,r,n){const s=Er(),c=gn(),x=t+Zr,L=c.firstCreatePass?function jA(t,r,n,s,c){const x=r.consts,L=$s(x,s),ee=ua(r,t,8,"ng-container",L);return null!==L&&rd(ee,L,!0),vf(r,n,ee,$s(x,c)),null!==r.queries&&r.queries.elementStart(r,ee),ee}(x,c,s,r,n):c.data[x];Ys(L,!0);const ee=wb(c,s,L,t);return s[x]=ee,Ul()&&Vc(c,s,ee,L),Qo(ee,s),ic(L)&&(mf(c,s,L),pf(c,L,s)),null!=n&&gf(s,L),vd}function bd(){let t=Hn();const r=gn();return fh()?ph():(t=t.parent,Ys(t,!1)),r.firstCreatePass&&(dc(r,t),nh(t)&&r.queries.elementEnd(t)),bd}function xp(t,r,n){return vd(t,r,n),bd(),xp}let wb=(t,r,n,s)=>(ci(!0),sf(r[ln],""));function Sb(){return Er()}const ya=void 0;var RA=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kA(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let bl={};function Cp(t){const r=function NA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Db(r);if(n)return n;const s=r.split("-")[0];if(n=Db(s),n)return n;if("en"===s)return RA;throw new kr(701,!1)}function Cb(t){return Cp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,r,n)=>{};function Ap(t,r,n,s){const c=Er(),x=gn(),L=Hn();return Mp(x,c,c[ln],L,t,r,s),Ap}function Mp(t,r,n,s,c,x,L){const ee=ic(s),Ce=t.firstCreatePass&&rv(t),Fe=r[Zn],Ke=tv(r);let Et=!0;if(3&s.type||L){const dr=ss(s,r),Ar=L?L(dr):dr,jr=Ke.length,gr=L?dn=>L(jn(dn[s.index])):s.index;let tn=null;if(!L&&ee&&(tn=function E2(t,r,n,s){const c=t.cleanup;if(null!=c)for(let x=0;x<c.length-1;x+=2){const L=c[x];if(L===n&&c[x+1]===s){const ee=r[Yi],ue=c[x+2];return ee.length>ue?ee[ue]:null}"string"==typeof L&&(x+=2)}return null}(t,r,c,s.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=x,tn.__ngLastListenerFn__=x,Et=!1;else{x=Yb(s,r,Fe,x),Wb(dr,c,x);const dn=n.listen(Ar,c,x);Ke.push(x,dn),Ce&&Ce.push(c,gr,jr,jr+1)}}else x=Yb(s,r,Fe,x);const Pt=s.outputs;let It;if(Et&&null!==Pt&&(It=Pt[c])){const dr=It.length;if(dr)for(let Ar=0;Ar<dr;Ar+=2){const On=r[It[Ar]][It[Ar+1]].subscribe(x),Ko=Ke.length;Ke.push(x,On),Ce&&Ce.push(c,s.index,Ko,-(Ko+1))}}}function Kb(t,r,n,s){const c=ie(null);try{return ui(6,r,n),!1!==n(s)}catch(x){return Wc(t,x),!1}finally{ui(7,r,n),ie(c)}}function Yb(t,r,n,s){return function c(x){if(x===Function)return s;su(t.componentOffset>-1?Cs(t.index,r):r,5);let ee=Kb(r,n,s,x),ue=c.__ngNextListenerFn__;for(;ue;)ee=Kb(r,n,ue,x)&&ee,ue=ue.__ngNextListenerFn__;return ee}}function Jb(t=1){return function eS(t){return(un.lFrame.contextLView=function Rm(t,r){for(;t>0;)r=r[Pa],t--;return r}(t,un.lFrame.contextLView))[Zn]}(t)}function x2(t,r){let n=null;const s=function dm(t){const r=t.attrs;if(null!=r){const n=r.indexOf(5);if(!(1&n))return r[n+1]}return null}(t);for(let c=0;c<r.length;c++){const x=r[c];if("*"!==x){if(null===s?Zu(t,x,!0):pm(s,x))return c}else n=c}return n}function Zb(t){const r=Er()[ao][Xo];if(!r.projection){const s=r.projection=function Oi(t,r){const n=[];for(let s=0;s<t;s++)n.push(r);return n}(t?t.length:1,null),c=s.slice();let x=r.child;for(;null!==x;){if(128!==x.type){const L=t?x2(x,t):0;null!==L&&(c[L]?c[L].projectionNext=x:s[L]=x,c[L]=x)}x=x.next}}}function Qb(t,r=0,n,s,c,x){const L=Er(),ee=gn(),ue=s?t+1:null;null!==ue&&Su(L,ee,ue,s,c,x,null,n);const Ce=ua(ee,Zr+t,16,null,n||null);null===Ce.projection&&(Ce.projection=r),ph();const Ke=!L[os]||ea();null===L[ao][Xo].projection[Ce.projection]&&null!==ue?function C2(t,r,n){const s=Zr+n,c=r.data[s],x=t[s],L=ha(x,c.tView.ssrId);Za(x,Ja(t,c,void 0,{dehydratedView:L}),0,ca(c,L))}(L,ee,ue):Ke&&32&~Ce.flags&&function vx(t,r,n){Uy(r[ln],0,r,n,uf(t,n,r),Py(n.parent||r[Xo],n,r))}(ee,L,Ce)}function u_(t,r,n,s){!function e0(t,r,n,s){const c=gn();if(c.firstCreatePass){const x=Hn();t0(c,new Yv(r,n,s),x.index),function OD(t,r){const n=t.contentQueries||(t.contentQueries=[]);r!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,r)}(c,t),!(2&~n)&&(c.staticContentQueries=!0)}return Zv(c,Er(),n)}(t,r,n,s)}function c_(t,r,n){!function Qv(t,r,n){const s=gn();return s.firstCreatePass&&(t0(s,new Yv(t,r,n),-1),!(2&~r)&&(s.staticViewQueries=!0)),Zv(s,Er(),r)}(t,r,n)}function d_(t){const r=Er(),n=gn(),s=yh();cc(s+1);const c=qf(n,s);if(t.dirty&&function Bw(t){return!(4&~t[en])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const x=r0(r,s);t.reset(x,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function Xf(t,r){return t[ai].queries[r].queryList}(Er(),yh())}function f_(t){return function Qi(t,r){return t[r]}(function $m(){return un.lFrame.contextLView}(),Zr+t)}function E_(t,r=""){const n=Er(),s=gn(),c=t+Zr,x=s.firstCreatePass?ua(s,c,1,r,null):s.data[c],L=x_(s,n,x,r,t);n[c]=L,Ul()&&Vc(s,n,L,x),Ys(x,!1)}let x_=(t,r,n,s,c)=>(ci(!0),function nf(t,r){return t.createText(r)}(r[ln],s));function Op(t){return Ed("",t,""),Op}function Ed(t,r,n){const s=Er(),c=function cl(t,r,n,s){return vo(t,Js(),n)?r+an(n)+s:cn}(s,t,r,n);return c!==cn&&Mi(s,qo(),c),Ed}function Pp(t,r,n,s,c){const x=Er(),L=dl(x,t,r,n,s,c);return L!==cn&&Mi(x,qo(),L),Pp}function kp(t,r,n){a0(r)&&(r=r());const s=Er();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),kp}function O_(t,r){const n=a0(t);return n&&t.set(r),n}function Rp(t,r){const n=Er(),s=gn(),c=Hn();return Mp(s,n,n[ln],c,t,r),Rp}function Np(t,r,n,s,c){if(t=Hr(t),Array.isArray(t))for(let x=0;x<t.length;x++)Np(t[x],r,n,s,c);else{const x=gn(),L=Er(),ee=Hn();let ue=Ki(t)?t:Hr(t.provide);const Ce=vm(t),Fe=1048575&ee.providerIndexes,Ke=ee.directiveStart,Et=ee.providerIndexes>>20;if(Ki(t)||!t.multi){const Pt=new Bl(Ce,c,Ya),It=Fp(ue,r,c?Fe:Fe+Et,Ke);-1===It?(Dh(mc(ee,L),x,ue),Lp(x,t,r.length),r.push(ue),ee.directiveStart++,ee.directiveEnd++,c&&(ee.providerIndexes+=1048576),n.push(Pt),L.push(Pt)):(n[It]=Pt,L[It]=Pt)}else{const Pt=Fp(ue,r,Fe+Et,Ke),It=Fp(ue,r,Fe,Fe+Et),Ar=It>=0&&n[It];if(c&&!Ar||!c&&!(Pt>=0&&n[Pt])){Dh(mc(ee,L),x,ue);const jr=function z2(t,r,n,s,c){const x=new Bl(t,n,Ya);return x.multi=[],x.index=r,x.componentProviders=0,R_(x,c,s&&!n),x}(c?H2:G2,n.length,c,s,Ce);!c&&Ar&&(n[It].providerFactory=jr),Lp(x,t,r.length,0),r.push(ue),ee.directiveStart++,ee.directiveEnd++,c&&(ee.providerIndexes+=1048576),n.push(jr),L.push(jr)}else Lp(x,t,Pt>-1?Pt:It,R_(n[c?It:Pt],Ce,!c&&s));!c&&s&&Ar&&n[It].componentProviders++}}}function Lp(t,r,n,s){const c=Ki(r),x=function mw(t){return!!t.useClass}(r);if(c||x){const ue=(x?Hr(r.useClass):r).prototype.ngOnDestroy;if(ue){const Ce=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const Fe=Ce.indexOf(n);-1===Fe?Ce.push(n,[s,ue]):Ce[Fe+1].push(s,ue)}else Ce.push(n,ue)}}}function R_(t,r,n){return n&&t.componentProviders++,t.multi.push(r)-1}function Fp(t,r,n,s){for(let c=n;c<s;c++)if(r[c]===t)return c;return-1}function G2(t,r,n,s){return Up(this.multi,[])}function H2(t,r,n,s){const c=this.multi;let x;if(this.providerFactory){const L=this.providerFactory.componentProviders,ee=na(n,n[Nr],this.providerFactory.index,s);x=ee.slice(0,L),Up(c,x);for(let ue=L;ue<ee.length;ue++)x.push(ee[ue])}else x=[],Up(c,x);return x}function Up(t,r){for(let n=0;n<t.length;n++)r.push((0,t[n])());return r}function N_(t,r=[]){return n=>{n.providersResolver=(s,c)=>function V2(t,r,n){const s=gn();if(s.firstCreatePass){const c=Ks(t);Np(n,s.data,s.blueprint,c,!0),Np(r,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,r)}}let W2=(()=>{var t;class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=qi(0,s.type),x=c.length>0?Qf([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,x)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Lr({token:t,providedIn:"environment",factory:()=>new t(Yr(Us))}),r})();function L_(t){as("NgStandalone"),t.getStandaloneInjector=r=>r.get(W2).getOrCreateStandaloneInjector(t)}function B_(t,r,n){const s=function is(){const t=un.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=Er();return c[s]===cn?function mi(t,r,n){return t[r]=n}(c,s,n?r.call(n):r()):function wu(t,r){return t[r]}(c,s)}class a1{constructor(r){this.full=r;const n=r.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let l1=(()=>{var t;class r{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const h1=new $r(""),f1=new $r("");let Wp,sI=(()=>{var t;class r{constructor(s,c,x){this._ngZone=s,this.registry=c,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function iI(t){Wp=t}(x),x.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,x){let L=-1;c&&c>0&&(L=setTimeout(()=>{this._callbacks=this._callbacks.filter(ee=>ee.timeoutId!==L),s()},c)),this._callbacks.push({doneCb:s,timeoutId:L,updateCb:x})}whenStable(s,c,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,x),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,x){return[]}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(no),Yr(p1),Yr(f1))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac}),r})(),p1=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){var x,L;return null!==(x=null===(L=Wp)||void 0===L?void 0:L.findTestabilityInTree(this,s,c))&&void 0!==x?x:null}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new $r("");let qp=(()=>{var t;class r{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,x)=>{this.resolve=c,this.reject=x}),this.appInits=null!==(s=Rr(g1,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const x of this.appInits){const L=x();if(Xp(L))s.push(L);else if(m1(L)){const ee=new Promise((ue,Ce)=>{L.subscribe({complete:ue,error:Ce})});s.push(ee)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(x=>{this.reject(x)}),0===s.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Ad=new $r("");function b1(t,r){return Array.isArray(r)?r.reduce(b1,t):{...t,...r}}let ti=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rr(NS),this.afterRenderEffectManager=Rr(ed),this.zonelessEnabled=Rr(mu),this.externalTestViews=new Set,this.beforeRender=new nt.B,this.afterTick=new nt.B,this.componentTypes=[],this.components=[],this.isStable=Rr(oa).hasPendingTasks.pipe((0,Be.T)(s=>!s)),this._injector=Rr(Us)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const x=s instanceof kv;if(!this._injector.get(qp).done)throw!x&&fn(s),new kr(405,!1);let ee;ee=x?s:this._injector.get(gu).resolveComponentFactory(s),this.componentTypes.push(ee.componentType);const ue=function aI(t){return t.isBoundToModule}(ee)?void 0:this._injector.get(fa),Fe=ee.create(Bo.NULL,[],c||ee.selector,ue),Ke=Fe.location.nativeElement,Et=Fe.injector.get(h1,null);return null==Et||Et.registerApplication(Ke),Fe.onDestroy(()=>{this.detachView(Fe.hostView),Md(this.components,Fe),null==Et||Et.unregisterApplication(Ke)}),this._loadComponent(Fe),Fe}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new kr(101,!1);const c=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(x){this.internalErrorHandler(x)}finally{this._runningTick=!1,ie(c),this.afterTick.next()}}detectChangesInAttachedViews(s){let c=null;this._injector.destroyed||(c=this._injector.get(Nf,null,{optional:!0}));let x=0;const L=this.afterRenderEffectManager;for(;x<10;){const Pt=0===x;if(s||!Pt){this.beforeRender.next(Pt);for(let{_lView:It,notifyErrorHandler:dr}of this._views)uI(It,dr,Pt,this.zonelessEnabled)}else{var ee,ue,Ce,Fe,Ke,Et;null===(ee=c)||void 0===ee||null===(ue=(Ce=ee).begin)||void 0===ue||ue.call(Ce),null===(Fe=c)||void 0===Fe||null===(Ke=(Et=Fe).end)||void 0===Ke||Ke.call(Et)}if(x++,L.executeInternalCallbacks(),!this.allViews.some(({_lView:It})=>Ll(It))&&(L.execute(),!this.allViews.some(({_lView:It})=>Ll(It))))break}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;Md(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Ad,[]);[...this._bootstrapListeners,...c].forEach(x=>x(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Md(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new kr(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Md(t,r){const n=t.indexOf(r);n>-1&&t.splice(n,1)}function uI(t,r,n,s){(n||Ll(t))&&Xc(t,r,n&&!s?0:1)}class cI{constructor(r,n){this.ngModuleFactory=r,this.componentFactories=n}}let dI=(()=>{var t;class r{compileModuleSync(s){return new Zf(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),L=Ds(Jr(s).declarations).reduce((ee,ue)=>{const Ce=Yt(ue);return Ce&&ee.push(new bu(Ce)),ee},[]);return new cI(c,L)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),pI=(()=>{var t;class r{constructor(){this.zone=Rr(no),this.changeDetectionScheduler=Rr(el),this.applicationRef=Rr(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Kp({ngZoneFactory:t,ignoreChangesOutsideZone:r}){var n;return null!==(n=t)&&void 0!==n||(t=()=>new no(Yp())),[{provide:no,useFactory:t},{provide:Es,multi:!0,useFactory:()=>{const s=Rr(pI,{optional:!0});return()=>s.initialize()}},{provide:Es,multi:!0,useFactory:()=>{const s=Rr(gI);return()=>{s.initialize()}}},!0===r?{provide:Pv,useValue:!0}:[]]}function Yp(t){var r,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}let gI=(()=>{var t;class r{constructor(){this.subscription=new at.yU,this.initialized=!1,this.zone=Rr(no),this.pendingTasks=Rr(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;no.assertInAngularZone(),null!==(c=s)&&void 0!==c||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),Lu=(()=>{var t;class r{constructor(){var s;this.appRef=Rr(ti),this.taskService=Rr(oa),this.ngZone=Rr(no),this.zonelessEnabled=Rr(mu),this.disableScheduling=null!==(s=Rr(Pv,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Oh||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const c=this.useMicrotaskScheduler?Sg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&no.isInAngularZone())}tick(s){if(this.runningTick||this.appRef.destroyed)return;const c=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(s)},void 0,this.schedulerTickApplyArgs)}catch(x){throw this.taskService.remove(c),x}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(c)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const c=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(c)}}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Id=new $r("",{providedIn:"root",factory:()=>Rr(Id,mn.Optional|mn.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new $r("",{providedIn:"root",factory:()=>"USD"}),Zp=new $r("");let x1=(()=>{var t;class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const x=function RS(t="zone.js",r){return"noop"===t?new Oh:"zone.js"===t?new no(r):t}(null==c?void 0:c.ngZone,Yp({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return x.run(()=>{const ee=function QD(t,r,n){return new Jf(t,r,n)}(s.moduleType,this.injector,[...Kp({ngZoneFactory:()=>x,ignoreChangesOutsideZone:null==c?void 0:c.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),ue=ee.injector.get(fi,null);return x.runOutsideAngular(()=>{const Ce=x.onError.subscribe({next:Fe=>{ue.handleError(Fe)}});ee.onDestroy(()=>{Md(this._modules,ee),Ce.unsubscribe()})}),function v1(t,r,n){try{const s=n();return Xp(s)?s.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw r.runOutsideAngular(()=>t.handleError(s)),s}}(ue,x,()=>{const Ce=ee.injector.get(qp);return Ce.runInitializers(),Ce.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(ee.injector.get(Id,wl)||wl),this._moduleDoBootstrap(ee),ee))})})}bootstrapModule(s,c=[]){const x=b1({},c);return function fI(t,r,n){const s=new Zf(n);return Promise.resolve(s)}(0,0,s).then(L=>this.bootstrapModuleFactory(L,x))}_moduleDoBootstrap(s){const c=s.injector.get(ti);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(x=>c.bootstrap(x));else{if(!s.instance.ngDoBootstrap)throw new kr(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new kr(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(Zp,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(Bo))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Bi=null;const C1=new $r("");function D1(t,r,n=[]){const s=`Platform: ${r}`,c=new $r(s);return(x=[])=>{let L=Qp();if(!L||L.injector.get(C1,!1)){const ee=[...n,...x,{provide:c,useValue:!0}];t?t(ee):function _I(t){if(Bi&&!Bi.get(C1,!1))throw new kr(400,!1);(function y1(){!function Q(t){re=t}(()=>{throw new kr(600,!1)})})(),Bi=t;const r=t.get(x1);(function A1(t){const r=t.get(Xg,null);null==r||r.forEach(n=>n())})(t)}(function T1(t=[],r){return Bo.create({name:r,providers:[{provide:Jd,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Bi=null])},...t]})}(ee,s))}return function wI(t){const r=Qp();if(!r)throw new kr(401,!1);return r}()}}function Qp(){var t,r;return null!==(t=null===(r=Bi)||void 0===r?void 0:r.get(x1))&&void 0!==t?t:null}function EI(){}let I1=(()=>{class r{}return r.__NG_ELEMENT_ID__=xI,r})();function xI(t){return function CI(t,r,n){if(Zi(t)&&!n){const s=Cs(t.index,r);return new iu(s,s)}return 175&t.type?new iu(r[ao],r):null}(Hn(),Er(),!(16&~t))}class k1{constructor(){}supports(r){return id(r)}create(r){return new II(r)}}const MI=(t,r)=>r;class II{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||MI}forEachItem(r){let n;for(n=this._itHead;null!==n;n=n._next)r(n)}forEachOperation(r){let n=this._itHead,s=this._removalsHead,c=0,x=null;for(;n||s;){const L=!s||n&&n.currentIndex<N1(s,c,x)?n:s,ee=N1(L,c,x),ue=L.currentIndex;if(L===s)c--,s=s._nextRemoved;else if(n=n._next,null==L.previousIndex)c++;else{x||(x=[]);const Ce=ee-c,Fe=ue-c;if(Ce!=Fe){for(let Et=0;Et<Ce;Et++){const Pt=Et<x.length?x[Et]:x[Et]=0,It=Pt+Et;Fe<=It&&It<Ce&&(x[Et]=Pt+1)}x[L.previousIndex]=Fe-Ce}}ee!==ue&&r(L,ee,ue)}}forEachPreviousItem(r){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachMovedItem(r){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}forEachIdentityChange(r){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)r(n)}diff(r){if(null==r&&(r=[]),!id(r))throw new kr(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,x,L,n=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(let ee=0;ee<this.length;ee++)x=r[ee],L=this._trackByFn(ee,x),null!==n&&Object.is(n.trackById,L)?(s&&(n=this._verifyReinsertion(n,x,L,ee)),Object.is(n.item,x)||this._addIdentityChange(n,x)):(n=this._mismatch(n,x,L,ee),s=!0),n=n._next}else c=0,function rT(t,r){if(Array.isArray(t))for(let n=0;n<t.length;n++)r(t[n]);else{const n=t[Symbol.iterator]();let s;for(;!(s=n.next()).done;)r(s.value)}}(r,ee=>{L=this._trackByFn(c,ee),null!==n&&Object.is(n.trackById,L)?(s&&(n=this._verifyReinsertion(n,ee,L,c)),Object.is(n.item,ee)||this._addIdentityChange(n,ee)):(n=this._mismatch(n,ee,L,c),s=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,n,s,c){let x;return null===r?x=this._itTail:(x=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._reinsertAfter(r,x,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._moveAfter(r,x,c)):r=this._addAfter(new jI(n,s),x,c),r}_verifyReinsertion(r,n,s,c){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==x?r=this._reinsertAfter(x,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const n=r._next;this._addToRemovals(this._unlink(r)),r=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,x=r._nextRemoved;return null===c?this._removalsHead=x:c._nextRemoved=x,null===x?this._removalsTail=c:x._prevRemoved=c,this._insertAfter(r,n,s),this._addToMoves(r,s),r}_moveAfter(r,n,s){return this._unlink(r),this._insertAfter(r,n,s),this._addToMoves(r,s),r}_addAfter(r,n,s){return this._insertAfter(r,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,n,s){const c=null===n?this._itHead:n._next;return r._next=c,r._prev=n,null===c?this._itTail=r:c._prev=r,null===n?this._itHead=r:n._next=r,null===this._linkedRecords&&(this._linkedRecords=new R1),this._linkedRecords.put(r),r.currentIndex=s,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const n=r._prev,s=r._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,r}_addToMoves(r,n){return r.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new R1),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,n){return r.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class jI{constructor(r,n){this.item=r,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,r))return s;return null}remove(r){const n=r._prevDup,s=r._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class R1{constructor(){this.map=new Map}put(r){const n=r.trackById;let s=this.map.get(n);s||(s=new OI,this.map.set(n,s)),s.add(r)}get(r,n){const c=this.map.get(r);return c?c.get(r,n):null}remove(r){const n=r.trackById;return this.map.get(n).remove(r)&&this.map.delete(n),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,r,n){const s=t.previousIndex;if(null===s)return s;let c=0;return n&&s<n.length&&(c=n[s]),s+r+c}class L1{constructor(){}supports(r){return r instanceof Map||ep(r)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let n;for(n=this._mapHead;null!==n;n=n._next)r(n)}forEachPreviousItem(r){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)r(n)}forEachChangedItem(r){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}diff(r){if(r){if(!(r instanceof Map||ep(r)))throw new kr(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(r,(s,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const x=this._getOrCreateRecordForKey(c,s);n=this._insertBeforeOrAppend(n,x)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,n){if(r){const s=r._prev;return n._next=r,n._prev=s,r._prev=n,s&&(s._next=n),r===this._mapHead&&(this._mapHead=n),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(r,n){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,n);const x=c._prev,L=c._next;return x&&(x._next=L),L&&(L._prev=x),c._next=null,c._prev=null,c}const s=new kI(r);return this._records.set(r,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,n){Object.is(n,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=n,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,n){r instanceof Map?r.forEach(n):Object.keys(r).forEach(s=>n(r[s],s))}}class kI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new k1])}let om=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(null!=c){const x=c.factories.slice();s=s.concat(x)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||F1()),deps:[[r,new Ca,new co]]}}find(s){const c=this.factories.find(x=>x.supports(s));if(null!=c)return c;throw new kr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:F1}),r})();function U1(){return new sm([new L1])}let sm=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(c){const x=c.factories.slice();s=s.concat(x)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||U1()),deps:[[r,new Ca,new co]]}}find(s){const c=this.factories.find(x=>x.supports(s));if(c)return c;throw new kr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:U1}),r})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class r{constructor(s){}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(ti))},t.\u0275mod=rt({type:t}),t.\u0275inj=Wr({}),r})();const rw=new $r("");function bj(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wj(t,r){as("NgSignals");const n=function k(t){const r=Object.create(P);r.computation=t;const n=()=>{if(w(r),m(r),r.value===O)throw r.error;return r.value};return n[o]=r,n}(t);return null!=r&&r.equal&&(n[o].equal=r.equal),n}function Sj(t){const r=ie(null);try{return t()}finally{ie(r)}}function Aj(t,r){const n=Yt(t),s=r.elementInjector||tc();return new bu(n).create(s,r.projectableNodes,r.hostElement,r.environmentInjector)}function Mj(t){const r=Yt(t);if(!r)return null;const n=new bu(r);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4341:(Dr,rr,_e)=>{"use strict";_e.d(rr,{me:()=>y,YN:()=>vt,zX:()=>Go,VZ:()=>xo,cz:()=>G,kq:()=>a,vO:()=>pt,BC:()=>hr,vS:()=>Yo,Q0:()=>Is});var I=_e(3953),M=_e(177),et=_e(6648),St=_e(1985),o=_e(3073),ie=_e(8750),B=_e(9326),v=_e(4360),_=_e(6450),f=_e(8496),S=_e(1413),w=_e(6354);let i=(()=>{var ve;class ae{constructor(ge,Ge){this._renderer=ge,this._elementRef=Ge,this.onChange=Ut=>{},this.onTouched=()=>{}}setProperty(ge,Ge){this._renderer.setProperty(this._elementRef.nativeElement,ge,Ge)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(I.rXU(I.sFG),I.rXU(I.aKT))},ve.\u0275dir=I.FsC({type:ve}),ae})(),l=(()=>{var ve;class ae extends i{}return(ve=ae).\u0275fac=(()=>{let be;return function(Ge){return(be||(be=I.xGo(ve)))(Ge||ve)}})(),ve.\u0275dir=I.FsC({type:ve,features:[I.Vt3]}),ae})();const a=new I.nKC(""),h={provide:a,useExisting:(0,I.Rfq)(()=>y),multi:!0},p=new I.nKC("");let y=(()=>{var ve;class ae extends i{constructor(ge,Ge,Ut){super(ge,Ge),this._compositionMode=Ut,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g(){const ve=(0,M.QT)()?(0,M.QT)().getUserAgent():"";return/android (\d+)/.test(ve.toLowerCase())}())}writeValue(ge){this.setProperty("value",null==ge?"":ge)}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(I.rXU(I.sFG),I.rXU(I.aKT),I.rXU(p,8))},ve.\u0275dir=I.FsC({type:ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,Ge){1&ge&&I.bIt("input",function(Xt){return Ge._handleInput(Xt.target.value)})("blur",function(){return Ge.onTouched()})("compositionstart",function(){return Ge._compositionStart()})("compositionend",function(Xt){return Ge._compositionEnd(Xt.target.value)})},features:[I.Jv_([h]),I.Vt3]}),ae})();function T(ve){return null==ve||("string"==typeof ve||Array.isArray(ve))&&0===ve.length}const G=new I.nKC(""),N=new I.nKC("");function H(ve){return null}function Z(ve){return null!=ve}function le(ve){return(0,I.jNT)(ve)?(0,et.H)(ve):ve}function xe(ve){let ae={};return ve.forEach(be=>{ae=null!=be?{...ae,...be}:ae}),0===Object.keys(ae).length?null:ae}function q(ve,ae){return ae.map(be=>be(ve))}function oe(ve){return ve.map(ae=>function j(ve){return!ve.validate}(ae)?ae:be=>ae.validate(be))}function Se(ve){return null!=ve?function me(ve){if(!ve)return null;const ae=ve.filter(Z);return 0==ae.length?null:function(be){return xe(q(be,ae))}}(oe(ve)):null}function Xe(ve){return null!=ve?function Le(ve){if(!ve)return null;const ae=ve.filter(Z);return 0==ae.length?null:function(be){return function m(...ve){const ae=(0,B.ms)(ve),{args:be,keys:ge}=(0,o.D)(ve),Ge=new St.c(Ut=>{const{length:Xt}=be;if(!Xt)return void Ut.complete();const or=new Array(Xt);let Br=Xt,Lr=Xt;for(let zr=0;zr<Xt;zr++){let Wr=!1;(0,ie.Tg)(be[zr]).subscribe((0,v._)(Ut,Qr=>{Wr||(Wr=!0,Lr--),or[zr]=Qr},()=>Br--,void 0,()=>{(!Br||!Wr)&&(Lr||Ut.next(ge?(0,f.e)(ge,or):or),Ut.complete())}))}});return ae?Ge.pipe((0,_.I)(ae)):Ge}(q(be,ae).map(le)).pipe((0,w.T)(xe))}}(oe(ve)):null}function lt(ve,ae){return null===ve?[ae]:Array.isArray(ve)?[...ve,ae]:[ve,ae]}function at(ve){return ve?Array.isArray(ve)?ve:[ve]:[]}function Be(ve,ae){return Array.isArray(ve)?ve.includes(ae):ve===ae}function st(ve,ae){const be=at(ae);return at(ve).forEach(Ge=>{Be(be,Ge)||be.push(Ge)}),be}function Ye(ve,ae){return at(ae).filter(be=>!Be(ve,be))}class it{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae=void 0){this.control&&this.control.reset(ae)}hasError(ae,be){return!!this.control&&this.control.hasError(ae,be)}getError(ae,be){return this.control?this.control.getError(ae,be):null}}class Ze extends it{get formDirective(){return null}get path(){return null}}class pt extends it{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kt{constructor(ae){this._cd=ae}get isTouched(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._touched)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.touched)}get isUntouched(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.untouched)}get isPristine(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._pristine)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.pristine)}get isDirty(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.dirty)}get isValid(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._status)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.valid)}get isInvalid(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.invalid)}get isPending(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.pending)}get isSubmitted(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(be=ae._submitted)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||!ge.submitted)}}let hr=(()=>{var ve;class ae extends kt{constructor(ge){super(ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(I.rXU(pt,2))},ve.\u0275dir=I.FsC({type:ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,Ge){2&ge&&I.AVh("ng-untouched",Ge.isUntouched)("ng-touched",Ge.isTouched)("ng-pristine",Ge.isPristine)("ng-dirty",Ge.isDirty)("ng-valid",Ge.isValid)("ng-invalid",Ge.isInvalid)("ng-pending",Ge.isPending)},features:[I.Vt3]}),ae})();const yt="VALID",Nt="INVALID",bt="PENDING",Rt="DISABLED";class cr{}class ft extends cr{constructor(ae,be){super(),this.value=ae,this.source=be}}class xt extends cr{constructor(ae,be){super(),this.pristine=ae,this.source=be}}class tr extends cr{constructor(ae,be){super(),this.touched=ae,this.source=be}}class Zt extends cr{constructor(ae,be){super(),this.status=ae,this.source=be}}function pe(ve){return null!=ve&&!Array.isArray(ve)&&"object"==typeof ve}class A{constructor(ae,be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,I.EWP)(()=>this.statusReactive()),this.statusReactive=(0,I.vPA)(void 0),this._pristine=(0,I.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,I.vPA)(!0),this._touched=(0,I.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,I.vPA)(!1),this._events=new S.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ae),this._assignAsyncValidators(be)}get validator(){return this._composedValidatorFn}set validator(ae){this._rawValidators=this._composedValidatorFn=ae}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ae){this._rawAsyncValidators=this._composedAsyncValidatorFn=ae}get parent(){return this._parent}get status(){return(0,I.O8t)(this.statusReactive)}set status(ae){(0,I.O8t)(()=>this.statusReactive.set(ae))}get valid(){return this.status===yt}get invalid(){return this.status===Nt}get pending(){return this.status==bt}get disabled(){return this.status===Rt}get enabled(){return this.status!==Rt}get pristine(){return(0,I.O8t)(this.pristineReactive)}set pristine(ae){(0,I.O8t)(()=>this.pristineReactive.set(ae))}get dirty(){return!this.pristine}get touched(){return(0,I.O8t)(this.touchedReactive)}set touched(ae){(0,I.O8t)(()=>this.touchedReactive.set(ae))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ae){this._assignValidators(ae)}setAsyncValidators(ae){this._assignAsyncValidators(ae)}addValidators(ae){this.setValidators(st(ae,this._rawValidators))}addAsyncValidators(ae){this.setAsyncValidators(st(ae,this._rawAsyncValidators))}removeValidators(ae){this.setValidators(Ye(ae,this._rawValidators))}removeAsyncValidators(ae){this.setAsyncValidators(Ye(ae,this._rawAsyncValidators))}hasValidator(ae){return Be(this._rawValidators,ae)}hasAsyncValidator(ae){return Be(this._rawAsyncValidators,ae)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ae={}){var be;const ge=!1===this.touched;this.touched=!0;const Ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._parent&&!ae.onlySelf&&this._parent.markAsTouched({...ae,sourceControl:Ge}),ge&&!1!==ae.emitEvent&&this._events.next(new tr(!0,Ge))}markAllAsTouched(ae={}){this.markAsTouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:this}),this._forEachChild(be=>be.markAllAsTouched(ae))}markAsUntouched(ae={}){var be;const ge=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._forEachChild(Ut=>{Ut.markAsUntouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:Ge})}),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,Ge),ge&&!1!==ae.emitEvent&&this._events.next(new tr(!1,Ge))}markAsDirty(ae={}){var be;const ge=!0===this.pristine;this.pristine=!1;const Ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._parent&&!ae.onlySelf&&this._parent.markAsDirty({...ae,sourceControl:Ge}),ge&&!1!==ae.emitEvent&&this._events.next(new xt(!1,Ge))}markAsPristine(ae={}){var be;const ge=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._forEachChild(Ut=>{Ut.markAsPristine({onlySelf:!0,emitEvent:ae.emitEvent})}),this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,Ge),ge&&!1!==ae.emitEvent&&this._events.next(new xt(!0,Ge))}markAsPending(ae={}){var be;this.status=bt;const ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new Zt(this.status,ge)),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.markAsPending({...ae,sourceControl:ge})}disable(ae={}){var be;const ge=this._parentMarkedDirty(ae.onlySelf);this.status=Rt,this.errors=null,this._forEachChild(Ut=>{Ut.disable({...ae,onlySelf:!0})}),this._updateValue();const Ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new ft(this.value,Ge)),this._events.next(new Zt(this.status,Ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ae,skipPristineCheck:ge},this),this._onDisabledChange.forEach(Ut=>Ut(!0))}enable(ae={}){const be=this._parentMarkedDirty(ae.onlySelf);this.status=yt,this._forEachChild(ge=>{ge.enable({...ae,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent}),this._updateAncestors({...ae,skipPristineCheck:be},this),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ae,be){this._parent&&!ae.onlySelf&&(this._parent.updateValueAndValidity(ae),ae.skipPristineCheck||this._parent._updatePristine({},be),this._parent._updateTouched({},be))}setParent(ae){this._parent=ae}getRawValue(){return this.value}updateValueAndValidity(ae={}){var be;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ge=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yt||this.status===bt)&&this._runAsyncValidator(Ge,ae.emitEvent)}const ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new ft(this.value,ge)),this._events.next(new Zt(this.status,ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.updateValueAndValidity({...ae,sourceControl:ge})}_updateTreeValidity(ae={emitEvent:!0}){this._forEachChild(be=>be._updateTreeValidity(ae)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rt:yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ae,be){if(this.asyncValidator){this.status=bt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==be};const ge=le(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(Ge=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ge,{emitEvent:be,shouldHaveEmitted:ae})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ae,be;this._asyncValidationSubscription.unsubscribe();const ge=null!==(ae=null===(be=this._hasOwnPendingAsyncValidator)||void 0===be?void 0:be.emitEvent)&&void 0!==ae&&ae;return this._hasOwnPendingAsyncValidator=null,ge}return!1}setErrors(ae,be={}){this.errors=ae,this._updateControlsErrors(!1!==be.emitEvent,this,be.shouldHaveEmitted)}get(ae){let be=ae;return null==be||(Array.isArray(be)||(be=be.split(".")),0===be.length)?null:be.reduce((ge,Ge)=>ge&&ge._find(Ge),this)}getError(ae,be){const ge=be?this.get(be):this;return ge&&ge.errors?ge.errors[ae]:null}hasError(ae,be){return!!this.getError(ae,be)}get root(){let ae=this;for(;ae._parent;)ae=ae._parent;return ae}_updateControlsErrors(ae,be,ge){this.status=this._calculateStatus(),ae&&this.statusChanges.emit(this.status),(ae||ge)&&this._events.next(new Zt(this.status,be)),this._parent&&this._parent._updateControlsErrors(ae,be,ge)}_initObservables(){this.valueChanges=new I.bkB,this.statusChanges=new I.bkB}_calculateStatus(){return this._allControlsDisabled()?Rt:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bt)?bt:this._anyControlsHaveStatus(Nt)?Nt:yt}_anyControlsHaveStatus(ae){return this._anyControls(be=>be.status===ae)}_anyControlsDirty(){return this._anyControls(ae=>ae.dirty)}_anyControlsTouched(){return this._anyControls(ae=>ae.touched)}_updatePristine(ae,be){const ge=!this._anyControlsDirty(),Ge=this.pristine!==ge;this.pristine=ge,this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,be),Ge&&this._events.next(new xt(this.pristine,be))}_updateTouched(ae={},be){this.touched=this._anyControlsTouched(),this._events.next(new tr(this.touched,be)),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,be)}_registerOnCollectionChange(ae){this._onCollectionChange=ae}_setUpdateStrategy(ae){pe(ae)&&null!=ae.updateOn&&(this._updateOn=ae.updateOn)}_parentMarkedDirty(ae){return!ae&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ae){return null}_assignValidators(ae){this._rawValidators=Array.isArray(ae)?ae.slice():ae,this._composedValidatorFn=function xr(ve){return Array.isArray(ve)?Se(ve):ve||null}(this._rawValidators)}_assignAsyncValidators(ae){this._rawAsyncValidators=Array.isArray(ae)?ae.slice():ae,this._composedAsyncValidatorFn=function W(ve){return Array.isArray(ve)?Xe(ve):ve||null}(this._rawAsyncValidators)}}const Te=new I.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Je}),Je="always";function Wt(ve,ae,be=Je){var ge,Ge;(function $e(ve,ae){const be=function He(ve){return ve._rawValidators}(ve);null!==ae.validator?ve.setValidators(lt(be,ae.validator)):"function"==typeof be&&ve.setValidators([be]);const ge=function nt(ve){return ve._rawAsyncValidators}(ve);null!==ae.asyncValidator?ve.setAsyncValidators(lt(ge,ae.asyncValidator)):"function"==typeof ge&&ve.setAsyncValidators([ge]);const Ge=()=>ve.updateValueAndValidity();Ae(ae._rawValidators,Ge),Ae(ae._rawAsyncValidators,Ge)})(ve,ae),ae.valueAccessor.writeValue(ve.value),(ve.disabled||"always"===be)&&(null===(ge=(Ge=ae.valueAccessor).setDisabledState)||void 0===ge||ge.call(Ge,ve.disabled)),function Ft(ve,ae){ae.valueAccessor.registerOnChange(be=>{ve._pendingValue=be,ve._pendingChange=!0,ve._pendingDirty=!0,"change"===ve.updateOn&&vr(ve,ae)})}(ve,ae),function Pr(ve,ae){const be=(ge,Ge)=>{ae.valueAccessor.writeValue(ge),Ge&&ae.viewToModelUpdate(ge)};ve.registerOnChange(be),ae._registerOnDestroy(()=>{ve._unregisterOnChange(be)})}(ve,ae),function ur(ve,ae){ae.valueAccessor.registerOnTouched(()=>{ve._pendingTouched=!0,"blur"===ve.updateOn&&ve._pendingChange&&vr(ve,ae),"submit"!==ve.updateOn&&ve.markAsTouched()})}(ve,ae),function qe(ve,ae){if(ae.valueAccessor.setDisabledState){const be=ge=>{ae.valueAccessor.setDisabledState(ge)};ve.registerOnDisabledChange(be),ae._registerOnDestroy(()=>{ve._unregisterOnDisabledChange(be)})}}(ve,ae)}function Ae(ve,ae){ve.forEach(be=>{be.registerOnValidatorChange&&be.registerOnValidatorChange(ae)})}function vr(ve,ae){ve._pendingDirty&&ve.markAsDirty(),ve.setValue(ve._pendingValue,{emitModelToViewChange:!1}),ae.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1}function Vo(ve,ae){const be=ve.indexOf(ae);be>-1&&ve.splice(be,1)}function oo(ve){return"object"==typeof ve&&null!==ve&&2===Object.keys(ve).length&&"value"in ve&&"disabled"in ve}Promise.resolve();const cs=class extends A{constructor(ae=null,be,ge){super(function wr(ve){return(pe(ve)?ve.validators:ve)||null}(be),function Mr(ve,ae){return(pe(ae)?ae.asyncValidators:ve)||null}(ge,be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ae),this._setUpdateStrategy(be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pe(be)&&(be.nonNullable||be.initialValueIsDefault)&&(this.defaultValue=oo(ae)?ae.value:ae)}setValue(ae,be={}){this.value=this._pendingValue=ae,this._onChange.length&&!1!==be.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==be.emitViewToModelChange)),this.updateValueAndValidity(be)}patchValue(ae,be={}){this.setValue(ae,be)}reset(ae=this.defaultValue,be={}){this._applyFormState(ae),this.markAsPristine(be),this.markAsUntouched(be),this.setValue(this.value,be),this._pendingChange=!1}_updateValue(){}_anyControls(ae){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ae){this._onChange.push(ae)}_unregisterOnChange(ae){Vo(this._onChange,ae)}registerOnDisabledChange(ae){this._onDisabledChange.push(ae)}_unregisterOnDisabledChange(ae){Vo(this._onDisabledChange,ae)}_forEachChild(ae){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ae){oo(ae)?(this.value=this._pendingValue=ae.value,ae.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ae}},mo={provide:pt,useExisting:(0,I.Rfq)(()=>Yo)},ts=Promise.resolve();let Yo=(()=>{var ve;class ae extends pt{constructor(ge,Ge,Ut,Xt,or,Br){super(),this._changeDetectorRef=or,this.callSetDisabledState=Br,this.control=new cs,this._registered=!1,this.name="",this.update=new I.bkB,this._parent=ge,this._setValidators(Ge),this._setAsyncValidators(Ut),this.valueAccessor=function eo(ve,ae){if(!ae)return null;let be,ge,Ge;return Array.isArray(ae),ae.forEach(Ut=>{Ut.constructor===y?be=Ut:function Ln(ve){return Object.getPrototypeOf(ve.constructor)===l}(Ut)?ge=Ut:Ge=Ut}),Ge||ge||be||null}(0,Xt)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const Ge=ge.name.previousValue;this.formDirective.removeControl({name:Ge,path:this._getPath(Ge)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),function bn(ve,ae){if(!ve.hasOwnProperty("model"))return!1;const be=ve.model;return!!be.isFirstChange()||!Object.is(ae,be.currentValue)}(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){ts.then(()=>{var Ge;this.control.setValue(ge,{emitViewToModelChange:!1}),null===(Ge=this._changeDetectorRef)||void 0===Ge||Ge.markForCheck()})}_updateDisabled(ge){const Ge=ge.isDisabled.currentValue,Ut=0!==Ge&&(0,I.L39)(Ge);ts.then(()=>{var Xt;Ut&&!this.control.disabled?this.control.disable():!Ut&&this.control.disabled&&this.control.enable(),null===(Xt=this._changeDetectorRef)||void 0===Xt||Xt.markForCheck()})}_getPath(ge){return this._parent?function gt(ve,ae){return[...ae.path,ve]}(ge,this._parent):[ge]}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(I.rXU(Ze,9),I.rXU(G,10),I.rXU(N,10),I.rXU(a,10),I.rXU(I.gRc,8),I.rXU(Te,8))},ve.\u0275dir=I.FsC({type:ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[I.Jv_([mo]),I.Vt3,I.OA$]}),ae})();const Ms={provide:a,useExisting:(0,I.Rfq)(()=>Is),multi:!0};let Is=(()=>{var ve;class ae extends l{writeValue(ge){this.setProperty("value",null==ge?"":ge)}registerOnChange(ge){this.onChange=Ge=>{ge(""==Ge?null:parseFloat(Ge))}}}return(ve=ae).\u0275fac=(()=>{let be;return function(Ge){return(be||(be=I.xGo(ve)))(Ge||ve)}})(),ve.\u0275dir=I.FsC({type:ve,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ge,Ge){1&ge&&I.bIt("input",function(Xt){return Ge.onChange(Xt.target.value)})("blur",function(){return Ge.onTouched()})},features:[I.Jv_([Ms]),I.Vt3]}),ae})();function ho(ve){return"number"==typeof ve?ve:parseFloat(ve)}let Bn=(()=>{var ve;class ae{constructor(){this._validator=H}ngOnChanges(ge){if(this.inputName in ge){const Ge=this.normalizeInput(ge[this.inputName].currentValue);this._enabled=this.enabled(Ge),this._validator=this._enabled?this.createValidator(Ge):H,this._onChange&&this._onChange()}}validate(ge){return this._validator(ge)}registerOnValidatorChange(ge){this._onChange=ge}enabled(ge){return null!=ge}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275dir=I.FsC({type:ve,features:[I.OA$]}),ae})();const Vr={provide:G,useExisting:(0,I.Rfq)(()=>Go),multi:!0};let Go=(()=>{var ve;class ae extends Bn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function O(ve){return ae=>{if(T(ae.value)||T(ve))return null;const be=parseFloat(ae.value);return!isNaN(be)&&be>ve?{max:{max:ve,actual:ae.value}}:null}}(ge)}}return(ve=ae).\u0275fac=(()=>{let be;return function(Ge){return(be||(be=I.xGo(ve)))(Ge||ve)}})(),ve.\u0275dir=I.FsC({type:ve,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ge,Ge){2&ge&&I.BMQ("max",Ge._enabled?Ge.max:null)},inputs:{max:"max"},features:[I.Jv_([Vr]),I.Vt3]}),ae})();const Jo={provide:G,useExisting:(0,I.Rfq)(()=>xo),multi:!0};let xo=(()=>{var ve;class ae extends Bn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function D(ve){return ae=>{if(T(ae.value)||T(ve))return null;const be=parseFloat(ae.value);return!isNaN(be)&&be<ve?{min:{min:ve,actual:ae.value}}:null}}(ge)}}return(ve=ae).\u0275fac=(()=>{let be;return function(Ge){return(be||(be=I.xGo(ve)))(Ge||ve)}})(),ve.\u0275dir=I.FsC({type:ve,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ge,Ge){2&ge&&I.BMQ("min",Ge._enabled?Ge.min:null)},inputs:{min:"min"},features:[I.Jv_([Jo]),I.Vt3]}),ae})(),E=(()=>{var ve;class ae{}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=I.$C({type:ve}),ve.\u0275inj=I.G2t({}),ae})(),vt=(()=>{var ve;class ae{static withConfig(ge){var Ge;return{ngModule:ae,providers:[{provide:Te,useValue:null!==(Ge=ge.callSetDisabledState)&&void 0!==Ge?Ge:Je}]}}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=I.$C({type:ve}),ve.\u0275inj=I.G2t({imports:[E]}),ae})()},345:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Bb:()=>at,hE:()=>Ye,sG:()=>Xe,up:()=>Ve});var I=_e(177),M=_e(3953);class et extends I.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class St extends et{static makeCurrent(){(0,I.ZD)(new St)}onAndCancel(yt,Nt,bt){return yt.addEventListener(Nt,bt),()=>{yt.removeEventListener(Nt,bt)}}dispatchEvent(yt,Nt){yt.dispatchEvent(Nt)}remove(yt){yt.parentNode&&yt.parentNode.removeChild(yt)}createElement(yt,Nt){return(Nt=Nt||this.getDefaultDocument()).createElement(yt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(yt){return yt.nodeType===Node.ELEMENT_NODE}isShadowRoot(yt){return yt instanceof DocumentFragment}getGlobalEventTarget(yt,Nt){return"window"===Nt?window:"document"===Nt?yt:"body"===Nt?yt.body:null}getBaseHref(yt){const Nt=function ie(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==Nt?null:function B(Dt){return new URL(Dt,document.baseURI).pathname}(Nt)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(yt){return(0,I._b)(document.cookie,yt)}}let o=null,_=(()=>{var Dt;class yt{build(){return new XMLHttpRequest}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})();const f=new M.nKC("");let m=(()=>{var Dt;class yt{constructor(bt,Rt){this._zone=Rt,this._eventNameToPlugin=new Map,bt.forEach(cr=>{cr.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,Rt,cr){return this._findPluginFor(Rt).addEventListener(bt,Rt,cr)}getZone(){return this._zone}_findPluginFor(bt){let Rt=this._eventNameToPlugin.get(bt);if(Rt)return Rt;if(Rt=this._plugins.find(ft=>ft.supports(bt)),!Rt)throw new M.wOt(5101,!1);return this._eventNameToPlugin.set(bt,Rt),Rt}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(f),M.KVO(M.SKi))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})();class S{constructor(yt){this._doc=yt}}const w="ng-app-id";let i=(()=>{var Dt;class yt{constructor(bt,Rt,cr,ft={}){this.doc=bt,this.appId=Rt,this.nonce=cr,this.platformId=ft,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,I.Vy)(ft),this.resetHostNodes()}addStyles(bt){for(const Rt of bt)1===this.changeUsageCount(Rt,1)&&this.onStyleAdded(Rt)}removeStyles(bt){for(const Rt of bt)this.changeUsageCount(Rt,-1)<=0&&this.onStyleRemoved(Rt)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(Rt=>Rt.remove()),bt.clear());for(const Rt of this.getAllStyles())this.onStyleRemoved(Rt);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const Rt of this.getAllStyles())this.addStyleToHost(bt,Rt)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const Rt of this.hostNodes)this.addStyleToHost(Rt,bt)}onStyleRemoved(bt){var Rt;const cr=this.styleRef;null===(Rt=cr.get(bt))||void 0===Rt||null===(Rt=Rt.elements)||void 0===Rt||Rt.forEach(ft=>ft.remove()),cr.delete(bt)}collectServerRenderedStyles(){var bt;const Rt=null===(bt=this.doc.head)||void 0===bt?void 0:bt.querySelectorAll(`style[${w}="${this.appId}"]`);if(null!=Rt&&Rt.length){const cr=new Map;return Rt.forEach(ft=>{null!=ft.textContent&&cr.set(ft.textContent,ft)}),cr}return null}changeUsageCount(bt,Rt){const cr=this.styleRef;if(cr.has(bt)){const ft=cr.get(bt);return ft.usage+=Rt,ft.usage}return cr.set(bt,{usage:Rt,elements:[]}),Rt}getStyleElement(bt,Rt){const cr=this.styleNodesInDOM,ft=null==cr?void 0:cr.get(Rt);if((null==ft?void 0:ft.parentNode)===bt)return cr.delete(Rt),ft.removeAttribute(w),ft;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=Rt,this.platformIsServer&&xt.setAttribute(w,this.appId),bt.appendChild(xt),xt}}addStyleToHost(bt,Rt){var cr;const ft=this.getStyleElement(bt,Rt),xt=this.styleRef,tr=null===(cr=xt.get(Rt))||void 0===cr?void 0:cr.elements;tr?tr.push(ft):xt.set(Rt,{elements:[ft],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(I.qQ),M.KVO(M.sZ2),M.KVO(M.BIS,8),M.KVO(M.Agw))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a=/%COMP%/g,u="%COMP%",d=`_nghost-${u}`,h=`_ngcontent-${u}`,p=new M.nKC("",{providedIn:"root",factory:()=>!0});function z(Dt,yt){return yt.map(Nt=>Nt.replace(a,Dt))}let G=(()=>{var Dt;class yt{constructor(bt,Rt,cr,ft,xt,tr,Zt,lr=null){this.eventManager=bt,this.sharedStylesHost=Rt,this.appId=cr,this.removeStylesOnCompDestroy=ft,this.doc=xt,this.platformId=tr,this.ngZone=Zt,this.nonce=lr,this.rendererByCompId=new Map,this.platformIsServer=(0,I.Vy)(tr),this.defaultRenderer=new N(bt,xt,Zt,this.platformIsServer)}createRenderer(bt,Rt){if(!bt||!Rt)return this.defaultRenderer;this.platformIsServer&&Rt.encapsulation===M.gXe.ShadowDom&&(Rt={...Rt,encapsulation:M.gXe.Emulated});const cr=this.getOrCreateRenderer(bt,Rt);return cr instanceof J?cr.applyToHost(bt):cr instanceof P&&cr.applyStyles(),cr}getOrCreateRenderer(bt,Rt){const cr=this.rendererByCompId;let ft=cr.get(Rt.id);if(!ft){const xt=this.doc,tr=this.ngZone,Zt=this.eventManager,lr=this.sharedStylesHost,yr=this.removeStylesOnCompDestroy,wr=this.platformIsServer;switch(Rt.encapsulation){case M.gXe.Emulated:ft=new J(Zt,lr,Rt,this.appId,yr,xt,tr,wr);break;case M.gXe.ShadowDom:return new O(Zt,lr,bt,Rt,xt,tr,this.nonce,wr);default:ft=new P(Zt,lr,Rt,yr,xt,tr,wr)}cr.set(Rt.id,ft)}return ft}ngOnDestroy(){this.rendererByCompId.clear()}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(m),M.KVO(i),M.KVO(M.sZ2),M.KVO(p),M.KVO(I.qQ),M.KVO(M.Agw),M.KVO(M.SKi),M.KVO(M.BIS))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})();class N{constructor(yt,Nt,bt,Rt){this.eventManager=yt,this.doc=Nt,this.ngZone=bt,this.platformIsServer=Rt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(yt,Nt){return Nt?this.doc.createElementNS(l[Nt]||Nt,yt):this.doc.createElement(yt)}createComment(yt){return this.doc.createComment(yt)}createText(yt){return this.doc.createTextNode(yt)}appendChild(yt,Nt){(D(yt)?yt.content:yt).appendChild(Nt)}insertBefore(yt,Nt,bt){yt&&(D(yt)?yt.content:yt).insertBefore(Nt,bt)}removeChild(yt,Nt){yt&&yt.removeChild(Nt)}selectRootElement(yt,Nt){let bt="string"==typeof yt?this.doc.querySelector(yt):yt;if(!bt)throw new M.wOt(-5104,!1);return Nt||(bt.textContent=""),bt}parentNode(yt){return yt.parentNode}nextSibling(yt){return yt.nextSibling}setAttribute(yt,Nt,bt,Rt){if(Rt){Nt=Rt+":"+Nt;const cr=l[Rt];cr?yt.setAttributeNS(cr,Nt,bt):yt.setAttribute(Nt,bt)}else yt.setAttribute(Nt,bt)}removeAttribute(yt,Nt,bt){if(bt){const Rt=l[bt];Rt?yt.removeAttributeNS(Rt,Nt):yt.removeAttribute(`${bt}:${Nt}`)}else yt.removeAttribute(Nt)}addClass(yt,Nt){yt.classList.add(Nt)}removeClass(yt,Nt){yt.classList.remove(Nt)}setStyle(yt,Nt,bt,Rt){Rt&(M.czy.DashCase|M.czy.Important)?yt.style.setProperty(Nt,bt,Rt&M.czy.Important?"important":""):yt.style[Nt]=bt}removeStyle(yt,Nt,bt){bt&M.czy.DashCase?yt.style.removeProperty(Nt):yt.style[Nt]=""}setProperty(yt,Nt,bt){null!=yt&&(yt[Nt]=bt)}setValue(yt,Nt){yt.nodeValue=Nt}listen(yt,Nt,bt){if("string"==typeof yt&&!(yt=(0,I.QT)().getGlobalEventTarget(this.doc,yt)))throw new Error(`Unsupported event target ${yt} for event ${Nt}`);return this.eventManager.addEventListener(yt,Nt,this.decoratePreventDefault(bt))}decoratePreventDefault(yt){return Nt=>{if("__ngUnwrap__"===Nt)return yt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>yt(Nt)):yt(Nt))&&Nt.preventDefault()}}}function D(Dt){return"TEMPLATE"===Dt.tagName&&void 0!==Dt.content}class O extends N{constructor(yt,Nt,bt,Rt,cr,ft,xt,tr){super(yt,cr,ft,tr),this.sharedStylesHost=Nt,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=z(Rt.id,Rt.styles);for(const lr of Zt){const yr=document.createElement("style");xt&&yr.setAttribute("nonce",xt),yr.textContent=lr,this.shadowRoot.appendChild(yr)}}nodeOrShadowRoot(yt){return yt===this.hostEl?this.shadowRoot:yt}appendChild(yt,Nt){return super.appendChild(this.nodeOrShadowRoot(yt),Nt)}insertBefore(yt,Nt,bt){return super.insertBefore(this.nodeOrShadowRoot(yt),Nt,bt)}removeChild(yt,Nt){return super.removeChild(this.nodeOrShadowRoot(yt),Nt)}parentNode(yt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(yt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class P extends N{constructor(yt,Nt,bt,Rt,cr,ft,xt,tr){super(yt,cr,ft,xt),this.sharedStylesHost=Nt,this.removeStylesOnCompDestroy=Rt,this.styles=tr?z(tr,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J extends P{constructor(yt,Nt,bt,Rt,cr,ft,xt,tr){const Zt=Rt+"-"+bt.id;super(yt,Nt,bt,cr,ft,xt,tr,Zt),this.contentAttr=function y(Dt){return h.replace(a,Dt)}(Zt),this.hostAttr=function T(Dt){return d.replace(a,Dt)}(Zt)}applyToHost(yt){this.applyStyles(),this.setAttribute(yt,this.hostAttr,"")}createElement(yt,Nt){const bt=super.createElement(yt,Nt);return super.setAttribute(bt,this.contentAttr,""),bt}}let re=(()=>{var Dt;class yt extends S{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,Rt,cr){return bt.addEventListener(Rt,cr,!1),()=>this.removeEventListener(bt,Rt,cr)}removeEventListener(bt,Rt,cr){return bt.removeEventListener(Rt,cr)}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(I.qQ))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})(),$=(()=>{var Dt;class yt extends S{constructor(bt){super(bt),this.delegate=(0,M.WQX)(M.zAP,{optional:!0})}supports(bt){return!!this.delegate&&this.delegate.supports(bt)}addEventListener(bt,Rt,cr){return this.delegate.addEventListener(bt,Rt,cr)}removeEventListener(bt,Rt,cr){return this.delegate.removeEventListener(bt,Rt,cr)}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(I.qQ))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})();const Q=["alt","control","meta","shift"],V={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let Z=(()=>{var Dt;class yt extends S{constructor(bt){super(bt)}supports(bt){return null!=yt.parseEventName(bt)}addEventListener(bt,Rt,cr){const ft=yt.parseEventName(Rt),xt=yt.eventCallback(ft.fullKey,cr,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.QT)().onAndCancel(bt,ft.domEventName,xt))}static parseEventName(bt){const Rt=bt.toLowerCase().split("."),cr=Rt.shift();if(0===Rt.length||"keydown"!==cr&&"keyup"!==cr)return null;const ft=yt._normalizeKey(Rt.pop());let xt="",tr=Rt.indexOf("code");if(tr>-1&&(Rt.splice(tr,1),xt="code."),Q.forEach(lr=>{const yr=Rt.indexOf(lr);yr>-1&&(Rt.splice(yr,1),xt+=lr+".")}),xt+=ft,0!=Rt.length||0===ft.length)return null;const Zt={};return Zt.domEventName=cr,Zt.fullKey=xt,Zt}static matchEventFullKeyCode(bt,Rt){let cr=V[bt.key]||bt.key,ft="";return Rt.indexOf("code.")>-1&&(cr=bt.code,ft="code."),!(null==cr||!cr)&&(cr=cr.toLowerCase()," "===cr?cr="space":"."===cr&&(cr="dot"),Q.forEach(xt=>{xt!==cr&&(0,H[xt])(bt)&&(ft+=xt+".")}),ft+=cr,ft===Rt)}static eventCallback(bt,Rt,cr){return ft=>{yt.matchEventFullKeyCode(ft,bt)&&cr.runGuarded(()=>Rt(ft))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(I.qQ))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac}),yt})();const Xe=(0,M.oH4)(M.fpN,"browser",[{provide:M.Agw,useValue:I.AJ},{provide:M.PLl,useValue:function oe(){St.makeCurrent()},multi:!0},{provide:I.qQ,useFactory:function Se(){return(0,M.TL$)(document),document},deps:[]}]),lt=new M.nKC(""),He=[{provide:M.e01,useClass:class v{addToWindow(yt){M.JZv.getAngularTestability=(bt,Rt=!0)=>{const cr=yt.findTestabilityInTree(bt,Rt);if(null==cr)throw new M.wOt(5103,!1);return cr},M.JZv.getAllAngularTestabilities=()=>yt.getAllTestabilities(),M.JZv.getAllAngularRootElements=()=>yt.getAllRootElements(),M.JZv.frameworkStabilizers||(M.JZv.frameworkStabilizers=[]),M.JZv.frameworkStabilizers.push(bt=>{const Rt=M.JZv.getAllAngularTestabilities();let cr=Rt.length;const ft=function(){cr--,0==cr&&bt()};Rt.forEach(xt=>{xt.whenStable(ft)})})}findTestabilityInTree(yt,Nt,bt){if(null==Nt)return null;const Rt=yt.getTestability(Nt);return null!=Rt?Rt:bt?(0,I.QT)().isShadowRoot(Nt)?this.findTestabilityInTree(yt,Nt.host,!0):this.findTestabilityInTree(yt,Nt.parentElement,!0):null}},deps:[]},{provide:M.WHO,useClass:M.NYb,deps:[M.SKi,M.giA,M.e01]},{provide:M.NYb,useClass:M.NYb,deps:[M.SKi,M.giA,M.e01]}],nt=[{provide:M.H8p,useValue:"root"},{provide:M.zcH,useFactory:function me(){return new M.zcH},deps:[]},{provide:f,useClass:re,multi:!0,deps:[I.qQ,M.SKi,M.Agw]},{provide:f,useClass:Z,multi:!0,deps:[I.qQ]},{provide:f,useClass:$,multi:!0},G,i,m,{provide:M._9s,useExisting:G},{provide:I.N0,useClass:_,deps:[]},[]];let at=(()=>{var Dt;class yt{constructor(bt){}static withServerTransition(bt){return{ngModule:yt,providers:[{provide:M.sZ2,useValue:bt.appId}]}}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(lt,12))},Dt.\u0275mod=M.$C({type:Dt}),Dt.\u0275inj=M.G2t({providers:[...nt,...He],imports:[I.MD,M.Hbi]}),yt})(),Ye=(()=>{var Dt;class yt{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(I.qQ))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),yt})(),Ve=(()=>{var Dt;class yt{}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)},Dt.\u0275prov=M.jDH({token:Dt,factory:function(bt){let Rt=null;return Rt=bt?new(bt||Dt):M.KVO(We),Rt},providedIn:"root"}),yt})(),We=(()=>{var Dt;class yt extends Ve{constructor(bt){super(),this._doc=bt}sanitize(bt,Rt){if(null==Rt)return null;switch(bt){case M.WPN.NONE:return Rt;case M.WPN.HTML:return(0,M.ZF7)(Rt,"HTML")?(0,M.rcV)(Rt):(0,M.h9k)(this._doc,String(Rt)).toString();case M.WPN.STYLE:return(0,M.ZF7)(Rt,"Style")?(0,M.rcV)(Rt):Rt;case M.WPN.SCRIPT:if((0,M.ZF7)(Rt,"Script"))return(0,M.rcV)(Rt);throw new M.wOt(5200,!1);case M.WPN.URL:return(0,M.ZF7)(Rt,"URL")?(0,M.rcV)(Rt):(0,M.$MX)(String(Rt));case M.WPN.RESOURCE_URL:if((0,M.ZF7)(Rt,"ResourceURL"))return(0,M.rcV)(Rt);throw new M.wOt(5201,!1);default:throw new M.wOt(5202,!1)}}bypassSecurityTrustHtml(bt){return(0,M.Kcf)(bt)}bypassSecurityTrustStyle(bt){return(0,M.cWb)(bt)}bypassSecurityTrustScript(bt){return(0,M.UyX)(bt)}bypassSecurityTrustUrl(bt){return(0,M.osQ)(bt)}bypassSecurityTrustResourceUrl(bt){return(0,M.e5t)(bt)}}return(Dt=yt).\u0275fac=function(bt){return new(bt||Dt)(M.KVO(I.qQ))},Dt.\u0275prov=M.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),yt})()},9858:(Dr,rr,_e)=>{"use strict";_e.d(rr,{nX:()=>Fr,Zp:()=>At,Z:()=>Gn,Xk:()=>He,Kp:()=>ji,b:()=>Yr,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>nr});var I=_e(3953),M=_e(1985),et=_e(8071),o=_e(6648),ie=_e(7673),B=_e(4412),v=_e(4572);const f=(0,_e(1853).L)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"});var m=_e(8793),S=_e(9030),w=_e(1203),i=_e(8810),l=_e(983),a=_e(17),u=_e(1413),d=_e(8359),h=_e(177),g=_e(6354),p=_e(5558),y=_e(6697),T=_e(9326),z=_e(9974),N=_e(5964),k=_e(1397),X=_e(4360);function D(se){return(0,z.N)((he,we)=>{let de=!1;he.subscribe((0,X._)(we,De=>{de=!0,we.next(De)},()=>{de||we.next(se),we.complete()}))})}function O(se=P){return(0,z.N)((he,we)=>{let de=!1;he.subscribe((0,X._)(we,De=>{de=!0,we.next(De)},()=>de?we.complete():we.error(se())))})}function P(){return new f}var J=_e(3669);function re(se,he){const we=arguments.length>=2;return de=>de.pipe(se?(0,N.p)((De,rt)=>se(De,rt,de)):J.D,(0,y.s)(1),we?D(he):O(()=>new f))}function $(se,he){return(0,et.T)(he)?(0,k.Z)(se,he,1):(0,k.Z)(se,1)}var Q=_e(8141),V=_e(8750);function H(se){return(0,z.N)((he,we)=>{let rt,de=null,De=!1;de=he.subscribe((0,X._)(we,void 0,void 0,dt=>{rt=(0,V.Tg)(se(dt,H(se)(he))),de?(de.unsubscribe(),de=null,rt.subscribe(we)):De=!0})),De&&(de.unsubscribe(),de=null,rt.subscribe(we))})}function xe(se){return se<=0?()=>l.w:(0,z.N)((he,we)=>{let de=[];he.subscribe((0,X._)(we,De=>{de.push(De),se<de.length&&de.shift()},()=>{for(const De of de)we.next(De);we.complete()},void 0,()=>{de=null}))})}var j=_e(3703);function oe(se){return(0,z.N)((he,we)=>{try{he.subscribe(we)}finally{we.add(se)}})}var me=_e(9898),Se=_e(5343),Xe=_e(6365),lt=_e(345);const He="primary",nt=Symbol("RouteTitle");class at{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const we=this.params[he];return Array.isArray(we)?we[0]:we}return null}getAll(he){if(this.has(he)){const we=this.params[he];return Array.isArray(we)?we:[we]}return[]}get keys(){return Object.keys(this.params)}}function Be(se){return new at(se)}function st(se,he,we){const de=we.path.split("/");if(de.length>se.length||"full"===we.pathMatch&&(he.hasChildren()||de.length<se.length))return null;const De={};for(let rt=0;rt<de.length;rt++){const dt=de[rt],sr=se[rt];if(":"===dt[0])De[dt.substring(1)]=sr;else if(dt!==sr.path)return null}return{consumed:se.slice(0,de.length),posParams:De}}function it(se,he){const we=se?Ze(se):void 0,de=he?Ze(he):void 0;if(!we||!de||we.length!=de.length)return!1;let De;for(let rt=0;rt<we.length;rt++)if(De=we[rt],!pt(se[De],he[De]))return!1;return!0}function Ze(se){return[...Object.keys(se),...Object.getOwnPropertySymbols(se)]}function pt(se,he){if(Array.isArray(se)&&Array.isArray(he)){if(se.length!==he.length)return!1;const we=[...se].sort(),de=[...he].sort();return we.every((De,rt)=>de[rt]===De)}return se===he}function kt(se){return se.length>0?se[se.length-1]:null}function ir(se){return function St(se){return!!se&&(se instanceof M.c||(0,et.T)(se.lift)&&(0,et.T)(se.subscribe))}(se)?se:(0,I.jNT)(se)?(0,o.H)(Promise.resolve(se)):(0,ie.of)(se)}const zt={exact:function Bt(se,he,we){if(!Ot(se.segments,he.segments)||!$t(se.segments,he.segments,we)||se.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!se.children[de]||!Bt(se.children[de],he.children[de],we))return!1;return!0},subset:jt},hr={exact:function br(se,he){return it(se,he)},subset:function fr(se,he){return Object.keys(he).length<=Object.keys(se).length&&Object.keys(he).every(we=>pt(se[we],he[we]))},ignored:()=>!0};function Ht(se,he,we){return zt[we.paths](se.root,he.root,we.matrixParams)&&hr[we.queryParams](se.queryParams,he.queryParams)&&!("exact"===we.fragment&&se.fragment!==he.fragment)}function jt(se,he,we){return ar(se,he,he.segments,we)}function ar(se,he,we,de){if(se.segments.length>we.length){const De=se.segments.slice(0,we.length);return!(!Ot(De,we)||he.hasChildren()||!$t(De,we,de))}if(se.segments.length===we.length){if(!Ot(se.segments,we)||!$t(se.segments,we,de))return!1;for(const De in he.children)if(!se.children[De]||!jt(se.children[De],he.children[De],de))return!1;return!0}{const De=we.slice(0,se.segments.length),rt=we.slice(se.segments.length);return!!(Ot(se.segments,De)&&$t(se.segments,De,de)&&se.children[He])&&ar(se.children[He],he,rt,de)}}function $t(se,he,we){return he.every((de,De)=>hr[we](se[De].parameters,de.parameters))}class Ve{constructor(he=new We([],{}),we={},de=null){this.root=he,this.queryParams=we,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return Tt.serialize(this)}}class We{constructor(he,we){this.segments=he,this.children=we,this.parent=null,Object.values(we).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class Re{constructor(he,we){this.path=he,this.parameters=we}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return ft(this)}}function Ot(se,he){return se.length===he.length&&se.every((we,de)=>we.path===he[de].path)}let nr=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:()=>new Ct,providedIn:"root"}),he})();class Ct{parse(he){const we=new Pe(he);return new Ve(we.parseRootSegment(),we.parseQueryParams(),we.parseFragment())}serialize(he){const we=`/${Vt(he.root,!0)}`,de=function tr(se){const he=Object.entries(se).map(([we,de])=>Array.isArray(de)?de.map(De=>`${yt(we)}=${yt(De)}`).join("&"):`${yt(we)}=${yt(de)}`).filter(we=>we);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${we}${de}${"string"==typeof he.fragment?`#${function Nt(se){return encodeURI(se)}(he.fragment)}`:""}`}}const Tt=new Ct;function Gt(se){return se.segments.map(he=>ft(he)).join("/")}function Vt(se,he){if(!se.hasChildren())return Gt(se);if(he){const we=se.children[He]?Vt(se.children[He],!1):"",de=[];return Object.entries(se.children).forEach(([De,rt])=>{De!==He&&de.push(`${De}:${Vt(rt,!1)}`)}),de.length>0?`${we}(${de.join("//")})`:we}{const we=function qt(se,he){let we=[];return Object.entries(se.children).forEach(([de,De])=>{de===He&&(we=we.concat(he(De,de)))}),Object.entries(se.children).forEach(([de,De])=>{de!==He&&(we=we.concat(he(De,de)))}),we}(se,(de,De)=>De===He?[Vt(se.children[He],!1)]:[`${De}:${Vt(de,!1)}`]);return 1===Object.keys(se.children).length&&null!=se.children[He]?`${Gt(se)}/${we[0]}`:`${Gt(se)}/(${we.join("//")})`}}function Dt(se){return encodeURIComponent(se).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yt(se){return Dt(se).replace(/%3B/gi,";")}function bt(se){return Dt(se).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(se){return decodeURIComponent(se)}function cr(se){return Rt(se.replace(/\+/g,"%20"))}function ft(se){return`${bt(se.path)}${function xt(se){return Object.entries(se).map(([he,we])=>`;${bt(he)}=${bt(we)}`).join("")}(se.parameters)}`}const Zt=/^[^\/()?;#]+/;function lr(se){const he=se.match(Zt);return he?he[0]:""}const yr=/^[^\/()?;=#]+/,xr=/^[^=?&#]+/,W=/^[^&#]+/;class Pe{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let we={};this.peekStartsWith("/(")&&(this.capture("/"),we=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(we).length>0)&&(de[He]=new We(he,we)),de}parseSegment(){const he=lr(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new I.wOt(4009,!1);return this.capture(he),new Re(Rt(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const we=function wr(se){const he=se.match(yr);return he?he[0]:""}(this.remaining);if(!we)return;this.capture(we);let de="";if(this.consumeOptional("=")){const De=lr(this.remaining);De&&(de=De,this.capture(de))}he[Rt(we)]=Rt(de)}parseQueryParam(he){const we=function Mr(se){const he=se.match(xr);return he?he[0]:""}(this.remaining);if(!we)return;this.capture(we);let de="";if(this.consumeOptional("=")){const dt=function pe(se){const he=se.match(W);return he?he[0]:""}(this.remaining);dt&&(de=dt,this.capture(de))}const De=cr(we),rt=cr(de);if(he.hasOwnProperty(De)){let dt=he[De];Array.isArray(dt)||(dt=[dt],he[De]=dt),dt.push(rt)}else he[De]=rt}parseParens(he){const we={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=lr(this.remaining),De=this.remaining[de.length];if("/"!==De&&")"!==De&&";"!==De)throw new I.wOt(4010,!1);let rt;de.indexOf(":")>-1?(rt=de.slice(0,de.indexOf(":")),this.capture(rt),this.capture(":")):he&&(rt=He);const dt=this.parseChildren();we[rt]=1===Object.keys(dt).length?dt[He]:new We([],dt),this.consumeOptional("//")}return we}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new I.wOt(4011,!1)}}function b(se){return se.segments.length>0?new We([],{[He]:se}):se}function A(se){const he={};for(const[de,De]of Object.entries(se.children)){const rt=A(De);if(de===He&&0===rt.segments.length&&rt.hasChildren())for(const[dt,sr]of Object.entries(rt.children))he[dt]=sr;else(rt.segments.length>0||rt.hasChildren())&&(he[de]=rt)}return function R(se){if(1===se.numberOfChildren&&se.children[He]){const he=se.children[He];return new We(se.segments.concat(he.segments),he.children)}return se}(new We(se.segments,he))}function C(se){return se instanceof Ve}function U(se){var he;let we;const rt=b(function de(dt){const sr={};for(const Yt of dt.children){const Or=de(Yt);sr[Yt.outlet]=Or}const _r=new We(dt.url,sr);return dt===se&&(we=_r),_r}(se.root));return null!==(he=we)&&void 0!==he?he:rt}function te(se,he,we,de){let De=se;for(;De.parent;)De=De.parent;if(0===he.length)return Je(De,De,De,we,de);const rt=function Ie(se){if("string"==typeof se[0]&&1===se.length&&"/"===se[0])return new Wt(!0,0,se);let he=0,we=!1;const de=se.reduce((De,rt,dt)=>{if("object"==typeof rt&&null!=rt){if(rt.outlets){const sr={};return Object.entries(rt.outlets).forEach(([_r,Yt])=>{sr[_r]="string"==typeof Yt?Yt.split("/"):Yt}),[...De,{outlets:sr}]}if(rt.segmentPath)return[...De,rt.segmentPath]}return"string"!=typeof rt?[...De,rt]:0===dt?(rt.split("/").forEach((sr,_r)=>{0==_r&&"."===sr||(0==_r&&""===sr?we=!0:".."===sr?he++:""!=sr&&De.push(sr))}),De):[...De,rt]},[]);return new Wt(we,he,de)}(he);if(rt.toRoot())return Je(De,De,new We([],{}),we,de);const dt=function qe(se,he,we){if(se.isAbsolute)return new Ae(he,!0,0);if(!we)return new Ae(he,!1,NaN);if(null===we.parent)return new Ae(we,!0,0);const de=Oe(se.commands[0])?0:1;return function $e(se,he,we){let de=se,De=he,rt=we;for(;rt>De;){if(rt-=De,de=de.parent,!de)throw new I.wOt(4005,!1);De=de.segments.length}return new Ae(de,!1,De-rt)}(we,we.segments.length-1+de,se.numberOfDoubleDots)}(rt,De,se),sr=dt.processChildren?ur(dt.segmentGroup,dt.index,rt.commands):Ft(dt.segmentGroup,dt.index,rt.commands);return Je(De,dt.segmentGroup,sr,we,de)}function Oe(se){return"object"==typeof se&&null!=se&&!se.outlets&&!se.segmentPath}function Te(se){return"object"==typeof se&&null!=se&&se.outlets}function Je(se,he,we,de,De){let dt,rt={};de&&Object.entries(de).forEach(([_r,Yt])=>{rt[_r]=Array.isArray(Yt)?Yt.map(Or=>`${Or}`):`${Yt}`}),dt=se===he?we:gt(se,he,we);const sr=b(A(dt));return new Ve(sr,rt,De)}function gt(se,he,we){const de={};return Object.entries(se.children).forEach(([De,rt])=>{de[De]=rt===he?we:gt(rt,he,we)}),new We(se.segments,de)}class Wt{constructor(he,we,de){if(this.isAbsolute=he,this.numberOfDoubleDots=we,this.commands=de,he&&de.length>0&&Oe(de[0]))throw new I.wOt(4003,!1);const De=de.find(Te);if(De&&De!==kt(de))throw new I.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ae{constructor(he,we,de){this.segmentGroup=he,this.processChildren=we,this.index=de}}function Ft(se,he,we){var de;if(null!==(de=se)&&void 0!==de||(se=new We([],{})),0===se.segments.length&&se.hasChildren())return ur(se,he,we);const De=function vr(se,he,we){let de=0,De=he;const rt={match:!1,pathIndex:0,commandIndex:0};for(;De<se.segments.length;){if(de>=we.length)return rt;const dt=se.segments[De],sr=we[de];if(Te(sr))break;const _r=`${sr}`,Yt=de<we.length-1?we[de+1]:null;if(De>0&&void 0===_r)break;if(_r&&Yt&&"object"==typeof Yt&&void 0===Yt.outlets){if(!Nn(_r,Yt,dt))return rt;de+=2}else{if(!Nn(_r,{},dt))return rt;de++}De++}return{match:!0,pathIndex:De,commandIndex:de}}(se,he,we),rt=we.slice(De.commandIndex);if(De.match&&De.pathIndex<se.segments.length){const dt=new We(se.segments.slice(0,De.pathIndex),{});return dt.children[He]=new We(se.segments.slice(De.pathIndex),se.children),ur(dt,0,rt)}return De.match&&0===rt.length?new We(se.segments,{}):De.match&&!se.hasChildren()?Pr(se,he,we):De.match?ur(se,0,rt):Pr(se,he,we)}function ur(se,he,we){if(0===we.length)return new We(se.segments,{});{const de=function ct(se){return Te(se[0])?se[0].outlets:{[He]:se}}(we),De={};if(Object.keys(de).some(rt=>rt!==He)&&se.children[He]&&1===se.numberOfChildren&&0===se.children[He].segments.length){const rt=ur(se.children[He],he,we);return new We(se.segments,rt.children)}return Object.entries(de).forEach(([rt,dt])=>{"string"==typeof dt&&(dt=[dt]),null!==dt&&(De[rt]=Ft(se.children[rt],he,dt))}),Object.entries(se.children).forEach(([rt,dt])=>{void 0===de[rt]&&(De[rt]=dt)}),new We(se.segments,De)}}function Pr(se,he,we){const de=se.segments.slice(0,he);let De=0;for(;De<we.length;){const rt=we[De];if(Te(rt)){const _r=on(rt.outlets);return new We(de,_r)}if(0===De&&Oe(we[0])){de.push(new Re(se.segments[he].path,nn(we[0]))),De++;continue}const dt=Te(rt)?rt.outlets[He]:`${rt}`,sr=De<we.length-1?we[De+1]:null;dt&&sr&&Oe(sr)?(de.push(new Re(dt,nn(sr))),De+=2):(de.push(new Re(dt,{})),De++)}return new We(de,{})}function on(se){const he={};return Object.entries(se).forEach(([we,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[we]=Pr(new We([],{}),0,de))}),he}function nn(se){const he={};return Object.entries(se).forEach(([we,de])=>he[we]=`${de}`),he}function Nn(se,he,we){return se==we.path&&it(he,we.parameters)}const Dn="imperative";var Kr=function(se){return se[se.NavigationStart=0]="NavigationStart",se[se.NavigationEnd=1]="NavigationEnd",se[se.NavigationCancel=2]="NavigationCancel",se[se.NavigationError=3]="NavigationError",se[se.RoutesRecognized=4]="RoutesRecognized",se[se.ResolveStart=5]="ResolveStart",se[se.ResolveEnd=6]="ResolveEnd",se[se.GuardsCheckStart=7]="GuardsCheckStart",se[se.GuardsCheckEnd=8]="GuardsCheckEnd",se[se.RouteConfigLoadStart=9]="RouteConfigLoadStart",se[se.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",se[se.ChildActivationStart=11]="ChildActivationStart",se[se.ChildActivationEnd=12]="ChildActivationEnd",se[se.ActivationStart=13]="ActivationStart",se[se.ActivationEnd=14]="ActivationEnd",se[se.Scroll=15]="Scroll",se[se.NavigationSkipped=16]="NavigationSkipped",se}(Kr||{});class yn{constructor(he,we){this.id=he,this.url=we}}class Gn extends yn{constructor(he,we,de="imperative",De=null){super(he,we),this.type=Kr.NavigationStart,this.navigationTrigger=de,this.restoredState=De}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bn extends yn{constructor(he,we,de){super(he,we),this.urlAfterRedirects=de,this.type=Kr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(se){return se[se.Redirect=0]="Redirect",se[se.SupersededByNewNavigation=1]="SupersededByNewNavigation",se[se.NoDataFromResolver=2]="NoDataFromResolver",se[se.GuardRejected=3]="GuardRejected",se}(Ln||{}),To=function(se){return se[se.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",se[se.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",se}(To||{});class eo extends yn{constructor(he,we,de,De){super(he,we),this.reason=de,this.code=De,this.type=Kr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends yn{constructor(he,we,de,De){super(he,we),this.reason=de,this.code=De,this.type=Kr.NavigationSkipped}}class Ro extends yn{constructor(he,we,de,De){super(he,we),this.error=de,this.target=De,this.type=Kr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends yn{constructor(he,we,de,De){super(he,we),this.urlAfterRedirects=de,this.state=De,this.type=Kr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends yn{constructor(he,we,de,De){super(he,we),this.urlAfterRedirects=de,this.state=De,this.type=Kr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends yn{constructor(he,we,de,De,rt){super(he,we),this.urlAfterRedirects=de,this.state=De,this.shouldActivate=rt,this.type=Kr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends yn{constructor(he,we,de,De){super(he,we),this.urlAfterRedirects=de,this.state=De,this.type=Kr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends yn{constructor(he,we,de,De){super(he,we),this.urlAfterRedirects=de,this.state=De,this.type=Kr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ye{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(he){this.snapshot=he,this.type=Kr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(he){this.snapshot=he,this.type=Kr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(he,we,de){this.routerEvent=he,this.position=we,this.anchor=de,this.type=Kr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qt{}class hn{constructor(he,we){this.url=he,this.navigationBehaviorOptions=we}}function Yn(se){return se.outlet||He}function Ue(se){var he;if(!se)return null;if(null!==(he=se.routeConfig)&&void 0!==he&&he._injector)return se.routeConfig._injector;for(let we=se.parent;we;we=we.parent){const de=we.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class ot{get injector(){var he,we;return null!==(he=Ue(null===(we=this.route)||void 0===we?void 0:we.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new At(this.rootInjector),this.attachRef=null}}let At=(()=>{var se;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,De){const rt=this.getOrCreateContext(de);rt.outlet=De,this.contexts.set(de,rt)}onChildOutletDestroyed(de){const De=this.getContext(de);De&&(De.outlet=null,De.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let De=this.getContext(de);return De||(De=new ot(this.rootInjector),this.contexts.set(de,De)),De}getContext(de){return this.contexts.get(de)||null}}return(se=he).\u0275fac=function(de){return new(de||se)(I.KVO(I.uvJ))},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();class Lt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const we=this.pathFromRoot(he);return we.length>1?we[we.length-2]:null}children(he){const we=er(he,this._root);return we?we.children.map(de=>de.value):[]}firstChild(he){const we=er(he,this._root);return we&&we.children.length>0?we.children[0].value:null}siblings(he){const we=Jt(he,this._root);return we.length<2?[]:we[we.length-2].children.map(De=>De.value).filter(De=>De!==he)}pathFromRoot(he){return Jt(he,this._root).map(we=>we.value)}}function er(se,he){if(se===he.value)return he;for(const we of he.children){const de=er(se,we);if(de)return de}return null}function Jt(se,he){if(se===he.value)return[he];for(const we of he.children){const de=Jt(se,we);if(de.length)return de.unshift(he),de}return[]}class mr{constructor(he,we){this.value=he,this.children=we}toString(){return`TreeNode(${this.value})`}}function Sr(se){const he={};return se&&se.children.forEach(we=>he[we.value.outlet]=we),he}class Cr extends Lt{constructor(he,we){super(he),this.snapshot=we,_n(this,he)}toString(){return this.snapshot.toString()}}function Tr(se){const he=function Ur(se){const rt=new qr([],{},{},"",{},He,se,null,{});return new pn("",new mr(rt,[]))}(se),we=new B.t([new Re("",{})]),de=new B.t({}),De=new B.t({}),rt=new B.t({}),dt=new B.t(""),sr=new Fr(we,de,rt,dt,De,He,se,he.root);return sr.snapshot=he.root,new Cr(new mr(sr,[]),he)}class Fr{constructor(he,we,de,De,rt,dt,sr,_r){var Yt,Or;this.urlSubject=he,this.paramsSubject=we,this.queryParamsSubject=de,this.fragmentSubject=De,this.dataSubject=rt,this.outlet=dt,this.component=sr,this._futureSnapshot=_r,this.title=null!==(Yt=null===(Or=this.dataSubject)||void 0===Or?void 0:Or.pipe((0,g.T)(Xr=>Xr[nt])))&&void 0!==Yt?Yt:(0,ie.of)(void 0),this.url=he,this.params=we,this.queryParams=de,this.fragment=De,this.data=rt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,g.T)(we=>Be(we)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,g.T)(we=>Be(we)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(se,he,we="emptyOnly"){var de;let De;const{routeConfig:rt}=se;var dt;return De=null===he||"always"!==we&&""!==(null==rt?void 0:rt.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...se.params},data:{...se.data},resolve:{...se.data,...null!==(dt=se._resolvedData)&&void 0!==dt?dt:{}}}:{params:{...he.params,...se.params},data:{...he.data,...se.data},resolve:{...se.data,...he.data,...null==rt?void 0:rt.data,...se._resolvedData}},rt&&kr(rt)&&(De.resolve[nt]=rt.title),De}class qr{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[nt]}constructor(he,we,de,De,rt,dt,sr,_r,Yt){this.url=he,this.params=we,this.queryParams=de,this.fragment=De,this.data=rt,this.outlet=dt,this.component=sr,this.routeConfig=_r,this._resolve=Yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pn extends Lt{constructor(he,we){super(we),this.url=he,_n(this,we)}toString(){return wn(this._root)}}function _n(se,he){he.value._routerState=se,he.children.forEach(we=>_n(se,we))}function wn(se){const he=se.children.length>0?` { ${se.children.map(wn).join(", ")} } `:"";return`${se.value}${he}`}function Un(se){if(se.snapshot){const he=se.snapshot,we=se._futureSnapshot;se.snapshot=we,it(he.queryParams,we.queryParams)||se.queryParamsSubject.next(we.queryParams),he.fragment!==we.fragment&&se.fragmentSubject.next(we.fragment),it(he.params,we.params)||se.paramsSubject.next(we.params),function Ye(se,he){if(se.length!==he.length)return!1;for(let we=0;we<se.length;++we)if(!it(se[we],he[we]))return!1;return!0}(he.url,we.url)||se.urlSubject.next(we.url),it(he.data,we.data)||se.dataSubject.next(we.data)}else se.snapshot=se._futureSnapshot,se.dataSubject.next(se._futureSnapshot.data)}function Rn(se,he){const we=it(se.params,he.params)&&function Qe(se,he){return Ot(se,he)&&se.every((we,de)=>it(we.parameters,he[de].parameters))}(se.url,he.url);return we&&!(!se.parent!=!he.parent)&&(!se.parent||Rn(se.parent,he.parent))}function kr(se){return"string"==typeof se.title||null===se.title}let go=(()=>{var se;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=He,this.activateEvents=new I.bkB,this.deactivateEvents=new I.bkB,this.attachEvents=new I.bkB,this.detachEvents=new I.bkB,this.parentContexts=(0,I.WQX)(At),this.location=(0,I.WQX)(I.c1b),this.changeDetector=(0,I.WQX)(I.gRc),this.inputBinder=(0,I.WQX)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:De,previousValue:rt}=de.name;if(De)return;this.isTrackedInParentContexts(rt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(rt)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var De;return(null===(De=this.parentContexts.getContext(de))||void 0===De?void 0:De.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,De){var rt;this.activated=de,this._activatedRoute=De,this.location.insert(de.hostView),null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,De){var rt;if(this.isActivated)throw new I.wOt(4013,!1);this._activatedRoute=de;const dt=this.location,_r=de.snapshot.component,Yt=this.parentContexts.getOrCreateContext(this.name).children,Or=new Lo(de,Yt,dt.injector);this.activated=dt.createComponent(_r,{index:dt.length,injector:Or,environmentInjector:De}),this.changeDetector.markForCheck(),null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275dir=I.FsC({type:se,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[I.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,we,de){this.route=he,this.childContexts=we,this.parent=de}get(he,we){return he===Fr?this.route:he===At?this.childContexts:this.parent.get(he,we)}}const Pn=new I.nKC("");let Os=(()=>{var se;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var De;null===(De=this.outletDataSubscriptions.get(de))||void 0===De||De.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:De}=de,rt=(0,v.z)([De.queryParams,De.params,De.data]).pipe((0,p.n)(([dt,sr,_r],Yt)=>(_r={...dt,...sr,..._r},0===Yt?(0,ie.of)(_r):Promise.resolve(_r)))).subscribe(dt=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==De||null===De.component)return void this.unsubscribeFromRouteData(de);const sr=(0,I.HJs)(De.component);if(sr)for(const{templateName:_r}of sr.inputs)de.activatedComponentRef.setInput(_r,dt[_r]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,rt)}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac}),he})();function ho(se,he,we){if(we&&se.shouldReuseRoute(he.value,we.value.snapshot)){const de=we.value;de._futureSnapshot=he.value;const De=function Bn(se,he,we){return he.children.map(de=>{for(const De of we.children)if(se.shouldReuseRoute(de.value,De.value.snapshot))return ho(se,de,De);return ho(se,de)})}(se,he,we);return new mr(de,De)}{if(se.shouldAttach(he.value)){const rt=se.retrieve(he.value);if(null!==rt){const dt=rt.route;return dt.value._futureSnapshot=he.value,dt.children=he.children.map(sr=>ho(se,sr)),dt}}const de=function Vr(se){return new Fr(new B.t(se.url),new B.t(se.params),new B.t(se.queryParams),new B.t(se.fragment),new B.t(se.data),se.outlet,se.component,se)}(he.value),De=he.children.map(rt=>ho(se,rt));return new mr(de,De)}}class Go{constructor(he,we){this.redirectTo=he,this.navigationBehaviorOptions=we}}const Jo="ngNavigationCancelingError";function xo(se,he){const{redirectTo:we,navigationBehaviorOptions:de}=C(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,De=Ps(!1,Ln.Redirect);return De.url=we,De.navigationBehaviorOptions=de,De}function Ps(se,he){const we=new Error(`NavigationCancelingError: ${se||""}`);return we[Jo]=!0,we.cancellationCode=he,we}function xn(se){return!!se&&se[Jo]}class Mo{constructor(he,we,de,De,rt){this.routeReuseStrategy=he,this.futureState=we,this.currState=de,this.forwardEvent=De,this.inputBindingEnabled=rt}activate(he){const we=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(we,de,he),Un(this.futureState.root),this.activateChildRoutes(we,de,he)}deactivateChildRoutes(he,we,de){const De=Sr(we);he.children.forEach(rt=>{const dt=rt.value.outlet;this.deactivateRoutes(rt,De[dt],de),delete De[dt]}),Object.values(De).forEach(rt=>{this.deactivateRouteAndItsChildren(rt,de)})}deactivateRoutes(he,we,de){const De=he.value,rt=we?we.value:null;if(De===rt)if(De.component){const dt=de.getContext(De.outlet);dt&&this.deactivateChildRoutes(he,we,dt.children)}else this.deactivateChildRoutes(he,we,de);else rt&&this.deactivateRouteAndItsChildren(we,de)}deactivateRouteAndItsChildren(he,we){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,we):this.deactivateRouteAndOutlet(he,we)}detachAndStoreRouteSubtree(he,we){const de=we.getContext(he.value.outlet),De=de&&he.value.component?de.children:we,rt=Sr(he);for(const dt of Object.values(rt))this.deactivateRouteAndItsChildren(dt,De);if(de&&de.outlet){const dt=de.outlet.detach(),sr=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:dt,route:he,contexts:sr})}}deactivateRouteAndOutlet(he,we){const de=we.getContext(he.value.outlet),De=de&&he.value.component?de.children:we,rt=Sr(he);for(const dt of Object.values(rt))this.deactivateRouteAndItsChildren(dt,De);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,we,de){const De=Sr(we);he.children.forEach(rt=>{this.activateRoutes(rt,De[rt.value.outlet],de),this.forwardEvent(new Ee(rt.value.snapshot))}),he.children.length&&this.forwardEvent(new ze(he.value.snapshot))}activateRoutes(he,we,de){const De=he.value,rt=we?we.value:null;if(Un(De),De===rt)if(De.component){const dt=de.getOrCreateContext(De.outlet);this.activateChildRoutes(he,we,dt.children)}else this.activateChildRoutes(he,we,de);else if(De.component){const dt=de.getOrCreateContext(De.outlet);if(this.routeReuseStrategy.shouldAttach(De.snapshot)){const sr=this.routeReuseStrategy.retrieve(De.snapshot);this.routeReuseStrategy.store(De.snapshot,null),dt.children.onOutletReAttached(sr.contexts),dt.attachRef=sr.componentRef,dt.route=sr.route.value,dt.outlet&&dt.outlet.attach(sr.componentRef,sr.route.value),Un(sr.route.value),this.activateChildRoutes(he,null,dt.children)}else dt.attachRef=null,dt.route=De,dt.outlet&&dt.outlet.activateWith(De,dt.injector),this.activateChildRoutes(he,null,dt.children)}else this.activateChildRoutes(he,null,de)}}class Sn{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class ks{constructor(he,we){this.component=he,this.route=we}}function Xn(se,he,we){const de=se._root;return ws(de,he?he._root:null,we,[de.value])}function _s(se,he){const we=Symbol(),de=he.get(se,we);return de===we?"function"!=typeof se||(0,I.LfX)(se)?he.get(se):se:de}function ws(se,he,we,de,De={canDeactivateChecks:[],canActivateChecks:[]}){const rt=Sr(he);return se.children.forEach(dt=>{(function Gs(se,he,we,de,De={canDeactivateChecks:[],canActivateChecks:[]}){const rt=se.value,dt=he?he.value:null,sr=we?we.getContext(se.value.outlet):null;if(dt&&rt.routeConfig===dt.routeConfig){const _r=function Hr(se,he,we){if("function"==typeof we)return we(se,he);switch(we){case"pathParamsChange":return!Ot(se.url,he.url);case"pathParamsOrQueryParamsChange":return!Ot(se.url,he.url)||!it(se.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(se,he)||!it(se.queryParams,he.queryParams);default:return!Rn(se,he)}}(dt,rt,rt.routeConfig.runGuardsAndResolvers);_r?De.canActivateChecks.push(new Sn(de)):(rt.data=dt.data,rt._resolvedData=dt._resolvedData),ws(se,he,rt.component?sr?sr.children:null:we,de,De),_r&&sr&&sr.outlet&&sr.outlet.isActivated&&De.canDeactivateChecks.push(new ks(sr.outlet.component,dt))}else dt&&Ho(he,sr,De),De.canActivateChecks.push(new Sn(de)),ws(se,null,rt.component?sr?sr.children:null:we,de,De)})(dt,rt[dt.value.outlet],we,de.concat([dt.value]),De),delete rt[dt.value.outlet]}),Object.entries(rt).forEach(([dt,sr])=>Ho(sr,we.getContext(dt),De)),De}function Ho(se,he,we){const de=Sr(se),De=se.value;Object.entries(de).forEach(([rt,dt])=>{Ho(dt,De.component?he?he.children.getContext(rt):null:he,we)}),we.canDeactivateChecks.push(new ks(De.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,De))}function E(se){return"function"==typeof se}function tt(se){return se instanceof f||"EmptyError"===(null==se?void 0:se.name)}const _t=Symbol("INITIAL_VALUE");function vt(){return(0,p.n)(se=>(0,v.z)(se.map(he=>he.pipe((0,y.s)(1),function G(...se){const he=(0,T.lI)(se);return(0,z.N)((we,de)=>{(he?(0,m.x)(se,we,he):(0,m.x)(se,we)).subscribe(de)})}(_t)))).pipe((0,g.T)(he=>{for(const we of he)if(!0!==we){if(we===_t)return _t;if(!1===we||Kt(we))return we}return!0}),(0,N.p)(he=>he!==_t),(0,y.s)(1)))}function Kt(se){return C(se)||se instanceof Go}function Lr(se){return(0,w.F)((0,Q.M)(he=>{if("boolean"!=typeof he)throw xo(0,he)}),(0,g.T)(he=>!0===he))}class Wr{constructor(he){this.segmentGroup=he||null}}class Qr extends Error{constructor(he){super(),this.urlTree=he}}function vn(se){return(0,i.$)(new Wr(se))}class Kn{constructor(he,we){this.urlSerializer=he,this.urlTree=we}lineralizeSegments(he,we){let de=[],De=we.root;for(;;){if(de=de.concat(De.segments),0===De.numberOfChildren)return(0,ie.of)(de);if(De.numberOfChildren>1||!De.children[He])return(0,i.$)(new I.wOt(4e3,!1));De=De.children[He]}}applyRedirectCommands(he,we,de,De,rt){if("string"!=typeof we){const sr=we,{queryParams:_r,fragment:Yt,routeConfig:Or,url:Xr,outlet:fn,params:Jr,data:ro,title:Wo}=De,Fo=(0,I.N4e)(rt,()=>sr({params:Jr,data:ro,queryParams:_r,fragment:Yt,routeConfig:Or,url:Xr,outlet:fn,title:Wo}));if(Fo instanceof Ve)throw new Qr(Fo);we=Fo}const dt=this.applyRedirectCreateUrlTree(we,this.urlSerializer.parse(we),he,de);if("/"===we[0])throw new Qr(dt);return dt}applyRedirectCreateUrlTree(he,we,de,De){const rt=this.createSegmentGroup(he,we.root,de,De);return new Ve(rt,this.createQueryParams(we.queryParams,this.urlTree.queryParams),we.fragment)}createQueryParams(he,we){const de={};return Object.entries(he).forEach(([De,rt])=>{if("string"==typeof rt&&":"===rt[0]){const sr=rt.substring(1);de[De]=we[sr]}else de[De]=rt}),de}createSegmentGroup(he,we,de,De){const rt=this.createSegments(he,we.segments,de,De);let dt={};return Object.entries(we.children).forEach(([sr,_r])=>{dt[sr]=this.createSegmentGroup(he,_r,de,De)}),new We(rt,dt)}createSegments(he,we,de,De){return we.map(rt=>":"===rt.path[0]?this.findPosParam(he,rt,De):this.findOrReturn(rt,de))}findPosParam(he,we,de){const De=de[we.path.substring(1)];if(!De)throw new I.wOt(4001,!1);return De}findOrReturn(he,we){let de=0;for(const De of we){if(De.path===he.path)return we.splice(de),De;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tn(se,he,we,de,De){const rt=Mn(se,he,we);return rt.matched?(de=function mo(se,he){var we;return se.providers&&!se._injector&&(se._injector=(0,I.Ol2)(se.providers,he,`Route: ${se.path}`)),null!==(we=se._injector)&&void 0!==we?we:he}(he,de),function zr(se,he,we,de){const De=he.canMatch;if(!De||0===De.length)return(0,ie.of)(!0);const rt=De.map(dt=>{const sr=_s(dt,se);return ir(function Ne(se){return se&&E(se.canMatch)}(sr)?sr.canMatch(he,we):(0,I.N4e)(se,()=>sr(he,we)))});return(0,ie.of)(rt).pipe(vt(),Lr())}(de,he,we).pipe((0,g.T)(dt=>!0===dt?rt:{...fo}))):(0,ie.of)(rt)}function Mn(se,he,we){var de,De;if("**"===he.path)return function $r(se){return{matched:!0,parameters:se.length>0?kt(se).parameters:{},consumedSegments:se,remainingSegments:[],positionalParamSegments:{}}}(we);if(""===he.path)return"full"===he.pathMatch&&(se.hasChildren()||we.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:we,parameters:{},positionalParamSegments:{}};const dt=(he.matcher||st)(we,se,he);if(!dt)return{...fo};const sr={};Object.entries(null!==(de=dt.posParams)&&void 0!==de?de:{}).forEach(([Yt,Or])=>{sr[Yt]=Or.path});const _r=dt.consumed.length>0?{...sr,...dt.consumed[dt.consumed.length-1].parameters}:sr;return{matched:!0,consumedSegments:dt.consumed,remainingSegments:we.slice(dt.consumed.length),parameters:_r,positionalParamSegments:null!==(De=dt.posParams)&&void 0!==De?De:{}}}function $n(se,he,we,de){return we.length>0&&function kn(se,he,we){return we.some(de=>rs(se,he,de)&&Yn(de)!==He)}(se,we,de)?{segmentGroup:new We(he,lo(de,new We(we,se.children))),slicedSegments:[]}:0===we.length&&function uo(se,he,we){return we.some(de=>rs(se,he,de))}(se,we,de)?{segmentGroup:new We(se.segments,Vn(se,we,de,se.children)),slicedSegments:we}:{segmentGroup:new We(se.segments,se.children),slicedSegments:we}}function Vn(se,he,we,de){const De={};for(const rt of we)if(rs(se,he,rt)&&!de[Yn(rt)]){const dt=new We([],{});De[Yn(rt)]=dt}return{...de,...De}}function lo(se,he){const we={};we[He]=he;for(const de of se)if(""===de.path&&Yn(de)!==He){const De=new We([],{});we[Yn(de)]=De}return we}function rs(se,he,we){return(!(se.hasChildren()||he.length>0)||"full"!==we.pathMatch)&&""===we.path}class Ud{}class vi{constructor(he,we,de,De,rt,dt,sr){this.injector=he,this.configLoader=we,this.rootComponentType=de,this.config=De,this.urlTree=rt,this.paramsInheritanceStrategy=dt,this.urlSerializer=sr,this.applyRedirects=new Kn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new I.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=$n(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,g.T)(({children:we,rootSnapshot:de})=>{const De=new mr(de,we),rt=new pn("",De),dt=function Y(se,he,we=null,de=null){return te(U(se),he,we,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return dt.queryParams=this.urlTree.queryParams,rt.url=this.urlSerializer.serialize(dt),{state:rt,tree:dt}}))}match(he){const we=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),He,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,He,we).pipe((0,g.T)(de=>({children:de,rootSnapshot:we})),H(de=>{if(de instanceof Qr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Wr?this.noMatchError(de):de}))}processSegmentGroup(he,we,de,De,rt){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,we,de,rt):this.processSegment(he,we,de,de.segments,De,!0,rt).pipe((0,g.T)(dt=>dt instanceof mr?[dt]:[]))}processChildren(he,we,de,De){const rt=[];for(const dt of Object.keys(de.children))"primary"===dt?rt.unshift(dt):rt.push(dt);return(0,o.H)(rt).pipe($(dt=>{const sr=de.children[dt],_r=function Eo(se,he){const we=se.filter(de=>Yn(de)===he);return we.push(...se.filter(de=>Yn(de)!==he)),we}(we,dt);return this.processSegmentGroup(he,_r,sr,dt,De)}),function le(se,he){return(0,z.N)(function Z(se,he,we,de,De){return(rt,dt)=>{let sr=we,_r=he,Yt=0;rt.subscribe((0,X._)(dt,Or=>{const Xr=Yt++;_r=sr?se(_r,Or,Xr):(sr=!0,Or),de&&dt.next(_r)},De&&(()=>{sr&&dt.next(_r),dt.complete()})))}}(se,he,arguments.length>=2,!0))}((dt,sr)=>(dt.push(...sr),dt)),D(null),function q(se,he){const we=arguments.length>=2;return de=>de.pipe(se?(0,N.p)((De,rt)=>se(De,rt,de)):J.D,xe(1),we?D(he):O(()=>new f))}(),(0,k.Z)(dt=>{if(null===dt)return vn(de);const sr=Sa(dt);return function wa(se){se.sort((he,we)=>he.value.outlet===He?-1:we.value.outlet===He?1:he.value.outlet.localeCompare(we.value.outlet))}(sr),(0,ie.of)(sr)}))}processSegment(he,we,de,De,rt,dt,sr){return(0,o.H)(we).pipe($(_r=>{var Yt;return this.processSegmentAgainstRoute(null!==(Yt=_r._injector)&&void 0!==Yt?Yt:he,we,_r,de,De,rt,dt,sr).pipe(H(Or=>{if(Or instanceof Wr)return(0,ie.of)(null);throw Or}))}),re(_r=>!!_r),H(_r=>{if(tt(_r))return function _a(se,he,we){return 0===he.length&&!se.children[we]}(de,De,rt)?(0,ie.of)(new Ud):vn(de);throw _r}))}processSegmentAgainstRoute(he,we,de,De,rt,dt,sr,_r){return function ni(se,he,we,de){return!!(Yn(se)===de||de!==He&&rs(he,we,se))&&Mn(he,se,we).matched}(de,De,rt,dt)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,De,de,rt,dt,_r):this.allowRedirects&&sr?this.expandSegmentAgainstRouteUsingRedirect(he,De,we,de,rt,dt,_r):vn(De):vn(De)}expandSegmentAgainstRouteUsingRedirect(he,we,de,De,rt,dt,sr){var _r,Yt;const{matched:Or,parameters:Xr,consumedSegments:fn,positionalParamSegments:Jr,remainingSegments:ro}=Mn(we,De,rt);if(!Or)return vn(we);"string"==typeof De.redirectTo&&"/"===De.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new qr(rt,Xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(De),Yn(De),null!==(_r=null!==(Yt=De.component)&&void 0!==Yt?Yt:De._loadedComponent)&&void 0!==_r?_r:null,De,Ea(De)),Fo=Gr(Wo,sr,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xi=this.applyRedirects.applyRedirectCommands(fn,De.redirectTo,Jr,Wo,he);return this.applyRedirects.lineralizeSegments(De,Xi).pipe((0,k.Z)(fs=>this.processSegment(he,de,we,fs.concat(ro),dt,!1,sr)))}matchSegmentAgainstRoute(he,we,de,De,rt,dt){const sr=Tn(we,de,De,he);return"**"===de.path&&(we.children={}),sr.pipe((0,p.n)(_r=>{var Yt;return _r.matched?(he=null!==(Yt=de._injector)&&void 0!==Yt?Yt:he,this.getChildConfig(he,de,De).pipe((0,p.n)(({routes:Or})=>{var Xr,fn,Jr;const ro=null!==(Xr=de._loadedInjector)&&void 0!==Xr?Xr:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xi}=_r,fs=new qr(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(de),Yn(de),null!==(fn=null!==(Jr=de.component)&&void 0!==Jr?Jr:de._loadedComponent)&&void 0!==fn?fn:null,de,Ea(de)),si=Gr(fs,dt,this.paramsInheritanceStrategy);fs.params=Object.freeze(si.params),fs.data=Object.freeze(si.data);const{segmentGroup:Ml,slicedSegments:qi}=$n(we,Fo,Xi,Or);if(0===qi.length&&Ml.hasChildren())return this.processChildren(ro,Or,Ml,fs).pipe((0,g.T)(Ei=>new mr(fs,Ei)));if(0===Or.length&&0===qi.length)return(0,ie.of)(new mr(fs,[]));const Qu=Yn(de)===rt;return this.processSegment(ro,Or,Ml,qi,Qu?He:rt,!0,fs).pipe((0,g.T)(Ei=>new mr(fs,Ei instanceof mr?[Ei]:[])))}))):vn(we)}))}getChildConfig(he,we,de){return we.children?(0,ie.of)({routes:we.children,injector:he}):we.loadChildren?void 0!==we._loadedRoutes?(0,ie.of)({routes:we._loadedRoutes,injector:we._loadedInjector}):function Br(se,he,we,de){const De=he.canLoad;if(void 0===De||0===De.length)return(0,ie.of)(!0);const rt=De.map(dt=>{const sr=_s(dt,se);return ir(function K(se){return se&&E(se.canLoad)}(sr)?sr.canLoad(he,we):(0,I.N4e)(se,()=>sr(he,we)))});return(0,ie.of)(rt).pipe(vt(),Lr())}(he,we,de).pipe((0,k.Z)(De=>De?this.configLoader.loadChildren(he,we).pipe((0,Q.M)(rt=>{we._loadedRoutes=rt.routes,we._loadedInjector=rt.injector})):function so(se){return(0,i.$)(Ps(!1,Ln.GuardRejected))}())):(0,ie.of)({routes:[],injector:he})}}function Vi(se){const he=se.value.routeConfig;return he&&""===he.path}function Sa(se){const he=[],we=new Set;for(const de of se){if(!Vi(de)){he.push(de);continue}const De=he.find(rt=>de.value.routeConfig===rt.value.routeConfig);void 0!==De?(De.children.push(...de.children),we.add(De)):he.push(de)}for(const de of we){const De=Sa(de.children);he.push(new mr(de.value,De))}return he.filter(de=>!we.has(de))}function oi(se){return se.data||{}}function Ea(se){return se.resolve||{}}function Vu(se){const he=se.children.map(we=>Vu(we)).flat();return[se,...he]}function xa(se){return(0,p.n)(he=>{const we=se(he);return we?(0,o.H)(we).pipe((0,g.T)(()=>he)):(0,ie.of)(he)})}let Gi=(()=>{var se;class he{buildTitle(de){let De,rt=de.root;for(;void 0!==rt;){var dt;De=null!==(dt=this.getResolvedTitleForRoute(rt))&&void 0!==dt?dt:De,rt=rt.children.find(sr=>sr.outlet===He)}return De}getResolvedTitleForRoute(de){return de.data[nt]}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:()=>(0,I.WQX)(mn),providedIn:"root"}),he})(),mn=(()=>{var se;class he extends Gi{constructor(de){super(),this.title=de}updateTitle(de){const De=this.buildTitle(de);void 0!==De&&this.title.setTitle(De)}}return(se=he).\u0275fac=function(de){return new(de||se)(I.KVO(lt.hE))},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();const Hs=new I.nKC("",{providedIn:"root",factory:()=>({})});let bi=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275cmp=I.VBU({type:se,selectors:[["ng-component"]],standalone:!0,features:[I.aNF],decls:1,vars:0,template:function(de,De){1&de&&I.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(se){const he=se.children&&se.children.map(Io),we=he?{...se,children:he}:{...se};return!we.component&&!we.loadComponent&&(he||we.loadChildren)&&we.outlet&&we.outlet!==He&&(we.component=bi),we}const ds=new I.nKC("");let xl=(()=>{var se;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,I.WQX)(I.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,ie.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const De=ir(de.loadComponent()).pipe((0,g.T)(ke),(0,Q.M)(dt=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=dt}),oe(()=>{this.componentLoaders.delete(de)})),rt=new a.G(De,()=>new u.B).pipe((0,me.B)());return this.componentLoaders.set(de,rt),rt}loadChildren(de,De){if(this.childrenLoaders.get(De))return this.childrenLoaders.get(De);if(De._loadedRoutes)return(0,ie.of)({routes:De._loadedRoutes,injector:De._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(De);const dt=function $d(se,he,we,de){return ir(se.loadChildren()).pipe((0,g.T)(ke),(0,k.Z)(De=>De instanceof I.Co$||Array.isArray(De)?(0,ie.of)(De):(0,o.H)(he.compileModuleAsync(De))),(0,g.T)(De=>{de&&de(se);let rt,dt,sr=!1;return Array.isArray(De)?(dt=De,!0):(rt=De.create(we).injector,dt=rt.get(ds,[],{optional:!0,self:!0}).flat()),{routes:dt.map(Io),injector:rt}}))}(De,this.compiler,de,this.onLoadEndListener).pipe(oe(()=>{this.childrenLoaders.delete(De)})),sr=new a.G(dt,()=>new u.B).pipe((0,me.B)());return this.childrenLoaders.set(De,sr),sr}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();function ke(se){return function ce(se){return se&&"object"==typeof se&&"default"in se}(se)?se.default:se}let wt=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:()=>(0,I.WQX)(je),providedIn:"root"}),he})(),je=(()=>{var se;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,De){return de}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();const ut=new I.nKC(""),Mt=new I.nKC("");function pr(se,he,we){const de=se.get(Mt),De=se.get(h.qQ);return se.get(I.SKi).runOutsideAngular(()=>{if(!De.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(Yt=>setTimeout(Yt));let rt;const dt=new Promise(Yt=>{rt=Yt}),sr=De.startViewTransition(()=>(rt(),function Ir(se){return new Promise(he=>{(0,I.mal)({read:()=>setTimeout(he)},{injector:se})})}(se))),{onViewTransitionCreated:_r}=de;return _r&&(0,I.N4e)(se,()=>_r({transition:sr,from:he,to:we})),dt})}const sn=new I.nKC("");let rn=(()=>{var se;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.B,this.transitionAbortSubject=new u.B,this.configLoader=(0,I.WQX)(xl),this.environmentInjector=(0,I.WQX)(I.uvJ),this.urlSerializer=(0,I.WQX)(nr),this.rootContexts=(0,I.WQX)(At),this.location=(0,I.WQX)(h.aZ),this.inputBindingEnabled=null!==(0,I.WQX)(Pn,{optional:!0}),this.titleStrategy=(0,I.WQX)(Gi),this.options=(0,I.WQX)(Hs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,I.WQX)(wt),this.createViewTransition=(0,I.WQX)(ut,{optional:!0}),this.navigationErrorHandler=(0,I.WQX)(sn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=rt=>this.events.next(new vs(rt)),this.configLoader.onLoadStartListener=rt=>this.events.next(new cs(rt))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var De;const rt=++this.navigationId;null===(De=this.transitions)||void 0===De||De.next({...this.transitions.value,...de,id:rt})}setupNavigations(de,De,rt){return this.transitions=new B.t({id:0,currentUrlTree:De,currentRawUrl:De,extractedUrl:this.urlHandlingStrategy.extract(De),urlAfterRedirects:this.urlHandlingStrategy.extract(De),rawUrl:De,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dn,restoredState:null,currentSnapshot:rt.snapshot,targetSnapshot:null,currentRouterState:rt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,N.p)(dt=>0!==dt.id),(0,g.T)(dt=>({...dt,extractedUrl:this.urlHandlingStrategy.extract(dt.rawUrl)})),(0,p.n)(dt=>{let sr=!1,_r=!1;return(0,ie.of)(dt).pipe((0,p.n)(Yt=>{var Or;if(this.navigationId>dt.id)return this.cancelNavigationTransition(dt,"",Ln.SupersededByNewNavigation),l.w;this.currentTransition=dt,this.currentNavigation={id:Yt.id,initialUrl:Yt.rawUrl,extractedUrl:Yt.extractedUrl,targetBrowserUrl:"string"==typeof Yt.extras.browserUrl?this.urlSerializer.parse(Yt.extras.browserUrl):Yt.extras.browserUrl,trigger:Yt.source,extras:Yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Xr=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),fn=null!==(Or=Yt.extras.onSameUrlNavigation)&&void 0!==Or?Or:de.onSameUrlNavigation;if(!Xr&&"reload"!==fn){const Jr="";return this.events.next(new wo(Yt.id,this.urlSerializer.serialize(Yt.rawUrl),Jr,To.IgnoredSameUrlNavigation)),Yt.resolve(!1),l.w}if(this.urlHandlingStrategy.shouldProcessUrl(Yt.rawUrl))return(0,ie.of)(Yt).pipe((0,p.n)(Jr=>{var ro,Wo;const Fo=null===(ro=this.transitions)||void 0===ro?void 0:ro.getValue();return this.events.next(new Gn(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),Jr.source,Jr.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?l.w:Promise.resolve(Jr)}),function an(se,he,we,de,De,rt){return(0,k.Z)(dt=>function $u(se,he,we,de,De,rt,dt="emptyOnly"){return new vi(se,he,we,de,De,dt,rt).recognize()}(se,he,we,de,dt.extractedUrl,De,rt).pipe((0,g.T)(({state:sr,tree:_r})=>({...dt,targetSnapshot:sr,urlAfterRedirects:_r}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Q.M)(Jr=>{dt.targetSnapshot=Jr.targetSnapshot,dt.urlAfterRedirects=Jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jr.urlAfterRedirects};const ro=new No(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),this.urlSerializer.serialize(Jr.urlAfterRedirects),Jr.targetSnapshot);this.events.next(ro)}));if(Xr&&this.urlHandlingStrategy.shouldProcessUrl(Yt.currentRawUrl)){const{id:Jr,extractedUrl:ro,source:Wo,restoredState:Fo,extras:Xi}=Yt,fs=new Gn(Jr,this.urlSerializer.serialize(ro),Wo,Fo);this.events.next(fs);const si=Tr(this.rootComponentType).snapshot;return this.currentTransition=dt={...Yt,targetSnapshot:si,urlAfterRedirects:ro,extras:{...Xi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ro,(0,ie.of)(dt)}{const Jr="";return this.events.next(new wo(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),Jr,To.IgnoredByUrlHandlingStrategy)),Yt.resolve(!1),l.w}}),(0,Q.M)(Yt=>{const Or=new $o(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(Or)}),(0,g.T)(Yt=>(this.currentTransition=dt={...Yt,guards:Xn(Yt.targetSnapshot,Yt.currentSnapshot,this.rootContexts)},dt)),function ve(se,he){return(0,k.Z)(we=>{const{targetSnapshot:de,currentSnapshot:De,guards:{canActivateChecks:rt,canDeactivateChecks:dt}}=we;return 0===dt.length&&0===rt.length?(0,ie.of)({...we,guardsResult:!0}):function ae(se,he,we,de){return(0,o.H)(se).pipe((0,k.Z)(De=>function or(se,he,we,de,De){const rt=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!rt||0===rt.length)return(0,ie.of)(!0);const dt=rt.map(sr=>{var _r;const Yt=null!==(_r=Ue(he))&&void 0!==_r?_r:De,Or=_s(sr,Yt);return ir(function Me(se){return se&&E(se.canDeactivate)}(Or)?Or.canDeactivate(se,he,we,de):(0,I.N4e)(Yt,()=>Or(se,he,we,de))).pipe(re())});return(0,ie.of)(dt).pipe(vt())}(De.component,De.route,we,he,de)),re(De=>!0!==De,!0))}(dt,de,De,se).pipe((0,k.Z)(sr=>sr&&function F(se){return"boolean"==typeof se}(sr)?function be(se,he,we,de){return(0,o.H)(he).pipe($(De=>(0,m.x)(function Ge(se,he){return null!==se&&he&&he(new ye(se)),(0,ie.of)(!0)}(De.route.parent,de),function ge(se,he){return null!==se&&he&&he(new ht(se)),(0,ie.of)(!0)}(De.route,de),function Xt(se,he,we){const de=he[he.length-1],rt=he.slice(0,he.length-1).reverse().map(dt=>function Rs(se){const he=se.routeConfig?se.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:se,guards:he}:null}(dt)).filter(dt=>null!==dt).map(dt=>(0,S.v)(()=>{const sr=dt.guards.map(_r=>{var Yt;const Or=null!==(Yt=Ue(dt.node))&&void 0!==Yt?Yt:we,Xr=_s(_r,Or);return ir(function fe(se){return se&&E(se.canActivateChild)}(Xr)?Xr.canActivateChild(de,se):(0,I.N4e)(Or,()=>Xr(de,se))).pipe(re())});return(0,ie.of)(sr).pipe(vt())}));return(0,ie.of)(rt).pipe(vt())}(se,De.path,we),function Ut(se,he,we){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,ie.of)(!0);const De=de.map(rt=>(0,S.v)(()=>{var dt;const sr=null!==(dt=Ue(he))&&void 0!==dt?dt:we,_r=_s(rt,sr);return ir(function ne(se){return se&&E(se.canActivate)}(_r)?_r.canActivate(he,se):(0,I.N4e)(sr,()=>_r(he,se))).pipe(re())}));return(0,ie.of)(De).pipe(vt())}(se,De.route,we))),re(De=>!0!==De,!0))}(de,rt,se,he):(0,ie.of)(sr)),(0,g.T)(sr=>({...we,guardsResult:sr})))})}(this.environmentInjector,Yt=>this.events.next(Yt)),(0,Q.M)(Yt=>{if(dt.guardsResult=Yt.guardsResult,Yt.guardsResult&&"boolean"!=typeof Yt.guardsResult)throw xo(0,Yt.guardsResult);const Or=new Wn(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot,!!Yt.guardsResult);this.events.next(Or)}),(0,N.p)(Yt=>!!Yt.guardsResult||(this.cancelNavigationTransition(Yt,"",Ln.GuardRejected),!1)),xa(Yt=>{if(Yt.guards.canActivateChecks.length)return(0,ie.of)(Yt).pipe((0,Q.M)(Or=>{const Xr=new Vo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}),(0,p.n)(Or=>{let Xr=!1;return(0,ie.of)(Or).pipe(function An(se,he){return(0,k.Z)(we=>{const{targetSnapshot:de,guards:{canActivateChecks:De}}=we;if(!De.length)return(0,ie.of)(we);const rt=new Set(De.map(_r=>_r.route)),dt=new Set;for(const _r of rt)if(!dt.has(_r))for(const Yt of Vu(_r))dt.add(Yt);let sr=0;return(0,o.H)(dt).pipe($(_r=>rt.has(_r)?function Gu(se,he,we,de){const De=se.routeConfig,rt=se._resolve;return void 0!==(null==De?void 0:De.title)&&!kr(De)&&(rt[nt]=De.title),function Hu(se,he,we,de){const De=Ze(se);if(0===De.length)return(0,ie.of)({});const rt={};return(0,o.H)(De).pipe((0,k.Z)(dt=>function Bd(se,he,we,de){var De;const rt=null!==(De=Ue(he))&&void 0!==De?De:de,dt=_s(se,rt);return ir(dt.resolve?dt.resolve(he,we):(0,I.N4e)(rt,()=>dt(he,we)))}(se[dt],he,we,de).pipe(re(),(0,Q.M)(sr=>{if(sr instanceof Go)throw xo(new Ct,sr);rt[dt]=sr}))),xe(1),(0,j.u)(rt),H(dt=>tt(dt)?l.w:(0,i.$)(dt)))}(rt,se,he,de).pipe((0,g.T)(dt=>(se._resolvedData=dt,se.data=Gr(se,se.parent,we).resolve,null)))}(_r,de,se,he):(_r.data=Gr(_r,_r.parent,se).resolve,(0,ie.of)(void 0))),(0,Q.M)(()=>sr++),xe(1),(0,k.Z)(_r=>sr===dt.size?(0,ie.of)(we):l.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Q.M)({next:()=>Xr=!0,complete:()=>{Xr||this.cancelNavigationTransition(Or,"",Ln.NoDataFromResolver)}}))}),(0,Q.M)(Or=>{const Xr=new oo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}))}),xa(Yt=>{const Or=Xr=>{var fn;const Jr=[];null!==(fn=Xr.routeConfig)&&void 0!==fn&&fn.loadComponent&&!Xr.routeConfig._loadedComponent&&Jr.push(this.configLoader.loadComponent(Xr.routeConfig).pipe((0,Q.M)(ro=>{Xr.component=ro}),(0,g.T)(()=>{})));for(const ro of Xr.children)Jr.push(...Or(ro));return Jr};return(0,v.z)(Or(Yt.targetSnapshot.root)).pipe(D(null),(0,y.s)(1))}),xa(()=>this.afterPreactivation()),(0,p.n)(()=>{var Yt;const{currentSnapshot:Or,targetSnapshot:Xr}=dt,fn=null===(Yt=this.createViewTransition)||void 0===Yt?void 0:Yt.call(this,this.environmentInjector,Or.root,Xr.root);return fn?(0,o.H)(fn).pipe((0,g.T)(()=>dt)):(0,ie.of)(dt)}),(0,g.T)(Yt=>{const Or=function yi(se,he,we){const de=ho(se,he._root,we?we._root:void 0);return new Cr(de,he)}(de.routeReuseStrategy,Yt.targetSnapshot,Yt.currentRouterState);return this.currentTransition=dt={...Yt,targetRouterState:Or},this.currentNavigation.targetRouterState=Or,dt}),(0,Q.M)(()=>{this.events.next(new Qt)}),((se,he,we,de)=>(0,g.T)(De=>(new Mo(he,De.targetRouterState,De.currentRouterState,we,de).activate(se),De)))(this.rootContexts,de.routeReuseStrategy,Yt=>this.events.next(Yt),this.inputBindingEnabled),(0,y.s)(1),(0,Q.M)({next:Yt=>{var Or;sr=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects))),null===(Or=this.titleStrategy)||void 0===Or||Or.updateTitle(Yt.targetRouterState.snapshot),Yt.resolve(!0)},complete:()=>{sr=!0}}),function Le(se){return(0,z.N)((he,we)=>{(0,V.Tg)(se).subscribe((0,X._)(we,()=>we.complete(),Se.l)),!we.closed&&he.subscribe(we)})}(this.transitionAbortSubject.pipe((0,Q.M)(Yt=>{throw Yt}))),oe(()=>{var Yt;!sr&&!_r&&this.cancelNavigationTransition(dt,"",Ln.SupersededByNewNavigation),(null===(Yt=this.currentTransition)||void 0===Yt?void 0:Yt.id)===dt.id&&(this.currentNavigation=null,this.currentTransition=null)}),H(Yt=>{if(_r=!0,xn(Yt))this.events.next(new eo(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Yt.message,Yt.cancellationCode)),function bs(se){return xn(se)&&C(se.url)}(Yt)?this.events.next(new hn(Yt.url,Yt.navigationBehaviorOptions)):dt.resolve(!1);else{var Or;const Xr=new Ro(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Yt,null!==(Or=dt.targetSnapshot)&&void 0!==Or?Or:void 0);try{const fn=(0,I.N4e)(this.environmentInjector,()=>{var Jr;return null===(Jr=this.navigationErrorHandler)||void 0===Jr?void 0:Jr.call(this,Xr)});if(fn instanceof Go){const{message:Jr,cancellationCode:ro}=xo(0,fn);this.events.next(new eo(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Jr,ro)),this.events.next(new hn(fn.redirectTo,fn.navigationBehaviorOptions))}else{this.events.next(Xr);const Jr=de.errorHandler(Yt);dt.resolve(!!Jr)}}catch(fn){this.options.resolveNavigationPromiseOnError?dt.resolve(!1):dt.reject(fn)}}return l.w}))}))}cancelNavigationTransition(de,De,rt){const dt=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),De,rt);this.events.next(dt),de.resolve(!1)}isUpdatingInternalState(){var de,De;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(De=this.currentTransition)||void 0===De?void 0:De.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,De,rt,dt;const sr=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),_r=null!==(de=null===(De=this.currentNavigation)||void 0===De?void 0:De.targetBrowserUrl)&&void 0!==de?de:null===(rt=this.currentNavigation)||void 0===rt?void 0:rt.extractedUrl;return sr.toString()!==(null==_r?void 0:_r.toString())&&!(null!==(dt=this.currentNavigation)&&void 0!==dt&&dt.extras.skipLocationChange)}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();function Cn(se){return se!==Dn}let Yr=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:()=>(0,I.WQX)(Rr),providedIn:"root"}),he})();class In{shouldDetach(he){return!1}store(he,we){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,we){return he.routeConfig===we.routeConfig}}let Rr=(()=>{var se;class he extends In{}return(se=he).\u0275fac=(()=>{let we;return function(De){return(we||(we=I.xGo(se)))(De||se)}})(),se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})(),Jn=(()=>{var se;class he{}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:()=>(0,I.WQX)(hs),providedIn:"root"}),he})(),hs=(()=>{var se;class he extends Jn{constructor(){super(...arguments),this.location=(0,I.WQX)(h.aZ),this.urlSerializer=(0,I.WQX)(nr),this.options=(0,I.WQX)(Hs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,I.WQX)(wt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,De;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(De=this.restoredState())||void 0===De?void 0:De.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(De=>{"popstate"===De.type&&de(De.url,De.state)})}handleRouterEvent(de,De){if(de instanceof Gn)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=De.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!De.extras.skipLocationChange){var rt;const sr=this.urlHandlingStrategy.merge(De.finalUrl,De.initialUrl);this.setBrowserUrl(null!==(rt=De.targetBrowserUrl)&&void 0!==rt?rt:sr,De)}}else if(de instanceof Qt){var dt;this.currentUrlTree=De.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(De.finalUrl,De.initialUrl),this.routerState=De.targetRouterState,"deferred"!==this.urlUpdateStrategy||De.extras.skipLocationChange||this.setBrowserUrl(null!==(dt=De.targetBrowserUrl)&&void 0!==dt?dt:this.rawUrlTree,De)}else de instanceof eo&&(de.code===Ln.GuardRejected||de.code===Ln.NoDataFromResolver)?this.restoreHistory(De):de instanceof Ro?this.restoreHistory(De,!0):de instanceof bn&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,De){const rt=de instanceof Ve?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(rt)||De.extras.replaceUrl){const sr={...De.extras.state,...this.generateNgRouterState(De.id,this.browserPageId)};this.location.replaceState(rt,"",sr)}else{const dt={...De.extras.state,...this.generateNgRouterState(De.id,this.browserPageId+1)};this.location.go(rt,"",dt)}}restoreHistory(de,De=!1){if("computed"===this.canceledNavigationResolution){const dt=this.currentPageId-this.browserPageId;0!==dt?this.location.historyGo(dt):this.currentUrlTree===de.finalUrl&&0===dt&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(De&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var De;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(De=de.finalUrl)&&void 0!==De?De:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,De){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:De}:{navigationId:de}}}return(se=he).\u0275fac=(()=>{let we;return function(De){return(we||(we=I.xGo(se)))(De||se)}})(),se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();var po=function(se){return se[se.COMPLETE=0]="COMPLETE",se[se.FAILED=1]="FAILED",se[se.REDIRECTING=2]="REDIRECTING",se}(po||{});function zs(se,he){se.events.pipe((0,N.p)(we=>we instanceof bn||we instanceof eo||we instanceof Ro||we instanceof wo),(0,g.T)(we=>we instanceof bn||we instanceof wo?po.COMPLETE:we instanceof eo&&(we.code===Ln.Redirect||we.code===Ln.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,N.p)(we=>we!==po.REDIRECTING),(0,y.s)(1)).subscribe(()=>{he()})}function Ls(se){throw se}const Ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var se;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,De;this.disposed=!1,this.console=(0,I.WQX)(I.H3F),this.stateManager=(0,I.WQX)(Jn),this.options=(0,I.WQX)(Hs,{optional:!0})||{},this.pendingTasks=(0,I.WQX)(I.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,I.WQX)(rn),this.urlSerializer=(0,I.WQX)(nr),this.location=(0,I.WQX)(h.aZ),this.urlHandlingStrategy=(0,I.WQX)(wt),this._events=new u.B,this.errorHandler=this.options.errorHandler||Ls,this.navigated=!1,this.routeReuseStrategy=(0,I.WQX)(Yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(De=(0,I.WQX)(ds,{optional:!0}))||void 0===De?void 0:De.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,I.WQX)(Pn,{optional:!0}),this.eventsSubscription=new d.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:rt=>{this.console.warn(rt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(De=>{try{const rt=this.navigationTransitions.currentTransition,dt=this.navigationTransitions.currentNavigation;if(null!==rt&&null!==dt)if(this.stateManager.handleRouterEvent(De,dt),De instanceof eo&&De.code!==Ln.Redirect&&De.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(De instanceof bn)this.navigated=!0;else if(De instanceof hn){const sr=De.navigationBehaviorOptions,_r=this.urlHandlingStrategy.merge(De.url,rt.currentRawUrl),Yt={browserUrl:rt.extras.browserUrl,info:rt.extras.info,skipLocationChange:rt.extras.skipLocationChange,replaceUrl:rt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Cn(rt.source),...sr};this.scheduleNavigation(_r,Dn,null,Yt,{resolve:rt.resolve,reject:rt.reject,promise:rt.promise})}(function Ca(se){return!(se instanceof Qt||se instanceof hn)})(De)&&this._events.next(De)}catch(rt){this.navigationTransitions.transitionAbortSubject.next(rt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((De,rt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(De,"popstate",rt)},0)}))}navigateToSyncWithBrowser(de,De,rt){const dt={replaceUrl:!0},sr=null!=rt&&rt.navigationId?rt:null;if(rt){const Yt={...rt};delete Yt.navigationId,delete Yt.\u0275routerPageId,0!==Object.keys(Yt).length&&(dt.state=Yt)}const _r=this.parseUrl(de);this.scheduleNavigation(_r,De,sr,dt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,De={}){const{relativeTo:rt,queryParams:dt,fragment:sr,queryParamsHandling:_r,preserveFragment:Yt}=De,Or=Yt?this.currentUrlTree.fragment:sr;let fn,Xr=null;switch(_r){case"merge":Xr={...this.currentUrlTree.queryParams,...dt};break;case"preserve":Xr=this.currentUrlTree.queryParams;break;default:Xr=dt||null}null!==Xr&&(Xr=this.removeEmptyProps(Xr));try{fn=U(rt?rt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),fn=this.currentUrlTree.root}return te(fn,de,Xr,null!=Or?Or:null)}navigateByUrl(de,De={skipLocationChange:!1}){const rt=C(de)?de:this.parseUrl(de),dt=this.urlHandlingStrategy.merge(rt,this.rawUrlTree);return this.scheduleNavigation(dt,Dn,null,De)}navigate(de,De={skipLocationChange:!1}){return function Hi(se){for(let he=0;he<se.length;he++)if(null==se[he])throw new I.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,De),De)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,De){let rt;if(rt=!0===De?{...Ws}:!1===De?{...Fs}:De,C(de))return Ht(this.currentUrlTree,de,rt);const dt=this.parseUrl(de);return Ht(this.currentUrlTree,dt,rt)}removeEmptyProps(de){return Object.entries(de).reduce((De,[rt,dt])=>(null!=dt&&(De[rt]=dt),De),{})}scheduleNavigation(de,De,rt,dt,sr){if(this.disposed)return Promise.resolve(!1);let _r,Yt,Or;sr?(_r=sr.resolve,Yt=sr.reject,Or=sr.promise):Or=new Promise((fn,Jr)=>{_r=fn,Yt=Jr});const Xr=this.pendingTasks.add();return zs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xr))}),this.navigationTransitions.handleNavigationRequest({source:De,restoredState:rt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:dt,resolve:_r,reject:Yt,promise:Or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Or.catch(fn=>Promise.reject(fn))}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var se;class he{constructor(de,De,rt,dt,sr,_r){var Yt;this.router=de,this.route=De,this.tabIndexAttribute=rt,this.renderer=dt,this.el=sr,this.locationStrategy=_r,this.href=null,this.onChanges=new u.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Or=null===(Yt=sr.nativeElement.tagName)||void 0===Yt?void 0:Yt.toLowerCase();this.isAnchorElement="a"===Or||"area"===Or,this.isAnchorElement?this.subscription=de.events.subscribe(Xr=>{Xr instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=C(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,De,rt,dt,sr){const _r=this.urlTree;return!!(null===_r||this.isAnchorElement&&(0!==de||De||rt||dt||sr||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_r,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const De=this.urlTree;this.href=null!==De&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(De)):null;const rt=null===this.href?null:(0,I.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",rt)}applyAttributeValue(de,De){const rt=this.renderer,dt=this.el.nativeElement;null!==De?rt.setAttribute(dt,de,De):rt.removeAttribute(dt,de)}get urlTree(){return null===this.routerLinkInput?null:C(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(se=he).\u0275fac=function(de){return new(de||se)(I.rXU(co),I.rXU(Fr),I.kS0("tabindex"),I.rXU(I.sFG),I.rXU(I.aKT),I.rXU(h.hb))},se.\u0275dir=I.FsC({type:se,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,De){1&de&&I.bIt("click",function(dt){return De.onClick(dt.button,dt.ctrlKey,dt.shiftKey,dt.altKey,dt.metaKey)}),2&de&&I.BMQ("target",De.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",I.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",I.L39],replaceUrl:[2,"replaceUrl","replaceUrl",I.L39],routerLink:"routerLink"},standalone:!0,features:[I.GFd,I.OA$]}),he})();class zo{}let ji=(()=>{var se;class he{preload(de,De){return De().pipe(H(()=>(0,ie.of)(null)))}}return(se=he).\u0275fac=function(de){return new(de||se)},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var se;class he{constructor(de,De,rt,dt,sr){this.router=de,this.injector=rt,this.preloadingStrategy=dt,this.loader=sr}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.p)(de=>de instanceof bn),$(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,De){const rt=[];for(const Yt of De){var dt,sr;Yt.providers&&!Yt._injector&&(Yt._injector=(0,I.Ol2)(Yt.providers,de,`Route: ${Yt.path}`));const Or=null!==(dt=Yt._injector)&&void 0!==dt?dt:de,Xr=null!==(sr=Yt._loadedInjector)&&void 0!==sr?sr:Or;var _r;(Yt.loadChildren&&!Yt._loadedRoutes&&void 0===Yt.canLoad||Yt.loadComponent&&!Yt._loadedComponent)&&rt.push(this.preloadConfig(Or,Yt)),(Yt.children||Yt._loadedRoutes)&&rt.push(this.processRoutes(Xr,null!==(_r=Yt.children)&&void 0!==_r?_r:Yt._loadedRoutes))}return(0,o.H)(rt).pipe((0,Xe.U)())}preloadConfig(de,De){return this.preloadingStrategy.preload(De,()=>{let rt;rt=De.loadChildren&&void 0===De.canLoad?this.loader.loadChildren(de,De):(0,ie.of)(null);const dt=rt.pipe((0,k.Z)(sr=>{var _r;return null===sr?(0,ie.of)(void 0):(De._loadedRoutes=sr.routes,De._loadedInjector=sr.injector,this.processRoutes(null!==(_r=sr.injector)&&void 0!==_r?_r:de,sr.routes))}));if(De.loadComponent&&!De._loadedComponent){const sr=this.loader.loadComponent(De);return(0,o.H)([dt,sr]).pipe((0,Xe.U)())}return dt})}}return(se=he).\u0275fac=function(de){return new(de||se)(I.KVO(co),I.KVO(I.Ql9),I.KVO(I.uvJ),I.KVO(zo),I.KVO(xl))},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),he})();const Oi=new I.nKC("");let Aa=(()=>{var se;class he{constructor(de,De,rt,dt,sr={}){this.urlSerializer=de,this.transitions=De,this.viewportScroller=rt,this.zone=dt,this.options=sr,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},sr.scrollPositionRestoration||(sr.scrollPositionRestoration="disabled"),sr.anchorScrolling||(sr.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Gn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof bn?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof mt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,De){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,De))})},0)})}ngOnDestroy(){var de,De;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(De=this.scrollEventsSubscription)||void 0===De||De.unsubscribe()}}return(se=he).\u0275fac=function(de){I.QTQ()},se.\u0275prov=I.jDH({token:se,factory:se.\u0275fac}),he})();function Xs(se,he){return{\u0275kind:se,\u0275providers:he}}function Dl(){const se=(0,I.WQX)(I.zZn);return he=>{var we,de;const De=se.get(I.o8S);if(he!==De.components[0])return;const rt=se.get(co),dt=se.get(Ss);1===se.get(En)&&rt.initialNavigation(),null===(we=se.get(Wi,null,I.$GK.Optional))||void 0===we||we.setUpPreloading(),null===(de=se.get(Oi,null,I.$GK.Optional))||void 0===de||de.init(),rt.resetRootComponentType(De.componentTypes[0]),dt.closed||(dt.next(),dt.complete(),dt.unsubscribe())}}const Ss=new I.nKC("",{factory:()=>new u.B}),En=new I.nKC("",{providedIn:"root",factory:()=>1}),Wi=new I.nKC("");function Ma(se){return Xs(0,[{provide:Wi,useExisting:Ta},{provide:zo,useExisting:se}])}function qu(se){return Xs(9,[{provide:ut,useValue:pr},{provide:Mt,useValue:{skipNextTransition:!(null==se||!se.skipInitialTransition),...se}}])}const Pi=new I.nKC("ROUTER_FORROOT_GUARD"),Ku=[h.aZ,{provide:nr,useClass:Ct},co,At,{provide:Fr,useFactory:function Cl(se){return se.routerState.root},deps:[co]},xl,[]];let Yu=(()=>{var se;class he{constructor(de){}static forRoot(de,De){return{ngModule:he,providers:[Ku,[],{provide:ds,multi:!0,useValue:de},{provide:Pi,useFactory:Xd,deps:[[co,new I.Xx1,new I.kdw]]},{provide:Hs,useValue:De||{}},null!=De&&De.useHash?{provide:h.hb,useClass:h.fw}:{provide:h.hb,useClass:h.Sm},{provide:Oi,useFactory:()=>{const se=(0,I.WQX)(h.Xr),he=(0,I.WQX)(I.SKi),we=(0,I.WQX)(Hs),de=(0,I.WQX)(rn),De=(0,I.WQX)(nr);return we.scrollOffset&&se.setOffset(we.scrollOffset),new Aa(De,de,se,he,we)}},null!=De&&De.preloadingStrategy?Ma(De.preloadingStrategy).\u0275providers:[],null!=De&&De.initialNavigation?xs(De):[],null!=De&&De.bindToComponentInputs?Xs(8,[Os,{provide:Pn,useExisting:Os}]).\u0275providers:[],null!=De&&De.enableViewTransitions?qu().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:I.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:ds,multi:!0,useValue:de}]}}}return(se=he).\u0275fac=function(de){return new(de||se)(I.KVO(Pi,8))},se.\u0275mod=I.$C({type:se}),se.\u0275inj=I.G2t({}),he})();function Xd(se){return"guarded"}function xs(se){return["disabled"===se.initialNavigation?Xs(3,[{provide:I.hnV,multi:!0,useFactory:()=>{const he=(0,I.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:En,useValue:2}]).\u0275providers:[],"enabledBlocking"===se.initialNavigation?Xs(2,[{provide:En,useValue:0},{provide:I.hnV,multi:!0,deps:[I.zZn],useFactory:he=>{const we=he.get(h.hj,Promise.resolve());return()=>we.then(()=>new Promise(de=>{const De=he.get(co),rt=he.get(Ss);zs(De,()=>{de(!0)}),he.get(rn).afterPreactivation=()=>(de(!0),rt.closed?(0,ie.of)(void 0):rt),De.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new I.nKC("")},3656:(Dr,rr,_e)=>{"use strict";_e.d(rr,{Yq:()=>kt,TS:()=>Ye,sR:()=>it,el:()=>W,Sb:()=>nr,QE:()=>R,CF:()=>Qe,Rg:()=>tr,p4:()=>C,jM:()=>gt,q9:()=>nt,y8:()=>pt,Kb:()=>Wt,OD:()=>Xe,CE:()=>pe,pF:()=>Pe,fL:()=>U,YV:()=>wr,er:()=>Y,z3:()=>te});var I=_e(467),M=_e(9842),et=_e(3953),St=_e(9858),o=_e(177),ie=_e(5531),B=_e(4442);var D=_e(1413),O=_e(3726),P=_e(4412),J=_e(4572),re=_e(7673),$=_e(1635),Q=_e(5964),V=_e(5558),H=_e(3669),Z=_e(9974),le=_e(4360);function q(Ie,Ae){return Ie===Ae}var j=_e(4341);const oe=["tabsInner"];let Xe=(()=>{var Ie;class Ae{constructor($e,ct){(0,M.A)(this,"doc",void 0),(0,M.A)(this,"_readyPromise",void 0),(0,M.A)(this,"win",void 0),(0,M.A)(this,"backButton",new D.B),(0,M.A)(this,"keyboardDidShow",new D.B),(0,M.A)(this,"keyboardDidHide",new D.B),(0,M.A)(this,"pause",new D.B),(0,M.A)(this,"resume",new D.B),(0,M.A)(this,"resize",new D.B),this.doc=$e,ct.run(()=>{var Ft;let ur;this.win=$e.defaultView,this.backButton.subscribeWithPriority=function(vr,Pr){return this.subscribe(on=>on.register(vr,nn=>ct.run(()=>Pr(nn))))},He(this.pause,$e,"pause",ct),He(this.resume,$e,"resume",ct),He(this.backButton,$e,"ionBackButton",ct),He(this.resize,this.win,"resize",ct),He(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ct),He(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ct),this._readyPromise=new Promise(vr=>{ur=vr}),null!==(Ft=this.win)&&void 0!==Ft&&Ft.cordova?$e.addEventListener("deviceready",()=>{ur("cordova")},{once:!0}):ur("dom")})}is($e){return(0,ie.a)(this.win,$e)}platforms(){return(0,ie.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam($e){return lt(this.win.location.href,$e)}isLandscape(){return!this.isPortrait()}isPortrait(){var $e,ct;return null===($e=(ct=this.win).matchMedia)||void 0===$e?void 0:$e.call(ct,"(orientation: portrait)").matches}testUserAgent($e){const ct=this.win.navigator;return!!(null!=ct&&ct.userAgent&&ct.userAgent.indexOf($e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.KVO(o.qQ),et.KVO(et.SKi))}),(0,M.A)(Ae,"\u0275prov",et.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})),Ae})();const lt=(Ie,Ae)=>{Ae=Ae.replace(/[[\]\\]/g,"\\$&");const $e=new RegExp("[\\?&]"+Ae+"=([^&#]*)").exec(Ie);return $e?decodeURIComponent($e[1].replace(/\+/g," ")):null},He=(Ie,Ae,qe,$e)=>{Ae&&Ae.addEventListener(qe,ct=>{$e.run(()=>{Ie.next(null!=ct?ct.detail:void 0)})})};let nt=(()=>{var Ie;class Ae{constructor($e,ct,Ft,ur){(0,M.A)(this,"location",void 0),(0,M.A)(this,"serializer",void 0),(0,M.A)(this,"router",void 0),(0,M.A)(this,"topOutlet",void 0),(0,M.A)(this,"direction",Be),(0,M.A)(this,"animated",st),(0,M.A)(this,"animationBuilder",void 0),(0,M.A)(this,"guessDirection","forward"),(0,M.A)(this,"guessAnimation",void 0),(0,M.A)(this,"lastNavId",-1),this.location=ct,this.serializer=Ft,this.router=ur,ur&&ur.events.subscribe(vr=>{if(vr instanceof St.Z){const Pr=vr.restoredState?vr.restoredState.navigationId:vr.id;this.guessDirection=this.guessAnimation=Pr<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?vr.id:Pr}}),$e.backButton.subscribeWithPriority(0,vr=>{this.pop(),vr()})}navigateForward($e,ct={}){return this.setDirection("forward",ct.animated,ct.animationDirection,ct.animation),this.navigate($e,ct)}navigateBack($e,ct={}){return this.setDirection("back",ct.animated,ct.animationDirection,ct.animation),this.navigate($e,ct)}navigateRoot($e,ct={}){return this.setDirection("root",ct.animated,ct.animationDirection,ct.animation),this.navigate($e,ct)}back($e={animated:!0,animationDirection:"back"}){return this.setDirection("back",$e.animated,$e.animationDirection,$e.animation),this.location.back()}pop(){var $e=this;return(0,I.A)(function*(){let ct=$e.topOutlet;for(;ct;){if(yield ct.pop())return!0;ct=ct.parentOutlet}return!1})()}setDirection($e,ct,Ft,ur){this.direction=$e,this.animated=at($e,ct,Ft),this.animationBuilder=ur}setTopOutlet($e){this.topOutlet=$e}consumeTransition(){let ct,$e="root";const Ft=this.animationBuilder;return"auto"===this.direction?($e=this.guessDirection,ct=this.guessAnimation):(ct=this.animated,$e=this.direction),this.direction=Be,this.animated=st,this.animationBuilder=void 0,{direction:$e,animation:ct,animationBuilder:Ft}}navigate($e,ct){if(Array.isArray($e))return this.router.navigate($e,ct);{const Ft=this.serializer.parse($e.toString());return void 0!==ct.queryParams&&(Ft.queryParams={...ct.queryParams}),void 0!==ct.fragment&&(Ft.fragment=ct.fragment),this.router.navigateByUrl(Ft,ct)}}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.KVO(Xe),et.KVO(o.aZ),et.KVO(St.Sd),et.KVO(St.Ix,8))}),(0,M.A)(Ae,"\u0275prov",et.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})),Ae})();const at=(Ie,Ae,qe)=>{if(!1!==Ae){if(void 0!==qe)return qe;if("forward"===Ie||"back"===Ie)return Ie;if("root"===Ie&&!0===Ae)return"forward"}},Be="auto",st=void 0;let Ye=(()=>{var Ie;class Ae{get($e,ct){const Ft=Ze();return Ft?Ft.get($e,ct):null}getBoolean($e,ct){const Ft=Ze();return!!Ft&&Ft.getBoolean($e,ct)}getNumber($e,ct){const Ft=Ze();return Ft?Ft.getNumber($e,ct):0}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)}),(0,M.A)(Ae,"\u0275prov",et.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})),Ae})();const it=new et.nKC("USERCONFIG"),Ze=()=>{if(typeof window<"u"){const Ie=window.Ionic;if(null!=Ie&&Ie.config)return Ie.config}return null};class pt{constructor(Ae={}){(0,M.A)(this,"data",void 0),this.data=Ae,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Ae){return this.data[Ae]}}let kt=(()=>{var Ie;class Ae{constructor(){(0,M.A)(this,"zone",(0,et.WQX)(et.SKi)),(0,M.A)(this,"applicationRef",(0,et.WQX)(et.o8S)),(0,M.A)(this,"config",(0,et.WQX)(it))}create($e,ct,Ft){var ur;return new ir($e,ct,this.applicationRef,this.zone,Ft,null!==(ur=this.config.useSetInputAPI)&&void 0!==ur&&ur)}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)}),(0,M.A)(Ae,"\u0275prov",et.jDH({token:Ie,factory:Ie.\u0275fac})),Ae})();class ir{constructor(Ae,qe,$e,ct,Ft,ur){(0,M.A)(this,"environmentInjector",void 0),(0,M.A)(this,"injector",void 0),(0,M.A)(this,"applicationRef",void 0),(0,M.A)(this,"zone",void 0),(0,M.A)(this,"elementReferenceKey",void 0),(0,M.A)(this,"enableSignalsSupport",void 0),(0,M.A)(this,"elRefMap",new WeakMap),(0,M.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Ae,this.injector=qe,this.applicationRef=$e,this.zone=ct,this.elementReferenceKey=Ft,this.enableSignalsSupport=ur}attachViewToDom(Ae,qe,$e,ct){return this.zone.run(()=>new Promise(Ft=>{const ur={...$e};void 0!==this.elementReferenceKey&&(ur[this.elementReferenceKey]=Ae),Ft(zt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ae,qe,ur,ct,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Ae,qe){return this.zone.run(()=>new Promise($e=>{const ct=this.elRefMap.get(qe);if(ct){ct.destroy(),this.elRefMap.delete(qe);const Ft=this.elEventsMap.get(qe);Ft&&(Ft(),this.elEventsMap.delete(qe))}$e()}))}}const zt=(Ie,Ae,qe,$e,ct,Ft,ur,vr,Pr,on,nn,Nn)=>{const Dn=et.zZn.create({providers:Bt(Pr),parent:qe}),Kr=(0,et.a0P)(vr,{environmentInjector:Ae,elementInjector:Dn}),yn=Kr.instance,Gn=Kr.location.nativeElement;if(Pr)if(nn&&void 0!==yn[nn]&&console.error(`[Ionic Error]: ${nn} is a reserved property when using ${ur.tagName.toLowerCase()}. Rename or remove the "${nn}" property from ${vr.name}.`),!0===Nn&&void 0!==Kr.setInput){const{modal:Ln,popover:To,...eo}=Pr;for(const wo in eo)Kr.setInput(wo,eo[wo]);void 0!==Ln&&Object.assign(yn,{modal:Ln}),void 0!==To&&Object.assign(yn,{popover:To})}else Object.assign(yn,Pr);if(on)for(const Ln of on)Gn.classList.add(Ln);const bn=Ht(Ie,yn,Gn);return ur.appendChild(Gn),$e.attachView(Kr.hostView),ct.set(Gn,Kr),Ft.set(Gn,bn),Gn},hr=[B.L,B.a,B.b,B.c,B.d],Ht=(Ie,Ae,qe)=>Ie.run(()=>{const $e=hr.filter(ct=>"function"==typeof Ae[ct]).map(ct=>{const Ft=ur=>Ae[ct](ur.detail);return qe.addEventListener(ct,Ft),()=>qe.removeEventListener(ct,Ft)});return()=>$e.forEach(ct=>ct())}),br=new et.nKC("NavParamsToken"),Bt=Ie=>[{provide:br,useValue:Ie},{provide:pt,useFactory:fr,deps:[br]}],fr=Ie=>new pt(Ie),jt=(Ie,Ae)=>{const qe=Ie.prototype;Ae.forEach($e=>{Object.defineProperty(qe,$e,{get(){return this.el[$e]},set(ct){this.z.runOutsideAngular(()=>this.el[$e]=ct)}})})},ar=(Ie,Ae)=>{const qe=Ie.prototype;Ae.forEach($e=>{qe[$e]=function(){const ct=arguments;return this.z.runOutsideAngular(()=>this.el[$e].apply(this.el,ct))}})},$t=(Ie,Ae,qe)=>{qe.forEach($e=>Ie[$e]=(0,O.R)(Ae,$e))};function Ve(Ie){return function(qe){const{defineCustomElementFn:$e,inputs:ct,methods:Ft}=Ie;return void 0!==$e&&$e(),ct&&jt(qe,ct),Ft&&ar(qe,Ft),qe}}const We=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Re=["present","dismiss","onDidDismiss","onWillDismiss"];let Qe=(()=>{var Ie;let Ae=((0,M.A)(Ie=class{constructor($e,ct,Ft){(0,M.A)(this,"z",void 0),(0,M.A)(this,"template",void 0),(0,M.A)(this,"isCmpOpen",!1),(0,M.A)(this,"el",void 0),this.z=Ft,this.el=ct.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),$t(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function($e){return new($e||Ie)(et.rXU(et.gRc),et.rXU(et.aKT),et.rXU(et.SKi))}),(0,M.A)(Ie,"\u0275dir",et.FsC({type:Ie,selectors:[["ion-popover"]],contentQueries:function($e,ct,Ft){if(1&$e&&et.wni(Ft,et.C4Q,5),2&$e){let ur;et.mGM(ur=et.lsd())&&(ct.template=ur.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Ie);return Ae=(0,$.Cg)([Ve({inputs:We,methods:Re})],Ae),Ae})();const Ot=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],qt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let nr=(()=>{var Ie;let Ae=((0,M.A)(Ie=class{constructor($e,ct,Ft){(0,M.A)(this,"z",void 0),(0,M.A)(this,"template",void 0),(0,M.A)(this,"isCmpOpen",!1),(0,M.A)(this,"el",void 0),this.z=Ft,this.el=ct.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),$t(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function($e){return new($e||Ie)(et.rXU(et.gRc),et.rXU(et.aKT),et.rXU(et.SKi))}),(0,M.A)(Ie,"\u0275dir",et.FsC({type:Ie,selectors:[["ion-modal"]],contentQueries:function($e,ct,Ft){if(1&$e&&et.wni(Ft,et.C4Q,5),2&$e){let ur;et.mGM(ur=et.lsd())&&(ct.template=ur.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Ie);return Ae=(0,$.Cg)([Ve({inputs:Ot,methods:qt})],Ae),Ae})();const Tt=(Ie,Ae)=>((Ie=Ie.filter(qe=>qe.stackId!==Ae.stackId)).push(Ae),Ie),Dt=(Ie,Ae)=>{const qe=Ie.createUrlTree(["."],{relativeTo:Ae});return Ie.serializeUrl(qe)},yt=(Ie,Ae)=>!Ae||Ie.stackId!==Ae.stackId,Nt=(Ie,Ae)=>{if(!Ie)return;const qe=bt(Ae);for(let $e=0;$e<qe.length;$e++){if($e>=Ie.length)return qe[$e];if(qe[$e]!==Ie[$e])return}},bt=Ie=>Ie.split("/").map(Ae=>Ae.trim()).filter(Ae=>""!==Ae),Rt=Ie=>{Ie&&(Ie.ref.destroy(),Ie.unlistenEvents())};class cr{constructor(Ae,qe,$e,ct,Ft,ur){(0,M.A)(this,"containerEl",void 0),(0,M.A)(this,"router",void 0),(0,M.A)(this,"navCtrl",void 0),(0,M.A)(this,"zone",void 0),(0,M.A)(this,"location",void 0),(0,M.A)(this,"views",[]),(0,M.A)(this,"runningTask",void 0),(0,M.A)(this,"skipTransition",!1),(0,M.A)(this,"tabsPrefix",void 0),(0,M.A)(this,"activeView",void 0),(0,M.A)(this,"nextId",0),this.containerEl=qe,this.router=$e,this.navCtrl=ct,this.zone=Ft,this.location=ur,this.tabsPrefix=void 0!==Ae?bt(Ae):void 0}createView(Ae,qe){var $e;const ct=Dt(this.router,qe),Ft=null==Ae||null===($e=Ae.location)||void 0===$e?void 0:$e.nativeElement,ur=Ht(this.zone,Ae.instance,Ft);return{id:this.nextId++,stackId:Nt(this.tabsPrefix,ct),unlistenEvents:ur,element:Ft,ref:Ae,url:ct}}getExistingView(Ae){const qe=Dt(this.router,Ae),$e=this.views.find(ct=>ct.url===qe);return $e&&$e.ref.changeDetectorRef.reattach(),$e}setActive(Ae){var qe,$e;const ct=this.navCtrl.consumeTransition();let{direction:Ft,animation:ur,animationBuilder:vr}=ct;const Pr=this.activeView,on=yt(Ae,Pr);on&&(Ft="back",ur=void 0);const nn=this.views.slice();let Nn;const Dn=this.router;Dn.getCurrentNavigation?Nn=Dn.getCurrentNavigation():null!==(qe=Dn.navigations)&&void 0!==qe&&qe.value&&(Nn=Dn.navigations.value),null!==($e=Nn)&&void 0!==$e&&null!==($e=$e.extras)&&void 0!==$e&&$e.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Kr=this.views.includes(Ae),yn=this.insertView(Ae,Ft);Kr||Ae.ref.changeDetectorRef.detectChanges();const Gn=Ae.animationBuilder;return void 0===vr&&"back"===Ft&&!on&&void 0!==Gn&&(vr=Gn),Pr&&(Pr.animationBuilder=vr),this.zone.runOutsideAngular(()=>this.wait(()=>(Pr&&Pr.ref.changeDetectorRef.detach(),Ae.ref.changeDetectorRef.reattach(),this.transition(Ae,Pr,ur,this.canGoBack(1),!1,vr).then(()=>ft(Ae,yn,nn,this.location,this.zone)).then(()=>({enteringView:Ae,direction:Ft,animation:ur,tabSwitch:on})))))}canGoBack(Ae,qe=this.getActiveStackId()){return this.getStack(qe).length>Ae}pop(Ae,qe=this.getActiveStackId()){return this.zone.run(()=>{const $e=this.getStack(qe);if($e.length<=Ae)return Promise.resolve(!1);const ct=$e[$e.length-Ae-1];let Ft=ct.url;const ur=ct.savedData;if(ur){var vr;const on=ur.get("primary");null!=on&&null!==(vr=on.route)&&void 0!==vr&&null!==(vr=vr._routerState)&&void 0!==vr&&vr.snapshot.url&&(Ft=on.route._routerState.snapshot.url)}const{animationBuilder:Pr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ft,{...ct.savedExtras,animation:Pr}).then(()=>!0)})}startBackTransition(){const Ae=this.activeView;if(Ae){const qe=this.getStack(Ae.stackId),$e=qe[qe.length-2],ct=$e.animationBuilder;return this.wait(()=>this.transition($e,Ae,"back",this.canGoBack(2),!0,ct))}return Promise.resolve()}endBackTransition(Ae){Ae?(this.skipTransition=!0,this.pop(1)):this.activeView&&xt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ae){const qe=this.getStack(Ae);return qe.length>0?qe[qe.length-1]:void 0}getRootUrl(Ae){const qe=this.getStack(Ae);return qe.length>0?qe[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Rt),this.activeView=void 0,this.views=[]}getStack(Ae){return this.views.filter(qe=>qe.stackId===Ae)}insertView(Ae,qe){return this.activeView=Ae,this.views=((Ie,Ae,qe)=>"root"===qe?Tt(Ie,Ae):"forward"===qe?((Ie,Ae)=>(Ie.indexOf(Ae)>=0?Ie=Ie.filter($e=>$e.stackId!==Ae.stackId||$e.id<=Ae.id):Ie.push(Ae),Ie))(Ie,Ae):((Ie,Ae)=>Ie.indexOf(Ae)>=0?Ie.filter($e=>$e.stackId!==Ae.stackId||$e.id<=Ae.id):Tt(Ie,Ae))(Ie,Ae))(this.views,Ae,qe),this.views.slice()}transition(Ae,qe,$e,ct,Ft,ur){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(qe===Ae)return Promise.resolve(!1);const vr=Ae?Ae.element:void 0,Pr=qe?qe.element:void 0,on=this.containerEl;return vr&&vr!==Pr&&(vr.classList.add("ion-page"),vr.classList.add("ion-page-invisible"),on.commit)?on.commit(vr,Pr,{duration:void 0===$e?0:void 0,direction:$e,showGoBack:ct,progressAnimation:Ft,animationBuilder:ur}):Promise.resolve(!1)}wait(Ae){var qe=this;return(0,I.A)(function*(){void 0!==qe.runningTask&&(yield qe.runningTask,qe.runningTask=void 0);const $e=qe.runningTask=Ae();return $e.finally(()=>qe.runningTask=void 0),$e})()}}const ft=(Ie,Ae,qe,$e,ct)=>"function"==typeof requestAnimationFrame?new Promise(Ft=>{requestAnimationFrame(()=>{xt(Ie,Ae,qe,$e,ct),Ft()})}):Promise.resolve(),xt=(Ie,Ae,qe,$e,ct)=>{ct.run(()=>qe.filter(Ft=>!Ae.includes(Ft)).forEach(Rt)),Ae.forEach(Ft=>{const vr=$e.path().split("?")[0].split("#")[0];if(Ft!==Ie&&Ft.url!==vr){const Pr=Ft.element;Pr.setAttribute("aria-hidden","true"),Pr.classList.add("ion-page-hidden"),Ft.ref.changeDetectorRef.detach()}})};let tr=(()=>{var Ie;class Ae{get activatedComponentRef(){return this.activated}set animation($e){this.nativeEl.animation=$e}set animated($e){this.nativeEl.animated=$e}set swipeGesture($e){this._swipeGesture=$e,this.nativeEl.swipeHandler=$e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ct=>this.stackCtrl.endBackTransition(ct)}:void 0}constructor($e,ct,Ft,ur,vr,Pr,on,nn){(0,M.A)(this,"parentOutlet",void 0),(0,M.A)(this,"nativeEl",void 0),(0,M.A)(this,"activatedView",null),(0,M.A)(this,"tabsPrefix",void 0),(0,M.A)(this,"_swipeGesture",void 0),(0,M.A)(this,"stackCtrl",void 0),(0,M.A)(this,"proxyMap",new WeakMap),(0,M.A)(this,"currentActivatedRoute$",new P.t(null)),(0,M.A)(this,"activated",null),(0,M.A)(this,"_activatedRoute",null),(0,M.A)(this,"name",St.Xk),(0,M.A)(this,"stackWillChange",new et.bkB),(0,M.A)(this,"stackDidChange",new et.bkB),(0,M.A)(this,"activateEvents",new et.bkB),(0,M.A)(this,"deactivateEvents",new et.bkB),(0,M.A)(this,"parentContexts",(0,et.WQX)(St.Zp)),(0,M.A)(this,"location",(0,et.WQX)(et.c1b)),(0,M.A)(this,"environmentInjector",(0,et.WQX)(et.uvJ)),(0,M.A)(this,"inputBinder",(0,et.WQX)(lr,{optional:!0})),(0,M.A)(this,"supportsBindingToComponentInputs",!0),(0,M.A)(this,"config",(0,et.WQX)(Ye)),(0,M.A)(this,"navCtrl",(0,et.WQX)(nt)),this.parentOutlet=nn,this.nativeEl=ur.nativeElement,this.name=$e||St.Xk,this.tabsPrefix="true"===ct?Dt(vr,on):void 0,this.stackCtrl=new cr(this.tabsPrefix,this.nativeEl,vr,this.navCtrl,Pr,Ft),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var $e;this.stackCtrl.destroy(),null===($e=this.inputBinder)||void 0===$e||$e.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const $e=this.getContext();null!=$e&&$e.route&&this.activateWith($e.route,$e.injector)}new Promise($e=>((Ie,Ae)=>{Ie.componentOnReady?Ie.componentOnReady().then(qe=>Ae(qe)):(Ie=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ie):setTimeout(Ie)})(()=>Ae(Ie))})(this.nativeEl,$e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach($e,ct){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ct=this.getContext();this.activatedView.savedData=new Map(ct.children.contexts);const Ft=this.activatedView.savedData.get("primary");if(Ft&&ct.route&&(Ft.route={...ct.route}),this.activatedView.savedExtras={},ct.route){const ur=ct.route.snapshot;this.activatedView.savedExtras.queryParams=ur.queryParams,this.activatedView.savedExtras.fragment=ur.fragment}}const $e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit($e)}}activateWith($e,ct){var Ft;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=$e;let ur,vr=this.stackCtrl.getExistingView($e);if(vr){ur=this.activated=vr.ref;const nn=vr.savedData;nn&&(this.getContext().children.contexts=nn),this.updateActivatedRouteProxy(ur.instance,$e)}else{var Pr;const nn=$e._futureSnapshot,Nn=this.parentContexts.getOrCreateContext(this.name).children,Dn=new P.t(null),Kr=this.createActivatedRouteProxy(Dn,$e),yn=new Zt(Kr,Nn,this.location.injector),Gn=null!==(Pr=nn.routeConfig.component)&&void 0!==Pr?Pr:nn.component;ur=this.activated=this.outletContent.createComponent(Gn,{index:this.outletContent.length,injector:yn,environmentInjector:null!=ct?ct:this.environmentInjector}),Dn.next(ur.instance),vr=this.stackCtrl.createView(this.activated,$e),this.proxyMap.set(ur.instance,Kr),this.currentActivatedRoute$.next({component:ur.instance,activatedRoute:$e})}null===(Ft=this.inputBinder)||void 0===Ft||Ft.bindActivatedRouteToOutletComponent(this),this.activatedView=vr,this.navCtrl.setTopOutlet(this);const on=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:vr,tabSwitch:yt(vr,on)}),this.stackCtrl.setActive(vr).then(nn=>{this.activateEvents.emit(ur.instance),this.stackDidChange.emit(nn)})}canGoBack($e=1,ct){return this.stackCtrl.canGoBack($e,ct)}pop($e=1,ct){return this.stackCtrl.pop($e,ct)}getLastUrl($e){const ct=this.stackCtrl.getLastUrl($e);return ct?ct.url:void 0}getLastRouteView($e){return this.stackCtrl.getLastUrl($e)}getRootView($e){return this.stackCtrl.getRootUrl($e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy($e,ct){const Ft=new St.nX;return Ft._futureSnapshot=ct._futureSnapshot,Ft._routerState=ct._routerState,Ft.snapshot=ct.snapshot,Ft.outlet=ct.outlet,Ft.component=ct.component,Ft._paramMap=this.proxyObservable($e,"paramMap"),Ft._queryParamMap=this.proxyObservable($e,"queryParamMap"),Ft.url=this.proxyObservable($e,"url"),Ft.params=this.proxyObservable($e,"params"),Ft.queryParams=this.proxyObservable($e,"queryParams"),Ft.fragment=this.proxyObservable($e,"fragment"),Ft.data=this.proxyObservable($e,"data"),Ft}proxyObservable($e,ct){return $e.pipe((0,Q.p)(Ft=>!!Ft),(0,V.n)(Ft=>this.currentActivatedRoute$.pipe((0,Q.p)(ur=>null!==ur&&ur.component===Ft),(0,V.n)(ur=>ur&&ur.activatedRoute[ct]),function xe(Ie,Ae=H.D){return Ie=null!=Ie?Ie:q,(0,Z.N)((qe,$e)=>{let ct,Ft=!0;qe.subscribe((0,le._)($e,ur=>{const vr=Ae(ur);(Ft||!Ie(ct,vr))&&(Ft=!1,ct=vr,$e.next(ur))}))})}())))}updateActivatedRouteProxy($e,ct){const Ft=this.proxyMap.get($e);if(!Ft)throw new Error("Could not find activated route proxy for view");Ft._futureSnapshot=ct._futureSnapshot,Ft._routerState=ct._routerState,Ft.snapshot=ct.snapshot,Ft.outlet=ct.outlet,Ft.component=ct.component,this.currentActivatedRoute$.next({component:$e,activatedRoute:ct})}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.kS0("name"),et.kS0("tabs"),et.rXU(o.aZ),et.rXU(et.aKT),et.rXU(St.Ix),et.rXU(et.SKi),et.rXU(St.nX),et.rXU(Ie,12))}),(0,M.A)(Ae,"\u0275dir",et.FsC({type:Ie,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Ae})();class Zt{constructor(Ae,qe,$e){(0,M.A)(this,"route",void 0),(0,M.A)(this,"childContexts",void 0),(0,M.A)(this,"parent",void 0),this.route=Ae,this.childContexts=qe,this.parent=$e}get(Ae,qe){return Ae===St.nX?this.route:Ae===St.Zp?this.childContexts:this.parent.get(Ae,qe)}}const lr=new et.nKC("");let yr=(()=>{var Ie;class Ae{constructor(){(0,M.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent($e){this.unsubscribeFromRouteData($e),this.subscribeToRouteData($e)}unsubscribeFromRouteData($e){var ct;null===(ct=this.outletDataSubscriptions.get($e))||void 0===ct||ct.unsubscribe(),this.outletDataSubscriptions.delete($e)}subscribeToRouteData($e){const{activatedRoute:ct}=$e,Ft=(0,J.z)([ct.queryParams,ct.params,ct.data]).pipe((0,V.n)(([ur,vr,Pr],on)=>(Pr={...ur,...vr,...Pr},0===on?(0,re.of)(Pr):Promise.resolve(Pr)))).subscribe(ur=>{if(!$e.isActivated||!$e.activatedComponentRef||$e.activatedRoute!==ct||null===ct.component)return void this.unsubscribeFromRouteData($e);const vr=(0,et.HJs)(ct.component);if(vr)for(const{templateName:Pr}of vr.inputs)$e.activatedComponentRef.setInput(Pr,ur[Pr]);else this.unsubscribeFromRouteData($e)});this.outletDataSubscriptions.set($e,Ft)}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)}),(0,M.A)(Ae,"\u0275prov",et.jDH({token:Ie,factory:Ie.\u0275fac})),Ae})();const wr=()=>({provide:lr,useFactory:xr,deps:[St.Ix]});function xr(Ie){return null!=Ie&&Ie.componentInputBindingEnabled?new yr:null}const Mr=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let W=(()=>{var Ie;let Ae=((0,M.A)(Ie=class{constructor($e,ct,Ft,ur,vr,Pr){(0,M.A)(this,"routerOutlet",void 0),(0,M.A)(this,"navCtrl",void 0),(0,M.A)(this,"config",void 0),(0,M.A)(this,"r",void 0),(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.routerOutlet=$e,this.navCtrl=ct,this.config=Ft,this.r=ur,this.z=vr,Pr.detach(),this.el=this.r.nativeElement}onClick($e){var ct;const Ft=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ct=this.routerOutlet)&&void 0!==ct&&ct.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),$e.preventDefault()):null!=Ft&&(this.navCtrl.navigateBack(Ft,{animation:this.routerAnimation}),$e.preventDefault())}},"\u0275fac",function($e){return new($e||Ie)(et.rXU(tr,8),et.rXU(nt),et.rXU(Ye),et.rXU(et.aKT),et.rXU(et.SKi),et.rXU(et.gRc))}),(0,M.A)(Ie,"\u0275dir",et.FsC({type:Ie,hostBindings:function($e,ct){1&$e&&et.bIt("click",function(ur){return ct.onClick(ur)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Ie);return Ae=(0,$.Cg)([Ve({inputs:Mr})],Ae),Ae})(),pe=(()=>{var Ie;class Ae{constructor($e,ct,Ft,ur,vr){(0,M.A)(this,"locationStrategy",void 0),(0,M.A)(this,"navCtrl",void 0),(0,M.A)(this,"elementRef",void 0),(0,M.A)(this,"router",void 0),(0,M.A)(this,"routerLink",void 0),(0,M.A)(this,"routerDirection","forward"),(0,M.A)(this,"routerAnimation",void 0),this.locationStrategy=$e,this.navCtrl=ct,this.elementRef=Ft,this.router=ur,this.routerLink=vr}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const ct=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ct}}onClick($e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),$e.preventDefault()}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.rXU(o.hb),et.rXU(nt),et.rXU(et.aKT),et.rXU(St.Ix),et.rXU(St.Wk,8))}),(0,M.A)(Ae,"\u0275dir",et.FsC({type:Ie,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function($e,ct){1&$e&&et.bIt("click",function(ur){return ct.onClick(ur)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[et.OA$]})),Ae})(),Pe=(()=>{var Ie;class Ae{constructor($e,ct,Ft,ur,vr){(0,M.A)(this,"locationStrategy",void 0),(0,M.A)(this,"navCtrl",void 0),(0,M.A)(this,"elementRef",void 0),(0,M.A)(this,"router",void 0),(0,M.A)(this,"routerLink",void 0),(0,M.A)(this,"routerDirection","forward"),(0,M.A)(this,"routerAnimation",void 0),this.locationStrategy=$e,this.navCtrl=ct,this.elementRef=Ft,this.router=ur,this.routerLink=vr}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const ct=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ct}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.rXU(o.hb),et.rXU(nt),et.rXU(et.aKT),et.rXU(St.Ix),et.rXU(St.Wk,8))}),(0,M.A)(Ae,"\u0275dir",et.FsC({type:Ie,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function($e,ct){1&$e&&et.bIt("click",function(){return ct.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[et.OA$]})),Ae})();const b=["animated","animation","root","rootParams","swipeGesture"],A=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let R=(()=>{var Ie;let Ae=((0,M.A)(Ie=class{constructor($e,ct,Ft,ur,vr,Pr){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=vr,Pr.detach(),this.el=$e.nativeElement,$e.nativeElement.delegate=ur.create(ct,Ft),$t(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function($e){return new($e||Ie)(et.rXU(et.aKT),et.rXU(et.uvJ),et.rXU(et.zZn),et.rXU(kt),et.rXU(et.SKi),et.rXU(et.gRc))}),(0,M.A)(Ie,"\u0275dir",et.FsC({type:Ie,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Ie);return Ae=(0,$.Cg)([Ve({inputs:b,methods:A})],Ae),Ae})(),C=(()=>{var Ie;class Ae{constructor($e){(0,M.A)(this,"navCtrl",void 0),(0,M.A)(this,"tabsInner",void 0),(0,M.A)(this,"ionTabsWillChange",new et.bkB),(0,M.A)(this,"ionTabsDidChange",new et.bkB),(0,M.A)(this,"tabBarSlot","bottom"),this.navCtrl=$e}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:$e,tabSwitch:ct}){const Ft=$e.stackId;ct&&void 0!==Ft&&this.ionTabsWillChange.emit({tab:Ft})}onStackDidChange({enteringView:$e,tabSwitch:ct}){const Ft=$e.stackId;ct&&void 0!==Ft&&(this.tabBar&&(this.tabBar.selectedTab=Ft),this.ionTabsDidChange.emit({tab:Ft}))}select($e){const ct="string"==typeof $e,Ft=ct?$e:$e.detail.tab,ur=this.outlet.getActiveStackId()===Ft,vr=`${this.outlet.tabsPrefix}/${Ft}`;if(ct||$e.stopPropagation(),ur){const Pr=this.outlet.getActiveStackId(),on=this.outlet.getLastRouteView(Pr);if((null==on?void 0:on.url)===vr)return;const nn=this.outlet.getRootView(Ft);return this.navCtrl.navigateRoot(vr,{...nn&&vr===nn.url&&nn.savedExtras,animated:!0,animationDirection:"back"})}{const Pr=this.outlet.getLastRouteView(Ft);return this.navCtrl.navigateRoot((null==Pr?void 0:Pr.url)||vr,{...null==Pr?void 0:Pr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach($e=>{const ct=$e.el.getAttribute("slot");ct!==this.tabBarSlot&&(this.tabBarSlot=ct,this.relocateTabBar())})}relocateTabBar(){const $e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before($e):this.tabsInner.nativeElement.after($e)}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.rXU(nt))}),(0,M.A)(Ae,"\u0275dir",et.FsC({type:Ie,selectors:[["ion-tabs"]],viewQuery:function($e,ct){if(1&$e&&et.GBs(oe,7,et.aKT),2&$e){let Ft;et.mGM(Ft=et.lsd())&&(ct.tabsInner=Ft.first)}},hostBindings:function($e,ct){1&$e&&et.bIt("ionTabButtonClick",function(ur){return ct.select(ur)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Ae})();const Y=Ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ie):setTimeout(Ie);let U=(()=>{var Ie;class Ae{constructor($e,ct){(0,M.A)(this,"injector",void 0),(0,M.A)(this,"elementRef",void 0),(0,M.A)(this,"onChange",()=>{}),(0,M.A)(this,"onTouched",()=>{}),(0,M.A)(this,"lastValue",void 0),(0,M.A)(this,"statusChanges",void 0),this.injector=$e,this.elementRef=ct}writeValue($e){this.elementRef.nativeElement.value=this.lastValue=$e,te(this.elementRef)}handleValueChange($e,ct){$e===this.elementRef.nativeElement&&(ct!==this.lastValue&&(this.lastValue=ct,this.onChange(ct)),te(this.elementRef))}_handleBlurEvent($e){$e===this.elementRef.nativeElement&&(this.onTouched(),te(this.elementRef))}registerOnChange($e){this.onChange=$e}registerOnTouched($e){this.onTouched=$e}setDisabledState($e){this.elementRef.nativeElement.disabled=$e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let $e;try{$e=this.injector.get(j.vO)}catch{}if(!$e)return;$e.statusChanges&&(this.statusChanges=$e.statusChanges.subscribe(()=>te(this.elementRef)));const ct=$e.control;ct&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ur=>{if(typeof ct[ur]<"u"){const vr=ct[ur].bind(ct);ct[ur]=(...Pr)=>{vr(...Pr),te(this.elementRef)}}})}}return Ie=Ae,(0,M.A)(Ae,"\u0275fac",function($e){return new($e||Ie)(et.rXU(et.zZn),et.rXU(et.aKT))}),(0,M.A)(Ae,"\u0275dir",et.FsC({type:Ie,hostBindings:function($e,ct){1&$e&&et.bIt("ionBlur",function(ur){return ct._handleBlurEvent(ur.target)})}})),Ae})();const te=Ie=>{Y(()=>{const Ae=Ie.nativeElement,qe=null!=Ae.value&&Ae.value.toString().length>0,$e=Oe(Ae);Te(Ae,$e);const ct=Ae.closest("ion-item");ct&&Te(ct,qe?[...$e,"item-has-value"]:$e)})},Oe=Ie=>{const Ae=Ie.classList,qe=[];for(let $e=0;$e<Ae.length;$e++){const ct=Ae.item($e);null!==ct&&Je(ct,"ng-")&&qe.push(`ion-${ct.substring(3)}`)}return qe},Te=(Ie,Ae)=>{const qe=Ie.classList;qe.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),qe.add(...Ae)},Je=(Ie,Ae)=>Ie.substring(0,Ae.length)===Ae;class gt{shouldDetach(Ae){return!1}shouldAttach(Ae){return!1}store(Ae,qe){}retrieve(Ae){return null}shouldReuseRoute(Ae,qe){if(Ae.routeConfig!==qe.routeConfig)return!1;const $e=Ae.params,ct=qe.params,Ft=Object.keys($e),ur=Object.keys(ct);if(Ft.length!==ur.length)return!1;for(const vr of Ft)if(ct[vr]!==$e[vr])return!1;return!0}}class Wt{constructor(Ae){(0,M.A)(this,"ctrl",void 0),this.ctrl=Ae}create(Ae){return this.ctrl.create(Ae||{})}dismiss(Ae,qe,$e){return this.ctrl.dismiss(Ae,qe,$e)}getTop(){return this.ctrl.getTop()}}},5374:(Dr,rr,_e)=>{"use strict";_e.d(rr,{hG:()=>Gn,Hx:()=>bn,hB:()=>T,xk:()=>J,YH:()=>re,Zy:()=>Q,U1:()=>V,mC:()=>H,el:()=>Ft,Jm:()=>j,QW:()=>oe,b_:()=>me,I9:()=>Se,ME:()=>Le,HW:()=>Xe,tN:()=>lt,eY:()=>He,ZB:()=>nt,hU:()=>at,W9:()=>Be,A9:()=>st,M0:()=>kt,lO:()=>ir,eU:()=>zt,iq:()=>hr,$w:()=>fr,uz:()=>ar,Dg:()=>$t,he:()=>Ot,nf:()=>qt,AF:()=>nr,T6:()=>yn,Sb:()=>on,CF:()=>nn,KO:()=>xt,f0:()=>tr,Ob:()=>Zt,Rg:()=>$e,ln:()=>W,Nm:()=>A,Ip:()=>R,Jq:()=>te,qW:()=>Oe,p4:()=>ct,BC:()=>Wt,BY:()=>Ae,ai:()=>qe,bv:()=>vs,Xi:()=>eo,W3:()=>Ro,su:()=>z,Je:()=>G,Gw:()=>N});var I=_e(9842),M=_e(3953),et=_e(4341),St=_e(3656),o=_e(1635),ie=_e(3726),B=_e(177),v=_e(9858),_=_e(617),m=_e(467),S=_e(8393);const i=_e(4921).i,l=function(){var ye=(0,m.A)(function*(ze,ht){if(!(typeof window>"u"))return yield i(),(0,S.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),ht)});return function(ht,Ee){return ye.apply(this,arguments)}}(),a=["*"],u=["outletContent"],d=["outlet"],h=[[["","slot","top"]],"*"],g=["[slot=top]","*"];function p(ye,ze){if(1&ye&&(M.j41(0,"div",1),M.eu8(1,2),M.k0s()),2&ye){const ht=M.XpG();M.R7$(),M.Y8G("ngTemplateOutlet",ht.template)}}function y(ye,ze){if(1&ye&&M.eu8(0,1),2&ye){const ht=M.XpG();M.Y8G("ngTemplateOutlet",ht.template)}}let T=(()=>{var ye;class ze extends St.fL{constructor(Ee,mt){super(Ee,mt)}writeValue(Ee){this.elementRef.nativeElement.checked=this.lastValue=Ee,(0,St.z3)(this.elementRef)}_handleIonChange(Ee){this.handleValueChange(Ee,Ee.checked)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.zZn),M.rXU(M.aKT))}),(0,I.A)(ze,"\u0275dir",M.FsC({type:ye,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Ee,mt){1&Ee&&M.bIt("ionChange",function(hn){return mt._handleIonChange(hn.target)})},features:[M.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),M.Vt3]})),ze})(),z=(()=>{var ye;class ze extends St.fL{constructor(Ee,mt){super(Ee,mt),(0,I.A)(this,"el",void 0),this.el=mt}handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}registerOnChange(Ee){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?mt=>{Ee(""===mt?null:parseFloat(mt))}:Ee)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.zZn),M.rXU(M.aKT))}),(0,I.A)(ze,"\u0275dir",M.FsC({type:ye,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Ee,mt){1&Ee&&M.bIt("ionInput",function(hn){return mt.handleInputEvent(hn.target)})},features:[M.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),M.Vt3]})),ze})(),G=(()=>{var ye;class ze extends St.fL{constructor(Ee,mt){super(Ee,mt)}_handleChangeEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.zZn),M.rXU(M.aKT))}),(0,I.A)(ze,"\u0275dir",M.FsC({type:ye,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Ee,mt){1&Ee&&M.bIt("ionChange",function(hn){return mt._handleChangeEvent(hn.target)})},features:[M.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),M.Vt3]})),ze})(),N=(()=>{var ye;class ze extends St.fL{constructor(Ee,mt){super(Ee,mt)}_handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.zZn),M.rXU(M.aKT))}),(0,I.A)(ze,"\u0275dir",M.FsC({type:ye,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Ee,mt){1&Ee&&M.bIt("ionInput",function(hn){return mt._handleInputEvent(hn.target)})},features:[M.Jv_([{provide:et.kq,useExisting:ye,multi:!0}]),M.Vt3]})),ze})();const k=(ye,ze)=>{const ht=ye.prototype;ze.forEach(Ee=>{Object.defineProperty(ht,Ee,{get(){return this.el[Ee]},set(mt){this.z.runOutsideAngular(()=>this.el[Ee]=mt)},configurable:!0})})},X=(ye,ze)=>{const ht=ye.prototype;ze.forEach(Ee=>{ht[Ee]=function(){const mt=arguments;return this.z.runOutsideAngular(()=>this.el[Ee].apply(this.el,mt))}})},D=(ye,ze,ht)=>{ht.forEach(Ee=>ye[Ee]=(0,ie.R)(ze,Ee))};function P(ye){return function(ht){const{defineCustomElementFn:Ee,inputs:mt,methods:Qt}=ye;return void 0!==Ee&&Ee(),mt&&k(ht,mt),Qt&&X(ht,Qt),ht}}let J=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],ze),ze})(),re=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],ze),ze})(),Q=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],ze),ze})(),V=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({})],ze),ze})(),H=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({})],ze),ze})(),j=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],ze),ze})(),oe=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["collapse"]})],ze),ze})(),me=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],ze),ze})(),Se=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["mode"]})],ze),ze})(),Le=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode","translucent"]})],ze),ze})(),Xe=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode"]})],ze),ze})(),lt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode"]})],ze),ze})(),He=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],ze),ze})(),nt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","disabled","mode","outline"]})],ze),ze})(),at=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],ze),ze})(),Be=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],ze),ze})(),st=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],ze),ze})(),kt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["collapse","mode","translucent"]})],ze),ze})(),ir=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["fixed"]})],ze),ze})(),zt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["collapse","mode","translucent"]})],ze),ze})(),hr=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],ze),ze})(),fr=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],ze),ze})(),ar=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],ze),ze})(),$t=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode","sticky"]})],ze),ze})(),Ot=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode","position"]})],ze),ze})(),qt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],ze),ze})(),nr=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","lines","mode"]})],ze),ze})(),xt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],ze),ze})(),tr=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["allowEmptySelection","compareWith","name","value"]})],ze),ze})(),Zt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],ze),ze})(),W=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({})],ze),ze})(),A=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],ze),ze})(),R=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["disabled","value"]})],ze),ze})(),te=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode","selectedTab","translucent"]})],ze),ze})(),Oe=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],ze),ze})(),Wt=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","size"]})],ze),ze})(),Ae=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement,D(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],ze),ze})(),qe=(()=>{var ye;let ze=((0,I.A)(ye=class{constructor(Ee,mt,Qt){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=Qt,Ee.detach(),this.el=mt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.SKi))}),(0,I.A)(ye,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ye);return ze=(0,o.Cg)([P({inputs:["color","mode"]})],ze),ze})(),$e=(()=>{var ye;class ze extends St.Rg{constructor(Ee,mt,Qt,hn,Fn,mo,ts,Yo){super(Ee,mt,Qt,hn,Fn,mo,ts,Yo),(0,I.A)(this,"parentOutlet",void 0),(0,I.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)(M.kS0("name"),M.kS0("tabs"),M.rXU(B.aZ),M.rXU(M.aKT),M.rXU(v.Ix),M.rXU(M.SKi),M.rXU(v.nX),M.rXU(ye,12))}),(0,I.A)(ze,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-router-outlet"]],viewQuery:function(Ee,mt){if(1&Ee&&M.GBs(u,7,M.c1b),2&Ee){let Qt;M.mGM(Qt=M.lsd())&&(mt.outletContent=Qt.first)}},features:[M.Vt3],ngContentSelectors:a,decls:3,vars:0,consts:[["outletContent",""]],template:function(Ee,mt){1&Ee&&(M.NAR(),M.qex(0,null,0),M.SdG(2),M.bVm())},encapsulation:2})),ze})(),ct=(()=>{var ye;class ze extends St.p4{constructor(...Ee){super(...Ee),(0,I.A)(this,"outlet",void 0),(0,I.A)(this,"tabBar",void 0),(0,I.A)(this,"tabBars",void 0)}}return ye=ze,(0,I.A)(ze,"\u0275fac",(()=>{let ht;return function(mt){return(ht||(ht=M.xGo(ye)))(mt||ye)}})()),(0,I.A)(ze,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-tabs"]],contentQueries:function(Ee,mt,Qt){if(1&Ee&&(M.wni(Qt,te,5),M.wni(Qt,te,4)),2&Ee){let hn;M.mGM(hn=M.lsd())&&(mt.tabBar=hn.first),M.mGM(hn=M.lsd())&&(mt.tabBars=hn)}},viewQuery:function(Ee,mt){if(1&Ee&&M.GBs(d,5,$e),2&Ee){let Qt;M.mGM(Qt=M.lsd())&&(mt.outlet=Qt.first)}},features:[M.Vt3],ngContentSelectors:g,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Ee,mt){if(1&Ee){const Qt=M.RV6();M.NAR(h),M.SdG(0),M.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),M.bIt("stackWillChange",function(Fn){return M.eBV(Qt),M.Njj(mt.onStackWillChange(Fn))})("stackDidChange",function(Fn){return M.eBV(Qt),M.Njj(mt.onStackDidChange(Fn))}),M.k0s()(),M.SdG(5,1)}},dependencies:[$e],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),ze})(),Ft=(()=>{var ye;class ze extends St.el{constructor(Ee,mt,Qt,hn,Fn,mo){super(Ee,mt,Qt,hn,Fn,mo)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)(M.rXU($e,8),M.rXU(St.q9),M.rXU(St.TS),M.rXU(M.aKT),M.rXU(M.SKi),M.rXU(M.gRc))}),(0,I.A)(ze,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-back-button"]],features:[M.Vt3],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,mt){1&Ee&&(M.NAR(),M.SdG(0))},encapsulation:2,changeDetection:0})),ze})(),on=(()=>{var ye;class ze extends St.Sb{}return ye=ze,(0,I.A)(ze,"\u0275fac",(()=>{let ht;return function(mt){return(ht||(ht=M.xGo(ye)))(mt||ye)}})()),(0,I.A)(ze,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-modal"]],features:[M.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Ee,mt){1&Ee&&M.DNE(0,p,2,1,"div",0),2&Ee&&M.Y8G("ngIf",mt.isCmpOpen||mt.keepContentsMounted)},dependencies:[B.bT,B.T3],encapsulation:2,changeDetection:0})),ze})(),nn=(()=>{var ye;class ze extends St.CF{}return ye=ze,(0,I.A)(ze,"\u0275fac",(()=>{let ht;return function(mt){return(ht||(ht=M.xGo(ye)))(mt||ye)}})()),(0,I.A)(ze,"\u0275cmp",M.VBU({type:ye,selectors:[["ion-popover"]],features:[M.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Ee,mt){1&Ee&&M.DNE(0,y,1,1,"ng-container",0),2&Ee&&M.Y8G("ngIf",mt.isCmpOpen||mt.keepContentsMounted)},dependencies:[B.bT,B.T3],encapsulation:2,changeDetection:0})),ze})();const Nn={provide:et.cz,useExisting:(0,M.Rfq)(()=>Dn),multi:!0};let Dn=(()=>{var ye;class ze extends et.zX{}return ye=ze,(0,I.A)(ze,"\u0275fac",(()=>{let ht;return function(mt){return(ht||(ht=M.xGo(ye)))(mt||ye)}})()),(0,I.A)(ze,"\u0275dir",M.FsC({type:ye,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ee,mt){2&Ee&&M.BMQ("max",mt._enabled?mt.max:null)},features:[M.Jv_([Nn]),M.Vt3]})),ze})();const Kr={provide:et.cz,useExisting:(0,M.Rfq)(()=>yn),multi:!0};let yn=(()=>{var ye;class ze extends et.VZ{}return ye=ze,(0,I.A)(ze,"\u0275fac",(()=>{let ht;return function(mt){return(ht||(ht=M.xGo(ye)))(mt||ye)}})()),(0,I.A)(ze,"\u0275dir",M.FsC({type:ye,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,mt){2&Ee&&M.BMQ("min",mt._enabled?mt.min:null)},features:[M.Jv_([Kr]),M.Vt3]})),ze})(),Gn=(()=>{var ye;class ze extends St.Kb{constructor(){super(_.TN)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,I.A)(ze,"\u0275prov",M.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),ze})(),bn=(()=>{var ye;class ze{create(Ee){return(0,_.JI)(Ee)}easingTime(Ee,mt,Qt,hn,Fn){return(0,_.sE)(Ee,mt,Qt,hn,Fn)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,I.A)(ze,"\u0275prov",M.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),ze})(),eo=(()=>{var ye;class ze extends St.Kb{constructor(){super(_.FJ)}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,I.A)(ze,"\u0275prov",M.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),ze})(),Ro=(()=>{var ye;class ze extends St.Kb{constructor(){super(_.OZ),(0,I.A)(this,"angularDelegate",(0,M.WQX)(St.Yq)),(0,I.A)(this,"injector",(0,M.WQX)(M.zZn)),(0,I.A)(this,"environmentInjector",(0,M.WQX)(M.uvJ))}create(Ee){return super.create({...Ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,I.A)(ze,"\u0275prov",M.jDH({token:ye,factory:ye.\u0275fac})),ze})();class $o extends St.Kb{constructor(){super(_.mF),(0,I.A)(this,"angularDelegate",(0,M.WQX)(St.Yq)),(0,I.A)(this,"injector",(0,M.WQX)(M.zZn)),(0,I.A)(this,"environmentInjector",(0,M.WQX)(M.uvJ))}create(ze){return super.create({...ze,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(ye,ze,ht)=>()=>{const Ee=ze.defaultView;if(Ee&&typeof window<"u"){(0,_.QX)({...ye,_zoneGate:Qt=>ht.run(Qt)});const mt="__zone_symbol__addEventListener"in ze.body?"__zone_symbol__addEventListener":"addEventListener";return function f(){var ye=[];if(typeof window<"u"){var ze=window;(!ze.customElements||ze.Element&&(!ze.Element.prototype.closest||!ze.Element.prototype.matches||!ze.Element.prototype.remove||!ze.Element.prototype.getRootNode))&&ye.push(_e.e(7278).then(_e.t.bind(_e,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ze.NodeList&&!ze.NodeList.prototype.forEach||!ze.fetch||!function(){try{var Ee=new URL("b","http://a");return Ee.pathname="c%20d","http://a/c%20d"===Ee.href&&Ee.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&ye.push(_e.e(9329).then(_e.t.bind(_e,7783,23)))}return Promise.all(ye)}().then(()=>l(Ee,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:St.er,jmp:Qt=>ht.runOutsideAngular(Qt),ael(Qt,hn,Fn,mo){Qt[mt](hn,Fn,mo)},rel(Qt,hn,Fn,mo){Qt.removeEventListener(hn,Fn,mo)}}))}};let vs=(()=>{var ye;class ze{static forRoot(Ee={}){return{ngModule:ze,providers:[{provide:St.sR,useValue:Ee},{provide:M.hnV,useFactory:Vo,multi:!0,deps:[St.sR,B.qQ,M.SKi]},St.Yq,(0,St.YV)()]}}}return ye=ze,(0,I.A)(ze,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,I.A)(ze,"\u0275mod",M.$C({type:ye})),(0,I.A)(ze,"\u0275inj",M.G2t({providers:[Ro,$o],imports:[B.MD]})),ze})()},467:(Dr,rr,_e)=>{"use strict";function I(et,St,o,ie,B,v,_){try{var f=et[v](_),m=f.value}catch(S){return void o(S)}f.done?St(m):Promise.resolve(m).then(ie,B)}function M(et){return function(){var St=this,o=arguments;return new Promise(function(ie,B){var v=et.apply(St,o);function _(m){I(v,ie,B,_,f,"next",m)}function f(m){I(v,ie,B,_,f,"throw",m)}_(void 0)})}}_e.d(rr,{A:()=>M})},9842:(Dr,rr,_e)=>{"use strict";function I(o){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(o)}function St(o,ie,B){return(ie=function et(o){var ie=function M(o,ie){if("object"!=I(o)||!o)return o;var B=o[Symbol.toPrimitive];if(void 0!==B){var v=B.call(o,ie||"default");if("object"!=I(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ie?String:Number)(o)}(o,"string");return"symbol"==I(ie)?ie:ie+""}(ie))in o?Object.defineProperty(o,ie,{value:B,enumerable:!0,configurable:!0,writable:!0}):o[ie]=B,o}_e.d(rr,{A:()=>St})},1635:(Dr,rr,_e)=>{"use strict";function o(V,H,Z,le){var j,xe=arguments.length,q=xe<3?H:null===le?le=Object.getOwnPropertyDescriptor(H,Z):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(V,H,Z,le);else for(var oe=V.length-1;oe>=0;oe--)(j=V[oe])&&(q=(xe<3?j(q):xe>3?j(H,Z,q):j(H,Z))||q);return xe>3&&q&&Object.defineProperty(H,Z,q),q}function S(V,H,Z,le){return new(Z||(Z=Promise))(function(q,j){function oe(Le){try{Se(le.next(Le))}catch(Xe){j(Xe)}}function me(Le){try{Se(le.throw(Le))}catch(Xe){j(Xe)}}function Se(Le){Le.done?q(Le.value):function xe(q){return q instanceof Z?q:new Z(function(j){j(q)})}(Le.value).then(oe,me)}Se((le=le.apply(V,H||[])).next())})}function p(V){return this instanceof p?(this.v=V,this):new p(V)}function y(V,H,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,le=Z.apply(V,H||[]),q=[];return xe={},oe("next"),oe("throw"),oe("return",function j(He){return function(nt){return Promise.resolve(nt).then(He,Xe)}}),xe[Symbol.asyncIterator]=function(){return this},xe;function oe(He,nt){le[He]&&(xe[He]=function(at){return new Promise(function(Be,st){q.push([He,at,Be,st])>1||me(He,at)})},nt&&(xe[He]=nt(xe[He])))}function me(He,nt){try{!function Se(He){He.value instanceof p?Promise.resolve(He.value.v).then(Le,Xe):lt(q[0][2],He)}(le[He](nt))}catch(at){lt(q[0][3],at)}}function Le(He){me("next",He)}function Xe(He){me("throw",He)}function lt(He,nt){He(nt),q.shift(),q.length&&me(q[0][0],q[0][1])}}function z(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,H=V[Symbol.asyncIterator];return H?H.call(V):(V=function a(V){var H="function"==typeof Symbol&&Symbol.iterator,Z=H&&V[H],le=0;if(Z)return Z.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&le>=V.length&&(V=void 0),{value:V&&V[le++],done:!V}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),Z={},le("next"),le("throw"),le("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function le(q){Z[q]=V[q]&&function(j){return new Promise(function(oe,me){!function xe(q,j,oe,me){Promise.resolve(me).then(function(Se){q({value:Se,done:oe})},j)}(oe,me,(j=V[q](j)).done,j.value)})}}}_e.d(rr,{AQ:()=>y,Cg:()=>o,N3:()=>p,sH:()=>S,xN:()=>z}),"function"==typeof SuppressedError&&SuppressedError}},Dr=>{Dr(Dr.s=3419)}]);