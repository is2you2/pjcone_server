"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3267],{3267:(V,G,c)=>{c.r(G),c.d(G,{GroupDetailPageModule:()=>N});var v=c(177),m=c(4341),f=c(5374),_=c(9858),g=c(467),b=c(4237),y=c(8326),e=c(3953),R=c(8065),O=c(755),D=c(4234),$=c(7100),x=c(9900),P=c(3656),C=c(3307);function I(o,u){if(1&o){const s=e.RV6();e.j41(0,"img",22),e.bIt("click",function(){e.eBV(s);const i=e.XpG(2);return e.Njj(i.copy_startup_address(i.QuickQRAsString))})("contextmenu",function(){e.eBV(s);const i=e.XpG(2);return e.Njj(i.copy_startup_address(i.QRAddressAsString))}),e.k0s()}if(2&o){const s=e.XpG(2);e.Y8G("src",s.QRCodeSRC,e.B4B)}}function j(o,u){if(1&o&&(e.j41(0,"div"),e.DNE(1,I,1,1,"img",21),e.k0s()),2&o){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.QRCodeSRC)}}function F(o,u){if(1&o&&(e.j41(0,"ion-item",23)(1,"ion-label",24),e.EFF(2),e.k0s()()),2&o){const s=e.XpG();e.R7$(2),e.JRh(s.lang.text.GroupDetail.NotAcceptYet)}}function A(o,u){if(1&o&&(e.j41(0,"ion-item",23)(1,"ion-label",24),e.EFF(2),e.k0s()()),2&o){const s=e.XpG();e.R7$(2),e.JRh(s.lang.text.GroupDetail.MissedGroup)}}function T(o,u){if(1&o){const s=e.RV6();e.j41(0,"ion-item",25),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.copy_id())}),e.j41(1,"ion-label",26),e.EFF(2),e.k0s()()}if(2&o){const s=e.XpG();e.R7$(2),e.JRh(s.info.id)}}function M(o,u){if(1&o){const s=e.RV6();e.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),e.EFF(3),e.k0s()(),e.j41(4,"ion-item",27)(5,"ion-input",28),e.mxI("ngModelChange",function(i){e.eBV(s);const n=e.XpG();return e.DH7(n.info.name,i)||(n.info.name=i),e.Njj(i)}),e.k0s()()()}if(2&o){const s=e.XpG();e.R7$(3),e.JRh(s.lang.text.AddGroup.GroupInfo),e.R7$(2),e.Y8G("label",s.lang.text.AddGroup.DisplayName),e.R50("ngModel",s.info.name),e.Y8G("placeholder",s.lang.text.AddGroup.DisplayName_placeholder)}}function S(o,u){if(1&o){const s=e.RV6();e.j41(0,"ion-item-divider",29),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.updateMemberMaximum())}),e.j41(1,"ion-label"),e.EFF(2),e.k0s()()}if(2&o){const s=e.XpG();e.R7$(2),e.SpI("",s.lang.text.GroupDetail.Members+" ("+s.info.users.length+"/"+s.info.max_count+")"," ")}}function X(o,u){if(1&o){const s=e.RV6();e.j41(0,"ion-item",30),e.bIt("click",function(){const i=e.eBV(s).$implicit,n=e.XpG();return e.Njj(n.open_user_profile(i))}),e.nrm(1,"div",8),e.j41(2,"div",9),e.nrm(3,"img",10),e.k0s(),e.j41(4,"ion-label",11),e.EFF(5),e.k0s()()}if(2&o){const s=u.$implicit,t=e.XpG();e.R7$(),e.Aen("background-color: "+t.statusBar.colors[3==s.state?"pending":s.user.online?"online":"offline"]),e.R7$(2),e.Aen("filter: "+(s.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),e.Y8G("src",s.user.img,e.B4B),e.R7$(2),e.JRh(t.nakama.usernameOverride[t.isOfficial][t.target][s.user.id]||s.user.display_name||t.lang.text.Profile.noname_user)}}function B(o,u){if(1&o){const s=e.RV6();e.j41(0,"ion-item",30),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.remove_group())}),e.j41(1,"ion-label",31),e.EFF(2),e.k0s()()}if(2&o){const s=e.XpG();e.R7$(2),e.JRh(s.lang.text.GroupDetail.BreakupGroup)}}function U(o,u){if(1&o){const s=e.RV6();e.j41(0,"ion-item",30),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.leave_group())}),e.j41(1,"ion-label",31),e.EFF(2),e.k0s()()}if(2&o){const s=e.XpG();e.R7$(2),e.JRh(s.lang.text.GroupDetail.LeaveGroup)}}const w=[{path:"",component:(()=>{var o;class u{constructor(t,i,n,a,r,l,h,p,d,k,Y){this.nakama=t,this.statusBar=i,this.indexed=n,this.lang=a,this.global=r,this.p5toast=l,this.route=h,this.router=p,this.navCtrl=d,this.alertCtrl=k,this.p5loading=Y,this.has_superadmin=!1,this.showGroupId=!1,this.file_sel_id="",this.need_edit=!1,this.lock_modal_open=!1}ngOnDestroy(){var t,i;this.global.RestoreShortCutAct("group-detail"),this.p5canvas&&this.p5canvas.remove(),delete this.nakama.socket_reactive.group_detail,this.route.queryParams.unsubscribe(),null===(t=(i=this.global.PageDismissAct).group_detail)||void 0===t||t.call(i)}ngOnInit(){this.global.StoreShortCutAct("group-detail"),this.route.queryParams.subscribe(t=>{try{const i=this.router.getCurrentNavigation().extras.state;if(!i)return;this.info=i.info,this.file_sel_id=`group_detail_${this.info.id}_${(new Date).getTime()}}`,this.info_orig=JSON.parse(JSON.stringify(i.info)),this.nakama.socket_reactive.group_detail=this,this.info.server||(this.info.server=i.server),this.isOfficial=this.info.server.isOfficial,this.target=this.info.server.target,this.nakama.servers[this.isOfficial][this.target].client.getAccount(this.nakama.servers[this.isOfficial][this.target].session).then(a=>{let r=JSON.parse(a.user.metadata);this.showGroupId=r.is_admin});let n=this.nakama.GenerateQRCode(this.nakama.servers[this.isOfficial][this.target].info);if(n+=`&group=${this.info.name},${this.info.id}`.replace(/ /g,"%20"),this.QRAddressAsString=n,this.QRCodeSRC=this.global.readasQRCodeFromString(this.QRAddressAsString),this.nakama.TempQRCodeGenerateWS(this.nakama.servers[this.isOfficial][this.target].info,{act:"quick_group",keys:["server_value","name","id"],server_value:{...this.nakama.servers[this.isOfficial][this.target].info},name:this.info.name,id:this.info.id}).then(a=>{this.QuickQRAsString=a,this.QRCodeSRC=this.global.readasQRCodeFromString(a.replace(/ /g,"%20"))}),this.info.users&&this.info.users.length)for(let a=0,r=this.info.users.length;a<r;a++)this.info.users[a].is_me?(this.info.users[a].user=this.nakama.users.self,this.indexed.loadTextFromUserPath("servers/self/profile.img",(l,h)=>{l&&h&&(this.nakama.users.self.img=h.replace(/"|\\|=/g,""))})):this.info.users[a].user.id?this.info.users[a].user=this.nakama.load_other_user(this.info.users[a].user.id,this.isOfficial,this.target):this.info.users.splice(a,1);try{this.has_superadmin=this.info.creator_id==this.nakama.servers[this.isOfficial][this.target].session.user_id}catch(a){console.log("check is admin failed: ",a),this.has_superadmin=!1}try{this.nakama.servers[this.isOfficial][this.target].client.readStorageObjects(this.nakama.servers[this.isOfficial][this.target].session,{object_ids:[{collection:"group_public",key:`group_${this.info.id}`,user_id:this.info.creator_id}]}).then(a=>{a.objects.length?(this.nakama.groups[this.isOfficial][this.target][this.info.id].img=a.objects[0].value.img.replace(/"|=|\\/g,""),this.indexed.saveTextFileToUserPath(a.objects[0].value.img,`servers/${this.isOfficial}/${this.target}/groups/${this.info.id}.img`)):"missing"!=this.info.status&&(delete this.nakama.groups[this.isOfficial][this.target][this.info.id].img,this.indexed.removeFileFromUserPath(`servers/${this.isOfficial}/${this.target}/groups/${this.info.id}.img`))})}catch(a){console.log(a)}}catch(i){console.log("\uadf8\ub8f9 \uc0c1\uc138 \ud398\uc774\uc9c0 \uc9c4\uc785 \uc624\ub958: ",i)}})}ionViewDidEnter(){this.CreateDrop()}CreateDrop(){var t=this;let i=document.getElementById("p5Drop_group_detail");this.p5canvas||(this.p5canvas=new y(n=>{n.setup=()=>{let a=n.createCanvas(i.clientWidth,i.clientHeight);a.parent(i),n.pixelDensity(.1),a.drop(function(){var r=(0,g.A)(function*(l){t.nakama.PromotedGroup[t.isOfficial][t.target][t.info.id]&&t.inputImageSelected({target:{files:[l.file]}})});return function(l){return r.apply(this,arguments)}}())},n.mouseMoved=a=>{a.dataTransfer?(i.style.pointerEvents="all",i.style.backgroundColor="#0008"):(i.style.pointerEvents="none",i.style.backgroundColor="transparent")}}))}update_from_notification(t){switch(t.code){case-4:case-5:this.update_GroupUsersList(t.server.isOfficial,t.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",t)}}updateMemberMaximum(){var t=this;!this.nakama.PromotedGroup[this.isOfficial][this.target][this.info.id]||"missing"==this.info.status||"offline"==this.info.status||this.alertCtrl.create({header:this.lang.text.AddGroup.MemberMaxLimit,inputs:[{type:"number",placeholder:this.info.max_count}],buttons:[{text:this.lang.text.GroupDetail.ChangeMaxCount,handler:i=>{!function(){var a=(0,g.A)(function*(){const r=`group_detail_updateMemberMaximum_${Date.now()}`;t.p5loading.update({id:r});let l=Number(i[0]);try{yield t.nakama.servers[t.isOfficial][t.target].client.rpc(t.nakama.servers[t.isOfficial][t.target].session,"update_group_info_fn",{group_id:t.info.id,max_count:l}),t.info.max_count=l,1==l?t.nakama.channels_orig[t.isOfficial][t.target][t.info.channel_id].status="online":yield t.nakama.count_channel_online_member(t.nakama.channels_orig[t.isOfficial][t.target][t.info.channel_id],t.isOfficial,t.target)}catch(h){console.log("\ucc44\ub110 \ucd5c\ub300\uc778\uc6d0 \ubcc0\uacbd \uc2e4\ud328: ",h),t.p5toast.show({text:`${t.lang.text.GroupDetail.FailedToChangeMax}: ${h.statusText||h} (${h.status})`})}t.p5loading.remove(r)});return function(){return a.apply(this,arguments)}}()()}}]}).then(i=>i.present())}update_group_open(){var t=this;return(0,g.A)(function*(){t.info.open=!t.info.open;try{yield t.nakama.servers[t.isOfficial][t.target].client.rpc(t.nakama.servers[t.isOfficial][t.target].session,"update_group_info_fn",{group_id:t.info.id,open:t.info.open})}catch(i){console.log("\uadf8\ub8f9 \uacf5\uac1c \ud1a0\uae00 \uc2e4\ud328: ",i),t.p5toast.show({text:`${t.lang.text.GroupDetail.FailedToChangeOpen}: ${i.statusText||i} (${i.status})`})}})()}update_GroupUsersList(t,i){var n=this;return(0,g.A)(function*(){let a=yield n.nakama.servers[t][i].client.listGroupUsers(n.nakama.servers[t][i].session,n.info.id),r=[];for(let l=0,h=a.group_users.length;l<h;l++)if(a.group_users[l].user.id==n.nakama.servers[t][i].session.user_id)r.push({state:a.group_users[l].state,user:n.nakama.users.self,is_me:!0});else{let p=n.nakama.load_other_user(a.group_users[l].user.id,t,i);n.nakama.save_other_user(a.group_users[l].user,t,i),r.push({state:a.group_users[l].state,user:p})}return n.info.users=r,a.group_users})()}buttonClickInputFile(){var t=this;return(0,g.A)(function*(){t.nakama.PromotedGroup[t.isOfficial][t.target][t.info.id]&&(t.info.img?t.RemoveGroupImageAct():document.getElementById(t.file_sel_id).click())})()}changeImageContextmenu(){var t=this;return function(){var n=(0,g.A)(function*(){if(t.nakama.PromotedGroup[t.isOfficial][t.target][t.info.id])try{let a=yield t.global.GetValueFromClipboard();switch(a.type){case"text/plain":yield t.check_if_clipboard_available(a.value);break;case"image/png":return void t.inputImageSelected({target:{files:[a.value]}})}}catch{document.getElementById(t.file_sel_id).click()}});return function(){return n.apply(this,arguments)}}()(),!1}RemoveGroupImageAct(){this.info.img=void 0,this.nakama.servers[this.isOfficial][this.target].client.deleteStorageObjects(this.nakama.servers[this.isOfficial][this.target].session,{object_ids:[{collection:"group_public",key:`group_${this.info.id}`}]}).then(t=>{this.indexed.removeFileFromUserPath(`servers/${this.isOfficial}/${this.target}/groups/${this.info.id}.img`),this.AnnounceGroupImageUpdatev2("remove")})}AnnounceGroupImageUpdatev2(t){var i=this;return(0,g.A)(function*(){let n=[];for(let a of i.info.users)a.is_me||n.push(a.user.id);try{yield i.nakama.servers[i.info.server.isOfficial][i.info.server.target].client.rpc(i.nakama.servers[i.info.server.isOfficial][i.info.server.target].session,"send_noti_fn",{receiver_id:n,title:"edit_gimage",content:{type:t,id:i.info.id,creator_id:i.info.creator_id},code:b.I.GROUP_IMAGE_CHANGED,persistent:!1})}catch(a){console.log("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ubcc0\uacbd\ub428 \uc804\ud30c \uc624\ub958: ",a)}})()}inputImageSelected(t){var i=this;return(0,g.A)(function*(){let n=yield i.global.GetBase64ThroughFileReader(t.target.files[0]);i.nakama.limit_image_size(n,r=>{i.info.img=r.canvas.toDataURL(),i.announce_update_group_image(i.info.img)});let a=document.getElementById(i.file_sel_id);a&&(a.value="")})()}announce_update_group_image(t){var i=this;this.nakama.servers[this.isOfficial][this.target].client.writeStorageObjects(this.nakama.servers[this.isOfficial][this.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:t},permission_read:2,permission_write:1}]).then(function(){var n=(0,g.A)(function*(a){i.indexed.saveTextFileToUserPath(JSON.stringify(t),`servers/${i.isOfficial}/${i.target}/groups/${i.info.id}.img`),i.AnnounceGroupImageUpdatev2("upload")});return function(a){return n.apply(this,arguments)}}())}check_if_clipboard_available(t){var i=this;return(0,g.A)(function*(){try{if(0!=t.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((n,a)=>{let r=document.createElement("img");r.src=t,r.onload=()=>{i.info.img=t,i.announce_update_group_image(t),r.onload=null,r.onerror=null,r.remove(),n(void 0)},r.onerror=()=>{r.onload=null,r.onerror=null,r.remove(),a()}})}catch{try{if(0!=t.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";i.nakama.limit_image_size(t,a=>{i.info.img=a.canvas.toDataURL(),i.announce_update_group_image(i.info.img)})}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}remove_group(){var t=this;this.need_edit=!1;try{if(this.nakama.servers[this.isOfficial][this.target]){if(this.info.creator_id!=this.nakama.servers[this.isOfficial][this.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.isOfficial][this.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(function(){var i=(0,g.A)(function*(n){t.nakama.remove_group_list(t.info,t.isOfficial,t.target),t.after_remove_group()});return function(n){return i.apply(this,arguments)}}()):this.after_remove_group()}else this.navCtrl.pop()}catch(i){console.log("remove_group: ",i),this.p5toast.show({text:i})}}after_remove_group(){var t=this;return(0,g.A)(function*(){t.RemoveGroupFilesFromServer(`${t.info.id}`),t.leave_channel(),t.navCtrl.pop()})()}edit_group(){"online"==this.statusBar.groupServer[this.isOfficial][this.target]&&"missing"!=this.info.status&&this.nakama.PromotedGroup[this.isOfficial][this.target][this.info.id]&&this.nakama.servers[this.isOfficial][this.target].client.updateGroup(this.nakama.servers[this.isOfficial][this.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.isOfficial][this.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(t){this.lock_modal_open||(this.lock_modal_open=!0,t.is_me?(this.nakama.open_profile_page({isOfficial:this.isOfficial,target:this.target}),this.lock_modal_open=!1):(this.nakama.open_others_profile({info:t,group:this.info,has_admin:this.has_superadmin}),this.lock_modal_open=!1))}leave_group(){this.need_edit=!1,delete this.nakama.PromotedGroup[this.isOfficial][this.target][this.info.id],"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.isOfficial][this.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.navCtrl.pop())}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.isOfficial][this.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.navCtrl.pop())})}after_leave_group(t=(()=>{})){var i=this;return(0,g.A)(function*(){try{yield i.nakama.servers[i.isOfficial][i.target].client.leaveGroup(i.nakama.servers[i.isOfficial][i.target].session,i.info.id)}catch{}t(),i.RemoveGroupFilesFromServer(`${i.info.id}_${i.nakama.servers[i.isOfficial][i.target].session.user_id}`)})()}RemoveGroupFilesFromServer(t){var i=this;return(0,g.A)(function*(){yield i.nakama.remove_channel_files(i.isOfficial,i.target,i.info.channel_id);let n=i.nakama.servers[i.isOfficial][i.target].info;try{var a;let r=localStorage.getItem("fallback_fs");if(!r)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let l=r.split("://"),h=l.pop().split(":"),p=l.pop();p?p+=":":p=i.global.checkProtocolFromAddress(h[0])?"https:":"http:";const d=null===(a=h[1])||void 0===a?void 0:a.split(",");let k=`${p}//${h[0]}:${(null==d?void 0:d[1])||9002}/`;yield i.global.remove_files_from_storage_with_key(k,t,{})}catch{}try{let r=`${n.useSSL?"https":"http"}://${n.address}`;yield i.global.remove_files_from_storage_with_key(r,t,{cdn_port:n.cdn_port,apache_port:n.apache_port,user_id:i.nakama.servers[i.isOfficial][i.target].session.user_id})}catch{}})()}leave_channel(){try{"missing"!=this.nakama.channels_orig[this.isOfficial][this.target][this.info.channel_id].status&&(this.nakama.channels_orig[this.isOfficial][this.target][this.info.channel_id].status="missing")}catch{}}copy_id(){this.global.WriteValueToClipboard("text/plain",this.info.id)}copy_startup_address(t){return this.global.WriteValueToClipboard("text/plain",t),!1}ionViewWillLeave(){var t,i;this.info.name!=this.info_orig.name&&this.update_group_name(),this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group(),null===(t=this.nakama.TempWS)||void 0===t||null===(i=t.close)||void 0===i||i.call(t,1e3,"\uadf8\ub8f9 \uc0c1\uc138 \ud654\uba74 \ubc97\uc5b4\ub0a8")}update_group_name(){var t=this;return(0,g.A)(function*(){try{yield t.nakama.servers[t.isOfficial][t.target].client.rpc(t.nakama.servers[t.isOfficial][t.target].session,"update_group_info_fn",{group_id:t.info.id,name:t.info.name})}catch(i){console.log("\uadf8\ub8f9 \uacf5\uac1c \ud1a0\uae00 \uc2e4\ud328: ",i),t.info.name=t.info_orig.name,t.p5toast.show({text:`${t.lang.text.GroupDetail.FailedToChangeName}: ${i.statusText||i} (${i.status})`})}})()}}return(o=u).\u0275fac=function(t){return new(t||o)(e.rXU(b.X),e.rXU(R.j),e.rXU(O.n),e.rXU(D.y),e.rXU($.z3),e.rXU(x.G),e.rXU(_.nX),e.rXU(_.Ix),e.rXU(P.q9),e.rXU(f.hG),e.rXU(C.f))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-group-detail"]],decls:39,vars:26,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref",""],["id","p5Drop_group_detail",2,"position","absolute","width","100%","height","100%","display","flex","pointer-events","none","z-index","500"],[4,"ngIf"],["color","warning",4,"ngIf"],["style","cursor: copy;",3,"click",4,"ngIf"],["button","",3,"click","contextmenu"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],["hidden","","type","file","accept","image/*",3,"change","id"],[1,"infobox",3,"ngModelChange","disabled","ngModel","placeholder"],[3,"click","disabled"],[2,"pointer-events","none",3,"ngModelChange","ngModel"],[3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click","contextmenu",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"click","contextmenu","src"],["color","warning"],[1,"ion-text-center"],[2,"cursor","copy",3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button",""],[1,"ion-text-right",3,"ngModelChange","label","ngModel","placeholder"],[3,"click"],["button","",3,"click"],["color","danger",1,"ion-text-center"]],template:function(t,i){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",1),e.nrm(5,"ion-back-button",2),e.k0s()()(),e.j41(6,"ion-content"),e.nrm(7,"div",3),e.DNE(8,j,2,1,"div",4)(9,F,3,1,"ion-item",5)(10,A,3,1,"ion-item",5)(11,T,3,1,"ion-item",6)(12,M,6,4,"div",4),e.j41(13,"ion-item",7),e.bIt("click",function(){return i.buttonClickInputFile()})("contextmenu",function(){return i.changeImageContextmenu()}),e.nrm(14,"div",8),e.j41(15,"div",9),e.nrm(16,"img",10),e.k0s(),e.j41(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),e.EFF(22),e.k0s(),e.j41(23,"td",12),e.EFF(24),e.k0s()()()(),e.j41(25,"div",13),e.EFF(26),e.k0s()()(),e.j41(27,"input",14),e.bIt("change",function(a){return i.inputImageSelected(a)}),e.k0s(),e.j41(28,"ion-item-divider")(29,"ion-label"),e.EFF(30),e.k0s()(),e.j41(31,"textarea",15),e.mxI("ngModelChange",function(a){return e.DH7(i.info.description,a)||(i.info.description=a),a}),e.k0s(),e.j41(32,"ion-item",16),e.bIt("click",function(){return i.update_group_open()}),e.j41(33,"ion-toggle",17),e.mxI("ngModelChange",function(a){return e.DH7(i.info.open,a)||(i.info.open=a),a}),e.EFF(34),e.k0s()(),e.DNE(35,S,3,1,"ion-item-divider",18)(36,X,6,6,"ion-item",19)(37,B,3,1,"ion-item",20)(38,U,3,1,"ion-item",20),e.k0s()),2&t&&(e.R7$(3),e.JRh(i.lang.text.GroupDetail.Title),e.R7$(5),e.Y8G("ngIf","missing"!=i.info.status),e.R7$(),e.Y8G("ngIf","pending"==i.info.status),e.R7$(),e.Y8G("ngIf","missing"==i.info.status),e.R7$(),e.Y8G("ngIf",i.showGroupId),e.R7$(),e.Y8G("ngIf",i.has_superadmin),e.R7$(2),e.Aen("background-color: "+i.statusBar.colors[i.info.status||"offline"]),e.R7$(2),e.Aen("filter: "+("online"==i.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),e.Y8G("src",i.info.img,e.B4B),e.R7$(6),e.SpI(" ",i.info.name||i.info.title||i.info.display_name||i.lang.text.ChatRoom.noname_chatroom," "),e.R7$(2),e.SpI(" ","("+(i.info.server.name||i.info.server.target)+")"," "),e.R7$(2),e.SpI(" ",i.lang.text.AddGroup.ClicktoChangeGroupImg," "),e.R7$(),e.Y8G("id",i.file_sel_id),e.R7$(3),e.JRh(i.lang.text.AddGroup.GroupDetail_placeholder),e.R7$(),e.Y8G("disabled",!i.nakama.PromotedGroup[i.isOfficial][i.target][i.info.id]),e.R50("ngModel",i.info.description),e.Y8G("placeholder",i.lang.text.GroupDetail.NoDetailGroup),e.R7$(),e.Y8G("disabled",!i.nakama.PromotedGroup[i.isOfficial][i.target][i.info.id]),e.R7$(),e.R50("ngModel",i.info.open),e.R7$(),e.JRh(i.lang.text.GroupDetail.IsOpen),e.R7$(),e.Y8G("ngIf",i.info.users&&i.info.users.length),e.R7$(),e.Y8G("ngForOf",i.info.users),e.R7$(),e.Y8G("ngIf",("online"==i.info.status||"pending"==i.info.status)&&i.has_superadmin),e.R7$(),e.Y8G("ngIf",("online"==i.info.status||"pending"==i.info.status)&&!i.has_superadmin))},dependencies:[v.Sq,v.bT,m.me,m.BC,m.vS,f.QW,f.W9,f.eU,f.$w,f.uz,f.Dg,f.he,f.BC,f.BY,f.ai,f.hB,f.Gw,f.el],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}ion-input[_ngcontent-%COMP%]{--highlight-color-valid: var(--ion-color-primary)}"]}),u})()}];let E=(()=>{var o;class u{}return(o=u).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[_.iI.forChild(w),_.iI]}),u})(),N=(()=>{var o;class u{}return(o=u).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[v.MD,m.YN,f.bv,E]}),u})()}}]);